function z4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ng={exports:{}},Xc={},kg={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function H4(){if(zw)return Qe;zw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,_={};function C(z,W,fe){this.props=z,this.context=W,this.refs=_,this.updater=fe||S}C.prototype.isReactComponent={},C.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=C.prototype;function L(z,W,fe){this.props=z,this.context=W,this.refs=_,this.updater=fe||S}var V=L.prototype=new A;V.constructor=L,P(V,C.prototype),V.isPureReactComponent=!0;var B=Array.isArray,q=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function j(z,W,fe){var je,Ne={},ze=null,qe=null;if(W!=null)for(je in W.ref!==void 0&&(qe=W.ref),W.key!==void 0&&(ze=""+W.key),W)q.call(W,je)&&!R.hasOwnProperty(je)&&(Ne[je]=W[je]);var Le=arguments.length-2;if(Le===1)Ne.children=fe;else if(1<Le){for(var Ie=Array(Le),nt=0;nt<Le;nt++)Ie[nt]=arguments[nt+2];Ne.children=Ie}if(z&&z.defaultProps)for(je in Le=z.defaultProps,Le)Ne[je]===void 0&&(Ne[je]=Le[je]);return{$$typeof:t,type:z,key:ze,ref:qe,props:Ne,_owner:X.current}}function D(z,W){return{$$typeof:t,type:z.type,key:W,ref:z.ref,props:z.props,_owner:z._owner}}function E(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function O(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return W[fe]})}var U=/\/+/g;function M(z,W){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):W.toString(36)}function pe(z,W,fe,je,Ne){var ze=typeof z;(ze==="undefined"||ze==="boolean")&&(z=null);var qe=!1;if(z===null)qe=!0;else switch(ze){case"string":case"number":qe=!0;break;case"object":switch(z.$$typeof){case t:case e:qe=!0}}if(qe)return qe=z,Ne=Ne(qe),z=je===""?"."+M(qe,0):je,B(Ne)?(fe="",z!=null&&(fe=z.replace(U,"$&/")+"/"),pe(Ne,W,fe,"",function(nt){return nt})):Ne!=null&&(E(Ne)&&(Ne=D(Ne,fe+(!Ne.key||qe&&qe.key===Ne.key?"":(""+Ne.key).replace(U,"$&/")+"/")+z)),W.push(Ne)),1;if(qe=0,je=je===""?".":je+":",B(z))for(var Le=0;Le<z.length;Le++){ze=z[Le];var Ie=je+M(ze,Le);qe+=pe(ze,W,fe,Ie,Ne)}else if(Ie=x(z),typeof Ie=="function")for(z=Ie.call(z),Le=0;!(ze=z.next()).done;)ze=ze.value,Ie=je+M(ze,Le++),qe+=pe(ze,W,fe,Ie,Ne);else if(ze==="object")throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return qe}function Me(z,W,fe){if(z==null)return z;var je=[],Ne=0;return pe(z,je,"","",function(ze){return W.call(fe,ze,Ne++)}),je}function Ae(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var Se={current:null},ne={transition:null},ge={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ne,ReactCurrentOwner:X};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:Me,forEach:function(z,W,fe){Me(z,function(){W.apply(this,arguments)},fe)},count:function(z){var W=0;return Me(z,function(){W++}),W},toArray:function(z){return Me(z,function(W){return W})||[]},only:function(z){if(!E(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Qe.Component=C,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=L,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Qe.act=ue,Qe.cloneElement=function(z,W,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var je=P({},z.props),Ne=z.key,ze=z.ref,qe=z._owner;if(W!=null){if(W.ref!==void 0&&(ze=W.ref,qe=X.current),W.key!==void 0&&(Ne=""+W.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(Ie in W)q.call(W,Ie)&&!R.hasOwnProperty(Ie)&&(je[Ie]=W[Ie]===void 0&&Le!==void 0?Le[Ie]:W[Ie])}var Ie=arguments.length-2;if(Ie===1)je.children=fe;else if(1<Ie){Le=Array(Ie);for(var nt=0;nt<Ie;nt++)Le[nt]=arguments[nt+2];je.children=Le}return{$$typeof:t,type:z.type,key:Ne,ref:ze,props:je,_owner:qe}},Qe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Qe.createElement=j,Qe.createFactory=function(z){var W=j.bind(null,z);return W.type=z,W},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:d,render:z}},Qe.isValidElement=E,Qe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Ae}},Qe.memo=function(z,W){return{$$typeof:m,type:z,compare:W===void 0?null:W}},Qe.startTransition=function(z){var W=ne.transition;ne.transition={};try{z()}finally{ne.transition=W}},Qe.unstable_act=ue,Qe.useCallback=function(z,W){return Se.current.useCallback(z,W)},Qe.useContext=function(z){return Se.current.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z){return Se.current.useDeferredValue(z)},Qe.useEffect=function(z,W){return Se.current.useEffect(z,W)},Qe.useId=function(){return Se.current.useId()},Qe.useImperativeHandle=function(z,W,fe){return Se.current.useImperativeHandle(z,W,fe)},Qe.useInsertionEffect=function(z,W){return Se.current.useInsertionEffect(z,W)},Qe.useLayoutEffect=function(z,W){return Se.current.useLayoutEffect(z,W)},Qe.useMemo=function(z,W){return Se.current.useMemo(z,W)},Qe.useReducer=function(z,W,fe){return Se.current.useReducer(z,W,fe)},Qe.useRef=function(z){return Se.current.useRef(z)},Qe.useState=function(z){return Se.current.useState(z)},Qe.useSyncExternalStore=function(z,W,fe){return Se.current.useSyncExternalStore(z,W,fe)},Qe.useTransition=function(){return Se.current.useTransition()},Qe.version="18.3.1",Qe}var Hw;function Ny(){return Hw||(Hw=1,kg.exports=H4()),kg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function W4(){if(Ww)return Xc;Ww=1;var t=Ny(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,m){var g,y={},x=null,S=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:S,props:y,_owner:i.current}}return Xc.Fragment=n,Xc.jsx=l,Xc.jsxs=l,Xc}var qw;function q4(){return qw||(qw=1,Ng.exports=W4()),Ng.exports}var c=q4(),k=Ny();const Di=Cy(k),v0=z4({__proto__:null,default:Di},[k]);var Mh={},jg={exports:{}},or={},Ag={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function G4(){return Gw||(Gw=1,function(t){function e(ne,ge){var ue=ne.length;ne.push(ge);e:for(;0<ue;){var z=ue-1>>>1,W=ne[z];if(0<i(W,ge))ne[z]=ge,ne[ue]=W,ue=z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ge=ne[0],ue=ne.pop();if(ue!==ge){ne[0]=ue;e:for(var z=0,W=ne.length,fe=W>>>1;z<fe;){var je=2*(z+1)-1,Ne=ne[je],ze=je+1,qe=ne[ze];if(0>i(Ne,ue))ze<W&&0>i(qe,Ne)?(ne[z]=qe,ne[ze]=ue,z=ze):(ne[z]=Ne,ne[je]=ue,z=je);else if(ze<W&&0>i(qe,ue))ne[z]=qe,ne[ze]=ue,z=ze;else break e}}return ge}function i(ne,ge){var ue=ne.sortIndex-ge.sortIndex;return ue!==0?ue:ne.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],m=[],g=1,y=null,x=3,S=!1,P=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(ne){for(var ge=n(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=ne)r(m),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(m)}}function B(ne){if(_=!1,V(ne),!P)if(n(h)!==null)P=!0,Ae(q);else{var ge=n(m);ge!==null&&Se(B,ge.startTime-ne)}}function q(ne,ge){P=!1,_&&(_=!1,A(j),j=-1),S=!0;var ue=x;try{for(V(ge),y=n(h);y!==null&&(!(y.expirationTime>ge)||ne&&!O());){var z=y.callback;if(typeof z=="function"){y.callback=null,x=y.priorityLevel;var W=z(y.expirationTime<=ge);ge=t.unstable_now(),typeof W=="function"?y.callback=W:y===n(h)&&r(h),V(ge)}else r(h);y=n(h)}if(y!==null)var fe=!0;else{var je=n(m);je!==null&&Se(B,je.startTime-ge),fe=!1}return fe}finally{y=null,x=ue,S=!1}}var X=!1,R=null,j=-1,D=5,E=-1;function O(){return!(t.unstable_now()-E<D)}function U(){if(R!==null){var ne=t.unstable_now();E=ne;var ge=!0;try{ge=R(!0,ne)}finally{ge?M():(X=!1,R=null)}}else X=!1}var M;if(typeof L=="function")M=function(){L(U)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Me=pe.port2;pe.port1.onmessage=U,M=function(){Me.postMessage(null)}}else M=function(){C(U,0)};function Ae(ne){R=ne,X||(X=!0,M())}function Se(ne,ge){j=C(function(){ne(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,Ae(q))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ne){switch(x){case 1:case 2:case 3:var ge=3;break;default:ge=x}var ue=x;x=ge;try{return ne()}finally{x=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=x;x=ne;try{return ge()}finally{x=ue}},t.unstable_scheduleCallback=function(ne,ge,ue){var z=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?z+ue:z):ue=z,ne){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ue+W,ne={id:g++,callback:ge,priorityLevel:ne,startTime:ue,expirationTime:W,sortIndex:-1},ue>z?(ne.sortIndex=ue,e(m,ne),n(h)===null&&ne===n(m)&&(_?(A(j),j=-1):_=!0,Se(B,ue-z))):(ne.sortIndex=W,e(h,ne),P||S||(P=!0,Ae(q))),ne},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ne){var ge=x;return function(){var ue=x;x=ge;try{return ne.apply(this,arguments)}finally{x=ue}}}}(Ig)),Ig}var Kw;function K4(){return Kw||(Kw=1,Ag.exports=G4()),Ag.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function Q4(){if(Qw)return or;Qw=1;var t=Ny(),e=K4();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(s){return h.call(y,s)?!0:h.call(g,s)?!1:m.test(s)?y[s]=!0:(g[s]=!0,!1)}function S(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,p){if(o===null||typeof o>"u"||S(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(s,o,u,p,v,b,N){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=b,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new _(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,L);C[o]=new _(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,L);C[o]=new _(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,L);C[o]=new _(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,u,p){var v=C.hasOwnProperty(o)?C[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,v,p)&&(u=null),p||v===null?x(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,p=v.attributeNamespace,u===null?s.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,z;function W(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var fe=!1;function je(s,o){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){p=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),b=p.stack.split(`
`),N=v.length-1,F=b.length-1;1<=N&&0<=F&&v[N]!==b[F];)F--;for(;1<=N&&0<=F;N--,F--)if(v[N]!==b[F]){if(N!==1||F!==1)do if(N--,F--,0>F||v[N]!==b[F]){var $=`
`+v[N].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=N&&0<=F);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?W(s):""}function Ne(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=je(s.type,!1),s;case 11:return s=je(s.type.render,!1),s;case 1:return s=je(s.type,!0),s;default:return""}}function ze(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case X:return"Portal";case D:return"Profiler";case j:return"StrictMode";case M:return"Suspense";case pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Me:return o=s.displayName||null,o!==null?o:ze(s.type)||"Memo";case Ae:o=s._payload,s=s._init;try{return ze(s(o))}catch{}}return null}function qe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(o);case 8:return o===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function nt(s){var o=Ie(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){p=""+N,b.call(this,N)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Nt(s){s._valueTracker||(s._valueTracker=nt(s))}function Mt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=Ie(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function ft(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Vt(s,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function gn(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Le(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Hn(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function mt(s,o){Hn(s,o);var u=Le(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ue(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ue(s,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function de(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ue(s,o,u){(o!=="number"||ft(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ye=Array.isArray;function Bt(s,o,u,p){if(s=s.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=o.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Le(u),o=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function wt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function yn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Ye(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Le(u)}}function mr(s,o){var u=Le(o.value),p=Le(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function ae(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ce(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ce(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ee,ye=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,v){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,v)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ee=ee||document.createElement("div"),ee.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ee.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function be(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(s){ot.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ke[o]=Ke[s]})});function He(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ke.hasOwnProperty(s)&&Ke[s]?(""+o).trim():o+"px"}function Xt(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=He(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,v):s[u]=v}}var Qr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(s,o){if(o){if(Qr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Yi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yi=null,Yn=null,lt=null;function kt(s){if(s=Mc(s)){if(typeof yi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Xd(o),yi(s.stateNode,s.type,o))}}function Jn(s){Yn?lt?lt.push(s):lt=[s]:Yn=s}function vi(){if(Yn){var s=Yn,o=lt;if(lt=Yn=null,kt(s),o)for(s=0;s<o.length;s++)kt(o[s])}}function En(s,o){return s(o)}function fc(){}var Zi=!1;function pc(s,o,u){if(Zi)return s(o,u);Zi=!0;try{return En(s,o,u)}finally{Zi=!1,(Yn!==null||lt!==null)&&(fc(),vi())}}function Yt(s,o){var u=s.stateNode;if(u===null)return null;var p=Xd(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Da=!1;if(d)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Da=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Da=!1}function Oo(s,o,u,p,v,b,N,F,$){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(oe){this.onError(oe)}}var Lo=!1,Ma=null,Yr=!1,mc=null,nm={onError:function(s){Lo=!0,Ma=s}};function Va(s,o,u,p,v,b,N,F,$){Lo=!1,Ma=null,Oo.apply(nm,arguments)}function bd(s,o,u,p,v,b,N,F,$){if(Va.apply(this,arguments),Lo){if(Lo){var Y=Ma;Lo=!1,Ma=null}else throw Error(n(198));Yr||(Yr=!0,mc=Y)}}function Jr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Fo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Zr(s){if(Jr(s)!==s)throw Error(n(188))}function _d(s){var o=s.alternate;if(!o){if(o=Jr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,p=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return Zr(v),s;if(b===p)return Zr(v),o;b=b.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=b;else{for(var N=!1,F=v.child;F;){if(F===u){N=!0,u=v,p=b;break}if(F===p){N=!0,p=v,u=b;break}F=F.sibling}if(!N){for(F=b.child;F;){if(F===u){N=!0,u=b,p=v;break}if(F===p){N=!0,p=b,u=v;break}F=F.sibling}if(!N)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function gc(s){return s=_d(s),s!==null?Oa(s):null}function Oa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Oa(s);if(o!==null)return o;s=s.sibling}return null}var La=e.unstable_scheduleCallback,yc=e.unstable_cancelCallback,Ed=e.unstable_shouldYield,rm=e.unstable_requestPaint,bt=e.unstable_now,Sd=e.unstable_getCurrentPriorityLevel,Uo=e.unstable_ImmediatePriority,As=e.unstable_UserBlockingPriority,Ir=e.unstable_NormalPriority,vc=e.unstable_LowPriority,Td=e.unstable_IdlePriority,Bo=null,gr=null;function Pd(s){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Bo,s,void 0,(s.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:Nd,xc=Math.log,Cd=Math.LN2;function Nd(s){return s>>>=0,s===0?32:31-(xc(s)/Cd|0)|0}var Fa=64,Ua=4194304;function Is(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $o(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,v=s.suspendedLanes,b=s.pingedLanes,N=u&268435455;if(N!==0){var F=N&~v;F!==0?p=Is(F):(b&=N,b!==0&&(p=Is(b)))}else N=u&~v,N!==0?p=Is(N):b!==0&&(p=Is(b));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,b=o&-o,v>=b||v===16&&(b&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-Wn(o),v=1<<u,p|=s[u],o&=~v;return p}function im(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes;0<b;){var N=31-Wn(b),F=1<<N,$=v[N];$===-1?((F&u)===0||(F&p)!==0)&&(v[N]=im(F,o)):$<=o&&(s.expiredLanes|=F),b&=~F}}function yr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function zo(){var s=Fa;return Fa<<=1,(Fa&4194240)===0&&(Fa=64),s}function Rs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ds(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Wn(o),s[o]=u}function yt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-Wn(u),b=1<<v;o[v]=0,p[v]=-1,s[v]=-1,u&=~b}}function Ms(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-Wn(u),v=1<<p;v&o|s[p]&o&&(s[p]|=o),u&=~v}}var et=0;function Vs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var kd,Ba,jd,Ad,Id,wc=!1,xi=[],Sn=null,ei=null,ti=null,Os=new Map,Rr=new Map,wi=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(s,o){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Os.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(o.pointerId)}}function Zn(s,o,u,p,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Mc(o),o!==null&&Ba(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function om(s,o,u,p,v){switch(o){case"focusin":return Sn=Zn(Sn,s,o,u,p,v),!0;case"dragenter":return ei=Zn(ei,s,o,u,p,v),!0;case"mouseover":return ti=Zn(ti,s,o,u,p,v),!0;case"pointerover":var b=v.pointerId;return Os.set(b,Zn(Os.get(b)||null,s,o,u,p,v)),!0;case"gotpointercapture":return b=v.pointerId,Rr.set(b,Zn(Rr.get(b)||null,s,o,u,p,v)),!0}return!1}function Dd(s){var o=Ko(s.target);if(o!==null){var u=Jr(o);if(u!==null){if(o=u.tag,o===13){if(o=Fo(u),o!==null){s.blockedOn=o,Id(s.priority,function(){jd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ts(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=$a(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Ji=p,u.target.dispatchEvent(p),Ji=null}else return o=Mc(u),o!==null&&Ba(o),s.blockedOn=u,!1;o.shift()}return!0}function Ho(s,o,u){ts(s)&&u.delete(o)}function Md(){wc=!1,Sn!==null&&ts(Sn)&&(Sn=null),ei!==null&&ts(ei)&&(ei=null),ti!==null&&ts(ti)&&(ti=null),Os.forEach(Ho),Rr.forEach(Ho)}function ni(s,o){s.blockedOn===o&&(s.blockedOn=null,wc||(wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Md)))}function ri(s){function o(v){return ni(v,s)}if(0<xi.length){ni(xi[0],s);for(var u=1;u<xi.length;u++){var p=xi[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Sn!==null&&ni(Sn,s),ei!==null&&ni(ei,s),ti!==null&&ni(ti,s),Os.forEach(o),Rr.forEach(o),u=0;u<wi.length;u++)p=wi[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)Dd(u),u.blockedOn===null&&wi.shift()}var ns=B.ReactCurrentBatchConfig,Ls=!0;function jt(s,o,u,p){var v=et,b=ns.transition;ns.transition=null;try{et=1,bc(s,o,u,p)}finally{et=v,ns.transition=b}}function am(s,o,u,p){var v=et,b=ns.transition;ns.transition=null;try{et=4,bc(s,o,u,p)}finally{et=v,ns.transition=b}}function bc(s,o,u,p){if(Ls){var v=$a(s,o,u,p);if(v===null)vm(s,o,p,Wo,u),Rd(s,p);else if(om(v,s,o,u,p))p.stopPropagation();else if(Rd(s,p),o&4&&-1<sm.indexOf(s)){for(;v!==null;){var b=Mc(v);if(b!==null&&kd(b),b=$a(s,o,u,p),b===null&&vm(s,o,p,Wo,u),b===v)break;v=b}v!==null&&p.stopPropagation()}else vm(s,o,p,null,u)}}var Wo=null;function $a(s,o,u,p){if(Wo=null,s=gi(p),s=Ko(s),s!==null)if(o=Jr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Fo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Wo=s,null}function _c(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sd()){case Uo:return 1;case As:return 4;case Ir:case vc:return 16;case Td:return 536870912;default:return 16}default:return 16}}var vr=null,za=null,er=null;function Ec(){if(er)return er;var s,o=za,u=o.length,p,v="value"in vr?vr.value:vr.textContent,b=v.length;for(s=0;s<u&&o[s]===v[s];s++);var N=u-s;for(p=1;p<=N&&o[u-p]===v[b-p];p++);return er=v.slice(s,1<p?1-p:void 0)}function Ha(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function bi(){return!0}function Sc(){return!1}function Tn(s){function o(u,p,v,b,N){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(b):b[F]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bi:Sc,this.isPropagationStopped=Sc,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),o}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Tn(ii),_i=ue({},ii,{view:0,detail:0}),lm=Tn(_i),qa,rs,Fs,qo=ue({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fs&&(Fs&&s.type==="mousemove"?(qa=s.screenX-Fs.screenX,rs=s.screenY-Fs.screenY):rs=qa=0,Fs=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:rs}}),Ga=Tn(qo),Tc=ue({},qo,{dataTransfer:0}),Vd=Tn(Tc),Ka=ue({},_i,{relatedTarget:0}),Qa=Tn(Ka),Od=ue({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),is=Tn(Od),Ld=ue({},ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fd=Tn(Ld),Ud=ue({},ii,{data:0}),Pc=Tn(Ud),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $d(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Bd[s])?!!o[s]:!1}function Ei(){return $d}var f=ue({},_i,{key:function(s){if(s.key){var o=Xa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(s){return s.type==="keypress"?Ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Tn(f),T=ue({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Tn(T),G=ue({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),Z=Tn(G),me=ue({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=Tn(me),dn=ue({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Tn(dn),vn=[9,13,27,32],rn=d&&"CompositionEvent"in window,Dr=null;d&&"documentMode"in document&&(Dr=document.documentMode);var xr=d&&"TextEvent"in window&&!Dr,Go=d&&(!rn||Dr&&8<Dr&&11>=Dr),Ya=" ",O1=!1;function L1(s,o){switch(s){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ja=!1;function Uk(s,o){switch(s){case"compositionend":return F1(o);case"keypress":return o.which!==32?null:(O1=!0,Ya);case"textInput":return s=o.data,s===Ya&&O1?null:s;default:return null}}function Bk(s,o){if(Ja)return s==="compositionend"||!rn&&L1(s,o)?(s=Ec(),er=za=vr=null,Ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Go&&o.locale!=="ko"?null:o.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$k[s.type]:o==="textarea"}function B1(s,o,u,p){Jn(p),o=Gd(o,"onChange"),0<o.length&&(u=new Wa("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var Cc=null,Nc=null;function zk(s){sx(s,0)}function zd(s){var o=rl(s);if(Mt(o))return s}function Hk(s,o){if(s==="change")return o}var $1=!1;if(d){var cm;if(d){var um="oninput"in document;if(!um){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),um=typeof z1.oninput=="function"}cm=um}else cm=!1;$1=cm&&(!document.documentMode||9<document.documentMode)}function H1(){Cc&&(Cc.detachEvent("onpropertychange",W1),Nc=Cc=null)}function W1(s){if(s.propertyName==="value"&&zd(Nc)){var o=[];B1(o,Nc,s,gi(s)),pc(zk,o)}}function Wk(s,o,u){s==="focusin"?(H1(),Cc=o,Nc=u,Cc.attachEvent("onpropertychange",W1)):s==="focusout"&&H1()}function qk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zd(Nc)}function Gk(s,o){if(s==="click")return zd(o)}function Kk(s,o){if(s==="input"||s==="change")return zd(o)}function Qk(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var si=typeof Object.is=="function"?Object.is:Qk;function kc(s,o){if(si(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!h.call(o,v)||!si(s[v],o[v]))return!1}return!0}function q1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function G1(s,o){var u=q1(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=q1(u)}}function K1(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?K1(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Q1(){for(var s=window,o=ft();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ft(s.document)}return o}function dm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Xk(s){var o=Q1(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&K1(u.ownerDocument.documentElement,u)){if(p!==null&&dm(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,b=Math.min(p.start,v);p=p.end===void 0?b:Math.min(p.end,v),!s.extend&&b>p&&(v=p,p=b,b=v),v=G1(u,b);var N=G1(u,p);v&&N&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),b>p?(s.addRange(o),s.extend(N.node,N.offset)):(o.setEnd(N.node,N.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Yk=d&&"documentMode"in document&&11>=document.documentMode,Za=null,hm=null,jc=null,fm=!1;function X1(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fm||Za==null||Za!==ft(p)||(p=Za,"selectionStart"in p&&dm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),jc&&kc(jc,p)||(jc=p,p=Gd(hm,"onSelect"),0<p.length&&(o=new Wa("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Za)))}function Hd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var el={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},pm={},Y1={};d&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Wd(s){if(pm[s])return pm[s];if(!el[s])return s;var o=el[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Y1)return pm[s]=o[u];return s}var J1=Wd("animationend"),Z1=Wd("animationiteration"),ex=Wd("animationstart"),tx=Wd("transitionend"),nx=new Map,rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(s,o){nx.set(s,o),a(o,[s])}for(var mm=0;mm<rx.length;mm++){var gm=rx[mm],Jk=gm.toLowerCase(),Zk=gm[0].toUpperCase()+gm.slice(1);Us(Jk,"on"+Zk)}Us(J1,"onAnimationEnd"),Us(Z1,"onAnimationIteration"),Us(ex,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(tx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function ix(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,bd(p,o,void 0,s),s.currentTarget=null}function sx(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],v=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var N=p.length-1;0<=N;N--){var F=p[N],$=F.instance,Y=F.currentTarget;if(F=F.listener,$!==b&&v.isPropagationStopped())break e;ix(v,F,Y),b=$}else for(N=0;N<p.length;N++){if(F=p[N],$=F.instance,Y=F.currentTarget,F=F.listener,$!==b&&v.isPropagationStopped())break e;ix(v,F,Y),b=$}}}if(Yr)throw s=mc,Yr=!1,mc=null,s}function St(s,o){var u=o[Sm];u===void 0&&(u=o[Sm]=new Set);var p=s+"__bubble";u.has(p)||(ox(o,s,2,!1),u.add(p))}function ym(s,o,u){var p=0;o&&(p|=4),ox(u,s,p,o)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Ic(s){if(!s[qd]){s[qd]=!0,r.forEach(function(u){u!=="selectionchange"&&(e4.has(u)||ym(u,!1,s),ym(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[qd]||(o[qd]=!0,ym("selectionchange",!1,o))}}function ox(s,o,u,p){switch(_c(o)){case 1:var v=jt;break;case 4:v=am;break;default:v=bc}u=v.bind(null,o,u,s),v=void 0,!Da||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(o,u,{capture:!0,passive:v}):s.addEventListener(o,u,!0):v!==void 0?s.addEventListener(o,u,{passive:v}):s.addEventListener(o,u,!1)}function vm(s,o,u,p,v){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var F=p.stateNode.containerInfo;if(F===v||F.nodeType===8&&F.parentNode===v)break;if(N===4)for(N=p.return;N!==null;){var $=N.tag;if(($===3||$===4)&&($=N.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;N=N.return}for(;F!==null;){if(N=Ko(F),N===null)return;if($=N.tag,$===5||$===6){p=b=N;continue e}F=F.parentNode}}p=p.return}pc(function(){var Y=b,oe=gi(u),le=[];e:{var se=nx.get(s);if(se!==void 0){var we=Wa,Te=s;switch(s){case"keypress":if(Ha(u)===0)break e;case"keydown":case"keyup":we=w;break;case"focusin":Te="focus",we=Qa;break;case"focusout":Te="blur",we=Qa;break;case"beforeblur":case"afterblur":we=Qa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Z;break;case J1:case Z1:case ex:we=is;break;case tx:we=pt;break;case"scroll":we=lm;break;case"wheel":we=rt;break;case"copy":case"cut":case"paste":we=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=I}var Pe=(o&4)!==0,Jt=!Pe&&s==="scroll",K=Pe?se!==null?se+"Capture":null:se;Pe=[];for(var H=Y,Q;H!==null;){Q=H;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Yt(H,K),he!=null&&Pe.push(Rc(H,he,Q)))),Jt)break;H=H.return}0<Pe.length&&(se=new we(se,Te,null,u,oe),le.push({event:se,listeners:Pe}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",se&&u!==Ji&&(Te=u.relatedTarget||u.fromElement)&&(Ko(Te)||Te[ss]))break e;if((we||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,we?(Te=u.relatedTarget||u.toElement,we=Y,Te=Te?Ko(Te):null,Te!==null&&(Jt=Jr(Te),Te!==Jt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(we=null,Te=Y),we!==Te)){if(Pe=Ga,he="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=I,he="onPointerLeave",K="onPointerEnter",H="pointer"),Jt=we==null?se:rl(we),Q=Te==null?se:rl(Te),se=new Pe(he,H+"leave",we,u,oe),se.target=Jt,se.relatedTarget=Q,he=null,Ko(oe)===Y&&(Pe=new Pe(K,H+"enter",Te,u,oe),Pe.target=Q,Pe.relatedTarget=Jt,he=Pe),Jt=he,we&&Te)t:{for(Pe=we,K=Te,H=0,Q=Pe;Q;Q=tl(Q))H++;for(Q=0,he=K;he;he=tl(he))Q++;for(;0<H-Q;)Pe=tl(Pe),H--;for(;0<Q-H;)K=tl(K),Q--;for(;H--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=tl(Pe),K=tl(K)}Pe=null}else Pe=null;we!==null&&ax(le,se,we,Pe,!1),Te!==null&&Jt!==null&&ax(le,Jt,Te,Pe,!0)}}e:{if(se=Y?rl(Y):window,we=se.nodeName&&se.nodeName.toLowerCase(),we==="select"||we==="input"&&se.type==="file")var Ce=Hk;else if(U1(se))if($1)Ce=Kk;else{Ce=qk;var Re=Wk}else(we=se.nodeName)&&we.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ce=Gk);if(Ce&&(Ce=Ce(s,Y))){B1(le,Ce,u,oe);break e}Re&&Re(s,se,Y),s==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&Ue(se,"number",se.value)}switch(Re=Y?rl(Y):window,s){case"focusin":(U1(Re)||Re.contentEditable==="true")&&(Za=Re,hm=Y,jc=null);break;case"focusout":jc=hm=Za=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,X1(le,u,oe);break;case"selectionchange":if(Yk)break;case"keydown":case"keyup":X1(le,u,oe)}var De;if(rn)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ja?L1(s,u)&&(Be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(Go&&u.locale!=="ko"&&(Ja||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ja&&(De=Ec()):(vr=oe,za="value"in vr?vr.value:vr.textContent,Ja=!0)),Re=Gd(Y,Be),0<Re.length&&(Be=new Pc(Be,s,null,u,oe),le.push({event:Be,listeners:Re}),De?Be.data=De:(De=F1(u),De!==null&&(Be.data=De)))),(De=xr?Uk(s,u):Bk(s,u))&&(Y=Gd(Y,"onBeforeInput"),0<Y.length&&(oe=new Pc("onBeforeInput","beforeinput",null,u,oe),le.push({event:oe,listeners:Y}),oe.data=De))}sx(le,o)})}function Rc(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Gd(s,o){for(var u=o+"Capture",p=[];s!==null;){var v=s,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Yt(s,u),b!=null&&p.unshift(Rc(s,b,v)),b=Yt(s,o),b!=null&&p.push(Rc(s,b,v))),s=s.return}return p}function tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ax(s,o,u,p,v){for(var b=o._reactName,N=[];u!==null&&u!==p;){var F=u,$=F.alternate,Y=F.stateNode;if($!==null&&$===p)break;F.tag===5&&Y!==null&&(F=Y,v?($=Yt(u,b),$!=null&&N.unshift(Rc(u,$,F))):v||($=Yt(u,b),$!=null&&N.push(Rc(u,$,F)))),u=u.return}N.length!==0&&s.push({event:o,listeners:N})}var t4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function lx(s){return(typeof s=="string"?s:""+s).replace(t4,`
`).replace(n4,"")}function Kd(s,o,u){if(o=lx(o),lx(s)!==o&&u)throw Error(n(425))}function Qd(){}var xm=null,wm=null;function bm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,r4=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,i4=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(s){return cx.resolve(null).then(s).catch(s4)}:_m;function s4(s){setTimeout(function(){throw s})}function Em(s,o){var u=o,p=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){s.removeChild(v),ri(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);ri(o)}function Bs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function ux(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Si="__reactFiber$"+nl,Dc="__reactProps$"+nl,ss="__reactContainer$"+nl,Sm="__reactEvents$"+nl,o4="__reactListeners$"+nl,a4="__reactHandles$"+nl;function Ko(s){var o=s[Si];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ss]||u[Si]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=ux(s);s!==null;){if(u=s[Si])return u;s=ux(s)}return o}s=u,u=s.parentNode}return null}function Mc(s){return s=s[Si]||s[ss],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function rl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Xd(s){return s[Dc]||null}var Tm=[],il=-1;function $s(s){return{current:s}}function Tt(s){0>il||(s.current=Tm[il],Tm[il]=null,il--)}function _t(s,o){il++,Tm[il]=s.current,s.current=o}var zs={},Rn=$s(zs),tr=$s(!1),Qo=zs;function sl(s,o){var u=s.type.contextTypes;if(!u)return zs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in u)v[b]=o[b];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function nr(s){return s=s.childContextTypes,s!=null}function Yd(){Tt(tr),Tt(Rn)}function dx(s,o,u){if(Rn.current!==zs)throw Error(n(168));_t(Rn,o),_t(tr,u)}function hx(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(n(108,qe(s)||"Unknown",v));return ue({},u,p)}function Jd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zs,Qo=Rn.current,_t(Rn,s),_t(tr,tr.current),!0}function fx(s,o,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=hx(s,o,Qo),p.__reactInternalMemoizedMergedChildContext=s,Tt(tr),Tt(Rn),_t(Rn,s)):Tt(tr),_t(tr,u)}var os=null,Zd=!1,Pm=!1;function px(s){os===null?os=[s]:os.push(s)}function l4(s){Zd=!0,px(s)}function Hs(){if(!Pm&&os!==null){Pm=!0;var s=0,o=et;try{var u=os;for(et=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}os=null,Zd=!1}catch(v){throw os!==null&&(os=os.slice(s+1)),La(Uo,Hs),v}finally{et=o,Pm=!1}}return null}var ol=[],al=0,eh=null,th=0,Mr=[],Vr=0,Xo=null,as=1,ls="";function Yo(s,o){ol[al++]=th,ol[al++]=eh,eh=s,th=o}function mx(s,o,u){Mr[Vr++]=as,Mr[Vr++]=ls,Mr[Vr++]=Xo,Xo=s;var p=as;s=ls;var v=32-Wn(p)-1;p&=~(1<<v),u+=1;var b=32-Wn(o)+v;if(30<b){var N=v-v%5;b=(p&(1<<N)-1).toString(32),p>>=N,v-=N,as=1<<32-Wn(o)+v|u<<v|p,ls=b+s}else as=1<<b|u<<v|p,ls=s}function Cm(s){s.return!==null&&(Yo(s,1),mx(s,1,0))}function Nm(s){for(;s===eh;)eh=ol[--al],ol[al]=null,th=ol[--al],ol[al]=null;for(;s===Xo;)Xo=Mr[--Vr],Mr[Vr]=null,ls=Mr[--Vr],Mr[Vr]=null,as=Mr[--Vr],Mr[Vr]=null}var wr=null,br=null,At=!1,oi=null;function gx(s,o){var u=Ur(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function yx(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,wr=s,br=Bs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,wr=s,br=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Xo!==null?{id:as,overflow:ls}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ur(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,wr=s,br=null,!0):!1;default:return!1}}function km(s){return(s.mode&1)!==0&&(s.flags&128)===0}function jm(s){if(At){var o=br;if(o){var u=o;if(!yx(s,o)){if(km(s))throw Error(n(418));o=Bs(u.nextSibling);var p=wr;o&&yx(s,o)?gx(p,u):(s.flags=s.flags&-4097|2,At=!1,wr=s)}}else{if(km(s))throw Error(n(418));s.flags=s.flags&-4097|2,At=!1,wr=s}}}function vx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wr=s}function nh(s){if(s!==wr)return!1;if(!At)return vx(s),At=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!bm(s.type,s.memoizedProps)),o&&(o=br)){if(km(s))throw xx(),Error(n(418));for(;o;)gx(s,o),o=Bs(o.nextSibling)}if(vx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){br=Bs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}br=null}}else br=wr?Bs(s.stateNode.nextSibling):null;return!0}function xx(){for(var s=br;s;)s=Bs(s.nextSibling)}function ll(){br=wr=null,At=!1}function Am(s){oi===null?oi=[s]:oi.push(s)}var c4=B.ReactCurrentBatchConfig;function Vc(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var v=p,b=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(N){var F=v.refs;N===null?delete F[b]:F[b]=N},o._stringRef=b,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function rh(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function wx(s){var o=s._init;return o(s._payload)}function bx(s){function o(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function u(K,H){if(!s)return null;for(;H!==null;)o(K,H),H=H.sibling;return null}function p(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function v(K,H){return K=Js(K,H),K.index=0,K.sibling=null,K}function b(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function N(K){return s&&K.alternate===null&&(K.flags|=2),K}function F(K,H,Q,he){return H===null||H.tag!==6?(H=_g(Q,K.mode,he),H.return=K,H):(H=v(H,Q),H.return=K,H)}function $(K,H,Q,he){var Ce=Q.type;return Ce===R?oe(K,H,Q.props.children,he,Q.key):H!==null&&(H.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Ae&&wx(Ce)===H.type)?(he=v(H,Q.props),he.ref=Vc(K,H,Q),he.return=K,he):(he=Ch(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Vc(K,H,Q),he.return=K,he)}function Y(K,H,Q,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Eg(Q,K.mode,he),H.return=K,H):(H=v(H,Q.children||[]),H.return=K,H)}function oe(K,H,Q,he,Ce){return H===null||H.tag!==7?(H=sa(Q,K.mode,he,Ce),H.return=K,H):(H=v(H,Q),H.return=K,H)}function le(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=_g(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return Q=Ch(H.type,H.key,H.props,null,K.mode,Q),Q.ref=Vc(K,null,H),Q.return=K,Q;case X:return H=Eg(H,K.mode,Q),H.return=K,H;case Ae:var he=H._init;return le(K,he(H._payload),Q)}if(Ye(H)||ge(H))return H=sa(H,K.mode,Q,null),H.return=K,H;rh(K,H)}return null}function se(K,H,Q,he){var Ce=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ce!==null?null:F(K,H,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return Q.key===Ce?$(K,H,Q,he):null;case X:return Q.key===Ce?Y(K,H,Q,he):null;case Ae:return Ce=Q._init,se(K,H,Ce(Q._payload),he)}if(Ye(Q)||ge(Q))return Ce!==null?null:oe(K,H,Q,he,null);rh(K,Q)}return null}function we(K,H,Q,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,F(H,K,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case q:return K=K.get(he.key===null?Q:he.key)||null,$(H,K,he,Ce);case X:return K=K.get(he.key===null?Q:he.key)||null,Y(H,K,he,Ce);case Ae:var Re=he._init;return we(K,H,Q,Re(he._payload),Ce)}if(Ye(he)||ge(he))return K=K.get(Q)||null,oe(H,K,he,Ce,null);rh(H,he)}return null}function Te(K,H,Q,he){for(var Ce=null,Re=null,De=H,Be=H=0,bn=null;De!==null&&Be<Q.length;Be++){De.index>Be?(bn=De,De=null):bn=De.sibling;var at=se(K,De,Q[Be],he);if(at===null){De===null&&(De=bn);break}s&&De&&at.alternate===null&&o(K,De),H=b(at,H,Be),Re===null?Ce=at:Re.sibling=at,Re=at,De=bn}if(Be===Q.length)return u(K,De),At&&Yo(K,Be),Ce;if(De===null){for(;Be<Q.length;Be++)De=le(K,Q[Be],he),De!==null&&(H=b(De,H,Be),Re===null?Ce=De:Re.sibling=De,Re=De);return At&&Yo(K,Be),Ce}for(De=p(K,De);Be<Q.length;Be++)bn=we(De,K,Be,Q[Be],he),bn!==null&&(s&&bn.alternate!==null&&De.delete(bn.key===null?Be:bn.key),H=b(bn,H,Be),Re===null?Ce=bn:Re.sibling=bn,Re=bn);return s&&De.forEach(function(Zs){return o(K,Zs)}),At&&Yo(K,Be),Ce}function Pe(K,H,Q,he){var Ce=ge(Q);if(typeof Ce!="function")throw Error(n(150));if(Q=Ce.call(Q),Q==null)throw Error(n(151));for(var Re=Ce=null,De=H,Be=H=0,bn=null,at=Q.next();De!==null&&!at.done;Be++,at=Q.next()){De.index>Be?(bn=De,De=null):bn=De.sibling;var Zs=se(K,De,at.value,he);if(Zs===null){De===null&&(De=bn);break}s&&De&&Zs.alternate===null&&o(K,De),H=b(Zs,H,Be),Re===null?Ce=Zs:Re.sibling=Zs,Re=Zs,De=bn}if(at.done)return u(K,De),At&&Yo(K,Be),Ce;if(De===null){for(;!at.done;Be++,at=Q.next())at=le(K,at.value,he),at!==null&&(H=b(at,H,Be),Re===null?Ce=at:Re.sibling=at,Re=at);return At&&Yo(K,Be),Ce}for(De=p(K,De);!at.done;Be++,at=Q.next())at=we(De,K,Be,at.value,he),at!==null&&(s&&at.alternate!==null&&De.delete(at.key===null?Be:at.key),H=b(at,H,Be),Re===null?Ce=at:Re.sibling=at,Re=at);return s&&De.forEach(function($4){return o(K,$4)}),At&&Yo(K,Be),Ce}function Jt(K,H,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:e:{for(var Ce=Q.key,Re=H;Re!==null;){if(Re.key===Ce){if(Ce=Q.type,Ce===R){if(Re.tag===7){u(K,Re.sibling),H=v(Re,Q.props.children),H.return=K,K=H;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Ae&&wx(Ce)===Re.type){u(K,Re.sibling),H=v(Re,Q.props),H.ref=Vc(K,Re,Q),H.return=K,K=H;break e}u(K,Re);break}else o(K,Re);Re=Re.sibling}Q.type===R?(H=sa(Q.props.children,K.mode,he,Q.key),H.return=K,K=H):(he=Ch(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=Vc(K,H,Q),he.return=K,K=he)}return N(K);case X:e:{for(Re=Q.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(K,H.sibling),H=v(H,Q.children||[]),H.return=K,K=H;break e}else{u(K,H);break}else o(K,H);H=H.sibling}H=Eg(Q,K.mode,he),H.return=K,K=H}return N(K);case Ae:return Re=Q._init,Jt(K,H,Re(Q._payload),he)}if(Ye(Q))return Te(K,H,Q,he);if(ge(Q))return Pe(K,H,Q,he);rh(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(K,H.sibling),H=v(H,Q),H.return=K,K=H):(u(K,H),H=_g(Q,K.mode,he),H.return=K,K=H),N(K)):u(K,H)}return Jt}var cl=bx(!0),_x=bx(!1),ih=$s(null),sh=null,ul=null,Im=null;function Rm(){Im=ul=sh=null}function Dm(s){var o=ih.current;Tt(ih),s._currentValue=o}function Mm(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function dl(s,o){sh=s,Im=ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(rr=!0),s.firstContext=null)}function Or(s){var o=s._currentValue;if(Im!==s)if(s={context:s,memoizedValue:o,next:null},ul===null){if(sh===null)throw Error(n(308));ul=s,sh.dependencies={lanes:0,firstContext:s}}else ul=ul.next=s;return o}var Jo=null;function Vm(s){Jo===null?Jo=[s]:Jo.push(s)}function Ex(s,o,u,p){var v=o.interleaved;return v===null?(u.next=u,Vm(o)):(u.next=v.next,v.next=u),o.interleaved=u,cs(s,p)}function cs(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ws=!1;function Om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sx(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function us(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(st&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,cs(s,u)}return v=p.interleaved,v===null?(o.next=o,Vm(p)):(o.next=v.next,v.next=o),p.interleaved=o,cs(s,u)}function oh(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Ms(s,u)}}function Tx(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?v=b=N:b=b.next=N,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function ah(s,o,u,p){var v=s.updateQueue;Ws=!1;var b=v.firstBaseUpdate,N=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var $=F,Y=$.next;$.next=null,N===null?b=Y:N.next=Y,N=$;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,F=oe.lastBaseUpdate,F!==N&&(F===null?oe.firstBaseUpdate=Y:F.next=Y,oe.lastBaseUpdate=$))}if(b!==null){var le=v.baseState;N=0,oe=Y=$=null,F=b;do{var se=F.lane,we=F.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Te=s,Pe=F;switch(se=o,we=u,Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){le=Te.call(we,le,se);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,se=typeof Te=="function"?Te.call(we,le,se):Te,se==null)break e;le=ue({},le,se);break e;case 2:Ws=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,se=v.effects,se===null?v.effects=[F]:se.push(F))}else we={eventTime:we,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},oe===null?(Y=oe=we,$=le):oe=oe.next=we,N|=se;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;se=F,F=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(oe===null&&($=le),v.baseState=$,v.firstBaseUpdate=Y,v.lastBaseUpdate=oe,o=v.shared.interleaved,o!==null){v=o;do N|=v.lane,v=v.next;while(v!==o)}else b===null&&(v.shared.lanes=0);ta|=N,s.lanes=N,s.memoizedState=le}}function Px(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var Oc={},Ti=$s(Oc),Lc=$s(Oc),Fc=$s(Oc);function Zo(s){if(s===Oc)throw Error(n(174));return s}function Lm(s,o){switch(_t(Fc,o),_t(Lc,s),_t(Ti,Oc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=xe(o,s)}Tt(Ti),_t(Ti,o)}function hl(){Tt(Ti),Tt(Lc),Tt(Fc)}function Cx(s){Zo(Fc.current);var o=Zo(Ti.current),u=xe(o,s.type);o!==u&&(_t(Lc,s),_t(Ti,u))}function Fm(s){Lc.current===s&&(Tt(Ti),Tt(Lc))}var Ot=$s(0);function lh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Um=[];function Bm(){for(var s=0;s<Um.length;s++)Um[s]._workInProgressVersionPrimary=null;Um.length=0}var ch=B.ReactCurrentDispatcher,$m=B.ReactCurrentBatchConfig,ea=0,Lt=null,hn=null,xn=null,uh=!1,Uc=!1,Bc=0,u4=0;function Dn(){throw Error(n(321))}function zm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!si(s[u],o[u]))return!1;return!0}function Hm(s,o,u,p,v,b){if(ea=b,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ch.current=s===null||s.memoizedState===null?p4:m4,s=u(p,v),Uc){b=0;do{if(Uc=!1,Bc=0,25<=b)throw Error(n(301));b+=1,xn=hn=null,o.updateQueue=null,ch.current=g4,s=u(p,v)}while(Uc)}if(ch.current=fh,o=hn!==null&&hn.next!==null,ea=0,xn=hn=Lt=null,uh=!1,o)throw Error(n(300));return s}function Wm(){var s=Bc!==0;return Bc=0,s}function Pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Lt.memoizedState=xn=s:xn=xn.next=s,xn}function Lr(){if(hn===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=hn.next;var o=xn===null?Lt.memoizedState:xn.next;if(o!==null)xn=o,hn=s;else{if(s===null)throw Error(n(310));hn=s,s={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},xn===null?Lt.memoizedState=xn=s:xn=xn.next=s}return xn}function $c(s,o){return typeof o=="function"?o(s):o}function qm(s){var o=Lr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=hn,v=p.baseQueue,b=u.pending;if(b!==null){if(v!==null){var N=v.next;v.next=b.next,b.next=N}p.baseQueue=v=b,u.pending=null}if(v!==null){b=v.next,p=p.baseState;var F=N=null,$=null,Y=b;do{var oe=Y.lane;if((ea&oe)===oe)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var le={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(F=$=le,N=p):$=$.next=le,Lt.lanes|=oe,ta|=oe}Y=Y.next}while(Y!==null&&Y!==b);$===null?N=p:$.next=F,si(p,o.memoizedState)||(rr=!0),o.memoizedState=p,o.baseState=N,o.baseQueue=$,u.lastRenderedState=p}if(s=u.interleaved,s!==null){v=s;do b=v.lane,Lt.lanes|=b,ta|=b,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Gm(s){var o=Lr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do b=s(b,N.action),N=N.next;while(N!==v);si(b,o.memoizedState)||(rr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,p]}function Nx(){}function kx(s,o){var u=Lt,p=Lr(),v=o(),b=!si(p.memoizedState,v);if(b&&(p.memoizedState=v,rr=!0),p=p.queue,Km(Ix.bind(null,u,p,s),[s]),p.getSnapshot!==o||b||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,zc(9,Ax.bind(null,u,p,v,o),void 0,null),wn===null)throw Error(n(349));(ea&30)!==0||jx(u,o,v)}return v}function jx(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ax(s,o,u,p){o.value=u,o.getSnapshot=p,Rx(o)&&Dx(s)}function Ix(s,o,u){return u(function(){Rx(o)&&Dx(s)})}function Rx(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!si(s,u)}catch{return!0}}function Dx(s){var o=cs(s,1);o!==null&&ui(o,s,1,-1)}function Mx(s){var o=Pi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:s},o.queue=s,s=s.dispatch=f4.bind(null,Lt,s),[o.memoizedState,s]}function zc(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function Vx(){return Lr().memoizedState}function dh(s,o,u,p){var v=Pi();Lt.flags|=s,v.memoizedState=zc(1|o,u,void 0,p===void 0?null:p)}function hh(s,o,u,p){var v=Lr();p=p===void 0?null:p;var b=void 0;if(hn!==null){var N=hn.memoizedState;if(b=N.destroy,p!==null&&zm(p,N.deps)){v.memoizedState=zc(o,u,b,p);return}}Lt.flags|=s,v.memoizedState=zc(1|o,u,b,p)}function Ox(s,o){return dh(8390656,8,s,o)}function Km(s,o){return hh(2048,8,s,o)}function Lx(s,o){return hh(4,2,s,o)}function Fx(s,o){return hh(4,4,s,o)}function Ux(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bx(s,o,u){return u=u!=null?u.concat([s]):null,hh(4,4,Ux.bind(null,o,s),u)}function Qm(){}function $x(s,o){var u=Lr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&zm(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function zx(s,o){var u=Lr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&zm(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function Hx(s,o,u){return(ea&21)===0?(s.baseState&&(s.baseState=!1,rr=!0),s.memoizedState=u):(si(u,o)||(u=zo(),Lt.lanes|=u,ta|=u,s.baseState=!0),o)}function d4(s,o){var u=et;et=u!==0&&4>u?u:4,s(!0);var p=$m.transition;$m.transition={};try{s(!1),o()}finally{et=u,$m.transition=p}}function Wx(){return Lr().memoizedState}function h4(s,o,u){var p=Xs(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},qx(s))Gx(o,u);else if(u=Ex(s,o,u,p),u!==null){var v=Kn();ui(u,s,p,v),Kx(u,o,p)}}function f4(s,o,u){var p=Xs(s),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(qx(s))Gx(o,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var N=o.lastRenderedState,F=b(N,u);if(v.hasEagerState=!0,v.eagerState=F,si(F,N)){var $=o.interleaved;$===null?(v.next=v,Vm(o)):(v.next=$.next,$.next=v),o.interleaved=v;return}}catch{}finally{}u=Ex(s,o,v,p),u!==null&&(v=Kn(),ui(u,s,p,v),Kx(u,o,p))}}function qx(s){var o=s.alternate;return s===Lt||o!==null&&o===Lt}function Gx(s,o){Uc=uh=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Kx(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Ms(s,u)}}var fh={readContext:Or,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},p4={readContext:Or,useCallback:function(s,o){return Pi().memoizedState=[s,o===void 0?null:o],s},useContext:Or,useEffect:Ox,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,dh(4194308,4,Ux.bind(null,o,s),u)},useLayoutEffect:function(s,o){return dh(4194308,4,s,o)},useInsertionEffect:function(s,o){return dh(4,2,s,o)},useMemo:function(s,o){var u=Pi();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=Pi();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=h4.bind(null,Lt,s),[p.memoizedState,s]},useRef:function(s){var o=Pi();return s={current:s},o.memoizedState=s},useState:Mx,useDebugValue:Qm,useDeferredValue:function(s){return Pi().memoizedState=s},useTransition:function(){var s=Mx(!1),o=s[0];return s=d4.bind(null,s[1]),Pi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=Lt,v=Pi();if(At){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),wn===null)throw Error(n(349));(ea&30)!==0||jx(p,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,Ox(Ix.bind(null,p,b,s),[s]),p.flags|=2048,zc(9,Ax.bind(null,p,b,u,o),void 0,null),u},useId:function(){var s=Pi(),o=wn.identifierPrefix;if(At){var u=ls,p=as;u=(p&~(1<<32-Wn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Bc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=u4++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},m4={readContext:Or,useCallback:$x,useContext:Or,useEffect:Km,useImperativeHandle:Bx,useInsertionEffect:Lx,useLayoutEffect:Fx,useMemo:zx,useReducer:qm,useRef:Vx,useState:function(){return qm($c)},useDebugValue:Qm,useDeferredValue:function(s){var o=Lr();return Hx(o,hn.memoizedState,s)},useTransition:function(){var s=qm($c)[0],o=Lr().memoizedState;return[s,o]},useMutableSource:Nx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1},g4={readContext:Or,useCallback:$x,useContext:Or,useEffect:Km,useImperativeHandle:Bx,useInsertionEffect:Lx,useLayoutEffect:Fx,useMemo:zx,useReducer:Gm,useRef:Vx,useState:function(){return Gm($c)},useDebugValue:Qm,useDeferredValue:function(s){var o=Lr();return hn===null?o.memoizedState=s:Hx(o,hn.memoizedState,s)},useTransition:function(){var s=Gm($c)[0],o=Lr().memoizedState;return[s,o]},useMutableSource:Nx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1};function ai(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Xm(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:ue({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var ph={isMounted:function(s){return(s=s._reactInternals)?Jr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Kn(),v=Xs(s),b=us(p,v);b.payload=o,u!=null&&(b.callback=u),o=qs(s,b,v),o!==null&&(ui(o,s,v,p),oh(o,s,v))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Kn(),v=Xs(s),b=us(p,v);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=qs(s,b,v),o!==null&&(ui(o,s,v,p),oh(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Kn(),p=Xs(s),v=us(u,p);v.tag=2,o!=null&&(v.callback=o),o=qs(s,v,p),o!==null&&(ui(o,s,p,u),oh(o,s,p))}};function Qx(s,o,u,p,v,b,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,b,N):o.prototype&&o.prototype.isPureReactComponent?!kc(u,p)||!kc(v,b):!0}function Xx(s,o,u){var p=!1,v=zs,b=o.contextType;return typeof b=="object"&&b!==null?b=Or(b):(v=nr(o)?Qo:Rn.current,p=o.contextTypes,b=(p=p!=null)?sl(s,v):zs),o=new o(u,b),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ph,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=b),o}function Yx(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&ph.enqueueReplaceState(o,o.state,null)}function Ym(s,o,u,p){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},Om(s);var b=o.contextType;typeof b=="object"&&b!==null?v.context=Or(b):(b=nr(o)?Qo:Rn.current,v.context=sl(s,b)),v.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Xm(s,o,b,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&ph.enqueueReplaceState(v,v.state,null),ah(s,u,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function fl(s,o){try{var u="",p=o;do u+=Ne(p),p=p.return;while(p);var v=u}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:o,stack:v,digest:null}}function Jm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Zm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var y4=typeof WeakMap=="function"?WeakMap:Map;function Jx(s,o,u){u=us(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){bh||(bh=!0,pg=p),Zm(s,o)},u}function Zx(s,o,u){u=us(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;u.payload=function(){return p(v)},u.callback=function(){Zm(s,o)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){Zm(s,o),typeof p!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})}),u}function ew(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new y4;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(v.add(u),s=A4.bind(null,s,o,u),o.then(s,s))}function tw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function nw(s,o,u,p,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=us(-1,1),o.tag=2,qs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var v4=B.ReactCurrentOwner,rr=!1;function Gn(s,o,u,p){o.child=s===null?_x(o,null,u,p):cl(o,s.child,u,p)}function rw(s,o,u,p,v){u=u.render;var b=o.ref;return dl(o,v),p=Hm(s,o,u,p,b,v),u=Wm(),s!==null&&!rr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ds(s,o,v)):(At&&u&&Cm(o),o.flags|=1,Gn(s,o,p,v),o.child)}function iw(s,o,u,p,v){if(s===null){var b=u.type;return typeof b=="function"&&!bg(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=b,sw(s,o,b,p,v)):(s=Ch(u.type,null,p,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,(s.lanes&v)===0){var N=b.memoizedProps;if(u=u.compare,u=u!==null?u:kc,u(N,p)&&s.ref===o.ref)return ds(s,o,v)}return o.flags|=1,s=Js(b,p),s.ref=o.ref,s.return=o,o.child=s}function sw(s,o,u,p,v){if(s!==null){var b=s.memoizedProps;if(kc(b,p)&&s.ref===o.ref)if(rr=!1,o.pendingProps=p=b,(s.lanes&v)!==0)(s.flags&131072)!==0&&(rr=!0);else return o.lanes=s.lanes,ds(s,o,v)}return eg(s,o,u,p,v)}function ow(s,o,u){var p=o.pendingProps,v=p.children,b=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(ml,_r),_r|=u;else{if((u&1073741824)===0)return s=b!==null?b.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,_t(ml,_r),_r|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:u,_t(ml,_r),_r|=p}else b!==null?(p=b.baseLanes|u,o.memoizedState=null):p=u,_t(ml,_r),_r|=p;return Gn(s,o,v,u),o.child}function aw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function eg(s,o,u,p,v){var b=nr(u)?Qo:Rn.current;return b=sl(o,b),dl(o,v),u=Hm(s,o,u,p,b,v),p=Wm(),s!==null&&!rr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ds(s,o,v)):(At&&p&&Cm(o),o.flags|=1,Gn(s,o,u,v),o.child)}function lw(s,o,u,p,v){if(nr(u)){var b=!0;Jd(o)}else b=!1;if(dl(o,v),o.stateNode===null)gh(s,o),Xx(o,u,p),Ym(o,u,p,v),p=!0;else if(s===null){var N=o.stateNode,F=o.memoizedProps;N.props=F;var $=N.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=Or(Y):(Y=nr(u)?Qo:Rn.current,Y=sl(o,Y));var oe=u.getDerivedStateFromProps,le=typeof oe=="function"||typeof N.getSnapshotBeforeUpdate=="function";le||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==p||$!==Y)&&Yx(o,N,p,Y),Ws=!1;var se=o.memoizedState;N.state=se,ah(o,p,N,v),$=o.memoizedState,F!==p||se!==$||tr.current||Ws?(typeof oe=="function"&&(Xm(o,u,oe,p),$=o.memoizedState),(F=Ws||Qx(o,u,F,p,se,$,Y))?(le||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=$),N.props=p,N.state=$,N.context=Y,p=F):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Sx(s,o),F=o.memoizedProps,Y=o.type===o.elementType?F:ai(o.type,F),N.props=Y,le=o.pendingProps,se=N.context,$=u.contextType,typeof $=="object"&&$!==null?$=Or($):($=nr(u)?Qo:Rn.current,$=sl(o,$));var we=u.getDerivedStateFromProps;(oe=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==le||se!==$)&&Yx(o,N,p,$),Ws=!1,se=o.memoizedState,N.state=se,ah(o,p,N,v);var Te=o.memoizedState;F!==le||se!==Te||tr.current||Ws?(typeof we=="function"&&(Xm(o,u,we,p),Te=o.memoizedState),(Y=Ws||Qx(o,u,Y,p,se,Te,$)||!1)?(oe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,Te,$),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,Te,$)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Te),N.props=p,N.state=Te,N.context=$,p=Y):(typeof N.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),p=!1)}return tg(s,o,u,p,b,v)}function tg(s,o,u,p,v,b){aw(s,o);var N=(o.flags&128)!==0;if(!p&&!N)return v&&fx(o,u,!1),ds(s,o,b);p=o.stateNode,v4.current=o;var F=N&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&N?(o.child=cl(o,s.child,null,b),o.child=cl(o,null,F,b)):Gn(s,o,F,b),o.memoizedState=p.state,v&&fx(o,u,!0),o.child}function cw(s){var o=s.stateNode;o.pendingContext?dx(s,o.pendingContext,o.pendingContext!==o.context):o.context&&dx(s,o.context,!1),Lm(s,o.containerInfo)}function uw(s,o,u,p,v){return ll(),Am(v),o.flags|=256,Gn(s,o,u,p),o.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(s){return{baseLanes:s,cachePool:null,transitions:null}}function dw(s,o,u){var p=o.pendingProps,v=Ot.current,b=!1,N=(o.flags&128)!==0,F;if((F=N)||(F=s!==null&&s.memoizedState===null?!1:(v&2)!==0),F?(b=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),_t(Ot,v&1),s===null)return jm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(N=p.children,s=p.fallback,b?(p=o.mode,b=o.child,N={mode:"hidden",children:N},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=N):b=Nh(N,p,0,null),s=sa(s,p,u,null),b.return=o,s.return=o,b.sibling=s,o.child=b,o.child.memoizedState=rg(u),o.memoizedState=ng,s):ig(o,N));if(v=s.memoizedState,v!==null&&(F=v.dehydrated,F!==null))return x4(s,o,N,p,F,v,u);if(b){b=p.fallback,N=o.mode,v=s.child,F=v.sibling;var $={mode:"hidden",children:p.children};return(N&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=$,o.deletions=null):(p=Js(v,$),p.subtreeFlags=v.subtreeFlags&14680064),F!==null?b=Js(F,b):(b=sa(b,N,u,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,N=s.child.memoizedState,N=N===null?rg(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},b.memoizedState=N,b.childLanes=s.childLanes&~u,o.memoizedState=ng,p}return b=s.child,s=b.sibling,p=Js(b,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function ig(s,o){return o=Nh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function mh(s,o,u,p){return p!==null&&Am(p),cl(o,s.child,null,u),s=ig(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function x4(s,o,u,p,v,b,N){if(u)return o.flags&256?(o.flags&=-257,p=Jm(Error(n(422))),mh(s,o,N,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(b=p.fallback,v=o.mode,p=Nh({mode:"visible",children:p.children},v,0,null),b=sa(b,v,N,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,(o.mode&1)!==0&&cl(o,s.child,null,N),o.child.memoizedState=rg(N),o.memoizedState=ng,b);if((o.mode&1)===0)return mh(s,o,N,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var F=p.dgst;return p=F,b=Error(n(419)),p=Jm(b,p,void 0),mh(s,o,N,p)}if(F=(N&s.childLanes)!==0,rr||F){if(p=wn,p!==null){switch(N&-N){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|N))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,cs(s,v),ui(p,s,v,-1))}return wg(),p=Jm(Error(n(421))),mh(s,o,N,p)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=I4.bind(null,s),v._reactRetry=o,null):(s=b.treeContext,br=Bs(v.nextSibling),wr=o,At=!0,oi=null,s!==null&&(Mr[Vr++]=as,Mr[Vr++]=ls,Mr[Vr++]=Xo,as=s.id,ls=s.overflow,Xo=o),o=ig(o,p.children),o.flags|=4096,o)}function hw(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Mm(s.return,o,u)}function sg(s,o,u,p,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=u,b.tailMode=v)}function fw(s,o,u){var p=o.pendingProps,v=p.revealOrder,b=p.tail;if(Gn(s,o,p.children,u),p=Ot.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hw(s,u,o);else if(s.tag===19)hw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(_t(Ot,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)s=u.alternate,s!==null&&lh(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),sg(o,!1,v,u,b);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&lh(s)===null){o.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}sg(o,!0,u,null,b);break;case"together":sg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gh(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ds(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ta|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Js(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Js(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function w4(s,o,u){switch(o.tag){case 3:cw(o),ll();break;case 5:Cx(o);break;case 1:nr(o.type)&&Jd(o);break;case 4:Lm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;_t(ih,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(_t(Ot,Ot.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?dw(s,o,u):(_t(Ot,Ot.current&1),s=ds(s,o,u),s!==null?s.sibling:null);_t(Ot,Ot.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return fw(s,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),_t(Ot,Ot.current),p)break;return null;case 22:case 23:return o.lanes=0,ow(s,o,u)}return ds(s,o,u)}var pw,og,mw,gw;pw=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},og=function(){},mw=function(s,o,u,p){var v=s.memoizedProps;if(v!==p){s=o.stateNode,Zo(Ti.current);var b=null;switch(u){case"input":v=Vt(s,v),p=Vt(s,p),b=[];break;case"select":v=ue({},v,{value:void 0}),p=ue({},p,{value:void 0}),b=[];break;case"textarea":v=wt(s,v),p=wt(s,p),b=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Qd)}Vo(u,p);var N;u=null;for(Y in v)if(!p.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var F=v[Y];for(N in F)F.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in p){var $=p[Y];if(F=v!=null?v[Y]:void 0,p.hasOwnProperty(Y)&&$!==F&&($!=null||F!=null))if(Y==="style")if(F){for(N in F)!F.hasOwnProperty(N)||$&&$.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in $)$.hasOwnProperty(N)&&F[N]!==$[N]&&(u||(u={}),u[N]=$[N])}else u||(b||(b=[]),b.push(Y,u)),u=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,F=F?F.__html:void 0,$!=null&&F!==$&&(b=b||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(b=b||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&St("scroll",s),b||F===$||(b=[])):(b=b||[]).push(Y,$))}u&&(b=b||[]).push("style",u);var Y=b;(o.updateQueue=Y)&&(o.flags|=4)}},gw=function(s,o,u,p){u!==p&&(o.flags|=4)};function Hc(s,o){if(!At)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Mn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function b4(s,o,u){var p=o.pendingProps;switch(Nm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(o),null;case 1:return nr(o.type)&&Yd(),Mn(o),null;case 3:return p=o.stateNode,hl(),Tt(tr),Tt(Rn),Bm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(nh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,oi!==null&&(yg(oi),oi=null))),og(s,o),Mn(o),null;case 5:Fm(o);var v=Zo(Fc.current);if(u=o.type,s!==null&&o.stateNode!=null)mw(s,o,u,p,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Mn(o),null}if(s=Zo(Ti.current),nh(o)){p=o.stateNode,u=o.type;var b=o.memoizedProps;switch(p[Si]=o,p[Dc]=b,s=(o.mode&1)!==0,u){case"dialog":St("cancel",p),St("close",p);break;case"iframe":case"object":case"embed":St("load",p);break;case"video":case"audio":for(v=0;v<Ac.length;v++)St(Ac[v],p);break;case"source":St("error",p);break;case"img":case"image":case"link":St("error",p),St("load",p);break;case"details":St("toggle",p);break;case"input":gn(p,b),St("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},St("invalid",p);break;case"textarea":yn(p,b),St("invalid",p)}Vo(u,b),v=null;for(var N in b)if(b.hasOwnProperty(N)){var F=b[N];N==="children"?typeof F=="string"?p.textContent!==F&&(b.suppressHydrationWarning!==!0&&Kd(p.textContent,F,s),v=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(b.suppressHydrationWarning!==!0&&Kd(p.textContent,F,s),v=["children",""+F]):i.hasOwnProperty(N)&&F!=null&&N==="onScroll"&&St("scroll",p)}switch(u){case"input":Nt(p),de(p,b,!0);break;case"textarea":Nt(p),ae(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Qd)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{N=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ce(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=N.createElement(u,{is:p.is}):(s=N.createElement(u),u==="select"&&(N=s,p.multiple?N.multiple=!0:p.size&&(N.size=p.size))):s=N.createElementNS(s,u),s[Si]=o,s[Dc]=p,pw(s,o,!1,!1),o.stateNode=s;e:{switch(N=Yi(u,p),u){case"dialog":St("cancel",s),St("close",s),v=p;break;case"iframe":case"object":case"embed":St("load",s),v=p;break;case"video":case"audio":for(v=0;v<Ac.length;v++)St(Ac[v],s);v=p;break;case"source":St("error",s),v=p;break;case"img":case"image":case"link":St("error",s),St("load",s),v=p;break;case"details":St("toggle",s),v=p;break;case"input":gn(s,p),v=Vt(s,p),St("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ue({},p,{value:void 0}),St("invalid",s);break;case"textarea":yn(s,p),v=wt(s,p),St("invalid",s);break;default:v=p}Vo(u,v),F=v;for(b in F)if(F.hasOwnProperty(b)){var $=F[b];b==="style"?Xt(s,$):b==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&ye(s,$)):b==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&be(s,$):typeof $=="number"&&be(s,""+$):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?$!=null&&b==="onScroll"&&St("scroll",s):$!=null&&V(s,b,$,N))}switch(u){case"input":Nt(s),de(s,p,!1);break;case"textarea":Nt(s),ae(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Le(p.value));break;case"select":s.multiple=!!p.multiple,b=p.value,b!=null?Bt(s,!!p.multiple,b,!1):p.defaultValue!=null&&Bt(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Qd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Mn(o),null;case 6:if(s&&o.stateNode!=null)gw(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(u=Zo(Fc.current),Zo(Ti.current),nh(o)){if(p=o.stateNode,u=o.memoizedProps,p[Si]=o,(b=p.nodeValue!==u)&&(s=wr,s!==null))switch(s.tag){case 3:Kd(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Kd(p.nodeValue,u,(s.mode&1)!==0)}b&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Si]=o,o.stateNode=p}return Mn(o),null;case 13:if(Tt(Ot),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&br!==null&&(o.mode&1)!==0&&(o.flags&128)===0)xx(),ll(),o.flags|=98560,b=!1;else if(b=nh(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Si]=o}else ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mn(o),b=!1}else oi!==null&&(yg(oi),oi=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Ot.current&1)!==0?fn===0&&(fn=3):wg())),o.updateQueue!==null&&(o.flags|=4),Mn(o),null);case 4:return hl(),og(s,o),s===null&&Ic(o.stateNode.containerInfo),Mn(o),null;case 10:return Dm(o.type._context),Mn(o),null;case 17:return nr(o.type)&&Yd(),Mn(o),null;case 19:if(Tt(Ot),b=o.memoizedState,b===null)return Mn(o),null;if(p=(o.flags&128)!==0,N=b.rendering,N===null)if(p)Hc(b,!1);else{if(fn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=lh(s),N!==null){for(o.flags|=128,Hc(b,!1),p=N.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)b=u,s=p,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,s=N.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return _t(Ot,Ot.current&1|2),o.child}s=s.sibling}b.tail!==null&&bt()>gl&&(o.flags|=128,p=!0,Hc(b,!1),o.lanes=4194304)}else{if(!p)if(s=lh(N),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Hc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!At)return Mn(o),null}else 2*bt()-b.renderingStartTime>gl&&u!==1073741824&&(o.flags|=128,p=!0,Hc(b,!1),o.lanes=4194304);b.isBackwards?(N.sibling=o.child,o.child=N):(u=b.last,u!==null?u.sibling=N:o.child=N,b.last=N)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=bt(),o.sibling=null,u=Ot.current,_t(Ot,p?u&1|2:u&1),o):(Mn(o),null);case 22:case 23:return xg(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(_r&1073741824)!==0&&(Mn(o),o.subtreeFlags&6&&(o.flags|=8192)):Mn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function _4(s,o){switch(Nm(o),o.tag){case 1:return nr(o.type)&&Yd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return hl(),Tt(tr),Tt(Rn),Bm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Fm(o),null;case 13:if(Tt(Ot),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ll()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Tt(Ot),null;case 4:return hl(),null;case 10:return Dm(o.type._context),null;case 22:case 23:return xg(),null;case 24:return null;default:return null}}var yh=!1,Vn=!1,E4=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function pl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){$t(s,o,p)}else u.current=null}function ag(s,o,u){try{u()}catch(p){$t(s,o,p)}}var yw=!1;function S4(s,o){if(xm=Ls,s=Q1(),dm(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var N=0,F=-1,$=-1,Y=0,oe=0,le=s,se=null;t:for(;;){for(var we;le!==u||v!==0&&le.nodeType!==3||(F=N+v),le!==b||p!==0&&le.nodeType!==3||($=N+p),le.nodeType===3&&(N+=le.nodeValue.length),(we=le.firstChild)!==null;)se=le,le=we;for(;;){if(le===s)break t;if(se===u&&++Y===v&&(F=N),se===b&&++oe===p&&($=N),(we=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=we}u=F===-1||$===-1?null:{start:F,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(wm={focusedElem:s,selectionRange:u},Ls=!1,Ee=o;Ee!==null;)if(o=Ee,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ee=s;else for(;Ee!==null;){o=Ee;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Pe=Te.memoizedProps,Jt=Te.memoizedState,K=o.stateNode,H=K.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:ai(o.type,Pe),Jt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){$t(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Ee=s;break}Ee=o.return}return Te=yw,yw=!1,Te}function Wc(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var b=v.destroy;v.destroy=void 0,b!==void 0&&ag(o,u,b)}v=v.next}while(v!==p)}}function vh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function lg(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function vw(s){var o=s.alternate;o!==null&&(s.alternate=null,vw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Si],delete o[Dc],delete o[Sm],delete o[o4],delete o[a4])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function xw(s){return s.tag===5||s.tag===3||s.tag===4}function ww(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cg(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Qd));else if(p!==4&&(s=s.child,s!==null))for(cg(s,o,u),s=s.sibling;s!==null;)cg(s,o,u),s=s.sibling}function ug(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(ug(s,o,u),s=s.sibling;s!==null;)ug(s,o,u),s=s.sibling}var Pn=null,li=!1;function Gs(s,o,u){for(u=u.child;u!==null;)bw(s,o,u),u=u.sibling}function bw(s,o,u){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Bo,u)}catch{}switch(u.tag){case 5:Vn||pl(u,o);case 6:var p=Pn,v=li;Pn=null,Gs(s,o,u),Pn=p,li=v,Pn!==null&&(li?(s=Pn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Pn.removeChild(u.stateNode));break;case 18:Pn!==null&&(li?(s=Pn,u=u.stateNode,s.nodeType===8?Em(s.parentNode,u):s.nodeType===1&&Em(s,u),ri(s)):Em(Pn,u.stateNode));break;case 4:p=Pn,v=li,Pn=u.stateNode.containerInfo,li=!0,Gs(s,o,u),Pn=p,li=v;break;case 0:case 11:case 14:case 15:if(!Vn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var b=v,N=b.destroy;b=b.tag,N!==void 0&&((b&2)!==0||(b&4)!==0)&&ag(u,o,N),v=v.next}while(v!==p)}Gs(s,o,u);break;case 1:if(!Vn&&(pl(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(F){$t(u,o,F)}Gs(s,o,u);break;case 21:Gs(s,o,u);break;case 22:u.mode&1?(Vn=(p=Vn)||u.memoizedState!==null,Gs(s,o,u),Vn=p):Gs(s,o,u);break;default:Gs(s,o,u)}}function _w(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new E4),o.forEach(function(p){var v=R4.bind(null,s,p);u.has(p)||(u.add(p),p.then(v,v))})}}function ci(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var b=s,N=o,F=N;e:for(;F!==null;){switch(F.tag){case 5:Pn=F.stateNode,li=!1;break e;case 3:Pn=F.stateNode.containerInfo,li=!0;break e;case 4:Pn=F.stateNode.containerInfo,li=!0;break e}F=F.return}if(Pn===null)throw Error(n(160));bw(b,N,v),Pn=null,li=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(Y){$t(v,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ew(o,s),o=o.sibling}function Ew(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ci(o,s),Ci(s),p&4){try{Wc(3,s,s.return),vh(3,s)}catch(Pe){$t(s,s.return,Pe)}try{Wc(5,s,s.return)}catch(Pe){$t(s,s.return,Pe)}}break;case 1:ci(o,s),Ci(s),p&512&&u!==null&&pl(u,u.return);break;case 5:if(ci(o,s),Ci(s),p&512&&u!==null&&pl(u,u.return),s.flags&32){var v=s.stateNode;try{be(v,"")}catch(Pe){$t(s,s.return,Pe)}}if(p&4&&(v=s.stateNode,v!=null)){var b=s.memoizedProps,N=u!==null?u.memoizedProps:b,F=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{F==="input"&&b.type==="radio"&&b.name!=null&&Hn(v,b),Yi(F,N);var Y=Yi(F,b);for(N=0;N<$.length;N+=2){var oe=$[N],le=$[N+1];oe==="style"?Xt(v,le):oe==="dangerouslySetInnerHTML"?ye(v,le):oe==="children"?be(v,le):V(v,oe,le,Y)}switch(F){case"input":mt(v,b);break;case"textarea":mr(v,b);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var we=b.value;we!=null?Bt(v,!!b.multiple,we,!1):se!==!!b.multiple&&(b.defaultValue!=null?Bt(v,!!b.multiple,b.defaultValue,!0):Bt(v,!!b.multiple,b.multiple?[]:"",!1))}v[Dc]=b}catch(Pe){$t(s,s.return,Pe)}}break;case 6:if(ci(o,s),Ci(s),p&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,b=s.memoizedProps;try{v.nodeValue=b}catch(Pe){$t(s,s.return,Pe)}}break;case 3:if(ci(o,s),Ci(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ri(o.containerInfo)}catch(Pe){$t(s,s.return,Pe)}break;case 4:ci(o,s),Ci(s);break;case 13:ci(o,s),Ci(s),v=s.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(fg=bt())),p&4&&_w(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(Vn=(Y=Vn)||oe,ci(o,s),Vn=Y):ci(o,s),Ci(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&(s.mode&1)!==0)for(Ee=s,oe=s.child;oe!==null;){for(le=Ee=oe;Ee!==null;){switch(se=Ee,we=se.child,se.tag){case 0:case 11:case 14:case 15:Wc(4,se,se.return);break;case 1:pl(se,se.return);var Te=se.stateNode;if(typeof Te.componentWillUnmount=="function"){p=se,u=se.return;try{o=p,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(Pe){$t(p,u,Pe)}}break;case 5:pl(se,se.return);break;case 22:if(se.memoizedState!==null){Pw(le);continue}}we!==null?(we.return=se,Ee=we):Pw(le)}oe=oe.sibling}e:for(oe=null,le=s;;){if(le.tag===5){if(oe===null){oe=le;try{v=le.stateNode,Y?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(F=le.stateNode,$=le.memoizedProps.style,N=$!=null&&$.hasOwnProperty("display")?$.display:null,F.style.display=He("display",N))}catch(Pe){$t(s,s.return,Pe)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Pe){$t(s,s.return,Pe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ci(o,s),Ci(s),p&4&&_w(s);break;case 21:break;default:ci(o,s),Ci(s)}}function Ci(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(xw(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(be(v,""),p.flags&=-33);var b=ww(s);ug(s,b,v);break;case 3:case 4:var N=p.stateNode.containerInfo,F=ww(s);cg(s,F,N);break;default:throw Error(n(161))}}catch($){$t(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function T4(s,o,u){Ee=s,Sw(s)}function Sw(s,o,u){for(var p=(s.mode&1)!==0;Ee!==null;){var v=Ee,b=v.child;if(v.tag===22&&p){var N=v.memoizedState!==null||yh;if(!N){var F=v.alternate,$=F!==null&&F.memoizedState!==null||Vn;F=yh;var Y=Vn;if(yh=N,(Vn=$)&&!Y)for(Ee=v;Ee!==null;)N=Ee,$=N.child,N.tag===22&&N.memoizedState!==null?Cw(v):$!==null?($.return=N,Ee=$):Cw(v);for(;b!==null;)Ee=b,Sw(b),b=b.sibling;Ee=v,yh=F,Vn=Y}Tw(s)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,Ee=b):Tw(s)}}function Tw(s){for(;Ee!==null;){var o=Ee;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vn||vh(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Vn)if(u===null)p.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:ai(o.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&Px(o,b,p);break;case 3:var N=o.updateQueue;if(N!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Px(o,N,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&ri(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vn||o.flags&512&&lg(o)}catch(se){$t(o,o.return,se)}}if(o===s){Ee=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function Pw(s){for(;Ee!==null;){var o=Ee;if(o===s){Ee=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function Cw(s){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{vh(4,o)}catch($){$t(o,u,$)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch($){$t(o,v,$)}}var b=o.return;try{lg(o)}catch($){$t(o,b,$)}break;case 5:var N=o.return;try{lg(o)}catch($){$t(o,N,$)}}}catch($){$t(o,o.return,$)}if(o===s){Ee=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ee=F;break}Ee=o.return}}var P4=Math.ceil,xh=B.ReactCurrentDispatcher,dg=B.ReactCurrentOwner,Fr=B.ReactCurrentBatchConfig,st=0,wn=null,sn=null,Cn=0,_r=0,ml=$s(0),fn=0,qc=null,ta=0,wh=0,hg=0,Gc=null,ir=null,fg=0,gl=1/0,hs=null,bh=!1,pg=null,Ks=null,_h=!1,Qs=null,Eh=0,Kc=0,mg=null,Sh=-1,Th=0;function Kn(){return(st&6)!==0?bt():Sh!==-1?Sh:Sh=bt()}function Xs(s){return(s.mode&1)===0?1:(st&2)!==0&&Cn!==0?Cn&-Cn:c4.transition!==null?(Th===0&&(Th=zo()),Th):(s=et,s!==0||(s=window.event,s=s===void 0?16:_c(s.type)),s)}function ui(s,o,u,p){if(50<Kc)throw Kc=0,mg=null,Error(n(185));Ds(s,u,p),((st&2)===0||s!==wn)&&(s===wn&&((st&2)===0&&(wh|=u),fn===4&&Ys(s,Cn)),sr(s,p),u===1&&st===0&&(o.mode&1)===0&&(gl=bt()+500,Zd&&Hs()))}function sr(s,o){var u=s.callbackNode;es(s,o);var p=$o(s,s===wn?Cn:0);if(p===0)u!==null&&yc(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&yc(u),o===1)s.tag===0?l4(kw.bind(null,s)):px(kw.bind(null,s)),i4(function(){(st&6)===0&&Hs()}),u=null;else{switch(Vs(p)){case 1:u=Uo;break;case 4:u=As;break;case 16:u=Ir;break;case 536870912:u=Td;break;default:u=Ir}u=Ow(u,Nw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Nw(s,o){if(Sh=-1,Th=0,(st&6)!==0)throw Error(n(327));var u=s.callbackNode;if(yl()&&s.callbackNode!==u)return null;var p=$o(s,s===wn?Cn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=Ph(s,p);else{o=p;var v=st;st|=2;var b=Aw();(wn!==s||Cn!==o)&&(hs=null,gl=bt()+500,ra(s,o));do try{k4();break}catch(F){jw(s,F)}while(!0);Rm(),xh.current=b,st=v,sn!==null?o=0:(wn=null,Cn=0,o=fn)}if(o!==0){if(o===2&&(v=yr(s),v!==0&&(p=v,o=gg(s,v))),o===1)throw u=qc,ra(s,0),Ys(s,p),sr(s,bt()),u;if(o===6)Ys(s,p);else{if(v=s.current.alternate,(p&30)===0&&!C4(v)&&(o=Ph(s,p),o===2&&(b=yr(s),b!==0&&(p=b,o=gg(s,b))),o===1))throw u=qc,ra(s,0),Ys(s,p),sr(s,bt()),u;switch(s.finishedWork=v,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:ia(s,ir,hs);break;case 3:if(Ys(s,p),(p&130023424)===p&&(o=fg+500-bt(),10<o)){if($o(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){Kn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=_m(ia.bind(null,s,ir,hs),o);break}ia(s,ir,hs);break;case 4:if(Ys(s,p),(p&4194240)===p)break;for(o=s.eventTimes,v=-1;0<p;){var N=31-Wn(p);b=1<<N,N=o[N],N>v&&(v=N),p&=~b}if(p=v,p=bt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*P4(p/1960))-p,10<p){s.timeoutHandle=_m(ia.bind(null,s,ir,hs),p);break}ia(s,ir,hs);break;case 5:ia(s,ir,hs);break;default:throw Error(n(329))}}}return sr(s,bt()),s.callbackNode===u?Nw.bind(null,s):null}function gg(s,o){var u=Gc;return s.current.memoizedState.isDehydrated&&(ra(s,o).flags|=256),s=Ph(s,o),s!==2&&(o=ir,ir=u,o!==null&&yg(o)),s}function yg(s){ir===null?ir=s:ir.push.apply(ir,s)}function C4(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],b=v.getSnapshot;v=v.value;try{if(!si(b(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ys(s,o){for(o&=~hg,o&=~wh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Wn(o),p=1<<u;s[u]=-1,o&=~p}}function kw(s){if((st&6)!==0)throw Error(n(327));yl();var o=$o(s,0);if((o&1)===0)return sr(s,bt()),null;var u=Ph(s,o);if(s.tag!==0&&u===2){var p=yr(s);p!==0&&(o=p,u=gg(s,p))}if(u===1)throw u=qc,ra(s,0),Ys(s,o),sr(s,bt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ia(s,ir,hs),sr(s,bt()),null}function vg(s,o){var u=st;st|=1;try{return s(o)}finally{st=u,st===0&&(gl=bt()+500,Zd&&Hs())}}function na(s){Qs!==null&&Qs.tag===0&&(st&6)===0&&yl();var o=st;st|=1;var u=Fr.transition,p=et;try{if(Fr.transition=null,et=1,s)return s()}finally{et=p,Fr.transition=u,st=o,(st&6)===0&&Hs()}}function xg(){_r=ml.current,Tt(ml)}function ra(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,r4(u)),sn!==null)for(u=sn.return;u!==null;){var p=u;switch(Nm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Yd();break;case 3:hl(),Tt(tr),Tt(Rn),Bm();break;case 5:Fm(p);break;case 4:hl();break;case 13:Tt(Ot);break;case 19:Tt(Ot);break;case 10:Dm(p.type._context);break;case 22:case 23:xg()}u=u.return}if(wn=s,sn=s=Js(s.current,null),Cn=_r=o,fn=0,qc=null,hg=wh=ta=0,ir=Gc=null,Jo!==null){for(o=0;o<Jo.length;o++)if(u=Jo[o],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,b=u.pending;if(b!==null){var N=b.next;b.next=v,p.next=N}u.pending=p}Jo=null}return s}function jw(s,o){do{var u=sn;try{if(Rm(),ch.current=fh,uh){for(var p=Lt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}uh=!1}if(ea=0,xn=hn=Lt=null,Uc=!1,Bc=0,dg.current=null,u===null||u.return===null){fn=1,qc=o,sn=null;break}e:{var b=s,N=u.return,F=u,$=o;if(o=Cn,F.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,oe=F,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var we=tw(N);if(we!==null){we.flags&=-257,nw(we,N,F,b,o),we.mode&1&&ew(b,Y,o),o=we,$=Y;var Te=o.updateQueue;if(Te===null){var Pe=new Set;Pe.add($),o.updateQueue=Pe}else Te.add($);break e}else{if((o&1)===0){ew(b,Y,o),wg();break e}$=Error(n(426))}}else if(At&&F.mode&1){var Jt=tw(N);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),nw(Jt,N,F,b,o),Am(fl($,F));break e}}b=$=fl($,F),fn!==4&&(fn=2),Gc===null?Gc=[b]:Gc.push(b),b=N;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var K=Jx(b,$,o);Tx(b,K);break e;case 1:F=$;var H=b.type,Q=b.stateNode;if((b.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ks===null||!Ks.has(Q)))){b.flags|=65536,o&=-o,b.lanes|=o;var he=Zx(b,F,o);Tx(b,he);break e}}b=b.return}while(b!==null)}Rw(u)}catch(Ce){o=Ce,sn===u&&u!==null&&(sn=u=u.return);continue}break}while(!0)}function Aw(){var s=xh.current;return xh.current=fh,s===null?fh:s}function wg(){(fn===0||fn===3||fn===2)&&(fn=4),wn===null||(ta&268435455)===0&&(wh&268435455)===0||Ys(wn,Cn)}function Ph(s,o){var u=st;st|=2;var p=Aw();(wn!==s||Cn!==o)&&(hs=null,ra(s,o));do try{N4();break}catch(v){jw(s,v)}while(!0);if(Rm(),st=u,xh.current=p,sn!==null)throw Error(n(261));return wn=null,Cn=0,fn}function N4(){for(;sn!==null;)Iw(sn)}function k4(){for(;sn!==null&&!Ed();)Iw(sn)}function Iw(s){var o=Vw(s.alternate,s,_r);s.memoizedProps=s.pendingProps,o===null?Rw(s):sn=o,dg.current=null}function Rw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=b4(u,o,_r),u!==null){sn=u;return}}else{if(u=_4(u,o),u!==null){u.flags&=32767,sn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{fn=6,sn=null;return}}if(o=o.sibling,o!==null){sn=o;return}sn=o=s}while(o!==null);fn===0&&(fn=5)}function ia(s,o,u){var p=et,v=Fr.transition;try{Fr.transition=null,et=1,j4(s,o,u,p)}finally{Fr.transition=v,et=p}return null}function j4(s,o,u,p){do yl();while(Qs!==null);if((st&6)!==0)throw Error(n(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=u.lanes|u.childLanes;if(yt(s,b),s===wn&&(sn=wn=null,Cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||_h||(_h=!0,Ow(Ir,function(){return yl(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=Fr.transition,Fr.transition=null;var N=et;et=1;var F=st;st|=4,dg.current=null,S4(s,u),Ew(u,s),Xk(wm),Ls=!!xm,wm=xm=null,s.current=u,T4(u),rm(),st=F,et=N,Fr.transition=b}else s.current=u;if(_h&&(_h=!1,Qs=s,Eh=v),b=s.pendingLanes,b===0&&(Ks=null),Pd(u.stateNode),sr(s,bt()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)v=o[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(bh)throw bh=!1,s=pg,pg=null,s;return(Eh&1)!==0&&s.tag!==0&&yl(),b=s.pendingLanes,(b&1)!==0?s===mg?Kc++:(Kc=0,mg=s):Kc=0,Hs(),null}function yl(){if(Qs!==null){var s=Vs(Eh),o=Fr.transition,u=et;try{if(Fr.transition=null,et=16>s?16:s,Qs===null)var p=!1;else{if(s=Qs,Qs=null,Eh=0,(st&6)!==0)throw Error(n(331));var v=st;for(st|=4,Ee=s.current;Ee!==null;){var b=Ee,N=b.child;if((Ee.flags&16)!==0){var F=b.deletions;if(F!==null){for(var $=0;$<F.length;$++){var Y=F[$];for(Ee=Y;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:Wc(8,oe,b)}var le=oe.child;if(le!==null)le.return=oe,Ee=le;else for(;Ee!==null;){oe=Ee;var se=oe.sibling,we=oe.return;if(vw(oe),oe===Y){Ee=null;break}if(se!==null){se.return=we,Ee=se;break}Ee=we}}}var Te=b.alternate;if(Te!==null){var Pe=Te.child;if(Pe!==null){Te.child=null;do{var Jt=Pe.sibling;Pe.sibling=null,Pe=Jt}while(Pe!==null)}}Ee=b}}if((b.subtreeFlags&2064)!==0&&N!==null)N.return=b,Ee=N;else e:for(;Ee!==null;){if(b=Ee,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Wc(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,Ee=K;break e}Ee=b.return}}var H=s.current;for(Ee=H;Ee!==null;){N=Ee;var Q=N.child;if((N.subtreeFlags&2064)!==0&&Q!==null)Q.return=N,Ee=Q;else e:for(N=H;Ee!==null;){if(F=Ee,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:vh(9,F)}}catch(Ce){$t(F,F.return,Ce)}if(F===N){Ee=null;break e}var he=F.sibling;if(he!==null){he.return=F.return,Ee=he;break e}Ee=F.return}}if(st=v,Hs(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Bo,s)}catch{}p=!0}return p}finally{et=u,Fr.transition=o}}return!1}function Dw(s,o,u){o=fl(u,o),o=Jx(s,o,1),s=qs(s,o,1),o=Kn(),s!==null&&(Ds(s,1,o),sr(s,o))}function $t(s,o,u){if(s.tag===3)Dw(s,s,u);else for(;o!==null;){if(o.tag===3){Dw(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p))){s=fl(u,s),s=Zx(o,s,1),o=qs(o,s,1),s=Kn(),o!==null&&(Ds(o,1,s),sr(o,s));break}}o=o.return}}function A4(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=Kn(),s.pingedLanes|=s.suspendedLanes&u,wn===s&&(Cn&u)===u&&(fn===4||fn===3&&(Cn&130023424)===Cn&&500>bt()-fg?ra(s,0):hg|=u),sr(s,o)}function Mw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ua,Ua<<=1,(Ua&130023424)===0&&(Ua=4194304)));var u=Kn();s=cs(s,o),s!==null&&(Ds(s,o,u),sr(s,u))}function I4(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Mw(s,u)}function R4(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Mw(s,u)}var Vw;Vw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||tr.current)rr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return rr=!1,w4(s,o,u);rr=(s.flags&131072)!==0}else rr=!1,At&&(o.flags&1048576)!==0&&mx(o,th,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;gh(s,o),s=o.pendingProps;var v=sl(o,Rn.current);dl(o,u),v=Hm(null,o,p,s,v,u);var b=Wm();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,nr(p)?(b=!0,Jd(o)):b=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Om(o),v.updater=ph,o.stateNode=v,v._reactInternals=o,Ym(o,p,s,u),o=tg(null,o,p,!0,b,u)):(o.tag=0,At&&b&&Cm(o),Gn(null,o,v,u),o=o.child),o;case 16:p=o.elementType;e:{switch(gh(s,o),s=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=M4(p),s=ai(p,s),v){case 0:o=eg(null,o,p,s,u);break e;case 1:o=lw(null,o,p,s,u);break e;case 11:o=rw(null,o,p,s,u);break e;case 14:o=iw(null,o,p,ai(p.type,s),u);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:ai(p,v),eg(s,o,p,v,u);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:ai(p,v),lw(s,o,p,v,u);case 3:e:{if(cw(o),s===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,v=b.element,Sx(s,o),ah(o,p,null,u);var N=o.memoizedState;if(p=N.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){v=fl(Error(n(423)),o),o=uw(s,o,p,u,v);break e}else if(p!==v){v=fl(Error(n(424)),o),o=uw(s,o,p,u,v);break e}else for(br=Bs(o.stateNode.containerInfo.firstChild),wr=o,At=!0,oi=null,u=_x(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ll(),p===v){o=ds(s,o,u);break e}Gn(s,o,p,u)}o=o.child}return o;case 5:return Cx(o),s===null&&jm(o),p=o.type,v=o.pendingProps,b=s!==null?s.memoizedProps:null,N=v.children,bm(p,v)?N=null:b!==null&&bm(p,b)&&(o.flags|=32),aw(s,o),Gn(s,o,N,u),o.child;case 6:return s===null&&jm(o),null;case 13:return dw(s,o,u);case 4:return Lm(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=cl(o,null,p,u):Gn(s,o,p,u),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:ai(p,v),rw(s,o,p,v,u);case 7:return Gn(s,o,o.pendingProps,u),o.child;case 8:return Gn(s,o,o.pendingProps.children,u),o.child;case 12:return Gn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,b=o.memoizedProps,N=v.value,_t(ih,p._currentValue),p._currentValue=N,b!==null)if(si(b.value,N)){if(b.children===v.children&&!tr.current){o=ds(s,o,u);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var F=b.dependencies;if(F!==null){N=b.child;for(var $=F.firstContext;$!==null;){if($.context===p){if(b.tag===1){$=us(-1,u&-u),$.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),Y.pending=$}}b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),Mm(b.return,u,o),F.lanes|=u;break}$=$.next}}else if(b.tag===10)N=b.type===o.type?null:b.child;else if(b.tag===18){if(N=b.return,N===null)throw Error(n(341));N.lanes|=u,F=N.alternate,F!==null&&(F.lanes|=u),Mm(N,u,o),N=b.sibling}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===o){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}Gn(s,o,v.children,u),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,dl(o,u),v=Or(v),p=p(v),o.flags|=1,Gn(s,o,p,u),o.child;case 14:return p=o.type,v=ai(p,o.pendingProps),v=ai(p.type,v),iw(s,o,p,v,u);case 15:return sw(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:ai(p,v),gh(s,o),o.tag=1,nr(p)?(s=!0,Jd(o)):s=!1,dl(o,u),Xx(o,p,v),Ym(o,p,v,u),tg(null,o,p,!0,s,u);case 19:return fw(s,o,u);case 22:return ow(s,o,u)}throw Error(n(156,o.tag))};function Ow(s,o){return La(s,o)}function D4(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(s,o,u,p){return new D4(s,o,u,p)}function bg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function M4(s){if(typeof s=="function")return bg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Me)return 14}return 2}function Js(s,o){var u=s.alternate;return u===null?(u=Ur(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ch(s,o,u,p,v,b){var N=2;if(p=s,typeof s=="function")bg(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case R:return sa(u.children,v,b,o);case j:N=8,v|=8;break;case D:return s=Ur(12,u,o,v|2),s.elementType=D,s.lanes=b,s;case M:return s=Ur(13,u,o,v),s.elementType=M,s.lanes=b,s;case pe:return s=Ur(19,u,o,v),s.elementType=pe,s.lanes=b,s;case Se:return Nh(u,v,b,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:N=10;break e;case O:N=9;break e;case U:N=11;break e;case Me:N=14;break e;case Ae:N=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Ur(N,u,o,v),o.elementType=s,o.type=p,o.lanes=b,o}function sa(s,o,u,p){return s=Ur(7,s,p,o),s.lanes=u,s}function Nh(s,o,u,p){return s=Ur(22,s,p,o),s.elementType=Se,s.lanes=u,s.stateNode={isHidden:!1},s}function _g(s,o,u){return s=Ur(6,s,null,o),s.lanes=u,s}function Eg(s,o,u){return o=Ur(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function V4(s,o,u,p,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Sg(s,o,u,p,v,b,N,F,$){return s=new V4(s,o,u,F,$),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Ur(3,null,null,o),s.current=b,b.stateNode=s,b.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(b),s}function O4(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function Lw(s){if(!s)return zs;s=s._reactInternals;e:{if(Jr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(nr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(nr(u))return hx(s,u,o)}return o}function Fw(s,o,u,p,v,b,N,F,$){return s=Sg(u,p,!0,s,v,b,N,F,$),s.context=Lw(null),u=s.current,p=Kn(),v=Xs(u),b=us(p,v),b.callback=o??null,qs(u,b,v),s.current.lanes=v,Ds(s,v,p),sr(s,p),s}function kh(s,o,u,p){var v=o.current,b=Kn(),N=Xs(v);return u=Lw(u),o.context===null?o.context=u:o.pendingContext=u,o=us(b,N),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=qs(v,o,N),s!==null&&(ui(s,v,N,b),oh(s,v,N)),N}function jh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Uw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Tg(s,o){Uw(s,o),(s=s.alternate)&&Uw(s,o)}function L4(){return null}var Bw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Pg(s){this._internalRoot=s}Ah.prototype.render=Pg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));kh(s,o,null,null)},Ah.prototype.unmount=Pg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;na(function(){kh(null,s,null,null)}),o[ss]=null}};function Ah(s){this._internalRoot=s}Ah.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ad();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wi.length&&o!==0&&o<wi[u].priority;u++);wi.splice(u,0,s),u===0&&Dd(s)}};function Cg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ih(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $w(){}function F4(s,o,u,p,v){if(v){if(typeof p=="function"){var b=p;p=function(){var Y=jh(N);b.call(Y)}}var N=Fw(o,p,s,0,null,!1,!1,"",$w);return s._reactRootContainer=N,s[ss]=N.current,Ic(s.nodeType===8?s.parentNode:s),na(),N}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var F=p;p=function(){var Y=jh($);F.call(Y)}}var $=Sg(s,0,!1,null,null,!1,!1,"",$w);return s._reactRootContainer=$,s[ss]=$.current,Ic(s.nodeType===8?s.parentNode:s),na(function(){kh(o,$,u,p)}),$}function Rh(s,o,u,p,v){var b=u._reactRootContainer;if(b){var N=b;if(typeof v=="function"){var F=v;v=function(){var $=jh(N);F.call($)}}kh(o,N,s,v)}else N=F4(u,o,s,v,p);return jh(N)}kd=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Is(o.pendingLanes);u!==0&&(Ms(o,u|1),sr(o,bt()),(st&6)===0&&(gl=bt()+500,Hs()))}break;case 13:na(function(){var p=cs(s,1);if(p!==null){var v=Kn();ui(p,s,1,v)}}),Tg(s,1)}},Ba=function(s){if(s.tag===13){var o=cs(s,134217728);if(o!==null){var u=Kn();ui(o,s,134217728,u)}Tg(s,134217728)}},jd=function(s){if(s.tag===13){var o=Xs(s),u=cs(s,o);if(u!==null){var p=Kn();ui(u,s,o,p)}Tg(s,o)}},Ad=function(){return et},Id=function(s,o){var u=et;try{return et=s,o()}finally{et=u}},yi=function(s,o,u){switch(o){case"input":if(mt(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var v=Xd(p);if(!v)throw Error(n(90));Mt(p),mt(p,v)}}}break;case"textarea":mr(s,u);break;case"select":o=u.value,o!=null&&Bt(s,!!u.multiple,o,!1)}},En=vg,fc=na;var U4={usingClientEntryPoint:!1,Events:[Mc,rl,Xd,Jn,vi,vg]},Qc={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B4={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gc(s),s===null?null:s.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||L4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Bo=Dh.inject(B4),gr=Dh}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U4,or.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cg(o))throw Error(n(200));return O4(s,o,null,u)},or.createRoot=function(s,o){if(!Cg(s))throw Error(n(299));var u=!1,p="",v=Bw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Sg(s,1,!1,null,null,u,!1,p,v),s[ss]=o.current,Ic(s.nodeType===8?s.parentNode:s),new Pg(o)},or.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=gc(o),s=s===null?null:s.stateNode,s},or.flushSync=function(s){return na(s)},or.hydrate=function(s,o,u){if(!Ih(o))throw Error(n(200));return Rh(null,s,o,!0,u)},or.hydrateRoot=function(s,o,u){if(!Cg(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,v=!1,b="",N=Bw;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),o=Fw(o,null,s,1,u??null,v,!1,b,N),s[ss]=o.current,Ic(s),p)for(s=0;s<p.length;s++)u=p[s],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Ah(o)},or.render=function(s,o,u){if(!Ih(o))throw Error(n(200));return Rh(null,s,o,!1,u)},or.unmountComponentAtNode=function(s){if(!Ih(s))throw Error(n(40));return s._reactRootContainer?(na(function(){Rh(null,null,s,!1,function(){s._reactRootContainer=null,s[ss]=null})}),!0):!1},or.unstable_batchedUpdates=vg,or.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!Ih(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Rh(s,o,u,!1,p)},or.version="18.3.1-next-f1338f8080-20240426",or}var Xw;function tS(){if(Xw)return jg.exports;Xw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jg.exports=Q4(),jg.exports}var Yw;function X4(){if(Yw)return Mh;Yw=1;var t=tS();return Mh.createRoot=t.createRoot,Mh.hydrateRoot=t.hydrateRoot,Mh}var Y4=X4();const J4=Cy(Y4);var ky=tS();const Z4=Cy(ky);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const Jw="popstate";function ej(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:d}=r.location;return x0("",{pathname:a,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kf(i)}return nj(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tj(){return Math.random().toString(36).substr(2,8)}function Zw(t,e){return{usr:t.state,key:t.key,idx:e}}function x0(t,e,n,r){return n===void 0&&(n=null),Tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ec(e):e,{state:n,key:e&&e.key||r||tj()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d=lo.Pop,h=null,m=g();m==null&&(m=0,l.replaceState(Tu({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function y(){d=lo.Pop;let C=g(),A=C==null?null:C-m;m=C,h&&h({action:d,location:_.location,delta:A})}function x(C,A){d=lo.Push;let L=x0(_.location,C,A);m=g()+1;let V=Zw(L,m),B=_.createHref(L);try{l.pushState(V,"",B)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(B)}a&&h&&h({action:d,location:_.location,delta:1})}function S(C,A){d=lo.Replace;let L=x0(_.location,C,A);m=g();let V=Zw(L,m),B=_.createHref(L);l.replaceState(V,"",B),a&&h&&h({action:d,location:_.location,delta:0})}function P(C){let A=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof C=="string"?C:kf(C);return L=L.replace(/ $/,"%20"),tn(A,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,A)}let _={get action(){return d},get location(){return t(i,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Jw,y),h=C,()=>{i.removeEventListener(Jw,y),h=null}},createHref(C){return e(i,C)},createURL:P,encodeLocation(C){let A=P(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:S,go(C){return l.go(C)}};return _}var eb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eb||(eb={}));function rj(t,e,n){return n===void 0&&(n="/"),ij(t,e,n)}function ij(t,e,n,r){let i=typeof e=="string"?ec(e):e,a=jy(i.pathname||"/",n);if(a==null)return null;let l=rS(t);sj(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let m=yj(a);d=pj(l[h],m)}return d}function rS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(tn(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=ho([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(tn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),rS(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:hj(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,l);else for(let h of iS(a.path))i(a,l,h)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=iS(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function sj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oj=/^:[\w-]+$/,aj=3,lj=2,cj=1,uj=10,dj=-2,tb=t=>t==="*";function hj(t,e){let n=t.split("/"),r=n.length;return n.some(tb)&&(r+=dj),e&&(r+=lj),n.filter(i=>!tb(i)).reduce((i,a)=>i+(oj.test(a)?aj:a===""?cj:uj),r)}function fj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pj(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=mj({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),x=h.route;if(!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ho([a,y.pathname]),pathnameBase:bj(ho([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=ho([a,y.pathnameBase]))}return l}function mj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:x,isOptional:S}=g;if(x==="*"){let _=d[y]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const P=d[y];return S&&!P?m[x]=void 0:m[x]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function gj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ec(t):t;return{pathname:n?n.startsWith("/")?n:xj(n,e):e,search:_j(r),hash:Ej(i)}}function xj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ay(t,e){let n=wj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Iy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ec(t):(i=Tu({},t),tn(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}d=y>=0?e[y]:"/"}let h=vj(i,d),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),bj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_j=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ej=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sS=["post","put","patch","delete"];new Set(sS);const Tj=["get",...sS];new Set(Tj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}const Ry=k.createContext(null),Pj=k.createContext(null),ko=k.createContext(null),hp=k.createContext(null),Ns=k.createContext({outlet:null,matches:[],isDataRoute:!1}),oS=k.createContext(null);function Cj(t,e){let{relative:n}=e===void 0?{}:e;tc()||tn(!1);let{basename:r,navigator:i}=k.useContext(ko),{hash:a,pathname:l,search:d}=lS(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:ho([r,l])),i.createHref({pathname:h,search:d,hash:a})}function tc(){return k.useContext(hp)!=null}function Qi(){return tc()||tn(!1),k.useContext(hp).location}function aS(t){k.useContext(ko).static||k.useLayoutEffect(t)}function pr(){let{isDataRoute:t}=k.useContext(Ns);return t?Uj():Nj()}function Nj(){tc()||tn(!1);let t=k.useContext(Ry),{basename:e,future:n,navigator:r}=k.useContext(ko),{matches:i}=k.useContext(Ns),{pathname:a}=Qi(),l=JSON.stringify(Ay(i,n.v7_relativeSplatPath)),d=k.useRef(!1);return aS(()=>{d.current=!0}),k.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=Iy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ho([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,t])}function Dy(){let{matches:t}=k.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function lS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(ko),{matches:i}=k.useContext(Ns),{pathname:a}=Qi(),l=JSON.stringify(Ay(i,r.v7_relativeSplatPath));return k.useMemo(()=>Iy(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function kj(t,e){return jj(t,e)}function jj(t,e,n,r){tc()||tn(!1);let{navigator:i}=k.useContext(ko),{matches:a}=k.useContext(Ns),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=Qi(),g;if(e){var y;let C=typeof e=="string"?ec(e):e;h==="/"||(y=C.pathname)!=null&&y.startsWith(h)||tn(!1),g=C}else g=m;let x=g.pathname||"/",S=x;if(h!=="/"){let C=h.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=rj(t,{pathname:S}),_=Mj(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:ho([h,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:ho([h,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&_?k.createElement(hp.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:lo.Pop}},_):_}function Aj(){let t=Fj(),e=Sj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const Ij=k.createElement(Aj,null);class Rj extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ns.Provider,{value:this.props.routeContext},k.createElement(oS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dj(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(Ry);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ns.Provider,{value:e},r)}function Mj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let g=l.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);g>=0||tn(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:S}=n,P=y.route.loader&&x[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||P){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,x)=>{let S,P=!1,_=null,C=null;n&&(S=d&&y.route.id?d[y.route.id]:void 0,_=y.route.errorElement||Ij,h&&(m<0&&x===0?(Bj("route-fallback"),P=!0,C=null):m===x&&(P=!0,C=y.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,x+1)),L=()=>{let V;return S?V=_:P?V=C:y.route.Component?V=k.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=g,k.createElement(Dj,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:V})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?k.createElement(Rj,{location:n.location,revalidation:n.revalidation,component:_,error:S,children:L(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):L()},null)}var cS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cS||{}),uS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uS||{});function Vj(t){let e=k.useContext(Ry);return e||tn(!1),e}function Oj(t){let e=k.useContext(Pj);return e||tn(!1),e}function Lj(t){let e=k.useContext(Ns);return e||tn(!1),e}function dS(t){let e=Lj(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function Fj(){var t;let e=k.useContext(oS),n=Oj(),r=dS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Uj(){let{router:t}=Vj(cS.UseNavigateStable),e=dS(uS.UseNavigateStable),n=k.useRef(!1);return aS(()=>{n.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pu({fromRouteId:e},a)))},[t,e])}const nb={};function Bj(t,e,n){nb[t]||(nb[t]=!0)}function $j(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zj(t){let{to:e,replace:n,state:r,relative:i}=t;tc()||tn(!1);let{future:a,static:l}=k.useContext(ko),{matches:d}=k.useContext(Ns),{pathname:h}=Qi(),m=pr(),g=Iy(e,Ay(d,a.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(g);return k.useEffect(()=>m(JSON.parse(y),{replace:n,state:r,relative:i}),[m,y,i,n,r]),null}function Ln(t){tn(!1)}function Hj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lo.Pop,navigator:a,static:l=!1,future:d}=t;tc()&&tn(!1);let h=e.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:a,static:l,future:Pu({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof r=="string"&&(r=ec(r));let{pathname:g="/",search:y="",hash:x="",state:S=null,key:P="default"}=r,_=k.useMemo(()=>{let C=jy(g,h);return C==null?null:{location:{pathname:C,search:y,hash:x,state:S,key:P},navigationType:i}},[h,g,y,x,S,P,i]);return _==null?null:k.createElement(ko.Provider,{value:m},k.createElement(hp.Provider,{children:n,value:_}))}function Wj(t){let{children:e,location:n}=t;return kj(w0(e),n)}new Promise(()=>{});function w0(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,w0(r.props.children,a));return}r.type!==Ln&&tn(!1),!r.props.index||!r.props.children||tn(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=w0(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function qj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kj(t,e){return t.button===0&&(!e||e==="_self")&&!Gj(t)}function _0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Qj(t,e){let n=_0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Xj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yj="6";try{window.__reactRouterVersion=Yj}catch{}const Jj="startTransition",rb=v0[Jj];function Zj(t){let{basename:e,children:n,future:r,window:i}=t,a=k.useRef();a.current==null&&(a.current=ej({window:i,v5Compat:!0}));let l=a.current,[d,h]=k.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=k.useCallback(y=>{m&&rb?rb(()=>h(y)):h(y)},[h,m]);return k.useLayoutEffect(()=>l.listen(g),[l,g]),k.useEffect(()=>$j(r),[r]),k.createElement(Hj,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:d,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,x=qj(e,Xj),{basename:S}=k.useContext(ko),P,_=!1;if(typeof m=="string"&&tA.test(m)&&(P=m,eA))try{let V=new URL(window.location.href),B=m.startsWith("//")?new URL(V.protocol+m):new URL(m),q=jy(B.pathname,S);B.origin===V.origin&&q!=null?m=q+B.search+B.hash:_=!0}catch{}let C=Cj(m,{relative:i}),A=nA(m,{replace:l,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:y});function L(V){r&&r(V),V.defaultPrevented||A(V)}return k.createElement("a",b0({},x,{href:P||C,onClick:_||a?r:L,ref:n,target:h}))});var ib;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ib||(ib={}));var sb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sb||(sb={}));function nA(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,h=pr(),m=Qi(),g=lS(t,{relative:l});return k.useCallback(y=>{if(Kj(y,n)){y.preventDefault();let x=r!==void 0?r:kf(m)===kf(g);h(t,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:d})}},[m,h,g,r,i,n,t,a,l,d])}function My(t){let e=k.useRef(_0(t)),n=k.useRef(!1),r=Qi(),i=k.useMemo(()=>Qj(r.search,n.current?null:e.current),[r.search]),a=pr(),l=k.useCallback((d,h)=>{const m=_0(typeof d=="function"?d(i):d);n.current=!0,a("?"+m,h)},[a,i]);return[i,l]}const Mi=[{categoria:"Retro Consolas",productos:[{id:"rc1",nombre:"Nintendo Entertainment System (NES)",empresa:"Nintendo",precio:7e3,descripcion:"La consola que marc el inicio de una generacin gamer.",imagen:"/Productos/nintendoentertainment.jpeg",imagenes:["/Productos/nintendoentertainment.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Incluye un control clsico","Compatible con cartuchos originales y rplicas","Salida AV para TV modernas","Fcil de conectar y usar"],variantes:[{color:"Gris",imagen:"/Productos/nintendoentertainment.jpeg",imagenes:["/Productos/nintendoentertainment.jpeg"],cantidad:9}],videoUrl:"/videos/nintendo(NES).mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc2",nombre:"Super Nintendo (SNES)",empresa:"Nintendo",precio:1400,descripcion:"Grficos coloridos, clsicos como Super Mario World.",imagen:"/Productos/supernintendo.avif",imagenes:["/Productos/supernintendo.avif"],oferta:!1,estado:"Nuevo",acerca:["Incluye dos controles","Soporta juegos PAL y NTSC","Salida AV y S-Video","Compacta y fcil de instalar"],variantes:[{color:"Gris",imagen:"/Productos/supernintendo.avif",imagenes:["/Productos/supernintendo.avif"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc3",nombre:"Sega Genesis",empresa:"",precio:5e3,descripcion:"Sonic, Streets of Rage y ms.",imagen:"/Productos/segagenesis.webp",imagenes:["/Productos/segagenesis.webp"],oferta:!0,estado:"Nuevo",acerca:["Incluye cable de poder y AV","Compatibilidad con cartuchos originales","Diseo retro compacto"],variantes:[{color:"Negro",imagen:"/Productos/segagenesis.webp",imagenes:["/Productos/segagenesis.webp"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc4",nombre:"PlayStation 1",empresa:"PlayStation",precio:3e3,descripcion:"Donde empez la leyenda de Crash y Final Fantasy.",imagen:"/Productos/playstation1.webp",imagenes:["/Productos/playstation1.webp"],oferta:!1,estado:"Nuevo",acerca:["Lector de CD original","Incluye un control clsico","Compatible con memory card"],variantes:[{color:"Gris",imagen:"/Productos/playstation1.webp",imagenes:["/Productos/playstation1.webp"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc5",nombre:"Game Boy Classic",empresa:"Nintendo",precio:1e3,descripcion:"Pokmon Red en tu bolsillo.",imagen:"/Productos/gameboy.jpg",imagenes:["/Productos/gameboy.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla monocromtica","Funciona con pilas AA","Compatible con todos los juegos Game Boy"],variantes:[{color:"Gris",imagen:"/Productos/gameboy.jpg",imagenes:["/Productos/gameboy.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc6",nombre:"Atari 2600",empresa:"",precio:1e3,descripcion:"La precursora de las consolas modernas.",imagen:"/Productos/atari2600.png",imagenes:["/Productos/atari2600.png"],oferta:!1,estado:"Nuevo",acerca:["Incluye joystick clsico","Compatibilidad con cartuchos originales","Diseo de madera vintage"],variantes:[{color:"Madera",imagen:"/Productos/atari2600.png",imagenes:["/Productos/atari2600.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Retro Juegos",productos:[{id:"rj1",nombre:"Super Mario Bros. (NES)",empresa:"Nintendo",precio:2e3,descripcion:"El juego ms icnico de plataformas 2D.",imagen:"/Productos/mario-bros-.png",imagenes:["/Productos/mario-bros-.png"],oferta:!0,estado:"Nuevo",acerca:["Cartucho original","Compatible con NES y clones","Incluye caja protectora"],variantes:[{color:"Rojo",imagen:"/Productos/mario-bros-.png",imagenes:["/Productos/mario-bros-.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj2",nombre:"The Legend of Zelda (NES)",empresa:"Nintendo",precio:900,descripcion:"Explora Hyrule en 8 bits.",imagen:"/Productos/legen-of-zelda.png",imagenes:["/Productos/legen-of-zelda.png"],oferta:!1,estado:"Nuevo",acerca:["Cartucho dorado","Compatible con NES","Incluye manual digital"],variantes:[{color:"Dorado",imagen:"/Productos/legen-of-zelda.png",imagenes:["/Productos/legen-of-zelda.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj3",nombre:"Donkey Kong Country (SNES)",empresa:"Nintendo",precio:42,descripcion:"Grficos renderizados pioneros.",imagen:"/Productos/dk.jpg",imagenes:["/Productos/dk.jpg"],oferta:!0,estado:"Nuevo",acerca:["Cartucho original","Compatible con SNES","Incluye caja retro"],variantes:[{color:"Verde",imagen:"/Productos/dk.jpg",imagenes:["/Productos/dk.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj4",nombre:"Crash Bandicoot (PS1)",empresa:"PlayStation",precio:38,descripcion:"Aventura en 3D de culto.",imagen:"/Productos/crash-retro.png",imagenes:["/Productos/crash-retro.png"],oferta:!0,estado:"Nuevo",acerca:["Juego en CD original","Compatible con PS1","Incluye estuche retro"],variantes:[{color:"Naranja",imagen:"/Productos/crash-retro.png",imagenes:["/Productos/crash-retro.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"coleccionables",productos:[{id:"dc1",nombre:"Funko Pop - Mario Bros",empresa:"Funko",precio:1e3,descripcion:"Figura coleccionable de Mario Bros en versin Funko Pop.",imagen:"/Productos/mario_pop.jpg",imagenes:["/Productos/mario_pop.jpg"],oferta:!1,estado:"Nuevo",acerca:["Edicin limitada","Aproximadamente 10 cm de altura","Ideal para fanticos de Nintendo","Caja con ventana para exhibir"],variantes:[{color:"Rojo",imagen:"/Productos/mario_pop.jpg",imagenes:["/Productos/mario_pop.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dc2",nombre:"Figura Coleccionable Zelda Link",empresa:"Nintendo",precio:45,descripcion:"Figura detallada de Link de The Legend of Zelda para coleccionistas.",imagen:"/Productos/zelda_toy.jpg",imagenes:["/Productos/zelda_toy.jpg"],oferta:!0,estado:"Nuevo",acerca:["Alta calidad y detalle","Material PVC resistente","Perfecto para exhibir en vitrinas"],variantes:[{color:"Verde",imagen:"/Productos/zelda_toy.jpg",imagenes:["/Productos/zelda_toy.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dc3",nombre:"Cartucho Retro Pokmon Edicin Coleccionista",empresa:"Nintendo",precio:80,descripcion:"Cartucho original de Pokmon para Game Boy, edicin de coleccin.",imagen:"/Productos/poke_coleccion.jpg",imagenes:["/Productos/poke_coleccion.jpg"],oferta:!1,estado:"Usado",acerca:["Cartucho original y funcional","Perfecto para fans y coleccionistas","Compatible con Game Boy y Game Boy Color"],variantes:[{color:"N/A",imagen:"/Productos/poke_coleccion.jpg",imagenes:["/Productos/poke_coleccion.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Audfonos",productos:[{id:"ps4audio1",nombre:"Gaming Headphones con Micrfono para PS4",precio:29.99,descripcion:"Auriculares con micrfono de reduccin de ruido, compatibles con PS4. Ideales para gaming online y chats en tiempo real.",imagen:"/productospcu/headphones.png",imagenes:["/productospcu/headphones.png"],oferta:!1,estado:"Nuevo",empresa:"PlayStation",acerca:["Conexin directa al control de PS4","Controles de volumen y silencio integrados","Cable de 1.3 metros (4.25 pies)","Diseo cmodo y ajustable","Micrfono con cancelacin de ruido","Sonido claro y ntido ideal para juegos online","Compatible con juegos, chats, Skype y ms"],variantes:[{color:"Negro",imagen:"/productospcu/headphones.png",imagenes:["/productospcu/headphones.png","/productospcu/headphones-back.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p1",nombre:"Gaming Headset con Micrfono Ajustable para Xbox 360",sku:"Xbox",precio:800,descripcion:"Audfonos para gaming con micrfono ajustable, conexin directa al control de Xbox 360. Ideal para chat y audio de juego.",imagen:"/productospcu/gamingheadsetxbox.png",imagenes:["/productospcu/gamingheadsetxbox.png"],oferta:!1,estado:"Nuevo",empresa:"Xbox 360",acerca:["Micrfono flexible y ajustable","Conexin por cable al control","Diseo cmodo para largas sesiones","Compatible solo con Xbox 360"],variantes:[{imagen:"/productospcu/gamingheadsetxbox.png",imagenes:["/productospcu/gamingheadsetxbox.png","/productospcu/gaming-headset-back.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"aud1",nombre:"Audfonos Inalmbricos 771A",precio:34.99,descripcion:"Audfonos inalmbricos con micrfono integrado y sonido HD para msica sin interrupciones.",imagen:"/productospcu/audifonos.png",imagenes:["/productospcu/audifonos.png"],oferta:!1,estado:"Nuevo",empresa:"Genrico",acerca:["Sonido de alta definicin","Diseo cmodo para uso prolongado","Micrfono integrado para llamadas o juegos","Conexin inalmbrica Bluetooth","Diseados para msica, pelculas y gaming"],variantes:[{color:"Negro",imagen:"/productospcu/audifonos.png",imagenes:["/productospcu/audifonos.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p2",nombre:"Headset Inalmbrico AH-806W 6D Shock Sound",sku:"AH-806W-WIRELESS",precio:1450,descripcion:"Audfonos inalmbricos con sonido envolvente 6D y graves potentes. Batera recargable, ideal para juegos y msica.",imagen:"/productospcu/minionheadset.png",imagenes:["/productospcu/minionheadset.png"],oferta:!1,estado:"Nuevo",empresa:"Genrico",acerca:["Inalmbrico","Sonido envolvente 6D","Graves potentes","Diseo cmodo y moderno","Batera recargable"],variantes:[{imagen:"/productospcu/minionheadset.png",imagenes:["/productospcu/minionheadset.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p3",nombre:"MA-1 Wireless Headphone MARIO",sku:"MA1-MARIO",precio:1200,descripcion:"Audfonos inalmbricos edicin especial MARIO, compatibles con varios dispositivos y micrfono incorporado.",imagen:"/productospcu/marioheadset.png",imagenes:["/productospcu/marioheadset.png"],oferta:!1,estado:"Nuevo",empresa:"Nintendo",acerca:["Diseo edicin Mario","Inalmbrico y recargable","Compatibles con dispositivos mviles y PC","Micrfono integrado"],variantes:[{imagen:"/productospcu/marioheadset.png",imagenes:["/productospcu/marioheadset.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cables",productos:[{id:"cb1",nombre:"USB-C a Lightning (1m)",precio:14.99,empresa:"Apple",descripcion:"Carga rpida para iPhone y iPad.",imagen:"/Productos/usb-c.jpg",imagenes:["/Productos/usb-c.jpg"],oferta:!0,estado:"Nuevo",acerca:["Compatible con dispositivos Apple","Longitud de 1 metro","Soporta carga rpida","Conectores reforzados"],variantes:[{color:"Blanco",imagen:"/Productos/usb-c.jpg",imagenes:["/Productos/usb-c.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb2",nombre:"HDMI 4K (2m)",precio:12.99,empresa:"Genrica",descripcion:"Video y audio en alta definicin.",imagen:"/Productos/hdmi4k.jpeg",imagenes:["/Productos/hdmi4k.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Resolucin 4K","Longitud de 2 metros","Compatible con TV, monitores y consolas","Conectores dorados para mejor seal"],variantes:[{color:"Negro",imagen:"/Productos/hdmi4k.jpeg",imagenes:["/Productos/hdmi4k.jpeg"],cantidad:7}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb3",nombre:"USB 3.0 a Micro USB",precio:9.99,empresa:"Genrica",descripcion:"Transferencia rpida para mviles.",imagen:"/Productos/micro.jpg",imagenes:["/Productos/micro.jpg"],oferta:!1,estado:"Nuevo",acerca:["Soporta USB 3.0","Longitud de 1 metro","Ideal para mviles y discos duros externos","Transferencia de datos y carga rpida"],variantes:[{color:"Negro",imagen:"/Productos/micro.jpg",imagenes:["/Productos/micro.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb4",nombre:"Ethernet Cat6 (1.5m)",precio:19.99,empresa:"Genrica",descripcion:"Internet sin interferencias.",imagen:"/Productos/ethernet.jpeg",imagenes:["/Productos/ethernet.jpg"],oferta:!0,estado:"Nuevo",acerca:["Cable de red Cat6","Longitud de 1.5 metros","Alta velocidad y baja interferencia","Ideal para gaming y streaming"],variantes:[{color:"Azul",imagen:"/Productos/ethernet.jpeg",imagenes:["/Productos/ethernet.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb5",nombre:"DisplayPort 1.4 2m",precio:24.99,empresa:"Genrica",descripcion:"Soporta hasta 8K a 60Hz.",imagen:"/Productos/displayport.jpg",imagenes:["/Productos/displayport.jpg"],oferta:!0,estado:"Nuevo",acerca:["Soporta hasta 8K a 60Hz","Longitud de 2 metros","Compatible con monitores y tarjetas grficas","Conectores de alta calidad"],variantes:[{color:"Negro",imagen:"/Productos/displayport.jpg",imagenes:["/Productos/displayport.jpg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Tu Rincn Variado",productos:[{id:"rv1",nombre:"Bicicleta Urbana MTB 26'' Mongoose",precio:379.99,empresa:"Mongoose",descripcion:"Mongoose, la clsica MTB para la ciudad y off-road.",imagen:"/Productos/mongose.jpg",imagenes:["/Productos/mongose.jpg"],oferta:!0,estado:"Usado",acerca:["Cuadro de acero resistente","Llantas de 26 pulgadas","Ideal para ciudad y caminos","Frenos de disco delanteros y traseros"],variantes:[{color:"Negro",imagen:"/Productos/mongose.jpg",imagenes:["/Productos/mongose.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"mic1",nombre:"Micrfono de Grabacin con Reduccin de Ruido",precio:29.99,empresa:"Genrica",descripcion:"Micrfono ideal para grabar voces e instrumentos, con diseo especial para plataformas como YouTube y Twitch.",imagen:"/productospcu/microfono.png",imagenes:["/productospcu/microfono.png"],oferta:!1,estado:"Nuevo",acerca:["Reduccin de ruido integrada","Ideal para grabar voz e instrumentos","Compatible con YouTube, Skype, Twitch y ms","Perfecto para Home Studio y Oficina","Plug and Play (no requiere drivers)"],variantes:[{color:"Negro",imagen:"/productospcu/microfono.png",imagenes:["/productospcu/microfono.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv2",nombre:"Patineta Elctrica Plegable",precio:499.99,empresa:"Genrica",descripcion:"Compacta, ligera, alcance hasta 25km y full power.",imagen:"/Productos/patinetaelectrica.jpg",imagenes:["/Productos/patinetaelectrica.jpg"],oferta:!0,estado:"Nuevo",acerca:["Motor de 250W","Alcance de hasta 25km","Batera recargable","Plegable y liviana"],variantes:[{color:"Negro",imagen:"/Productos/patinetaelectrica.jpg",imagenes:["/Productos/patinetaelectrica.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv3",nombre:'Hoverboard Autoequilibrado 10"',precio:299.99,empresa:"Genrica",descripcion:"Tecnologa smart para moverte con estilo y velocidad.",imagen:"/Productos/hoverboard.jpg",imagenes:["/Productos/hoverboard.jpg"],oferta:!0,estado:"Usado",acerca:["Ruedas de 10 pulgadas","Sensores de equilibrio inteligente","Luces LED integradas","Batera recargable de larga duracin"],variantes:[{color:"Negro",imagen:"/Productos/hoverboard.jpg",imagenes:["/Productos/hoverboard.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv4",nombre:"Patines en lnea 4 ruedas",precio:79.99,empresa:"Genrica",descripcion:"Estilo y velocidad para deslizarte con flow.",imagen:"/Productos/patines4ruedaasenlinea.jpeg",imagenes:["/Productos/patines4ruedaasenlinea.jpeg"],oferta:!1,estado:"Usado",acerca:["4 ruedas resistentes","Rodamientos ABEC-7","Ajuste seguro","Freno trasero incluido"],variantes:[{color:"Negro",imagen:"/Productos/patines4ruedaasenlinea.jpeg",imagenes:["/Productos/patines4ruedaasenlinea.jpeg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv5",nombre:"Patines clsicos 4 ruedas",precio:69.99,empresa:"Genrica",descripcion:"Roller clsico para pura diversin.",imagen:"/Productos/patinesclasicos.webp",imagenes:["/Productos/patinesclasicos.webp"],oferta:!1,estado:"Usado",acerca:["Diseo clsico","Ruedas de goma","Ajuste cmodo","Disponible en varias tallas"],variantes:[{color:"Blanco",imagen:"/Productos/patinesclasicos.webp",imagenes:["/Productos/patinesclasicos.webp"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv6",nombre:"Ruedas de repuesto para patineta",precio:24.99,empresa:"Genrica",descripcion:"Juego de 4 ruedas para tu patineta o longboard.",imagen:"/Productos/ruedapatineta.webp",imagenes:["/Productos/ruedapatineta.webp"],oferta:!0,estado:"Usado",acerca:["4 ruedas incluidas","Material de poliuretano","Compatibles con skate y longboard","Durabilidad extra"],variantes:[{color:"Transparente",imagen:"/Productos/ruedapatineta.webp",imagenes:["/Productos/ruedapatineta.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv7",nombre:"Casco Protector Urbano",precio:59.99,empresa:"Genrica",descripcion:"Seguridad y estilo en un solo casco moderno.",imagen:"/Productos/casco.jpg",imagenes:["/Productos/casco.jpg"],oferta:!1,estado:"Usado",acerca:["Certificado para ciclismo y skate","Ajuste regulable","Acolchado interno extrable","Ligero y resistente"],variantes:[{color:"Negro",imagen:"/Productos/casco.jpg",imagenes:["/Productos/casco.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv8",nombre:"Botella Trmica 1L Acero Inoxidable",precio:19.99,empresa:"Genrica",descripcion:"Mantiene tus bebidas fras o calientes por horas.",imagen:"/Productos/botella.jpg",imagenes:["/Productos/botella.jpg"],oferta:!1,estado:"Nuevo",acerca:["Capacidad de 1 litro","Acero inoxidable","Tapa a prueba de fugas","Mantiene la temperatura por 12h"],variantes:[{color:"Plateado",imagen:"/Productos/botella.jpg",imagenes:["/Productos/botella.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv9",nombre:"Luz LED Recargable para Bicicleta",precio:24.99,empresa:"Genrica",descripcion:"Visibilidad garantizada en la noche, USB recargable.",imagen:"/Productos/lucesbici.webp",imagenes:["/Productos/lucesbici.webp"],oferta:!0,estado:"Nuevo",acerca:["Luz blanca frontal LED","Recargable por USB","Incluye soporte para manubrio","3 modos de intensidad"],variantes:[{color:"Negro",imagen:"/Productos/lucesbici.webp",imagenes:["/Productos/lucesbici.webp"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cmaras",productos:[{id:"cam1",nombre:"Cmara Hikvision Dome 4MP",precio:120,empresa:"Hikvision",descripcion:"Cmara de seguridad tipo Dome con resolucin 4MP, visin nocturna y carcasa resistente.",imagen:"/Productos/hikvision.png",imagenes:["/Productos/hikvision.png"],oferta:!1,estado:"Nuevo",acerca:["Resolucin 4MP","Visin nocturna infrarroja","Carcasa resistente a la intemperie","Fcil instalacin"],variantes:[{color:"Blanco",imagen:"/Productos/hikvision.png",imagenes:["/Productos/hikvision.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam2",nombre:"Cmara Dahua Bullet Full HD",precio:95,empresa:"Dahua",descripcion:"Cmara Bullet Full HD con lente gran angular, ideal para exteriores.",imagen:"/Productos/dahua.webp",imagenes:["/Productos/dahua.webp"],oferta:!1,estado:"Nuevo",acerca:["Full HD 1080p","Lente gran angular","Resistente a la lluvia","Visin nocturna"],variantes:[{color:"Blanco",imagen:"/Productos/dahua.webp",imagenes:["/Productos/dahua.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam3",nombre:"Cmara EZVIZ WiFi 1080p",precio:75,empresa:"EZVIZ",descripcion:"Cmara WiFi con grabacin en la nube, visin nocturna y audio bidireccional.",imagen:"/Productos/ezviz.png",imagenes:["/Productos/ezviz.png"],oferta:!1,estado:"Nuevo",acerca:["Conexin WiFi","Grabacin en la nube","Audio bidireccional","Visin nocturna"],variantes:[{color:"Blanco",imagen:"/Productos/ezviz.png",imagenes:["/Productos/ezviz.png"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam4",nombre:"Cmara TP-Link Tapo C200",precio:60,empresa:"TP-Link",descripcion:"Cmara PTZ con movimiento horizontal y vertical, notificaciones instantneas y almacenamiento local.",imagen:"/Productos/tapo.webp",imagenes:["/Productos/tapo.webp"],oferta:!1,estado:"Nuevo",acerca:["Control de movimiento PTZ","Notificaciones instantneas","Almacenamiento local SD","Compatible con app mvil"],variantes:[{color:"Blanco",imagen:"/Productos/tapo.webp",imagenes:["/Productos/tapo.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cargadores",productos:[{id:"cg1",nombre:"Cargador rpido USB-C 20W",empresa:"Genrica",precio:499,descripcion:"Carga eficiente para Android y iPhone.",imagen:"/Productos/cargador-rapido.jpg",imagenes:["/Productos/cargador-rapido.jpg"],oferta:!0,estado:"Nuevo",acerca:["Carga rpida 20W","Compatible con Android y iPhone","Proteccin contra sobrecarga","Diseo compacto"],variantes:[{color:"Blanco",imagen:"/Productos/cargador-rapido.jpg",imagenes:["/Productos/cargador-rapido.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg2",nombre:"Cargador inalmbrico universal",empresa:"Genrica",precio:599,descripcion:"Compatible con smartphones que permiten carga por induccin.",imagen:"/Productos/cargador-inalambrico.jpg",imagenes:["/Productos/cargador-inalambrico.jpg"],oferta:!0,estado:"Nuevo",acerca:["Carga inalmbrica Qi","Funciona con la mayora de smartphones","Diseo antideslizante","Indicador LED de carga"],variantes:[{color:"Negro",imagen:"/Productos/cargador-inalambrico.jpg",imagenes:["/Productos/cargador-inalambrico.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg3",nombre:"Power Bank 20,000 mAh",empresa:"Genrica",precio:399,descripcion:"Carga hasta 3 dispositivos con alta capacidad.",imagen:"/Productos/powerbank.jpg",imagenes:["/Productos/powerbank.jpg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 20,000 mAh","3 puertos de salida USB","Carga rpida","Pantalla LED de batera"],variantes:[{color:"Negro",imagen:"/Productos/powerbank.jpg",imagenes:["/Productos/powerbank.jpg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg4",nombre:"Cargador doble USB 30W",empresa:"Genrica",precio:299,descripcion:"Ideal para cargar dos equipos a la vez.",imagen:"/Productos/cargador-doble.jpg",imagenes:["/Productos/cargador-doble.jpg"],oferta:!1,estado:"Nuevo",acerca:["2 puertos USB","Potencia total 30W","Proteccin contra cortocircuito","Compatible con mltiples dispositivos"],variantes:[{color:"Blanco",imagen:"/Productos/cargador-doble.jpg",imagenes:["/Productos/cargador-doble.jpg"],cantidad:9}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Celulares",productos:[{id:"cl1",nombre:"iPhone 14 Pro",empresa:"Apple",precio:999.99,descripcion:"Pantalla Super Retina XDR, chip A16 Bionic.",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Super Retina XDR","Chip A16 Bionic","Triple cmara profesional","Face ID y MagSafe"],variantes:[{color:"Negro",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],cantidad:3},{color:"Morado",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Consolas",productos:[{id:"cs1",nombre:"PlayStation 5",empresa:"PlayStation",precio:499.99,descripcion:"Grficos de nueva generacin y control DualSense.",imagen:"/Productos/ps5.webp",imagenes:["/Productos/ps5.webp"],oferta:!0,estado:"Nuevo",acerca:["Procesador AMD Ryzen","SSD ultrarrpido","Soporta juegos 4K","Incluye control DualSense"],variantes:[{color:"Blanco",imagen:"/Productos/ps5.webp",imagenes:["/Productos/ps5.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs2",nombre:"Xbox Series X",empresa:"Xbox",precio:499.99,descripcion:"La consola ms potente de Xbox.",imagen:"/Productos/xboxseriesx.webp",imagenes:["/Productos/xboxseriesx.webp"],oferta:!0,estado:"Nuevo",acerca:["8K HDR Gaming","Almacenamiento SSD 1TB","Compatible con generaciones anteriores","Incluye control inalmbrico"],variantes:[{color:"Negro",imagen:"/Productos/xboxseriesx.webp",imagenes:["/Productos/xboxseriesx.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs3",nombre:"Nintendo Switch OLED",empresa:"Nintendo",precio:349.99,descripcion:"Llvala donde quieras con pantalla brillante.",imagen:"/Productos/nintendoswitch.jpg",imagenes:["/Productos/nintendoswitch.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla OLED de 7 pulgadas","Modo porttil y TV","Control Joy-Con incluidos","Almacenamiento ampliable"],variantes:[{color:"Blanco",imagen:"/Productos/nintendoswitch.jpg",imagenes:["/Productos/nintendoswitch.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs4",nombre:"Nintendo Switch with Neon Blue and Neon Red JoyCon",empresa:"Nintendo",precio:17e3,descripcion:"Consola hbrida para jugar en casa o donde quieras.",imagen:"/Productos/NS.jpg",imagenes:["/Productos/NS.jpg"],oferta:!1,estado:"Usado",acerca:['Pantalla de 6.2"',"Incluye dos Joy-Con (uno azul nen y uno rojo nen)","Modo TV, sobremesa y porttil","Compatible con todos los juegos de Nintendo Switch"],variantes:[{color:"Nen Azul/Rojo",imagen:"/Productos/NS.jpg",imagenes:["/Productos/NS.jpg","/Productos/NSSS.jpg","/Productos/NSS.jpg","/Productos/NSSSS.jpg","/Productos/N.jpg"],cantidad:1}],videoUrl:"",imagenesExtra:["/Productos/NSS.jpg","/Productos/NSSSS.jpg","/Productos/N.jpg"]},{id:"cs5",nombre:"PlayStation 4",empresa:"PlayStation",precio:299.99,descripcion:"La consola que marc una generacin de gamers.",imagen:"/Productos/ps4.jpg",imagenes:["/Productos/ps4.jpg"],oferta:!0,estado:"Usado",acerca:["Soporte para juegos exclusivos","Almacenamiento 500GB","Blu-ray integrado","Incluye control DualShock 4"],variantes:[{color:"Negro",imagen:"/Productos/ps4.jpg",imagenes:["/Productos/ps4.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs6",nombre:"Xbox One",empresa:"Xbox",precio:279.99,descripcion:"Disfruta juegos, entretenimiento y apps en una sola consola.",imagen:"/Productos/xboxone.webp",imagenes:["/Productos/xboxone.webp"],oferta:!0,estado:"Usado",acerca:["Compatible con Xbox Game Pass","Almacenamiento 500GB","Control inalmbrico incluido","Soporte para apps de streaming"],variantes:[{color:"Negro",imagen:"/Productos/xboxone.webp",imagenes:["/Productos/xboxone.webp"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs7",nombre:"Nintendo Wii U Edicin Mario Kart 8 + Nintendo Land",empresa:"Nintendo",precio:8499,descripcion:"Consola Wii U de 32GB edicin especial que incluye Mario Kart 8 y Nintendo Land.",imagen:"/productospcu/mariokart-wiiu.webp",imagenes:["/productospcu/mariokart-wiiu.webp"],oferta:!0,estado:"Usado",acerca:["Incluye Mario Kart 8","Incluye Nintendo Land","Almacenamiento interno de 32GB","Compatible con controles Wii y Wii U Pro","Compatible con juegos de Wii"],variantes:[{color:"Negro",imagen:"/productospcu/mariokart-wiiu.webp",imagenes:["/productospcu/mariokart-wiiu.webp","/productospcu/mariokart-consola-wiiu.webp","/productospcu/consolawiiu.webp","/productospcu/consola-wiiu.webp","/productospcu/juegomariokart.webp","/productospcu/cables-wiiu.webp"],cantidad:1}],videoUrl:"/videos/",imagenesExtra:["/productospcu/mariokart-consola-wiiu.webp","/productospcu/consola-wiiu.webp","/productospcu/juegomariokart.webp"]},{id:"cs8",nombre:"Nintendo Wii + Wii Sports + Wii Sports Resort",empresa:"Nintendo",precio:5999,descripcion:"Consola Wii clsica con juegos Wii Sports, Wii Sports Resort y accesorio Motion Plus.",imagen:"/productospcu/wii-black.webp",imagenes:["/productospcu/wii-black.webp"],oferta:!0,estado:"Usado",acerca:["Incluye Wii Motion Plus","Compatible con juegos y accesorios clsicos de Wii","Ideal para juegos familiares y de movimiento"],variantes:[{color:"Blanco",imagen:"/productospcu/wii-black.webp",imagenes:["/productospcu/wii-black.webp","/productospcu/wii-console.jpg","/productospcu/wiii-pack.png"],cantidad:1}],videoUrl:"/videos/",imagenesExtra:["/productospcu/wii-black.webp","/productospcu/wii-console.jpg","/productospcu/wiii-pack.png"]}]},{categoria:"Discos Duros",productos:[{id:"dd1",nombre:"Seagate 1TB Externo",empresa:"Seagate",precio:59.99,descripcion:"Pequeo, rpido y confiable.",imagen:"/Productos/seagate.png",imagenes:["/Productos/seagate.png"],oferta:!0,estado:"Nuevo",acerca:["Capacidad de 1TB","USB 3.0 para alta velocidad","Compatible con Windows y Mac","Diseo porttil y resistente"],variantes:[{color:"Negro",imagen:"/Productos/seagate.png",imagenes:["/Productos/seagate.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd2",nombre:"SSD Samsung 500GB",empresa:"Samsung",precio:89.99,descripcion:"Perfecto para acelerar tu sistema.",imagen:"/Productos/samsung.webp",imagenes:["/Productos/samsung.webp"],oferta:!0,estado:"Nuevo",acerca:["500GB SSD","Velocidad de lectura/escritura superior a 500MB/s","Interfaz SATA III","Ideal para laptops y PC"],variantes:[{color:"Negro",imagen:"/Productos/samsung.webp",imagenes:["/Productos/samsung.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd3",nombre:"WD 2TB Externo",empresa:"Western Digital",precio:79.99,descripcion:"Ideal para respaldo completo.",imagen:"/Productos/wd2tb.jpg",imagenes:["/Productos/wd2tb.jpg"],oferta:!1,estado:"Nuevo",acerca:["2TB de capacidad","USB 3.0","Proteccin por hardware","Diseo resistente"],variantes:[{color:"Negro",imagen:"/Productos/wd2tb.jpg",imagenes:["/Productos/wd2tb.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd4",nombre:"Crucial X6 SSD 1TB",empresa:"Crucial",precio:99.99,descripcion:"Ultraporttil con conexin USB-C.",imagen:"/Productos/crucial.jpg",imagenes:["/Productos/crucial.jpg"],oferta:!0,estado:"Nuevo",acerca:["1TB SSD externo","Interfaz USB-C","Resistente a golpes","Ultracompacto"],variantes:[{color:"Negro",imagen:"/Productos/crucial.jpg",imagenes:["/Productos/crucial.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd5",nombre:"LaCie Rugged 4TB",empresa:"LaCie",precio:179.99,descripcion:"Resistente a golpes y polvo, ideal para creativos.",imagen:"/Productos/lacie-rugged.jpg",imagenes:["/Productos/lacie-rugged.jpg"],oferta:!0,estado:"Nuevo",acerca:["4TB de capacidad","Proteccin anticadas","USB-C y Thunderbolt","Diseo resistente a polvo y agua"],variantes:[{color:"Naranja",imagen:"/Productos/lacie-rugged.jpg",imagenes:["/Productos/lacie-rugged.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Electrodomsticos",productos:[{id:"ed1",nombre:"Licuadora Oster clsica",empresa:"Oster",precio:69.99,descripcion:"Motor potente con jarra de vidrio.",imagen:"/Productos/licuadora-oster.jpg",imagenes:["/Productos/licuadora-oster.jpg"],oferta:!0,estado:"Nuevo",acerca:["Motor de 600W","Jarra de vidrio de 1.25L","Cuchillas de acero inoxidable","Fcil de limpiar"],variantes:[{color:"Negro",imagen:"/Productos/licuadora-oster.jpg",imagenes:["/Productos/licuadora-oster.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Gaming Chairs",productos:[{id:"gc1",nombre:"Silla Gamer Reclinable RGB",empresa:"Generica",precio:229.99,descripcion:"Iluminacin RGB y soporte lumbar acolchado.",imagen:"/Productos/silla-gamer-rgb.jpg",imagenes:["/Productos/silla-gamer-rgb.jpg"],oferta:!0,estado:"Nuevo",acerca:["Iluminacin RGB personalizable","Soporte lumbar acolchado","Reposabrazos ajustable","Reclinable hasta 180"],variantes:[{color:"Negro",imagen:"/Productos/silla-gamer-rgb.jpg",imagenes:["/Productos/silla-gamer-rgb.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Laptops",productos:[{id:"lp1",nombre:"Laptop Dell Inspiron 15",empresa:"Dell",precio:799.99,descripcion:"Intel i5, SSD 256GB, pantalla 15.6.",imagen:"/Productos/dell-inspiron15.jpg",imagenes:["/Productos/dell-inspiron15.jpg"],oferta:!0,estado:"Nuevo",acerca:["Procesador Intel Core i5","SSD 256GB","Pantalla 15.6'' Full HD","Windows 11 preinstalado"],variantes:[{color:"Gris",imagen:"/Productos/dell-inspiron15.jpg",imagenes:["/Productos/dell-inspiron15.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Monitores",productos:[{id:"mn1",nombre:"LG 27 pulgadas 4K",empresa:"LG",precio:399.99,descripcion:"Colores vibrantes para diseo y gaming.",imagen:"/Productos/monitor-lg-4k.jpg",imagenes:["/Productos/monitor-lg-4k.jpg"],oferta:!0,estado:"Nuevo",acerca:["Resolucin 4K UHD","Pantalla IPS 27''","Frecuencia de actualizacin 60Hz","Compatible con HDMI y DisplayPort"],variantes:[{color:"Negro",imagen:"/Productos/monitor-lg-4k.jpg",imagenes:["/Productos/monitor-lg-4k.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Tablets",productos:[{id:"tb1",nombre:"iPad Pro 12.9",empresa:"Apple",precio:999.99,descripcion:"Chip M1 y pantalla Liquid Retina.",imagen:"/Productos/ipad-pro.jpg",imagenes:["/Productos/ipad-pro.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Liquid Retina 12.9''","Chip Apple M1","Compatible con Apple Pencil","Face ID y USB-C"],variantes:[{color:"Gris espacial",imagen:"/Productos/ipad-pro.jpg",imagenes:["/Productos/ipad-pro.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Teclados",productos:[{id:"acc1",nombre:"Mini Teclado Inalmbrico con Touchpad",empresa:"Genrico",precio:24.99,descripcion:"Mini teclado inalmbrico con touchpad integrado, ideal para controlar tu PC, Smart TV o consola desde el sof.",imagen:"/productospcu/miniteclado.png",imagenes:["/productospcu/miniteclado.png"],oferta:!1,estado:"Nuevo",acerca:["Touchpad con funcin DPI ajustable","Compatible con PC, Smart TV, Android TV Box, consolas y ms","Porttil, elegante y fcil de usar","Rueda de mouse integrada para navegacin fluida","Control multimedia remoto especfico","Diseo compacto y recargable"],variantes:[{color:"Negro",imagen:"/productospcu/miniteclado.png",imagenes:["/productospcu/miniteclado.png","/productospcu/tminieclado-back.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Videojuegos",productos:[{id:"vj3",nombre:"The Legend of Zelda: Breath of the Wild",empresa:"Nintendo",precio:59.99,descripcion:"Aventura pica en mundo abierto.",imagen:"/Productos/zelda.webp",imagenes:["/Productos/zelda.webp"],oferta:!0,estado:"Nuevo",acerca:["Exploracin libre","Compatible con Nintendo Switch","Gran duracin de juego","Grficos impresionantes"],variantes:[{color:"Verde",imagen:"/Productos/zelda.webp",imagenes:["/Productos/zelda.webp"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj5",nombre:"Marvel's Spider-Man: Miles Morales (PS5)",empresa:"PlayStation",precio:49.99,descripcion:"gil y cinematogrfica aventura del universo Marvel.",imagen:"/Productos/spider-manps5.jpeg",imagenes:["/Productos/spider-manps5.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Exclusivo para PS5","Grficos en 4K","Historia original Marvel","Accin en mundo abierto"],variantes:[{color:"Negro",imagen:"/Productos/spider-manps5.jpeg",imagenes:["/Productos/spider-manps5.jpeg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj6",nombre:"Mario Kart 8 Deluxe (Switch)",empresa:"Nintendo",precio:59.99,descripcion:"Carreras locas, tems clsicos y multiplayer pico.",imagen:"/Productos/Mario-Kart-8.jpeg",imagenes:["/Productos/Mario-Kart-8.jpeg"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Nintendo Switch","Multijugador local y online","Incluye todos los DLC","Frenes de carreras"],variantes:[{color:"Rojo",imagen:"/Productos/Mario-Kart-8.jpeg",imagenes:["/Productos/Mario-Kart-8.jpeg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj7",nombre:"Super Smash Bros. Ultimate (Switch)",empresa:"Nintendo",precio:64.99,descripcion:"El crossover de batallas ms grande de Nintendo.",imagen:"/Productos/super-smash-bros.jpg",imagenes:["/Productos/super-smash-bros.jpg"],oferta:!0,estado:"Nuevo",acerca:["Ms de 70 personajes jugables","Compatible con Nintendo Switch","Modo aventura y multijugador","Todos los universos de Nintendo"],variantes:[{color:"Azul",imagen:"/Productos/super-smash-bros.jpg",imagenes:["/Productos/super-smash-bros.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Smart TV",productos:[{id:"tv1",nombre:'Samsung Smart TV 55" UHD',empresa:"Samsung",precio:499.99,descripcion:"4K UHD, control por voz y apps integradas.",imagen:"/Productos/samsung-smarttv.jpg",imagenes:["/Productos/samsung-smarttv.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla 55'' 4K UHD","Control por voz integrado","Acceso a apps de streaming","HDR10+ y WiFi"],variantes:[{color:"Negro",imagen:"/Productos/samsung-smarttv.jpg",imagenes:["/Productos/samsung-smarttv.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Memorias USB",productos:[{id:"usb1",nombre:"USB SanDisk 64GB",empresa:"SanDisk",precio:12.99,descripcion:"Compacta y veloz para llevar tus archivos.",imagen:"/Productos/sandisk.jpeg",imagenes:["/Productos/sandisk.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 64GB","USB 3.1","Diseo resistente","Compatible con Windows, Mac y Linux"],variantes:[{color:"Negro",imagen:"/Productos/sandisk.jpeg",imagenes:["/Productos/sandisk.jpeg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb2",nombre:"Kingston 128GB USB 3.1",empresa:"Kingston",precio:19.99,descripcion:"Velocidades superiores para trabajo o backup.",imagen:"/Productos/kingston.webp",imagenes:["/Productos/kingston.webp"],oferta:!1,estado:"Nuevo",acerca:["Capacidad 128GB","USB 3.1 Gen 1","Alto rendimiento de lectura y escritura","Diseo compacto"],variantes:[{color:"Negro",imagen:"/Productos/kingston.webp",imagenes:["/Productos/kingston.webp"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb3",nombre:"HP v150w 32GB",empresa:"HP",precio:8.99,descripcion:"Diseo duradero y prctico.",imagen:"/Productos/hp.jpeg",imagenes:["/Productos/hp.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 32GB","USB 2.0","Resistente al agua y golpes","Ideal para portabilidad"],variantes:[{color:"Azul",imagen:"/Productos/hp.jpeg",imagenes:["/Productos/hp.jpeg"],cantidad:12}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb4",nombre:"Corsair Flash Voyager 256GB",empresa:"Corsair",precio:49.99,descripcion:"Almacenamiento masivo en formato USB 3.0.",imagen:"/Productos/corsair.avif",imagenes:["/Productos/corsair.avif"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 256GB","USB 3.0 de alta velocidad","Diseo resistente al agua","Compatible con todos los sistemas operativos"],variantes:[{color:"Negro",imagen:"/Productos/corsair.avif",imagenes:["/Productos/corsair.avif"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Hogar Inteligente",productos:[{id:"hi1",nombre:"Foco inteligente Wi-Fi RGB",empresa:"Philips",precio:24.99,descripcion:"Control desde app o comandos de voz.",imagen:"/Productos/foco-inteligente.jpg",imagenes:["/Productos/foco-inteligente.jpg"],oferta:!0,estado:"Usado",acerca:["Control por app o voz","Colores RGB configurables","Compatible con Alexa y Google","Ahorro energtico"],variantes:[{color:"Blanco",imagen:"/Productos/foco-inteligente.jpg",imagenes:["/Productos/foco-inteligente.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"hi2",nombre:"Enchufe inteligente TP-Link",empresa:"TP-Link",precio:19.99,descripcion:"Controla cualquier dispositivo desde tu celular.",imagen:"/Productos/enchufeinteligentewifi.jpg",imagenes:["/Productos/enchufeinteligentewifi.jpg"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Alexa y Google","Programacin de horarios","Fcil instalacin","Control remoto va app"],variantes:[{color:"Blanco",imagen:"/Productos/enchufeinteligentewifi.jpg",imagenes:["/Productos/enchufeinteligentewifi.jpg"],cantidad:12}],videoUrl:"https://tulinkalvideo2.mp4",imagenesExtra:["/Productos/enchufe-extra1.jpg","/Productos/enchufe-extra2.jpg","/Productos/enchufe-extra3.jpg"]},{id:"hi4",nombre:"Sensor de movimiento Wi-Fi",empresa:"Sonoff",precio:15.5,descripcion:"Detecta movimientos y enva alertas instantneas.",imagen:"/Productos/sensormovimientowifi.jpg",imagenes:["/Productos/sensormovimientowifi.jpg"],oferta:!0,estado:"Nuevo",acerca:["Notificaciones en tiempo real","Conexin Wi-Fi","Bajo consumo","Fcil integracin con otros dispositivos"],variantes:[{color:"Blanco",imagen:"/Productos/sensormovimientowifi.jpg",imagenes:["/Productos/sensormovimientowifi.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo3.mp4",imagenesExtra:["/Productos/sensor-extra1.jpg","/Productos/sensor-extra2.jpg","/Productos/sensor-extra3.jpg"]},{id:"hi8",nombre:"Amazon Echo Dot",empresa:"Amazon",precio:39.99,descripcion:"Asistente de voz Alexa en diseo compacto.",imagen:"/Productos/echodot.png",imagenes:["/Productos/echodot.png"],oferta:!1,estado:"Usado",acerca:["Control por voz","Sonido mejorado","Compatible con dispositivos inteligentes","Diseo moderno"],variantes:[{color:"Negro",imagen:"/Productos/echodot.png",imagenes:["/Productos/echodot.png"],cantidad:5}],videoUrl:"https://tulinkalvideo4.mp4",imagenesExtra:["/Productos/echodot-extra1.jpg","/Productos/echodot-extra2.jpg","/Productos/echodot-extra3.jpg"]},{id:"hi9",nombre:"Amazon Echo Show 8",empresa:"Amazon",precio:89.99,descripcion:"Pantalla inteligente con Alexa integrada.",imagen:"/Productos/alexaecho.webp",imagenes:["/Productos/alexaecho.webp"],oferta:!0,estado:"Nuevo",acerca:["Pantalla tctil HD","Llamadas y videollamadas","Cmara integrada","Control por voz"],variantes:[{color:"Negro",imagen:"/Productos/alexaecho.webp",imagenes:["/Productos/alexaecho.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo5.mp4",imagenesExtra:["/Productos/echoshow-extra1.jpg","/Productos/echoshow-extra2.jpg","/Productos/echoshow-extra3.jpg"]},{id:"hi11",nombre:"Smart Plug compatible con Alexa",empresa:"Gosund",precio:14.99,descripcion:"Control remoto de dispositivos con la voz.",imagen:"/Productos/smartplug.jpg",imagenes:["/Productos/smartplug.jpg"],oferta:!1,estado:"Nuevo",acerca:["Funciona con Alexa y Google","Fcil instalacin","Ahorro de energa","App intuitiva"],variantes:[{color:"Blanco",imagen:"/Productos/smartplug.jpg",imagenes:["/Productos/smartplug.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo6.mp4",imagenesExtra:["/Productos/smartplug-extra1.jpg","/Productos/smartplug-extra2.jpg","/Productos/smartplug-extra3.jpg"]}]},{categoria:"Impresoras",productos:[{id:"imp001",nombre:"Impresora Epson EcoTank L3250",empresa:"Epson",precio:229.99,descripcion:"Impresora multifuncional con sistema de tinta continua, ideal para hogar y oficina.",imagen:"/Productos/epson-l3250.jpg",imagenes:["/Productos/epson-l3250.jpg"],oferta:!0,estado:"Usado",acerca:["Sistema de tinta continua EcoTank","Impresin, escaneo y copiado","WiFi y USB","Ahorro en costos de impresin"],variantes:[{color:"Negro",imagen:"/Productos/epson-l3250.jpg",imagenes:["/Productos/epson-l3250.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Nuevos Lanzamientos",productos:[{id:"nl3",nombre:"Nintendo Switch 2",empresa:"Nintendo",precio:449.99,descripcion:"Pantalla mejorada, nuevo dock y retrocompatibilidad.",imagen:"/Productos/switch2.jpg",imagenes:["/Productos/switch2.jpg"],oferta:!0,estado:"Usado",acerca:["Pantalla OLED mejorada","Nuevo dock con salida 4K","Retrocompatible con Switch 1","Mayor duracin de batera"],variantes:[{color:"Negro",imagen:"/Productos/switch2.jpg",imagenes:["/Productos/switch2.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Ofertas Especiales",productos:[{id:"of3",nombre:"Oferta Smart TV + Soporte",empresa:"Samsung",precio:519.99,descripcion:"Ideal para tu setup de sala o habitacin.",imagen:"/Productos/combo-tv.jpg",imagenes:["/Productos/combo-tv.jpg"],oferta:!0,estado:"Nuevo",acerca:["Smart TV 50'' 4K UHD","Soporte de pared incluido","Control remoto","Conectividad HDMI y USB"],variantes:[{color:"Negro",imagen:"/Productos/combo-tv.jpg",imagenes:["/Productos/combo-tv.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Relojes Inteligentes",productos:[{id:"rl1",nombre:"Apple Watch Series 9",empresa:"Apple",precio:399.99,descripcion:"Monitoreo avanzado de salud y entrenamiento.",imagen:"/Productos/apple-watch9.jpg",imagenes:["/Productos/apple-watch9.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Always-On Retina","Resistencia al agua 50m","Monitoreo de salud y ejercicio","Hasta 18h de batera"],variantes:[{color:"Gris",imagen:"/Productos/apple-watch9.jpg",imagenes:["/Productos/apple-watch9.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"AccesoriosVideojuegos",productos:[{id:"sw2",nombre:"Crystal Protector para Nintendo Switch (PCS-2545)",empresa:"Nintendo",precio:14.99,descripcion:"Protector rgido y transparente para proteger tu consola Nintendo Switch de golpes y rayaduras.",imagen:"/productospcu/cristal-protector.png",imagenes:["/productospcu/cristal-protector.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado especficamente para Nintendo Switch","Material acrlico transparente resistente a impactos","Permite acceso a todos los botones y puertos","Fcil de instalar y remover","Proteccin total sin perder visibilidad del diseo original"],variantes:[{imagen:"/productospcu/cristal-protector.png",imagenes:["/productospcu/cristal-protector.png","/productospcu/cristal-protector-back.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw4",nombre:"Cargador Doble para Switch Joy-Con & Pro Controller",empresa:"Nintendo",precio:24.99,descripcion:"Base de carga para 2 Joy-Con y un Pro Controller al mismo tiempo.",imagen:"/productospcu/cargador-controles.png",imagenes:["/productospcu/cargador-controles.png"],oferta:!1,estado:"Nuevo",acerca:["Carga simultneamente 2 Joy-Con y 1 Pro Controller","Diseo compacto y resistente","Luz LED de estado de carga","Compatible con Nintendo Switch","Fabricado por DOBE / FOMIS Electronics"],variantes:[{color:"Negro",imagen:"/productospcu/cargador-controles.png",imagenes:["/productospcu/cargador-controles.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw3",nombre:"Base Soporte Handgrip para Joy-Con",empresa:"Nintendo",precio:9.99,descripcion:"Base para convertir tus Joy-Con en un solo control estilo tradicional.",imagen:"/productospcu/n-switch.png",imagenes:["/productospcu/n-switch.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado para Nintendo Switch Joy-Con","NS Joy-Con no incluidos","Convierte los Joy-Con en un control nico","Diseo cmodo para largas sesiones","Fabricado en plstico resistente"],variantes:[{color:"Negro",imagen:"/productospcu/n-switcg.png",imagenes:["/productospcu/n-switch.png","/productospcu/n-switch-back.png"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Mouses",productos:[{id:"p4",nombre:"Mouse Gamer MEE TION M371",empresa:"MEE TION",sku:"M371-GAMING",precio:700,descripcion:"Mouse con iluminacin LED, 3 niveles de DPI (800/1200/1600), botones de navegacin y diseo ergonmico.",imagen:"/Productospcu/meetionmouse.png",imagenes:["/Productospcu/meetionmouse.png"],oferta:!1,estado:"Nuevo",acerca:["Iluminacin LED breathing","3 niveles de DPI: 800/1200/1600","Botones adicionales para navegacin","Sensor ptico preciso"],variantes:[{imagen:"/Productospcu/meetionmouse.png",imagenes:["/Productospcu/meetionmouse.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Controles",productos:[{id:"p5",nombre:"Controlador Inalmbrico para Nintendo Switch",sku:"NS-WIRELESS",empresa:"Nintendo",precio:1450,descripcion:"Control inalmbrico con sensores de movimiento, vibracin doble y conexin USB Tipo-C. Compatible con Nintendo Switch.",imagen:"/productospcu/controlN-S.png",imagenes:["/productospcu/controlN-S.png"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Nintendo Switch","Sensores de movimiento","Vibracin doble","Recargable por USB Tipo-C","Conexin Bluetooth"],variantes:[{imagen:"/productospcu/controlN-S.png",imagenes:["/productospcu/controlN-S.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw1",nombre:"Nintendo Switch Pro Controller",empresa:"Nintendo",precio:69.99,descripcion:"Control inalmbrico original para Nintendo Switch con excelente ergonoma y respuesta precisa.",imagen:"/productospcu/control-pro.png",imagenes:["/productospcu/control-pro.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado para Nintendo Switch","Conexin inalmbrica estable va Bluetooth","Compatible con vibracin HD y sensores de movimiento","Batera recargable de larga duracin","Diseo ergonmico para mayor comodidad"],variantes:[{imagen:"/productospcu/control-pro.png",imagenes:["/productospcu/control-pro.png","/productospcu/control-pro-back.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"xone1",nombre:"Control Inalmbrico para Xbox One",empresa:"Xbox",precio:64.99,descripcion:"Control inalmbrico original para Xbox One con vibracin precisa y agarre texturizado.",imagen:"/productospcu/control-one.png",imagenes:["/productospcu/control-one.png"],oferta:!1,estado:"Nuevo",acerca:["Compatibilidad con Xbox One y PC","Conexin inalmbrica estable","Vibracin precisa y sensibilidad mejorada","Diseo ergonmico con agarre texturizado","Soporta conexin va Bluetooth o cable USB"],variantes:[{imagen:"/productospcu/control-one.png",imagenes:["/productospcu/control-one.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"wii1",nombre:"Control Remoto + Nunchuk para Wii (Motion Plus)",empresa:"Nintendo",precio:39.99,descripcion:"Combo de control remoto y nunchuk cableado compatible con Motion Plus.",imagen:"/productospcu/control-wii.png",imagenes:["/productospcu/control-wii.png"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Wii y Wii U","Incluye control remoto inalmbrico y nunchuk con cable","Soporte para Motion Plus integrado","Funciona con todos los juegos compatibles","Diseo liviano y ergonmico"],variantes:[{imagen:"/productospcu/control-wii.png",imagenes:["/productospcu/control-wii.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"c5",nombre:"Sony DualShock 4 Wireless Controller para PS4 / PS TV / PS Now",empresa:"PlayStation",precio:54.99,descripcion:"Control original con conexin inalmbrica y vibracin dual compatible con mltiples plataformas.",imagen:"/productospcu/dualshock4-negro.png",imagenes:["/productospcu/dualshock4-negro.png","/productospcu/Adualshock4-rojo.png","/productospcu/dualshock4-azul.png","/productospcu/dualshock4-back.png"],acerca:["Conexin inalmbrica Bluetooth para mayor libertad de juego","Panel tctil multitctil en la parte frontal","Barra de luz integrada para seguimiento y personalizacin","Jack de audio de 3.5 mm para auriculares","Compatible con PS4, PS TV, PS Now y PC va Bluetooth o cable USB","Batera recargable con hasta 8 horas de duracin"],variantes:[{color:"Negro",imagen:"/productospcu/dualshock4-negro.png",imagenes:["/productospcu/dualshock4-negro.png","/productospcu/dualshock4-back.png"],cantidad:1},{color:"Rojo",imagen:"/productospcu/Adualshock4-rojo.png",imagenes:["/productospcu/Adualshock4-rojo.png","/productospcu/dualshock4-back.png"],cantidad:1},{color:"Azul",imagen:"/productospcu/dualshock4-azul.png",imagenes:["/productospcu/dualshock4-azul.png","/productospcu/dualshock4-back.png"],cantidad:1}],videoUrl:"",imagenesExtra:["/Productos/","/Productos/","/Productos/"],oferta:!0,estado:"Nuevo"},{id:"ps2ctrl1",nombre:"Control Sony DualShock 2 para PS2",empresa:"PlayStation",precio:29.99,descripcion:"Control original con vibracin dual y sticks analgicos, compatible con todas las consolas PlayStation 2.",imagen:"/productospcu/dualshock2.png",imagenes:["/productospcu/dualshock2.png"],oferta:!1,estado:"Nuevo",acerca:["Fabricado por Sony para PlayStation 2","Vibracin dual para una experiencia inmersiva","Dos sticks analgicos con alta precisin","Diseo ergonmico clsico","Compatible con todos los modelos de PS2","Cable de conexin robusto"],variantes:[{color:"Negro",imagen:"/productospcu/dualshock2.png",imagenes:["/productospcu/dualshock2.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"xone2",nombre:"Control Inalmbrico Cosaux FM08 para Xbox",empresa:"Xbox",precio:34.99,descripcion:"Gamepad inalmbrico estilo Xbox, ideal para juegos casuales en PC o consola. *Producto sin probar (untested)*.",imagen:"/productospcu/controlxbox.png",imagenes:["/productospcu/controlxbox.png"],oferta:!0,estado:"Nuevo",acerca:["Diseo ergonmico tipo Xbox","Botones responsivos y joystick doble","Conectividad inalmbrica","Compatible con PC y algunas consolas","Ideal como control secundario","*Nota: producto sin probar (untested)*"],variantes:[{color:"Negro",imagen:"/productospcu/controlxbox.png",imagenes:["/productospcu/controlxbox.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]}],ob=k.forwardRef(({onClose:t,placeholder:e="Buscar en pcu.com.do"},n)=>{const[r,i]=k.useState(""),[a,l]=k.useState([]),[d,h]=k.useState(!1),m=k.useRef(null),g=pr(),y=Mi.flatMap(_=>_.productos),x=_=>{if(!_.trim())return[];const C=_.toLowerCase();return y.filter(A=>{const L=A.nombre.toLowerCase(),V=(A.empresa||"").toLowerCase();return L.includes(C)||V.includes(C)})};k.useEffect(()=>{if(!r.trim()){l([]),h(!1);return}const _=setTimeout(()=>{const C=x(r);l(C),h(!0)},250);return()=>clearTimeout(_)},[r]),k.useEffect(()=>{const _=C=>{m.current&&!m.current.contains(C.target)&&h(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const S=_=>{_.preventDefault(),r.trim()&&(g(`/buscar?q=${encodeURIComponent(r.trim())}`),i(""),l([]),h(!1),t&&t())},P=_=>{const C=_.nombre.trim();g(`/buscar?q=${encodeURIComponent(C)}`),i(""),l([]),h(!1),t&&t()};return c.jsxs("div",{className:"relative w-full",ref:m,children:[c.jsxs("form",{onSubmit:S,className:"flex w-full",children:[c.jsx("input",{type:"text",ref:n,value:r,onChange:_=>i(_.target.value),placeholder:e,className:"flex-grow border border-gray-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",autoComplete:"off"}),c.jsx("button",{type:"submit",className:"ml-2 px-4 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-md text-sm font-semibold transition",children:"Buscar"})]}),d&&a.length>0&&c.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-md max-h-72 overflow-y-auto",children:a.map(_=>c.jsxs("li",{onClick:()=>P(_),className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-base break-words",title:`${_.nombre} ${_.empresa?"- "+_.empresa:""}`,children:[c.jsx("div",{className:"font-semibold",children:_.nombre}),_.empresa&&c.jsx("div",{className:"text-xs text-gray-500",children:_.empresa})]},_.id))})]})}),rA=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],d=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let x=(d&15)<<2|m>>6,S=m&63;h||(S=64,l||(x=64)),r.push(n[g],n[y],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||m==null||y==null)throw new sA;const x=a<<2|d>>4;if(r.push(x),m!==64){const S=d<<4&240|m>>2;if(r.push(S),y!==64){const P=m<<6&192|y;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(t){const e=hS(t);return fS.encodeByteArray(e,!0)},jf=function(t){return oA(t).replace(/\./g,"")},pS=function(t){try{return fS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>aA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof ab>"u")return;const t=ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return rA()||lA()||cA()||uA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gS=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yS=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config},vS=t=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(l)),""].join(".")}const uu={};function hA(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function fA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lb=!1;function Oy(t,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||uu[t]===e||uu[t]||lb)return;uu[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=hA().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{lb=!0,l()},x}function g(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=fA(r),S=n("text"),P=document.getElementById(S)||document.createElement("span"),_=n("learnmore"),C=document.getElementById(_)||document.createElement("a"),A=n("preprendIcon"),L=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const V=x.element;d(V),g(C,_);const B=m();h(L,A),V.append(L,P,C,B),document.body.appendChild(V)}a?(P.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function mA(){var t;const e=(t=fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wA(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EA,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?SA(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Xi(i,d,r)}}function SA(t,e){return t.replace(TA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TA=/\{\$([^}]+)}/g;function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(cb(a)&&cb(l)){if(!wa(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CA(t,e){const n=new NA(t,e);return n.subscribe.bind(n)}class NA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===la?void 0:t}function IA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const DA={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},MA=Je.INFO,VA={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},OA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=OA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const LA=(t,e)=>e.some(n=>t instanceof n);let ub,db;function FA(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,E0=new WeakMap,bS=new WeakMap,Mg=new WeakMap,Fy=new WeakMap;function BA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(fo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&wS.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function $A(t){if(E0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});E0.set(t,e)}let S0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zA(t){S0=t(S0)}function HA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vg(this),e,...n);return bS.set(r,e.sort?e.sort():[e]),fo(r)}:UA().includes(t)?function(...e){return t.apply(Vg(this),e),fo(wS.get(this))}:function(...e){return fo(t.apply(Vg(this),e))}}function WA(t){return typeof t=="function"?HA(t):(t instanceof IDBTransaction&&$A(t),LA(t,FA())?new Proxy(t,S0):t)}function fo(t){if(t instanceof IDBRequest)return BA(t);if(Mg.has(t))return Mg.get(t);const e=WA(t);return e!==t&&(Mg.set(t,e),Fy.set(e,t)),e}const Vg=t=>Fy.get(t);function qA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=fo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(fo(l.result),h.oldVersion,h.newVersion,fo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const GA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],Og=new Map;function hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Og.get(e))return Og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GA.includes(n)))return;const a=async function(l,...d){const h=this.transaction(l,i?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&h.done]))[0]};return Og.set(e,a),a}zA(t=>({...t,get:(e,n,r)=>hb(e,n)||t.get(e,n,r),has:(e,n)=>!!hb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T0="@firebase/app",fb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Ly("@firebase/app"),YA="@firebase/app-compat",JA="@firebase/analytics-compat",ZA="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",rI="@firebase/auth-compat",iI="@firebase/database",sI="@firebase/data-connect",oI="@firebase/database-compat",aI="@firebase/functions",lI="@firebase/functions-compat",cI="@firebase/installations",uI="@firebase/installations-compat",dI="@firebase/messaging",hI="@firebase/messaging-compat",fI="@firebase/performance",pI="@firebase/performance-compat",mI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",vI="@firebase/storage-compat",xI="@firebase/firestore",wI="@firebase/ai",bI="@firebase/firestore-compat",_I="firebase",EI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="[DEFAULT]",SI={[T0]:"fire-core",[YA]:"fire-core-compat",[ZA]:"fire-analytics",[JA]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[rI]:"fire-auth-compat",[iI]:"fire-rtdb",[sI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[aI]:"fire-fn",[lI]:"fire-fn-compat",[cI]:"fire-iid",[uI]:"fire-iid-compat",[dI]:"fire-fcm",[hI]:"fire-fcm-compat",[fI]:"fire-perf",[pI]:"fire-perf-compat",[mI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[vI]:"fire-gcs-compat",[xI]:"fire-fst",[bI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,TI=new Map,C0=new Map;function pb(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(C0.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,t);for(const n of Af.values())pb(n,t);for(const n of TI.values())pb(n,t);return!0}function pp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Ju("app","Firebase",PI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=EI;function _S(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=yS()),!n)throw po.create("no-options");const a=Af.get(i);if(a){if(wa(n,a.options)&&wa(r,a.config))return a;throw po.create("duplicate-app",{appName:i})}const l=new RA(i);for(const h of C0.values())l.addComponent(h);const d=new CI(n,r,l);return Af.set(i,d),d}function Uy(t=P0){const e=Af.get(t);if(!e&&t===P0&&yS())return _S();if(!e)throw po.create("no-app",{appName:t});return e}function Vi(t,e,n){var r;let i=(r=SI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}ba(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",kI=1,Cu="firebase-heartbeat-store";let Lg=null;function ES(){return Lg||(Lg=qA(NI,kI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),Lg}async function jI(t){try{const n=(await ES()).transaction(Cu),r=await n.objectStore(Cu).get(SS(t));return await n.done,r}catch(e){if(e instanceof Xi)ws.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function mb(t,e){try{const r=(await ES()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(e,SS(t)),await r.done}catch(n){if(n instanceof Xi)ws.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(r.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1024,II=30;class RI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>II){const l=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gb(),{heartbeatsToSend:r,unsentEntries:i}=DI(this._heartbeatsCache.heartbeats),a=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ws.warn(n),""}}}function gb(){return new Date().toISOString().substring(0,10)}function DI(t,e=AI){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),yb(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yb(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}function VI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){ba(new yo("platform-logger",e=>new QA(e),"PRIVATE")),ba(new yo("heartbeat",e=>new RI(e),"PRIVATE")),Vi(T0,fb,t),Vi(T0,fb,"esm2017"),Vi("fire-js","")}OI("");function By(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=TS,PS=new Ju("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Ly("@firebase/auth");function FI(t,...e){If.logLevel<=Je.WARN&&If.warn(`Auth (${ka}): ${t}`,...e)}function lf(t,...e){If.logLevel<=Je.ERROR&&If.error(`Auth (${ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw $y(t,...e)}function Oi(t,...e){return $y(t,...e)}function CS(t,e,n){const r=Object.assign(Object.assign({},LI()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return CS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $y(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PS.create(t,...e)}function Ve(t,e,...n){if(!t)throw $y(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function bs(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UI(){return vb()==="http:"||vb()==="https:"}function vb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UI()||yA()||"connection"in navigator)?navigator.onLine:!0}function $I(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=pA()||vA()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WI=new ed(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ks(t,e,n,r,i={}){return kS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Zu(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return gA()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&jo(t.emulatorConfig.host)&&(m.credentials="include"),NS.fetch()(await jS(t,t.config.apiHost,n,d),m)})}async function kS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zI),e);try{const i=new GI(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Vh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vh(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw CS(t,g,m);fi(t,g)}}catch(i){if(i instanceof Xi)throw i;fi(t,"network-request-failed",{message:String(i)})}}async function td(t,e,n,r,i={}){const a=await ks(t,e,n,r,i);return"mfaPendingCredential"in a&&fi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function jS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?zy(t.config,i):`${t.config.apiScheme}://${i}`;return HI.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function qI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),WI.get())})}}function Vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oi(t,e,r);return i.customData._tokenResponse=n,i}function xb(t){return t!==void 0&&t.enterprise!==void 0}class KI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QI(t,e){return ks(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e){return ks(t,"POST","/v1/accounts:delete",e)}async function Rf(t,e){return ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=Hy(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:du(Fg(i.auth_time)),issuedAtTime:du(Fg(i.iat)),expirationTime:du(Fg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function Hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=pS(n);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wb(t){const e=Hy(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&JI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wl(t,Rf(n,{idToken:r}));Ve(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AS(a.providerUserInfo):[],d=tR(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),g=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new k0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function eR(t){const e=Dt(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AS(t){return t.map(e=>{var{providerId:n}=e,r=By(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e){const n=await kS(t,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await jS(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&jo(t.emulatorConfig.host)&&(h.credentials="include"),NS.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rR(t,e){return ks(t,"POST","/v2/accounts:revokeToken",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await nR(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ol;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=By(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new k0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YI(this,e)}reload(){return eR(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Wl(this,XI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,d,h,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,A=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:B,isAnonymous:q,providerData:X,stsTokenManager:R}=n;Ve(V&&R,e,"internal-error");const j=Ol.fromJSON(this.name,R);Ve(typeof V=="string",e,"internal-error"),eo(y,e.name),eo(x,e.name),Ve(typeof B=="boolean",e,"internal-error"),Ve(typeof q=="boolean",e,"internal-error"),eo(S,e.name),eo(P,e.name),eo(_,e.name),eo(C,e.name),eo(A,e.name),eo(L,e.name);const D=new hi({uid:V,auth:e,email:x,emailVerified:B,displayName:y,isAnonymous:q,photoURL:P,phoneNumber:S,tenantId:_,stsTokenManager:j,createdAt:A,lastLoginAt:L});return X&&Array.isArray(X)&&(D.providerData=X.map(E=>Object.assign({},E))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const a=new hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Df(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?AS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Ol;d.updateFromIdToken(r);const h=new hi({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new k0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function ys(t){bs(t instanceof Function,"Expected a class definition");let e=bb.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IS.type="NONE";const _b=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,a),this.fullPersistenceKey=cf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rf(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ll(ys(_b),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||ys(_b);const l=cf(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(l);if(g){let y;if(typeof g=="string"){const x=await Rf(e,{idToken:g}).catch(()=>{});if(!x)break;y=await hi._fromGetAccountInfoResponse(e,x,g)}else y=hi._fromJSON(e,g);m!==a&&(d=y),a=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ll(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ll(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(FS(e))return"Webos";if(DS(e))return"Safari";if((e.includes("chrome/")||MS(e))&&!e.includes("edge/"))return"Chrome";if(OS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RS(t=zn()){return/firefox\//i.test(t)}function DS(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MS(t=zn()){return/crios\//i.test(t)}function VS(t=zn()){return/iemobile/i.test(t)}function OS(t=zn()){return/android/i.test(t)}function LS(t=zn()){return/blackberry/i.test(t)}function FS(t=zn()){return/webos/i.test(t)}function Wy(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iR(t=zn()){var e;return Wy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sR(){return xA()&&document.documentMode===10}function US(t=zn()){return Wy(t)||OS(t)||FS(t)||LS(t)||/windows phone/i.test(t)||VS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e=[]){let n;switch(t){case"Browser":n=Eb(zn());break;case"Worker":n=`${Eb(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e={}){return ks(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=6;class cR{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:lR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new oR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rf(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===d)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(vs(this));const n=e?Dt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aR(this),n=new cR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ja(t){return Dt(t)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=CA(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(t){mp=t}function $S(t){return mp.loadJS(t)}function hR(){return mp.recaptchaEnterpriseScript}function fR(){return mp.gapiScript}function pR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mR{constructor(){this.enterprise=new gR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yR="recaptcha-enterprise",zS="NO_RECAPTCHA";class vR{constructor(e){this.type=yR,this.auth=ja(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{QI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new KI(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{d(h)})})}function i(a,l,d){const h=window.grecaptcha;xb(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(zS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mR().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&xb(window.grecaptcha))i(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=hR();h.length!==0&&(h+=d),$S(h).then(()=>{i(d,a,l)}).catch(m=>{l(m)})}}).catch(d=>{l(d)})})}}async function Tb(t,e,n,r=!1,i=!1){const a=new vR(t);let l;if(i)l=zS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function j0(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Tb(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Tb(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e){const n=pp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(wa(a,e??{}))return i;fi(i,"already-initialized")}return n.initialize({options:e})}function wR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bR(t,e,n){const r=ja(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=HS(e),{host:l,port:d}=_R(e),h=d===null?"":`:${d}`,m={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(wa(m,r.config.emulator)&&wa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,jo(l)?(Vy(`${a}//${l}${h}`),Oy("Auth",!0)):ER()}function HS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _R(t){const e=HS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Pb(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Pb(l)}}}function Pb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ER(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function SR(t,e){return ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function CR(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends qy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j0(e,n,"signInWithPassword",TR);case"emailLink":return PR(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j0(e,r,"signUpPassword",SR);case"emailLink":return CR(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="http://localhost";class _a extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=By(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new _a(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jR(t){const e=tu(nu(t)).link,n=e?tu(nu(e)).deep_link_id:null,r=tu(nu(t)).deep_link_id;return(r?tu(nu(r)).link:null)||r||n||e||t}class Gy{constructor(e){var n,r,i,a,l,d;const h=tu(nu(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=kR((i=h.mode)!==null&&i!==void 0?i:null);Ve(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=jR(e);try{return new Gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gy.parseLink(n);return Ve(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends nd{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends nd{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends nd{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e){return td(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await hi._fromIdTokenResponse(e,r,i),l=Cb(r);return new Ea({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Cb(r);return new Ea({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Cb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Xi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mf(e,n,r,i)}}function qS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,a,e,r):a})}async function IR(t,e,n=!1){const r=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e,n=!1){const{auth:r}=t;if(Er(r.app))return Promise.reject(vs(r));const i="reauthenticate";try{const a=await Wl(t,qS(r,i,e,t),n);Ve(a.idToken,r,"internal-error");const l=Hy(a.idToken);Ve(l,r,"internal-error");const{sub:d}=l;return Ve(t.uid===d,r,"user-mismatch"),Ea._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,n=!1){if(Er(t.app))return Promise.reject(vs(t));const r="signIn",i=await qS(t,r,e),a=await Ea._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function DR(t,e){return GS(ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(t){const e=ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MR(t,e,n){if(Er(t.app))return Promise.reject(vs(t));const r=ja(t),l=await j0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&KS(t),h}),d=await Ea._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function VR(t,e,n){return Er(t.app)?Promise.reject(vs(t)):DR(Dt(t),nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e){return ks(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Wl(r,OR(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function LR(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function FR(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function UR(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function BR(t){return Dt(t).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,zR=10;class XS extends QS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);sR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const HR=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends QS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YS.type="SESSION";const JS=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async m=>m(n.origin,a)),h=await WR(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const m=Ky("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function GR(t){Li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function KR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XR(){return ZS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",YR=1,Of="firebaseLocalStorage",tT="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function JR(){const t=indexedDB.deleteDatabase(eT);return new rd(t).toPromise()}function A0(){const t=indexedDB.open(eT,YR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Of,{keyPath:tT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Of)?e(r):(r.close(),await JR(),e(await A0()))})})}async function Nb(t,e,n){const r=yp(t,!0).put({[tT]:e,value:n});return new rd(r).toPromise()}async function ZR(t,e){const n=yp(t,!1).get(e),r=await new rd(n).toPromise();return r===void 0?null:r.value}function kb(t,e){const n=yp(t,!0).delete(e);return new rd(n).toPromise()}const e5=800,t5=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>t5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KR(),!this.activeServiceWorker)return;this.sender=new qR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A0();return await Nb(e,Vf,"1"),await kb(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=yp(i,!1).getAll();return new rd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const n5=nT;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){return e?ys(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i5(t){return GS(t.auth,new Qy(t),t.bypassAuthState)}function s5(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),RR(n,new Qy(t),t.bypassAuthState)}async function o5(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),IR(n,new Qy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i5;case"linkViaPopup":case"linkViaRedirect":return o5;case"reauthViaPopup":case"reauthViaRedirect":return s5;default:fi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new ed(2e3,1e4);class Al extends rT{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a5.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="pendingRedirect",uf=new Map;class c5 extends rT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await u5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u5(t,e){const n=f5(e),r=h5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d5(t,e){uf.set(t._key(),e)}function h5(t){return ys(t._redirectPersistence)}function f5(t){return cf(l5,t.config.apiKey,t.name)}async function p5(t,e,n=!1){if(Er(t.app))return Promise.reject(vs(t));const r=ja(t),i=r5(r,e),l=await new c5(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=10*60*1e3;class g5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e={}){return ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w5=/^https?/;async function b5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v5(t);for(const n of e)try{if(_5(n))return}catch{}fi(t,"unauthorized-domain")}function _5(t){const e=N0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!w5.test(n))return!1;if(x5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new ed(3e4,6e4);function Ab(){const t=Li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S5(t){return new Promise((e,n)=>{var r,i,a;function l(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(Oi(t,"network-request-failed"))},timeout:E5.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Li().gapi)===null||a===void 0)&&a.load)l();else{const d=pR("iframefcb");return Li()[d]=()=>{gapi.load?l():n(Oi(t,"network-request-failed"))},$S(`${fR()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw df=null,e})}let df=null;function T5(t){return df=df||S5(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new ed(5e3,15e3),C5="__/auth/iframe",N5="emulator/auth/iframe",k5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A5(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zy(e,N5):`https://${t.config.authDomain}/${C5}`,r={apiKey:e.apiKey,appName:t.name,v:ka},i=j5.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Zu(r).slice(1)}`}async function I5(t){const e=await T5(t),n=Li().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:A5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k5,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Oi(t,"network-request-failed"),d=Li().setTimeout(()=>{a(l)},P5.get());function h(){Li().clearTimeout(d),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D5=500,M5=600,V5="_blank",O5="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L5(t,e,n,r=D5,i=M5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},R5),{width:r.toString(),height:i.toString(),top:a,left:l}),m=zn().toLowerCase();n&&(d=MS(m)?V5:n),RS(m)&&(e=e||O5,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[S,P])=>`${x}${S}=${P},`,"");if(iR(m)&&d!=="_self")return F5(e||"",d),new Ib(null);const y=window.open(e||"",d,g);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new Ib(y)}function F5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="__/auth/handler",B5="emulator/auth/handler",$5=encodeURIComponent("fac");async function Rb(t,e,n,r,i,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ka,eventId:i};if(e instanceof WS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",PA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof nd){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),m=h?`#${$5}=${encodeURIComponent(h)}`:"";return`${z5(t)}?${Zu(d).slice(1)}${m}`}function z5({config:t}){return t.emulator?zy(t,B5):`https://${t.authDomain}/${U5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class H5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=p5,this._overrideRedirectResult=d5}async _openPopup(e,n,r,i){var a;bs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Rb(e,n,r,N0(),i);return L5(e,l,Ky())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Rb(e,n,r,N0(),i);return GR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(bs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I5(e),r=new g5(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ug,{type:Ug},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Ug];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||DS()||Wy()}}const W5=H5;var Db="@firebase/auth",Mb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K5(t){ba(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(t)},m=new uR(r,i,a,h);return wR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new yo("auth-internal",e=>{const n=ja(e.getProvider("auth").getImmediate());return(r=>new q5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(Db,Mb,G5(t)),Vi(Db,Mb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=5*60,X5=vS("authIdTokenMaxAge")||Q5;let Vb=null;const Y5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X5)return;const i=n==null?void 0:n.token;Vb!==i&&(Vb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J5(t=Uy()){const e=pp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xR(t,{popupRedirectResolver:W5,persistence:[n5,HR,JS]}),r=vS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Y5(a.toString());FR(n,l,()=>l(n.currentUser)),LR(n,d=>l(d))}}const i=mS("auth");return i&&bR(n,`http://${i}`),n}function Z5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Oi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Z5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K5("Browser");var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,sT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,j){function D(){}D.prototype=j.prototype,R.D=j.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(E,O,U){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return j.prototype[O].apply(E,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,j,D){D||(D=0);var E=Array(16);if(typeof j=="string")for(var O=0;16>O;++O)E[O]=j.charCodeAt(D++)|j.charCodeAt(D++)<<8|j.charCodeAt(D++)<<16|j.charCodeAt(D++)<<24;else for(O=0;16>O;++O)E[O]=j[D++]|j[D++]<<8|j[D++]<<16|j[D++]<<24;j=R.g[0],D=R.g[1],O=R.g[2];var U=R.g[3],M=j+(U^D&(O^U))+E[0]+3614090360&4294967295;j=D+(M<<7&4294967295|M>>>25),M=U+(O^j&(D^O))+E[1]+3905402710&4294967295,U=j+(M<<12&4294967295|M>>>20),M=O+(D^U&(j^D))+E[2]+606105819&4294967295,O=U+(M<<17&4294967295|M>>>15),M=D+(j^O&(U^j))+E[3]+3250441966&4294967295,D=O+(M<<22&4294967295|M>>>10),M=j+(U^D&(O^U))+E[4]+4118548399&4294967295,j=D+(M<<7&4294967295|M>>>25),M=U+(O^j&(D^O))+E[5]+1200080426&4294967295,U=j+(M<<12&4294967295|M>>>20),M=O+(D^U&(j^D))+E[6]+2821735955&4294967295,O=U+(M<<17&4294967295|M>>>15),M=D+(j^O&(U^j))+E[7]+4249261313&4294967295,D=O+(M<<22&4294967295|M>>>10),M=j+(U^D&(O^U))+E[8]+1770035416&4294967295,j=D+(M<<7&4294967295|M>>>25),M=U+(O^j&(D^O))+E[9]+2336552879&4294967295,U=j+(M<<12&4294967295|M>>>20),M=O+(D^U&(j^D))+E[10]+4294925233&4294967295,O=U+(M<<17&4294967295|M>>>15),M=D+(j^O&(U^j))+E[11]+2304563134&4294967295,D=O+(M<<22&4294967295|M>>>10),M=j+(U^D&(O^U))+E[12]+1804603682&4294967295,j=D+(M<<7&4294967295|M>>>25),M=U+(O^j&(D^O))+E[13]+4254626195&4294967295,U=j+(M<<12&4294967295|M>>>20),M=O+(D^U&(j^D))+E[14]+2792965006&4294967295,O=U+(M<<17&4294967295|M>>>15),M=D+(j^O&(U^j))+E[15]+1236535329&4294967295,D=O+(M<<22&4294967295|M>>>10),M=j+(O^U&(D^O))+E[1]+4129170786&4294967295,j=D+(M<<5&4294967295|M>>>27),M=U+(D^O&(j^D))+E[6]+3225465664&4294967295,U=j+(M<<9&4294967295|M>>>23),M=O+(j^D&(U^j))+E[11]+643717713&4294967295,O=U+(M<<14&4294967295|M>>>18),M=D+(U^j&(O^U))+E[0]+3921069994&4294967295,D=O+(M<<20&4294967295|M>>>12),M=j+(O^U&(D^O))+E[5]+3593408605&4294967295,j=D+(M<<5&4294967295|M>>>27),M=U+(D^O&(j^D))+E[10]+38016083&4294967295,U=j+(M<<9&4294967295|M>>>23),M=O+(j^D&(U^j))+E[15]+3634488961&4294967295,O=U+(M<<14&4294967295|M>>>18),M=D+(U^j&(O^U))+E[4]+3889429448&4294967295,D=O+(M<<20&4294967295|M>>>12),M=j+(O^U&(D^O))+E[9]+568446438&4294967295,j=D+(M<<5&4294967295|M>>>27),M=U+(D^O&(j^D))+E[14]+3275163606&4294967295,U=j+(M<<9&4294967295|M>>>23),M=O+(j^D&(U^j))+E[3]+4107603335&4294967295,O=U+(M<<14&4294967295|M>>>18),M=D+(U^j&(O^U))+E[8]+1163531501&4294967295,D=O+(M<<20&4294967295|M>>>12),M=j+(O^U&(D^O))+E[13]+2850285829&4294967295,j=D+(M<<5&4294967295|M>>>27),M=U+(D^O&(j^D))+E[2]+4243563512&4294967295,U=j+(M<<9&4294967295|M>>>23),M=O+(j^D&(U^j))+E[7]+1735328473&4294967295,O=U+(M<<14&4294967295|M>>>18),M=D+(U^j&(O^U))+E[12]+2368359562&4294967295,D=O+(M<<20&4294967295|M>>>12),M=j+(D^O^U)+E[5]+4294588738&4294967295,j=D+(M<<4&4294967295|M>>>28),M=U+(j^D^O)+E[8]+2272392833&4294967295,U=j+(M<<11&4294967295|M>>>21),M=O+(U^j^D)+E[11]+1839030562&4294967295,O=U+(M<<16&4294967295|M>>>16),M=D+(O^U^j)+E[14]+4259657740&4294967295,D=O+(M<<23&4294967295|M>>>9),M=j+(D^O^U)+E[1]+2763975236&4294967295,j=D+(M<<4&4294967295|M>>>28),M=U+(j^D^O)+E[4]+1272893353&4294967295,U=j+(M<<11&4294967295|M>>>21),M=O+(U^j^D)+E[7]+4139469664&4294967295,O=U+(M<<16&4294967295|M>>>16),M=D+(O^U^j)+E[10]+3200236656&4294967295,D=O+(M<<23&4294967295|M>>>9),M=j+(D^O^U)+E[13]+681279174&4294967295,j=D+(M<<4&4294967295|M>>>28),M=U+(j^D^O)+E[0]+3936430074&4294967295,U=j+(M<<11&4294967295|M>>>21),M=O+(U^j^D)+E[3]+3572445317&4294967295,O=U+(M<<16&4294967295|M>>>16),M=D+(O^U^j)+E[6]+76029189&4294967295,D=O+(M<<23&4294967295|M>>>9),M=j+(D^O^U)+E[9]+3654602809&4294967295,j=D+(M<<4&4294967295|M>>>28),M=U+(j^D^O)+E[12]+3873151461&4294967295,U=j+(M<<11&4294967295|M>>>21),M=O+(U^j^D)+E[15]+530742520&4294967295,O=U+(M<<16&4294967295|M>>>16),M=D+(O^U^j)+E[2]+3299628645&4294967295,D=O+(M<<23&4294967295|M>>>9),M=j+(O^(D|~U))+E[0]+4096336452&4294967295,j=D+(M<<6&4294967295|M>>>26),M=U+(D^(j|~O))+E[7]+1126891415&4294967295,U=j+(M<<10&4294967295|M>>>22),M=O+(j^(U|~D))+E[14]+2878612391&4294967295,O=U+(M<<15&4294967295|M>>>17),M=D+(U^(O|~j))+E[5]+4237533241&4294967295,D=O+(M<<21&4294967295|M>>>11),M=j+(O^(D|~U))+E[12]+1700485571&4294967295,j=D+(M<<6&4294967295|M>>>26),M=U+(D^(j|~O))+E[3]+2399980690&4294967295,U=j+(M<<10&4294967295|M>>>22),M=O+(j^(U|~D))+E[10]+4293915773&4294967295,O=U+(M<<15&4294967295|M>>>17),M=D+(U^(O|~j))+E[1]+2240044497&4294967295,D=O+(M<<21&4294967295|M>>>11),M=j+(O^(D|~U))+E[8]+1873313359&4294967295,j=D+(M<<6&4294967295|M>>>26),M=U+(D^(j|~O))+E[15]+4264355552&4294967295,U=j+(M<<10&4294967295|M>>>22),M=O+(j^(U|~D))+E[6]+2734768916&4294967295,O=U+(M<<15&4294967295|M>>>17),M=D+(U^(O|~j))+E[13]+1309151649&4294967295,D=O+(M<<21&4294967295|M>>>11),M=j+(O^(D|~U))+E[4]+4149444226&4294967295,j=D+(M<<6&4294967295|M>>>26),M=U+(D^(j|~O))+E[11]+3174756917&4294967295,U=j+(M<<10&4294967295|M>>>22),M=O+(j^(U|~D))+E[2]+718787259&4294967295,O=U+(M<<15&4294967295|M>>>17),M=D+(U^(O|~j))+E[9]+3951481745&4294967295,R.g[0]=R.g[0]+j&4294967295,R.g[1]=R.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,j){j===void 0&&(j=R.length);for(var D=j-this.blockSize,E=this.B,O=this.h,U=0;U<j;){if(O==0)for(;U<=D;)i(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<j;)if(E[O++]=R.charCodeAt(U++),O==this.blockSize){i(this,E),O=0;break}}else for(;U<j;)if(E[O++]=R[U++],O==this.blockSize){i(this,E),O=0;break}}this.h=O,this.o+=j},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var j=1;j<R.length-8;++j)R[j]=0;var D=8*this.o;for(j=R.length-8;j<R.length;++j)R[j]=D&255,D/=256;for(this.u(R),R=Array(16),j=D=0;4>j;++j)for(var E=0;32>E;E+=8)R[D++]=this.g[j]>>>E&255;return R};function a(R,j){var D=d;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=j(R)}function l(R,j){this.h=j;for(var D=[],E=!0,O=R.length-1;0<=O;O--){var U=R[O]|0;E&&U==j||(D[O]=U,E=!1)}this.g=D}var d={};function h(R){return-128<=R&&128>R?a(R,function(j){return new l([j|0],0>j?-1:0)}):new l([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return C(m(-R));for(var j=[],D=1,E=0;R>=D;E++)j[E]=R/D|0,D*=4294967296;return new l(j,0)}function g(R,j){if(R.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(R.charAt(0)=="-")return C(g(R.substring(1),j));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(j,8)),E=y,O=0;O<R.length;O+=8){var U=Math.min(8,R.length-O),M=parseInt(R.substring(O,O+U),j);8>U?(U=m(Math.pow(j,U)),E=E.j(U).add(m(M))):(E=E.j(D),E=E.add(m(M)))}return E}var y=h(0),x=h(1),S=h(16777216);t=l.prototype,t.m=function(){if(_(this))return-C(this).m();for(var R=0,j=1,D=0;D<this.g.length;D++){var E=this.i(D);R+=(0<=E?E:4294967296+E)*j,j*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(_(this))return"-"+C(this).toString(R);for(var j=m(Math.pow(R,6)),D=this,E="";;){var O=B(D,j).g;D=A(D,O.j(j));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=O,P(D))return U+E;for(;6>U.length;)U="0"+U;E=U+E}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var j=0;j<R.g.length;j++)if(R.g[j]!=0)return!1;return!0}function _(R){return R.h==-1}t.l=function(R){return R=A(this,R),_(R)?-1:P(R)?0:1};function C(R){for(var j=R.g.length,D=[],E=0;E<j;E++)D[E]=~R.g[E];return new l(D,~R.h).add(x)}t.abs=function(){return _(this)?C(this):this},t.add=function(R){for(var j=Math.max(this.g.length,R.g.length),D=[],E=0,O=0;O<=j;O++){var U=E+(this.i(O)&65535)+(R.i(O)&65535),M=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);E=M>>>16,U&=65535,M&=65535,D[O]=M<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function A(R,j){return R.add(C(j))}t.j=function(R){if(P(this)||P(R))return y;if(_(this))return _(R)?C(this).j(C(R)):C(C(this).j(R));if(_(R))return C(this.j(C(R)));if(0>this.l(S)&&0>R.l(S))return m(this.m()*R.m());for(var j=this.g.length+R.g.length,D=[],E=0;E<2*j;E++)D[E]=0;for(E=0;E<this.g.length;E++)for(var O=0;O<R.g.length;O++){var U=this.i(E)>>>16,M=this.i(E)&65535,pe=R.i(O)>>>16,Me=R.i(O)&65535;D[2*E+2*O]+=M*Me,L(D,2*E+2*O),D[2*E+2*O+1]+=U*Me,L(D,2*E+2*O+1),D[2*E+2*O+1]+=M*pe,L(D,2*E+2*O+1),D[2*E+2*O+2]+=U*pe,L(D,2*E+2*O+2)}for(E=0;E<j;E++)D[E]=D[2*E+1]<<16|D[2*E];for(E=j;E<2*j;E++)D[E]=0;return new l(D,0)};function L(R,j){for(;(R[j]&65535)!=R[j];)R[j+1]+=R[j]>>>16,R[j]&=65535,j++}function V(R,j){this.g=R,this.h=j}function B(R,j){if(P(j))throw Error("division by zero");if(P(R))return new V(y,y);if(_(R))return j=B(C(R),j),new V(C(j.g),C(j.h));if(_(j))return j=B(R,C(j)),new V(C(j.g),j.h);if(30<R.g.length){if(_(R)||_(j))throw Error("slowDivide_ only works with positive integers.");for(var D=x,E=j;0>=E.l(R);)D=q(D),E=q(E);var O=X(D,1),U=X(E,1);for(E=X(E,2),D=X(D,2);!P(E);){var M=U.add(E);0>=M.l(R)&&(O=O.add(D),U=M),E=X(E,1),D=X(D,1)}return j=A(R,O.j(j)),new V(O,j)}for(O=y;0<=R.l(j);){for(D=Math.max(1,Math.floor(R.m()/j.m())),E=Math.ceil(Math.log(D)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),U=m(D),M=U.j(j);_(M)||0<M.l(R);)D-=E,U=m(D),M=U.j(j);P(U)&&(U=x),O=O.add(U),R=A(R,M)}return new V(O,R)}t.A=function(R){return B(this,R).h},t.and=function(R){for(var j=Math.max(this.g.length,R.g.length),D=[],E=0;E<j;E++)D[E]=this.i(E)&R.i(E);return new l(D,this.h&R.h)},t.or=function(R){for(var j=Math.max(this.g.length,R.g.length),D=[],E=0;E<j;E++)D[E]=this.i(E)|R.i(E);return new l(D,this.h|R.h)},t.xor=function(R){for(var j=Math.max(this.g.length,R.g.length),D=[],E=0;E<j;E++)D[E]=this.i(E)^R.i(E);return new l(D,this.h^R.h)};function q(R){for(var j=R.g.length+1,D=[],E=0;E<j;E++)D[E]=R.i(E)<<1|R.i(E-1)>>>31;return new l(D,R.h)}function X(R,j){var D=j>>5;j%=32;for(var E=R.g.length-D,O=[],U=0;U<E;U++)O[U]=0<j?R.i(U+D)>>>j|R.i(U+D+1)<<32-j:R.i(U+D);return new l(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,mo=l}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,ru,aT,hf,I0,lT,cT,uT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var T=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var G=f[I];if(!(G in T))break e;T=T[G]}f=f[f.length-1],I=T[f],w=w(I),w!=I&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function a(f,w){f instanceof String&&(f+="");var T=0,I=!1,G={next:function(){if(!I&&T<f.length){var Z=T++;return{value:w(Z,f[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(f){return f||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function m(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,T){return f.call.apply(f.bind,arguments)}function y(f,w,T){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,I),f.apply(w,G)}}return function(){return f.apply(w,arguments)}}function x(f,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function S(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function P(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(I,G,Z){for(var me=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)me[pt-2]=arguments[pt];return w.prototype[G].apply(I,me)}}function _(f){const w=f.length;if(0<w){const T=Array(w);for(let I=0;I<w;I++)T[I]=f[I];return T}return[]}function C(f,w){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(h(I)){const G=f.length||0,Z=I.length||0;f.length=G+Z;for(let me=0;me<Z;me++)f[G+me]=I[me]}else f.push(I)}}class A{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function X(f,w,T){for(const I in f)w.call(T,f[I],I,f)}function R(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function j(f){const w={};for(const T in f)w[T]=f[T];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,w){let T,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(T in I)f[T]=I[T];for(let Z=0;Z<D.length;Z++)T=D[Z],Object.prototype.hasOwnProperty.call(I,T)&&(f[T]=I[T])}}function O(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function U(f){d.setTimeout(()=>{throw f},0)}function M(){var f=ge;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class pe{constructor(){this.h=this.g=null}add(w,T){const I=Me.get();I.set(w,T),this.h?this.h.next=I:this.g=I,this.h=I}}var Me=new A(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ne=!1,ge=new pe,ue=()=>{const f=d.Promise.resolve(void 0);Se=()=>{f.then(z)}};var z=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(T){U(T)}var w=Me;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}ne=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};d.addEventListener("test",T,w),d.removeEventListener("test",T,w)}catch{}return f}();function Ne(f,w){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(q){e:{try{B(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ze[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ne.aa.h.call(this)}}P(Ne,fe);var ze={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ie(f,w,T,I,G){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!I,this.ha=G,this.key=++Le,this.da=this.fa=!1}function nt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Nt(f){this.src=f,this.g={},this.h=0}Nt.prototype.add=function(f,w,T,I,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var me=ft(f,w,I,G);return-1<me?(w=f[me],T||(w.fa=!1)):(w=new Ie(w,this.src,Z,!!I,G),w.fa=T,f.push(w)),w};function Mt(f,w){var T=w.type;if(T in f.g){var I=f.g[T],G=Array.prototype.indexOf.call(I,w,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(I,G,1),Z&&(nt(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ft(f,w,T,I){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==w&&Z.capture==!!T&&Z.ha==I)return G}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),gn={};function Hn(f,w,T,I,G){if(Array.isArray(w)){for(var Z=0;Z<w.length;Z++)Hn(f,w[Z],T,I,G);return null}return T=ae(T),f&&f[qe]?f.K(w,T,m(I)?!!I.capture:!1,G):mt(f,w,T,!1,I,G)}function mt(f,w,T,I,G,Z){if(!w)throw Error("Invalid event type");var me=m(G)?!!G.capture:!!G,pt=yn(f);if(pt||(f[Vt]=pt=new Nt(f)),T=pt.add(w,T,I,me,Z),T.proxy)return T;if(I=de(),T.proxy=I,I.src=f,I.listener=T,f.addEventListener)je||(G=me),G===void 0&&(G=!1),f.addEventListener(w.toString(),I,G);else if(f.attachEvent)f.attachEvent(Bt(w.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function de(){function f(T){return w.call(f.src,f.listener,T)}const w=wt;return f}function Ue(f,w,T,I,G){if(Array.isArray(w))for(var Z=0;Z<w.length;Z++)Ue(f,w[Z],T,I,G);else I=m(I)?!!I.capture:!!I,T=ae(T),f&&f[qe]?(f=f.i,w=String(w).toString(),w in f.g&&(Z=f.g[w],T=ft(Z,T,I,G),-1<T&&(nt(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete f.g[w],f.h--)))):f&&(f=yn(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ft(w,T,I,G)),(T=-1<f?w[f]:null)&&Ye(T))}function Ye(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[qe])Mt(w.i,f);else{var T=f.type,I=f.proxy;w.removeEventListener?w.removeEventListener(T,I,f.capture):w.detachEvent?w.detachEvent(Bt(T),I):w.addListener&&w.removeListener&&w.removeListener(I),(T=yn(w))?(Mt(T,f),T.h==0&&(T.src=null,w[Vt]=null)):nt(f)}}}function Bt(f){return f in gn?gn[f]:gn[f]="on"+f}function wt(f,w){if(f.da)f=!0;else{w=new Ne(w,this);var T=f.listener,I=f.ha||f.src;f.fa&&Ye(f),f=T.call(I,w)}return f}function yn(f){return f=f[Vt],f instanceof Nt?f:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(f){return typeof f=="function"?f:(f[mr]||(f[mr]=function(w){return f.handleEvent(w)}),f[mr])}function ce(){W.call(this),this.i=new Nt(this),this.M=this,this.F=null}P(ce,W),ce.prototype[qe]=!0,ce.prototype.removeEventListener=function(f,w,T,I){Ue(this,f,w,T,I)};function xe(f,w){var T,I=f.F;if(I)for(T=[];I;I=I.F)T.push(I);if(f=f.M,I=w.type||w,typeof w=="string")w=new fe(w,f);else if(w instanceof fe)w.target=w.target||f;else{var G=w;w=new fe(I,f),E(w,G)}if(G=!0,T)for(var Z=T.length-1;0<=Z;Z--){var me=w.g=T[Z];G=ee(me,I,!0,w)&&G}if(me=w.g=f,G=ee(me,I,!0,w)&&G,G=ee(me,I,!1,w)&&G,T)for(Z=0;Z<T.length;Z++)me=w.g=T[Z],G=ee(me,I,!1,w)&&G}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],I=0;I<T.length;I++)nt(T[I]);delete f.g[w],f.h--}}this.F=null},ce.prototype.K=function(f,w,T,I){return this.i.add(String(f),w,!1,T,I)},ce.prototype.L=function(f,w,T,I){return this.i.add(String(f),w,!0,T,I)};function ee(f,w,T,I){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,Z=0;Z<w.length;++Z){var me=w[Z];if(me&&!me.da&&me.capture==T){var pt=me.listener,dn=me.ha||me.src;me.fa&&Mt(f.i,me),G=pt.call(dn,I)!==!1&&G}}return G&&!I.defaultPrevented}function ye(f,w,T){if(typeof f=="function")T&&(f=x(f,T));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(f,w||0)}function be(f){f.g=ye(()=>{f.g=null,f.i&&(f.i=!1,be(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ke extends W{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(f){W.call(this),this.h=f,this.g={}}P(ot,W);var He=[];function Xt(f){X(f.g,function(w,T){this.g.hasOwnProperty(T)&&Ye(w)},f),f.g={}}ot.prototype.N=function(){ot.aa.N.call(this),Xt(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=d.JSON.stringify,Vo=d.JSON.parse,Yi=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Ji(){}Ji.prototype.h=null;function gi(f){return f.h||(f.h=f.i())}function yi(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lt(){fe.call(this,"d")}P(lt,fe);function kt(){fe.call(this,"c")}P(kt,fe);var Jn={},vi=null;function En(){return vi=vi||new ce}Jn.La="serverreachability";function fc(f){fe.call(this,Jn.La,f)}P(fc,fe);function Zi(f){const w=En();xe(w,new fc(w))}Jn.STAT_EVENT="statevent";function pc(f,w){fe.call(this,Jn.STAT_EVENT,f),this.stat=w}P(pc,fe);function Yt(f){const w=En();xe(w,new pc(w,f))}Jn.Ma="timingevent";function Da(f,w){fe.call(this,Jn.Ma,f),this.size=w}P(Da,fe);function Xr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},w)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function Lo(f,w,T,I,G,Z){f.info(function(){if(f.g)if(Z)for(var me="",pt=Z.split("&"),dn=0;dn<pt.length;dn++){var rt=pt[dn].split("=");if(1<rt.length){var vn=rt[0];rt=rt[1];var rn=vn.split("_");me=2<=rn.length&&rn[1]=="type"?me+(vn+"="+rt+"&"):me+(vn+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+w+`
`+T+`
`+me})}function Ma(f,w,T,I,G,Z,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+w+`
`+T+`
`+Z+" "+me})}function Yr(f,w,T,I){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+nm(f,T)+(I?" "+I:"")})}function mc(f,w){f.info(function(){return"TIMEOUT: "+w})}Oo.prototype.info=function(){};function nm(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var I=T[f];if(!(2>I.length)){var G=I[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return Qr(T)}catch{return w}}var Va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function Fo(){}P(Fo,Ji),Fo.prototype.g=function(){return new XMLHttpRequest},Fo.prototype.i=function(){return{}},Jr=new Fo;function Zr(f,w,T,I){this.j=f,this.i=w,this.l=T,this.R=I||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _d}function _d(){this.i=null,this.g="",this.h=!1}var gc={},Oa={};function La(f,w,T){f.L=1,f.v=Ms(yr(w)),f.m=T,f.P=!0,yc(f,null)}function yc(f,w){f.F=Date.now(),bt(f),f.A=yr(f.v);var T=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),Os(T.i,"t",I),f.C=0,T=f.j.J,f.h=new _d,f.g=Ud(f.j,T?w:null,!f.m),0<f.O&&(f.M=new Ke(x(f.Y,f,f.g),f.O)),w=f.U,T=f.g,I=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(He[0]=G.toString()),G=He);for(var Z=0;Z<G.length;Z++){var me=Hn(T,G[Z],I||w.handleEvent,!1,w.h||w);if(!me)break;w.g[me.key]=me}w=f.H?j(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Zi(),Lo(f.i,f.u,f.A,f.l,f.R,f.m)}Zr.prototype.ca=function(f){f=f.target;const w=this.M;w&&er(f)==3?w.j():this.Y(f)},Zr.prototype.Y=function(f){try{if(f==this.g)e:{const rn=er(this.g);var w=this.g.Ba();const Dr=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Ec(this.g)))){this.J||rn!=4||w==7||(w==8||0>=Dr?Zi(3):Zi(2)),Uo(this);var T=this.g.Z();this.X=T;t:if(Ed(this)){var I=Ec(this.g);f="";var G=I.length,Z=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),As(this);var me="";break t}this.h.i=new d.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,f+=this.h.i.decode(I[w],{stream:!(Z&&w==G-1)});I.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=T==200,Ma(this.i,this.u,this.A,this.l,this.R,rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,dn=this.g;if((pt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(pt)){var rt=pt;break t}}rt=null}if(T=rt)Yr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vc(this,T);else{this.o=!1,this.s=3,Yt(12),Ir(this),As(this);break e}}if(this.P){T=!0;let xr;for(;!this.J&&this.C<me.length;)if(xr=rm(this,me),xr==Oa){rn==4&&(this.s=4,Yt(14),T=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==gc){this.s=4,Yt(15),Yr(this.i,this.l,me,"[Invalid Chunk]"),T=!1;break}else Yr(this.i,this.l,xr,null),vc(this,xr);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||me.length!=0||this.h.h||(this.s=1,Yt(16),T=!1),this.o=this.o&&T,!T)Yr(this.i,this.l,me,"[Invalid Chunked Response]"),Ir(this),As(this);else if(0<me.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Tc(vn),vn.M=!0,Yt(11))}}else Yr(this.i,this.l,me,null),vc(this,me);rn==4&&Ir(this),this.o&&!this.J&&(rn==4?Qa(this.j,this):(this.o=!1,bt(this)))}else Ha(this.g),T==400&&0<me.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Ir(this),As(this)}}}catch{}finally{}};function Ed(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rm(f,w){var T=f.C,I=w.indexOf(`
`,T);return I==-1?Oa:(T=Number(w.substring(T,I)),isNaN(T)?gc:(I+=1,I+T>w.length?Oa:(w=w.slice(I,I+T),f.C=I+T,w)))}Zr.prototype.cancel=function(){this.J=!0,Ir(this)};function bt(f){f.S=Date.now()+f.I,Sd(f,f.I)}function Sd(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Xr(x(f.ba,f),w)}function Uo(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Zr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(mc(this.i,this.A),this.L!=2&&(Zi(),Yt(17)),Ir(this),this.s=2,As(this)):Sd(this,this.S-f)};function As(f){f.j.G==0||f.J||Qa(f.j,f)}function Ir(f){Uo(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Xt(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function vc(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||Wn(T.h,f))){if(!f.K&&Wn(T.h,f)&&T.G==3){try{var I=T.Da.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ka(T),ii(T);else break e;Ga(T),Yt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Xr(x(T.Za,T),6e3));if(1>=Pd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else is(T,11)}else if((f.K||T.g==f)&&Ka(T),!L(w))for(G=T.Da.g.parse(w),w=0;w<G.length;w++){let rt=G[w];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const vn=rt[3];vn!=null&&(T.la=vn,T.j.info("VER="+T.la));const rn=rt[4];rn!=null&&(T.Aa=rn,T.j.info("SVER="+T.Aa));const Dr=rt[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(I=1.5*Dr,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const xr=f.g;if(xr){const Go=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var Z=I.h;Z.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(xc(Z,Z.h),Z.h=null))}if(I.D){const Ya=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(I.ya=Ya,yt(I.I,I.D,Ya))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var me=f;if(I.qa=Fd(I,I.J?I.ia:null,I.W),me.K){Cd(I.h,me);var pt=me,dn=I.L;dn&&(pt.I=dn),pt.B&&(Uo(pt),bt(pt)),I.g=me}else qo(I);0<T.i.length&&_i(T)}else rt[0]!="stop"&&rt[0]!="close"||is(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?is(T,7):Tn(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}Zi(4)}catch{}}var Td=class{constructor(f,w){this.g=f,this.map=w}};function Bo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pd(f){return f.h?1:f.g?f.g.size:0}function Wn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function xc(f,w){f.g?f.g.add(w):f.h=w}function Cd(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Bo.prototype.cancel=function(){if(this.i=Nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return _(f.i)}function Fa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],T=f.length,I=0;I<T;I++)w.push(f[I]);return w}w=[],T=0;for(I in f)w[T++]=f[I];return w}function Ua(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const I in f)w[T++]=I;return w}}}function Is(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Ua(f),I=Fa(f),G=I.length,Z=0;Z<G;Z++)w.call(void 0,I[Z],T&&T[Z],f)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var I=f[T].indexOf("="),G=null;if(0<=I){var Z=f[T].substring(0,I);G=f[T].substring(I+1)}else Z=f[T];w(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function es(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof es){this.h=f.h,zo(this,f.j),this.o=f.o,this.g=f.g,Rs(this,f.s),this.l=f.l;var w=f.i,T=new xi;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Ds(this,T),this.m=f.m}else f&&(w=String(f).match($o))?(this.h=!1,zo(this,w[1]||"",!0),this.o=et(w[2]||""),this.g=et(w[3]||"",!0),Rs(this,w[4]),this.l=et(w[5]||"",!0),Ds(this,w[6]||"",!0),this.m=et(w[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}es.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Vs(w,Ba,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Vs(w,Ba,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Vs(T,T.charAt(0)=="/"?Ad:jd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Vs(T,wc)),f.join("")};function yr(f){return new es(f)}function zo(f,w,T){f.j=T?et(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Rs(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Ds(f,w,T){w instanceof xi?(f.i=w,wi(f.i,f.h)):(T||(w=Vs(w,Id)),f.i=new xi(w,f.h))}function yt(f,w,T){f.i.set(w,T)}function Ms(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function et(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Vs(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,kd),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ba=/[#\/\?@]/g,jd=/[#\?:]/g,Ad=/[#\?]/g,Id=/[#\?@]/g,wc=/#/g;function xi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&im(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=xi.prototype,t.add=function(f,w){Sn(this),this.i=null,f=Rr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function ei(f,w){Sn(f),w=Rr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ti(f,w){return Sn(f),w=Rr(f,w),f.g.has(w)}t.forEach=function(f,w){Sn(this),this.g.forEach(function(T,I){T.forEach(function(G){f.call(w,G,I,this)},this)},this)},t.na=function(){Sn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let I=0;I<w.length;I++){const G=f[I];for(let Z=0;Z<G.length;Z++)T.push(w[I])}return T},t.V=function(f){Sn(this);let w=[];if(typeof f=="string")ti(this,f)&&(w=w.concat(this.g.get(Rr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},t.set=function(f,w){return Sn(this),this.i=null,f=Rr(this,f),ti(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function Os(f,w,T){ei(f,w),0<T.length&&(f.i=null,f.g.set(Rr(f,w),_(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var I=w[T];const Z=encodeURIComponent(String(I)),me=this.V(I);for(I=0;I<me.length;I++){var G=Z;me[I]!==""&&(G+="="+encodeURIComponent(String(me[I]))),f.push(G)}}return this.i=f.join("&")};function Rr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function wi(f,w){w&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(T,I){var G=I.toLowerCase();I!=G&&(ei(this,I),Os(this,G,T))},f)),f.j=w}function sm(f,w){const T=new Oo;if(d.Image){const I=new Image;I.onload=S(Zn,T,"TestLoadImage: loaded",!0,w,I),I.onerror=S(Zn,T,"TestLoadImage: error",!1,w,I),I.onabort=S(Zn,T,"TestLoadImage: abort",!1,w,I),I.ontimeout=S(Zn,T,"TestLoadImage: timeout",!1,w,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else w(!1)}function Rd(f,w){const T=new Oo,I=new AbortController,G=setTimeout(()=>{I.abort(),Zn(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:I.signal}).then(Z=>{clearTimeout(G),Z.ok?Zn(T,"TestPingServer: ok",!0,w):Zn(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Zn(T,"TestPingServer: error",!1,w)})}function Zn(f,w,T,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(T)}catch{}}function om(){this.g=new Yi}function Dd(f,w,T){const I=T||"";try{Is(f,function(G,Z){let me=G;m(G)&&(me=Qr(G)),w.push(I+Z+"="+encodeURIComponent(me))})}catch(G){throw w.push(I+"type="+encodeURIComponent("_badmap")),G}}function ts(f){this.l=f.Ub||null,this.j=f.eb||!1}P(ts,Ji),ts.prototype.g=function(){return new Ho(this.l,this.j)},ts.prototype.i=function(f){return function(){return f}}({});function Ho(f,w){ce.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ho,ce),t=Ho.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,ri(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ni(this):ri(this),this.readyState==3&&Md(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ni(this))},t.Qa=function(f){this.g&&(this.response=f,ni(this))},t.ga=function(){this.g&&ni(this)};function ni(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ri(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ns(f){let w="";return X(f,function(T,I){w+=I,w+=":",w+=T,w+=`\r
`}),w}function Ls(f,w,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=ns(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):yt(f,w,T))}function jt(f){ce.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(jt,ce);var am=/^https?$/i,bc=["POST","PUT"];t=jt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?gi(this.o):gi(Jr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(Z){Wo(this,Z);return}if(f=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)T.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())T.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(bc,w,void 0))||I||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of T)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){Wo(this,Z)}};function Wo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,$a(f),vr(f)}function $a(f){f.A||(f.A=!0,xe(f,"complete"),xe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,xe(this,"complete"),xe(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_c(this):this.bb())},t.bb=function(){_c(this)};function _c(f){if(f.h&&typeof l<"u"&&(!f.v[1]||er(f)!=4||f.Z()!=2)){if(f.u&&er(f)==4)ye(f.Ea,0,f);else if(xe(f,"readystatechange"),er(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var I;if(I=me===0){var G=String(f.D).match($o)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),I=!am.test(G?G.toLowerCase():"")}T=I}if(T)xe(f,"complete"),xe(f,"success");else{f.m=6;try{var Z=2<er(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",$a(f)}}finally{vr(f)}}}}function vr(f,w){if(f.g){za(f);const T=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||xe(f,"ready");try{T.onreadystatechange=I}catch{}}}function za(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function er(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Vo(w)}};function Ec(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(f){const w={};f=(f.g&&2<=er(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(L(f[I]))continue;var T=O(f[I]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=w[G]||[];w[G]=Z,Z.push(T)}R(w,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Sc(f){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,f),this.cb=bi("retryDelaySeedMs",1e4,f),this.Wa=bi("forwardChannelMaxRetries",2,f),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(f&&f.concurrentRequestLimit),this.Da=new om,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sc.prototype,t.la=8,t.G=1,t.connect=function(f,w,T,I){Yt(0),this.W=f,this.H=w||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=Fd(this,null,this.W),_i(this)};function Tn(f){if(Wa(f),f.G==3){var w=f.U++,T=yr(f.I);if(yt(T,"SID",f.K),yt(T,"RID",w),yt(T,"TYPE","terminate"),rs(f,T),w=new Zr(f,f.j,w),w.L=2,w.v=Ms(yr(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=w.v,T=!0),T||(w.g=Ud(w.j,null),w.g.ea(w.v)),w.F=Date.now(),bt(w)}Ld(f)}function ii(f){f.g&&(Tc(f),f.g.cancel(),f.g=null)}function Wa(f){ii(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ka(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function _i(f){if(!gr(f.h)&&!f.s){f.s=!0;var w=f.Ga;Se||ue(),ne||(Se(),ne=!0),ge.add(w,f),f.B=0}}function lm(f,w){return Pd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Xr(x(f.Ga,f,w),Od(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new Zr(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=j(Z),E(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Fs(this,G,w),T=yr(this.I),yt(T,"RID",f),yt(T,"CVER",22),this.D&&yt(T,"X-HTTP-Session-Id",this.D),rs(this,T),Z&&(this.O?w="headers="+encodeURIComponent(String(ns(Z)))+"&"+w:this.m&&Ls(T,this.m,Z)),xc(this.h,G),this.Ua&&yt(T,"TYPE","init"),this.P?(yt(T,"$req",w),yt(T,"SID","null"),G.T=!0,La(G,T,null)):La(G,T,w),this.G=2}}else this.G==3&&(f?qa(this,f):this.i.length==0||gr(this.h)||qa(this))};function qa(f,w){var T;w?T=w.l:T=f.U++;const I=yr(f.I);yt(I,"SID",f.K),yt(I,"RID",T),yt(I,"AID",f.T),rs(f,I),f.m&&f.o&&Ls(I,f.m,f.o),T=new Zr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Fs(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xc(f.h,T),La(T,I,w)}function rs(f,w){f.H&&X(f.H,function(T,I){yt(w,I,T)}),f.l&&Is({},function(T,I){yt(w,I,T)})}function Fs(f,w,T){T=Math.min(f.i.length,T);var I=f.l?x(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const me=["count="+T];Z==-1?0<T?(Z=G[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let pt=!0;for(let dn=0;dn<T;dn++){let rt=G[dn].g;const vn=G[dn].map;if(rt-=Z,0>rt)Z=Math.max(0,G[dn].g-100),pt=!1;else try{Dd(vn,me,"req"+rt+"_")}catch{I&&I(vn)}}if(pt){I=me.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,I}function qo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Se||ue(),ne||(Se(),ne=!0),ge.add(w,f),f.v=0}}function Ga(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Xr(x(f.Fa,f),Od(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Xr(x(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),ii(this),Vd(this))};function Tc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Vd(f){f.g=new Zr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=yr(f.qa);yt(w,"RID","rpc"),yt(w,"SID",f.K),yt(w,"AID",f.T),yt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(w,"TO",f.ja),yt(w,"TYPE","xmlhttp"),rs(f,w),f.m&&f.o&&Ls(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Ms(yr(w)),T.m=null,T.P=!0,yc(T,f)}t.Za=function(){this.C!=null&&(this.C=null,ii(this),Ga(this),Yt(19))};function Ka(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Qa(f,w){var T=null;if(f.g==w){Ka(f),Tc(f),f.g=null;var I=2}else if(Wn(f.h,w))T=w.D,Cd(f.h,w),I=1;else return;if(f.G!=0){if(w.o)if(I==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var G=f.B;I=En(),xe(I,new Da(I,T)),_i(f)}else qo(f);else if(G=w.s,G==3||G==0&&0<w.X||!(I==1&&lm(f,w)||I==2&&Ga(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),G){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function Od(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function is(f,w){if(f.j.info("Error code "+w),w==2){var T=x(f.fb,f),I=f.Xa;const G=!I;I=new es(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zo(I,"https"),Ms(I),G?sm(I.toString(),T):Rd(I.toString(),T)}else Yt(2);f.G=0,f.l&&f.l.sa(w),Ld(f),Wa(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Ld(f){if(f.G=0,f.ka=[],f.l){const w=Nd(f.h);(w.length!=0||f.i.length!=0)&&(C(f.ka,w),C(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function Fd(f,w,T){var I=T instanceof es?yr(T):new es(T);if(I.g!="")w&&(I.g=w+"."+I.g),Rs(I,I.s);else{var G=d.location;I=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var Z=new es(null);I&&zo(Z,I),w&&(Z.g=w),G&&Rs(Z,G),T&&(Z.l=T),I=Z}return T=f.D,w=f.ya,T&&w&&yt(I,T,w),yt(I,"VER",f.la),rs(f,I),I}function Ud(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new jt(new ts({eb:T})):new jt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}t=Pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xa(){}Xa.prototype.g=function(f,w){return new qn(f,w)};function qn(f,w){ce.call(this),this.g=new Sc(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!L(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Ei(this)}P(qn,ce),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Tn(this.g)},qn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Qr(f),f=T);w.i.push(new Td(w.Ya++,f)),w.G==3&&_i(w)},qn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,qn.aa.N.call(this)};function Bd(f){lt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}P(Bd,lt);function $d(){kt.call(this),this.status=1}P($d,kt);function Ei(f){this.g=f}P(Ei,Pc),Ei.prototype.ua=function(){xe(this.g,"a")},Ei.prototype.ta=function(f){xe(this.g,new Bd(f))},Ei.prototype.sa=function(f){xe(this.g,new $d)},Ei.prototype.ra=function(){xe(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,uT=function(){return new Xa},cT=function(){return En()},lT=Jn,I0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,hf=Va,bd.COMPLETE="complete",aT=bd,yi.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ce.prototype.listen=ce.prototype.K,ru=yi,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,oT=jt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",Fb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Ly("@firebase/firestore");function Tl(){return Sa.logLevel}function _e(t,...e){if(Sa.logLevel<=Je.DEBUG){const n=e.map(Xy);Sa.debug(`Firestore (${rc}): ${t}`,...n)}}function _s(t,...e){if(Sa.logLevel<=Je.ERROR){const n=e.map(Xy);Sa.error(`Firestore (${rc}): ${t}`,...n)}}function vo(t,...e){if(Sa.logLevel<=Je.WARN){const n=e.map(Xy);Sa.warn(`Firestore (${rc}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dT(t,r,n)}function dT(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _s(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dT(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class t3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n3{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},d=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new hT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class r3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new r3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ub(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=o3(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function R0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ge(r,i);{const a=fT(),l=a3(a.encode(Bb(t,n)),a.encode(Bb(e,n)));return l!==0?l:Ge(r,i)}}n+=r>65535?2:1}return Ge(t.length,e.length)}function Bb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function a3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ki.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ge(e.length,n.length)}static compareSegments(e,n){const r=ki.isNumericId(e),i=ki.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ki.extractNumericId(e).compare(ki.extractNumericId(n)):R0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Et extends ki{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const l3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends ki{construct(e,n,r){return new An(e,n,r)}static isValidIdentifier(e){return l3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new An([$b])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Et.fromString(e))}static fromName(e){return new ke(Et.fromString(e).popFirst(5))}static empty(){return new ke(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c3(t,e,n,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zb(t){if(!ke.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hb(t){if(ke.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(t);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function id(t,e){if(!mT(t))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ve(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=-62135596800,qb=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qb);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Wb)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qb}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(id(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:un("string",Ct._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ct(0,0))}static max(){return new $e(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function u3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new xo(i,ke.empty(),e)}function d3(t){return new xo(t.readTime,t.key,ku)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo($e.min(),ke.empty(),ku)}static max(){return new xo($e.max(),ke.empty(),ku)}}function h3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==f3)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,a=0,l=!1;e.forEach(d=>{++i,d.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(g=>{l[m]=g,++d,d===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new ie((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function m3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-1;function wp(t){return t==null}function Lf(t){return t===0&&1/t==-1/0}function g3(t){return typeof t=="number"&&Number.isInteger(t)&&!Lf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function y3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gb(e)),e=v3(t.get(n),e);return Gb(e)}function v3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case gT:n+="";break;default:n+=a}}return n}function Gb(t){return t+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=a??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new mn(An.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vT("Invalid base64 string: "+a):a}}(e);return new In(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const x3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=x3.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",wT="__type__",bT="__previous_value__",_T="__local_write_time__";function Zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||n===void 0?void 0:n.stringValue)===xT}function bp(t){const e=t.mapValue.fields[bT];return Zy(e)?bp(e):e}function ju(t){const e=wo(t.mapValue.fields[_T].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,a,l,d,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const Ff="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Ff}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",b3="__max__",Fh={mapValue:{}},ST="__vector__",Uf="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zy(t)?4:E3(t)?9007199254740991:_3(t)?10:11:Oe(28295,{value:t})}function Ki(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=wo(i.timestampValue),d=wo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return bo(i.bytesValue).isEqual(bo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return en(i.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return en(i.integerValue)===en(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=en(i.doubleValue),d=en(a.doubleValue);return l===d?Lf(l)===Lf(d):isNaN(l)&&isNaN(d)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(Kb(l)!==Kb(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!Ki(l[h],d[h])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function Iu(t,e){return(t.values||[]).find(n=>Ki(n,e))!==void 0}function Gl(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,l){const d=en(a.integerValue||a.doubleValue),h=en(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return Xb(t.timestampValue,e.timestampValue);case 4:return Xb(ju(t),ju(e));case 5:return R0(t.stringValue,e.stringValue);case 6:return function(a,l){const d=bo(a),h=bo(l);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const d=a.split("/"),h=l.split("/");for(let m=0;m<d.length&&m<h.length;m++){const g=Ge(d[m],h[m]);if(g!==0)return g}return Ge(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const d=Ge(en(a.latitude),en(l.latitude));return d!==0?d:Ge(en(a.longitude),en(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yb(t.arrayValue,e.arrayValue);case 10:return function(a,l){var d,h,m,g;const y=a.fields||{},x=l.fields||{},S=(d=y[Uf])===null||d===void 0?void 0:d.arrayValue,P=(h=x[Uf])===null||h===void 0?void 0:h.arrayValue,_=Ge(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return _!==0?_:Yb(S,P)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Fh.mapValue&&l===Fh.mapValue)return 0;if(a===Fh.mapValue)return 1;if(l===Fh.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),m=l.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const x=R0(h[y],g[y]);if(x!==0)return x;const S=Gl(d[h[y]],m[g[y]]);if(S!==0)return S}return Ge(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{le:n})}}function Xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=wo(t),r=wo(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function Yb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Gl(n[i],r[i]);if(a)return a}return Ge(n.length,r.length)}function Kl(t){return D0(t)}function D0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=D0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${D0(n.fields[l])}`;return i+"}"}(t.mapValue):Oe(61005,{value:t})}function ff(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bp(t);return e?16+ff(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ff(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Io(r.fields,(a,l)=>{i+=a.length+ff(l)}),i}(t.mapValue);default:throw Oe(13486,{value:t})}}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function ev(t){return!!t&&"arrayValue"in t}function Zb(t){return!!t&&"nullValue"in t}function e2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function _3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===ST}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=An.emptyPath(),r={},i=[];e.forEach((l,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=hu(l):i.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ur(hu(this.value))}}function TT(t){const e=[];return Io(t.fields,(n,r)=>{const i=new An([n]);if(pf(r)){const a=TT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,$e.min(),$e.min(),$e.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,$e.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,$e.min(),$e.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,$e.min(),$e.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.position=e,this.inclusive=n}}function t2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=Gl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function n2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function S3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class cn extends PT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P3(e,n,r):n==="array-contains"?new k3(e,r):n==="in"?new j3(e,r):n==="not-in"?new A3(e,r):n==="array-contains-any"?new I3(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C3(e,r):new N3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gl(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends PT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new pi(e,n)}matches(e){return CT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function CT(t){return t.op==="and"}function NT(t){return T3(t)&&CT(t)}function T3(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function V0(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(NT(t))return t.filters.map(e=>V0(e)).join(",");{const e=t.filters.map(n=>V0(n)).join(",");return`${t.op}(${e})`}}function kT(t,e){return t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&Ki(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,d)=>a&&kT(l,i.filters[d]),!0):!1}(t,e):void Oe(19439)}function jT(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(t):"Filter"}class P3 extends cn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class C3 extends cn{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N3 extends cn{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class k3 extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ev(n)&&Iu(n.arrayValue,this.value)}}class j3 extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class A3 extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class I3 extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.Pe=null}}function r2(t,e=null,n=[],r=[],i=null,a=null,l=null){return new R3(t,e,n,r,i,a,l)}function tv(t){const e=We(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kl(r)).join(",")),e.Pe=n}return e.Pe}function nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n2(t.startAt,e.startAt)&&n2(t.endAt,e.endAt)}function O0(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,r=[],i=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function D3(t,e,n,r,i,a,l,d){return new oc(t,e,n,r,i,a,l,d)}function _p(t){return new oc(t)}function i2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IT(t){return t.collectionGroup!==null}function fu(t){const e=We(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new mn(An.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Ru(a,r))}),n.has(An.keyField().canonicalString())||e.Te.push(new Ru(An.keyField(),r))}return e.Te}function Fi(t){const e=We(t);return e.Ie||(e.Ie=M3(e,fu(t))),e.Ie}function M3(t,e){if(t.limitType==="F")return r2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ru(i.field,a)});const n=t.endAt?new Bf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bf(t.startAt.position,t.startAt.inclusive):null;return r2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L0(t,e){const n=t.filters.concat([e]);return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ep(t,e){return nv(Fi(t),Fi(e))&&t.limitType===e.limitType}function RT(t){return`${tv(Fi(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jT(i)).join(", ")}]`),wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(Fi(t))}; limitType=${t.limitType})`}function Sp(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of fu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,d,h){const m=t2(l,d,h);return l.inclusive?m<=0:m<0}(r.startAt,fu(r),i)||r.endAt&&!function(l,d,h){const m=t2(l,d,h);return l.inclusive?m>=0:m>0}(r.endAt,fu(r),i))}(t,e)}function V3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DT(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const a=O3(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function O3(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(a,l,d){const h=l.data.field(a),m=d.data.field(a);return h!==null&&m!==null?Gl(h,m):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Ut(ke.comparator);function Es(){return L3}const MT=new Ut(ke.comparator);function iu(...t){let e=MT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=MT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ua(){return pu()}function OT(){return pu()}function pu(){return new Aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const F3=new Ut(ke.comparator),U3=new mn(ke.comparator);function Ze(...t){let e=U3;for(const n of t)e=e.add(n);return e}const B3=new mn(Ge);function $3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function LT(t){return{integerValue:""+t}}function z3(t,e){return g3(e)?LT(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function H3(t,e,n){return t instanceof Du?function(i,a){const l={fields:{[wT]:{stringValue:xT},[_T]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Zy(a)&&(a=bp(a)),a&&(l.fields[bT]=a),{mapValue:l}}(n,e):t instanceof Mu?UT(t,e):t instanceof Vu?BT(t,e):function(i,a){const l=FT(i,a),d=s2(l)+s2(i.Ee);return M0(l)&&M0(i.Ee)?LT(d):rv(i.serializer,d)}(t,e)}function W3(t,e,n){return t instanceof Mu?UT(t,e):t instanceof Vu?BT(t,e):n}function FT(t,e){return t instanceof zf?function(r){return M0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Du extends Tp{}class Mu extends Tp{constructor(e){super(),this.elements=e}}function UT(t,e){const n=$T(e);for(const r of t.elements)n.some(i=>Ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vu extends Tp{constructor(e){super(),this.elements=e}}function BT(t,e){let n=$T(e);for(const r of t.elements)n=n.filter(i=>!Ki(i,r));return{arrayValue:{values:n}}}class zf extends Tp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function s2(t){return en(t.integerValue||t.doubleValue)}function $T(t){return ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.field=e,this.transform=n}}function G3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mu&&i instanceof Mu||r instanceof Vu&&i instanceof Vu?ql(r.elements,i.elements,Ki):r instanceof zf&&i instanceof zf?Ki(r.Ee,i.Ee):r instanceof Du&&i instanceof Du}(t.transform,e.transform)}class K3{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pp{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iv(t.key,qr.none()):new sd(t.key,t.data,qr.none());{const n=t.data,r=ur.empty();let i=new mn(An.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ro(t.key,r,new Tr(i.toArray()),qr.none())}}function Q3(t,e,n){t instanceof sd?function(i,a,l){const d=i.value.clone(),h=a2(i.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ro?function(i,a,l){if(!mf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=a2(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(HT(i)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof sd?function(a,l,d,h){if(!mf(a.precondition,l))return d;const m=a.value.clone(),g=l2(a.fieldTransforms,h,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ro?function(a,l,d,h){if(!mf(a.precondition,l))return d;const m=l2(a.fieldTransforms,h,l),g=l.data;return g.setAll(HT(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,d){return mf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(t,e,n)}function X3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=FT(r.transform,i||null);a!=null&&(n===null&&(n=ur.empty()),n.set(r.field,a))}return n||null}function o2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,l)=>G3(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Pp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Pp{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a2(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,W3(l,d,n[i]))}return r}function l2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,H3(a,l,e))}return r}class iv extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y3 extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Q3(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OT();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(i.key)?null:d;const h=zT(l,d);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>o2(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>o2(n,r))}}class sv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return F3}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new sv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,it;function t6(t){switch(t){case re.OK:return Oe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function WT(t){if(t===void 0)return _s("GRPC error has no .code"),re.UNKNOWN;switch(t){case on.OK:return re.OK;case on.CANCELLED:return re.CANCELLED;case on.UNKNOWN:return re.UNKNOWN;case on.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case on.INTERNAL:return re.INTERNAL;case on.UNAVAILABLE:return re.UNAVAILABLE;case on.UNAUTHENTICATED:return re.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case on.NOT_FOUND:return re.NOT_FOUND;case on.ALREADY_EXISTS:return re.ALREADY_EXISTS;case on.PERMISSION_DENIED:return re.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case on.ABORTED:return re.ABORTED;case on.OUT_OF_RANGE:return re.OUT_OF_RANGE;case on.UNIMPLEMENTED:return re.UNIMPLEMENTED;case on.DATA_LOSS:return re.DATA_LOSS;default:return Oe(39323,{code:t})}}(it=on||(on={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new mo([4294967295,4294967295],0);function c2(t){const e=fT().encode(t),n=new sT;return n.update(e),new Uint8Array(n.digest())}function u2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,a],0)]}class ov{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=mo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(n6)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=c2(e),[r,i]=u2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ov(a,i,n);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.fe===0)return;const n=c2(e),[r,i]=u2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cp($e.min(),i,new Ut(Ge),Es(),Ze())}}class od{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new od(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class qT{constructor(e,n){this.targetId=e,this.De=n}}class GT{constructor(e,n,r=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d2{constructor(){this.ve=0,this.Ce=h2(),this.Fe=In.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),n=Ze(),r=Ze();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}}),new od(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=h2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class r6{constructor(e){this.We=e,this.Ge=new Map,this.ze=Es(),this.je=Uh(),this.Je=Uh(),this.He=new Ut(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(O0(a))if(r===0){const l=new ke(a.path);this.Xe(n,l,Bn.newNoDocument(l,$e.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const d=this._t(e),h=d?this.ut(d,e,l):1;if(h!==0){this.rt(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,d;try{l=bo(r).toUint8Array()}catch(h){if(h instanceof vT)return vo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new ov(l,i,a)}catch(h){return vo(h instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.We.lt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,l)=>{const d=this.st(l);if(d){if(a.current&&O0(d.target)){const h=new ke(d.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Bn.newNoDocument(h,e))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let r=Ze();this.Je.forEach((a,l)=>{let d=!0;l.forEachWhile(h=>{const m=this.st(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const i=new Cp(e,n,this.He,this.ze,r);return this.ze=Es(),this.je=Uh(),this.Je=Uh(),this.He=new Ut(Ge),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new d2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new mn(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new mn(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new d2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Uh(){return new Ut(ke.comparator)}function h2(){return new Ut(ke.comparator)}const i6={asc:"ASCENDING",desc:"DESCENDING"},s6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o6={and:"AND",or:"OR"};class a6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F0(t,e){return t.useProto3Json||wp(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l6(t,e){return Hf(t,e.toTimestamp())}function Ui(t){return ht(!!t,49232),$e.fromTimestamp(function(n){const r=wo(n);return new Ct(r.seconds,r.nanos)}(t))}function av(t,e){return U0(t,e).canonicalString()}function U0(t,e){const n=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QT(t){const e=Et.fromString(t);return ht(eP(e),10190,{key:e.toString()}),e}function B0(t,e){return av(t.databaseId,e.path)}function Bg(t,e){const n=QT(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(YT(n))}function XT(t,e){return av(t.databaseId,e)}function c6(t){const e=QT(t);return e.length===4?Et.emptyPath():YT(e)}function $0(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f2(t,e,n){return{name:B0(t,e),fields:n.value.mapValue.fields}}function u6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(ht(g===void 0||typeof g=="string",58123),In.fromBase64String(g||"")):(ht(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),In.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(m){const g=m.code===void 0?re.UNKNOWN:WT(m.code);return new ve(g,m.message||"")}(l);n=new GT(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bg(t,r.document.name),a=Ui(r.document.updateTime),l=r.document.createTime?Ui(r.document.createTime):$e.min(),d=new ur({mapValue:{fields:r.document.fields}}),h=Bn.newFoundDocument(i,a,l,d),m=r.targetIds||[],g=r.removedTargetIds||[];n=new gf(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bg(t,r.document),a=r.readTime?Ui(r.readTime):$e.min(),l=Bn.newNoDocument(i,a),d=r.removedTargetIds||[];n=new gf([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bg(t,r.document),a=r.removedTargetIds||[];n=new gf([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new e6(i,a),d=r.targetId;n=new qT(d,l)}}return n}function d6(t,e){let n;if(e instanceof sd)n={update:f2(t,e.key,e.value)};else if(e instanceof iv)n={delete:B0(t,e.key)};else if(e instanceof Ro)n={update:f2(t,e.key,e.data),updateMask:w6(e.fieldMask)};else{if(!(e instanceof Y3))return Oe(16599,{Rt:e.type});n={verify:B0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const d=l.transform;if(d instanceof Du)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zf)return{fieldPath:l.field.canonicalString(),increment:d.Ee};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:l6(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(t,e.precondition)),n}function h6(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?Ui(i.updateTime):Ui(a);return l.isEqual($e.min())&&(l=Ui(a)),new K3(l,i.transformResults||[])}(n,e))):[]}function f6(t,e){return{documents:[XT(t,e.path)]}}function p6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XT(t,i);const a=function(m){if(m.length!==0)return ZT(pi.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(g=>function(x){return{field:Cl(x.field),direction:y6(x.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=F0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:n,parent:i}}function m6(t){let e=c6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(y){const x=JT(y);return x instanceof pi&&NT(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(P){return new Ru(Nl(P.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(n.orderBy));let d=null;n.limit&&(d=function(y){let x;return x=typeof y=="object"?y.value:y,wp(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(y){const x=!!y.before,S=y.values||[];return new Bf(S,x)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const x=!y.before,S=y.values||[];return new Bf(S,x)}(n.endAt)),D3(e,i,l,a,d,"F",h,m)}function g6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nl(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nl(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Nl(n.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nl(n.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return cn.create(Nl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>JT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function y6(t){return i6[t]}function v6(t){return s6[t]}function x6(t){return o6[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return An.fromServerFormat(t.fieldPath)}function ZT(t){return t instanceof cn?function(n){if(n.op==="=="){if(e2(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e2(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:v6(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>ZT(i));return r.length===1?r[0]:{compositeFilter:{op:x6(n.op),filters:r}}}(t):Oe(54877,{filter:t})}function w6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,a=$e.min(),l=$e.min(),d=In.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.gt=e}}function _6(t){const e=m6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.Dn=new S6}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(xo.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class S6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tP=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(tP,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ql(0)}static ur(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="LruGarbageCollector",T6=1048576;function g2([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class P6{constructor(e){this.Tr=e,this.buffer=new mn(g2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_e(m2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?_e(m2,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.Rr(3e5)})}}class N6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(xp.ue);const r=new P6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(p2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,l,d,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,d=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Tl()<=Je.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function k6(t,e){return new N6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.changes=new Aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mu(r.mutation,i,Tr.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=ua();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=iu();return a.forEach((d,h)=>{l=l.insert(d,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,d)=>{n.set(l,d)})})}computeViews(e,n,r,i){let a=Es();const l=pu(),d=function(){return pu()}();return n.forEach((h,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Ro)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),mu(g.mutation,m,g.mutation.getFieldMask(),Ct.now())):l.set(m.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,g)=>l.set(m,g)),n.forEach((m,g)=>{var y;return d.set(m,new A6(g,(y=l.get(m))!==null&&y!==void 0?y:null))}),d))}recalculateAndSaveOverlays(e,n){const r=pu();let i=new Ut((l,d)=>l-d),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const d of l)d.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Tr.empty();g=d.applyToLocalView(m,g),r.set(h,g);const y=(i.get(d.batchId)||Ze()).add(h);i=i.insert(d.batchId,y)})}).next(()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,g=h.value,y=OT();g.forEach(x=>{if(!a.has(x)){const S=zT(n.get(x),r.get(x));S!==null&&y.set(x,S),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(ua());let d=ku,h=a;return l.next(m=>ie.forEach(m,(g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{h=h.insert(g,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Ze())).next(g=>({batchId:d,changes:VT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let i=iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=iu();return this.indexManager.getCollectionParents(e,a).next(d=>ie.forEach(d,h=>{const m=function(y,x){return new oc(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(g=>{g.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,Bn.newInvalidDocument(g)))});let d=iu();return l.forEach((h,m)=>{const g=a.get(h);g!==void 0&&mu(g.mutation,m,Tr.empty(),Ct.now()),Sp(n,m)&&(d=d.insert(h,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:_6(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.overlays=new Ut(ke.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return ie.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=ua(),a=n.length+1,l=new ke(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ut((m,g)=>m-g);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=ua(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=ua(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>d.set(m,g)),!(d.size()>=i)););return ie.resolve(d)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z3(n,r));let a=this.kr.get(n);a===void 0&&(a=Ze(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.qr=new mn(_n.Qr),this.$r=new mn(_n.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _n(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ke(new Et([])),r=new _n(n,e),i=new _n(n,e+1),a=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ke(new Et([])),r=new _n(n,e),i=new _n(n,e+1);let a=Ze();return this.$r.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new _n(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ke.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mn(_n.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new J3(a,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Yr=this.Yr.add(new _n(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jy:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],l=>{const d=this.Zr(l.Hr);a.push(d)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ge);return n.forEach(i=>{const a=new _n(i,0),l=new _n(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],d=>{r=r.add(d.Hr)})}),ie.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new _n(new ke(a),0);let d=new mn(Ge);return this.Yr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(h.Hr)),!0)},l),ie.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ie.forEach(n.mutations,i=>{const a=new _n(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _n(n,0),i=this.Yr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.ni=e,this.docs=function(){return new Ut(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Es();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Es();const l=n.path,d=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||h3(d3(g),r)<=0||(i.has(g.key)||Sp(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ri(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L6(this)}getSize(e){return ie.resolve(this.size)}}class L6 extends j6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.persistence=e,this.ii=new Aa(n=>tv(n),nv),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.si=0,this.oi=new lv,this.targetCount=0,this._i=Ql.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.ai={},this.overlays={},this.ui=new xp(0),this.ci=!1,this.ci=!0,this.li=new M6,this.referenceDelegate=e(this),this.hi=new F6(this),this.indexManager=new E6,this.remoteDocumentCache=function(i){return new O6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new b6(n),this.Ti=new R6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new V6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new U6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return ie.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class U6 extends p3{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Ai=new lv,this.Ri=null}static Vi(e){return new cv(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,r=>{const i=ke.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,$e.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Wf{constructor(e,n){this.persistence=e,this.gi=new Aa(r=>y3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=k6(this,n)}static Vi(e,n){return new Wf(e,n)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ie.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(d=>{d||(r++,a.removeEntry(l,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ff(e.data.value)),n}Sr(e,n,r){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ze(),i=Ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new uv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return wA()?8:m3(zn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new B6;return this.ws(e,n,l).next(d=>{if(a.result=d,this.Rs)return this.Ss(e,n,l,d.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Tl()<=Je.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Tl()<=Je.DEBUG&&_e("QueryEngine","Query:",Pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Tl()<=Je.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):ie.resolve())}ps(e,n){if(i2(n))return ie.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$f(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ze(...a);return this.gs.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.bs(n,d);return this.Ds(n,m,l,h.readTime)?this.ps(e,$f(n,null,"F")):this.vs(e,m,n,h)}))})))}ys(e,n,r,i){return i2(n)||i.isEqual($e.min())?ie.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,r,i)?ie.resolve(null):(Tl()<=Je.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pl(n)),this.vs(e,l,n,u3(i,ku)).next(d=>d))})}bs(e,n){let r=new mn(DT(e));return n.forEach((i,a)=>{Sp(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return Tl()<=Je.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.gs.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",z6=3e8;class H6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ut(Ge),this.Ms=new Aa(a=>tv(a),nv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function W6(t,e,n,r){return new H6(t,e,n,r)}async function rP(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],d=[];let h=Ze();for(const m of i){l.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(m=>({Bs:m,removedBatchIds:l,addedBatchIds:d}))})})}function q6(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,h,m,g){const y=m.batch,x=y.keys();let S=ie.resolve();return x.forEach(P=>{S=S.next(()=>g.getEntry(h,P)).next(_=>{const C=m.docVersions.get(P);ht(C!==null,48541),_.version.compareTo(C)<0&&(y.applyToRemoteDocument(_,m),_.isValidDocument()&&(_.setReadTime(m.commitVersion),g.addEntry(_)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=Ze();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(h=h.add(d.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iP(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G6(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const d=[];e.targetChanges.forEach((g,y)=>{const x=i.get(y);if(!x)return;d.push(n.hi.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,g.addedDocuments,y)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(In.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(y,S),function(_,C,A){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=z6?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(x,S,g)&&d.push(n.hi.updateTargetData(a,S))});let h=Es(),m=Ze();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(K6(a,l,e.documentUpdates).next(g=>{h=g.Ls,m=g.ks})),!r.isEqual($e.min())){const g=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ie.waitFor(d).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Fs=i,a))}function K6(t,e,n){let r=Ze(),i=Ze();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Es();return n.forEach((d,h)=>{const m=a.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):_e(dv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{Ls:l,ks:i}})}function Q6(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X6(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function z0(t,e,n){const r=We(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!sc(l))throw l;_e(dv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function y2(t,e,n){const r=We(t);let i=$e.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,m,g){const y=We(h),x=y.Ms.get(g);return x!==void 0?ie.resolve(y.Fs.get(x)):y.hi.getTargetData(m,g)}(r,l,Fi(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,d.targetId).next(h=>{a=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:$e.min(),n?a:Ze())).next(d=>(Y6(r,V3(e),d),{documents:d,qs:a})))}function Y6(t,e,n){let r=t.xs.get(e)||$e.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class v2{constructor(){this.activeTargetIds=$3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J6{constructor(){this.Fo=new v2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new v2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="ConnectivityMonitor";class w2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_e(x2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_e(x2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function H0(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",e9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t9{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ff?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const l=H0(),d=this.Go(e,n.toUriEncodedString());_e($g,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,a);const{host:m}=new URL(d),g=jo(m);return this.jo(e,d,h,r,g).then(y=>(_e($g,`Received RPC '${e}' ${l}: `,y),y),y=>{throw vo($g,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y})}Jo(e,n,r,i,a,l){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=e9[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class r9 extends t9{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const l=H0();return new Promise((d,h)=>{const m=new oT;m.setWithCredentials(!0),m.listenOnce(aT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case hf.NO_ERROR:const y=m.getResponseJson();_e(On,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case hf.TIMEOUT:_e(On,`RPC '${e}' ${l} timed out`),h(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const x=m.getStatus();if(_e(On,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S==null?void 0:S.error;if(P&&P.status&&P.message){const _=function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(P.status);h(new ve(_,P.message))}else h(new ve(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:l,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{_e(On,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);_e(On,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",g,r,15)})}P_(e,n,r){const i=H0(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uT(),d=cT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");_e(On,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=l.createWebChannel(g,h);this.T_(y);let x=!1,S=!1;const P=new n9({Ho:C=>{S?_e(On,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(x||(_e(On,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),_e(On,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Yo:()=>y.close()}),_=(C,A,L)=>{C.listen(A,V=>{try{L(V)}catch(B){setTimeout(()=>{throw B},0)}})};return _(y,ru.EventType.OPEN,()=>{S||(_e(On,`RPC '${e}' stream ${i} transport opened.`),P.s_())}),_(y,ru.EventType.CLOSE,()=>{S||(S=!0,_e(On,`RPC '${e}' stream ${i} transport closed`),P.__(),this.I_(y))}),_(y,ru.EventType.ERROR,C=>{S||(S=!0,vo(On,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),P.__(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),_(y,ru.EventType.MESSAGE,C=>{var A;if(!S){const L=C.data[0];ht(!!L,16349);const V=L,B=(V==null?void 0:V.error)||((A=V[0])===null||A===void 0?void 0:A.error);if(B){_e(On,`RPC '${e}' stream ${i} received error:`,B);const q=B.status;let X=function(D){const E=on[D];if(E!==void 0)return WT(E)}(q),R=B.message;X===void 0&&(X=re.INTERNAL,R="Unknown error status: "+q+" with message "+B.message),S=!0,P.__(new ve(X,R)),y.close()}else _e(On,`RPC '${e}' stream ${i} received:`,L),P.a_(L)}}),_(d,lT.STAT_EVENT,C=>{C.stat===I0.PROXY?_e(On,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===I0.NOPROXY&&_e(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return new a6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="PersistentStream";class oP{constructor(e,n,r,i,a,l,d,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sP(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(_s(n.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return _e(b2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(_e(b2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i9 extends oP{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=u6(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?$e.min():l.readTime?Ui(l.readTime):$e.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=$0(this.serializer),n.addTarget=function(a,l){let d;const h=l.target;if(d=O0(h)?{documents:f6(a,h)}:{query:p6(a,h).Vt},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=KT(a,l.resumeToken);const m=F0(a,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo($e.min())>0){d.readTime=Hf(a,l.snapshotVersion.toTimestamp());const m=F0(a,l.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=g6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=$0(this.serializer),n.removeTarget=e,this.k_(n)}}class s9 extends oP{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=h6(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=$0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>d6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{}class a9 extends o9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,U0(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(re.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Jo(e,U0(n,r),i,l,d,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(re.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class l9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_s(n),this._a=!1):_e("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class c9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{Ia(this)&&(_e(Ta,"Restarting streams for network reachability change."),await async function(h){const m=We(h);m.Ia.add(4),await ad(m),m.Aa.set("Unknown"),m.Ia.delete(4),await kp(m)}(this))})}),this.Aa=new l9(r,i)}}async function kp(t){if(Ia(t))for(const e of t.da)await e(!0)}async function ad(t){for(const e of t.da)await e(!1)}function aP(t,e){const n=We(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),mv(n)?pv(n):ac(n).x_()&&fv(n,e))}function hv(t,e){const n=We(t),r=ac(n);n.Ta.delete(e),r.x_()&&lP(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ia(n)&&n.Aa.set("Unknown"))}function fv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).H_(e)}function lP(t,e){t.Ra.$e(e),ac(t).Y_(e)}function pv(t){t.Ra=new r6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.Aa.aa()}function mv(t){return Ia(t)&&!ac(t).M_()&&t.Ta.size>0}function Ia(t){return We(t).Ia.size===0}function cP(t){t.Ra=void 0}async function u9(t){t.Aa.set("Online")}async function d9(t){t.Ta.forEach((e,n)=>{fv(t,e)})}async function h9(t,e){cP(t),mv(t)?(t.Aa.la(e),pv(t)):t.Aa.set("Unknown")}async function f9(t,e,n){if(t.Aa.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const d of a.targetIds)i.Ta.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ta.delete(d),i.Ra.removeTarget(d))}(t,e)}catch(r){_e(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qf(t,r)}else if(e instanceof gf?t.Ra.Ye(e):e instanceof qT?t.Ra.it(e):t.Ra.et(e),!n.isEqual($e.min()))try{const r=await iP(t.localStore);n.compareTo(r)>=0&&await function(a,l){const d=a.Ra.Pt(l);return d.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ta.get(m);g&&a.Ta.set(m,g.withResumeToken(h.resumeToken,l))}}),d.targetMismatches.forEach((h,m)=>{const g=a.Ta.get(h);if(!g)return;a.Ta.set(h,g.withResumeToken(In.EMPTY_BYTE_STRING,g.snapshotVersion)),lP(a,h);const y=new co(g.target,h,m,g.sequenceNumber);fv(a,y)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){_e(Ta,"Failed to raise snapshot:",r),await qf(t,r)}}async function qf(t,e,n){if(!sc(e))throw e;t.Ia.add(1),await ad(t),t.Aa.set("Offline"),n||(n=()=>iP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Ta,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await kp(t)})}function uP(t,e){return e().catch(n=>qf(t,n,e))}async function jp(t){const e=We(t),n=Eo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jy;for(;p9(e);)try{const i=await Q6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,m9(e,i)}catch(i){await qf(e,i)}dP(e)&&hP(e)}function p9(t){return Ia(t)&&t.Pa.length<10}function m9(t,e){t.Pa.push(e);const n=Eo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function dP(t){return Ia(t)&&!Eo(t).M_()&&t.Pa.length>0}function hP(t){Eo(t).start()}async function g9(t){Eo(t).na()}async function y9(t){const e=Eo(t);for(const n of t.Pa)e.X_(n.mutations)}async function v9(t,e,n){const r=t.Pa.shift(),i=sv.from(r,e,n);await uP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jp(t)}async function x9(t,e){e&&Eo(t).Z_&&await async function(r,i){if(function(l){return t6(l)&&l!==re.ABORTED}(i.code)){const a=r.Pa.shift();Eo(r).N_(),await uP(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await jp(r)}}(t,e),dP(t)&&hP(t)}async function _2(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),_e(Ta,"RemoteStore received new credentials");const r=Ia(n);n.Ia.add(3),await ad(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await kp(n)}async function w9(t,e){const n=We(t);e?(n.Ia.delete(2),await kp(n)):e||(n.Ia.add(2),await ad(n),n.Aa.set("Unknown"))}function ac(t){return t.Va||(t.Va=function(n,r,i){const a=We(n);return a.ia(),new i9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:u9.bind(null,t),e_:d9.bind(null,t),n_:h9.bind(null,t),J_:f9.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),mv(t)?pv(t):t.Aa.set("Unknown")):(await t.Va.stop(),cP(t))})),t.Va}function Eo(t){return t.ma||(t.ma=function(n,r,i){const a=We(n);return a.ia(),new s9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:g9.bind(null,t),n_:x9.bind(null,t),ea:y9.bind(null,t),ta:v9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await jp(t)):(await t.ma.stop(),t.Pa.length>0&&(_e(Ta,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,d=new gv(e,n,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(t,e){if(_s("AsyncQueue",`${e}: ${t}`),sc(t))return new ve(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.fa=new Ut(ke.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,i,a,l,d,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(d=>{l.push({type:0,doc:d})}),new Xl(e,n,Bl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class _9{constructor(){this.queries=S2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=We(n),a=i.queries;i.queries=S2(),a.forEach((l,d)=>{for(const h of d.wa)h.onError(r)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function S2(){return new Aa(t=>RT(t),Ep)}async function vv(t,e){const n=We(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new b9,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=yv(l,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&wv(n)}async function xv(t,e){const n=We(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E9(t,e){const n=We(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const d of l.wa)d.Ca(i)&&(r=!0);l.ya=i}}r&&wv(n)}function S9(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function wv(t){t.Da.forEach(e=>{e.next()})}var W0,T2;(T2=W0||(W0={})).Fa="default",T2.Cache="cache";class bv{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==W0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.key=e}}class pP{constructor(e){this.key=e}}class T9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=DT(e),this.eu=new Bl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new E2,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const x=i.get(g),S=Sp(this.query,y)?y:null,P=!!x&&this.mutatedKeys.has(x.key),_=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;x&&S?x.data.isEqual(S.data)?P!==_&&(r.track({type:3,doc:S}),C=!0):this.iu(x,S)||(r.track({type:2,doc:S}),C=!0,(h&&this.Xa(S,h)>0||m&&this.Xa(S,m)<0)&&(d=!0)):!x&&S?(r.track({type:0,doc:S}),C=!0):x&&!S&&(r.track({type:1,doc:x}),C=!0,(h||m)&&(d=!0)),C&&(S?(l=l.add(S),a=_?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:l,ru:r,Ds:d,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((g,y)=>function(S,P){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:C})}};return _(S)-_(P)}(g.type,y.type)||this.Xa(g.doc,y.doc)),this.su(r),i=i!=null&&i;const d=n&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,m=h!==this.Ya;return this.Ya=h,l.length!==0||m?{snapshot:new Xl(this.query,e.eu,a,l,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new E2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new pP(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new fP(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Xl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const _v="SyncEngine";class P9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C9{constructor(e){this.key=e,this.lu=!1}}class N9{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Aa(d=>RT(d),Ep),this.Tu=new Map,this.Iu=new Set,this.du=new Ut(ke.comparator),this.Eu=new Map,this.Au=new lv,this.Ru={},this.Vu=new Map,this.mu=Ql.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function k9(t,e,n=!0){const r=wP(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await mP(r,e,n,!0),i}async function j9(t,e){const n=wP(t);await mP(n,e,!0,!1)}async function mP(t,e,n,r){const i=await X6(t.localStore,Fi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await A9(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&aP(t.remoteStore,i),d}async function A9(t,e,n,r,i){t.gu=(y,x,S)=>async function(_,C,A,L){let V=C.view.nu(A);V.Ds&&(V=await y2(_.localStore,C.query,!1).then(({documents:R})=>C.view.nu(R,V)));const B=L&&L.targetChanges.get(C.targetId),q=L&&L.targetMismatches.get(C.targetId)!=null,X=C.view.applyChanges(V,_.isPrimaryClient,B,q);return C2(_,C.targetId,X._u),X.snapshot}(t,y,x,S);const a=await y2(t.localStore,e,!0),l=new T9(e,a.qs),d=l.nu(a.documents),h=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(d,t.isPrimaryClient,h);C2(t,n,m._u);const g=new P9(e,n,l);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function I9(t,e,n){const r=We(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(l=>!Ep(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await z0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hv(r.remoteStore,i.targetId),q0(r,i.targetId)}).catch(ic)):(q0(r,i.targetId),await z0(r.localStore,i.targetId,!0))}async function R9(t,e){const n=We(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))}async function D9(t,e,n){const r=B9(t);try{const i=await function(l,d){const h=We(l),m=Ct.now(),g=d.reduce((S,P)=>S.add(P.key),Ze());let y,x;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=Es(),_=Ze();return h.Os.getEntries(S,g).next(C=>{P=C,P.forEach((A,L)=>{L.isValidDocument()||(_=_.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,P)).next(C=>{y=C;const A=[];for(const L of d){const V=X3(L,y.get(L.key).overlayedDocument);V!=null&&A.push(new Ro(L.key,V,TT(V.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,A,d)}).next(C=>{x=C;const A=C.applyToLocalDocumentSet(y,_);return h.documentOverlayCache.saveOverlays(S,C.batchId,A)})}).then(()=>({batchId:x.batchId,changes:VT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,h){let m=l.Ru[l.currentUser.toKey()];m||(m=new Ut(Ge)),m=m.insert(d,h),l.Ru[l.currentUser.toKey()]=m}(r,i.batchId,n),await ld(r,i.changes),await jp(r.remoteStore)}catch(i){const a=yv(i,"Failed to persist write");n.reject(a)}}async function gP(t,e){const n=We(t);try{const r=await G6(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Eu.get(a);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?ht(l.lu,14607):i.removedDocuments.size>0&&(ht(l.lu,42227),l.lu=!1))}),await ld(n,r,e)}catch(r){await ic(r)}}function P2(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(l,d){const h=We(l);h.onlineState=d;let m=!1;h.queries.forEach((g,y)=>{for(const x of y.wa)x.va(d)&&(m=!0)}),m&&wv(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M9(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new Ut(ke.comparator);l=l.insert(a,Bn.newNoDocument(a,$e.min()));const d=Ze().add(a),h=new Cp($e.min(),new Map,new Ut(Ge),l,d);await gP(r,h),r.du=r.du.remove(a),r.Eu.delete(e),Ev(r)}else await z0(r.localStore,e,!1).then(()=>q0(r,e,n)).catch(ic)}async function V9(t,e){const n=We(t),r=e.batch.batchId;try{const i=await q6(n.localStore,e);vP(n,r,null),yP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await ic(i)}}async function O9(t,e,n){const r=We(t);try{const i=await function(l,d){const h=We(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,d).next(y=>(ht(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(r.localStore,e);vP(r,e,n),yP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ld(r,i)}catch(i){await ic(i)}}function yP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function vP(t,e,n){const r=We(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||xP(t,r)})}function xP(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Ev(t))}function C2(t,e,n){for(const r of n)r instanceof fP?(t.Au.addReference(r.key,e),L9(t,r)):r instanceof pP?(_e(_v,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||xP(t,r.key)):Oe(19791,{yu:r})}function L9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(_e(_v,"New document in limbo: "+n),t.Iu.add(r),Ev(t))}function Ev(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ke(Et.fromString(e)),r=t.mu.next();t.Eu.set(r,new C9(n)),t.du=t.du.insert(n,r),aP(t.remoteStore,new co(Fi(_p(n.path)),r,"TargetPurposeLimboResolution",xp.ue))}}async function ld(t,e,n){const r=We(t),i=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((d,h)=>{l.push(r.gu(h,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){i.push(m);const y=uv.Es(h.targetId,m);a.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(h,m){const g=We(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ie.forEach(m,x=>ie.forEach(x.Is,S=>g.persistence.referenceDelegate.addReference(y,x.targetId,S)).next(()=>ie.forEach(x.ds,S=>g.persistence.referenceDelegate.removeReference(y,x.targetId,S)))))}catch(y){if(!sc(y))throw y;_e(dv,"Failed to update sequence numbers: "+y)}for(const y of m){const x=y.targetId;if(!y.fromCache){const S=g.Fs.get(x),P=S.snapshotVersion,_=S.withLastLimboFreeSnapshotVersion(P);g.Fs=g.Fs.insert(x,_)}}}(r.localStore,a))}async function F9(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){_e(_v,"User change. New user:",e.toKey());const r=await rP(n.localStore,e);n.currentUser=e,function(a,l){a.Vu.forEach(d=>{d.forEach(h=>{h.reject(new ve(re.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(n,r.Bs)}}function U9(t,e){const n=We(t),r=n.Eu.get(e);if(r&&r.lu)return Ze().add(r.key);{let i=Ze();const a=n.Tu.get(e);if(!a)return i;for(const l of a){const d=n.Pu.get(l);i=i.unionWith(d.view.tu)}return i}}function wP(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M9.bind(null,e),e.hu.J_=E9.bind(null,e.eventManager),e.hu.pu=S9.bind(null,e.eventManager),e}function B9(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O9.bind(null,e),e}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Np(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return W6(this.persistence,new $6,e.initialUser,this.serializer)}Du(e){return new nP(cv.Vi,this.serializer)}bu(e){return new J6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class $9 extends Gf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ht(this.persistence.referenceDelegate instanceof Wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new nP(r=>Wf.Vi(r,n),this.serializer)}}class G0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F9.bind(null,this.syncEngine),await w9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _9}()}createDatastore(e){const n=Np(e.databaseInfo.databaseId),r=function(a){return new r9(a)}(e.databaseInfo);return function(a,l,d,h){return new a9(a,l,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,d){return new c9(r,i,a,l,d)}(this.localStore,this.datastore,e.asyncQueue,n=>P2(this.syncEngine,n,0),function(){return w2.C()?new w2:new Z6}())}createSyncEngine(e,n){return function(i,a,l,d,h,m,g){const y=new N9(i,a,l,d,h,m);return g&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=We(i);_e(Ta,"RemoteStore shutting down."),a.Ia.add(5),await ad(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}G0.provider={build:()=>new G0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class z9{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{_e(So,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(_e(So,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{vo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{_e("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{vo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function N2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H9(t);_e(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_2(e.remoteStore,i)),t._onlineComponents=e}async function H9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(So,"Using user provided OfflineComponentProvider");try{await Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Hg(t,new Gf)}}else _e(So,"Using default OfflineComponentProvider"),await Hg(t,new $9(void 0));return t._offlineComponents}async function bP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(So,"Using user provided OnlineComponentProvider"),await N2(t,t._uninitializedComponentsProvider._online)):(_e(So,"Using default OnlineComponentProvider"),await N2(t,new G0))),t._onlineComponents}function W9(t){return bP(t).then(e=>e.syncEngine)}async function Kf(t){const e=await bP(t),n=e.eventManager;return n.onListen=k9.bind(null,e.syncEngine),n.onUnlisten=I9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R9.bind(null,e.syncEngine),n}function q9(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,d,h,m){const g=new Sv({next:x=>{g.Ou(),l.enqueueAndForget(()=>xv(a,y));const S=x.docs.has(d);!S&&x.fromCache?m.reject(new ve(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&h&&h.source==="server"?m.reject(new ve(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new bv(_p(d.path),g,{includeMetadataChanges:!0,ka:!0});return vv(a,y)}(await Kf(t),t.asyncQueue,e,n,r)),r.promise}function G9(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,d,h,m){const g=new Sv({next:x=>{g.Ou(),l.enqueueAndForget(()=>xv(a,y)),x.fromCache&&h.source==="server"?m.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new bv(d,g,{includeMetadataChanges:!0,ka:!0});return vv(a,y)}(await Kf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firestore.googleapis.com",j2=!0;class A2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EP,this.ssl=j2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:j2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T6)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_P((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k2.get(n);r&&(_e("ComponentProvider","Removing Datastore"),k2.delete(n),r.terminate())}(this),Promise.resolve()}}function K9(t,e,n,r={}){var i;t=hr(t,Ap);const a=jo(e),l=t._getSettings(),d=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(Vy(`https://${h}`),Oy("Firestore",!0)),l.host!==EP&&l.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:r});if(!wa(m,d)&&(t._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Un.MOCK_USER;else{g=xS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Un(x)}t._authCredentials=new t3(new hT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(id(n,qt._jsonSchema))return new qt(e,r||null,new ke(Et.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:un("string",qt._jsonSchemaVersion),referencePath:un("string")};class go extends js{constructor(e,n,r){super(e,n,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ke(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function mi(t,e,...n){if(t=Dt(t),pT("collection","path",e),t instanceof Ap){const r=Et.fromString(e,...n);return Hb(r),new go(t,null,r)}{if(!(t instanceof qt||t instanceof go))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return Hb(r),new go(t.firestore,null,r)}}function Pt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Yy.newId()),pT("doc","path",e),t instanceof Ap){const r=Et.fromString(e,...n);return zb(r),new qt(t,null,new ke(r))}{if(!(t instanceof qt||t instanceof go))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return zb(r),new qt(t.firestore,t instanceof go?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="AsyncQueue";class R2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sP(this,"async_queue_retry"),this.oc=()=>{const r=zg();r&&_e(I2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new xs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sc(e))throw e;_e(I2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_s("INTERNAL UNHANDLED ERROR: ",D2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=gv.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Oe(47125,{hc:D2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function D2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends Ap{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R2(e),this._firestoreClient=void 0,await e}}}function Q9(t,e){const n=typeof t=="object"?t:Uy(),r=typeof t=="string"?t:Ff,i=pp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=gS("firestore");a&&K9(i,...a)}return i}function Ip(t){if(t._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X9(t),t._firestoreClient}function X9(t){var e,n,r;const i=t._freezeSettings(),a=function(d,h,m,g){return new w3(d,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_P(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(In.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(id(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:un("string",Hr._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(id(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:un("string",Bi._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(id(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $i(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:un("string",$i._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^__.*__$/;class J9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class SP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:t})}}class Tv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Qf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(TP(this.Ec)&&Y9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Z9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Np(e)}Dc(e,n,r,i=!1){return new Tv({Ec:e,methodName:n,bc:r,path:An.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(t){const e=t._freezeSettings(),n=Np(t._databaseId);return new Z9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PP(t,e,n,r,i,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);Cv("Data must be an object, but it was:",l,r);const d=CP(r,l);let h,m;if(a.merge)h=new Tr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const x=K0(e,y,n);if(!l.contains(x))throw new ve(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);kP(g,x)||g.push(x)}h=new Tr(g),m=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=l.fieldTransforms;return new J9(new ur(d),h,m)}class Vp extends Dp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vp}}class Pv extends Dp{_toFieldTransform(e){return new q3(e.path,new Du)}isEqual(e){return e instanceof Pv}}function eD(t,e,n,r){const i=t.Dc(1,e,n);Cv("Data must be an object, but it was:",i,r);const a=[],l=ur.empty();Io(r,(h,m)=>{const g=Nv(e,h,n);m=Dt(m);const y=i.gc(g);if(m instanceof Vp)a.push(g);else{const x=cd(m,y);x!=null&&(a.push(g),l.set(g,x))}});const d=new Tr(a);return new SP(l,d,i.fieldTransforms)}function tD(t,e,n,r,i,a){const l=t.Dc(1,e,n),d=[K0(e,r,n)],h=[i];if(a.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(K0(e,a[x])),h.push(a[x+1]);const m=[],g=ur.empty();for(let x=d.length-1;x>=0;--x)if(!kP(m,d[x])){const S=d[x];let P=h[x];P=Dt(P);const _=l.gc(S);if(P instanceof Vp)m.push(S);else{const C=cd(P,_);C!=null&&(m.push(S),g.set(S,C))}}const y=new Tr(m);return new SP(g,y,l.fieldTransforms)}function nD(t,e,n,r=!1){return cd(n,t.Dc(r?4:3,e))}function cd(t,e){if(NP(t=Dt(t)))return Cv("Unsupported field value:",e,t),CP(t,e);if(t instanceof Dp)return function(r,i){if(!TP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const d of r){let h=cd(d,i.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:Hf(i.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,a)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:KT(i.serializer,r._byteString)};if(r instanceof qt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:av(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $i)return function(l,d){return{mapValue:{fields:{[ET]:{stringValue:ST},[Uf]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return rv(d.serializer,m)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${vp(r)}`)}(t,e)}function CP(t,e){const n={};return yT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,i)=>{const a=cd(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function NP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Bi||t instanceof Hr||t instanceof qt||t instanceof Dp||t instanceof $i)}function Cv(t,e,n){if(!NP(n)||!mT(n)){const r=vp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function K0(t,e,n){if((e=Dt(e))instanceof Rp)return e._internalPath;if(typeof e=="string")return Nv(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const rD=new RegExp("[~\\*/\\[\\]]");function Nv(t,e,n){if(e.search(rD)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rp(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ve(re.INVALID_ARGUMENT,d+t+h)}function kP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends jP{data(){return super.data()}}function Op(t,e){return typeof e=="string"?Nv(t,e):e instanceof Rp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}class jv extends kv{}function To(t,e,...n){let r=[];e instanceof kv&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof Av).length,d=a.filter(h=>h instanceof Lp).length;if(l>1||l>0&&d>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lp extends jv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lp(e,n,r)}_apply(e){const n=this._parse(e);return RP(e._query,n),new js(e.firestore,e.converter,L0(e._query,n))}_parse(e){const n=Mp(e.firestore);return function(a,l,d,h,m,g,y){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){O2(y,g);const P=[];for(const _ of y)P.push(V2(h,a,_));x={arrayValue:{values:P}}}else x=V2(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||O2(y,g),x=nD(d,l,y,g==="in"||g==="not-in");return cn.create(m,g,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ou(t,e,n){const r=e,i=Op("where",t);return Lp._create(i,r,n)}class Av extends kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Av(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const d=a.getFlattenedFilters();for(const h of d)RP(l,h),l=L0(l,h)}(e._query,n),new js(e.firestore,e.converter,L0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iv extends jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Iv(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(a,l)}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new oc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sD(t,e="asc"){const n=e,r=Op("orderBy",t);return Iv._create(r,n)}class Rv extends jv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rv(e,n,r)}_apply(e){return new js(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function IP(t){return Rv._create("limit",t,"F")}function V2(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!ke.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jb(t,new ke(r))}if(n instanceof qt)return Jb(t,n._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(n)}.`)}function O2(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RP(t,e){const n=function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oD{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Uf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>en(l.doubleValue));return new $i(a)}convertGeoPoint(e){return new Bi(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ht(eP(r),9688,{name:e});const i=new Au(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||_s(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends jP{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:un("string",pa._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class yf extends pa{data(e={}){return super.data(e)}}class ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yf(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>{const h=new yf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ou(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const h=new yf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ou(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:aD(d.type),doc:h,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){t=hr(t,qt);const e=hr(t.firestore,Ss);return q9(Ip(e),t._key).then(n=>VP(e,t,n))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:un("string",ma._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class Dv extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Lu(t){t=hr(t,js);const e=hr(t.firestore,Ss),n=Ip(e),r=new Dv(e);return AP(t._query),G9(n,t._query).then(i=>new ma(e,r,t,i))}function Pr(t,e,n){t=hr(t,qt);const r=hr(t.firestore,Ss),i=DP(t.converter,e,n);return Fp(r,[PP(Mp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function lD(t,e,n,...r){t=hr(t,qt);const i=hr(t.firestore,Ss),a=Mp(i);let l;return l=typeof(e=Dt(e))=="string"||e instanceof Rp?tD(a,"updateDoc",t._key,e,n,r):eD(a,"updateDoc",t._key,e),Fp(i,[l.toMutation(t._key,qr.exists(!0))])}function MP(t){return Fp(hr(t.firestore,Ss),[new iv(t._key,qr.none())])}function Mv(t,e){const n=hr(t.firestore,Ss),r=Pt(t),i=DP(t.converter,e);return Fp(n,[PP(Mp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}function $l(t,...e){var n,r,i;t=Dt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||M2(e[l])||(a=e[l++]);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(M2(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let h,m,g;if(t instanceof qt)m=hr(t.firestore,Ss),g=_p(t._key.path),h={next:y=>{e[l]&&e[l](VP(m,t,y))},error:e[l+1],complete:e[l+2]};else{const y=hr(t,js);m=hr(y.firestore,Ss),g=y._query;const x=new Dv(m);h={next:S=>{e[l]&&e[l](new ma(m,x,y,S))},error:e[l+1],complete:e[l+2]},AP(t._query)}return function(x,S,P,_){const C=new Sv(_),A=new bv(S,C,P);return x.asyncQueue.enqueueAndForget(async()=>vv(await Kf(x),A)),()=>{C.Ou(),x.asyncQueue.enqueueAndForget(async()=>xv(await Kf(x),A))}}(Ip(m),g,d,h)}function Fp(t,e){return function(r,i){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>D9(await W9(r),i,a)),a.promise}(Ip(t),e)}function VP(t,e,n){const r=n.docs.get(e._key),i=new Dv(t);return new pa(t,i,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function OP(){return new Pv("serverTimestamp")}(function(e,n=!0){(function(i){rc=i})(ka),ba(new yo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Ss(new n3(r.getProvider("auth-internal")),new s3(l,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(m.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Vi(Lb,Fb,e),Vi(Lb,Fb,"esm2017")})();var cD="firebase",uD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(cD,uD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebasestorage.googleapis.com",FP="storageBucket",dD=2*60*1e3,hD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Xi{constructor(e,n,r=0){super(Wg(e),`Firebase Storage: ${n} (${Wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function Wg(t){return"storage/"+t}function Vv(){const t="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,t)}function fD(t){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pD(t){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,t)}function gD(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yD(t){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vD(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xD(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function wD(t){return new Kt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function bD(t){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _D(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FP+"' property when initializing the app?")}function ED(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SD(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TD(t){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Q0(t){return new Kt(Gt.INVALID_ARGUMENT,t)}function UP(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function PD(t){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(t,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yc(t){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(r.path==="")return r;throw bD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${i}/o${x}`,"i"),P={bucket:1,path:3},_=n===LP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",A=new RegExp(`^https?://${_}/${i}/${C}`,"i"),V=[{regex:d,indices:h,postModify:a},{regex:S,indices:P,postModify:m},{regex:A,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<V.length;B++){const q=V[B],X=q.regex.exec(e);if(X){const R=X[q.indices.bucket];let j=X[q.indices.path];j||(j=""),r=new Cr(R,j),q.postModify(r);break}}if(r==null)throw wD(e);return r}}class CD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e,n){let r=1,i=null,a=null,l=!1,d=0;function h(){return d===2}let m=!1;function g(...C){m||(m=!0,e.apply(null,C))}function y(C){i=setTimeout(()=>{i=null,t(S,h())},C)}function x(){a&&clearTimeout(a)}function S(C,...A){if(m){x();return}if(C){x(),g.call(null,C,...A);return}if(h()||l){x(),g.call(null,C,...A);return}r<64&&(r*=2);let V;d===1?(d=2,V=0):V=(r+Math.random())*1e3,y(V)}let P=!1;function _(C){P||(P=!0,x(),!m&&(i!==null?(C||(d=2),clearTimeout(i),y(0)):C||(d=1)))}return y(0),a=setTimeout(()=>{l=!0,_(!0)},n),_}function kD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return t!==void 0}function AD(t){return typeof t=="object"&&!Array.isArray(t)}function Ov(t){return typeof t=="string"||t instanceof String}function L2(t){return Lv()&&t instanceof Blob}function Lv(){return typeof Blob<"u"}function F2(t,e,n,r){if(r<e)throw Q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function BP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ga;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ga||(ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i,a,l,d,h,m,g,y,x=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,_)=>{this.resolve_=P,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $h(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const h=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===ga.NO_ERROR,h=a.getStatus();if(!d||ID(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ga.ABORT;r(!1,new $h(!1,null,g));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new $h(m,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());jD(h)?a(h):a()}catch(h){l(h)}else if(d!==null){const h=Vv();h.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,h)):l(h)}else if(i.canceled){const h=this.appDelete_?UP():xD();l(h)}else{const h=vD();l(h)}};this.canceled_?n(!1,new $h(!1,null,!0)):this.backoffId_=ND(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $h{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function DD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LD(t,e,n,r,i,a,l=!0,d=!1){const h=BP(t.urlParams),m=t.url+h,g=Object.assign({},t.headers);return VD(g,e),DD(g,n),MD(g,a),OD(g,r),new RD(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UD(...t){const e=FD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Lv())return new Blob(t);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){if(typeof atob>"u")throw TD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qg{constructor(e,n){this.data=e,this.contentType=n||null}}function zD(t,e){switch(t){case Ri.RAW:return new qg($P(e));case Ri.BASE64:case Ri.BASE64URL:return new qg(zP(t,e));case Ri.DATA_URL:return new qg(WD(e),qD(e))}throw Vv()}function $P(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HD(t){let e;try{e=decodeURIComponent(t)}catch{throw gu(Ri.DATA_URL,"Malformed data URL.")}return $P(e)}function zP(t,e){switch(t){case Ri.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw gu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw gu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$D(e)}catch(i){throw i.message.includes("polyfill")?i:gu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gu(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=GD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WD(t){const e=new HP(t);return e.base64?zP(Ri.BASE64,e.rest):HD(e.rest)}function qD(t){return new HP(t).contentType}function GD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){let r=0,i="";L2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(L2(this.data_)){const r=this.data_,i=BD(r,e,n);return i===null?null:new ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ao(r,!0)}}static getBlob(...e){if(Lv()){const n=e.map(r=>r instanceof ao?r.data_:r);return new ao(UD.apply(null,n))}else{const n=e.map(l=>Ov(l)?zD(Ri.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)i[a++]=l[d]}),new ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){let e;try{e=JSON.parse(t)}catch{return null}return AD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){return e}class Qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||XD}}let zh=null;function YD(t){return!Ov(t)||t.length<2?t:qP(t)}function GP(){if(zh)return zh;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(a,l){return YD(l)}const n=new Qn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new Qn("size");return i.xform=r,t.push(i),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),zh=t,zh}function JD(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Cr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function ZD(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return JD(r,t),r}function KP(t,e,n){const r=WP(e);return r===null?null:ZD(t,r,n)}function eM(t,e,n,r){const i=WP(e);if(i===null||!Ov(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const g=t.bucket,y=t.fullPath,x="/b/"+l(g)+"/o/"+l(y),S=Fv(x,n,r),P=BP({alt:"media",token:m});return S+P})[0]}function tM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class QP{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){if(!t)throw Vv()}function nM(t,e){function n(r,i){const a=KP(t,i,e);return XP(a!==null),a}return n}function rM(t,e){function n(r,i){const a=KP(t,i,e);return XP(a!==null),eM(a,i,t.host,t._protocol)}return n}function YP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gD():i=mD():n.getStatus()===402?i=pD(t.bucket):n.getStatus()===403?i=yD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iM(t){const e=YP(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=fD(t.path)),a.serverResponse=i.serverResponse,a}return n}function sM(t,e,n){const r=e.fullServerUrl(),i=Fv(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,d=new QP(i,a,rM(t,n),l);return d.errorHandler=iM(e),d}function oM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oM(null,e)),r}function lM(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let V="";for(let B=0;B<2;B++)V=V+Math.random().toString().slice(2);return V}const h=d();l["Content-Type"]="multipart/related; boundary="+h;const m=aM(e,r,i),g=tM(m,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+h+"--",S=ao.getBlob(y,r,x);if(S===null)throw ED();const P={name:m.fullPath},_=Fv(a,t.host,t._protocol),C="POST",A=t.maxUploadRetryTime,L=new QP(_,C,nM(t,n),A);return L.urlParams=P,L.headers=l,L.body=S.uploadData(),L.errorHandler=YP(e),L}class cM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Yc("cannot .send() more than once");if(jo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends cM{initXhr(){this.xhr_.responseType="text"}}function JP(){return new uM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pa(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qP(this._location.path)}get storage(){return this._service}get parent(){const e=KD(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new Pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PD(e)}}function dM(t,e,n){t._throwIfRoot("uploadBytes");const r=lM(t.storage,t._location,GP(),new ao(e,!0),n);return t.storage.makeRequestWithTokens(r,JP).then(i=>({metadata:i,ref:t}))}function hM(t){t._throwIfRoot("getDownloadURL");const e=sM(t.storage,t._location,GP());return t.storage.makeRequestWithTokens(e,JP).then(n=>{if(n===null)throw SD();return n})}function fM(t,e){const n=QD(t._location.path,e),r=new Cr(t._location.bucket,n);return new Pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){return/^[A-Za-z]+:\/\//.test(t)}function mM(t,e){return new Pa(t,e)}function ZP(t,e){if(t instanceof Uv){const n=t;if(n._bucket==null)throw _D();const r=new Pa(n,n._bucket);return e!=null?ZP(r,e):r}else return e!==void 0?fM(t,e):t}function gM(t,e){if(e&&pM(e)){if(t instanceof Uv)return mM(t,e);throw Q0("To use ref(service, url), the first argument must be a Storage instance.")}else return ZP(t,e)}function U2(t,e){const n=e==null?void 0:e[FP];return n==null?null:Cr.makeFromBucketSpec(n,t)}function yM(t,e,n,r={}){t.host=`${e}:${n}`;const i=jo(e);i&&(Vy(`https://${t.host}/b`),Oy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:xS(a,t.app.options.projectId))}class Uv{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=LP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dD,this._maxUploadRetryTime=hD,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=U2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=U2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new CD(UP());{const l=LD(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const B2="@firebase/storage",$2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="storage";function vM(t,e,n){return t=Dt(t),dM(t,e,n)}function xM(t){return t=Dt(t),hM(t)}function wM(t,e){return t=Dt(t),gM(t,e)}function bM(t=Uy(),e){t=Dt(t);const r=pp(t,eC).getImmediate({identifier:e}),i=gS("storage");return i&&_M(r,...i),r}function _M(t,e,n,r={}){yM(t,e,n,r)}function EM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uv(n,r,i,e,ka)}function SM(){ba(new yo(eC,EM,"PUBLIC").setMultipleInstances(!0)),Vi(B2,$2,""),Vi(B2,$2,"esm2017")}SM();const TM={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.appspot.com",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},Bv=_S(TM),tt=Q9(Bv),oa=J5(Bv),PM=bM(Bv);function z2(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="0123456789";let n="USER-";for(let r=0;r<3;r++)n+=t.charAt(Math.floor(Math.random()*t.length));for(let r=0;r<3;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}const tC=k.createContext();function Ar(){return k.useContext(tC)}function nC({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(null),[a,l]=k.useState(!0);k.useEffect(()=>{let S=null;const P=UR(oa,async _=>{if(S){try{S()}catch{}S=null}if(n(_),!_){i(null),l(!1);return}try{const C=Pt(tt,"users",_.uid),A=Pt(tt,"usuarios",_.uid),[L,V]=await Promise.all([uo(C),uo(A)]);let B=null;if(L.exists())B=C;else if(V.exists())B=A;else{const X={telefono:"",direccion:"",admin:!1,codigo:z2(),displayName:_.displayName||"",email:_.email||"",createdAt:new Date};try{await Pr(C,X,{merge:!0})}catch(R){console.warn("No fue posible crear users/{uid} automticamente:",R)}B=C}S=$l(B,q=>{if(q.exists()){const X=q.data()||{},R={uid:_.uid,...X,displayName:_.displayName||X.displayName||"",email:_.email||X.email||"",isAdmin:X.admin===!0};i(R)}else{const X={uid:_.uid,telefono:"",direccion:"",admin:!1,codigo:"",displayName:_.displayName||"",email:_.email||_.email,isAdmin:!1};i(X)}l(!1)},q=>{console.error("onSnapshot usuario error:",q),l(!1)})}catch(C){console.error("Error inicializando listener de usuario:",C);try{const A=Pt(tt,"users",_.uid),L=await uo(A),V=L.exists()?L.data():{},B={uid:_.uid,...V,displayName:_.displayName||V.displayName||"",email:_.email||V.email||"",isAdmin:V.admin===!0};i(B)}catch(A){console.error("Fallback read error:",A),i({uid:_.uid,displayName:_.displayName||"",email:_.email||"",telefono:"",direccion:"",isAdmin:!1,codigo:""})}finally{l(!1)}}});return()=>{try{P()}catch{}if(S)try{S()}catch{}}},[]);async function d(S,P,_){const C=await MR(oa,S,P);await Ul(C.user,{displayName:_});const A=z2(),L={telefono:"",direccion:"",admin:!1,codigo:A,displayName:_,email:S,createdAt:new Date};await Pr(Pt(tt,"users",C.user.uid),L,{merge:!0}),n(oa.currentUser),i({uid:C.user.uid,telefono:"",direccion:"",admin:!1,codigo:A,displayName:_,email:S,isAdmin:!1})}function h(S,P){return VR(oa,S,P)}function m(){return BR(oa)}async function g(S){if(!e)throw new Error("No user logged in");const P=Pt(tt,"users",e.uid);try{await Pr(P,S,{merge:!0});const _=await uo(P),C=_.exists()?_.data():{},A={uid:e.uid,...C,displayName:e.displayName||C.displayName||"",email:e.email||C.email||"",isAdmin:C.admin===!0};if(i(A),S.displayName&&e.displayName!==S.displayName)try{await Ul(e,{displayName:S.displayName}),n(oa.currentUser)}catch(L){console.warn("Error actualizando displayName en auth:",L)}return A}catch(_){throw console.error("actualizarUsuarioInfo error:",_),_}}async function y(S){if(!e)throw new Error("No user logged in");const P=wM(PM,`usuarios/${e.uid}/perfil.jpg`);await vM(P,S);const _=await xM(P);await Ul(e,{photoURL:_}),n(oa.currentUser);try{await Pr(Pt(tt,"users",e.uid),{fotoURL:_},{merge:!0}),i(C=>({...C,fotoURL:_}))}catch(C){console.warn("No se pudo persistir fotoURL en users/{uid}:",C)}return _}const x={usuario:e,usuarioInfo:r,login:h,signup:d,logout:m,actualizarUsuarioInfo:g,subirImagen:y};return c.jsx(tC.Provider,{value:x,children:!a&&t})}const rC=k.createContext();function lc(){return k.useContext(rC)}function CM({children:t}){const[e,n]=k.useState(!1),[r,i]=k.useState("login");function a(d="login"){i(d),n(!0)}function l(){n(!1)}return c.jsx(rC.Provider,{value:{modalAbierto:e,setModalAbierto:n,abrirModal:a,cerrarModal:l,modo:r,setModo:i},children:t})}const $v=k.createContext({});function zv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hv=typeof window<"u",iC=Hv?k.useLayoutEffect:k.useEffect,Up=k.createContext(null);function Wv(t,e){t.indexOf(e)===-1&&t.push(e)}function qv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ts=(t,e,n)=>n>e?e:n<t?t:n;let Gv=()=>{};const Ps={},sC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oC(t){return typeof t=="object"&&t!==null}const aC=t=>/^0[^.\s]+$/u.test(t);function Kv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gr=t=>t,NM=(t,e)=>n=>e(t(n)),ud=(...t)=>t.reduce(NM),Fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Qv{constructor(){this.subscriptions=[]}add(e){return Wv(this.subscriptions,e),()=>qv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=t=>t*1e3,Hi=t=>t/1e3;function lC(t,e){return e?t*(1e3/e):0}const cC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kM=1e-7,jM=12;function AM(t,e,n,r,i){let a,l,d=0;do l=e+(n-e)/2,a=cC(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>kM&&++d<jM);return l}function dd(t,e,n,r){if(t===e&&n===r)return Gr;const i=a=>AM(a,0,1,t,n);return a=>a===0||a===1?a:cC(i(a),e,r)}const uC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dC=t=>e=>1-t(1-e),hC=dd(.33,1.53,.69,.99),Xv=dC(hC),fC=uC(Xv),pC=t=>(t*=2)<1?.5*Xv(t):.5*(2-Math.pow(2,-10*(t-1))),Yv=t=>1-Math.sin(Math.acos(t)),mC=dC(Yv),gC=uC(Yv),IM=dd(.42,0,1,1),RM=dd(0,0,.58,1),yC=dd(.42,0,.58,1),DM=t=>Array.isArray(t)&&typeof t[0]!="number",vC=t=>Array.isArray(t)&&typeof t[0]=="number",MM={linear:Gr,easeIn:IM,easeInOut:yC,easeOut:RM,circIn:Yv,circInOut:gC,circOut:mC,backIn:Xv,backInOut:fC,backOut:hC,anticipate:pC},VM=t=>typeof t=="string",H2=t=>{if(vC(t)){Gv(t.length===4);const[e,n,r,i]=t;return dd(e,n,r,i)}else if(VM(t))return MM[t];return t},Hh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],W2={value:null};function OM(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function m(y){l.has(y)&&(g.schedule(y),t()),h++,y(d)}const g={schedule:(y,x=!1,S=!1)=>{const _=S&&i?n:r;return x&&l.add(y),_.has(y)||_.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(d=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&W2.value&&W2.value.frameloop[e].push(h),h=0,n.clear(),i=!1,a&&(a=!1,g.process(y))}};return g}const LM=40;function xC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Hh.reduce((V,B)=>(V[B]=OM(a,e?B:void 0),V),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:x,render:S,postRender:P}=l,_=()=>{const V=Ps.useManualTiming?i.timestamp:performance.now();n=!1,Ps.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(V-i.timestamp,LM),1)),i.timestamp=V,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),g.process(i),y.process(i),x.process(i),S.process(i),P.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},C=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Hh.reduce((V,B)=>{const q=l[B];return V[B]=(X,R=!1,j=!1)=>(n||C(),q.schedule(X,R,j)),V},{}),cancel:V=>{for(let B=0;B<Hh.length;B++)l[Hh[B]].cancel(V)},state:i,steps:l}}const{schedule:Rt,cancel:Po,state:Nn,steps:Gg}=xC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0);let vf;function FM(){vf=void 0}const dr={now:()=>(vf===void 0&&dr.set(Nn.isProcessing||Ps.useManualTiming?Nn.timestamp:performance.now()),vf),set:t=>{vf=t,queueMicrotask(FM)}},wC=t=>e=>typeof e=="string"&&e.startsWith(t),Jv=wC("--"),UM=wC("var(--"),Zv=t=>UM(t)?BM.test(t.split("/*")[0].trim()):!1,BM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uu={...cc,transform:t=>Ts(0,1,t)},Wh={...cc,default:1},yu=t=>Math.round(t*1e5)/1e5,e1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $M(t){return t==null}const zM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t1=(t,e)=>n=>!!(typeof n=="string"&&zM.test(n)&&n.startsWith(t)||e&&!$M(n)&&Object.prototype.hasOwnProperty.call(n,e)),bC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,d]=r.match(e1);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},HM=t=>Ts(0,255,t),Kg={...cc,transform:t=>Math.round(HM(t))},da={test:t1("rgb","red"),parse:bC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kg.transform(t)+", "+Kg.transform(e)+", "+Kg.transform(n)+", "+yu(Uu.transform(r))+")"};function WM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const X0={test:t1("#"),parse:WM,transform:da.transform},hd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=hd("deg"),Wi=hd("%"),Fe=hd("px"),qM=hd("vh"),GM=hd("vw"),q2={...Wi,parse:t=>Wi.parse(t)/100,transform:t=>Wi.transform(t*100)},Il={test:t1("hsl","hue"),parse:bC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wi.transform(yu(e))+", "+Wi.transform(yu(n))+", "+yu(Uu.transform(r))+")"},an={test:t=>da.test(t)||X0.test(t)||Il.test(t),parse:t=>da.test(t)?da.parse(t):Il.test(t)?Il.parse(t):X0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?da.transform(t):Il.transform(t),getAnimatableNone:t=>{const e=an.parse(t);return e.alpha=0,an.transform(e)}},KM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(e1))==null?void 0:e.length)||0)+(((n=t.match(KM))==null?void 0:n.length)||0)>0}const _C="number",EC="color",XM="var",YM="var(",G2="${}",JM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(JM,h=>(an.test(h)?(r.color.push(a),i.push(EC),n.push(an.parse(h))):h.startsWith(YM)?(r.var.push(a),i.push(XM),n.push(h)):(r.number.push(a),i.push(_C),n.push(parseFloat(h))),++a,G2)).split(G2);return{values:n,split:d,indexes:r,types:i}}function SC(t){return Bu(t).values}function TC(t){const{split:e,types:n}=Bu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const d=n[l];d===_C?a+=yu(i[l]):d===EC?a+=an.transform(i[l]):a+=i[l]}return a}}const ZM=t=>typeof t=="number"?0:an.test(t)?an.getAnimatableNone(t):t;function eV(t){const e=SC(t);return TC(t)(e.map(ZM))}const Co={test:QM,parse:SC,createTransformer:TC,getAnimatableNone:eV};function Qg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=Qg(h,d,t+1/3),a=Qg(h,d,t),l=Qg(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Xf(t,e){return n=>n>0?e:t}const Ft=(t,e,n)=>t+(e-t)*n,Xg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nV=[X0,da,Il],rV=t=>nV.find(e=>e.test(t));function K2(t){const e=rV(t);if(!e)return!1;let n=e.parse(t);return e===Il&&(n=tV(n)),n}const Q2=(t,e)=>{const n=K2(t),r=K2(e);if(!n||!r)return Xf(t,e);const i={...n};return a=>(i.red=Xg(n.red,r.red,a),i.green=Xg(n.green,r.green,a),i.blue=Xg(n.blue,r.blue,a),i.alpha=Ft(n.alpha,r.alpha,a),da.transform(i))},Y0=new Set(["none","hidden"]);function iV(t,e){return Y0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sV(t,e){return n=>Ft(t,e,n)}function n1(t){return typeof t=="number"?sV:typeof t=="string"?Zv(t)?Xf:an.test(t)?Q2:lV:Array.isArray(t)?PC:typeof t=="object"?an.test(t)?Q2:oV:Xf}function PC(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>n1(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function oV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=n1(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function aV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],d=t.values[l]??0;n[i]=d,r[a]++}return n}const lV=(t,e)=>{const n=Co.createTransformer(e),r=Bu(t),i=Bu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Y0.has(t)&&!i.values.length||Y0.has(e)&&!r.values.length?iV(t,e):ud(PC(aV(r,i),i.values),n):Xf(t,e)};function CC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ft(t,e,n):n1(t)(t,e)}const cV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>Po(e),now:()=>Nn.isProcessing?Nn.timestamp:dr.now()}},NC=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yf=2e4;function r1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yf;)e+=n,r=t.next(e);return e>=Yf?1/0:e}function uV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(r1(r),Yf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Hi(i)}}const dV=5;function kC(t,e,n){const r=Math.max(e-dV,0);return lC(n-t(r),e-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function hV({duration:t=Wt.duration,bounce:e=Wt.bounce,velocity:n=Wt.velocity,mass:r=Wt.mass}){let i,a,l=1-e;l=Ts(Wt.minDamping,Wt.maxDamping,l),t=Ts(Wt.minDuration,Wt.maxDuration,Hi(t)),l<1?(i=m=>{const g=m*l,y=g*t,x=g-n,S=J0(m,l),P=Math.exp(-y);return Yg-x/S*P},a=m=>{const y=m*l*t,x=y*n+n,S=Math.pow(l,2)*Math.pow(m,2)*t,P=Math.exp(-y),_=J0(Math.pow(m,2),l);return(-i(m)+Yg>0?-1:1)*((x-S)*P)/_}):(i=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-Yg+g*y},a=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const d=5/t,h=pV(i,a,d);if(t=zi(t),isNaN(h))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const fV=12;function pV(t,e,n){let r=n;for(let i=1;i<fV;i++)r=r-t(r)/e(r);return r}function J0(t,e){return t*Math.sqrt(1-e*e)}const mV=["duration","bounce"],gV=["stiffness","damping","mass"];function X2(t,e){return e.some(n=>t[n]!==void 0)}function yV(t){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...t};if(!X2(t,gV)&&X2(t,mV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ts(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wt.mass,stiffness:i,damping:a}}else{const n=hV(t);e={...e,...n,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function Jf(t=Wt.visualDuration,e=Wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:h,damping:m,mass:g,duration:y,velocity:x,isResolvedFromDuration:S}=yV({...n,velocity:-Hi(n.velocity||0)}),P=x||0,_=m/(2*Math.sqrt(h*g)),C=l-a,A=Hi(Math.sqrt(h/g)),L=Math.abs(C)<5;r||(r=L?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=L?Wt.restDelta.granular:Wt.restDelta.default);let V;if(_<1){const q=J0(A,_);V=X=>{const R=Math.exp(-_*A*X);return l-R*((P+_*A*C)/q*Math.sin(q*X)+C*Math.cos(q*X))}}else if(_===1)V=q=>l-Math.exp(-A*q)*(C+(P+A*C)*q);else{const q=A*Math.sqrt(_*_-1);V=X=>{const R=Math.exp(-_*A*X),j=Math.min(q*X,300);return l-R*((P+_*A*C)*Math.sinh(j)+q*C*Math.cosh(j))/q}}const B={calculatedDuration:S&&y||null,next:q=>{const X=V(q);if(S)d.done=q>=y;else{let R=q===0?P:0;_<1&&(R=q===0?zi(P):kC(V,q,X));const j=Math.abs(R)<=r,D=Math.abs(l-X)<=i;d.done=j&&D}return d.value=d.done?l:X,d},toString:()=>{const q=Math.min(r1(B),Yf),X=NC(R=>B.next(q*R).value,q,30);return q+"ms "+X},toTransition:()=>{}};return B}Jf.applyToOptions=t=>{const e=uV(t,100,Jf);return t.ease=e.ease,t.duration=zi(e.duration),t.type="keyframes",t};function Z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:h,restDelta:m=.5,restSpeed:g}){const y=t[0],x={done:!1,value:y},S=j=>d!==void 0&&j<d||h!==void 0&&j>h,P=j=>d===void 0?h:h===void 0||Math.abs(d-j)<Math.abs(h-j)?d:h;let _=n*e;const C=y+_,A=l===void 0?C:l(C);A!==C&&(_=A-y);const L=j=>-_*Math.exp(-j/r),V=j=>A+L(j),B=j=>{const D=L(j),E=V(j);x.done=Math.abs(D)<=m,x.value=x.done?A:E};let q,X;const R=j=>{S(x.value)&&(q=j,X=Jf({keyframes:[x.value,P(x.value)],velocity:kC(V,j,x.value),damping:i,stiffness:a,restDelta:m,restSpeed:g}))};return R(0),{calculatedDuration:null,next:j=>{let D=!1;return!X&&q===void 0&&(D=!0,B(j),R(j)),q!==void 0&&j>=q?X.next(j-q):(!D&&B(j),x)}}}function vV(t,e,n){const r=[],i=n||Ps.mix||CC,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Gr:e;d=ud(h,d)}r.push(d)}return r}function xV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Gv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=vV(e,r,i),h=d.length,m=g=>{if(l&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const x=Fu(t[y],t[y+1],g);return d[y](x)};return n?g=>m(Ts(t[0],t[a-1],g)):m}function wV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fu(0,e,r);t.push(Ft(n,1,i))}}function bV(t){const e=[0];return wV(e,t.length-1),e}function _V(t,e){return t.map(n=>n*e)}function EV(t,e){return t.map(()=>e||yC).splice(0,t.length-1)}function vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DM(r)?r.map(H2):H2(r),a={done:!1,value:e[0]},l=_V(n&&n.length===e.length?n:bV(e),t),d=xV(l,e,{ease:Array.isArray(i)?i:EV(e,i)});return{calculatedDuration:t,next:h=>(a.value=d(h),a.done=h>=t,a)}}const SV=t=>t!==null;function i1(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(SV),d=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const TV={decay:Z0,inertia:Z0,tween:vu,keyframes:vu,spring:Jf};function jC(t){typeof t.type=="string"&&(t.type=TV[t.type])}class s1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PV=t=>t/100;class o1 extends s1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==dr.now()&&this.tick(dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jC(e);const{type:n=vu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const h=n||vu;h!==vu&&typeof d[0]!="number"&&(this.mixKeyframes=ud(PV,CC(d[0],d[1])),d=[0,100]);const m=h({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=r1(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:x,repeatDelay:S,type:P,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let V=this.currentTime,B=r;if(y){const j=Math.min(this.currentTime,i)/d;let D=Math.floor(j),E=j%1;!E&&j>=1&&(E=1),E===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(x==="reverse"?(E=1-E,S&&(E-=S/d)):x==="mirror"&&(B=l)),V=Ts(0,1,E)*d}const q=L?{done:!1,value:g[0]}:B.next(V);a&&(q.value=a(q.value));let{done:X}=q;!L&&h!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&P!==Z0&&(q.value=i1(g,this.options,C,this.speed)),_&&_(q.value),R&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Hi(this.calculatedDuration)}get time(){return Hi(this.currentTime)}set time(e){var n;e=zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(dr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hi(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=cV,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function CV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ha=t=>t*180/Math.PI,ey=t=>{const e=ha(Math.atan2(t[1],t[0]));return ty(e)},NV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ey,rotateZ:ey,skewX:t=>ha(Math.atan(t[1])),skewY:t=>ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ty=t=>(t=t%360,t<0&&(t+=360),t),Y2=ey,J2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Z2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J2,scaleY:Z2,scale:t=>(J2(t)+Z2(t))/2,rotateX:t=>ty(ha(Math.atan2(t[6],t[5]))),rotateY:t=>ty(ha(Math.atan2(-t[2],t[0]))),rotateZ:Y2,rotate:Y2,skewX:t=>ha(Math.atan(t[4])),skewY:t=>ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ny(t){return t.includes("scale")?1:0}function ry(t,e){if(!t||t==="none")return ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=kV,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=NV,i=d}if(!i)return ny(e);const a=r[e],l=i[1].split(",").map(AV);return typeof a=="function"?a(l):l[a]}const jV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ry(n,e)};function AV(t){return parseFloat(t.trim())}const uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(uc),e_=t=>t===cc||t===Fe,IV=new Set(["x","y","z"]),RV=uc.filter(t=>!IV.has(t));function DV(t){const e=[];return RV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ry(e,"x"),y:(t,{transform:e})=>ry(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const va=new Set;let iy=!1,sy=!1,oy=!1;function AC(){if(sy){const t=Array.from(va).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=DV(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var d;(d=r.getValue(a))==null||d.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sy=!1,iy=!1,va.forEach(t=>t.complete(oy)),va.clear()}function IC(){va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function MV(){oy=!0,IC(),AC(),oy=!1}class a1{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),iy||(iy=!0,Rt.read(IC),Rt.resolveKeyframes(AC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const d=r.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}CV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VV=t=>t.startsWith("--");function OV(t,e,n){VV(e)?t.style.setProperty(e,n):t.style[e]=n}const LV=Kv(()=>window.ScrollTimeline!==void 0),FV={};function UV(t,e){const n=Kv(t);return()=>FV[e]??n()}const RC=UV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,t_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function DC(t,e){if(t)return typeof t=="function"?RC()?NC(t,e):"ease-out":vC(t)?au(t):Array.isArray(t)?t.map(n=>DC(n,e)||t_.easeOut):t_[t]}function BV(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const y=DC(d,i);Array.isArray(y)&&(g.easing=y);const x={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function MC(t){return typeof t=="function"&&"applyToOptions"in t}function $V({type:t,...e}){return MC(t)&&RC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zV extends s1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Gv(typeof e.type!="string");const m=$V(e);this.animation=BV(n,r,i,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=i1(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):OV(n,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Hi(Number(e))}get time(){return Hi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&LV()?(this.animation.timeline=e,Gr):n(this)}}const VC={anticipate:pC,backInOut:fC,circInOut:gC};function HV(t){return t in VC}function WV(t){typeof t.ease=="string"&&HV(t.ease)&&(t.ease=VC[t.ease])}const n_=10;class qV extends zV{constructor(e){WV(e),jC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new o1({...l,autoplay:!1}),h=zi(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-n_).value,d.sample(h).value,n_),d.stop()}}const r_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Co.test(t)||t==="0")&&!t.startsWith("url("));function GV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KV(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=r_(i,e),d=r_(a,e);return!l||!d?!1:GV(t)||(n==="spring"||MC(n))&&r}function l1(t){return oC(t)&&"offsetHeight"in t}const QV=new Set(["opacity","clipPath","filter","transform"]),XV=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YV(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!l1((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return XV()&&n&&QV.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const JV=40;class ZV extends s1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:h,motionValue:m,element:g,...y}){var P;super(),this.stop=()=>{var _,C;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=dr.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:h,motionValue:m,element:g,...y},S=(g==null?void 0:g.KeyframeResolver)||a1;this.keyframeResolver=new S(d,(_,C,A)=>this.onKeyframesResolved(_,C,x,!A),h,m,g),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=dr.now(),KV(e,a,l,d)||((Ps.instantAnimations||!h)&&(g==null||g(i1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>JV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&YV(x)?new qV({...x,element:x.motionValue.owner.current}):new o1(x);S.finished.then(()=>this.notifyFinished()).catch(Gr),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const eO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tO(t){const e=eO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function OC(t,e,n=1){const[r,i]=tO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return sC(l)?parseFloat(l):l}return Zv(i)?OC(i,e,n+1):i}function c1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LC=new Set(["width","height","top","left","right","bottom",...uc]),nO={test:t=>t==="auto",parse:t=>t},FC=t=>e=>e.test(t),UC=[cc,Fe,Wi,no,GM,qM,nO],i_=t=>UC.find(FC(t));function rO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aC(t):!0}const iO=new Set(["brightness","contrast","saturate","opacity"]);function sO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(e1)||[];if(!r)return t;const i=n.replace(r,"");let a=iO.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const oO=/\b([a-z-]*)\(.*?\)/gu,ay={...Co,getAnimatableNone:t=>{const e=t.match(oO);return e?e.map(sO).join(" "):t}},s_={...cc,transform:Math.round},aO={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:no,skewX:no,skewY:no,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Uu,originX:q2,originY:q2,originZ:Fe},u1={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...aO,zIndex:s_,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:s_},lO={...u1,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:ay,WebkitFilter:ay},BC=t=>lO[t];function $C(t,e){let n=BC(t);return n!==ay&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cO=new Set(["auto","none","0"]);function uO(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!cO.has(a)&&Bu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=$C(n,i)}class dO extends a1{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Zv(m))){const g=OC(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!LC.has(r)||e.length!==2)return;const[i,a]=e,l=i_(i),d=i_(a);if(l!==d)if(e_(l)&&e_(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||rO(e[i]))&&r.push(i);r.length&&uO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function hO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const zC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,o_=30,fO=t=>!isNaN(parseFloat(t));class pO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,d;const a=dr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,o_);return lC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(t,e){return new pO(t,e)}const{schedule:d1}=xC(queueMicrotask,!1),di={x:!1,y:!1};function HC(){return di.x||di.y}function mO(t){return t==="x"||t==="y"?di[t]?null:(di[t]=!0,()=>{di[t]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function WC(t,e){const n=hO(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function a_(t){return!(t.pointerType==="touch"||HC())}function gO(t,e,n={}){const[r,i,a]=WC(t,n),l=d=>{if(!a_(d))return;const{target:h}=d,m=e(h,d);if(typeof m!="function"||!h)return;const g=y=>{a_(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,i)};return r.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const qC=(t,e)=>e?t===e?!0:qC(t,e.parentElement):!1,h1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vO(t){return yO.has(t.tagName)||t.tabIndex!==-1}const xf=new WeakSet;function l_(t){return e=>{e.key==="Enter"&&t(e)}}function Jg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=l_(()=>{if(xf.has(n))return;Jg(n,"down");const i=l_(()=>{Jg(n,"up")}),a=()=>Jg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function c_(t){return h1(t)&&!HC()}function wO(t,e,n={}){const[r,i,a]=WC(t,n),l=d=>{const h=d.currentTarget;if(!c_(d))return;xf.add(h);const m=e(h,d),g=(S,P)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),xf.has(h)&&xf.delete(h),c_(S)&&typeof m=="function"&&m(S,{success:P})},y=S=>{g(S,h===window||h===document||n.useGlobalTarget||qC(h,S.target))},x=S=>{g(S,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",x,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),l1(d)&&(d.addEventListener("focus",m=>xO(m,i)),!vO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function GC(t){return oC(t)&&"ownerSVGElement"in t}function bO(t){return GC(t)&&t.tagName==="svg"}const $n=t=>!!(t&&t.getVelocity),_O=[...UC,an,Co],EO=t=>_O.find(FC(t)),f1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class SO extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=l1(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TO({children:t,isPresent:e,anchorX:n,root:r}){const i=k.useId(),a=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=k.useContext(f1);return k.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:y,right:x}=l.current;if(e||!a.current||!h||!m)return;const S=n==="left"?`left: ${y}`:`right: ${x}`;a.current.dataset.motionPopId=i;const P=document.createElement("style");d&&(P.nonce=d);const _=r??document.head;return _.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.removeChild(P),_.contains(P)&&_.removeChild(P)}},[e]),c.jsx(SO,{isPresent:e,childRef:a,sizeRef:l,children:k.cloneElement(t,{ref:a})})}const PO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d,root:h})=>{const m=zv(CO),g=k.useId();let y=!0,x=k.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:S=>{m.set(S,!0);for(const P of m.values())if(!P)return;r&&r()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[n,m,r]);return a&&y&&(x={...x}),k.useMemo(()=>{m.forEach((S,P)=>m.set(P,!1))},[n]),k.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),l==="popLayout"&&(t=c.jsx(TO,{isPresent:n,anchorX:d,root:h,children:t})),c.jsx(Up.Provider,{value:x,children:t})};function CO(){return new Map}function KC(t=!0){const e=k.useContext(Up);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=k.useId();k.useEffect(()=>{if(t)return i(a)},[t]);const l=k.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const qh=t=>t.key||"";function u_(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const pn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",root:h})=>{const[m,g]=KC(l),y=k.useMemo(()=>u_(t),[t]),x=l&&!m?[]:y.map(qh),S=k.useRef(!0),P=k.useRef(y),_=zv(()=>new Map),[C,A]=k.useState(y),[L,V]=k.useState(y);iC(()=>{S.current=!1,P.current=y;for(let X=0;X<L.length;X++){const R=qh(L[X]);x.includes(R)?_.delete(R):_.get(R)!==!0&&_.set(R,!1)}},[L,x.length,x.join("-")]);const B=[];if(y!==C){let X=[...y];for(let R=0;R<L.length;R++){const j=L[R],D=qh(j);x.includes(D)||(X.splice(R,0,j),B.push(j))}return a==="wait"&&B.length&&(X=B),V(u_(X)),A(y),null}const{forceRender:q}=k.useContext($v);return c.jsx(c.Fragment,{children:L.map(X=>{const R=qh(X),j=l&&!m?!1:y===L||x.includes(R),D=()=>{if(_.has(R))_.set(R,!0);else return;let E=!0;_.forEach(O=>{O||(E=!1)}),E&&(q==null||q(),V(P.current),l&&(g==null||g()),r&&r())};return c.jsx(PO,{isPresent:j,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:j?void 0:D,anchorX:d,children:X},R)})})},QC=k.createContext({strict:!1}),d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jl={};for(const t in d_)Jl[t]={isEnabled:e=>d_[t].some(n=>!!e[n])};function NO(t){for(const e in t)Jl[e]={...Jl[e],...t[e]}}const kO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kO.has(t)}let XC=t=>!Zf(t);function jO(t){typeof t=="function"&&(XC=e=>e.startsWith("on")?!Zf(e):t(e))}try{jO(require("@emotion/is-prop-valid").default)}catch{}function AO(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XC(i)||n===!0&&Zf(i)||!e&&!Zf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function IO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Bp=k.createContext({});function $p(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $u(t){return typeof t=="string"||Array.isArray(t)}const p1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m1=["initial",...p1];function zp(t){return $p(t.animate)||m1.some(e=>$u(t[e]))}function YC(t){return!!(zp(t)||t.variants)}function RO(t,e){if(zp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return t.inherit!==!1?e:{}}function DO(t){const{initial:e,animate:n}=RO(t,k.useContext(Bp));return k.useMemo(()=>({initial:e,animate:n}),[h_(e),h_(n)])}function h_(t){return Array.isArray(t)?t.join(" "):t}const MO=Symbol.for("motionComponentSymbol");function Rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VO(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Rl(n)&&(n.current=r))},[e])}const g1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OO="framerAppearId",JC="data-"+g1(OO),ZC=k.createContext({});function LO(t,e,n,r,i){var _,C;const{visualElement:a}=k.useContext(Bp),l=k.useContext(QC),d=k.useContext(Up),h=k.useContext(f1).reducedMotion,m=k.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=k.useContext(ZC);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&FO(m.current,n,i,y);const x=k.useRef(!1);k.useInsertionEffect(()=>{g&&x.current&&g.update(n,d)});const S=n[JC],P=k.useRef(!!S&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return iC(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),d1.render(g.render),P.current&&g.animationState&&g.animationState.animateChanges())}),k.useEffect(()=>{g&&(!P.current&&g.animationState&&g.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,S)}),P.current=!1))}),g}function FO(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eN(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Rl(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function eN(t){if(t)return t.options.allowProjection!==!1?t.projection:eN(t.parent)}function UO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&NO(t);function a(d,h){let m;const g={...k.useContext(f1),...d,layoutId:BO(d)},{isStatic:y}=g,x=DO(d),S=r(d,y);if(!y&&Hv){$O();const P=zO(g);m=P.MeasureLayout,x.visualElement=LO(i,S,g,e,P.ProjectionNode)}return c.jsxs(Bp.Provider,{value:x,children:[m&&x.visualElement?c.jsx(m,{visualElement:x.visualElement,...g}):null,n(i,d,VO(S,x.visualElement,h),S,y,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=k.forwardRef(a);return l[MO]=i,l}function BO({layoutId:t}){const e=k.useContext($v).id;return e&&t!==void 0?e+"-"+t:t}function $O(t,e){k.useContext(QC).strict}function zO(t){const{drag:e,layout:n}=Jl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const zu={};function HO(t){for(const e in t)zu[e]=t[e],Jv(e)&&(zu[e].isCSSVariable=!0)}function tN(t,{layout:e,layoutId:n}){return dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zu[t]||t==="opacity")}const WO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qO=uc.length;function GO(t,e,n){let r="",i=!0;for(let a=0;a<qO;a++){const l=uc[a],d=t[l];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(l.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=zC(d,u1[l]);if(!h){i=!1;const g=WO[l]||l;r+=`${g}(${m}) `}n&&(e[l]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function y1(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const h in e){const m=e[h];if(dc.has(h)){l=!0;continue}else if(Jv(h)){i[h]=m;continue}else{const g=zC(m,u1[h]);h.startsWith("origin")?(d=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=GO(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${m} ${g}`}}const v1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nN(t,e,n){for(const r in e)!$n(e[r])&&!tN(r,n)&&(t[r]=e[r])}function KO({transformTemplate:t},e){return k.useMemo(()=>{const n=v1();return y1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QO(t,e){const n=t.style||{},r={};return nN(r,n,t),Object.assign(r,KO(t,e)),r}function XO(t,e){const n={},r=QO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YO={offset:"stroke-dashoffset",array:"stroke-dasharray"},JO={offset:"strokeDashoffset",array:"strokeDasharray"};function ZO(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?YO:JO;t[a.offset]=Fe.transform(-r);const l=Fe.transform(e),d=Fe.transform(n);t[a.array]=`${l} ${d}`}function rN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},h,m,g){if(y1(t,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&ZO(y,i,a,l,!1)}const iN=()=>({...v1(),attrs:{}}),sN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eL(t,e,n,r){const i=k.useMemo(()=>{const a=iN();return rN(a,e,sN(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};nN(a,t.style,t),i.style={...a,...i.style}}return i}const tL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x1(t){return typeof t!="string"||t.includes("-")?!1:!!(tL.indexOf(t)>-1||/[A-Z]/u.test(t))}function nL(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(x1(n)?eL:XO)(r,a,l,n),m=AO(r,typeof n=="string",t),g=n!==k.Fragment?{...m,...h,ref:i}:{},{children:y}=r,x=k.useMemo(()=>$n(y)?y.get():y,[y]);return k.createElement(n,{...g,children:x})}}function f_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function w1(t,e,n,r){if(typeof e=="function"){const[i,a]=f_(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=f_(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function wf(t){return $n(t)?t.get():t}function rL({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:iL(n,r,i,t),renderState:e()}}const oN=t=>(e,n)=>{const r=k.useContext(Bp),i=k.useContext(Up),a=()=>rL(t,e,r,i);return n?a():zv(a)};function iL(t,e,n,r){const i={},a=r(t,{});for(const x in a)i[x]=wf(a[x]);let{initial:l,animate:d}=t;const h=zp(t),m=YC(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?d:l;if(y&&typeof y!="boolean"&&!$p(y)){const x=Array.isArray(y)?y:[y];for(let S=0;S<x.length;S++){const P=w1(t,x[S]);if(P){const{transitionEnd:_,transition:C,...A}=P;for(const L in A){let V=A[L];if(Array.isArray(V)){const B=g?V.length-1:0;V=V[B]}V!==null&&(i[L]=V)}for(const L in _)i[L]=_[L]}}}return i}function b1(t,e,n){var a;const{style:r}=t,i={};for(const l in r)($n(r[l])||e.style&&$n(e.style[l])||tN(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const sL={useVisualState:oN({scrapeMotionValuesFromProps:b1,createRenderState:v1})};function aN(t,e,n){const r=b1(t,e,n);for(const i in t)if($n(t[i])||$n(e[i])){const a=uc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const oL={useVisualState:oN({scrapeMotionValuesFromProps:aN,createRenderState:iN})};function aL(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...x1(r)?oL:sL,preloadedFeatures:t,useRender:nL(i),createVisualElement:e,Component:r};return UO(l)}}function Hu(t,e,n){const r=t.getProps();return w1(r,e,n!==void 0?n:r.custom,t)}const ly=t=>Array.isArray(t);function lL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yl(n))}function cL(t){return ly(t)?t[t.length-1]||0:t}function uL(t,e){const n=Hu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const d=cL(a[l]);lL(t,l,d)}}function dL(t){return!!($n(t)&&t.add)}function cy(t,e){const n=t.getValue("willChange");if(dL(n))return n.add(e);if(!n&&Ps.WillChange){const r=new Ps.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lN(t){return t.props[JC]}const hL=t=>t!==null;function fL(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(hL),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const pL={type:"spring",stiffness:500,damping:25,restSpeed:10},mL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gL={type:"keyframes",duration:.8},yL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vL=(t,{keyframes:e})=>e.length>2?gL:dc.has(t)?t.startsWith("scale")?mL(e[1]):pL:yL;function xL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const _1=(t,e,n,r={},i,a)=>l=>{const d=c1(r,t)||{},h=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-zi(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};xL(d)||Object.assign(g,vL(t,g)),g.duration&&(g.duration=zi(g.duration)),g.repeatDelay&&(g.repeatDelay=zi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!a&&e.get()!==void 0){const x=fL(g.keyframes,d);if(x!==void 0){Rt.update(()=>{g.onUpdate(x),g.onComplete()});return}}return d.isSync?new o1(g):new ZV(g)};function wL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=e;r&&(a=r);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in d){const y=t.getValue(g,t.latestValues[g]??null),x=d[g];if(x===void 0||m&&wL(m,g))continue;const S={delay:n,...c1(a||{},g)},P=y.get();if(P!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===P&&!S.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const A=lN(t);if(A){const L=window.MotionHandoffAnimation(A,g,Rt);L!==null&&(S.startTime=L,_=!0)}}cy(t,g),y.start(_1(g,y,x,t.shouldReduceMotion&&LC.has(g)?{type:!1}:S,t,_));const C=y.animation;C&&h.push(C)}return l&&Promise.all(h).then(()=>{Rt.update(()=>{l&&uL(t,l)})}),h}function uy(t,e,n={}){var h;const r=Hu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(cN(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=i;return bL(t,e,m,g,y,x,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,g]=d==="beforeChildren"?[a,l]:[l,a];return m().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function bL(t,e,n=0,r=0,i=0,a=1,l){const d=[],h=t.variantChildren.size,m=(h-1)*i,g=typeof r=="function",y=g?x=>r(x,h):a===1?(x=0)=>x*i:(x=0)=>m-x*i;return Array.from(t.variantChildren).sort(_L).forEach((x,S)=>{x.notify("AnimationStart",e),d.push(uy(x,e,{...l,delay:n+(g?0:r)+y(S)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(d)}function _L(t,e){return t.sortNodePosition(e)}function EL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>uy(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=uy(t,e,n);else{const i=typeof e=="function"?Hu(t,e,n.custom):e;r=Promise.all(cN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const SL=m1.length;function dN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SL;n++){const r=m1[n],i=t.props[r];($u(i)||i===!1)&&(e[r]=i)}return e}const TL=[...p1].reverse(),PL=p1.length;function CL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EL(t,n,r)))}function NL(t){let e=CL(t),n=p_(),r=!0;const i=h=>(m,g)=>{var x;const y=Hu(t,g,h==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:S,transitionEnd:P,..._}=y;m={...m,..._,...P}}return m};function a(h){e=h(t)}function l(h){const{props:m}=t,g=dN(t.parent)||{},y=[],x=new Set;let S={},P=1/0;for(let C=0;C<PL;C++){const A=TL[C],L=n[A],V=m[A]!==void 0?m[A]:g[A],B=$u(V),q=A===h?L.isActive:null;q===!1&&(P=C);let X=V===g[A]&&V!==m[A]&&B;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),L.protectedKeys={...S},!L.isActive&&q===null||!V&&!L.prevProp||$p(V)||typeof V=="boolean")continue;const R=kL(L.prevProp,V);let j=R||A===h&&L.isActive&&!X&&B||C>P&&B,D=!1;const E=Array.isArray(V)?V:[V];let O=E.reduce(i(A),{});q===!1&&(O={});const{prevResolvedValues:U={}}=L,M={...U,...O},pe=Se=>{j=!0,x.has(Se)&&(D=!0,x.delete(Se)),L.needsAnimating[Se]=!0;const ne=t.getValue(Se);ne&&(ne.liveStyle=!1)};for(const Se in M){const ne=O[Se],ge=U[Se];if(S.hasOwnProperty(Se))continue;let ue=!1;ly(ne)&&ly(ge)?ue=!uN(ne,ge):ue=ne!==ge,ue?ne!=null?pe(Se):x.add(Se):ne!==void 0&&x.has(Se)?pe(Se):L.protectedKeys[Se]=!0}L.prevProp=V,L.prevResolvedValues=O,L.isActive&&(S={...S,...O}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(X&&R)||D)&&y.push(...E.map(Se=>({animation:Se,options:{type:A}})))}if(x.size){const C={};if(typeof m.initial!="boolean"){const A=Hu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);A&&A.transition&&(C.transition=A.transition)}x.forEach(A=>{const L=t.getBaseTarget(A),V=t.getValue(A);V&&(V.liveStyle=!0),C[A]=L??null}),y.push({animation:C})}let _=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(y):Promise.resolve()}function d(h,m){var y;if(n[h].isActive===m)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(x=>{var S;return(S=x.animationState)==null?void 0:S.setActive(h,m)}),n[h].isActive=m;const g=l(h);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=p_(),r=!0}}}function kL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uN(e,t):!1}function aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p_(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Do{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jL extends Do{constructor(e){super(e),e.animationState||(e.animationState=NL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$p(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let AL=0;class IL extends Do{constructor(){super(...arguments),this.id=AL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RL={animation:{Feature:jL},exit:{Feature:IL}};function Wu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fd(t){return{point:{x:t.pageX,y:t.pageY}}}const DL=t=>e=>h1(e)&&t(e,fd(e));function xu(t,e,n,r){return Wu(t,e,DL(n),r)}function hN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ML({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fN=1e-4,OL=1-fN,LL=1+fN,pN=.01,FL=0-pN,UL=0+pN;function Xn(t){return t.max-t.min}function BL(t,e,n){return Math.abs(t-e)<=n}function m_(t,e,n,r=.5){t.origin=r,t.originPoint=Ft(e.min,e.max,t.origin),t.scale=Xn(n)/Xn(e),t.translate=Ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OL&&t.scale<=LL||isNaN(t.scale))&&(t.scale=1),(t.translate>=FL&&t.translate<=UL||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,r){m_(t.x,e.x,n.x,r?r.originX:void 0),m_(t.y,e.y,n.y,r?r.originY:void 0)}function g_(t,e,n){t.min=n.min+e.min,t.max=t.min+Xn(e)}function $L(t,e,n){g_(t.x,e.x,n.x),g_(t.y,e.y,n.y)}function y_(t,e,n){t.min=e.min-n.min,t.max=t.min+Xn(e)}function bu(t,e,n){y_(t.x,e.x,n.x),y_(t.y,e.y,n.y)}const v_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:v_(),y:v_()}),x_=()=>({min:0,max:0}),Zt=()=>({x:x_(),y:x_()});function $r(t){return[t("x"),t("y")]}function Zg(t){return t===void 0||t===1}function dy({scale:t,scaleX:e,scaleY:n}){return!Zg(t)||!Zg(e)||!Zg(n)}function ca(t){return dy(t)||mN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mN(t){return w_(t.x)||w_(t.y)}function w_(t){return t&&t!=="0%"}function ep(t,e,n){const r=t-n,i=e*r;return n+i}function b_(t,e,n,r,i){return i!==void 0&&(t=ep(t,i,r)),ep(t,n,r)+e}function hy(t,e=0,n=1,r,i){t.min=b_(t.min,e,n,r,i),t.max=b_(t.max,e,n,r,i)}function gN(t,{x:e,y:n}){hy(t.x,e.translate,e.scale,e.originPoint),hy(t.y,n.translate,n.scale,n.originPoint)}const __=.999999999999,E_=1.0000000000001;function zL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=n[d],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,gN(t,l)),r&&ca(a.latestValues)&&Vl(t,a.latestValues))}e.x<E_&&e.x>__&&(e.x=1),e.y<E_&&e.y>__&&(e.y=1)}function Ml(t,e){t.min=t.min+e,t.max=t.max+e}function S_(t,e,n,r,i=.5){const a=Ft(t.min,t.max,i);hy(t,e,n,a,r)}function Vl(t,e){S_(t.x,e.x,e.scaleX,e.scale,e.originX),S_(t.y,e.y,e.scaleY,e.scale,e.originY)}function yN(t,e){return hN(VL(t.getBoundingClientRect(),e))}function HL(t,e,n){const r=yN(t,n),{scroll:i}=e;return i&&(Ml(r.x,i.offset.x),Ml(r.y,i.offset.y)),r}const vN=({current:t})=>t?t.ownerDocument.defaultView:null,T_=(t,e)=>Math.abs(t-e);function WL(t,e){const n=T_(t.x,e.x),r=T_(t.y,e.y);return Math.sqrt(n**2+r**2)}class xN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=t0(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,P=WL(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!P)return;const{point:_}=x,{timestamp:C}=Nn;this.history.push({..._,timestamp:C});const{onStart:A,onMove:L}=this.handlers;S||(A&&A(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=e0(S,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:P,onSessionEnd:_,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=t0(x.type==="pointercancel"?this.lastMoveEventInfo:e0(S,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,A),_&&_(x,A)},!h1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const d=fd(e),h=e0(d,this.transformPagePoint),{point:m}=h,{timestamp:g}=Nn;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,t0(h,this.history)),this.removeListeners=ud(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function e0(t,e){return e?{point:e(t.point)}:t}function P_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t0({point:t},e){return{point:t,delta:P_(t,wN(e)),offset:P_(t,qL(e)),velocity:GL(e,.1)}}function qL(t){return t[0]}function wN(t){return t[t.length-1]}function GL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zi(e)));)n--;if(!r)return{x:0,y:0};const a=Hi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function KL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ft(n,t,r.max):Math.min(t,n)),t}function C_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QL(t,{top:e,left:n,bottom:r,right:i}){return{x:C_(t.x,n,i),y:C_(t.y,e,r)}}function N_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XL(t,e){return{x:N_(t.x,e.x),y:N_(t.y,e.y)}}function YL(t,e){let n=.5;const r=Xn(t),i=Xn(e);return i>r?n=Fu(e.min,e.max-r,t.min):r>i&&(n=Fu(t.min,t.max-i,e.min)),Ts(0,1,n)}function JL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fy=.35;function ZL(t=fy){return t===!1?t=0:t===!0&&(t=fy),{x:k_(t,"left","right"),y:k_(t,"top","bottom")}}function k_(t,e,n){return{min:j_(t,e),max:j_(t,n)}}function j_(t,e){return typeof t=="number"?t:t[e]||0}const e8=new WeakMap;class t8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fd(y).point)},l=(y,x)=>{const{drag:S,dragPropagation:P,onDragStart:_}=this.getProps();if(S&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mO(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$r(A=>{let L=this.getAxisMotionValue(A).get()||0;if(Wi.test(L)){const{projection:V}=this.visualElement;if(V&&V.layout){const B=V.layout.layoutBox[A];B&&(L=Xn(B)*(parseFloat(L)/100))}}this.originPoint[A]=L}),_&&Rt.postRender(()=>_(y,x)),cy(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:P,onDirectionLock:_,onDrag:C}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=x;if(P&&this.currentDirection===null){this.currentDirection=n8(A),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,A),this.updateAxis("y",x.point,A),this.visualElement.render(),C&&C(y,x)},h=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>$r(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new xN(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:vN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Rt.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Gh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=KL(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=QL(r.layoutBox,e):this.constraints=!1,this.elastic=ZL(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$r(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=JL(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HL(r,i.root,this.visualElement.getTransformPagePoint());let l=XL(i.layout.layoutBox,a);if(n){const d=n(ML(l));this.hasMutatedConstraints=!!d,d&&(l=hN(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=$r(g=>{if(!Gh(g,n,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const x=i?200:1e6,S=i?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,P)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cy(this.visualElement,e),r.start(_1(e,r,0,n,this.visualElement,!1))}stopAnimation(){$r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$r(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){$r(n=>{const{drag:r}=this.getProps();if(!Gh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];a.set(e[n]-Ft(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$r(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const h=d.get();i[l]=YL({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$r(l=>{if(!Gh(l,e,null))return;const d=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];d.set(Ft(h,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;e8.set(this.visualElement,this);const e=this.visualElement.current,n=xu(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Rl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rt.read(r);const l=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&($r(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=fy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function Gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class r8 extends Do{constructor(e){super(e),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new t8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const A_=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class i8 extends Do{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(e){this.session=new xN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:A_(e),onStart:A_(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Rt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function I_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=I_(t,e.target.x),r=I_(t,e.target.y);return`${n}% ${r}%`}},s8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Co.parse(t);if(i.length>5)return r;const a=Co.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=h;const m=Ft(d,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};let R_=!1;class o8 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;HO(a8),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),R_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,R_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Rt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bN(t){const[e,n]=KC(),r=k.useContext($v);return c.jsx(o8,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(ZC),isPresent:e,safeToRemove:n})}const a8={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:s8};function l8(t,e,n){const r=$n(t)?t:Yl(t);return r.start(_1("",r,e,n)),r.animation}const c8=(t,e)=>t.depth-e.depth;class u8{constructor(){this.children=[],this.isDirty=!1}add(e){Wv(this.children,e),this.isDirty=!0}remove(e){qv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c8),this.isDirty=!1,this.children.forEach(e)}}function d8(t,e){const n=dr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Po(r),t(a-e))};return Rt.setup(r,!0),()=>Po(r)}const _N=["TopLeft","TopRight","BottomLeft","BottomRight"],h8=_N.length,D_=t=>typeof t=="string"?parseFloat(t):t,M_=t=>typeof t=="number"||Fe.test(t);function f8(t,e,n,r,i,a){i?(t.opacity=Ft(0,n.opacity??1,p8(r)),t.opacityExit=Ft(e.opacity??1,0,m8(r))):a&&(t.opacity=Ft(e.opacity??1,n.opacity??1,r));for(let l=0;l<h8;l++){const d=`border${_N[l]}Radius`;let h=V_(e,d),m=V_(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||M_(h)===M_(m)?(t[d]=Math.max(Ft(D_(h),D_(m),r),0),(Wi.test(m)||Wi.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Ft(e.rotate||0,n.rotate||0,r))}function V_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const p8=EN(0,.5,mC),m8=EN(.5,.95,Gr);function EN(t,e,n){return r=>r<t?0:r>e?1:n(Fu(t,e,r))}function O_(t,e){t.min=e.min,t.max=e.max}function Br(t,e){O_(t.x,e.x),O_(t.y,e.y)}function L_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function F_(t,e,n,r,i){return t-=e,t=ep(t,1/n,r),i!==void 0&&(t=ep(t,1/i,r)),t}function g8(t,e=0,n=1,r=.5,i,a=t,l=t){if(Wi.test(e)&&(e=parseFloat(e),e=Ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=Ft(a.min,a.max,r);t===a&&(d-=e),t.min=F_(t.min,e,n,d,i),t.max=F_(t.max,e,n,d,i)}function U_(t,e,[n,r,i],a,l){g8(t,e[n],e[r],e[i],e.scale,a,l)}const y8=["x","scaleX","originX"],v8=["y","scaleY","originY"];function B_(t,e,n,r){U_(t.x,e,y8,n?n.x:void 0,r?r.x:void 0),U_(t.y,e,v8,n?n.y:void 0,r?r.y:void 0)}function $_(t){return t.translate===0&&t.scale===1}function SN(t){return $_(t.x)&&$_(t.y)}function z_(t,e){return t.min===e.min&&t.max===e.max}function x8(t,e){return z_(t.x,e.x)&&z_(t.y,e.y)}function H_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TN(t,e){return H_(t.x,e.x)&&H_(t.y,e.y)}function W_(t){return Xn(t.x)/Xn(t.y)}function q_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class w8{constructor(){this.members=[]}add(e){Wv(this.members,e),e.scheduleRender()}remove(e){if(qv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b8(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:x,skewX:S,skewY:P}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),P&&(r+=`skewY(${P}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const n0=["","X","Y","Z"],_8=1e3;let E8=0;function r0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PN(r)}function CN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=e==null?void 0:e()){this.id=E8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P8),this.nodes.forEach(j8),this.nodes.forEach(A8),this.nodes.forEach(C8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new u8)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Qv),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=GC(l)&&!bO(l),this.instance=l;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const x=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{y=window.innerWidth}),t(l,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,g&&g(),g=d8(x,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(Q_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||V8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=m.getProps(),A=!this.targetLayout||!TN(this.targetLayout,S),L=!y&&x;if(this.options.layoutRoot||this.resumeFrom||L||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...c1(P,"layout"),onPlay:_,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(g,L)}else y||Q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k8),this.nodes.forEach(S8),this.nodes.forEach(T8)):this.nodes.forEach(K_),this.clearAllSnapshots();const d=dr.now();Nn.delta=Ts(0,1e3/60,d-Nn.timestamp),Nn.timestamp=d,Nn.isProcessing=!0,Gg.update.process(Nn),Gg.preRender.process(Nn),Gg.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N8),this.sharedNodes.forEach(R8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xn(this.snapshot.measuredBox.x)&&!Xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!SN(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(d||ca(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),O8(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return Zt();const d=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(L8))){const{scroll:g}=this.root;g&&(Ml(d.x,g.offset.x),Ml(d.y,g.offset.y))}return d}removeElementScroll(l){var h;const d=Zt();if(Br(d,l),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Br(d,l),Ml(d.x,y.offset.x),Ml(d.y,y.offset.y))}return d}applyTransform(l,d=!1){const h=Zt();Br(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ca(g.latestValues)&&Vl(h,g.latestValues)}return ca(this.latestValues)&&Vl(h,this.latestValues),h}removeTransform(l){const d=Zt();Br(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ca(m.latestValues))continue;dy(m.latestValues)&&m.updateSnapshot();const g=Zt(),y=m.measurePageBox();Br(g,y),B_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ca(this.latestValues)&&B_(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),bu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$L(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),gN(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),bu(this.relativeTargetOrigin,this.target,S.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||mN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var P;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Br(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;zL(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Zt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L_(this.prevProjectionDelta.x,this.projectionDelta.x),L_(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!q_(this.projectionDelta.x,this.prevProjectionDelta.x)||!q_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(l,d=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Zt(),S=h?h.source:void 0,P=this.layout?this.layout.source:void 0,_=S!==P,C=this.getStack(),A=!C||C.members.length<=1,L=!!(_&&!A&&this.options.crossfade===!0&&!this.path.some(M8));this.animationProgress=0;let V;this.mixTargetDelta=B=>{const q=B/1e3;X_(y.x,l.x,q),X_(y.y,l.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D8(this.relativeTarget,this.relativeTargetOrigin,x,q),V&&x8(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Zt()),Br(V,this.relativeTarget)),_&&(this.animationValues=g,f8(g,m,this.latestValues,q,L,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=l8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:g}=l;if(!(!d||!h||!m)){if(this!==l&&this.layout&&m&&NN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Zt();const y=Xn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const x=Xn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Br(d,h),Vl(d,g),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new w8),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&r0("z",l,m,this.animationValues);for(let g=0;g<n0.length;g++)r0(`rotate${n0[g]}`,l,m,this.animationValues),r0(`skew${n0[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=wf(d==null?void 0:d.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=wf(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=b8(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),l.transform=y;const{x,y:S}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,m.animationValues?l.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const P in zu){if(g[P]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:A}=zu[P],L=y==="none"?g[P]:_(g[P],m);if(C){const V=C.length;for(let B=0;B<V;B++)l[C[B]]=L}else A?this.options.visualElement.renderState.vars[P]=L:l[P]=L}this.options.layoutId&&(l.pointerEvents=m===this?wf(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(G_),this.root.sharedNodes.clear()}}}function S8(t){t.updateLayout()}function T8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?$r(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],S=Xn(x);x.min=r[y].min,x.max=x.min+S}):NN(a,e.layoutBox,r)&&$r(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],S=Xn(r[y]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const d=Dl();wu(d,r,e.layoutBox);const h=Dl();l?wu(h,t.applyTransform(i,!0),e.measuredBox):wu(h,r,e.layoutBox);const m=!SN(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:S}=y;if(x&&S){const P=Zt();bu(P,e.layoutBox,x.layoutBox);const _=Zt();bu(_,r,S.layoutBox),TN(P,_)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=P,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function P8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function C8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N8(t){t.clearSnapshot()}function G_(t){t.clearMeasurements()}function K_(t){t.isLayoutDirty=!1}function k8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j8(t){t.resolveTargetDelta()}function A8(t){t.calcProjection()}function I8(t){t.resetSkewAndRotation()}function R8(t){t.removeLeadSnapshot()}function X_(t,e,n){t.translate=Ft(e.translate,0,n),t.scale=Ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Y_(t,e,n,r){t.min=Ft(e.min,n.min,r),t.max=Ft(e.max,n.max,r)}function D8(t,e,n,r){Y_(t.x,e.x,n.x,r),Y_(t.y,e.y,n.y,r)}function M8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const V8={duration:.45,ease:[.4,0,.1,1]},J_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Z_=J_("applewebkit/")&&!J_("chrome/")?Math.round:Gr;function eE(t){t.min=Z_(t.min),t.max=Z_(t.max)}function O8(t){eE(t.x),eE(t.y)}function NN(t,e,n){return t==="position"||t==="preserve-aspect"&&!BL(W_(e),W_(n),.2)}function L8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const F8=CN({attachResizeListener:(t,e)=>Wu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),i0={current:void 0},kN=CN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!i0.current){const t=new F8({});t.mount(window),t.setOptions({layoutScroll:!0}),i0.current=t}return i0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U8={pan:{Feature:i8},drag:{Feature:r8,ProjectionNode:kN,MeasureLayout:bN}};function tE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Rt.postRender(()=>a(e,fd(e)))}class B8 extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=gO(e,(n,r)=>(tE(this.node,r,"Start"),i=>tE(this.node,i,"End"))))}unmount(){}}class $8 extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ud(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Rt.postRender(()=>a(e,fd(e)))}class z8 extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=wO(e,(n,r)=>(nE(this.node,r,"Start"),(i,{success:a})=>nE(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const py=new WeakMap,s0=new WeakMap,H8=t=>{const e=py.get(t.target);e&&e(t)},W8=t=>{t.forEach(H8)};function q8({root:t,...e}){const n=t||document;s0.has(n)||s0.set(n,{});const r=s0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(W8,{root:t,...e})),r[i]}function G8(t,e,n){const r=q8(e);return py.set(t,n),r.observe(t),()=>{py.delete(t),r.unobserve(t)}}const K8={some:0,all:1};class Q8 extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:K8[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=m?g:y;x&&x(h)};return G8(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X8(e,n))&&this.startObserver()}unmount(){}}function X8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Y8={inView:{Feature:Q8},tap:{Feature:z8},focus:{Feature:$8},hover:{Feature:B8}},J8={layout:{ProjectionNode:kN,MeasureLayout:bN}},my={current:null},jN={current:!1};function Z8(){if(jN.current=!0,!!Hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const e7=new WeakMap;function t7(t,e,n){for(const r in e){const i=e[r],a=n[r];if($n(i))t.addValue(r,i);else if($n(a))t.addValue(r,Yl(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Yl(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=dr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Rt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=zp(n),this.isVariantNode=YC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const S=y[x];h[x]!==void 0&&$n(S)&&S.set(h[x],!1)}}mount(e){this.current=e,e7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jN.current||Z8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jl){const n=Jl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rE.length;r++){const i=rE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=t7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sC(r)||aC(r))?r=parseFloat(r):!EO(r)&&Co.test(n)&&(r=$C(e,n)),this.setBaseTarget(e,$n(r)?r.get():r)),$n(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=w1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AN extends n7{constructor(){super(...arguments),this.KeyframeResolver=dO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IN(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i==null||i.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function r7(t){return window.getComputedStyle(t)}class i7 extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=IN}readValueFromInstance(e,n){var r;if(dc.has(n))return(r=this.projection)!=null&&r.isProjecting?ny(n):jV(e,n);{const i=r7(e),a=(Jv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yN(e,n)}build(e,n,r){y1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return b1(e,n,r)}}const RN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s7(t,e,n,r){IN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(RN.has(i)?i:g1(i),e.attrs[i])}class o7 extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dc.has(n)){const r=BC(n);return r&&r.default||0}return n=RN.has(n)?n:g1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aN(e,n,r)}build(e,n,r){rN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){s7(e,n,r,i)}mount(e){this.isSVGTag=sN(e.tagName),super.mount(e)}}const a7=(t,e)=>x1(t)?new o7(e):new i7(e,{allowProjection:t!==k.Fragment}),l7=aL({...RL,...Y8,...U8,...J8},a7),J=IO(l7);var DN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iE=Di.createContext&&Di.createContext(DN),c7=["attr","size","title"];function u7(t,e){if(t==null)return{};var n=d7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){h7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h7(t,e,n){return e=f7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f7(t){var e=p7(t,"string");return typeof e=="symbol"?e:e+""}function p7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MN(t){return t&&t.map((e,n)=>Di.createElement(e.tag,np({key:n},e.attr),MN(e.child)))}function Qt(t){return e=>Di.createElement(m7,tp({attr:np({},t.attr)},e),MN(t.child))}function m7(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=u7(t,c7),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Di.createElement("svg",tp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:np(np({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Di.createElement("title",null,a),t.children)};return iE!==void 0?Di.createElement(iE.Consumer,null,n=>e(n)):e(DN)}function rp(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function o0(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function g7(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function y7(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function v7(t){return Qt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function x7(t){return Qt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function E1(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function w7(t){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function pd(t){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function b7(t){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(t)}function gy(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function ip(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function _7(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function VN(t){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function E7(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function oE(t){return Qt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ON(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function aE(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function S7(t){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function T7(t){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function LN(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function P7(t){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(t)}const C7=()=>{var i;const{usuario:t,logout:e}=Ar(),{setModalAbierto:n}=lc(),r=k.useRef(null);return pr(),k.useEffect(()=>{r.current&&r.current.focus()},[]),k.useEffect(()=>{function a(){}return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),c.jsxs(c.Fragment,{children:[c.jsx(J.header,{initial:{y:-120,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 w-full bg-white shadow-md z-[9999] px-4 py-3",style:{backdropFilter:"saturate(180%) blur(15px)",maxWidth:"100vw",overflowX:"hidden"},children:c.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto w-full gap-3",children:[c.jsx("div",{id:"search-bar-container",className:"flex-grow max-w-full px-2 lg:hidden",children:c.jsx(ob,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),c.jsxs("div",{className:"hidden lg:flex w-full items-center justify-between gap-6",children:[c.jsxs(Xe,{to:"/",className:"flex items-center gap-3 flex-shrink-0 group",children:[c.jsx(J.img,{src:"/Playlogo.png",alt:"Playcenter Universal",className:"h-10 object-contain rounded-xl shadow group-hover:ring-2 group-hover:ring-[#4FC3F7] transition",whileHover:{scale:1.07},transition:{type:"spring",stiffness:300}}),c.jsxs("div",{className:"flex flex-col leading-tight text-xs text-gray-700 font-medium",children:[c.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-gray-500",children:[c.jsx(pd,{className:"text-[#4FC3F7]"}),"Envios"]}),c.jsx("strong",{className:"text-[12px] font-semibold text-gray-700 uppercase tracking-wide",children:"EN TODO RD"})]})]}),c.jsx("div",{className:"flex-grow max-w-xl",children:c.jsx(ob,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),c.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-700",children:[c.jsx(Xe,{to:"/",className:"nav-link hover:text-[#4FC3F7] transition",children:"Inicio"}),c.jsx(Xe,{to:"/productos",className:"nav-link hover:text-[#4FC3F7] transition",children:"Categoras"}),c.jsx(Xe,{to:"/nosotros",className:"nav-link hover:text-[#4FC3F7] transition",children:"Nosotros"}),c.jsx(Xe,{to:"/contacto",className:"nav-link hover:text-[#4FC3F7] transition",children:"Contctanos"}),c.jsx(Xe,{to:"/estafetas",className:"nav-link hover:text-[#4FC3F7] transition",children:"Estafetas"}),c.jsx(Xe,{to:"/carrito",className:"nav-link text-xl hover:scale-110 transition",children:""}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&c.jsx(Xe,{to:"/admin",className:"px-3 py-2 rounded bg-[#4FC3F7] text-white hover:bg-[#3BB0F3] shadow transition",children:"Panel Admin"}),t?c.jsx(J.div,{className:"relative",whileTap:{scale:.95},children:c.jsx(Xe,{to:"/profile",children:c.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow hover:shadow-lg transition cursor-pointer bg-white",children:t.photoURL?c.jsx("img",{src:t.photoURL,alt:"Perfil",className:"w-full h-full object-cover rounded-full"}):c.jsx("div",{className:"w-full h-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-base",children:((i=t.displayName)==null?void 0:i.charAt(0).toUpperCase())||"U"})})})}):c.jsx(J.button,{onClick:()=>n(!0),className:"px-4 py-2 text-sm bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-lg font-semibold shadow transition",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Iniciar sesin"})]})]})]})}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&c.jsx("div",{className:"lg:hidden fixed bottom-[80px] right-4 z-[9999]",children:c.jsx(Xe,{to:"/admin",className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white px-5 py-3 rounded-full shadow-xl font-semibold text-base",children:"Panel Admin"})}),c.jsx("div",{className:"h-[100px] sm:h-[70px]"})]})};function md({isOpen:t,onClose:e,onIniciarSesion:n}){return t?Z4.createPortal(c.jsx("div",{onClick:e,className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",style:{top:0,left:0},children:c.jsxs(J.div,{onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40 z-[11001]",children:[c.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold","aria-label":"Cerrar modal",children:""}),c.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-[#3b82f6]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A11.955 11.955 0 0112 15c2.32 0 4.47.66 6.264 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),"Inicia sesin"]}),c.jsx("p",{className:"mb-6 text-center text-gray-300",children:"Necesitas iniciar sesin para acceder a esta funcin"}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx("button",{onClick:()=>{e(),n()},className:"w-full max-w-[120px] px-5 py-2 bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Iniciar sesin"}),c.jsx("button",{onClick:e,className:"w-full max-w-[120px] px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Cancelar"})]})]})}),document.body):null}function N7(){const{usuario:t}=Ar(),e=pr(),{abrirModal:n}=lc(),[r,i]=k.useState(!1),a=(h,m)=>{!t&&(m==="/carrito"||m==="/Profile")?(h.preventDefault(),i(!0)):e(m)},l=()=>i(!1),d=()=>{l(),n()};return c.jsx("div",{className:"footer-block",children:c.jsxs("footer",{className:"footer futuristic-footer relative bg-black text-gray-300 py-12 text-sm sm:text-base",children:[c.jsx("div",{className:"footer-bg-animated"}),c.jsx("div",{className:"w-full flex justify-center mb-10 relative z-20",children:c.jsx("img",{src:"/Playlogo.png",alt:"Playcenter Universal Logo",className:"footer-logo-glow w-32 sm:w-44 lg:w-64 transition-transform duration-300 hover:scale-105"})}),c.jsxs("div",{className:"footer-cols-wrapper relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"footer-col",children:[c.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Playcenter Universal"}),c.jsx("p",{children:"Tu universo de tecnologa y gaming en Santiago, R.D."}),c.jsxs("p",{className:"mt-3 flex justify-center sm:justify-start items-center gap-2",children:[c.jsx(pd,{})," Av. Estrella Sadhal #55, frente a la doble va"]}),c.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[c.jsx(gy,{})," +1 (809) 582-1212 (Internet)"]}),c.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[c.jsx(gy,{})," +1 (849) 635-7000 (Tienda)"]}),c.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[c.jsx(E1,{})," playcenter121@gmail.com"]})]}),c.jsxs("div",{className:"footer-col",children:[c.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Navegacin"}),c.jsx("ul",{className:"footer-nav-list",children:[["Categoras","/categorias",!1],["Nosotros","/nosotros",!1],["Contctanos","/contacto",!1],["Estafetas","/estafetas",!1],["Carrito","/carrito",!0],["Mi perfil","/Profile",!0]].map(([h,m,g])=>c.jsx("li",{children:g?c.jsx("a",{href:m,onClick:y=>a(y,m),className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm cursor-pointer",children:h}):c.jsx("a",{href:m,className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm",children:h})},h))})]}),c.jsxs("div",{className:"footer-col",children:[c.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Horario"}),c.jsx("p",{children:"Lunes a Viernes: 8:30am - 5:30pm"}),c.jsx("p",{children:"Sbados: 8:30am - 12:30pm"}),c.jsx("p",{children:"Domingos: Cerrado"})]}),c.jsxs("div",{className:"footer-col",children:[c.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Conctate con nosotros"}),c.jsx("div",{className:"grid grid-cols-2 gap-4 justify-items-center sm:justify-items-start",children:[["https://www.facebook.com/pcu12","/Facebook.png","Facebook"],["https://www.instagram.com/playcenter_universal/?hl=es","/Instagram.png","Instagram"],["https://www.tiktok.com/@playcenter_universal?lang=es","/tiktok.png","TikTok"],["https://youtube.com/@playcenteruniversal1916","/Youtube.png","YouTube"]].map(([h,m,g])=>c.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"relative group",children:c.jsx("img",{src:m,alt:g,className:"footer-social-icon-neon w-12 h-12 sm:w-16 sm:h-16 rounded-full transition-transform duration-300 transform group-hover:scale-110"})},g))})]})]}),c.jsxs("p",{className:"footer-copyright text-center text-gray-500 text-[11px] sm:text-xs mt-10 relative z-20",children:[" ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]}),c.jsx(md,{isOpen:r,onClose:l,onIniciarSesion:d})]})})}const a0="text-blue-900",k7="bg-blue-800",j7="bg-green-200 text-green-900",A7="bg-blue-200 text-blue-900",sp="ZeiFzBgosCd0apv9cXL6aQZCYyu2";function FN(t=""){var n,r;if(!t)return"";const e=t.trim().split(" ");return((((n=e[0])==null?void 0:n[0])||"")+(((r=e[1])==null?void 0:r[0])||"")).toUpperCase()}function I7(t=""){if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/i);if(e)return e[1];const n=t.match(/(maps\.app\.[^\s]+|goo\.gl\/[^\s]+|google\.com\/maps[^\s]*)/i);if(n){const r=n[0];return r.startsWith("http")?r:`https://${r}`}return null}function lE(t){if(!t)return null;if(typeof t=="object"&&t.seconds)return new Date(t.seconds*1e3).toLocaleString();const e=new Date(t);return isNaN(e.getTime())?String(t):e.toLocaleString()}function R7({usuario:t,onClose:e}){const[n,r]=k.useState([]),[i,a]=k.useState(!0),[l,d]=k.useState(t),[h,m]=k.useState(null);k.useEffect(()=>{if(!(t!=null&&t.id))return;const x=$l(Pt(tt,"users",t.id),P=>{P.exists()&&d(_=>({..._,...P.data()}))}),S=$l(Pt(tt,"usuarios",t.id),P=>{P.exists()&&d(_=>({..._,...P.data()}))});return()=>{x(),S()}},[t==null?void 0:t.id]),k.useEffect(()=>{if(!t)return;const x=To(mi(tt,"orders")),S=$l(x,P=>{const _=P.docs.map(C=>({id:C.id,...C.data()})).filter(C=>String(C.userId)===String(t.id));r(_.sort((C,A)=>{var B,q;const L=((B=C.fecha)==null?void 0:B.seconds)||0;return(((q=A.fecha)==null?void 0:q.seconds)||0)-L})),a(!1)},()=>{r([]),a(!1)});return()=>S()},[t]),k.useEffect(()=>{const x=S=>{S.key==="Escape"&&(e==null||e())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]);const g=(l==null?void 0:l.direccion)||(l==null?void 0:l.direccionCompleta)||"",y=(l==null?void 0:l.ubicacion)||I7(g);return c.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),c.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed top-0 left-0 w-full h-full max-h-none !rounded-none !shadow-none bg-white overflow-y-auto flex flex-col",style:{zIndex:1e4},onClick:x=>x.stopPropagation(),children:[c.jsxs("header",{className:`flex justify-between items-center px-6 py-4 shadow ${k7}`,children:[c.jsxs("div",{className:"admin-user-header",children:[c.jsx("div",{className:"admin-user-avatar",children:FN((l==null?void 0:l.displayName)||(l==null?void 0:l.nombre))}),c.jsxs("div",{className:"admin-user-info",children:[c.jsx("h2",{className:"admin-user-name",children:(l==null?void 0:l.displayName)||(l==null?void 0:l.nombre)||"Usuario"}),c.jsx("p",{className:"admin-user-email",children:l==null?void 0:l.email}),c.jsx("div",{className:"admin-user-badges",children:c.jsx("span",{className:t.id===sp?"badge-admin":"badge-user",children:t.id===sp?" Admin":" Usuario"})})]})]}),c.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"admin-close-btn",children:""})]}),c.jsxs("div",{className:"flex-1 px-2 sm:px-8 py-4 sm:py-8 space-y-7 bg-gray-50",children:[c.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-blue-700 font-bold",children:""})}),c.jsx("h3",{className:`text-xl font-bold ${a0}`,children:"Informacin Personal"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[c.jsx(vl,{label:"Nombre Completo",value:l.displayName||"No especificado"}),c.jsx(vl,{label:"Email",value:l.email||"No especificado"}),c.jsx(vl,{label:"Telfono",value:l.telefono||"No especificado"}),c.jsx(vl,{label:"Cdigo de Usuario",value:l.codigo||"No asignado"}),c.jsx(vl,{label:"Mtodo de Entrega",value:l.metodoEntrega||"No especificado"}),c.jsx(vl,{label:"Fecha de Registro",value:l.createdAt?lE(l.createdAt):"No disponible"})]})]}),c.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-blue-700 font-bold",children:""})}),c.jsx("h3",{className:`text-xl font-bold ${a0}`,children:"Direccin y Ubicacin"})]}),c.jsx("p",{className:"text-base text-blue-900 mb-4",children:g||"No se ha registrado direccin"}),y&&c.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:" Ver en Google Maps"})]}),c.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-blue-700 font-bold",children:""})}),c.jsx("h3",{className:`text-xl font-bold ${a0}`,children:"Historial de Compras"}),c.jsxs("span",{className:"bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-sm font-bold",children:[n.length," ",n.length===1?"compra":"compras"]})]}),i?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"}),c.jsx("span",{className:"ml-3 text-blue-700",children:"Cargando historial..."})]}):n.length===0?c.jsxs("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("p",{className:"text-xl text-blue-700 font-medium",children:"No hay compras registradas"})]}):c.jsx("div",{className:"admin-orders-grid",children:n.map(x=>{var S,P;return c.jsxs("div",{className:"admin-order-card",children:[c.jsxs("div",{className:"admin-order-header",children:[c.jsxs("div",{className:"order-info",children:[c.jsx("h4",{className:"order-number",children:x.numeroOrden||`#${x.id.slice(-8)}`}),c.jsx("p",{className:"order-date",children:lE(x.fecha)})]}),c.jsxs("div",{className:"order-status-price",children:[c.jsx("span",{className:`admin-status-badge ${x.estado||"pendiente"}`,children:x.estado==="completado"?" Completado":x.estado==="cancelado"?" Cancelado":" Pendiente"}),c.jsx("div",{className:"order-total",children:new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(x.total||0)})]})]}),c.jsx("div",{className:"admin-order-customer",children:c.jsxs("div",{className:"customer-info",children:[c.jsx("span",{className:"customer-name",children:x.userName||"Usuario"}),c.jsx("span",{className:"customer-email",children:x.userEmail})]})}),c.jsxs("div",{className:"admin-products-preview",children:[(S=x.productos)==null?void 0:S.slice(0,3).map((_,C)=>c.jsx("div",{className:"admin-product-item",children:c.jsxs("div",{className:"admin-product-info",children:[c.jsx("span",{className:"product-name",children:_.nombre}),c.jsxs("span",{className:"product-quantity",children:["Cantidad: ",_.cantidad,"  ",new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(_.precio)]}),c.jsxs("button",{className:"btn-view-product",onClick:A=>{A.stopPropagation(),window.location.href=`/producto/${_.id}`},title:"Ver producto",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},C)),((P=x.productos)==null?void 0:P.length)>3&&c.jsxs("div",{className:"more-products-admin",children:["+",x.productos.length-3," ms productos"]})]}),c.jsxs("div",{className:"admin-order-actions",children:[c.jsx("button",{className:"btn-admin btn-view",onClick:()=>m(x),children:"Ver detalles"}),x.metodoPago&&c.jsx("span",{className:"payment-method",children:x.metodoPago})]})]},x.id)})})]})]}),c.jsx(pn,{children:h&&c.jsx(UN,{order:h,onClose:()=>m(null)})})]})]})}function vl({label:t,value:e}){return c.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[c.jsx("p",{className:"font-semibold text-blue-700 text-xs mb-1",children:t}),c.jsx("p",{className:"text-base font-medium text-blue-900 break-all",children:e})]})}function D7(){const{usuario:t}=Ar(),[e,n]=k.useState([]),[r,i]=k.useState(""),[a,l]=k.useState(null),[d,h]=k.useState(null);if(k.useEffect(()=>{if(!t||t.uid!==sp)return;const g=$l(To(mi(tt,"users")),x=>{const S=x.docs.map(P=>({id:P.id,...P.data()}));n(P=>{const _=[...S];return P.forEach(C=>{const A=_.findIndex(L=>L.id===C.id);A>=0&&(_[A]={..._[A],...C})}),_})}),y=$l(To(mi(tt,"usuarios")),x=>{const S=x.docs.map(P=>({id:P.id,...P.data()}));n(P=>{const _=[...P];return S.forEach(C=>{const A=_.findIndex(L=>L.id===C.id);A>=0?_[A]={..._[A],...C}:_.push(C)}),_})});return()=>{g(),y()}},[t]),!t)return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Inicia sesin"});if(t.uid!==sp)return c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Sin acceso"});const m=e.filter(g=>{const y=r.toLowerCase();return(g.displayName||"").toLowerCase().includes(y)||(g.email||"").toLowerCase().includes(y)||(g.telefono||"").toLowerCase().includes(y)||(g.direccion||"").toLowerCase().includes(y)||(g.codigo||"").toLowerCase().includes(y)});return c.jsxs("main",{className:"min-h-screen bg-blue-50 p-2 sm:p-6",children:[c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold mb-3 text-blue-900",children:"Panel Administrativo"}),c.jsx("p",{className:"text-base sm:text-xl text-blue-700 font-medium",children:"Gestin Completa de Usuarios"}),c.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-3",children:[c.jsxs("span",{className:"bg-blue-100 text-blue-900 px-4 py-2 rounded-full text-sm font-bold",children:[" ",e.length," ",e.length===1?"usuario":"usuarios"," registrados"]}),c.jsx("span",{className:"bg-green-100 text-green-900 px-4 py-2 rounded-full text-sm font-bold",children:" Sincronizacin en tiempo real"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-xl p-3 sm:p-6 mb-8 border border-blue-100",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xl",children:""})}),c.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, telfono, direccin o cdigo...",value:r,onChange:g=>i(g.target.value),className:"flex-1 px-4 py-3 text-base border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-400 transition-all"})]})}),m.length===0?c.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[c.jsx("div",{className:"text-7xl mb-6",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"No se encontraron usuarios"}),c.jsx("p",{className:"text-blue-600 text-lg",children:"Intenta ajustar los trminos de bsqueda"})]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:m.map(g=>c.jsxs("div",{className:"bg-white border-2 border-blue-100 rounded-xl shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-200 cursor-pointer p-3 group flex flex-col items-center",onClick:()=>l(g),role:"button",tabIndex:0,onKeyDown:y=>{y.key==="Enter"&&l(g)},children:[c.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-700 flex items-center justify-center text-2xl font-bold text-white mb-2 shadow",children:FN(g.displayName)}),c.jsxs("div",{className:"w-full flex-1 flex flex-col items-center text-center",children:[c.jsx("h3",{className:"font-bold text-base text-blue-900 truncate w-full",children:g.displayName||"Usuario Sin Nombre"}),c.jsxs("p",{className:"text-xs text-blue-700 break-all truncate w-full",children:["ID: ",g.id]}),c.jsx("div",{className:"mt-1 mb-2 w-full",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g.admin?j7:A7}`,children:g.admin?" Admin":""})}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:c.jsxs("p",{className:"text-xs text-blue-700 mb-1",children:[" ",g.email||"No email"]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:c.jsxs("p",{className:"text-xs text-blue-700",children:[" ",g.telefono||"No tel."]})}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-2",children:c.jsxs("p",{className:"text-xs text-blue-700 line-clamp-2",children:[""," ",g.direccion||g.direccionCompleta||"No especificada"]})})]}),c.jsx("span",{className:"text-xs text-blue-400",children:"Ver detalles "})]},g.id))}),a&&c.jsx(R7,{usuario:a,onClose:()=>l(null)})]}),c.jsx(pn,{children:d&&c.jsx(UN,{order:d,onClose:()=>h(null)})})]})}function UN({order:t,onClose:e}){var l,d;const n=h=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(h||0),r=h=>{if(!h)return"Fecha no disponible";let m;return typeof h=="object"&&h.seconds?m=new Date(h.seconds*1e3):m=new Date(h),m.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},i=h=>{switch(h){case"completado":return"status-completed";case"cancelado":return"status-cancelled";case"pendiente":return"status-pending";default:return"status-pending"}},a=h=>{switch(h){case"completado":return" Completado";case"cancelado":return" Cancelado";case"pendiente":return" Pendiente";default:return" Pendiente"}};return Di.useEffect(()=>{const h=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),c.jsx(J.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:c.jsxs(J.div,{className:"order-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("div",{children:[c.jsx("h2",{children:t.numeroOrden||`Orden #${t.id.slice(-8)}`}),c.jsx("p",{className:"order-date-detail",children:r(t.fecha)})]}),c.jsx("button",{className:"close-btn",onClick:e,children:""})]}),c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"order-status-section",children:[c.jsx("span",{className:`status-badge large ${i(t.estado)}`,children:a(t.estado)}),t.estadoPago&&c.jsxs("span",{className:"payment-status",children:["Pago: ",t.estadoPago==="pagado"?" Pagado":" Fallido"]})]}),c.jsxs("div",{className:"order-summary",children:[c.jsx("h3",{children:"Resumen de la orden"}),c.jsxs("div",{className:"summary-row total",children:[c.jsx("span",{children:"Total pagado:"}),c.jsx("span",{children:n(t.total)})]})]}),c.jsxs("div",{className:"products-section",children:[c.jsxs("h3",{children:["Productos (",((l=t.productos)==null?void 0:l.length)||0,")"]}),c.jsx("div",{className:"products-list",children:(d=t.productos)==null?void 0:d.map((h,m)=>c.jsx("div",{className:"product-detail-item",children:c.jsxs("div",{className:"product-detail-info",children:[c.jsx("h4",{children:h.nombre}),c.jsx("p",{className:"product-company",children:h.empresa||"N/A"}),c.jsxs("div",{className:"product-pricing",children:[c.jsxs("span",{className:"quantity",children:["Cantidad: ",h.cantidad]}),c.jsxs("span",{className:"price",children:["Precio unitario: ",n(h.precio)]}),c.jsxs("span",{className:"subtotal",children:["Subtotal: ",n(h.subtotal||h.precio*h.cantidad)]})]}),c.jsxs("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${h.id}`,title:"Ver producto",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},m))})]}),t.direccionEntrega&&c.jsxs("div",{className:"delivery-section",children:[c.jsx("h3",{children:"Informacin de entrega"}),c.jsx("p",{children:t.direccionEntrega}),t.telefonoContacto&&c.jsxs("p",{children:["Telfono: ",t.telefonoContacto]})]}),t.metodoPago&&c.jsxs("div",{className:"payment-section",children:[c.jsx("h3",{children:"Informacin de pago"}),c.jsxs("p",{children:["Mtodo: ",t.metodoPago]})]})]})]})})}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),cE=t=>{const e=V7(t);return e.charAt(0).toUpperCase()+e.slice(1)},BN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),O7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...d},h)=>k.createElement("svg",{ref:h,...L7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BN("lucide",i),...!a&&!O7(d)&&{"aria-hidden":"true"},...d},[...l.map(([m,g])=>k.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=k.forwardRef(({className:r,...i},a)=>k.createElement(F7,{ref:a,iconNode:e,className:BN(`lucide-${M7(cE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=cE(t),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],B7=dt("calendar",U7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kl=dt("check",$7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$N=dt("chevron-down",z7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],W7=dt("chevron-left",H7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G7=dt("chevron-right",q7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yy=dt("circle-check-big",K7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],op=dt("circle-x",Q7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zN=dt("clock",X7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],J7=dt("credit-card",Y7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eF=dt("dollar-sign",Z7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nF=dt("download",tF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iF=dt("external-link",rF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oF=dt("eye",sF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],lF=dt("gift",aF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_u=dt("house",cF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dF=dt("locate-fixed",uF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fF=dt("map-pin",hF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Kh=dt("map",pF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],uE=dt("package",mF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HN=dt("pencil",gF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vF=dt("refresh-cw",yF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ap=dt("shield",xF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],dE=dt("shopping-bag",wF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_F=dt("shopping-cart",bF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],SF=dt("sparkles",EF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],PF=dt("star",TF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],l0=dt("store",CF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],WN=dt("trash-2",NF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hE=dt("triangle-alert",kF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],AF=dt("trophy",jF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qN=dt("zap",IF),fs=[{id:1,img:"/ads/1.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/6.png",link:"https://playcenterwisp.com",isExternal:!0},{id:2,img:"/ads/2.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/3.png",link:"/Productos/videojuegos",isExternal:!1},{id:4,img:"/ads/5.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/4.png",link:"/Productos",isExternal:!1}];function RF(){const[t,e]=k.useState(0),n=k.useRef(null),r=6e3,i=k.useCallback(()=>{clearTimeout(n.current),n.current=setTimeout(()=>{e(x=>(x+1)%fs.length)},r)},[]);k.useEffect(()=>(i(),()=>clearTimeout(n.current)),[t,i]);const a=()=>{clearTimeout(n.current),e(x=>x===0?fs.length-1:x-1)},l=()=>{clearTimeout(n.current),e(x=>(x+1)%fs.length)},d=k.useRef(0),h=k.useRef(0),m=x=>{d.current=x.touches[0].clientX},g=x=>{h.current=x.touches[0].clientX},y=()=>{const x=h.current-d.current;Math.abs(x)>50&&(x>0?a():l())};return c.jsxs("div",{onTouchStart:m,onTouchMove:g,onTouchEnd:y,className:`relative w-full max-w-[1600px] mx-auto overflow-hidden rounded-xl shadow-xl
        h-[140px] sm:h-[180px] md:h-[260px] lg:h-[400px]`,children:[c.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${fs.length*100}%`,transform:`translateX(-${t*(100/fs.length)}%)`},children:fs.map(x=>x.isExternal?c.jsx("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full flex-shrink-0",style:{width:`${100/fs.length}%`},children:c.jsx("img",{src:x.img,alt:`Anuncio ${x.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},x.id):c.jsx(Xe,{to:x.link,className:"w-full h-full flex-shrink-0",style:{width:`${100/fs.length}%`},children:c.jsx("img",{src:x.img,alt:`Anuncio ${x.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},x.id))}),c.jsx("button",{onClick:a,className:"absolute top-1/2 left-2 sm:left-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Anterior",children:c.jsx(W7,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),c.jsx("button",{onClick:l,className:"absolute top-1/2 right-2 sm:right-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Siguiente",children:c.jsx(G7,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),c.jsx("div",{className:"absolute bottom-3 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:fs.map((x,S)=>c.jsx("button",{onClick:()=>{clearTimeout(n.current),e(S)},"aria-label":`Ir al slide ${S+1}`,className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${S===t?"bg-white opacity-90 scale-110":"bg-white opacity-40"} transition`},S))})]})}const DF=[{id:1,img:"/ads/movil/aficionados-movil.png",link:"/Productos/coleccionables",isExternal:!1},{id:2,img:"/ads/movil/articulosads.png",link:"/Productos/videojuegos",isExternal:!1},{id:3,img:"/ads/movil/internetads.png",link:"https://playcenterwisp.com",isExternal:!0},{id:4,img:"/ads/movil/camarasads.png",link:"/Productos/camaras",isExternal:!1},{id:5,img:"/ads/movil/consolaads.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/movil/ofertas.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:7,img:"/ads/movil/productosads.png",link:"/Productos",isExternal:!1},{id:8,img:"/ads/movil/retroads.png",link:"/Productos/retro-juegos",isExternal:!1},{id:9,img:"/ads/movil/nuestras-estafetas.png",link:"/estafetas",isExternal:!1},{id:10,img:"/ads/movil/ubicacionads.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0}];function MF(){return c.jsx("div",{className:"block sm:hidden w-full max-w-[600px] mx-auto px-3 py-4",children:c.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide space-x-3",style:{scrollPaddingLeft:"12px",scrollPaddingRight:"12px"},children:DF.map(t=>c.jsx("a",{href:t.link,target:t.isExternal?"_blank":"_self",rel:"noreferrer",className:"flex-shrink-0 w-[300px] h-[420px] rounded-xl overflow-hidden shadow-lg bg-white snap-center",children:c.jsx("img",{src:t.img,alt:`Anuncio ${t.id}`,className:"w-full h-full object-cover",draggable:!1})},t.id))})})}const fE=["/animacion/img1.png","/animacion/img2.png","/animacion/img3.png","/animacion/img4.png","/animacion/img5.png","/animacion/img6.png","/animacion/img7.png","/animacion/img8.png","/animacion/img9.png","/animacion/img10.png"],VF=[...fE,...fE.slice(0,5)],OF=()=>c.jsx("div",{className:"loader",role:"presentation","aria-hidden":"true",children:VF.map((t,e)=>c.jsx("img",{src:t,alt:`Animacin ${e+1}`},e))}),ar={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7}}};Array.from({length:17},(t,e)=>`/animacion/${e+1}.png`);function LF(){return c.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen",children:[c.jsx("div",{className:"hidden sm:block w-full",children:c.jsx("video",{src:"/videos/pcu-intro.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto object-cover",style:{marginTop:"0px"}})}),c.jsx(J.div,{className:"hidden sm:block w-full max-w-[1600px] mx-auto px-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl ring-1 ring-indigo-100",children:c.jsx(RF,{})})}),c.jsx(J.div,{className:"block sm:hidden w-full max-w-[600px] mx-auto px-2 mt-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsx(MF,{})}),c.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-14",children:[{title:"Consolas",links:[{to:"/producto/cs5",img:"/Productos/ps4.jpg",alt:"PS4"},{to:"/producto/cs1",img:"/Productos/ps5.webp",alt:"PS5"},{to:"/producto/cs6",img:"/Productos/xboxone.webp",alt:"Xbox One"},{to:"/producto/cs3",img:"/Productos/nintendoswitch.jpg",alt:"Switch OLED"}],explore:"/Productos/consolas"},{title:"Consolas Retro",links:[{to:"/producto/rc6",img:"/Productos/atari2600.png",alt:"Atari 2600"},{to:"/producto/rc5",img:"/Productos/gameboy.jpg",alt:"Game Boy"},{to:"/producto/rc3",img:"/Productos/segagenesis.webp",alt:"Sega Genesis"},{to:"/producto/rc4",img:"/Productos/playstation1.webp",alt:"PS1"}],explore:"/Productos/retro-consolas"},{title:"Videojuegos",links:[{to:"/producto/vj6",img:"/Productos/Mario-Kart-8.jpeg",alt:"Mario Kart 8"},{to:"/producto/vj3",img:"/Productos/zelda.webp",alt:"Zelda BOTW"},{to:"/producto/vj5",img:"/Productos/spider-manps5.jpeg",alt:"Spider-Man PS5"},{to:"/producto/vj7",img:"/Productos/super-smash-bros.jpg",alt:"Super Smash Bros"}],explore:"/Productos/videojuegos"},{title:"Retro Juegos",links:[{to:"/producto/rj3",img:"/Productos/dk.jpg",alt:"Donkey Kong Country"},{to:"/producto/rj4",img:"/Productos/crash-retro.png",alt:"Crash Bandicoot PS1"},{to:"/producto/rj1",img:"/Productos/mario-bros-.png",alt:"Super Mario Bros NES"},{to:"/producto/rj2",img:"/Productos/legen-of-zelda.png",alt:"Zelda NES"}],explore:"/Productos/retro-juegos"}].map((t,e)=>c.jsxs(J.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5 group",variants:ar,initial:"hidden",animate:"visible",transition:{delay:.1*e},children:[c.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:t.title}),c.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:t.links.map((n,r)=>c.jsx(Xe,{to:n.to,children:c.jsx("img",{src:n.img,alt:n.alt,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm group-hover:scale-105 transition-transform"})},r))}),c.jsxs(Xe,{to:t.explore,className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:["Explora nuestras ",t.title," "]})]},t.title))}),c.jsx(J.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:ar,initial:"hidden",animate:"visible",children:c.jsx(Xe,{to:"/Productos/coleccionables",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:c.jsx("img",{src:"/ads/aficionados.png",alt:"Ver Nuestras colecciones",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),c.jsx("section",{className:"hidden lg:grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-14",children:[{to:"/Productos/retro-consolas",src:"/ads/retro.png",alt:"Retro Consolas"},{to:"/Productos/camaras",src:"/ads/camaras.png",alt:"Cmaras"}].map((t,e)=>c.jsx(J.div,{className:"overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition h-[220px] sm:h-[300px] md:h-[400px] group",whileHover:{scale:1.01},children:c.jsx(Xe,{to:t.to,className:"block w-full h-full",children:c.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-400"})})},e))}),c.jsx(J.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Explora nuestras categoras"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:[{to:"/Productos/audifonos",src:"/ads/audifonoscate.png",alt:"Audfonos"},{to:"/Productos/mouses",src:"/ads/mousecate.png",alt:"Mouses"},{to:"/Productos/teclados",src:"/ads/tecladocate.png",alt:"Teclados"},{to:"/Productos/camaras",src:"/ads/camaracate.png",alt:"Cmaras"},{to:"/Productos/discos-duros",src:"/ads/discodurocate.png",alt:"Discos Duros"},{to:"/Productos/controles",src:"/ads/controlcate.png",alt:"Controles"}].map((t,e)=>c.jsx(Xe,{to:t.to,children:c.jsx("img",{src:t.src,alt:t.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full aspect-[1/1] shadow-sm"})},t.alt))}),c.jsx("div",{className:"text-right mt-6",children:c.jsx(Xe,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Ver todas las categoras "})})]})}),c.jsx(J.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:ar,initial:"hidden",animate:"visible",children:c.jsx(Xe,{to:"/estafetas",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:c.jsx("img",{src:"/ads/ESTAFETAS.png",alt:"Ver Nuestras Estafetas",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),c.jsx(J.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Descubre nuestros productos"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:Mi.flatMap(t=>t.productos).slice(0,6).map(t=>{var e;return c.jsx(Xe,{to:`/producto/${t.id}`,children:c.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow hover:shadow-md transition",children:c.jsx("img",{src:t.imagen||((e=t.imagenes)==null?void 0:e[0]),alt:t.nombre,className:"w-full aspect-[1/1] object-contain p-2"})})},t.id)})}),c.jsx("div",{className:"text-right mt-6",children:c.jsx(Xe,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestros productos "})})]})}),c.jsx(J.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Hogar Inteligente en Oferta"}),c.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{to:"/producto/hi1",img:"/Productos/focointeligente.webp",alt:"Foco inteligente Wi-Fi RGB"},{to:"/producto/hi2",img:"/Productos/enchufeinteligentewifi.jpg",alt:"Enchufe inteligente TP-Link"},{to:"/producto/hi4",img:"/Productos/sensormovimientowifi.jpg",alt:"Sensor de movimiento Wi-Fi"},{to:"/producto/hi8",img:"/Productos/echodot.png",alt:"Amazon Echo Dot"},{to:"/producto/hi9",img:"/Productos/alexaecho.webp",alt:"Amazon Echo Show 8"},{to:"/producto/hi11",img:"/Productos/smartplug.jpg",alt:"Smart Plug compatible con Alexa"}].map((t,e)=>c.jsx(Xe,{to:t.to,className:"min-w-[180px] px-2",children:c.jsx("img",{src:t.img,alt:t.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full h-[180px]"})},e))}),c.jsx("div",{className:"text-right mt-6",children:c.jsx(Xe,{to:"/Productos/hogar-inteligente",className:"text-indigo-600 hover:underline text-base font-medium",children:"Descubre cmo transformar tu casa en un hogar inteligente "})})]})}),c.jsx(J.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ar,initial:"hidden",animate:"visible",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Tu Rincn Variado"}),c.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{id:"rv1",nombre:"Bicicleta Urbana MTB 26'' Mongoose",img:"/Productos/mongose.jpg"},{id:"rv2",nombre:"Patineta Elctrica Plegable",img:"/Productos/patinetaelectrica.jpg"},{id:"rv3",nombre:'Hoverboard Autoequilibrado 10"',img:"/Productos/hoverboard.jpg"},{id:"rv4",nombre:"Patines en lnea 4 ruedas",img:"/Productos/patines4ruedaasenlinea.jpeg"},{id:"rv5",nombre:"Patines clsicos 4 ruedas",img:"/Productos/patinesclasicos.webp"},{id:"rv6",nombre:"Ruedas de repuesto para patineta",img:"/Productos/ruedapatineta.webp"},{id:"rv7",nombre:"Casco Protector Urbano",img:"/Productos/casco.jpg"},{id:"rv8",nombre:"Botella Trmica 1L Acero Inoxidable",img:"/Productos/botella.jpg"},{id:"rv9",nombre:"Luz LED Recargable para Bicicleta",img:"/Productos/lucesbici.webp"}].map(t=>c.jsx(Xe,{to:`/producto/${t.id}`,className:"min-w-[180px] px-2",title:t.nombre,children:c.jsx("img",{src:t.img,alt:t.nombre,className:"rounded-xl hover:scale-110 transition-transform duration-300 object-contain w-full h-[180px]"})},t.id))}),c.jsx("div",{className:"text-right mt-6",children:c.jsx(Xe,{to:"/Productos/tu-rincon-variado",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestro Rincn Variado "})})]})}),c.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-16",children:[{to:"/Productos/consolas",src:"/ads/nintendoswtitchads.png",alt:"Consolas"},{to:"/Productos/controles",src:"/ads/controlads.png",alt:"Controles"}].map((t,e)=>c.jsx(J.div,{className:"overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition aspect-[16/9]",whileHover:{scale:1.01},children:c.jsx(Xe,{to:t.to,className:"block w-full h-full",children:c.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-contain object-center hover:scale-105 transition-transform duration-400 bg-black"})})},t.alt))}),c.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-16",children:[c.jsxs(J.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:ar,initial:"hidden",animate:"visible",children:[c.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cmaras de Vigilancia"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cam1",nombre:"Hikvision Dome",img:"/Productos/hikvision.png"},{id:"cam2",nombre:"Dahua Bullet",img:"/Productos/dahua.webp"},{id:"cam3",nombre:"EZVIZ WiFi",img:"/Productos/ezviz.png"},{id:"cam4",nombre:"TP-Link Tapo",img:"/Productos/tapo.webp"}].map(t=>c.jsx(Xe,{to:`/producto/${t.id}`,children:c.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),c.jsx(Xe,{to:"/categoria/camaras-vigilancia",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Cmaras de Vigilancia "})]}),c.jsxs(J.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:ar,initial:"hidden",animate:"visible",children:[c.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Discos Duros"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"dd1",nombre:"Seagate 1TB",img:"/Productos/seagate.png"},{id:"dd2",nombre:"SSD Samsung",img:"/Productos/samsung.webp"},{id:"dd3",nombre:"WD 2TB",img:"/Productos/wd2tb.jpg"},{id:"dd4",nombre:"Crucial X6",img:"/Productos/crucial.jpg"}].map(t=>c.jsx(Xe,{to:`/producto/${t.id}`,children:c.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),c.jsx(Xe,{to:"/categoria/discos-duros",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Discos Duros "})]}),c.jsxs(J.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:ar,initial:"hidden",animate:"visible",children:[c.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Memorias USB"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"usb1",nombre:"USB SanDisk 64GB",img:"/Productos/sandisk.jpeg"},{id:"usb2",nombre:"Kingston 128GB USB 3.1",img:"/Productos/kingston.webp"},{id:"usb3",nombre:"HP v150w 32GB",img:"/Productos/hp.jpeg"},{id:"usb4",nombre:"Corsair Flash Voyager 256GB",img:"/Productos/corsair.avif"}].map(t=>c.jsx(Xe,{to:`/producto/${t.id}`,children:c.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),c.jsx(Xe,{to:"/categoria/memorias-usb",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Memorias USB "})]}),c.jsxs(J.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:ar,initial:"hidden",animate:"visible",children:[c.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cables"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cb1",img:"/Productos/usb-c.jpg"},{id:"cb2",img:"/Productos/hdmi4k.jpeg"},{id:"cb3",img:"/Productos/micro.jpg"},{id:"cb4",img:"/Productos/ethernet.jpeg"}].map(t=>c.jsx(Xe,{to:`/producto/${t.id}`,children:c.jsx("img",{src:t.img,alt:"Cable",className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),c.jsx(Xe,{to:"/categoria/cables",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Cables "})]})]}),c.jsx("div",{className:"max-w-[1600px] mx-auto mt-10 px-4",children:c.jsx(OF,{})}),c.jsxs(J.section,{className:"max-w-4xl mx-auto px-6 py-20 text-center mt-10",variants:ar,initial:"hidden",animate:"visible",children:[c.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold mb-6 text-gray-800",children:["Tienes dudas?"," ",c.jsx("span",{className:"text-indigo-700",children:"Contctanos ahora"})]}),c.jsx("p",{className:"text-gray-600 mb-10 max-w-xl mx-auto",children:"Nuestro equipo est listo para ayudarte por WhatsApp, telfono o correo. Atencin rpida y profesional."}),c.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-10 max-w-3xl mx-auto flex flex-col gap-6 border border-indigo-100",children:[c.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[c.jsx(pd,{className:"text-indigo-700"}),c.jsx("span",{children:"Av. Estrella Sadhal, Santiago, Repblica Dominicana"})]}),c.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[c.jsx(ip,{className:"text-indigo-700"}),c.jsx("span",{children:"+1 (849)-635-7000 (Tienda)"})]}),c.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[c.jsx(ip,{className:"text-indigo-700"}),c.jsx("span",{children:"+1 (809)-582-1212 (Internet)"})]}),c.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[c.jsx(E1,{className:"text-indigo-700"}),c.jsx("span",{children:"playcenter121@gmail.com"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center mt-4",children:[c.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20pgina.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-700 text-white rounded-lg shadow-md hover:bg-indigo-800 transition w-full sm:w-auto",children:[c.jsx(rp,{className:"text-xl"}),"WhatsApp Tienda"]}),c.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20pgina.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition w-full sm:w-auto",children:[c.jsx(rp,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})]})}async function FF(t){const e="https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","perfil_usuarios"),n.append("folder","muestras/comercio electrnico"),console.log("Archivo que se va a subir:",t),console.log("Preset usado:","perfil_usuarios"),console.log("Carpeta folder usada:","muestras/comercio electrnico");const r=await fetch(e,{method:"POST",body:n});if(!r.ok){const a=await r.text();throw console.error("Error Cloudinary:",a),new Error(" Error al subir la imagen a Cloudinary")}const i=await r.json();return console.log("Respuesta de Cloudinary:",i),i.secure_url}const pE=["Distrito Nacional","Santo Domingo","Santiago","La Vega","Puerto Plata","San Cristbal","Duarte","La Romana","San Pedro de Macors","Espaillat","Hermanas Mirabal","Monte Plata","San Juan","Azua","Peravia","Monseor Nouel","Barahona","Snchez Ramrez","Valverde","Mara Trinidad Snchez","Monte Cristi","Saman","El Seibo","Hato Mayor","Independencia","Pedernales","Elas Pia","Dajabn","Baoruco"],ps={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, Repblica Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"};function UF({abierto:t,onClose:e,onPick:n,valorActual:r}){const[i,a]=k.useState(""),l=k.useMemo(()=>{if(!i)return pE;const d=i.toLowerCase();return pE.filter(h=>h.toLowerCase().includes(d))},[i]);return k.useEffect(()=>{t||a("")},[t]),typeof document>"u"?null:ky.createPortal(c.jsx(pn,{children:t&&c.jsxs(c.Fragment,{children:[c.jsx(J.div,{className:"prov-picker-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),c.jsx(J.div,{className:"prov-picker-modal",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},onClick:d=>d.stopPropagation(),children:c.jsxs("div",{className:"prov-dark-card",children:[c.jsxs("div",{className:"prov-dark-header",children:[c.jsx("h3",{className:"prov-dark-title",children:"Seleccionar Provincia"}),c.jsx("button",{onClick:e,className:"prov-close-white",children:""})]}),c.jsx("div",{className:"prov-search-dark",children:c.jsx("input",{type:"text",placeholder:"Buscar provincia...",value:i,onChange:d=>a(d.target.value),className:"prov-input-dark",autoFocus:!0})}),c.jsx("div",{className:"prov-list-dark",children:l.length>0?l.map(d=>c.jsx("div",{className:`prov-item-dark ${r===d?"active":""}`,onClick:()=>{n(d),e()},children:d},d)):c.jsx("div",{className:"prov-empty-dark",children:"No se encontraron provincias"})})]})})]})}),document.body)}function GN({abierto:t,onClose:e,actualizarUsuarioInfo:n,actualizarLista:r,direccionEditar:i,usuarioId:a}){const{uid:l,usuario:d}=Ar(),[h,m]=k.useState("domicilio"),[g,y]=k.useState([]),[x,S]=k.useState(!1),[P,_]=k.useState(null),[C,A]=k.useState(""),[L,V]=k.useState(""),[B,q]=k.useState(""),[X,R]=k.useState(""),[j,D]=k.useState(""),[E,O]=k.useState(""),[U,M]=k.useState(""),[pe,Me]=k.useState(!1),[Ae,Se]=k.useState(!1),[ne,ge]=k.useState(!1),[ue,z]=k.useState(null),[W,fe]=k.useState(""),[je,Ne]=k.useState(!1),ze=ee=>ee||"",[qe,Le]=k.useState(""),[Ie,nt]=k.useState(null),[Nt,Mt]=k.useState(!1),[ft,Vt]=k.useState(!1),gn=async()=>{const ee=a||l||(d==null?void 0:d.uid);if(!ee){y([]);return}S(!0);try{const ye=To(mi(tt,"direcciones"),Ou("usuarioId","==",ee)),Ke=(await Lu(ye)).docs.map(ot=>({id:ot.id,...ot.data()}));y(Ke)}catch(ye){console.error("fetchDirecciones error:",ye),y([])}finally{S(!1)}};k.useEffect(()=>{const ee=a||l||(d==null?void 0:d.uid);t&&ee&&gn()},[t,l,d,a]),k.useEffect(()=>{t&&(gn(),i?(_(i.id),m(i.metodoEntrega||"domicilio"),A(i.provincia||""),V(i.ciudad||""),q(i.sector||""),R(i.numeroCalle||""),D(i.numeroCasa||""),O(i.telefono||""),M(i.referencia||""),Le(i.ubicacion||""),Vt(i.metodoEntrega==="tienda")):(_(null),m("domicilio"),A(""),V(""),q(""),R(""),D(""),O(""),M(""),Le(""),nt(null),Vt(!1)))},[t,i]),k.useEffect(()=>{if(!t)return;const ee=ye=>{ye.key==="Escape"&&e&&e()};return document.body.style.overflow="hidden",document.addEventListener("keydown",ee),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",ee)}},[t,e]);const Hn=ee=>{if(ee==="tienda"){m("tienda"),A(ps.provincia),V(ps.ciudad),R(ps.numeroCalle),q(""),D(""),M(""),_(null),Le(""),nt(null),Vt(!0);return}if(ee==="domicilio"){m("domicilio"),ft&&(A(""),V(""),P||(R(""),q(""),D(""),M("")),Vt(!1));return}m(ee)},mt=()=>[X,j?`Casa ${j}`:"",B,L,C,U?`Ref: ${U}`:""].filter(Boolean).join(", ").trim(),de=async()=>{const ee=l||(d==null?void 0:d.uid);if(console.log("Auth check:",{uid:l,usuario:d==null?void 0:d.uid,currentUid:ee}),!ee){alert("Error de autenticacin. Recarga la pgina e intenta de nuevo.");return}Me(!0);try{if(h==="tienda"){if(!E||E.trim()===""){fe("El nmero de telfono es obligatorio para recoger en tienda"),Me(!1);return}typeof n=="function"&&await n({direccion:ze(ps.direccionCompleta),metodoEntrega:"tienda",telefono:E}),e&&e(),typeof r=="function"&&r(),Me(!1);return}if(!E||E.trim()===""){fe("El nmero de telfono es obligatorio"),Me(!1);return}const ye=!!Ie;if(!ye&&!mt()){alert("Completa provincia, ciudad y calle/nmero."),Me(!1);return}const be=ye?`${mt()?mt()+", ":""}Ubicacin: ${qe} (${Ie==null?void 0:Ie.lat}, ${Ie==null?void 0:Ie.lon})`:mt(),Ke={metodoEntrega:"domicilio",provincia:C||null,ciudad:L||null,numeroCalle:X||null,numeroCasa:j||null,sector:B||null,referencia:U||null,telefono:E||null,direccionCompleta:be,ubicacion:qe||null,coords:Ie||null,usuarioId:ee,updatedAt:new Date};if(P){const He=Pt(tt,"direcciones",P);await lD(He,{...Ke})}else await Mv(mi(tt,"direcciones"),{...Ke,createdAt:new Date});typeof n=="function"&&await n({direccion:ze(be),metodoEntrega:"domicilio"}),Se(!0);const ot={direccion:ze(be),metodoEntrega:"domicilio",telefono:E,updatedAt:new Date};try{await Pr(Pt(tt,"users",ee),ot,{merge:!0})}catch(He){console.warn("No se pudo escribir users/{uid}:",He)}try{await Pr(Pt(tt,"usuarios",ee),ot,{merge:!0})}catch(He){console.warn("No se pudo escribir usuarios/{uid}:",He)}typeof n=="function"&&await n({telefono:E}),await gn(),typeof r=="function"&&r(),_(null),e&&e(),window.location.reload()}catch(ye){console.error("handleGuardarDireccion error:",ye),alert(`Error guardando direccin: ${(ye==null?void 0:ye.message)||ye}`)}finally{Me(!1)}},Ue=async ee=>{try{const ye=typeof ee=="string"?ee:(ee==null?void 0:ee.direccionCompleta)||"",be=ee&&ee.metodoEntrega?ee.metodoEntrega:"domicilio",Ke=l||(d==null?void 0:d.uid);Se(!0),typeof n=="function"&&await n({direccion:ye,metodoEntrega:be,telefono:E});const ot={direccion:ye,metodoEntrega:be,telefono:E,updatedAt:new Date};try{await Pr(Pt(tt,"users",Ke),ot,{merge:!0})}catch(He){console.warn("No se pudo escribir users/{uid}:",He)}try{await Pr(Pt(tt,"usuarios",Ke),ot,{merge:!0})}catch(He){console.warn("No se pudo escribir usuarios/{uid}:",He)}try{let He=await uo(Pt(tt,"users",Ke));if(He.exists()||(He=await uo(Pt(tt,"usuarios",Ke))),He&&He.exists()){const Xt=He.data()||{};typeof n=="function"&&await n({direccion:Xt.direccion||ye,metodoEntrega:Xt.metodoEntrega||be})}}catch(He){console.warn("No se pudo releer documento de usuario:",He)}await gn(),typeof r=="function"&&r(),e&&e(),window.location.reload()}catch(ye){console.error("handleSeleccionarDireccion error:",ye),Se(!1),alert(`Error seleccionando direccin: ${(ye==null?void 0:ye.message)||ye}`)}},Ye=async ee=>{try{await MP(Pt(tt,"direcciones",ee)),await gn(),typeof r=="function"&&r(),alert("Direccin eliminada correctamente.")}catch(ye){console.error("eliminarDireccion:",ye),alert(`Error eliminando direccin: ${(ye==null?void 0:ye.message)||ye}`)}},Bt=ee=>{z(ee),ge(!0)},wt=()=>{ge(!1),z(null)},yn=()=>{ue&&(Ye(ue),ge(!1),z(null))},mr=ee=>{!ee||ee.metodoEntrega==="tienda"||(_(ee.id),m("domicilio"),A(ee.provincia||""),V(ee.ciudad||""),q(ee.sector||""),R(ee.numeroCalle||""),D(ee.numeroCasa||""),O(ee.telefono||""),M(ee.referencia||""),Le(ee.ubicacion||""),nt(ee.coords||null),Vt(!1))},ae=()=>{if(!navigator.geolocation){alert("Geolocalizacin no soportada en este navegador.");return}Mt(!0),navigator.geolocation.getCurrentPosition(ee=>{const ye=ee.coords.latitude.toFixed(6),be=ee.coords.longitude.toFixed(6),Ke=`https://www.google.com/maps?q=${ye},${be}`;Le(Ke),nt({lat:ye,lon:be}),R(`${ye}, ${be}`),Mt(!1)},ee=>{console.error("Error geolocalizacin:",ee);let ye="No se pudo obtener la ubicacin.";switch(ee.code){case ee.PERMISSION_DENIED:ye="Permisos denegados. Haz clic en el candado  junto a la URL y permite la ubicacin.";break;case ee.POSITION_UNAVAILABLE:ye="Ubicacin no disponible. Asegrate de estar conectado a internet y tener servicios de ubicacin activados.";break;case ee.TIMEOUT:ye="Tiempo agotado. Intenta de nuevo.";break;default:ye="Error desconocido. Verifica permisos del navegador."}alert(ye),Mt(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ce=()=>{Le(""),nt(null),X&&/^\s*-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?\s*$/.test(X)&&R("")};if(!t)return null;const xe=g.filter(ee=>ee.metodoEntrega!=="tienda");return ky.createPortal(c.jsxs(c.Fragment,{children:[c.jsx(J.div,{className:"entrega-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),c.jsx(J.div,{className:"entrega-slider",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:200},role:"dialog","aria-modal":"true",onClick:ee=>ee.stopPropagation(),children:c.jsxs("div",{className:"entrega-slider-content","aria-labelledby":"entrega-title",children:[c.jsx("div",{className:"entrega-drag-handle"}),c.jsxs("div",{className:"entrega-header",children:[c.jsxs("div",{className:"entrega-header-content",children:[c.jsx("div",{className:"entrega-icon-wrapper",children:c.jsx("div",{className:"entrega-icon",children:""})}),c.jsxs("div",{className:"entrega-title-section",children:[c.jsx("h3",{id:"entrega-title",className:"entrega-title",children:"Mtodo de entrega"}),c.jsx("p",{className:"entrega-subtitle",children:"Elige cmo quieres recibir tu pedido"})]})]}),c.jsx("button",{onClick:e,className:"entrega-close-btn","aria-label":"Cerrar",children:c.jsx(op,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"entrega-methods",children:[c.jsxs(J.button,{type:"button",onClick:()=>Hn("domicilio"),className:`method-card ${h==="domicilio"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="domicilio",children:[c.jsx("div",{className:"method-icon domicilio-icon",children:c.jsx(_u,{className:"w-6 h-6"})}),c.jsxs("div",{className:"method-info",children:[c.jsx("h4",{className:"method-title",children:"A domicilio"}),c.jsx("p",{className:"method-desc",children:"Entrega en tu direccin"})]}),h==="domicilio"&&c.jsx(J.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:c.jsx(kl,{className:"w-5 h-5"})})]}),c.jsxs(J.button,{type:"button",onClick:()=>Hn("tienda"),className:`method-card ${h==="tienda"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="tienda",children:[c.jsx("div",{className:"method-icon tienda-icon",children:c.jsx(l0,{className:"w-6 h-6"})}),c.jsxs("div",{className:"method-info",children:[c.jsx("h4",{className:"method-title",children:"Recoger en tienda"}),c.jsx("p",{className:"method-desc",children:"Playcenter Universal"})]}),h==="tienda"&&c.jsx(J.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:c.jsx(kl,{className:"w-5 h-5"})})]})]}),h==="domicilio"&&c.jsxs(J.button,{type:"button",onClick:ae,className:`location-btn ${Nt?"loading":""}`,disabled:Nt,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[c.jsx(dF,{className:`w-5 h-5 ${Nt?"animate-pulse":""}`}),c.jsx("span",{children:Nt?"Obteniendo ubicacin...":"Usar mi ubicacin actual"})]}),h==="tienda"&&c.jsx(J.div,{className:"tienda-phone-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Telfono de contacto *"}),c.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:E,onChange:ee=>{O(ee.target.value),W&&fe("")},className:"form-input",required:!0}),W&&c.jsx("div",{className:"phone-error-message",children:c.jsxs("span",{children:[" ",W]})}),c.jsx("p",{className:"form-note",children:" Te contactaremos cuando tu pedido est listo para recoger"})]})}),c.jsxs("div",{className:"entrega-form",children:[c.jsx(pn,{children:Ie&&c.jsxs(J.div,{className:"coords-display",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[c.jsxs("div",{className:"coords-header",children:[c.jsx(Kh,{className:"w-5 h-5 text-green-600"}),c.jsx("span",{className:"coords-title",children:"Ubicacin detectada"}),c.jsx("button",{onClick:ce,className:"coords-remove","aria-label":"Quitar ubicacin",children:c.jsx(op,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"coords-info",children:[c.jsxs("div",{className:"coord-item",children:[c.jsx("span",{className:"coord-label",children:"Lat:"}),c.jsx("span",{className:"coord-value",children:Ie.lat})]}),c.jsxs("div",{className:"coord-item",children:[c.jsx("span",{className:"coord-label",children:"Lng:"}),c.jsx("span",{className:"coord-value",children:Ie.lon})]})]})]})}),c.jsx(pn,{mode:"wait",children:h==="domicilio"?c.jsxs(J.div,{className:"address-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[c.jsxs("div",{className:"form-section",children:[c.jsx("label",{className:"form-label",children:"Provincia *"}),c.jsxs("button",{type:"button",onClick:()=>Ne(!0),className:"province-selector","aria-haspopup":"dialog","aria-expanded":je,children:[c.jsx("span",{className:`province-text ${C?"":"placeholder"}`,children:C||"Selecciona tu provincia"}),c.jsx($N,{className:"province-chevron"})]})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Ciudad *"}),c.jsx("input",{placeholder:"Ej: Santiago",value:L,onChange:ee=>V(ee.target.value),className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Sector"}),c.jsx("input",{placeholder:"Ej: Los Jardines",value:B,onChange:ee=>q(ee.target.value),className:"form-input"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Calle y nmero *"}),c.jsx("input",{placeholder:"Ej: Av. Juan Pablo Duarte #123",value:X,onChange:ee=>R(ee.target.value),className:"form-input"})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Nmero de casa"}),c.jsx("input",{placeholder:"Ej: 45-B",value:j,onChange:ee=>D(ee.target.value),className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Telfono *"}),c.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:E,onChange:ee=>{O(ee.target.value),W&&fe("")},className:"form-input",required:!0}),W&&c.jsx("div",{className:"phone-error-message",children:c.jsxs("span",{children:[" ",W]})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Referencia"}),c.jsx("input",{placeholder:"Ej: Casa azul",value:U,onChange:ee=>M(ee.target.value),className:"form-input"})]}),!Ie&&c.jsxs("div",{className:"form-note",children:[" ",c.jsx("strong",{children:"Tip:"}),' Usa "Mi ubicacin actual" para completar automticamente las coordenadas']})]},"domicilio-form"):c.jsxs(J.div,{className:"store-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[c.jsxs("div",{className:"store-header",children:[c.jsx(l0,{className:"w-6 h-6 text-orange-500"}),c.jsx("h4",{className:"store-title",children:"Playcenter Universal"})]}),c.jsx("p",{className:"store-address",children:ps.direccionCompleta}),c.jsxs("a",{href:ps.ubicacion,target:"_blank",rel:"noreferrer",className:"store-map-link",children:[c.jsx(Kh,{className:"w-4 h-4"}),"Ver en Google Maps"]})]},"tienda-info")}),c.jsx(J.button,{onClick:de,disabled:pe,className:`save-btn ${pe?"loading":""}`,whileHover:{scale:pe?1:1.02},whileTap:{scale:pe?1:.98},children:pe?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("span",{children:"Guardando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(kl,{className:"w-5 h-5"}),c.jsx("span",{children:h==="tienda"?"Seleccionar Playcenter":P?"Actualizar direccin":"Guardar direccin"})]})})]}),c.jsxs("div",{className:"saved-addresses",children:[c.jsx("h4",{className:"saved-title",children:"Direcciones guardadas"}),x?c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("span",{children:"Cargando direcciones..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs(J.div,{className:"address-card store-card",whileHover:{scale:1.01},whileTap:{scale:.99},children:[c.jsxs("div",{className:"address-info",children:[c.jsxs("div",{className:"address-header",children:[c.jsx(l0,{className:"w-5 h-5 text-orange-500"}),c.jsx("span",{className:"address-type",children:"Recoger en tienda"})]}),c.jsx("p",{className:"address-name",children:"Playcenter Universal"}),c.jsx("p",{className:"address-details",children:ps.direccionCompleta}),c.jsxs("a",{href:ps.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[c.jsx(Kh,{className:"w-4 h-4"}),"Ver ubicacin"]})]}),c.jsxs("button",{onClick:()=>Ue(ps),className:"address-select-btn store-select",children:[c.jsx(kl,{className:"w-4 h-4"}),"Seleccionar"]})]}),c.jsx(pn,{children:xe.length===0?c.jsxs(J.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsx(_u,{className:"w-12 h-12 text-gray-300"}),c.jsx("p",{className:"empty-text",children:"No tienes direcciones guardadas"}),c.jsx("p",{className:"empty-subtext",children:"Agrega una direccin para entregas futuras"})]}):c.jsx("div",{className:"addresses-list",children:xe.map((ee,ye)=>c.jsxs(J.div,{className:"address-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:ye*.1},whileHover:{scale:1.01},children:[c.jsxs("div",{className:"address-info",children:[c.jsxs("div",{className:"address-header",children:[c.jsx(_u,{className:"w-5 h-5 text-blue-500"}),c.jsx("span",{className:"address-type",children:"Domicilio"})]}),c.jsx("p",{className:"address-details",children:ee.direccionCompleta}),ee.ubicacion&&c.jsxs("a",{href:ee.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[c.jsx(Kh,{className:"w-4 h-4"}),"Ver ubicacin"]})]}),c.jsxs("div",{className:"address-actions",children:[c.jsx("button",{onClick:()=>mr(ee),className:"address-action-btn edit-btn","aria-label":"Editar direccin",children:c.jsx(HN,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>Ue(ee),className:"address-action-btn select-btn","aria-label":"Seleccionar direccin",children:c.jsx(kl,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>Bt(ee.id),className:"address-action-btn delete-btn","aria-label":"Eliminar direccin",children:c.jsx(WN,{className:"w-4 h-4"})})]})]},ee.id))})})]})]})]})}),c.jsx(pn,{children:Ae&&c.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:c.jsxs("div",{className:"loaderInner",children:[c.jsx("div",{className:"loader",children:c.jsxs("div",{className:"truckWrapper",children:[c.jsx("div",{className:"truckBody",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 198 93",className:"trucksvg",children:[c.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#F83D3D",d:"M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z"}),c.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#7D7C7C",d:"M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z"}),c.jsx("path",{strokeWidth:"2",stroke:"#282828",fill:"#282828",d:"M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z"}),c.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#FFFCAB",rx:"1",height:"7",width:"5",y:"63",x:"187"}),c.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#282828",rx:"1",height:"11",width:"4",y:"81",x:"193"}),c.jsx("rect",{strokeWidth:"3",stroke:"#282828",fill:"#DFDFDF",rx:"2.5",height:"90",width:"121",y:"1.5",x:"6.5"}),c.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#DFDFDF",rx:"2",height:"4",width:"6",y:"84",x:"1"})]})}),c.jsxs("div",{className:"truckTires",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[c.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),c.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]}),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[c.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),c.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]})]}),c.jsx("div",{className:"road"}),c.jsx("svg",{xmlSpace:"preserve",viewBox:"0 0 453.459 453.459",xmlns:"http://www.w3.org/2000/svg",className:"lampPost",fill:"#000000",children:c.jsx("path",{d:`M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993
c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514
c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16
c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914
h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75
v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795
V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z
M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017
h78.747C231.693,100.736,232.77,106.162,232.77,111.694z`})})]})}),c.jsx("div",{className:"loaderText",children:"Direccin seleccionada!"})]})})}),c.jsx(pn,{children:ne&&c.jsx(J.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:c.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[c.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"Eliminar direccin?"}),c.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"Ests seguro que quieres eliminar esta direccin? Esta accin no se puede deshacer."}),c.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[c.jsx("button",{onClick:wt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ee=>ee.target.style.backgroundColor="#f9fafb",onMouseOut:ee=>ee.target.style.backgroundColor="white",children:"Cancelar"}),c.jsx("button",{onClick:yn,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ee=>ee.target.style.backgroundColor="#dc2626",onMouseOut:ee=>ee.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),Ae&&c.jsxs("div",{className:"truck-loader-overlay",children:[c.jsxs("div",{className:"spinner",children:[c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{})]}),c.jsx("div",{className:"truck-loader-text",children:"Procesando entrega..."})]}),c.jsx(UF,{abierto:je,onClose:()=>Ne(!1),onPick:ee=>A(ee),valorActual:C})]}),document.body)}const c0={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, Repblica Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"},BF=(t="")=>String(t||"").trim()?String(t).trim().charAt(0).toUpperCase():"?",$F=(t="")=>{let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e),e=e&e;const n=e>>0&255,r=e>>8&255,i=e>>16&255;return`#${[n,r,i].map(a=>a.toString(16).padStart(2,"0")).join("")}`},zF=(t="",e=512)=>{const n=BF(t),r=$F(t||n),i=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${e}' viewBox='0 0 ${e} ${e}'>
    <rect width='100%' height='100%' fill='${r}' rx='${Math.floor(e*.12)}' />
    <text x='50%' y='50%' dy='.04em' font-family='Inter, system-ui, Arial' font-size='${Math.floor(e*.42)}' fill='#fff' text-anchor='middle' alignment-baseline='middle'>${n}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(i)}`},HF={hidden:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:.36,ease:[.2,.8,.2,1]}},exit:{opacity:0,y:-8,transition:{duration:.25}}},Eu={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.26}}};function WF({historial:t}){var m;const[e,n]=k.useState(null),[r,i]=k.useState("all");if(!(t!=null&&t.length))return c.jsxs(J.div,{variants:Eu,className:"empty-state-beautiful",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsxs("div",{className:"empty-illustration",children:[c.jsx(J.div,{className:"empty-icon",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:c.jsx(uE,{className:"w-12 h-12 text-gray-400"})}),c.jsx(J.div,{className:"empty-sparkles",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:""})]}),c.jsx(J.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Tu historial est esperando!"}),c.jsx(J.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Cuando realices tu primera compra, aparecer aqu como por arte de magia."}),c.jsx(J.div,{className:"empty-cta",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},children:c.jsx("button",{className:"btn-beautiful-primary",children:"Explorar productos"})})]});const a=g=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(g||0),l=g=>{if(!g)return"Fecha no disponible";let y;return typeof g=="object"&&g.seconds?y=new Date(g.seconds*1e3):y=new Date(g),y.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},d=g=>{switch(g){case"completado":return{color:"status-completed",icon:"",text:"Completado",gradient:"linear-gradient(135deg, #10b981, #059669)"};case"cancelado":return{color:"status-cancelled",icon:"",text:"Cancelado",gradient:"linear-gradient(135deg, #ef4444, #dc2626)"};case"pendiente":return{color:"status-pending",icon:"",text:"Pendiente",gradient:"linear-gradient(135deg, #f59e0b, #d97706)"};default:return{color:"status-pending",icon:"",text:"Pendiente",gradient:"linear-gradient(135deg, #f59e0b, #d97706)"}}},h=t;return c.jsxs(c.Fragment,{children:[c.jsx(J.div,{variants:Eu,className:"orders-container-beautiful",layout:!0,children:c.jsx(pn,{children:h.map((g,y)=>{var S,P;const x=d(g.estado);return c.jsxs(J.div,{className:"order-card-beautiful",onClick:()=>n(g),initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,delay:y*.1,type:"spring",stiffness:100},whileHover:{scale:1.02,y:-5,boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},whileTap:{scale:.98},layout:!0,children:[c.jsx("div",{className:"order-card-glow",style:{background:x.gradient}}),c.jsxs("div",{className:"order-header-beautiful",children:[c.jsxs("div",{className:"order-info-beautiful",children:[c.jsx(J.h4,{className:"order-number-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:g.numeroOrden||`Orden #${g.id.slice(-8)}`}),c.jsx(J.p,{className:"order-date-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:l(g.fecha)})]}),c.jsxs("div",{className:"order-status-beautiful",children:[c.jsxs(J.div,{className:`status-badge-beautiful ${x.color}`,style:{background:x.gradient},whileHover:{scale:1.1},initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},children:[c.jsx("span",{className:"status-icon",children:x.icon}),c.jsx("span",{className:"status-text",children:x.text})]}),c.jsx(J.div,{className:"order-total-beautiful",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:a(g.total)})]})]}),c.jsxs(J.div,{className:"order-products-preview-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[c.jsx("div",{className:"products-grid",children:(S=g.productos)==null?void 0:S.slice(0,3).map((_,C)=>c.jsxs(J.div,{className:"product-preview-beautiful",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+C*.1},whileHover:{scale:1.05},children:[c.jsx("div",{className:"product-image-placeholder",children:c.jsx(dE,{className:"w-8 h-8 text-blue-500"})}),c.jsxs("div",{className:"product-preview-info-beautiful",children:[c.jsx("span",{className:"product-name-beautiful",children:_.nombre}),c.jsxs("span",{className:"product-details-beautiful",children:[_.cantidad,"x "," ",a(_.precio)]}),c.jsx("button",{onClick:A=>{A.stopPropagation(),window.location.href=`/producto/${_.id}`},className:"ver-producto-btn-small",title:"Ver producto",children:c.jsx(iF,{className:"w-3 h-3"})})]})]},C))}),((P=g.productos)==null?void 0:P.length)>3&&c.jsxs(J.div,{className:"more-products-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},whileHover:{scale:1.1},children:[c.jsxs("span",{className:"more-count",children:["+",g.productos.length-3]}),c.jsx("span",{className:"more-text",children:"ms productos"})]})]}),c.jsx(J.div,{className:"order-card-footer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:c.jsxs("div",{className:"view-details-hint",children:[c.jsx("span",{children:"Toca para ver detalles"}),c.jsx(J.span,{className:"arrow-icon",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:""})]})})]},g.id)})})}),c.jsx(pn,{children:e&&c.jsx(J.div,{className:"order-modal-overlay-beautiful",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:c.jsxs(J.div,{className:"order-modal-beautiful",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},onClick:g=>g.stopPropagation(),transition:{type:"spring",damping:25,stiffness:300},children:[c.jsxs(J.div,{className:"modal-header-beautiful",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[c.jsxs("div",{className:"modal-title-section",children:[c.jsx("h3",{className:"modal-title",children:e.numeroOrden||`Orden #${e.id.slice(-8)}`}),c.jsx("div",{className:"modal-subtitle",children:"Detalles de tu compra"})]}),c.jsx(J.button,{className:"close-modal-beautiful",onClick:()=>n(null),whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:""})]}),c.jsxs(J.div,{className:"modal-content-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[c.jsx("div",{className:"order-summary-beautiful",children:c.jsxs("div",{className:"summary-card",children:[c.jsxs("div",{className:"summary-item",children:[c.jsxs("span",{className:"summary-label flex items-center gap-2",children:[c.jsx(B7,{className:"w-4 h-4"}),"Fecha"]}),c.jsx("span",{className:"summary-value",children:l(e.fecha)})]}),c.jsxs("div",{className:"summary-item",children:[c.jsxs("span",{className:"summary-label flex items-center gap-2",children:[c.jsx(uE,{className:"w-4 h-4"}),"Estado"]}),c.jsxs("span",{className:`summary-status ${d(e.estado).color}`,children:[d(e.estado).icon," ",d(e.estado).text]})]}),c.jsxs("div",{className:"summary-item",children:[c.jsxs("span",{className:"summary-label flex items-center gap-2",children:[c.jsx(eF,{className:"w-4 h-4"}),"Total"]}),c.jsx("span",{className:"summary-total",children:a(e.total)})]})]})}),c.jsxs(J.div,{className:"products-list-beautiful",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[c.jsx("h4",{className:"products-title",children:" Productos comprados"}),c.jsx("div",{className:"products-grid-modal",children:(m=e.productos)==null?void 0:m.map((g,y)=>c.jsxs(J.div,{className:"product-item-beautiful",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+y*.1},whileHover:{scale:1.02,backgroundColor:"#f8fafc"},children:[c.jsx("div",{className:"product-image-modal",children:c.jsx(dE,{className:"w-6 h-6 text-blue-500"})}),c.jsxs("div",{className:"product-info-modal",children:[c.jsx("span",{className:"product-name-modal",children:g.nombre}),c.jsxs("span",{className:"product-details-modal",children:[g.cantidad," "," ",a(g.precio)]})]}),c.jsxs("div",{className:"product-actions-beautiful",children:[c.jsx("div",{className:"product-subtotal-beautiful",children:a(g.cantidad*g.precio)}),c.jsxs("button",{onClick:x=>{x.stopPropagation(),window.location.href=`/producto/${g.id}`},className:"ver-producto-btn",title:"Ver producto",children:[c.jsx(oF,{className:"w-4 h-4"}),"Ver producto"]})]})]},y))})]})]})]})})})]})}function Qh({name:t}){const e={perfil:c.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),historial:c.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[c.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7L21 7"}),c.jsx("path",{d:"M12 7v6l4 2"})]}),direcciones:c.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[c.jsx("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),logout:c.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("path",{d:"M16 17l5-5-5-5"}),c.jsx("path",{d:"M21 12H9"})]})};return c.jsx("span",{className:"icon",children:e[t]})}function qF({visible:t,text:e="Cargando..."}){return t?c.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:c.jsxs("div",{className:"loaderInner",children:[c.jsx("div",{className:"loader",children:c.jsxs("div",{className:"spinner",children:[c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{}),c.jsx("div",{})]})}),c.jsx("p",{className:"loaderText",children:e})]})}):null}function mE({abierto:t,titulo:e,descripcion:n,onCancel:r,onConfirm:i,dangerText:a="Confirmar"}){return t?c.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:c.jsxs(J.div,{className:"modal-card card",initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},children:[c.jsx("h3",{id:"modal-title",className:"modal-title",children:e}),c.jsx("p",{className:"modal-desc",children:n}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"btn btn-ghost",onClick:r,children:"Cancelar"}),c.jsx("button",{className:"btn btn-danger",onClick:i,children:a})]})]})}):null}function GF(){const{usuario:t,usuarioInfo:e,actualizarUsuarioInfo:n,logout:r}=Ar(),i=pr(),[a,l]=k.useState("perfil"),[d,h]=k.useState(!1),[m,g]=k.useState(!1),[y,x]=k.useState({text:"",tipo:""}),[S,P]=k.useState({nombre:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",telefono:"",direccion:"",fotoURL:(t==null?void 0:t.photoURL)||""}),[_,C]=k.useState(null),[A,L]=k.useState(null),[V,B]=k.useState([]),[q,X]=k.useState([]),[R,j]=k.useState(!1),[D,E]=k.useState(null),[O,U]=k.useState(!1),[M,pe]=k.useState(!1),[Me,Ae]=k.useState(!1),[Se,ne]=k.useState(!1),[ge,ue]=k.useState(null);k.useEffect(()=>{P(e?de=>({...de,telefono:e.telefono||"",direccion:e.direccion||"",fotoURL:e.fotoURL||(t==null?void 0:t.photoURL)||""}):de=>({...de,fotoURL:(t==null?void 0:t.photoURL)||""}))},[e,t==null?void 0:t.photoURL]),k.useEffect(()=>{t&&(z(),W())},[t]);const z=async()=>{try{const de=To(mi(tt,"orders"),Ou("userId","==",t.uid)),Ue=await Lu(de);B(Ue.docs.map(Ye=>({id:Ye.id,...Ye.data()})))}catch(de){console.error("fetchHistorial:",de)}},W=async()=>{try{const de=To(mi(tt,"direcciones"),Ou("usuarioId","==",t.uid)),Ue=await Lu(de);X(Ue.docs.map(Ye=>({id:Ye.id,...Ye.data()})))}catch(de){console.error("fetchDirecciones:",de)}},fe=k.useMemo(()=>{if(A)return A;if(S.fotoURL)return S.fotoURL;const de=S.nombre||S.email||(t==null?void 0:t.email)||"U";return zF(de,512)},[A,S.fotoURL,S.nombre,S.email,t==null?void 0:t.email]),je=k.useMemo(()=>{if(S.nombre&&S.nombre.trim())return S.nombre;const Ue=(S.email||(t==null?void 0:t.email)||"").split("@")[0]||"Usuario";return Ue.charAt(0).toUpperCase()+Ue.slice(1)},[S.nombre,S.email,t==null?void 0:t.email]),Ne=(de,Ue="info",Ye=3500)=>{x({text:de,tipo:Ue}),Ye&&setTimeout(()=>x({text:"",tipo:""}),Ye)},ze=async()=>{try{pe(!1),await r(),i("/")}catch(de){console.error("logout:",de),Ne("Error cerrando sesin.","error",5e3)}},qe=de=>P(Ue=>({...Ue,[de.target.name]:de.target.value})),Le=de=>{var Bt;const Ue=(Bt=de.target.files)==null?void 0:Bt[0];if(!Ue)return;C(Ue);const Ye=URL.createObjectURL(Ue);L(Ye)},Ie=()=>{A&&URL.revokeObjectURL(A),C(null),L(null)},nt=async()=>{if(!_)return Ne("Selecciona una imagen primero.","error");g(!0);try{const de=await FF(_);await n({fotoURL:de}),await Ul(t,{photoURL:de}),P(Ue=>({...Ue,fotoURL:de})),Ie(),Ne("Foto actualizada.","success")}catch(de){console.error("uploadLocalImage:",de),Ne("Error subiendo imagen.","error",5e3)}finally{g(!1)}},Nt=async()=>{g(!0);try{await n({telefono:S.telefono,direccion:S.direccion,displayName:S.nombre});const de={telefono:S.telefono,direccion:S.direccion,displayName:S.nombre,updatedAt:new Date};try{await Pr(Pt(tt,"users",t.uid),de,{merge:!0})}catch(Ye){console.warn("No se pudo escribir users/{uid}:",Ye)}try{await Pr(Pt(tt,"usuarios",t.uid),de,{merge:!0})}catch(Ye){console.warn("No se pudo escribir usuarios/{uid}:",Ye)}const Ue={};t.displayName!==S.nombre&&(Ue.displayName=S.nombre),Object.keys(Ue).length&&await Ul(t,Ue),h(!1),Ne("Perfil guardado.","success")}catch(de){console.error("Error guardando perfil:",de),Ne("Error guardando perfil.","error")}finally{g(!1)}},Mt=async()=>{g(!0);try{await Ul(t,{photoURL:""}),await n({fotoURL:""}),P(de=>({...de,fotoURL:""})),Ie(),Ne("Imagen de perfil removida.","success")}catch(de){console.error("confirmRemoveImage:",de),Ne("Error removiendo imagen.","error")}finally{g(!1),U(!1)}},ft=async de=>{try{const Ue=typeof de=="string"?de:(de==null?void 0:de.direccionCompleta)||"",Ye=de&&de.metodoEntrega?de.metodoEntrega:"domicilio";Ae(!0),await n({direccion:Ue,metodoEntrega:Ye});const Bt={direccion:Ue,metodoEntrega:Ye,updatedAt:new Date};try{await Pr(Pt(tt,"users",t.uid),Bt,{merge:!0})}catch(wt){console.warn("No se pudo escribir users/{uid}:",wt)}try{await Pr(Pt(tt,"usuarios",t.uid),Bt,{merge:!0})}catch(wt){console.warn("No se pudo escribir usuarios/{uid}:",wt)}try{let wt=await uo(Pt(tt,"users",t.uid));if(wt.exists()||(wt=await uo(Pt(tt,"usuarios",t.uid))),wt&&wt.exists()){const yn=wt.data()||{};await n({direccion:yn.direccion||Ue,metodoEntrega:yn.metodoEntrega||Ye})}}catch(wt){console.warn("No se pudo releer documento de usuario:",wt)}R&&j(!1),await W(),P(wt=>({...wt,direccion:Ue})),Ne("Direccin seleccionada y guardada.","success"),window.location.reload()}catch(Ue){console.error("handleSeleccionarDireccion error:",Ue),Ae(!1),Ne("Error seleccionando direccin.","error",5e3)}},Vt=async de=>{try{if(await MP(Pt(tt,"direcciones",de)),t!=null&&t.direccion){const Ue=direccionesUsuario.find(Ye=>Ye.id===de);Ue&&t.direccion===Ue.direccionCompleta&&(await n({direccion:"",metodoEntrega:"",selectedDeliveryMethod:""}),setTimeout(()=>{window.location.reload()},1e3))}await W(),Ne("Direccin eliminada correctamente.","success")}catch(Ue){console.error("eliminarDireccion:",Ue),Ne("Error eliminando direccin.","error")}},gn=de=>{ue(de),ne(!0)},Hn=()=>{ne(!1),ue(null)},mt=()=>{ge&&(Vt(ge),ne(!1),ue(null))};return!t||!e?c.jsx("main",{className:"min-h-screen flex items-start justify-center bg-slate-50 pt-28",children:c.jsx("p",{className:"text-lg animate-pulse",children:"Cargando perfil..."})}):c.jsxs(J.main,{className:"profile-page",variants:HF,initial:"hidden",animate:"enter",exit:"exit",children:[c.jsx("div",{className:"navigation-container",children:c.jsxs("nav",{className:"profile-dock","aria-label":"Navegacin de perfil",children:[c.jsxs("button",{className:`dock-btn ${a==="perfil"?"active":""}`,onClick:()=>l("perfil"),"aria-label":"Perfil",children:[c.jsx(Qh,{name:"perfil",className:"dock-icon-bold"}),c.jsx("span",{children:"Perfil"})]}),c.jsxs("button",{className:`dock-btn ${a==="historial"?"active":""}`,onClick:()=>l("historial"),"aria-label":"Historial de rdenes",children:[c.jsx(Qh,{name:"historial",className:"dock-icon-bold"}),c.jsx("span",{children:"Historial"})]}),c.jsxs("button",{className:`dock-btn ${a==="direcciones"?"active":""}`,onClick:()=>l("direcciones"),"aria-label":"Direcciones de entrega",children:[c.jsx(Qh,{name:"direcciones",className:"dock-icon-bold"}),c.jsx("span",{children:"Direcciones"})]}),c.jsxs("button",{className:"dock-btn danger",onClick:()=>pe(!0),"aria-label":"Cerrar sesin",children:[c.jsx(Qh,{name:"logout",className:"dock-icon-bold"}),c.jsx("span",{children:"Salir"})]})]})}),c.jsx("main",{className:"main-content",children:c.jsx("div",{className:"main-card",children:c.jsxs(pn,{mode:"wait",children:[a==="perfil"&&c.jsxs(J.section,{variants:Eu,initial:"hidden",animate:"show",exit:"hidden",children:[c.jsxs("div",{className:"profile-header big",children:[c.jsx("div",{className:"avatar-block large",children:c.jsx("img",{src:fe,alt:"Avatar",className:"avatar-img"})}),c.jsxs("div",{className:"profile-meta big",children:[c.jsx("h1",{className:"profile-name",children:je}),c.jsx("p",{className:"profile-email",children:S.email}),c.jsxs("p",{className:"muted small",children:["UID: ",c.jsx("span",{className:"mono",children:t.uid})]}),c.jsxs("div",{className:"profile-actions",children:[c.jsxs("label",{className:"btn btn-primary upload-btn",children:["Subir foto",c.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Le,className:"hidden","aria-label":"Subir foto"})]}),c.jsx("button",{className:"btn btn-ghost",onClick:()=>U(!0),children:"Quitar"}),A&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-success",onClick:nt,disabled:m,children:"Guardar foto"}),c.jsx("button",{className:"btn btn-outline",onClick:Ie,children:"Cancelar"})]})]})]})]}),c.jsxs("div",{className:"form-grid big",children:[c.jsxs("div",{className:"form-row",children:[c.jsx("label",{children:"Nombre"}),c.jsx("input",{name:"nombre",value:S.nombre,onChange:qe,disabled:!d})]}),c.jsxs("div",{className:"form-row",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{name:"email",value:S.email,disabled:!0})]}),c.jsxs("div",{className:"form-row",children:[c.jsx("label",{children:"Telfono"}),c.jsx("input",{name:"telefono",value:S.telefono,onChange:qe,disabled:!d})]}),c.jsxs("div",{className:"form-row full",children:[c.jsx("label",{children:"Direccin completa"}),c.jsx("textarea",{name:"direccion",value:S.direccion,onChange:qe,disabled:!d,rows:4}),c.jsx("p",{className:"muted hint",children:'Pulsa "Editar" para modificar.'})]}),c.jsx("div",{className:"form-actions",children:d?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:Nt,className:"btn btn-success",disabled:m,children:"Guardar"}),c.jsx("button",{onClick:()=>{h(!1),Ie()},className:"btn btn-ghost",children:"Cancelar"})]}):c.jsx("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Editar perfil"})})]})]},"perfil"),a==="historial"&&c.jsxs(J.section,{variants:Eu,initial:"hidden",animate:"show",exit:"hidden",children:[c.jsx("h2",{className:"section-title large",children:"Historial de compras"}),c.jsx(WF,{historial:V})]},"historial"),a==="direcciones"&&c.jsxs(J.section,{variants:Eu,initial:"hidden",animate:"show",exit:"hidden",children:[c.jsxs("div",{className:"direcciones-head",children:[c.jsx("h2",{className:"section-title large",children:"Direcciones"}),c.jsx("div",{children:c.jsx("button",{className:"btn btn-primary",onClick:()=>{E(null),j(!0)},children:"Aadir direccin"})})]}),c.jsxs("div",{className:"cards-list",children:[c.jsxs("div",{className:"address-card large",children:[c.jsxs("div",{className:"address-content",children:[c.jsx("div",{className:"address-title",children:"Recoger en: Playcenter Universal Santiago"}),c.jsx("div",{className:"muted break-words",children:c0.direccionCompleta}),c.jsx("a",{href:c0.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),c.jsx("div",{className:"address-actions",children:c.jsx("button",{onClick:()=>ft(c0),className:"btn btn-success",children:"Seleccionar"})})]}),q.length===0?c.jsx("div",{className:"empty",children:"No tienes direcciones guardadas."}):q.map(de=>c.jsxs("div",{className:"address-card large",children:[c.jsxs("div",{className:"address-content",children:[c.jsx("div",{className:"address-title break-words",children:de.direccionCompleta||`${de.numeroCalle||""} ${de.numeroCasa?"Casa "+de.numeroCasa:""}, ${de.ciudad||""}, ${de.provincia||""}`}),c.jsxs("div",{className:"muted",children:["Mtodo: ",de.metodoEntrega||"domicilio"]}),de.referencia&&c.jsxs("div",{className:"muted",children:["Ref: ",de.referencia]}),de.ubicacion&&c.jsx("a",{href:de.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),c.jsxs("div",{className:"address-actions",children:[c.jsx("button",{onClick:()=>{E(de),j(!0)},className:"address-action-btn edit-btn","aria-label":"Editar direccin",children:c.jsx(HN,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>ft(de),className:"address-action-btn select-btn","aria-label":"Seleccionar direccin",children:c.jsx(kl,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>gn(de.id),className:"address-action-btn delete-btn","aria-label":"Eliminar direccin",children:c.jsx(WN,{className:"w-4 h-4"})})]})]},de.id))]}),R&&c.jsx(GN,{abierto:R,onClose:async()=>{j(!1),E(null),await W()},usuarioId:t.uid,direccionEditar:D,actualizarLista:W})]},"direcciones")]})})}),c.jsx(mE,{abierto:O,titulo:"Quitar imagen de perfil",descripcion:"Se quitar la URL de tu perfil (no borra el archivo en Cloudinary).",onCancel:()=>U(!1),onConfirm:Mt,dangerText:"Quitar imagen"}),c.jsx(mE,{abierto:M,titulo:"Cerrar sesin",descripcion:"Ests seguro que quieres cerrar sesin?",onCancel:()=>pe(!1),onConfirm:ze,dangerText:"Cerrar sesin"}),c.jsx(qF,{visible:Me,text:"Guardando..."}),c.jsx(pn,{children:Se&&c.jsx(J.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:c.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[c.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"Eliminar direccin?"}),c.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"Ests seguro que quieres eliminar esta direccin? Esta accin no se puede deshacer."}),c.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[c.jsx("button",{onClick:Hn,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#f9fafb",onMouseOut:de=>de.target.style.backgroundColor="white",children:"Cancelar"}),c.jsx("button",{onClick:mt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#dc2626",onMouseOut:de=>de.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),y.text&&c.jsx(J.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`toast ${y.tipo==="success"?"toast-success":y.tipo==="error"?"toast-error":"toast-info"}`,children:y.text})]})}function KF({imagenes:t,onImageClick:e}){const[n,r]=k.useState(0),[i,a]=k.useState(!1),[l,d]=k.useState(!1),[h,m]=k.useState({x:50,y:50}),[g,y]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>{const C=()=>{y(window.innerWidth<=768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const S=C=>{const A=x.current.getBoundingClientRect(),L=(C.clientX-A.left)/A.width*100,V=(C.clientY-A.top)/A.height*100;m({x:L,y:V})},P=()=>d(!0),_=()=>d(!1);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"w-full flex flex-col lg:flex-col gap-6 relative",children:[c.jsxs("div",{className:"relative w-full",ref:x,onClick:()=>{e?e(n):g&&a(!0)},onMouseMove:g?null:S,onMouseEnter:g?null:P,onMouseLeave:g?null:_,children:[c.jsx("div",{className:"overflow-hidden rounded-xl shadow-md bg-gray-100 cursor-zoom-in",children:c.jsx("img",{src:t[n],alt:`Imagen ${n+1}`,className:"w-full h-[400px] object-contain"})}),!g&&l&&c.jsx("div",{className:"absolute top-0 left-full ml-4 w-[500px] h-[500px] border rounded-xl overflow-hidden shadow-lg z-50 bg-white hidden lg:block",children:c.jsx("div",{className:"w-full h-full bg-no-repeat bg-center bg-contain",style:{backgroundImage:`url(${t[n]})`,backgroundPosition:`${h.x}% ${h.y}%`,backgroundSize:"200%"}})})]}),c.jsx("div",{className:"overflow-x-auto mt-4",children:c.jsx("div",{className:"flex gap-3 justify-start w-max px-1",children:t.map((C,A)=>c.jsx(J.img,{src:C,alt:`Miniatura ${A+1}`,className:`w-16 h-16 object-contain rounded cursor-pointer border-2 ${A===n?"border-pink-500":"border-transparent"}`,onClick:()=>r(A),whileHover:{scale:1.1},transition:{type:"spring",stiffness:300}},C))})})]}),c.jsx(pn,{children:i&&c.jsx(J.div,{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),children:c.jsx(J.img,{src:t[n],alt:"Imagen ampliada",className:"max-w-full max-h-full object-contain",initial:{scale:.8},animate:{scale:1},exit:{scale:.8}})})})]})}const KN=k.createContext(),QF=({children:t})=>{const[e,n]=k.useState(()=>{const x=localStorage.getItem("carrito");return x?JSON.parse(x):[]}),[r,i]=k.useState(()=>{const x=localStorage.getItem("favoritos");return x?JSON.parse(x):[]});k.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),k.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(r))},[r]);const a=x=>{n(S=>{var C,A;const P=S.find(L=>L.id===x.id),_=x.cantidad??((A=(C=x.variantes)==null?void 0:C[0])==null?void 0:A.cantidad)??1/0;return P?P.cantidad<_?S.map(L=>L.id===x.id?{...L,cantidad:L.cantidad+1}:L):S:_>0?[...S,{...x,cantidad:1}]:S})},l=x=>{n(S=>S.map(P=>P.id===x?{...P,cantidad:P.cantidad-1}:P).filter(P=>P.cantidad>0))},d=x=>{n(S=>S.filter(P=>P.id!==x))},h=x=>{n(S=>S.find(_=>_.id===x.id)?S.filter(_=>_.id!==x.id):[...S,{...x,cantidad:1}])},m=x=>{i(S=>S.find(P=>P.id===x.id)?S:[...S,x])},g=x=>{i(S=>S.filter(P=>P.id!==x))},y=()=>{n([])};return c.jsx(KN.Provider,{value:{carrito:e,favoritos:r,agregarAlCarrito:a,eliminarUnidadDelCarrito:l,quitarDelCarrito:d,toggleCarrito:h,agregarAFavoritos:m,eliminarDeFavoritos:g,vaciarCarrito:y},children:t})},gd=()=>k.useContext(KN);function XF({productoActual:t,productosPorCategoria:e,onProductoClick:n}){var h;const r=e.flatMap(m=>m.productos.map(g=>{var y;return{...g,categoria:(y=m.categoria)==null?void 0:y.trim().toLowerCase()}})),i=(h=t.categoria)==null?void 0:h.trim().toLowerCase(),a=r.filter(m=>m.id!==t.id&&m.categoria===i&&i!=="todos los productos").slice(0,1e3),l=k.useRef(null),d=m=>{const g=l.current;if(g&&g.firstChild){const y=g.firstChild.offsetWidth,S=m*(y+24);g.scrollBy({left:S,behavior:"smooth"})}};return c.jsx("section",{className:"w-full pt-6 pb-12 bg-white border-t border-gray-200 mt-6 overflow-visible",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-[#232f3e] mb-4 pl-1 tracking-tight",children:"Productos relacionados"}),c.jsxs("div",{className:"relative overflow-visible",children:[c.jsx("button",{className:"hidden lg:flex absolute top-1/2 -left-6 z-20 -translate-y-1/2 bg-white border border-gray-300 rounded-full shadow-lg p-3 hover:bg-gray-100 transition",onClick:()=>d(-1),"aria-label":"Anterior",children:c.jsx(v7,{size:22,className:"text-[#232f3e]"})}),c.jsx("div",{ref:l,className:"flex gap-6 overflow-x-auto overflow-y-visible pb-4 px-1 scroll-smooth snap-x snap-mandatory scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{minHeight:"280px"},children:a.length>0?a.map(m=>{var g;return c.jsxs(J.div,{whileHover:{scale:1.03,y:-4,boxShadow:"0 8px 20px rgba(0,0,0,0.15)",zIndex:20,position:"relative"},transition:{type:"spring",stiffness:260,damping:20},className:"flex flex-col min-w-[160px] max-w-[200px] w-[60vw] sm:w-[200px] md:w-[220px] lg:w-[240px] bg-white rounded-2xl border border-gray-200 shadow-md cursor-pointer snap-start overflow-visible",onClick:()=>n?n(m.id):window.location.assign(`/producto/${m.id}`),children:[c.jsx("div",{className:"relative w-full h-[140px] sm:h-[160px] bg-gray-50 flex items-center justify-center p-2 overflow-visible",children:c.jsx("img",{src:m.imagen||((g=m.imagenes)==null?void 0:g[0]),alt:m.nombre,className:"max-w-full max-h-full object-contain"})}),c.jsxs("div",{className:"flex flex-col px-3 pt-2 pb-4 flex-1",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-3 min-h-[36px]",children:m.nombre}),c.jsxs("button",{className:"button whitespace-nowrap px-3 py-1.5 text-xs font-semibold self-start",tabIndex:-1,children:["Ver producto",c.jsx("svg",{className:"icon w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:`M12 2.25c-5.385 0-9.75 4.365-9.75 
                          9.75s4.365 9.75 9.75 9.75 9.75-4.365 
                          9.75-9.75S17.385 2.25 12 2.25zm4.28 
                          10.28a.75.75 0 000-1.06l-3-3a.75.75 
                          0 10-1.06 1.06l1.72 1.72H8.25a.75.75 
                          0 000 1.5h5.69l-1.72 1.72a.75.75 0 
                          101.06 1.06l3-3z`,clipRule:"evenodd"})})]})]})]},m.id)}):c.jsx("div",{className:"text-center text-gray-500 py-10 w-full",children:"No hay productos relacionados en esta categora."})}),c.jsx("button",{className:"hidden lg:flex absolute top-1/2 -right-6 z-20 -translate-y-1/2 bg-white border border-gray-300 rounded-full shadow-lg p-3 hover:bg-gray-100 transition",onClick:()=>d(1),"aria-label":"Siguiente",children:c.jsx(x7,{size:22,className:"text-[#232f3e]"})})]})]})})}const YF="https://playcenter-universal.onrender.com";function vy({className:t,total:e,label:n}){const[r,i]=k.useState(null),a=async()=>{try{const l=document.querySelector(".pay-btn");l&&(l.disabled=!0,l.classList.add("loading"));const h=await(await fetch(`${YF}/cardnet/create-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total:e})})).json();if(!h.SESSION){alert(" No se pudo crear la sesin de pago"),l&&(l.disabled=!1,l.classList.remove("loading"));return}i(h.SESSION),document.getElementById("cardnetForm").submit()}catch{alert(" No se pudo conectar al backend");const d=document.querySelector(".pay-btn");d&&(d.disabled=!1,d.classList.remove("loading"))}};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:a,className:`pay-btn ${t||""}`,children:[c.jsx("span",{className:"btn-text",children:n||"Comprar ahora"}),c.jsxs("div",{className:"icon-container",children:[c.jsx("svg",{viewBox:"0 0 24 24",className:"icon card-icon",children:c.jsx("path",{d:"M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18C2,19.11 2.89,20 4,20H20C21.11,20 22,19.11 22,18V6C22,4.89 21.11,4 20,4Z",fill:"currentColor"})}),c.jsx("svg",{viewBox:"0 0 24 24",className:"icon payment-icon",children:c.jsx("path",{d:"M2,17H22V21H2V17M6.25,7H9V6H6V3H18V6H15V7H17.75L19,17H5L6.25,7M9,10H15V8H9V10M9,13H15V11H9V13Z",fill:"currentColor"})}),c.jsx("svg",{viewBox:"0 0 24 24",className:"icon dollar-icon",children:c.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z",fill:"currentColor"})}),c.jsx("svg",{viewBox:"0 0 24 24",className:"icon wallet-icon default-icon",children:c.jsx("path",{d:"M21,18V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V6H12C10.89,6 10,6.9 10,8V16A2,2 0 0,0 12,18M12,16H22V8H12M16,13.5A1.5,1.5 0 0,1 14.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,12A1.5,1.5 0 0,1 16,13.5Z",fill:"currentColor"})}),c.jsx("svg",{viewBox:"0 0 24 24",className:"icon check-icon",children:c.jsx("path",{d:"M9,16.17L4.83,12L3.41,13.41L9,19L21,7L19.59,5.59L9,16.17Z",fill:"currentColor"})})]})]}),r&&c.jsx("form",{id:"cardnetForm",action:"https://lab.cardnet.com.do/authorize",method:"post",children:c.jsx("input",{type:"hidden",name:"SESSION",value:r})})]})}function gE(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function yE(t,e,n){try{const r={mode:t,items:e,total:n,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(r))}catch{}}function JF(){var Se,ne,ge,ue,z;const{carrito:t,agregarAlCarrito:e,quitarDelCarrito:n,eliminarUnidadDelCarrito:r}=gd(),{usuario:i}=Ar(),{id:a}=Dy(),l=pr(),[d,h]=k.useState(!1),[m,g]=k.useState(null),[y,x]=k.useState(!1),[S,P]=k.useState(0);let _=null;for(const W of Mi){const fe=W.productos.find(je=>je.id===a);if(fe){_={...fe,categoria:W.categoria};break}}const C=()=>{window.history&&window.history.length>1?l(-1):l("/productos")};if(!_)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",children:c.jsx("p",{className:"text-center text-lg sm:text-xl font-semibold",children:"Producto no encontrado."})});const A=((Se=_.variantes)==null?void 0:Se.find(W=>W.color===m))||((ne=_.variantes)==null?void 0:ne[0]),L=t.find(W=>W.id===_.id),V=(L==null?void 0:L.cantidad)||0,B=()=>{if(!i){h(!0);return}L||e({..._,cantidad:1})},q=()=>{if(!i){h(!0);return}e(_)},X=()=>{if(!i){h(!0);return}r(_.id)},R=()=>{if(!i){h(!0);return}n(_.id)},j=(ge=_.variantes)==null?void 0:ge.filter(W=>W.color&&W.color.trim()!==""),D=(A==null?void 0:A.cantidad)===void 0||(A==null?void 0:A.cantidad)>0,E=Number(_.precio)||0,O=[{id:_.id,nombre:_.nombre,precio:E,cantidad:1}],U=_.imagenes||[_.imagen].filter(Boolean),M=W=>{P(W),x(!0)},pe=()=>{x(!1)},Me=()=>{P(W=>W===U.length-1?0:W+1)},Ae=()=>{P(W=>W===0?U.length-1:W-1)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"vp-mobile-topbar",children:[c.jsx("button",{className:"vp-icon-btn",onClick:C,"aria-label":"Volver",children:c.jsx(o0,{})}),c.jsx("div",{className:"vp-topbar-title",title:_.nombre,children:_.nombre}),c.jsx("button",{className:"vp-icon-btn",onClick:C,"aria-label":"Cerrar",children:c.jsx(oE,{})})]}),c.jsx("div",{className:"lg:hidden w-full px-4 pt-4 pb-2",children:c.jsx("button",{className:"vp-icon-btn",onClick:C,"aria-label":"Volver",children:c.jsx(o0,{size:16})})}),c.jsxs("main",{className:"min-h-screen bg-white px-3 sm:px-4 pb-16 pt-0 lg:pt-20 text-gray-800 flex flex-col items-center overflow-visible",children:[c.jsxs("section",{className:"max-w-7xl w-full flex flex-col lg:flex-row gap-8 lg:gap-12 overflow-visible",children:[c.jsxs(J.div,{className:"relative flex flex-col items-center w-full lg:w-1/2 overflow-visible",children:[c.jsx("button",{className:"vp-back-fab hidden lg:block",onClick:C,"aria-label":"Volver",children:c.jsx(o0,{size:16})}),c.jsx("div",{className:"absolute right-2 top-2 z-10"}),c.jsx("div",{className:"vp-gallery",children:c.jsx(KF,{imagenes:_.imagenes||[_.imagen],alt:_.nombre,onImageClick:M})}),j&&j.length>1&&c.jsx("div",{className:"vp-variants",children:j.map((W,fe)=>{const je=m?m===W.color:fe===0;return c.jsxs("button",{onClick:()=>g(W.color),className:`vp-variant-chip ${je?"is-active":""}`,children:[c.jsx("img",{src:W.imagen,alt:W.color,className:"vp-variant-thumb"}),c.jsx("span",{className:"vp-variant-label",children:W.color})]},fe)})})]}),c.jsxs(J.div,{className:"flex flex-col gap-4 sm:gap-5 w-full lg:w-1/2 overflow-visible",children:[c.jsx("h1",{className:"vp-title",children:_.nombre}),c.jsx("p",{className:"vp-desc",children:_.descripcion||"Contctanos para ms detalles."}),c.jsxs("p",{className:"vp-price",children:["DOP ",gE(E)]}),c.jsxs("div",{className:"lg:hidden flex flex-col gap-3 overflow-visible",children:[(A==null?void 0:A.cantidad)!==void 0&&c.jsx("div",{className:`vp-stock ${A.cantidad===0?"vp-stock-out":A.cantidad<=2?"vp-stock-low":"vp-stock-ok"}`,children:A.cantidad===0?"No disponible":`Quedan ${A.cantidad} disponibles`}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 overflow-visible",children:[L?c.jsxs("div",{className:"vp-qty-row w-full sm:w-1/2",children:[c.jsx("button",{onClick:X,className:"vp-qty-btn",children:""}),c.jsx("span",{className:"vp-qty",children:V}),c.jsx("button",{onClick:q,className:"vp-qty-btn",children:"+"}),c.jsx("button",{onClick:R,className:"vp-remove",children:c.jsx(aE,{})})]}):c.jsx("button",{className:"button w-full sm:w-1/2",onClick:B,disabled:!D,children:"Agregar al carrito"}),c.jsx("div",{className:"w-full sm:w-1/2",onClick:()=>yE("single",O,E),children:c.jsx(vy,{className:"w-full",total:E*100,label:"Comprar ahora"})})]})]}),_.acerca&&c.jsxs("div",{children:[c.jsx("h3",{className:"vp-subtitle",children:"Acerca de este artculo"}),c.jsx("ul",{className:"vp-bullets",children:_.acerca.map((W,fe)=>c.jsx("li",{children:W},fe))})]})]}),c.jsx("aside",{className:"vp-buy-card w-full lg:w-[360px] hidden lg:block",children:c.jsxs("div",{className:"vp-buy-inner",children:[c.jsxs("div",{className:"vp-buy-price",children:["DOP ",gE(E)]}),(A==null?void 0:A.cantidad)!==void 0&&c.jsx("div",{className:`vp-stock ${A.cantidad===0?"vp-stock-out":A.cantidad<=2?"vp-stock-low":"vp-stock-ok"}`,children:A.cantidad===0?"No disponible":`Quedan ${A.cantidad} disponibles`}),c.jsxs("div",{className:"flex flex-col gap-3",children:[L?c.jsxs("div",{className:"vp-qty-row",children:[c.jsx("button",{onClick:X,className:"vp-qty-btn",children:""}),c.jsx("span",{className:"vp-qty",children:V}),c.jsx("button",{onClick:q,className:"vp-qty-btn",children:"+"}),c.jsx("button",{onClick:R,className:"vp-remove",children:c.jsx(aE,{})})]}):c.jsx("button",{className:"button w-full",onClick:B,disabled:!D,children:"Agregar al carrito"}),c.jsx("div",{onClick:()=>yE("single",O,E),children:c.jsx(vy,{className:"w-full",total:E*100,label:"Comprar ahora"})})]})]})})]}),c.jsx("div",{className:"max-w-7xl w-full mt-10",children:c.jsx(XF,{productoActual:_,productosPorCategoria:Mi,onProductoClick:W=>l(`/producto/${W}`)})}),c.jsxs("section",{className:"max-w-7xl w-full mt-12 px-1 sm:px-2",children:[c.jsx("h2",{className:"vp-section-title",children:"Ms Informacin del Producto"}),((ue=_.videoUrls)==null?void 0:ue.length)>0?c.jsx("div",{className:"vp-video-carousel",children:_.videoUrls.map((W,fe)=>c.jsx("div",{className:"vp-video-card",children:c.jsx("video",{src:W,controls:!0,className:"vp-video",preload:"metadata"})},fe))}):_.videoUrl?c.jsx("div",{className:"vp-video-single",children:c.jsx("video",{src:_.videoUrl,controls:!0,className:"vp-video",preload:"metadata"})}):null,((z=_.imagenesExtra)==null?void 0:z.length)>0&&c.jsx("div",{className:"vp-extras-grid",children:_.imagenesExtra.slice(0,3).map((W,fe)=>c.jsx("img",{src:W,alt:`Vista extra ${fe+1}`,className:"vp-extra-img"},fe))})]})]}),c.jsx(md,{abierto:d,onCerrar:()=>h(!1)}),y&&c.jsx("div",{className:"imagen-modal-overlay",onClick:pe,children:c.jsxs("div",{className:"imagen-modal-container",children:[c.jsx("button",{className:"imagen-modal-close",onClick:pe,"aria-label":"Cerrar",children:c.jsx(oE,{size:24})}),c.jsx("div",{className:"imagen-modal-main",children:c.jsx("img",{src:U[S],alt:_.nombre,className:"imagen-modal-img",onClick:W=>W.stopPropagation()})}),U.length>1&&c.jsx("div",{className:"imagen-modal-thumbnails",children:U.map((W,fe)=>c.jsx("button",{className:`thumbnail-btn ${fe===S?"active":""}`,onClick:je=>{je.stopPropagation(),P(fe)},children:c.jsx("img",{src:W,alt:`${_.nombre} ${fe+1}`})},fe))}),U.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"imagen-modal-nav prev",onClick:W=>{W.stopPropagation(),Ae()},"aria-label":"Imagen anterior",children:""}),c.jsx("button",{className:"imagen-modal-nav next",onClick:W=>{W.stopPropagation(),Me()},"aria-label":"Siguiente imagen",children:""})]})]})})]})}function ZF(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function eU(t){var n,r;let e=null;for(const i of Mi){const a=i.productos.find(l=>l.id===t.id);if(a){e=a;break}}return e?typeof e.cantidad=="number"?e.cantidad:((r=(n=e.variantes)==null?void 0:n[0])==null?void 0:r.cantidad)!==void 0?e.variantes[0].cantidad:Number.POSITIVE_INFINITY:Number.POSITIVE_INFINITY}function tU(t,e){try{const n={mode:"cart",items:t,total:e,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(n))}catch{}}function nU(){const{carrito:t,agregarAlCarrito:e,eliminarUnidadDelCarrito:n,quitarDelCarrito:r}=gd(),i=pr(),[a,l]=k.useState(!1),d=t.reduce((m,g)=>m+(Number(g.precio)||0)*g.cantidad,0),h=t.map(m=>({id:m.id,nombre:m.nombre,precio:Number(m.precio)||0,cantidad:m.cantidad}));return c.jsxs("main",{className:"carrito-page",children:[c.jsx("h1",{className:"carrito-title",children:"Mi Carrito"}),t.length===0?c.jsx("p",{className:"carrito-empty",children:"Tu carrito est vaco."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"carrito-grid",children:t.map(m=>{var y;const g=eU(m);return c.jsxs("div",{className:"carrito-card",onClick:()=>i(`/producto/${m.id}`),children:[c.jsx("img",{src:m.imagen||((y=m.imagenes)==null?void 0:y[0]),alt:m.nombre,className:"carrito-img"}),c.jsxs("div",{className:"carrito-info",children:[c.jsx("h2",{className:"carrito-nombre",children:m.nombre}),c.jsx("p",{className:`carrito-stock ${g===0?"stock-out":g<=2?"stock-low":"stock-ok"}`,children:g===0?"No disponible":g<=2?`Casi agotado (${g})`:`Disponible (${g})`}),c.jsxs("div",{className:"carrito-actions",children:[c.jsx("button",{onClick:x=>{x.stopPropagation(),n(m.id)},className:"vp-qty-btn",children:""}),c.jsx("span",{className:"vp-qty",children:m.cantidad}),c.jsx("button",{onClick:x=>{if(x.stopPropagation(),m.cantidad<g){let S=null;for(const P of Mi){const _=P.productos.find(C=>C.id===m.id);if(_){S=_;break}}S&&e(S)}},className:"vp-qty-btn",disabled:m.cantidad>=g,children:"+"}),c.jsx("button",{onClick:x=>{x.stopPropagation(),r(m.id)},className:"vp-remove",title:"Quitar",children:c.jsx(ON,{})})]})]}),c.jsxs("div",{className:"carrito-subtotal",children:["DOP"," ",ZF((Number(m.precio)||0)*m.cantidad)]})]},m.id)})}),c.jsx("div",{className:"carrito-footer",children:c.jsxs("div",{className:"carrito-pay-btn",onClick:()=>{l(!0),tU(h,d)},children:[c.jsx("span",{className:"btn-text",children:"Proceder al Pago"}),c.jsx(vy,{className:"",total:d*100})]})})]}),a&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-[100] flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm mx-4 text-center",children:[c.jsx("div",{className:"mb-4",children:c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:c.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Redirigiendo a CardNet"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Espera unos segundos mientras procesamos tu solicitud..."})]})})]})}function QN(){return c.jsx("div",{className:"waves-container"})}function rU(){return c.jsxs("div",{className:"relative min-h-screen flex flex-col items-center px-4 sm:px-8 pt-12 pb-20 font-sans text-gray-800 bg-transparent overflow-hidden",children:[c.jsx(QN,{}),c.jsx("h1",{className:"text-2xl sm:text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"CONTCTANOS"}),c.jsx("h2",{className:"text-lg sm:text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),c.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-4 sm:gap-6 text-sm sm:text-lg z-10 px-4 py-4 sm:px-8 sm:py-6",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[c.jsx("img",{src:"/toy/asoma.png",alt:"Mueco asomndose",className:"hidden sm:block absolute z-20 pointer-events-none w-[300px]",style:{top:"-160px",right:"-80px",height:"auto"}}),c.jsx(Xh,{icon:c.jsx(pd,{}),label:"Direccin",text:"Av. Estrella Sadhal #55, Santiago, Repblica Dominicana"}),c.jsx(Xh,{icon:c.jsx(ip,{}),label:"Telfono Tienda",text:"+1 (849)-635-7000"}),c.jsx(Xh,{icon:c.jsx(ip,{}),label:"Telfono Internet",text:"+1 (809)-582-1212"}),c.jsx(Xh,{icon:c.jsx(E1,{}),label:"Correo",text:"playcenter121@gmail.com"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center mt-4 w-full",children:[c.jsx(vE,{href:"https://wa.me/18496357000",text:"WhatsApp Tienda"}),c.jsx(vE,{href:"https://wa.me/18095821212",text:"WhatsApp Internet"})]})]})]})}const Xh=({icon:t,label:e,text:n})=>c.jsxs("div",{className:"flex items-start gap-3 w-full z-10",children:[c.jsx("div",{className:"text-xl sm:text-2xl text-gray-400",children:t}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-sm sm:text-base text-gray-700",children:[e,":"]}),c.jsx("p",{className:"text-gray-600 text-sm sm:text-base break-words",children:n})]})]}),vE=({href:t,text:e})=>c.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 sm:gap-3 px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-bold rounded-xl transition-transform z-10 w-full sm:w-auto",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",n.currentTarget.style.transform="scale(1.05)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",n.currentTarget.style.transform="scale(1)"},children:[c.jsx(rp,{className:"text-lg sm:text-xl text-cyan-500"}),e]});function iU(){return c.jsxs("div",{className:`relative min-h-screen flex flex-col items-center px-4 pt-12 pb-20 font-sans text-gray-800
                 bg-transparent overflow-hidden`,children:[c.jsx(QN,{}),c.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"NOSOTROS"}),c.jsx("h2",{className:"text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),c.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-6 text-lg z-10",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",padding:"2rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[c.jsx("img",{src:"/toy/asoman.png",alt:"Mueco asomndose",className:"hidden lg:block absolute z-20",style:{top:"-160px",right:"-230px",width:"300px",height:"auto"}}),c.jsx(u0,{icon:c.jsx(g7,{className:"text-yellow-400"}),label:"Quines somos",text:"Somos una empresa dominicana ubicada en Santiago, especializada en brindar lo ltimo en tecnologa, innovacin y productos para el estilo de vida moderno."}),c.jsx(u0,{icon:c.jsx(_7,{className:"text-cyan-500"}),label:"Nuestra misin",text:"Superar las expectativas de nuestros clientes ofreciendo artculos de calidad como consolas, videojuegos, tablets, mviles, accesorios y ms, con un servicio humano, eficiente y profesional."}),c.jsx(u0,{icon:c.jsx(pd,{className:"text-green-500"}),label:"Nuestro compromiso",text:"PlayCenter Universal no solo vende productos, crea experiencias memorables con cada compra. Gracias por confiar en nosotros!"}),c.jsx("div",{className:"flex justify-center mt-6",children:c.jsxs(Xe,{to:"/contacto",className:`flex items-center gap-3 px-6 py-3 text-base font-bold
                       rounded-xl transition-transform z-10 animate-fade-in`,style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",t.currentTarget.style.transform="scale(1.05)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",t.currentTarget.style.transform="scale(1)"},children:[c.jsx(gy,{className:"text-xl text-cyan-500"}),"Contctanos"]})})]})]})}const u0=({icon:t,label:e,text:n})=>c.jsxs("div",{className:"flex items-start gap-4 w-full z-10",children:[c.jsx("div",{className:"text-2xl text-gray-400",children:t}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-gray-700",children:[e,":"]}),c.jsx("p",{className:"text-gray-600 break-words",children:n})]})]}),sU=[{id:1,nombre:"Audfonos Sony WH-1000XM5",imagen:"/products/sony-wh1000xm5.png",precio:349.99,descripcion:"Cancelacin de ruido lder, hasta 30h de batera, diseo premium."},{id:2,nombre:"AirPods Pro 2da Gen",imagen:"/products/airpods-pro-2.png",precio:249.99,descripcion:"Audio espacial personalizado, chip H2 de Apple, resistente al agua."}];function oU(){const{id:t}=Dy(),e=sU.find(n=>n.id===parseInt(t));return e?c.jsxs("div",{className:"pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",children:[c.jsx("div",{className:"w-full lg:w-1/2 flex justify-center",children:c.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow"})}),c.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.nombre}),c.jsx("p",{className:"text-gray-700 text-lg",children:e.descripcion}),c.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",e.precio]}),c.jsxs("div",{className:"flex gap-4 mt-6",children:[c.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",children:"Agregar al carrito"}),c.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",children:"Aadir a favoritos "})]})]})]}):c.jsx("div",{className:"pt-24 text-center text-red-600 font-semibold",children:"Producto no encontrado"})}function d0(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").trim()}function aU(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function XN({producto:t}){var L;const{carrito:e,agregarAlCarrito:n,eliminarUnidadDelCarrito:r,quitarDelCarrito:i}=gd(),{usuario:a}=Ar(),{abrirModal:l}=lc(),d=pr(),[h,m]=k.useState(!1),g=t.cantidad===void 0||t.cantidad>0,y=e.find(V=>V.id===t.id),x=(y==null?void 0:y.cantidad)||0,S=V=>{if(V.stopPropagation(),!a){m(!0);return}y||n({...t,cantidad:1})},P=V=>{if(V.stopPropagation(),!a){m(!0);return}(t.cantidad===void 0||x<t.cantidad)&&n(t)},_=V=>{if(V.stopPropagation(),!a){m(!0);return}r(t.id)},C=V=>{if(V.stopPropagation(),!a){m(!0);return}i(t.id)},A=()=>{d(`/producto/${t.id}`,{state:{producto:t}})};return c.jsx(c.Fragment,{children:c.jsxs("div",{onClick:V=>{V.target.closest("button")||A()},className:"tarjeta-producto group",children:[c.jsx("div",{className:"tarjeta-img-zone",children:c.jsx("img",{src:t.imagen||((L=t.imagenes)==null?void 0:L[0]),alt:t.nombre,className:"tarjeta-img"})}),c.jsxs("div",{className:"tarjeta-info-zone",children:[c.jsx("h2",{className:"tarjeta-nombre",children:t.nombre}),c.jsx("p",{className:"tarjeta-descripcion",children:t.descripcion||"Descripcin del producto."}),c.jsxs("p",{className:"tarjeta-precio",children:[aU(t.precio)," DOP"]}),c.jsx("div",{className:"botones-wrapper",children:y?c.jsxs("div",{className:"flex items-center gap-2 justify-center w-full",children:[c.jsx("button",{onClick:_,className:"carrito-btn",children:""}),c.jsx("span",{className:"font-semibold text-lg",children:x}),c.jsx("button",{onClick:P,className:"carrito-btn",disabled:t.cantidad!==void 0&&x>=t.cantidad,children:"+"}),c.jsx("button",{onClick:C,className:"ml-2 text-red-600 hover:text-red-700 font-semibold transition carrito-quitar",title:"Quitar",children:c.jsx(ON,{})})]}):c.jsxs("button",{onClick:S,className:"carrito-main-btn w-full flex items-center justify-center gap-2",disabled:!g,children:[c.jsx(VN,{size:16})," Agregar al carrito"]})}),c.jsx(md,{isOpen:h,onClose:()=>m(!1),onIniciarSesion:()=>{m(!1),l()}})]})]})})}function YN(){return c.jsxs("div",{className:"wave-background",children:[c.jsx("div",{className:"wave wave1"}),c.jsx("div",{className:"wave wave2"}),c.jsx("div",{className:"wave wave3"})]})}const xE=[{nombre:"Todos",ruta:""},{nombre:"Videojuegos",ruta:"videojuegos"},{nombre:"Accesorios Videojuegos",ruta:"AccesoriosVideojuegos"},{nombre:"Consolas",ruta:"consolas"},{nombre:"Retro Consolas",ruta:"retro-consolas"},{nombre:"Coleccionables",ruta:"coleccionables"},{nombre:"Retro Juegos",ruta:"retro-juegos"},{nombre:"Controles",ruta:"controles"},{nombre:"Audfonos",ruta:"audifonos"},{nombre:"Teclados",ruta:"teclados"},{nombre:"Mouses",ruta:"mouses"},{nombre:"Laptops",ruta:"laptops"},{nombre:"Monitores",ruta:"monitores"},{nombre:"Memorias USB",ruta:"memorias-usb"},{nombre:"Tu Rincn Variado",ruta:"tu-rincon-variado"},{nombre:"Cables",ruta:"cables"},{nombre:"Cmaras",ruta:"camaras"},{nombre:"Cargadores",ruta:"cargadores"},{nombre:"Celulares",ruta:"celulares"},{nombre:"Discos Duros",ruta:"discos-duros"},{nombre:"Electrodomsticos",ruta:"electrodomesticos"},{nombre:"Gaming Chairs",ruta:"gaming-chairs"},{nombre:"Hogar Inteligente",ruta:"hogar-inteligente"},{nombre:"Impresoras",ruta:"impresoras"},{nombre:"Nuevos Lanzamientos",ruta:"nuevos-lanzamientos"},{nombre:"Ofertas Especiales",ruta:"ofertas-especiales"},{nombre:"Relojes Inteligentes",ruta:"relojes-inteligentes"},{nombre:"Smart TV",ruta:"smart-tv"},{nombre:"Tablets",ruta:"tablets"}],wE={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.2)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 4px rgba(60, 80, 120, 0.4)"}},lU={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.4)","0 0 10px rgba(80, 100, 140, 0.6)","0 0 4px rgba(80, 100, 140, 0.4)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function lp({categoriaActiva:t,mostrarEnMovil:e,setMostrarEnMovil:n}){const r=pr(),i=l=>{r(`/Productos/${l.ruta}`),n&&n(!1)},a=l=>l===t;return c.jsxs(c.Fragment,{children:[c.jsxs("aside",{className:"hidden lg:flex flex-col w-56 px-2 relative z-40",style:{height:"100vh",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Categoras",children:[c.jsx("div",{className:"absolute inset-0 z-0",style:{overflow:"visible",minHeight:"2000px",backgroundColor:"transparent",pointerEvents:"none"},children:c.jsx(YN,{})}),c.jsxs("div",{className:"scrollbar-light relative z-10 flex-1",style:{overflowY:"auto",backgroundColor:"transparent",paddingRight:"0.25rem"},children:[c.jsx(J.h2,{className:"text-lg font-semibold mb-4 text-center tracking-wide text-blue-700 select-none",variants:lU,animate:"animate",children:"Categoras"}),c.jsx("ul",{className:"space-y-2 text-sm",children:xE.map((l,d)=>c.jsx(J.li,{whileHover:{scale:1.02},children:c.jsx(J.button,{onClick:()=>i(l),initial:"initial",whileHover:"hover",whileTap:"tap",variants:wE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${a(l.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:l.nombre})},d))})]})]}),c.jsx(pn,{children:e&&c.jsxs(c.Fragment,{children:[c.jsx(J.div,{className:"fixed inset-0 bg-gray-200 bg-opacity-40 backdrop-blur-sm z-[9998]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1)}),c.jsxs(J.nav,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",stiffness:250,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-gray-50 to-gray-100 border border-gray-300 z-[9999] flex flex-col shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[c.jsx("h2",{className:"text-lg font-semibold text-blue-700 tracking-wide select-none",children:"Categoras"}),c.jsx("button",{onClick:()=>n(!1),className:"text-red-500 font-bold text-2xl hover:text-red-700","aria-label":"Cerrar categoras",children:""})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto px-4 py-2 scrollbar-light",children:c.jsx("ul",{className:"space-y-2 text-sm",children:xE.map((l,d)=>c.jsx(J.li,{whileHover:{scale:1.02},children:c.jsx(J.button,{onClick:()=>i(l),initial:"initial",whileHover:"hover",whileTap:"tap",variants:wE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${a(l.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:l.nombre})},d))})})]})]})})]})}function JN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qi(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JN(t))&&(r&&(r+=" "),r+=e);return r}function ZN(t,e,n=void 0){const r={};for(const i in t){const a=t[i];let l="",d=!0;for(let h=0;h<a.length;h+=1){const m=a[h];m&&(l+=(d===!0?"":" ")+e(m),d=!1,n&&n[m]&&(l+=" "+n[m]))}r[i]=l}return r}function Ca(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function jl(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function S1(t,e=0,n=1){return jl(t,e,n)}function cU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function No(t){if(t.type)return t;if(t.charAt(0)==="#")return No(cU(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ca(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ca(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const uU=t=>{const e=No(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},lu=(t,e)=>{try{return uU(t)}catch{return t}};function Hp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ek(t){t=No(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),l=(m,g=(m+n/30)%12)=>i-a*Math.max(Math.min(g-3,9-g,1),-1);let d="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(d+="a",h.push(e[3])),Hp({type:d,values:h})}function xy(t){t=No(t);let e=t.type==="hsl"||t.type==="hsla"?No(ek(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function dU(t,e){const n=xy(t),r=xy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function wy(t,e){return t=No(t),e=S1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hp(t)}function Yh(t,e,n){try{return wy(t,e)}catch{return t}}function qu(t,e){if(t=No(t),e=S1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hp(t)}function vt(t,e,n){try{return qu(t,e)}catch{return t}}function Gu(t,e){if(t=No(t),e=S1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hp(t)}function xt(t,e,n){try{return Gu(t,e)}catch{return t}}function hU(t,e=.15){return xy(t)>.5?qu(t,e):Gu(t,e)}function Jh(t,e,n){try{return hU(t,e)}catch{return t}}const fU=k.createContext(),pU=()=>k.useContext(fU)??!1;function tk(...t){const e=k.useRef(void 0),n=k.useCallback(r=>{const i=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,d=l(r);return typeof d=="function"?d:()=>{l(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},t);return k.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function mU(t){return typeof t=="string"}function gU(t,e,n){return t===void 0||mU(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function _f(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function bE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function yU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=t;if(!e){const S=qi(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),P={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...n,...i,...r};return S.length>0&&(_.className=S),Object.keys(P).length>0&&(_.style=P),{props:_,internalRef:void 0}}const l=_f({...i,...r}),d=bE(r),h=bE(i),m=e(l),g=qi(m==null?void 0:m.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),y={...m==null?void 0:m.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...m,...n,...h,...d};return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:m.ref}}function vU(t,e,n){return typeof t=="function"?t(e,n):t}function to(t){var y;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=t,l=i?{}:vU(n,r),{props:d,internalRef:h}=yU({...a,externalSlotProps:l}),m=tk(h,l==null?void 0:l.ref,(y=t.additionalProps)==null?void 0:y.ref);return gU(e,{...d,ref:m},r)}function Ef(t){return t&&t.ownerDocument||document}function xU(t){const{controlled:e,default:n}=t,{current:r}=k.useRef(e!==void 0),[i,a]=k.useState(n),l=r?e:i,d=k.useCallback(h=>{r||a(h)},[]);return[l,d]}const nk=typeof window<"u"?k.useLayoutEffect:k.useEffect;function h0(t){const e=k.useRef(t);return nk(()=>{e.current=t}),k.useRef((...n)=>(0,e.current)(...n)).current}function _E(t){try{return t.matches(":focus-visible")}catch{}return!1}const wU={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function bU(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const _U=2;function xl(t,e,n,r,i){return n===1?Math.min(t+e,i):Math.max(t-e,r)}function rk(t,e){return t-e}function EE(t,e){const{index:n}=t.reduce((r,i,a)=>{const l=Math.abs(e-i);return r===null||l<r.distance||l===r.distance?{distance:l,index:a}:r},null)??{};return n}function Zh(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function cp(t,e,n){return(t-e)*100/(n-e)}function EU(t,e,n){return(n-e)*t+e}function SU(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function TU(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(SU(e)))}function SE({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(rk)}function ef({sliderRef:t,activeIndex:e,setActive:n}){var i,a,l;const r=Ef(t.current);(!((i=t.current)!=null&&i.contains(r.activeElement))||Number((a=r==null?void 0:r.activeElement)==null?void 0:a.getAttribute("data-index"))!==e)&&((l=t.current)==null||l.querySelector(`[type="range"][data-index="${e}"]`).focus()),n&&n(e)}function tf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?bU(t,e):!1}const PU={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},CU=t=>t;let nf;function TE(){return nf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?nf=CSS.supports("touch-action","none"):nf=!0),nf}function NU(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:a=!1,marks:l=!1,max:d=100,min:h=0,name:m,onChange:g,onChangeCommitted:y,orientation:x="horizontal",rootRef:S,scale:P=CU,step:_=1,shiftStep:C=10,tabIndex:A,value:L}=t,V=k.useRef(void 0),[B,q]=k.useState(-1),[X,R]=k.useState(-1),[j,D]=k.useState(!1),E=k.useRef(0),O=k.useRef(null),[U,M]=xU({controlled:L,default:n??h}),pe=g&&((ae,ce,xe)=>{const ee=ae.nativeEvent||ae,ye=new ee.constructor(ee.type,ee);Object.defineProperty(ye,"target",{writable:!0,value:{value:ce,name:m}}),O.current=ce,g(ye,ce,xe)}),Me=Array.isArray(U);let Ae=Me?U.slice().sort(rk):[U];Ae=Ae.map(ae=>ae==null?h:jl(ae,h,d));const Se=l===!0&&_!==null?[...Array(Math.floor((d-h)/_)+1)].map((ae,ce)=>({value:h+_*ce})):l||[],ne=Se.map(ae=>ae.value),[ge,ue]=k.useState(-1),z=k.useRef(null),W=tk(S,z),fe=ae=>ce=>{var ee;const xe=Number(ce.currentTarget.getAttribute("data-index"));_E(ce.target)&&ue(xe),R(xe),(ee=ae==null?void 0:ae.onFocus)==null||ee.call(ae,ce)},je=ae=>ce=>{var xe;_E(ce.target)||ue(-1),R(-1),(xe=ae==null?void 0:ae.onBlur)==null||xe.call(ae,ce)},Ne=(ae,ce)=>{const xe=Number(ae.currentTarget.getAttribute("data-index")),ee=Ae[xe],ye=ne.indexOf(ee);let be=ce;if(Se&&_==null){const Ke=ne[ne.length-1];be>=Ke?be=Ke:be<=ne[0]?be=ne[0]:be=be<ee?ne[ye-1]:ne[ye+1]}if(be=jl(be,h,d),Me){i&&(be=jl(be,Ae[xe-1]||-1/0,Ae[xe+1]||1/0));const Ke=be;be=SE({values:Ae,newValue:be,index:xe});let ot=xe;i||(ot=be.indexOf(Ke)),ef({sliderRef:z,activeIndex:ot})}M(be),ue(xe),pe&&!tf(be,U)&&pe(ae,be,xe),y&&y(ae,O.current??be)},ze=ae=>ce=>{var xe;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ce.key)){ce.preventDefault();const ee=Number(ce.currentTarget.getAttribute("data-index")),ye=Ae[ee];let be=null;if(_!=null){const Ke=ce.shiftKey?C:_;switch(ce.key){case"ArrowUp":be=xl(ye,Ke,1,h,d);break;case"ArrowRight":be=xl(ye,Ke,a?-1:1,h,d);break;case"ArrowDown":be=xl(ye,Ke,-1,h,d);break;case"ArrowLeft":be=xl(ye,Ke,a?1:-1,h,d);break;case"PageUp":be=xl(ye,C,1,h,d);break;case"PageDown":be=xl(ye,C,-1,h,d);break;case"Home":be=h;break;case"End":be=d;break}}else if(Se){const Ke=ne[ne.length-1],ot=ne.indexOf(ye),He=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Xt=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];He.includes(ce.key)?ot===0?be=ne[0]:be=ne[ot-1]:Xt.includes(ce.key)&&(ot===ne.length-1?be=Ke:be=ne[ot+1])}be!=null&&Ne(ce,be)}(xe=ae==null?void 0:ae.onKeyDown)==null||xe.call(ae,ce)};nk(()=>{var ae;r&&z.current.contains(document.activeElement)&&((ae=document.activeElement)==null||ae.blur())},[r]),r&&B!==-1&&q(-1),r&&ge!==-1&&ue(-1);const qe=ae=>ce=>{var xe;(xe=ae.onChange)==null||xe.call(ae,ce),Ne(ce,ce.target.valueAsNumber)},Le=k.useRef(void 0);let Ie=x;a&&x==="horizontal"&&(Ie+="-reverse");const nt=({finger:ae,move:ce=!1})=>{const{current:xe}=z,{width:ee,height:ye,bottom:be,left:Ke}=xe.getBoundingClientRect();let ot;Ie.startsWith("vertical")?ot=(be-ae.y)/ye:ot=(ae.x-Ke)/ee,Ie.includes("-reverse")&&(ot=1-ot);let He;if(He=EU(ot,h,d),_)He=TU(He,_,h);else{const Qr=EE(ne,He);He=ne[Qr]}He=jl(He,h,d);let Xt=0;if(Me){ce?Xt=Le.current:Xt=EE(Ae,He),i&&(He=jl(He,Ae[Xt-1]||-1/0,Ae[Xt+1]||1/0));const Qr=He;He=SE({values:Ae,newValue:He,index:Xt}),i&&ce||(Xt=He.indexOf(Qr),Le.current=Xt)}return{newValue:He,activeIndex:Xt}},Nt=h0(ae=>{const ce=Zh(ae,V);if(!ce)return;if(E.current+=1,ae.type==="mousemove"&&ae.buttons===0){Mt(ae);return}const{newValue:xe,activeIndex:ee}=nt({finger:ce,move:!0});ef({sliderRef:z,activeIndex:ee,setActive:q}),M(xe),!j&&E.current>_U&&D(!0),pe&&!tf(xe,U)&&pe(ae,xe,ee)}),Mt=h0(ae=>{const ce=Zh(ae,V);if(D(!1),!ce)return;const{newValue:xe}=nt({finger:ce,move:!0});q(-1),ae.type==="touchend"&&R(-1),y&&y(ae,O.current??xe),V.current=void 0,Vt()}),ft=h0(ae=>{if(r)return;TE()||ae.preventDefault();const ce=ae.changedTouches[0];ce!=null&&(V.current=ce.identifier);const xe=Zh(ae,V);if(xe!==!1){const{newValue:ye,activeIndex:be}=nt({finger:xe});ef({sliderRef:z,activeIndex:be,setActive:q}),M(ye),pe&&!tf(ye,U)&&pe(ae,ye,be)}E.current=0;const ee=Ef(z.current);ee.addEventListener("touchmove",Nt,{passive:!0}),ee.addEventListener("touchend",Mt,{passive:!0})}),Vt=k.useCallback(()=>{const ae=Ef(z.current);ae.removeEventListener("mousemove",Nt),ae.removeEventListener("mouseup",Mt),ae.removeEventListener("touchmove",Nt),ae.removeEventListener("touchend",Mt)},[Mt,Nt]);k.useEffect(()=>{const{current:ae}=z;return ae.addEventListener("touchstart",ft,{passive:TE()}),()=>{ae.removeEventListener("touchstart",ft),Vt()}},[Vt,ft]),k.useEffect(()=>{r&&Vt()},[r,Vt]);const gn=ae=>ce=>{var ye;if((ye=ae.onMouseDown)==null||ye.call(ae,ce),r||ce.defaultPrevented||ce.button!==0)return;ce.preventDefault();const xe=Zh(ce,V);if(xe!==!1){const{newValue:be,activeIndex:Ke}=nt({finger:xe});ef({sliderRef:z,activeIndex:Ke,setActive:q}),M(be),pe&&!tf(be,U)&&pe(ce,be,Ke)}E.current=0;const ee=Ef(z.current);ee.addEventListener("mousemove",Nt,{passive:!0}),ee.addEventListener("mouseup",Mt)},Hn=cp(Me?Ae[0]:h,h,d),mt=cp(Ae[Ae.length-1],h,d)-Hn,de=(ae={})=>{const ce=_f(ae),xe={onMouseDown:gn(ce||{})},ee={...ce,...xe};return{...ae,ref:W,...ee}},Ue=ae=>ce=>{var ee;(ee=ae.onMouseOver)==null||ee.call(ae,ce);const xe=Number(ce.currentTarget.getAttribute("data-index"));R(xe)},Ye=ae=>ce=>{var xe;(xe=ae.onMouseLeave)==null||xe.call(ae,ce),R(-1)},Bt=(ae={})=>{const ce=_f(ae),xe={onMouseOver:Ue(ce||{}),onMouseLeave:Ye(ce||{})};return{...ae,...ce,...xe}},wt=ae=>({pointerEvents:B!==-1&&B!==ae?"none":void 0});let yn;return x==="vertical"&&(yn=a?"vertical-rl":"vertical-lr"),{active:B,axis:Ie,axisProps:PU,dragging:j,focusedThumbIndex:ge,getHiddenInputProps:(ae={})=>{const ce=_f(ae),xe={onChange:qe(ce||{}),onFocus:fe(ce||{}),onBlur:je(ce||{}),onKeyDown:ze(ce||{})},ee={...ce,...xe};return{tabIndex:A,"aria-labelledby":e,"aria-orientation":x,"aria-valuemax":P(d),"aria-valuemin":P(h),name:m,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...ae,...ee,style:{...wU,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:yn}}},getRootProps:de,getThumbProps:Bt,marks:Se,open:X,range:Me,rootRef:W,trackLeap:mt,trackOffset:Hn,values:Ae,getThumbStyle:wt}}function Sf(t){return typeof t=="string"}function Nr(t){if(typeof t!="string")throw new Error(Ca(7));return t.charAt(0).toUpperCase()+t.slice(1)}var f0={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function kU(){if(PE)return gt;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function P(_){if(typeof _=="object"&&_!==null){var C=_.$$typeof;switch(C){case t:switch(_=_.type,_){case n:case i:case r:case h:case m:case x:return _;default:switch(_=_&&_.$$typeof,_){case l:case d:case y:case g:return _;case a:return _;default:return C}}case e:return C}}}return gt.ContextConsumer=a,gt.ContextProvider=l,gt.Element=t,gt.ForwardRef=d,gt.Fragment=n,gt.Lazy=y,gt.Memo=g,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=h,gt.SuspenseList=m,gt.isContextConsumer=function(_){return P(_)===a},gt.isContextProvider=function(_){return P(_)===l},gt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},gt.isForwardRef=function(_){return P(_)===d},gt.isFragment=function(_){return P(_)===n},gt.isLazy=function(_){return P(_)===y},gt.isMemo=function(_){return P(_)===g},gt.isPortal=function(_){return P(_)===e},gt.isProfiler=function(_){return P(_)===i},gt.isStrictMode=function(_){return P(_)===r},gt.isSuspense=function(_){return P(_)===h},gt.isSuspenseList=function(_){return P(_)===m},gt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===h||_===m||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===g||_.$$typeof===l||_.$$typeof===a||_.$$typeof===d||_.$$typeof===S||_.getModuleId!==void 0)},gt.typeOf=P,gt}var CE;function jU(){return CE||(CE=1,f0.exports=kU()),f0.exports}var ik=jU();function Ii(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function sk(t){if(k.isValidElement(t)||ik.isValidElementType(t)||!Ii(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=sk(t[n])}),e}function kr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ii(t)&&Ii(e)&&Object.keys(e).forEach(i=>{k.isValidElement(e[i])||ik.isValidElementType(e[i])?r[i]=e[i]:Ii(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ii(t[i])?r[i]=kr(t[i],e[i],n):n.clone?r[i]=Ii(e[i])?sk(e[i]):e[i]:r[i]=e[i]}),r}function Su(t,e){return e?kr(t,e,{clone:!1}):t}function NE(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,d;const a=/min-width:\s*([0-9.]+)/;return+(((l=r.match(a))==null?void 0:l[1])||0)-+(((d=i.match(a))==null?void 0:d[1])||0)});return n.length?n.reduce((r,i)=>{const a=e[i];return delete r[i],r[i]=a,r},{...e}):e}function AU(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function IU(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(a)}function RU(t){const e=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function n(a,l){a.up=(...d)=>e(t.breakpoints.up(...d),l),a.down=(...d)=>e(t.breakpoints.down(...d),l),a.between=(...d)=>e(t.breakpoints.between(...d),l),a.only=(...d)=>e(t.breakpoints.only(...d),l),a.not=(...d)=>{const h=e(t.breakpoints.not(...d),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},i=a=>(n(r,a),r);return n(i),{...t,containerQueries:i}}const Wp={xs:0,sm:600,md:900,lg:1200,xl:1536},kE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Wp[t]}px)`},DU={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Wp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Cs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||kE;return e.reduce((l,d,h)=>(l[a.up(a.keys[h])]=n(e[h]),l),{})}if(typeof e=="object"){const a=r.breakpoints||kE;return Object.keys(e).reduce((l,d)=>{if(AU(a.keys,d)){const h=IU(r.containerQueries?r:DU,d);h&&(l[h]=n(e[d],d))}else if(Object.keys(a.values||Wp).includes(d)){const h=a.up(d);l[h]=n(e[d],d)}else{const h=d;l[h]=e[h]}return l},{})}return n(e)}function MU(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const a=t.up(i);return r[a]={},r},{}))||{}}function jE(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function qp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function up(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=qp(t,n)||r,e&&(i=e(i,r,t)),i}function nn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,a=l=>{if(l[e]==null)return null;const d=l[e],h=l.theme,m=qp(h,r)||{};return Cs(l,d,y=>{let x=up(m,i,y);return y===x&&typeof y=="string"&&(x=up(m,i,`${e}${y==="default"?"":Nr(y)}`,y)),n===!1?x:{[n]:x}})};return a.propTypes={},a.filterProps=[e],a}function VU(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const OU={m:"margin",p:"padding"},LU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},FU=VU(t=>{if(t.length>2)if(AE[t])t=AE[t];else return[t];const[e,n]=t.split(""),r=OU[e],i=LU[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),T1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...T1,...P1];function yd(t,e,n,r){const i=qp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),d=i[l];return a>=0?d:typeof d=="number"?-d:typeof d=="string"&&d.startsWith("var(")?`calc(-1 * ${d})`:`-${d}`}:typeof i=="function"?i:()=>{}}function C1(t){return yd(t,"spacing",8)}function vd(t,e){return typeof e=="string"||e==null?e:t(e)}function UU(t,e){return n=>t.reduce((r,i)=>(r[i]=vd(e,n),r),{})}function BU(t,e,n,r){if(!e.includes(n))return null;const i=FU(n),a=UU(i,r),l=t[n];return Cs(t,l,a)}function ok(t,e){const n=C1(t.theme);return Object.keys(t).map(r=>BU(t,e,r,n)).reduce(Su,{})}function zt(t){return ok(t,T1)}zt.propTypes={};zt.filterProps=T1;function Ht(t){return ok(t,P1)}Ht.propTypes={};Ht.filterProps=P1;function Gp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>e[a]?Su(i,e[a](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function zr(t){return typeof t!="number"?t:`${t}px solid`}function Kr(t,e){return nn({prop:t,themeKey:"borders",transform:e})}const $U=Kr("border",zr),zU=Kr("borderTop",zr),HU=Kr("borderRight",zr),WU=Kr("borderBottom",zr),qU=Kr("borderLeft",zr),GU=Kr("borderColor"),KU=Kr("borderTopColor"),QU=Kr("borderRightColor"),XU=Kr("borderBottomColor"),YU=Kr("borderLeftColor"),JU=Kr("outline",zr),ZU=Kr("outlineColor"),Kp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=yd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:vd(e,r)});return Cs(t,t.borderRadius,n)}return null};Kp.propTypes={};Kp.filterProps=["borderRadius"];Gp($U,zU,HU,WU,qU,GU,KU,QU,XU,YU,Kp,JU,ZU);const Qp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=yd(t.theme,"spacing",8),n=r=>({gap:vd(e,r)});return Cs(t,t.gap,n)}return null};Qp.propTypes={};Qp.filterProps=["gap"];const Xp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=yd(t.theme,"spacing",8),n=r=>({columnGap:vd(e,r)});return Cs(t,t.columnGap,n)}return null};Xp.propTypes={};Xp.filterProps=["columnGap"];const Yp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=yd(t.theme,"spacing",8),n=r=>({rowGap:vd(e,r)});return Cs(t,t.rowGap,n)}return null};Yp.propTypes={};Yp.filterProps=["rowGap"];const eB=nn({prop:"gridColumn"}),tB=nn({prop:"gridRow"}),nB=nn({prop:"gridAutoFlow"}),rB=nn({prop:"gridAutoColumns"}),iB=nn({prop:"gridAutoRows"}),sB=nn({prop:"gridTemplateColumns"}),oB=nn({prop:"gridTemplateRows"}),aB=nn({prop:"gridTemplateAreas"}),lB=nn({prop:"gridArea"});Gp(Qp,Xp,Yp,eB,tB,nB,rB,iB,sB,oB,aB,lB);function zl(t,e){return e==="grey"?e:t}const cB=nn({prop:"color",themeKey:"palette",transform:zl}),uB=nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zl}),dB=nn({prop:"backgroundColor",themeKey:"palette",transform:zl});Gp(cB,uB,dB);function Sr(t){return t<=1&&t!==0?`${t*100}%`:t}const hB=nn({prop:"width",transform:Sr}),N1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,a,l,d,h;const r=((l=(a=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:l[n])||Wp[n];return r?((h=(d=t.theme)==null?void 0:d.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Sr(n)}};return Cs(t,t.maxWidth,e)}return null};N1.filterProps=["maxWidth"];const fB=nn({prop:"minWidth",transform:Sr}),pB=nn({prop:"height",transform:Sr}),mB=nn({prop:"maxHeight",transform:Sr}),gB=nn({prop:"minHeight",transform:Sr});nn({prop:"size",cssProperty:"width",transform:Sr});nn({prop:"size",cssProperty:"height",transform:Sr});const yB=nn({prop:"boxSizing"});Gp(hB,N1,fB,pB,mB,gB,yB);const xd={border:{themeKey:"borders",transform:zr},borderTop:{themeKey:"borders",transform:zr},borderRight:{themeKey:"borders",transform:zr},borderBottom:{themeKey:"borders",transform:zr},borderLeft:{themeKey:"borders",transform:zr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Kp},color:{themeKey:"palette",transform:zl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zl},backgroundColor:{themeKey:"palette",transform:zl},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:zt},mt:{style:zt},mr:{style:zt},mb:{style:zt},ml:{style:zt},mx:{style:zt},my:{style:zt},margin:{style:zt},marginTop:{style:zt},marginRight:{style:zt},marginBottom:{style:zt},marginLeft:{style:zt},marginX:{style:zt},marginY:{style:zt},marginInline:{style:zt},marginInlineStart:{style:zt},marginInlineEnd:{style:zt},marginBlock:{style:zt},marginBlockStart:{style:zt},marginBlockEnd:{style:zt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qp},rowGap:{style:Yp},columnGap:{style:Xp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Sr},maxWidth:{style:N1},minWidth:{transform:Sr},height:{transform:Sr},maxHeight:{transform:Sr},minHeight:{transform:Sr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vB(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function xB(t,e){return typeof t=="function"?t(e):t}function wB(){function t(n,r,i,a){const l={[n]:r,theme:i},d=a[n];if(!d)return{[n]:r};const{cssProperty:h=n,themeKey:m,transform:g,style:y}=d;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const x=qp(i,m)||{};return y?y(l):Cs(l,r,P=>{let _=up(x,g,P);return P===_&&typeof P=="string"&&(_=up(x,g,`${n}${P==="default"?"":Nr(P)}`,P)),h===!1?_:{[h]:_}})}function e(n){const{sx:r,theme:i={},nested:a}=n||{};if(!r)return null;const l=i.unstable_sxConfig??xd;function d(h){let m=h;if(typeof h=="function")m=h(i);else if(typeof h!="object")return h;if(!m)return null;const g=MU(i.breakpoints),y=Object.keys(g);let x=g;return Object.keys(m).forEach(S=>{const P=xB(m[S],i);if(P!=null)if(typeof P=="object")if(l[S])x=Su(x,t(S,P,i,l));else{const _=Cs({theme:i},P,C=>({[S]:C}));vB(_,P)?x[S]=e({sx:P,theme:i,nested:!0}):x=Su(x,_)}else x=Su(x,t(S,P,i,l))}),!a&&i.modularCssLayers?{"@layer sx":NE(i,jE(y,x))}:NE(i,jE(y,x))}return Array.isArray(r)?r.map(d):d(r)}return e}const Na=wB();Na.filterProps=["sx"];const bB=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??xd;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function ak(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=bB(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...l)=>{const d=e(...l);return Ii(d)?{...r,...d}:r}:a={...r,...e},{...i,sx:a}}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}function _B(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function EB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SB=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=_B(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Fn="-ms-",dp="-moz-",ct="-webkit-",lk="comm",k1="rule",j1="decl",TB="@import",ck="@keyframes",PB="@layer",CB=Math.abs,Jp=String.fromCharCode,NB=Object.assign;function kB(t,e){return jn(t,0)^45?(((e<<2^jn(t,0))<<2^jn(t,1))<<2^jn(t,2))<<2^jn(t,3):0}function uk(t){return t.trim()}function jB(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,n){return t.replace(e,n)}function _y(t,e){return t.indexOf(e)}function jn(t,e){return t.charCodeAt(e)|0}function Ku(t,e,n){return t.slice(e,n)}function ji(t){return t.length}function A1(t){return t.length}function rf(t,e){return e.push(t),t}function AB(t,e){return t.map(e).join("")}var Zp=1,Zl=1,dk=0,fr=0,ln=0,hc="";function em(t,e,n,r,i,a,l){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:Zp,column:Zl,length:l,return:""}}function Zc(t,e){return NB(em("",null,null,"",null,null,0),t,{length:-t.length},e)}function IB(){return ln}function RB(){return ln=fr>0?jn(hc,--fr):0,Zl--,ln===10&&(Zl=1,Zp--),ln}function jr(){return ln=fr<dk?jn(hc,fr++):0,Zl++,ln===10&&(Zl=1,Zp++),ln}function Gi(){return jn(hc,fr)}function Tf(){return fr}function wd(t,e){return Ku(hc,t,e)}function Qu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hk(t){return Zp=Zl=1,dk=ji(hc=t),fr=0,[]}function fk(t){return hc="",t}function Pf(t){return uk(wd(fr-1,Ey(t===91?t+2:t===40?t+1:t)))}function DB(t){for(;(ln=Gi())&&ln<33;)jr();return Qu(t)>2||Qu(ln)>3?"":" "}function MB(t,e){for(;--e&&jr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return wd(t,Tf()+(e<6&&Gi()==32&&jr()==32))}function Ey(t){for(;jr();)switch(ln){case t:return fr;case 34:case 39:t!==34&&t!==39&&Ey(ln);break;case 40:t===41&&Ey(t);break;case 92:jr();break}return fr}function VB(t,e){for(;jr()&&t+ln!==57;)if(t+ln===84&&Gi()===47)break;return"/*"+wd(e,fr-1)+"*"+Jp(t===47?t:jr())}function OB(t){for(;!Qu(Gi());)jr();return wd(t,fr)}function LB(t){return fk(Cf("",null,null,null,[""],t=hk(t),0,[0],t))}function Cf(t,e,n,r,i,a,l,d,h){for(var m=0,g=0,y=l,x=0,S=0,P=0,_=1,C=1,A=1,L=0,V="",B=i,q=a,X=r,R=V;C;)switch(P=L,L=jr()){case 40:if(P!=108&&jn(R,y-1)==58){_y(R+=ut(Pf(L),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:R+=Pf(L);break;case 9:case 10:case 13:case 32:R+=DB(P);break;case 92:R+=MB(Tf()-1,7);continue;case 47:switch(Gi()){case 42:case 47:rf(FB(VB(jr(),Tf()),e,n),h);break;default:R+="/"}break;case 123*_:d[m++]=ji(R)*A;case 125*_:case 59:case 0:switch(L){case 0:case 125:C=0;case 59+g:A==-1&&(R=ut(R,/\f/g,"")),S>0&&ji(R)-y&&rf(S>32?RE(R+";",r,n,y-1):RE(ut(R," ","")+";",r,n,y-2),h);break;case 59:R+=";";default:if(rf(X=IE(R,e,n,m,g,i,d,V,B=[],q=[],y),a),L===123)if(g===0)Cf(R,e,X,X,B,a,y,d,q);else switch(x===99&&jn(R,3)===110?100:x){case 100:case 108:case 109:case 115:Cf(t,X,X,r&&rf(IE(t,X,X,0,0,i,d,V,i,B=[],y),q),i,q,y,d,r?B:q);break;default:Cf(R,X,X,X,[""],q,0,d,q)}}m=g=S=0,_=A=1,V=R="",y=l;break;case 58:y=1+ji(R),S=P;default:if(_<1){if(L==123)--_;else if(L==125&&_++==0&&RB()==125)continue}switch(R+=Jp(L),L*_){case 38:A=g>0?1:(R+="\f",-1);break;case 44:d[m++]=(ji(R)-1)*A,A=1;break;case 64:Gi()===45&&(R+=Pf(jr())),x=Gi(),g=y=ji(V=R+=OB(Tf())),L++;break;case 45:P===45&&ji(R)==2&&(_=0)}}return a}function IE(t,e,n,r,i,a,l,d,h,m,g){for(var y=i-1,x=i===0?a:[""],S=A1(x),P=0,_=0,C=0;P<r;++P)for(var A=0,L=Ku(t,y+1,y=CB(_=l[P])),V=t;A<S;++A)(V=uk(_>0?x[A]+" "+L:ut(L,/&\f/g,x[A])))&&(h[C++]=V);return em(t,e,n,i===0?k1:d,h,m,g)}function FB(t,e,n){return em(t,e,n,lk,Jp(IB()),Ku(t,2,-2),0)}function RE(t,e,n,r){return em(t,e,n,j1,Ku(t,0,r),Ku(t,r+1,-1),r)}function Hl(t,e){for(var n="",r=A1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UB(t,e,n,r){switch(t.type){case PB:if(t.children.length)break;case TB:case j1:return t.return=t.return||t.value;case lk:return"";case ck:return t.return=t.value+"{"+Hl(t.children,r)+"}";case k1:t.value=t.props.join(",")}return ji(n=Hl(t.children,r))?t.return=t.value+"{"+n+"}":""}function BB(t){var e=A1(t);return function(n,r,i,a){for(var l="",d=0;d<e;d++)l+=t[d](n,r,i,a)||"";return l}}function $B(t){return function(e){e.root||(e=e.return)&&t(e)}}function pk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zB=function(e,n,r){for(var i=0,a=0;i=a,a=Gi(),i===38&&a===12&&(n[r]=1),!Qu(a);)jr();return wd(e,fr)},HB=function(e,n){var r=-1,i=44;do switch(Qu(i)){case 0:i===38&&Gi()===12&&(n[r]=1),e[r]+=zB(fr-1,n,r);break;case 2:e[r]+=Pf(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Jp(i)}while(i=jr());return e},WB=function(e,n){return fk(HB(hk(e),n))},DE=new WeakMap,qB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!DE.get(r))&&!i){DE.set(e,!0);for(var a=[],l=WB(n,a),d=r.props,h=0,m=0;h<l.length;h++)for(var g=0;g<d.length;g++,m++)e.props[m]=a[h]?l[h].replace(/&\f/g,d[g]):d[g]+" "+l[h]}}},GB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function mk(t,e){switch(kB(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+dp+t+Fn+t+t;case 6828:case 4268:return ct+t+Fn+t+t;case 6165:return ct+t+Fn+"flex-"+t+t;case 5187:return ct+t+ut(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Fn+"flex-$1$2")+t;case 5443:return ct+t+Fn+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return ct+t+Fn+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Fn+ut(t,"shrink","negative")+t;case 5292:return ct+t+Fn+ut(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+ut(t,"-grow","")+ct+t+Fn+ut(t,"grow","positive")+t;case 4554:return ct+ut(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ji(t)-1-e>6)switch(jn(t,e+1)){case 109:if(jn(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+dp+(jn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_y(t,"stretch")?mk(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(jn(t,e+1)!==115)break;case 6444:switch(jn(t,ji(t)-3-(~_y(t,"!important")&&10))){case 107:return ut(t,":",":"+ct)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(jn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Fn+"$2box$3")+t}break;case 5936:switch(jn(t,e+11)){case 114:return ct+t+Fn+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Fn+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Fn+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Fn+t+t}return t}var KB=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case j1:e.return=mk(e.value,e.length);break;case ck:return Hl([Zc(e,{value:ut(e.value,"@","@"+ct)})],i);case k1:if(e.length)return AB(e.props,function(a){switch(jB(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hl([Zc(e,{props:[ut(a,/:(read-\w+)/,":"+dp+"$1")]})],i);case"::placeholder":return Hl([Zc(e,{props:[ut(a,/:(plac\w+)/,":"+ct+"input-$1")]}),Zc(e,{props:[ut(a,/:(plac\w+)/,":"+dp+"$1")]}),Zc(e,{props:[ut(a,/:(plac\w+)/,Fn+"input-$1")]})],i)}return""})}},QB=[KB],XB=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var C=_.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||QB,a={},l,d=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var C=_.getAttribute("data-emotion").split(" "),A=1;A<C.length;A++)a[C[A]]=!0;d.push(_)});var h,m=[qB,GB];{var g,y=[UB,$B(function(_){g.insert(_)})],x=BB(m.concat(i,y)),S=function(C){return Hl(LB(C),x)};h=function(C,A,L,V){g=L,S(C?C+"{"+A.styles+"}":A.styles),V&&(P.inserted[A.name]=!0)}}var P={key:n,sheet:new SB({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return P.sheet.hydrate(d),P},YB=!0;function JB(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var gk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||YB===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ZB=function(e,n,r){gk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function e$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var t$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n$=/[A-Z]|^ms/g,r$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yk=function(e){return e.charCodeAt(1)===45},ME=function(e){return e!=null&&typeof e!="boolean"},p0=pk(function(t){return yk(t)?t:t.replace(n$,"-$&").toLowerCase()}),VE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(r$,function(r,i,a){return Ai={name:i,styles:a,next:Ai},i})}return t$[e]!==1&&!yk(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ai={name:i.name,styles:i.styles,next:Ai},i.name;var a=n;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Ai={name:l.name,styles:l.styles,next:Ai},l=l.next;var d=a.styles+";";return d}return i$(t,e,n)}case"function":{if(t!==void 0){var h=Ai,m=n(t);return Ai=h,Xu(t,e,m)}break}}var g=n;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function i$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xu(t,e,n[i])+";";else for(var a in n){var l=n[a];if(typeof l!="object"){var d=l;e!=null&&e[d]!==void 0?r+=a+"{"+e[d]+"}":ME(d)&&(r+=p0(a)+":"+VE(a,d)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)ME(l[h])&&(r+=p0(a)+":"+VE(a,l[h])+";");else{var m=Xu(t,e,l);switch(a){case"animation":case"animationName":{r+=p0(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}return r}var OE=/label:\s*([^\s;{]+)\s*(;|$)/g,Ai;function vk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ai=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=Xu(n,e,a);else{var l=a;i+=l[0]}for(var d=1;d<t.length;d++)if(i+=Xu(n,e,t[d]),r){var h=a;i+=h[d]}OE.lastIndex=0;for(var m="",g;(g=OE.exec(i))!==null;)m+="-"+g[1];var y=e$(i)+m;return{name:y,styles:i,next:Ai}}var s$=function(e){return e()},o$=v0.useInsertionEffect?v0.useInsertionEffect:!1,a$=o$||s$,xk=k.createContext(typeof HTMLElement<"u"?XB({key:"css"}):null);xk.Provider;var l$=function(e){return k.forwardRef(function(n,r){var i=k.useContext(xk);return e(n,i,r)})},wk=k.createContext({}),c$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u$=pk(function(t){return c$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),d$=u$,h$=function(e){return e!=="theme"},LE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?d$:h$},FE=function(e,n,r){var i;if(n){var a=n.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},f$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gk(n,r,i),a$(function(){return ZB(n,r,i)}),null},p$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,a,l;n!==void 0&&(a=n.label,l=n.target);var d=FE(e,n,r),h=d||LE(i),m=!h("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var x=g[0];y.push(x[0]);for(var S=g.length,P=1;P<S;P++)y.push(g[P],x[P])}var _=l$(function(C,A,L){var V=m&&C.as||i,B="",q=[],X=C;if(C.theme==null){X={};for(var R in C)X[R]=C[R];X.theme=k.useContext(wk)}typeof C.className=="string"?B=JB(A.registered,q,C.className):C.className!=null&&(B=C.className+" ");var j=vk(y.concat(q),A.registered,X);B+=A.key+"-"+j.name,l!==void 0&&(B+=" "+l);var D=m&&d===void 0?LE(V):h,E={};for(var O in C)m&&O==="as"||D(O)&&(E[O]=C[O]);return E.className=B,L&&(E.ref=L),k.createElement(k.Fragment,null,k.createElement(f$,{cache:A,serialized:j,isStringTag:typeof V=="string"}),k.createElement(V,E))});return _.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=y,_.__emotion_forwardProp=d,Object.defineProperty(_,"toString",{value:function(){return"."+l}}),_.withComponent=function(C,A){var L=t(C,by({},n,A,{shouldForwardProp:FE(_,A,!0)}));return L.apply(void 0,y)},_}},m$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sy=p$.bind(null);m$.forEach(function(t){Sy[t]=Sy(t)});function bk(t,e){return Sy(t,e)}function g$(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const UE=[];function xa(t){return UE[0]=t,vk(UE)}const y$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function v$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,a=y$(e),l=Object.keys(a);function d(x){return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n})`}function h(x){return`@media (max-width:${(typeof e[x]=="number"?e[x]:x)-r/100}${n})`}function m(x,S){const P=l.indexOf(S);return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n}) and (max-width:${(P!==-1&&typeof e[l[P]]=="number"?e[l[P]]:S)-r/100}${n})`}function g(x){return l.indexOf(x)+1<l.length?m(x,l[l.indexOf(x)+1]):d(x)}function y(x){const S=l.indexOf(x);return S===0?d(l[1]):S===l.length-1?h(l[S]):m(x,l[l.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:d,down:h,between:m,only:g,not:y,unit:n,...i}}const x$={borderRadius:4};function _k(t=8,e=C1({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const l=e(a);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function w$(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function I1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:a={},...l}=t,d=v$(n),h=_k(i);let m=kr({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...x$,...a}},l);return m=RU(m),m.applyStyles=w$,m=e.reduce((g,y)=>kr(g,y),m),m.unstable_sxConfig={...xd,...l==null?void 0:l.unstable_sxConfig},m.unstable_sx=function(y){return Na({sx:y,theme:this})},m}function b$(t){return Object.keys(t).length===0}function _$(t=null){const e=k.useContext(wk);return!e||b$(e)?t:e}const E$=I1();function S$(t=E$){return _$(t)}const BE=t=>t,T$=()=>{let t=BE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=BE}}},Ek=T$();function P$(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,a=bk("div",{shouldForwardProp:d=>d!=="theme"&&d!=="sx"&&d!=="as"})(Na);return k.forwardRef(function(h,m){const g=S$(n),{className:y,component:x="div",...S}=ak(h);return c.jsx(a,{as:x,ref:m,className:qi(y,i?i(r):r),theme:e&&g[e]||g,...S})})}const C$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function R1(t,e,n="Mui"){const r=C$[e];return r?`${n}-${r}`:`${Ek.generate(t)}-${e}`}function D1(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=R1(t,i,n)}),r}function Sk(t){const{variants:e,...n}=t,r={variants:e,style:xa(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xa(i.style))}),r}const N$=I1();function m0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function fa(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function k$(t){return t?(e,n)=>n[t]:null}function j$(t,e,n){t.theme=R$(t.theme)?n:t.theme[e]||t.theme}function Nf(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>Nf(t,i,n));if(Array.isArray(r==null?void 0:r.variants)){let i;if(r.isProcessed)i=n?fa(r.style,n):r.style;else{const{variants:a,...l}=r;i=n?fa(xa(l),n):l}return Tk(t,r.variants,[i],n)}return r!=null&&r.isProcessed?n?fa(xa(r.style),n):r.style:n?fa(xa(r),n):r}function Tk(t,e,n=[],r=void 0){var a;let i;e:for(let l=0;l<e.length;l+=1){const d=e[l];if(typeof d.props=="function"){if(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),!d.props(i))continue}else for(const h in d.props)if(t[h]!==d.props[h]&&((a=t.ownerState)==null?void 0:a[h])!==d.props[h])continue e;typeof d.style=="function"?(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),n.push(r?fa(xa(d.style(i)),r):d.style(i))):n.push(r?fa(xa(d.style),r):d.style)}return n}function A$(t={}){const{themeId:e,defaultTheme:n=N$,rootShouldForwardProp:r=m0,slotShouldForwardProp:i=m0}=t;function a(d){j$(d,e,n)}return(d,h={})=>{g$(d,X=>X.filter(R=>R!==Na));const{name:m,slot:g,skipVariantsResolver:y,skipSx:x,overridesResolver:S=k$(M$(g)),...P}=h,_=m&&m.startsWith("Mui")||g?"components":"custom",C=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,A=x||!1;let L=m0;g==="Root"||g==="root"?L=r:g?L=i:D$(d)&&(L=void 0);const V=bk(d,{shouldForwardProp:L,label:I$(),...P}),B=X=>{if(X.__emotion_real===X)return X;if(typeof X=="function")return function(j){return Nf(j,X,j.theme.modularCssLayers?_:void 0)};if(Ii(X)){const R=Sk(X);return function(D){return R.variants?Nf(D,R,D.theme.modularCssLayers?_:void 0):D.theme.modularCssLayers?fa(R.style,_):R.style}}return X},q=(...X)=>{const R=[],j=X.map(B),D=[];if(R.push(a),m&&S&&D.push(function(M){var Se,ne;const Me=(ne=(Se=M.theme.components)==null?void 0:Se[m])==null?void 0:ne.styleOverrides;if(!Me)return null;const Ae={};for(const ge in Me)Ae[ge]=Nf(M,Me[ge],M.theme.modularCssLayers?"theme":void 0);return S(M,Ae)}),m&&!C&&D.push(function(M){var Ae,Se;const pe=M.theme,Me=(Se=(Ae=pe==null?void 0:pe.components)==null?void 0:Ae[m])==null?void 0:Se.variants;return Me?Tk(M,Me,[],M.theme.modularCssLayers?"theme":void 0):null}),A||D.push(Na),Array.isArray(j[0])){const U=j.shift(),M=new Array(R.length).fill(""),pe=new Array(D.length).fill("");let Me;Me=[...M,...U,...pe],Me.raw=[...M,...U.raw,...pe],R.unshift(Me)}const E=[...R,...j,...D],O=V(...E);return d.muiName&&(O.muiName=d.muiName),O};return V.withConfig&&(q.withConfig=V.withConfig),q}}function I$(t,e){return void 0}function R$(t){for(const e in t)return!1;return!0}function D$(t){return typeof t=="string"&&t.charCodeAt(0)>96}function M$(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ty(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=i;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const l=t[a],d=e[a];if(!d)r[a]=l||{};else if(!l)r[a]=d;else{r[a]={...d};for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const m=h;r[a][m]=Ty(l[m],d[m],n)}}}else a==="className"&&n&&e.className?r.className=qi(t==null?void 0:t.className,e==null?void 0:e.className):a==="style"&&n&&e.style?r.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:r[a]===void 0&&(r[a]=t[a])}return r}const V$=k.createContext(void 0);function O$(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ty(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Ty(i,r,e.components.mergeClassNameAndStyle):r}function L$({props:t,name:e}){const n=k.useContext(V$);return O$({props:t,name:e,theme:{components:n}})}const $E={theme:void 0};function F$(t){let e,n;return function(i){let a=e;return(a===void 0||i.theme!==n)&&($E.theme=i.theme,a=Sk(t($E)),e=a,n=i.theme),a}}function U$(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const zE=(t,e,n,r=[])=>{let i=t;e.forEach((a,l)=>{l===e.length-1?Array.isArray(i)?i[Number(a)]=n:i&&typeof i=="object"&&(i[a]=n):i&&typeof i=="object"&&(i[a]||(i[a]=r.includes(a)?[]:{}),i=i[a])})},B$=(t,e,n)=>{function r(i,a=[],l=[]){Object.entries(i).forEach(([d,h])=>{(!n||n&&!n([...a,d]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...a,d],Array.isArray(h)?[...l,d]:l):e([...a,d],h,l))})}r(t)},$$=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function g0(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},a={},l={};return B$(t,(d,h,m)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(d,h))){const g=`--${n?`${n}-`:""}${d.join("-")}`,y=$$(d,h);Object.assign(i,{[g]:y}),zE(a,d,`var(${g})`,m),zE(l,d,`var(${g}, ${y})`,m)}},d=>d[0]==="vars"),{css:i,vars:a,varsWithDefaults:l}}function z$(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:a={},components:l,defaultColorScheme:d="light",...h}=t,{vars:m,css:g,varsWithDefaults:y}=g0(h,e);let x=y;const S={},{[d]:P,..._}=a;if(Object.entries(_||{}).forEach(([V,B])=>{const{vars:q,css:X,varsWithDefaults:R}=g0(B,e);x=kr(x,R),S[V]={css:X,vars:q}}),P){const{css:V,vars:B,varsWithDefaults:q}=g0(P,e);x=kr(x,q),S[d]={css:V,vars:B}}function C(V,B){var X,R;let q=i;if(i==="class"&&(q=".%s"),i==="data"&&(q="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(q=`[${i}="%s"]`),V){if(q==="media")return t.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((R=(X=a[V])==null?void 0:X.palette)==null?void 0:R.mode)||V})`]:{":root":B}};if(q)return t.defaultColorScheme===V?`:root, ${q.replace("%s",String(V))}`:q.replace("%s",String(V))}return":root"}return{vars:x,generateThemeVars:()=>{let V={...m};return Object.entries(S).forEach(([,{vars:B}])=>{V=kr(V,B)}),V},generateStyleSheets:()=>{var j,D;const V=[],B=t.defaultColorScheme||"light";function q(E,O){Object.keys(O).length&&V.push(typeof E=="string"?{[E]:{...O}}:E)}q(n(void 0,{...g}),g);const{[B]:X,...R}=S;if(X){const{css:E}=X,O=(D=(j=a[B])==null?void 0:j.palette)==null?void 0:D.mode,U=!r&&O?{colorScheme:O,...E}:{...E};q(n(B,{...U}),U)}return Object.entries(R).forEach(([E,{css:O}])=>{var pe,Me;const U=(Me=(pe=a[E])==null?void 0:pe.palette)==null?void 0:Me.mode,M=!r&&U?{colorScheme:U,...O}:{...O};q(n(E,{...M}),M)}),V}}}function H$(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Yu={black:"#000",white:"#fff"},W$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},eu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},_l={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},El={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Sl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Pk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yu.white,default:Yu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const q$=Pk();function Ck(){return{text:{primary:Yu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const HE=Ck();function WE(t,e,n,r){const i=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Gu(t.main,i):e==="dark"&&(t.dark=qu(t.main,a)))}function G$(t="light"){return t==="dark"?{main:_l[200],light:_l[50],dark:_l[400]}:{main:_l[700],light:_l[400],dark:_l[800]}}function K$(t="light"){return t==="dark"?{main:wl[200],light:wl[50],dark:wl[400]}:{main:wl[500],light:wl[300],dark:wl[700]}}function Q$(t="light"){return t==="dark"?{main:bl[500],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[400],dark:bl[800]}}function X$(t="light"){return t==="dark"?{main:El[400],light:El[300],dark:El[700]}:{main:El[700],light:El[500],dark:El[900]}}function Y$(t="light"){return t==="dark"?{main:Sl[400],light:Sl[300],dark:Sl[700]}:{main:Sl[800],light:Sl[500],dark:Sl[900]}}function J$(t="light"){return t==="dark"?{main:eu[400],light:eu[300],dark:eu[700]}:{main:"#ed6c02",light:eu[500],dark:eu[900]}}function M1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,a=t.primary||G$(e),l=t.secondary||K$(e),d=t.error||Q$(e),h=t.info||X$(e),m=t.success||Y$(e),g=t.warning||J$(e);function y(_){return dU(_,HE.text.primary)>=n?HE.text.primary:q$.text.primary}const x=({color:_,name:C,mainShade:A=500,lightShade:L=300,darkShade:V=700})=>{if(_={..._},!_.main&&_[A]&&(_.main=_[A]),!_.hasOwnProperty("main"))throw new Error(Ca(11,C?` (${C})`:"",A));if(typeof _.main!="string")throw new Error(Ca(12,C?` (${C})`:"",JSON.stringify(_.main)));return WE(_,"light",L,r),WE(_,"dark",V,r),_.contrastText||(_.contrastText=y(_.main)),_};let S;return e==="light"?S=Pk():e==="dark"&&(S=Ck()),kr({common:{...Yu},mode:e,primary:x({color:a,name:"primary"}),secondary:x({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:d,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:h,name:"info"}),success:x({color:m,name:"success"}),grey:W$,contrastThreshold:n,getContrastText:y,augmentColor:x,tonalOffset:r,...S},i)}function Z$(t){const e={};return Object.entries(t).forEach(r=>{const[i,a]=r;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function ez(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function tz(t){return Math.round(t*1e5)/1e5}const qE={textTransform:"uppercase"},GE='"Roboto", "Helvetica", "Arial", sans-serif';function nz(t,e){const{fontFamily:n=GE,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:m,pxToRem:g,...y}=typeof e=="function"?e(t):e,x=r/14,S=g||(C=>`${C/h*x}rem`),P=(C,A,L,V,B)=>({fontFamily:n,fontWeight:C,fontSize:S(A),lineHeight:L,...n===GE?{letterSpacing:`${tz(V/A)}em`}:{},...B,...m}),_={h1:P(i,96,1.167,-1.5),h2:P(i,60,1.2,-.5),h3:P(a,48,1.167,0),h4:P(a,34,1.235,.25),h5:P(a,24,1.334,0),h6:P(l,20,1.6,.15),subtitle1:P(a,16,1.75,.15),subtitle2:P(l,14,1.57,.1),body1:P(a,16,1.5,.15),body2:P(a,14,1.43,.15),button:P(l,14,1.75,.4,qE),caption:P(a,12,1.66,.4),overline:P(a,12,2.66,1,qE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kr({htmlFontSize:h,pxToRem:S,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:d,..._},y,{clone:!1})}const rz=.2,iz=.14,sz=.12;function It(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${rz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${iz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sz})`].join(",")}const oz=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],az={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KE(t){return`${Math.round(t)}ms`}function cz(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function uz(t){const e={...az,...t.easing},n={...lz,...t.duration};return{getAutoHeightDuration:cz,create:(i=["all"],a={})=>{const{duration:l=n.standard,easing:d=e.easeInOut,delay:h=0,...m}=a;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof l=="string"?l:KE(l)} ${d} ${typeof h=="string"?h:KE(h)}`).join(",")},...t,easing:e,duration:n}}const dz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function hz(t){return Ii(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Nk(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let a=0;a<i.length;a++){const[l,d]=i[a];!hz(d)||l.startsWith("unstable_")?delete r[l]:Ii(d)&&(r[l]={...d},n(r[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Py(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:a={},transitions:l={},typography:d={},shape:h,...m}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ca(20));const g=M1(a),y=I1(t);let x=kr(y,{mixins:ez(y.breakpoints,r),palette:g,shadows:oz.slice(),typography:nz(g,d),transitions:uz(l),zIndex:{...dz}});return x=kr(x,m),x=e.reduce((S,P)=>kr(S,P),x),x.unstable_sxConfig={...xd,...m==null?void 0:m.unstable_sxConfig},x.unstable_sx=function(P){return Na({sx:P,theme:this})},x.toRuntimeSource=Nk,x}function fz(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const pz=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=fz(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function kk(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function jk(t){return t==="dark"?pz:[]}function mz(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,a=M1(e);return{palette:a,opacity:{...kk(a.mode),...n},overlays:r||jk(a.mode),...i}}function gz(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const yz=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],vz=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return yz(t.cssVarPrefix).forEach(d=>{l[d]=n[d],delete n[d]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:a?{[a.replace("%s",e)]:l,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...l}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function xz(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function te(t,e,n){!t[e]&&n&&(t[e]=n)}function cu(t){return typeof t!="string"||!t.startsWith("hsl")?t:ek(t)}function ms(t,e){`${e}Channel`in t||(t[`${e}Channel`]=lu(cu(t[e])))}function wz(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ni=t=>{try{return t()}catch{}},bz=(t="mui")=>U$(t);function y0(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=mz({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:a,...l}=Py({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:a,opacity:{...kk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||jk(i)},l}function _z(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=gz,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:h=":root",...m}=t,g=Object.keys(n)[0],y=r||(n.light&&g!=="light"?"light":g),x=bz(a),{[y]:S,light:P,dark:_,...C}=n,A={...C};let L=S;if((y==="dark"&&!("dark"in n)||y==="light"&&!("light"in n))&&(L=!0),!L)throw new Error(Ca(21,y));const V=y0(A,L,m,y);P&&!A.light&&y0(A,P,void 0,"light"),_&&!A.dark&&y0(A,_,void 0,"dark");let B={defaultColorScheme:y,...V,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:h,getCssVar:x,colorSchemes:A,font:{...Z$(V.typography),...V.font},spacing:wz(m.spacing)};Object.keys(B.colorSchemes).forEach(D=>{const E=B.colorSchemes[D].palette,O=U=>{const M=U.split("-"),pe=M[1],Me=M[2];return x(U,E[pe][Me])};if(E.mode==="light"&&(te(E.common,"background","#fff"),te(E.common,"onBackground","#000")),E.mode==="dark"&&(te(E.common,"background","#000"),te(E.common,"onBackground","#fff")),xz(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){te(E.Alert,"errorColor",vt(E.error.light,.6)),te(E.Alert,"infoColor",vt(E.info.light,.6)),te(E.Alert,"successColor",vt(E.success.light,.6)),te(E.Alert,"warningColor",vt(E.warning.light,.6)),te(E.Alert,"errorFilledBg",O("palette-error-main")),te(E.Alert,"infoFilledBg",O("palette-info-main")),te(E.Alert,"successFilledBg",O("palette-success-main")),te(E.Alert,"warningFilledBg",O("palette-warning-main")),te(E.Alert,"errorFilledColor",Ni(()=>E.getContrastText(E.error.main))),te(E.Alert,"infoFilledColor",Ni(()=>E.getContrastText(E.info.main))),te(E.Alert,"successFilledColor",Ni(()=>E.getContrastText(E.success.main))),te(E.Alert,"warningFilledColor",Ni(()=>E.getContrastText(E.warning.main))),te(E.Alert,"errorStandardBg",xt(E.error.light,.9)),te(E.Alert,"infoStandardBg",xt(E.info.light,.9)),te(E.Alert,"successStandardBg",xt(E.success.light,.9)),te(E.Alert,"warningStandardBg",xt(E.warning.light,.9)),te(E.Alert,"errorIconColor",O("palette-error-main")),te(E.Alert,"infoIconColor",O("palette-info-main")),te(E.Alert,"successIconColor",O("palette-success-main")),te(E.Alert,"warningIconColor",O("palette-warning-main")),te(E.AppBar,"defaultBg",O("palette-grey-100")),te(E.Avatar,"defaultBg",O("palette-grey-400")),te(E.Button,"inheritContainedBg",O("palette-grey-300")),te(E.Button,"inheritContainedHoverBg",O("palette-grey-A100")),te(E.Chip,"defaultBorder",O("palette-grey-400")),te(E.Chip,"defaultAvatarColor",O("palette-grey-700")),te(E.Chip,"defaultIconColor",O("palette-grey-700")),te(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),te(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),te(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),te(E.LinearProgress,"primaryBg",xt(E.primary.main,.62)),te(E.LinearProgress,"secondaryBg",xt(E.secondary.main,.62)),te(E.LinearProgress,"errorBg",xt(E.error.main,.62)),te(E.LinearProgress,"infoBg",xt(E.info.main,.62)),te(E.LinearProgress,"successBg",xt(E.success.main,.62)),te(E.LinearProgress,"warningBg",xt(E.warning.main,.62)),te(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),te(E.Slider,"primaryTrack",xt(E.primary.main,.62)),te(E.Slider,"secondaryTrack",xt(E.secondary.main,.62)),te(E.Slider,"errorTrack",xt(E.error.main,.62)),te(E.Slider,"infoTrack",xt(E.info.main,.62)),te(E.Slider,"successTrack",xt(E.success.main,.62)),te(E.Slider,"warningTrack",xt(E.warning.main,.62));const U=Jh(E.background.default,.8);te(E.SnackbarContent,"bg",U),te(E.SnackbarContent,"color",Ni(()=>E.getContrastText(U))),te(E.SpeedDialAction,"fabHoverBg",Jh(E.background.paper,.15)),te(E.StepConnector,"border",O("palette-grey-400")),te(E.StepContent,"border",O("palette-grey-400")),te(E.Switch,"defaultColor",O("palette-common-white")),te(E.Switch,"defaultDisabledColor",O("palette-grey-100")),te(E.Switch,"primaryDisabledColor",xt(E.primary.main,.62)),te(E.Switch,"secondaryDisabledColor",xt(E.secondary.main,.62)),te(E.Switch,"errorDisabledColor",xt(E.error.main,.62)),te(E.Switch,"infoDisabledColor",xt(E.info.main,.62)),te(E.Switch,"successDisabledColor",xt(E.success.main,.62)),te(E.Switch,"warningDisabledColor",xt(E.warning.main,.62)),te(E.TableCell,"border",xt(Yh(E.divider,1),.88)),te(E.Tooltip,"bg",Yh(E.grey[700],.92))}if(E.mode==="dark"){te(E.Alert,"errorColor",xt(E.error.light,.6)),te(E.Alert,"infoColor",xt(E.info.light,.6)),te(E.Alert,"successColor",xt(E.success.light,.6)),te(E.Alert,"warningColor",xt(E.warning.light,.6)),te(E.Alert,"errorFilledBg",O("palette-error-dark")),te(E.Alert,"infoFilledBg",O("palette-info-dark")),te(E.Alert,"successFilledBg",O("palette-success-dark")),te(E.Alert,"warningFilledBg",O("palette-warning-dark")),te(E.Alert,"errorFilledColor",Ni(()=>E.getContrastText(E.error.dark))),te(E.Alert,"infoFilledColor",Ni(()=>E.getContrastText(E.info.dark))),te(E.Alert,"successFilledColor",Ni(()=>E.getContrastText(E.success.dark))),te(E.Alert,"warningFilledColor",Ni(()=>E.getContrastText(E.warning.dark))),te(E.Alert,"errorStandardBg",vt(E.error.light,.9)),te(E.Alert,"infoStandardBg",vt(E.info.light,.9)),te(E.Alert,"successStandardBg",vt(E.success.light,.9)),te(E.Alert,"warningStandardBg",vt(E.warning.light,.9)),te(E.Alert,"errorIconColor",O("palette-error-main")),te(E.Alert,"infoIconColor",O("palette-info-main")),te(E.Alert,"successIconColor",O("palette-success-main")),te(E.Alert,"warningIconColor",O("palette-warning-main")),te(E.AppBar,"defaultBg",O("palette-grey-900")),te(E.AppBar,"darkBg",O("palette-background-paper")),te(E.AppBar,"darkColor",O("palette-text-primary")),te(E.Avatar,"defaultBg",O("palette-grey-600")),te(E.Button,"inheritContainedBg",O("palette-grey-800")),te(E.Button,"inheritContainedHoverBg",O("palette-grey-700")),te(E.Chip,"defaultBorder",O("palette-grey-700")),te(E.Chip,"defaultAvatarColor",O("palette-grey-300")),te(E.Chip,"defaultIconColor",O("palette-grey-300")),te(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),te(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),te(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),te(E.LinearProgress,"primaryBg",vt(E.primary.main,.5)),te(E.LinearProgress,"secondaryBg",vt(E.secondary.main,.5)),te(E.LinearProgress,"errorBg",vt(E.error.main,.5)),te(E.LinearProgress,"infoBg",vt(E.info.main,.5)),te(E.LinearProgress,"successBg",vt(E.success.main,.5)),te(E.LinearProgress,"warningBg",vt(E.warning.main,.5)),te(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),te(E.Slider,"primaryTrack",vt(E.primary.main,.5)),te(E.Slider,"secondaryTrack",vt(E.secondary.main,.5)),te(E.Slider,"errorTrack",vt(E.error.main,.5)),te(E.Slider,"infoTrack",vt(E.info.main,.5)),te(E.Slider,"successTrack",vt(E.success.main,.5)),te(E.Slider,"warningTrack",vt(E.warning.main,.5));const U=Jh(E.background.default,.98);te(E.SnackbarContent,"bg",U),te(E.SnackbarContent,"color",Ni(()=>E.getContrastText(U))),te(E.SpeedDialAction,"fabHoverBg",Jh(E.background.paper,.15)),te(E.StepConnector,"border",O("palette-grey-600")),te(E.StepContent,"border",O("palette-grey-600")),te(E.Switch,"defaultColor",O("palette-grey-300")),te(E.Switch,"defaultDisabledColor",O("palette-grey-600")),te(E.Switch,"primaryDisabledColor",vt(E.primary.main,.55)),te(E.Switch,"secondaryDisabledColor",vt(E.secondary.main,.55)),te(E.Switch,"errorDisabledColor",vt(E.error.main,.55)),te(E.Switch,"infoDisabledColor",vt(E.info.main,.55)),te(E.Switch,"successDisabledColor",vt(E.success.main,.55)),te(E.Switch,"warningDisabledColor",vt(E.warning.main,.55)),te(E.TableCell,"border",vt(Yh(E.divider,1),.68)),te(E.Tooltip,"bg",Yh(E.grey[700],.92))}ms(E.background,"default"),ms(E.background,"paper"),ms(E.common,"background"),ms(E.common,"onBackground"),ms(E,"divider"),Object.keys(E).forEach(U=>{const M=E[U];U!=="tonalOffset"&&M&&typeof M=="object"&&(M.main&&te(E[U],"mainChannel",lu(cu(M.main))),M.light&&te(E[U],"lightChannel",lu(cu(M.light))),M.dark&&te(E[U],"darkChannel",lu(cu(M.dark))),M.contrastText&&te(E[U],"contrastTextChannel",lu(cu(M.contrastText))),U==="text"&&(ms(E[U],"primary"),ms(E[U],"secondary")),U==="action"&&(M.active&&ms(E[U],"active"),M.selected&&ms(E[U],"selected")))})}),B=e.reduce((D,E)=>kr(D,E),B);const q={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:vz(B)},{vars:X,generateThemeVars:R,generateStyleSheets:j}=z$(B,q);return B.vars=X,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([D,E])=>{B[D]=E}),B.generateThemeVars=R,B.generateStyleSheets=j,B.generateSpacing=function(){return _k(m.spacing,C1(this))},B.getColorSchemeSelector=H$(d),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=l,B.unstable_sxConfig={...xd,...m==null?void 0:m.unstable_sxConfig},B.unstable_sx=function(E){return Na({sx:E,theme:this})},B.toRuntimeSource=Nk,B}function QE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:M1({...n===!0?{}:n.palette,mode:e})})}function Ak(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...l}=t,d=a||"light",h=i==null?void 0:i[d],m={...i,...n?{[d]:{...typeof h!="boolean"&&h,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Py(t,...e);let g=n;"palette"in t||m[d]&&(m[d]!==!0?g=m[d].palette:d==="dark"&&(g={mode:"dark"}));const y=Py({...t,palette:g},...e);return y.defaultColorScheme=d,y.colorSchemes=m,y.palette.mode==="light"&&(y.colorSchemes.light={...m.light!==!0&&m.light,palette:y.palette},QE(y,"dark",m.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:y.palette},QE(y,"light",m.light)),y}return!n&&!("light"in m)&&d==="light"&&(m.light=!0),_z({...l,colorSchemes:m,defaultColorScheme:d,...typeof r!="boolean"&&r},...e)}const Ez=Ak(),Ik="$$material";function V1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Sz=t=>V1(t)&&t!=="classes",Mo=A$({themeId:Ik,defaultTheme:Ez,rootShouldForwardProp:Sz});function Tz(){return ak}const Ra=F$;function Rk(t){return L$(t)}const Pz=t=>!t||!Sf(t);function Cz(t){return typeof t.main=="string"}function Nz(t,e=[]){if(!Cz(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function tm(t=[]){return([,e])=>e&&Nz(e,t)}function kz(t){return R1("MuiSlider",t)}const Wr=D1("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),jz=t=>{const{open:e}=t;return{offset:qi(e&&Wr.valueLabelOpen),circle:Wr.valueLabelCircle,label:Wr.valueLabelLabel}};function Az(t){const{children:e,className:n,value:r}=t,i=jz(t);return e?k.cloneElement(e,{className:e.props.className},c.jsxs(k.Fragment,{children:[e.props.children,c.jsx("span",{className:qi(i.offset,n),"aria-hidden":!0,children:c.jsx("span",{className:i.circle,children:c.jsx("span",{className:i.label,children:r})})})]})):null}function XE(t){return t}const Iz=Mo("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Nr(n.color)}`],n.size!=="medium"&&e[`size${Nr(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(Ra(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Wr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Wr.dragging}`]:{[`& .${Wr.thumb}, & .${Wr.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(tm()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Rz=Mo("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Dz=Mo("span",{name:"MuiSlider",slot:"Track"})(Ra(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(tm()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Gu(t.palette[e].main,.62),borderColor:Gu(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:qu(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:qu(t.palette[e].main,.5)})}}}))]}))),Mz=Mo("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Nr(n.color)}`],n.size!=="medium"&&e[`thumbSize${Nr(n.size)}`]]}})(Ra(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Wr.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(tm()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Wr.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${wy(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Wr.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${wy(t.palette[e].main,.16)}`}}}}))]}))),Vz=Mo(Az,{name:"MuiSlider",slot:"ValueLabel"})(Ra(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Wr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Wr.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Oz=Mo("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>V1(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(Ra(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),Lz=Mo("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>V1(t)&&t!=="markLabelActive"})(Ra(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),Fz=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:a,classes:l,color:d,size:h}=t,m={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",d&&`color${Nr(d)}`,h&&`size${Nr(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${Nr(h)}`,d&&`thumbColor${Nr(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ZN(m,kz,l)},Uz=({children:t})=>t,Dk=k.forwardRef(function(e,n){const r=Rk({props:e,name:"MuiSlider"}),i=pU(),{"aria-label":a,"aria-valuetext":l,"aria-labelledby":d,component:h="span",components:m={},componentsProps:g={},color:y="primary",classes:x,className:S,disableSwap:P=!1,disabled:_=!1,getAriaLabel:C,getAriaValueText:A,marks:L=!1,max:V=100,min:B=0,name:q,onChange:X,onChangeCommitted:R,orientation:j="horizontal",shiftStep:D=10,size:E="medium",step:O=1,scale:U=XE,slotProps:M,slots:pe,tabIndex:Me,track:Ae="normal",value:Se,valueLabelDisplay:ne="off",valueLabelFormat:ge=XE,...ue}=r,z={...r,isRtl:i,max:V,min:B,classes:x,disabled:_,disableSwap:P,orientation:j,marks:L,color:y,size:E,step:O,shiftStep:D,scale:U,track:Ae,valueLabelDisplay:ne,valueLabelFormat:ge},{axisProps:W,getRootProps:fe,getHiddenInputProps:je,getThumbProps:Ne,open:ze,active:qe,axis:Le,focusedThumbIndex:Ie,range:nt,dragging:Nt,marks:Mt,values:ft,trackOffset:Vt,trackLeap:gn,getThumbStyle:Hn}=NU({...z,rootRef:n});z.marked=Mt.length>0&&Mt.some(lt=>lt.label),z.dragging=Nt,z.focusedThumbIndex=Ie;const mt=Fz(z),de=(pe==null?void 0:pe.root)??m.Root??Iz,Ue=(pe==null?void 0:pe.rail)??m.Rail??Rz,Ye=(pe==null?void 0:pe.track)??m.Track??Dz,Bt=(pe==null?void 0:pe.thumb)??m.Thumb??Mz,wt=(pe==null?void 0:pe.valueLabel)??m.ValueLabel??Vz,yn=(pe==null?void 0:pe.mark)??m.Mark??Oz,mr=(pe==null?void 0:pe.markLabel)??m.MarkLabel??Lz,ae=(pe==null?void 0:pe.input)??m.Input??"input",ce=(M==null?void 0:M.root)??g.root,xe=(M==null?void 0:M.rail)??g.rail,ee=(M==null?void 0:M.track)??g.track,ye=(M==null?void 0:M.thumb)??g.thumb,be=(M==null?void 0:M.valueLabel)??g.valueLabel,Ke=(M==null?void 0:M.mark)??g.mark,ot=(M==null?void 0:M.markLabel)??g.markLabel,He=(M==null?void 0:M.input)??g.input,Xt=to({elementType:de,getSlotProps:fe,externalSlotProps:ce,externalForwardedProps:ue,additionalProps:{...Pz(de)&&{as:h}},ownerState:{...z,...ce==null?void 0:ce.ownerState},className:[mt.root,S]}),Qr=to({elementType:Ue,externalSlotProps:xe,ownerState:z,className:mt.rail}),Vo=to({elementType:Ye,externalSlotProps:ee,additionalProps:{style:{...W[Le].offset(Vt),...W[Le].leap(gn)}},ownerState:{...z,...ee==null?void 0:ee.ownerState},className:mt.track}),Yi=to({elementType:Bt,getSlotProps:Ne,externalSlotProps:ye,ownerState:{...z,...ye==null?void 0:ye.ownerState},className:mt.thumb}),Ji=to({elementType:wt,externalSlotProps:be,ownerState:{...z,...be==null?void 0:be.ownerState},className:mt.valueLabel}),gi=to({elementType:yn,externalSlotProps:Ke,ownerState:z,className:mt.mark}),yi=to({elementType:mr,externalSlotProps:ot,ownerState:z,className:mt.markLabel}),Yn=to({elementType:ae,getSlotProps:je,externalSlotProps:He,ownerState:z});return c.jsxs(de,{...Xt,children:[c.jsx(Ue,{...Qr}),c.jsx(Ye,{...Vo}),Mt.filter(lt=>lt.value>=B&&lt.value<=V).map((lt,kt)=>{const Jn=cp(lt.value,B,V),vi=W[Le].offset(Jn);let En;return Ae===!1?En=ft.includes(lt.value):En=Ae==="normal"&&(nt?lt.value>=ft[0]&&lt.value<=ft[ft.length-1]:lt.value<=ft[0])||Ae==="inverted"&&(nt?lt.value<=ft[0]||lt.value>=ft[ft.length-1]:lt.value>=ft[0]),c.jsxs(k.Fragment,{children:[c.jsx(yn,{"data-index":kt,...gi,...!Sf(yn)&&{markActive:En},style:{...vi,...gi.style},className:qi(gi.className,En&&mt.markActive)}),lt.label!=null?c.jsx(mr,{"aria-hidden":!0,"data-index":kt,...yi,...!Sf(mr)&&{markLabelActive:En},style:{...vi,...yi.style},className:qi(mt.markLabel,yi.className,En&&mt.markLabelActive),children:lt.label}):null]},kt)}),ft.map((lt,kt)=>{const Jn=cp(lt,B,V),vi=W[Le].offset(Jn),En=ne==="off"?Uz:wt;return c.jsx(En,{...!Sf(En)&&{valueLabelFormat:ge,valueLabelDisplay:ne,value:typeof ge=="function"?ge(U(lt),kt):ge,index:kt,open:ze===kt||qe===kt||ne==="on",disabled:_},...Ji,children:c.jsx(Bt,{"data-index":kt,...Yi,className:qi(mt.thumb,Yi.className,qe===kt&&mt.active,Ie===kt&&mt.focusVisible),style:{...vi,...Hn(kt),...Yi.style},children:c.jsx(ae,{"data-index":kt,"aria-label":C?C(kt):a,"aria-valuenow":U(lt),"aria-labelledby":d,"aria-valuetext":A?A(U(lt),kt):l,value:ft[kt],...Yn})})},kt)})]})});function Bz(t){return R1("MuiTypography",t)}D1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const $z={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},zz=Tz(),Hz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:l}=t,d={root:["root",a,t.align!=="inherit"&&`align${Nr(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ZN(d,Bz,l)},Wz=Mo("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Nr(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ra(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(tm()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Nr(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),YE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Mk=k.forwardRef(function(e,n){const{color:r,...i}=Rk({props:e,name:"MuiTypography"}),a=!$z[r],l=zz({...i,...a&&{color:r}}),{align:d="inherit",className:h,component:m,gutterBottom:g=!1,noWrap:y=!1,paragraph:x=!1,variant:S="body1",variantMapping:P=YE,..._}=l,C={...l,align:d,color:r,className:h,component:m,gutterBottom:g,noWrap:y,paragraph:x,variant:S,variantMapping:P},A=m||(x?"p":P[S]||YE[S])||"span",L=Hz(C);return c.jsx(Wz,{as:A,ref:n,className:qi(L.root,h),..._,ownerState:C,style:{...d!=="inherit"&&{"--Typography-textAlign":d},..._.style}})}),qz=D1("MuiBox",["root"]),Gz=Ak(),Vk=P$({themeId:Ik,defaultTheme:Gz,defaultClassName:qz.root,generateClassName:Ek.generate}),Kz={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.3)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 6px rgba(60, 80, 120, 0.5)"}},Qz={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.6)","0 0 10px rgba(80, 100, 140, 0.9)","0 0 4px rgba(80, 100, 140, 0.6)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function Ok({filtros:t,setFiltros:e,productosOriginales:n}){const[r,i]=k.useState([]);k.useEffect(()=>{let h=n;(t.estado.nuevo||t.estado.usado)&&(h=h.filter(y=>t.estado.nuevo&&t.estado.usado?!0:t.estado.nuevo?y.estado==="Nuevo":t.estado.usado?y.estado==="Usado":!0));const m=t.precio.min!==""?Number(t.precio.min):0,g=t.precio.max!==""?Number(t.precio.max):1/0;h=h.filter(y=>y.precio>=m&&y.precio<=g),i(h)},[t,n]);const a=(h,m)=>{e(g=>({...g,precio:{min:m[0],max:m[1]}}))},l=()=>{e({estado:{nuevo:!1,usado:!1},precio:{min:0,max:1e3}})},d=76;return c.jsxs("aside",{className:"hidden lg:block w-56 max-w-[240px] relative z-40",style:{height:`calc(100vh - ${d}px)`,overflow:"hidden",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Filtros",children:[c.jsx(YN,{}),c.jsxs("div",{style:{position:"relative",zIndex:1,height:`calc(100vh - ${d}px)`,overflowY:"auto",padding:"1rem",backgroundColor:"transparent",border:"none",boxShadow:"none"},children:[c.jsx(J.h2,{className:"text-lg font-semibold mb-4 text-blue-800",variants:Qz,animate:"animate",children:"Filtros"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Estado"}),c.jsxs("label",{className:"switch-container",children:[c.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.nuevo,onChange:()=>e(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),c.jsx("div",{className:"slider"}),c.jsx("span",{className:"ml-2",children:"Nuevo"})]}),c.jsxs("label",{className:"switch-container mt-2",children:[c.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.usado,onChange:()=>e(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),c.jsx("div",{className:"slider"}),c.jsx("span",{className:"ml-2",children:"Usado"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx(Mk,{gutterBottom:!0,children:"Precio (RD$)"}),c.jsx(Vk,{sx:{px:1,"& .MuiSlider-thumb":{width:14,height:14,bgcolor:"#1976d2",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 8px rgba(25, 118, 210, 0.16)"}},"& .MuiSlider-rail":{height:6,opacity:.5,bgcolor:"#bfbfbf",borderRadius:3},"& .MuiSlider-track":{height:6,borderRadius:3},"& .MuiSlider-root":{padding:"15px 0"}},children:c.jsx(Dk,{value:[t.precio.min,t.precio.max],onChange:a,valueLabelDisplay:"auto",min:0,max:1e3})}),c.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-700",children:[c.jsxs("span",{children:["RD$",t.precio.min]}),c.jsxs("span",{children:["RD$",t.precio.max]})]})]}),c.jsx(J.button,{onClick:l,variants:Kz,initial:"initial",whileHover:"hover",whileTap:"tap",className:"bg-blue-600 text-white text-sm px-3 py-2 rounded w-full",children:"Restablecer filtros"}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:r.length===0?"No hay productos que coincidan con los filtros.":`Mostrando ${r.length} producto${r.length>1?"s":""}`})]})]})}function Lk({filtros:t,setFiltros:e,onReset:n,visible:r,onClose:i}){const[a,l]=k.useState(t);k.useEffect(()=>{l(t)},[t,r]);const d=(h,m)=>{l(g=>({...g,precio:{min:m[0],max:m[1]}}))};return c.jsxs("div",{className:`fixed top-0 right-0 h-full w-72 bg-white border-l shadow-lg z-[9999] transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[c.jsx("h2",{className:"text-lg font-semibold text-indigo-700",children:"Filtros"}),c.jsx("button",{onClick:i,className:"text-indigo-600 font-extrabold text-xl hover:text-indigo-800 transition-colors","aria-label":"Cerrar filtro",children:""})]}),c.jsxs("div",{className:"p-4 pt-6 flex flex-col gap-6 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-3 text-indigo-700",children:"Estado"}),c.jsxs("label",{className:"switch-container mb-2",children:[c.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.nuevo,onChange:()=>l(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),c.jsx("div",{className:"slider"}),c.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Nuevo"})]}),c.jsxs("label",{className:"switch-container",children:[c.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.usado,onChange:()=>l(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),c.jsx("div",{className:"slider"}),c.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Usado"})]})]}),c.jsxs("div",{children:[c.jsx(Mk,{gutterBottom:!0,className:"text-sm font-semibold text-indigo-700",children:"Precio (RD$)"}),c.jsx(Vk,{sx:{px:1,"& .MuiSlider-thumb":{width:16,height:16,bgcolor:"#5a67d8",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 10px rgba(90, 103, 216, 0.2)"}},"& .MuiSlider-rail":{height:8,opacity:.3,bgcolor:"#cbd5e1",borderRadius:4},"& .MuiSlider-track":{height:8,borderRadius:4,bgcolor:"#5a67d8"},"& .MuiSlider-root":{padding:"20px 0"}},children:c.jsx(Dk,{value:[a.precio.min,a.precio.max],onChange:d,valueLabelDisplay:"auto",min:0,max:1e3})}),c.jsxs("div",{className:"flex justify-between text-xs text-indigo-700 mt-1 font-semibold",children:[c.jsxs("span",{children:["RD$",a.precio.min]}),c.jsxs("span",{children:["RD$",a.precio.max]})]})]})]}),c.jsxs("div",{className:"flex justify-between gap-3 border-t border-gray-300 p-4 mt-4",children:[c.jsx("button",{onClick:()=>{n(),i()},className:"w-1/2 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold text-sm py-2 rounded transition-colors",children:"Restablecer"}),c.jsx("button",{onClick:()=>{e(a),i()},className:"w-1/2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold text-sm py-2 rounded transition-colors",children:"Aplicar filtros"})]})]})}function Fk({onClick:t}){return c.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 rounded-full text-sm font-medium",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Filtros"]})}function Xz(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[];for(let r=0;r<=e.length;r++)n[r]=[r];for(let r=0;r<=t.length;r++)n[0][r]=r;for(let r=1;r<=e.length;r++)for(let i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,n[r][i-1]+1,n[r-1][i]+1);return n[e.length][t.length]}function sf(t,e){return!t||!e?!1:Xz(t,e)<=2||t.includes(e)||e.includes(t)}const Yz=56;function Jz(){const t=Qi(),[e,n]=k.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[r,i]=k.useState(!1),[a,l]=k.useState(!1),d=Mi.flatMap(P=>P.productos),m=new URLSearchParams(t.search).get("q")||"",g=d0(m),y=d.filter(P=>{const _=d0(P.nombre),C=d0(P.empresa||"");return g.split(" ").filter(Boolean).some(L=>sf(_,L)||sf(C,L))||sf(_,g)||sf(C,g)}),x=y.filter(P=>{const _=e.precio.min===""||P.precio>=Number(e.precio.min),C=e.precio.max===""||P.precio<=Number(e.precio.max),A=!e.estado.nuevo&&!e.estado.usado||e.estado.nuevo&&P.estado==="Nuevo"||e.estado.usado&&P.estado==="Usado";return _&&C&&A}),S=()=>{n({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}})};return c.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen bg-white pt-0",style:{paddingTop:Yz},children:[c.jsx("aside",{className:"hidden lg:block w-64 border-r border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto",children:c.jsx(lp,{categoriaActiva:null,setMostrarEnMovil:l})}),c.jsxs("main",{className:"flex-1 p-4 overflow-y-auto relative",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[c.jsx("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:" Categoras"}),c.jsx(Fk,{onClick:()=>i(!0)})]}),c.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-800",children:"Resultados de bsqueda"}),x.length===0?c.jsxs("p",{className:"text-gray-600",children:["No se encontraron productos relacionados con ",c.jsx("span",{className:"font-bold",children:m}),"."]}):c.jsx("div",{className:"productos-grid",children:x.map(P=>c.jsx(XN,{producto:P},P.id))})]}),c.jsx("aside",{className:"hidden lg:block w-64 border-l border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto px-4 py-4",children:c.jsx(Ok,{filtros:e,setFiltros:n,productosOriginales:y})}),a&&c.jsx(lp,{categoriaActiva:null,mostrarEnMovil:a,setMostrarEnMovil:l}),c.jsx("div",{className:"lg:hidden",children:c.jsx(Lk,{filtros:e,setFiltros:n,visible:r,onClose:()=>i(!1),onReset:S})})]})}function of(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}function JE(){const{categoria:t}=Dy(),e=pr(),[n,r]=k.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[i,a]=k.useState(""),[l,d]=k.useState(!1),[h,m]=k.useState(!1),[g,y]=k.useState("Todos"),[x,S]=k.useState(0);k.useEffect(()=>{function V(){const q=document.querySelector(".shadow-md.px-4.py-2.flex.justify-between.items-center"),X=q?Math.ceil(q.getBoundingClientRect().height):0;S(X),document.documentElement.style.setProperty("--topbar-height",`${X}px`)}V(),window.addEventListener("resize",V);const B=new MutationObserver(V);return B.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",V),B.disconnect()}},[]),k.useEffect(()=>{if(!t||t==="todos")y("Todos");else{const V=Mi.find(B=>of(B.categoria)===of(t));y(V?V.categoria:"Todos")}},[t]);const P=k.useMemo(()=>{if(g==="Todos")return Mi.flatMap(B=>B.productos).filter(B=>B==null?void 0:B.id);const V=Mi.find(B=>of(B.categoria)===of(g));return((V==null?void 0:V.productos)??[]).filter(B=>B==null?void 0:B.id)},[g]),_=k.useMemo(()=>P.filter(V=>{const B=n.precio.min===""||V.precio>=Number(n.precio.min),q=n.precio.max===""||V.precio<=Number(n.precio.max),X=!n.estado.nuevo&&!n.estado.usado||n.estado.nuevo&&V.estado==="Nuevo"||n.estado.usado&&V.estado==="Usado",R=!i||typeof V.empresa=="string"&&V.empresa===i||Array.isArray(V.empresa)&&V.empresa.includes(i);return B&&q&&X&&R}),[P,n,i]),C=(V,B)=>{e(`/productos/${B}`),d(!1),m(!1),a("")},A=()=>{r({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),a("")},L=[{nombre:"PlayStation",imagen:"/logos/PlayStation_logo.svg.png"},{nombre:"Xbox",imagen:"/logos/xbox-logo.png"},{nombre:"Nintendo",imagen:"/logos/nintendo-logo.png"}];return c.jsxs("div",{className:"flex flex-col min-h-screen bg-white pb-[96px]",style:{position:"relative",marginTop:0,paddingTop:`${x}px`,transition:"padding-top 0.2s",boxSizing:"border-box"},children:[c.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row w-full",children:[c.jsx(lp,{categoriaActiva:g,onCategoriaClick:C,className:"bg-transparent border-none shadow-none"}),c.jsxs("main",{className:"flex-1 p-0 lg:p-4 relative pb-32",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[c.jsx("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:" Categoras"}),c.jsx(Fk,{onClick:()=>d(!0)})]}),c.jsxs("div",{className:"px-4 lg:px-0 mb-6 animate-fadeIn",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-gradient bg-gradient-to-r from-blue-700 via-purple-600 to-pink-500 text-transparent bg-clip-text drop-shadow-md",children:g==="Todos"?"Todos los productos":g}),g!=="Todos"&&c.jsxs("p",{className:"text-gray-500 text-base sm:text-lg mt-2",children:["Encuentra lo mejor en ",c.jsx("span",{className:"font-semibold text-blue-700",children:g})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-5 px-4 lg:px-0 mb-10 justify-center sm:justify-start",children:[L.map(V=>c.jsxs("button",{onClick:()=>a(V.nombre),className:`group relative w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white border-4 flex items-center justify-center shadow-xl hover:scale-110 transition-all duration-300 ${i===V.nombre?"border-blue-700 ring-4 ring-offset-2 ring-blue-500 animate-spin-slow":"border-gray-300 hover:border-blue-400"}`,title:V.nombre,children:[c.jsx("img",{src:V.imagen,alt:V.nombre,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain z-10"}),i===V.nombre&&c.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-blue-500 animate-pulse z-0"})]},V.nombre)),c.jsx("button",{onClick:()=>a(""),className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 flex items-center justify-center text-lg sm:text-xl font-bold bg-gradient-to-br from-red-100 to-red-300 text-red-700 border-red-600 shadow-lg hover:scale-110 transition-all duration-300",title:"Quitar filtro",children:""})]}),_.length===0?c.jsx("p",{className:"text-center text-gray-600 mt-10",children:"No hay productos que coincidan con tus filtros."}):c.jsx("div",{className:"productos-grid px-4 lg:px-0",children:_.map(V=>c.jsx(XN,{producto:V},V.id))})]}),c.jsx(Ok,{filtros:n,setFiltros:r,productosOriginales:P,className:"bg-transparent border-none shadow-none"})]}),h&&c.jsx(lp,{categoriaActiva:g,onCategoriaClick:C,mostrarEnMovil:h,setMostrarEnMovil:m,className:"bg-transparent border-none shadow-none"}),c.jsx("div",{className:"xl:hidden",children:c.jsx(Lk,{filtros:n,setFiltros:r,visible:l,onClose:()=>d(!1),onReset:A})})]})}const Zz=[{id:0,nombre:"Estafeta Principal (Oficina)",descripcion:"Playcenter Universal",direccion:"Av Estrella Sadhala N 55, Frente a la doble va, Santiago",telefono:"809-582-1212",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'13.2%22N+70%C2%B041'23.3%22W/@19.436998,-70.689812,17z/data=!4m4!3m3!8m2!3d19.437!4d-70.6898056",imagen:"/estafetas/oficina.png"},{id:1,nombre:"Estafeta Villa-Olmpica",descripcion:"Minimarket Los Hermanos",direccion:"Calle Penetracin N 1, Suburbanizacin Mare Lpez, La villa-Olmpica, Prximo a la calle 1",telefono:"809-626-3262",ubicacionLink:"https://www.google.com/maps/place/19%C2%B025'43.1%22N+70%C2%B041'12.7%22W/@19.4286338,-70.6894342,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.4286338!4d-70.6868593?hl=es&entry=ttu",imagen:"/estafetas/loshermanos.png"},{id:2,nombre:"Estafeta Nibaje",descripcion:"Cafetera Guido",direccion:"Avenida Franco Vido, N 148, Nibaje",telefono:"829-324-2318",ubicacionLink:"https://www.google.com/maps/place//@19.420887,-70.6811611,3857m/data=!3m2!1e3!4b1?entry=ttu",imagen:"/estafetas/cafeteria-guido.png"},{id:3,nombre:"Estafeta El Ensueo",descripcion:"Saln y Cafetera Marais",direccion:"Calle Paseo de los Locutores, Esquina 11, El Ensueo",telefono:"829-755-3636",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'22.4%22N+70%C2%B041'26.1%22W/@19.439565,-70.690574,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.439565!4d-70.690574?entry=ttu",imagen:"/estafetas/salon-y-cafeteria-maraez.png"},{id:4,nombre:"Estafeta La Lotera",descripcion:"Colmado Espinal",direccion:"La Lotera, calle Salcedo, N 10",telefono:"829-288-9168",ubicacionLink:"https://www.google.com/maps/place/19.439565,-70.690574/data=!4m6!3m5!1s0!7e2!8m2!3d19.439564999999998!4d-70.690574",imagen:"/estafetas/colmado-espinal.png"},{id:5,nombre:"Estafeta La Villa-Olmpica",descripcion:"Palmatec Solutions",direccion:"Villa-Olmpica, frente Manzana F, al lado del antiguo Colegio Gnesis",telefono:"809-785-3354",ubicacionLink:"https://www.google.com/maps/place/19.435309,-70.685961/data=!4m6!3m5!1s0!7e2!8m2!3d19.435309!4d-70.68596099999999",imagen:"/estafetas/palmatech-solution.png"},{id:6,nombre:"Estafeta Ensanche Bermdez",descripcion:"St Electronics",direccion:"Calle 11, nmero 27, Ensanche Bermdez",telefono:"849-437-3100",ubicacionLink:"https://www.google.com/maps/place/Espailla,+51000+Santiago+de+los+Caballeros/@19.4717075,-70.7148707,964m/data=!3m2!1e3!4b1!4m6!3m5!1s0x8eb1c5e2c3c79d7d:0x3a75c6d5f2312708!8m2!3d19.4717075!4d-70.7148707",imagen:"/estafetas/St electronics.png"},{id:7,nombre:"Estafeta Los Guandules",descripcion:"Mini Market El Vecino",direccion:"Estafeta de pago Los Guandules, prximo al puente",telefono:"+1 829 218 1889",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'15.3%22N+70%C2%B041'22.2%22W/@19.4381999,-70.6893169,526m/data=!3m1!1e3!4m4!3m3!8m2!3d19.437576!4d-70.689512?entry=ttu",imagen:"/estafetas/losguandules.png"}],eH=[{banco:"BANRESERVAS",numero:"9600153322",tipo:"Cuenta Corriente",titular:"PLAYCENTER"},{banco:"POPULAR",numero:"0798928750",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"BHD",numero:"18673320016",tipo:"Cuenta Corriente",titular:"FRANKLYN SANTOS"},{banco:"SantaCruz",numero:"11142010011632",tipo:"Cuenta Ahorro",titular:"PLAYCENTER"},{banco:"Scotiabank",numero:"12010008845",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"ASOC. CIBAO",numero:"100090238474",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"}];function tH(){const[t,e]=k.useState(null),n=(r,i)=>{navigator.clipboard.writeText(r),e(i),setTimeout(()=>e(null),2e3)};return c.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 py-10",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-gray-800 tracking-tight",children:"Estafetas de Pago y Mtodos de Pago"}),c.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Puedes pagar tu factura en cualquiera de nuestros puntos autorizados o mediante transferencia bancaria."}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-7 mb-12 shadow-lg",children:[c.jsxs("h2",{className:"text-2xl font-semibold text-blue-700 flex items-center gap-2 mb-3",children:[c.jsx(b7,{className:"text-blue-500"}),"Cuentas Bancarias para Transferencias"]}),c.jsxs("p",{className:"text-red-600 font-semibold mb-2",children:[" Incluye tu ",c.jsx("span",{className:"underline",children:"cdigo de cliente"})," o",c.jsx("span",{className:"underline",children:" nombre completo"})," en la descripcin del pago."]}),c.jsxs("p",{className:"text-gray-700 mb-4 text-[15px]",children:["Es indispensable enviar el comprobante de pago al 809-582-1212 para poder aplicarlo.",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 font-bold",children:"Sin el comprobante no podremos procesar tu pago."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:eH.map((r,i)=>c.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-5 flex flex-col shadow group hover:shadow-xl transition",children:[c.jsxs("h3",{className:"text-lg font-bold text-indigo-700 flex items-center gap-2 mb-2",children:[c.jsx(S7,{className:"text-indigo-500"}),r.banco]}),c.jsxs("p",{className:"text-gray-700 mb-1 flex items-center",children:[c.jsx("span",{className:"font-semibold mr-1",children:"Nmero: "}),c.jsxs("span",{className:"text-gray-900 font-mono flex items-center",children:[r.numero,c.jsx("button",{onClick:()=>n(r.numero,i),className:"text-indigo-600 hover:text-indigo-800 ml-1",title:"Copiar nmero",children:t===i?c.jsx(y7,{}):c.jsx(P7,{})})]})]}),c.jsxs("p",{className:"text-gray-700 mb-1",children:[c.jsx("span",{className:"font-semibold",children:"Tipo: "}),r.tipo]}),c.jsxs("p",{className:"text-gray-700",children:[c.jsx("span",{className:"font-semibold",children:"Titular: "}),r.titular]})]},i))})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:Zz.map(r=>c.jsxs("div",{className:"flex flex-col md:flex-row bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl transition",children:[c.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-blue-50 flex items-center justify-center p-3",children:c.jsx("img",{src:r.imagen,alt:r.nombre,className:"w-full h-full object-contain rounded-xl"})}),c.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-1",children:r.nombre}),c.jsx("p",{className:"text-gray-700 text-lg font-medium mb-1",children:r.descripcion}),c.jsx("p",{className:"text-gray-600 mb-1",children:r.direccion}),c.jsxs("p",{className:"text-green-600 flex items-center gap-2 mb-2",children:[c.jsx(rp,{className:"text-green-500"}),r.telefono]})]}),c.jsxs("a",{href:r.ubicacionLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mt-3 font-semibold flex items-center gap-2",children:[c.jsx("span",{role:"img","aria-label":"location",children:""}),"Ver Ubicacin"]})]})]},r.id))}),c.jsx("p",{className:"text-center text-gray-500 mt-12 text-lg",children:"Agradecemos su preferencia! Estamos para servirle."})]})}function nH({children:t}){const{usuario:e}=Ar();return e?t:c.jsx(zj,{to:"/login",replace:!0})}const ZE="https://playcenter-universal.onrender.com";function rH(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function iH(){const[t]=My(),e=pr(),{usuario:n,usuarioInfo:r}=Ar(),{carrito:i,vaciarCarrito:a}=gd(),[l,d]=k.useState(1),[h,m]=k.useState(0);k.useEffect(()=>{const y=t.get("session"),x=rH(),S=setInterval(()=>{m(A=>A>=90?A:A+Math.random()*15)},200),P=setTimeout(()=>d(2),1e3),_=setTimeout(()=>d(3),1800),C=async()=>{var A;try{if(!y){e("/payment/cancel");return}const L=await fetch(`${ZE}/cardnet/get-sk/${y}`),{sk:V}=await L.json();if(!V){e(`/payment/cancel?session=${y}`);return}const q=await(await fetch(`${ZE}/cardnet/verify/${y}/${V}`)).json(),X=(A=x==null?void 0:x.items)!=null&&A.length?x.items.map(D=>({id:D.id,nombre:D.nombre,precio:Number(D.precio)||0,cantidad:D.cantidad,imagen:D.imagen||"/Productos/default.jpg",empresa:D.empresa||"N/A",subtotal:(Number(D.precio)||0)*D.cantidad})):i.map(D=>({id:D.id,nombre:D.nombre,precio:Number(D.precio)||0,cantidad:D.cantidad,imagen:D.imagen||"/Productos/default.jpg",empresa:D.empresa||"N/A",subtotal:(Number(D.precio)||0)*D.cantidad})),R=(x==null?void 0:x.total)??i.reduce((D,E)=>D+(Number(E.precio)||0)*E.cantidad,0),j={userId:(n==null?void 0:n.uid)||null,userEmail:(r==null?void 0:r.email)||(n==null?void 0:n.email)||null,userName:(r==null?void 0:r.displayName)||null,userPhone:(r==null?void 0:r.telefono)||null,productos:X,total:R,subtotal:X.reduce((D,E)=>D+E.subtotal,0),impuestos:0,envio:0,estado:(q==null?void 0:q.ResponseCode)==="00"?"completado":"cancelado",estadoPago:(q==null?void 0:q.ResponseCode)==="00"?"pagado":"fallido",metodoPago:"CardNet",fecha:OP(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(x==null?void 0:x.mode)||(x?"unknown":"cart"),direccionEntrega:(r==null?void 0:r.direccionCompleta)||null,telefonoContacto:(r==null?void 0:r.telefono)||null,notasEspeciales:null,raw:{...q,SESSION:y}};try{await Mv(mi(tt,"orders"),j)}catch(D){console.error(" Error guardando orden:",D)}try{sessionStorage.removeItem("checkoutPayload")}catch{}m(100),d(4),setTimeout(()=>{(q==null?void 0:q.ResponseCode)==="00"?(((x==null?void 0:x.mode)||"cart")==="cart"&&a(),e(`/payment/success?session=${y}`)):e(`/payment/cancel?session=${y}`)},1e3)}catch(L){console.error(" Error verificando pago:",L),e("/payment/cancel")}};if(y){const A=setTimeout(C,1e4);return()=>{clearTimeout(A),clearInterval(S),clearTimeout(P),clearTimeout(_)}}else e("/payment/cancel")},[t,e,n,r,i,a]);const g=[{id:1,icon:J7,title:"Conectando con CardNet",description:"Estableciendo conexin segura"},{id:2,icon:ap,title:"Verificando seguridad",description:"Validando datos de pago"},{id:3,icon:qN,title:"Procesando transaccin",description:"Confirmando tu compra"},{id:4,icon:yy,title:"Completado!",description:"Redirigiendo..."}];return c.jsxs(J.div,{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-3 sm:px-6 z-50 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[c.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((y,x)=>c.jsx(J.div,{className:"absolute w-2 h-2 bg-blue-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*10+10,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},x))}),c.jsxs(J.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-2xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.8,y:50},animate:{scale:1,y:0},transition:{type:"spring",damping:20,stiffness:300},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 rounded-2xl sm:rounded-3xl"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Progreso"}),c.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(h),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:c.jsx(J.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5,ease:"easeOut"}})})]}),c.jsx("div",{className:"mb-8",children:c.jsx(pn,{mode:"wait",children:g.map(y=>l>=y.id&&c.jsxs(J.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.4,type:"spring"},className:`flex items-center gap-4 p-4 rounded-2xl mb-3 ${l===y.id?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[c.jsx(J.div,{className:`p-3 rounded-xl ${l===y.id?"bg-gradient-to-br from-blue-500 to-purple-600 text-white":"bg-green-100 text-green-600"}`,animate:l===y.id?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:2,repeat:1/0},children:c.jsx(y.icon,{className:"w-6 h-6"})}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:y.title}),c.jsx("p",{className:"text-gray-600 text-sm",children:y.description})]}),l>y.id&&c.jsx(J.div,{initial:{scale:0},animate:{scale:1},className:"text-green-500",children:c.jsx(yy,{className:"w-6 h-6"})})]},y.id))})}),c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"loader mx-auto",children:[c.jsx("div",{className:"loader__bar"}),c.jsx("div",{className:"loader__bar"}),c.jsx("div",{className:"loader__bar"}),c.jsx("div",{className:"loader__bar"}),c.jsx("div",{className:"loader__bar"}),c.jsx("div",{className:"loader__ball"})]})}),c.jsx(J.h1,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},children:"Procesando tu pago"}),c.jsxs(J.p,{className:"text-gray-600 mb-8 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:["Estamos verificando tu transaccin con CardNet de forma segura.",c.jsx("br",{}),c.jsx("span",{className:"font-semibold text-blue-600",children:"Por favor, no cierres esta ventana."})]}),c.jsxs(J.div,{className:"flex justify-center items-center gap-4 text-sm text-gray-500",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ap,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{children:"Conexin segura"})]}),c.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zN,{className:"w-4 h-4 text-blue-500"}),c.jsx("span",{children:"Tiempo real"})]})]}),c.jsx(J.div,{className:"flex items-center justify-center space-x-2 mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[0,1,2].map(y=>c.jsx(J.div,{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:y*.2}},y))})]})]})]})}const eS="https://playcenter-universal.onrender.com";function sH(){var y,x;const[t]=My(),[e,n]=k.useState(null),[r,i]=k.useState(null),[a,l]=k.useState(!0),[d,h]=k.useState(!1);k.useEffect(()=>{const S=t.get("session");S&&(async()=>{try{const C=To(mi(tt,"orders"),Ou("raw.SESSION","==",S),sD("fecha","desc"),IP(1)),A=await Lu(C);A.empty||n({id:A.docs[0].id,...A.docs[0].data()});const L=await fetch(`${eS}/cardnet/get-sk/${S}`),{sk:V}=await L.json();if(V){const q=await(await fetch(`${eS}/cardnet/verify/${S}/${V}`)).json();i(q)}}catch(C){console.error("Error cargando datos:",C)}})();const _=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(_)},[t]);const m=S=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(S||0),g=S=>{if(!S)return"Fecha no disponible";let P;return typeof S=="object"&&S.seconds?P=new Date(S.seconds*1e3):P=new Date(S),P.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return c.jsxs(J.div,{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 px-3 sm:px-6 z-50 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[c.jsx(pn,{children:a&&c.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map((S,P)=>c.jsx(J.div,{className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:["#10b981","#059669","#34d399","#6ee7b7","#a7f3d0"][Math.floor(Math.random()*5)],left:Math.random()*100+"%",top:-10},animate:{y:window.innerHeight+50,x:[0,Math.random()*200-100,Math.random()*200-100],rotate:[0,360,720],scale:[1,.5,1]},transition:{duration:Math.random()*3+2,ease:"easeOut",delay:Math.random()*2},exit:{opacity:0}},P))})}),c.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((S,P)=>c.jsx(J.div,{className:"absolute w-2 h-2 bg-green-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},P))}),c.jsxs(J.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-3xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.8,y:50},animate:{scale:1,y:0},transition:{type:"spring",damping:20,stiffness:300},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 rounded-3xl"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx(J.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:300,delay:.2},children:c.jsxs(J.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[c.jsx(yy,{className:"w-28 h-28 text-green-500 mx-auto drop-shadow-lg"}),c.jsx(J.div,{className:"absolute -top-3 -right-3 w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.3,1],rotate:[0,15,-15,0]},transition:{duration:2,repeat:1/0},children:c.jsx(AF,{className:"w-5 h-5 text-yellow-600"})}),c.jsx(J.div,{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:.5},children:c.jsx(SF,{className:"w-4 h-4 text-green-600"})})]})}),c.jsxs(J.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[c.jsx(J.h1,{className:"text-5xl font-extrabold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-4",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"Pago exitoso!"}),c.jsx(J.div,{className:"flex items-center justify-center gap-2 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[...Array(5)].map((S,P)=>c.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8+P*.1,type:"spring"},children:c.jsx(PF,{className:"w-6 h-6 text-yellow-400 fill-current"})},P))}),c.jsxs(J.p,{className:"text-gray-700 text-lg leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:["Tu transaccin fue procesada correctamente.",c.jsx("br",{}),"Gracias por tu compra en ",c.jsx("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"PlayCenter Universal"}),"!"]})]}),e?c.jsx(J.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(lF,{className:"w-6 h-6 text-green-600"}),"Resumen de tu compra"]}),c.jsx(J.div,{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold",whileHover:{scale:1.05},children:" Completado"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Orden ID:"}),c.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.numeroOrden||((y=e.id)==null?void 0:y.slice(-8))})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Email:"}),c.jsx("span",{className:"font-medium",children:e.userEmail})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Fecha:"}),c.jsx("span",{className:"font-medium",children:g(e.fecha)})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Mtodo de pago:"}),c.jsxs("span",{className:"font-medium flex items-center gap-2",children:[c.jsx(qN,{className:"w-4 h-4 text-blue-500"}),"CardNet"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:"Total:"}),c.jsx("span",{className:"text-2xl font-bold text-green-600",children:m(e.total)})]})]})]}),((x=e.productos)==null?void 0:x.length)>0&&c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>h(!d),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-medium mb-4 transition-colors",children:[c.jsxs("span",{children:["Ver productos (",e.productos.length,")"]}),c.jsx(J.div,{animate:{rotate:d?180:0},transition:{duration:.3},children:""})]}),c.jsx(pn,{children:d&&c.jsx(J.div,{className:"space-y-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.productos.map((S,P)=>c.jsxs(J.div,{className:"flex items-center justify-between bg-white rounded-xl p-4 border border-green-100",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:P*.1},whileHover:{scale:1.02},children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:""}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold text-gray-800",children:S.nombre}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Cantidad: ",S.cantidad,"  ",m(S.precio)]})]})]}),c.jsx("span",{className:"font-bold text-green-600",children:m(S.cantidad*S.precio)})]},P))})})]})]})}):null,c.jsxs(J.div,{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},children:[c.jsx(J.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",children:[c.jsx(_u,{className:"w-5 h-5"}),c.jsx("span",{children:"Seguir comprando"})]})}),c.jsx(J.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsxs(Xe,{to:"/profile",className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-700 rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300",children:[c.jsx(nF,{className:"w-5 h-5"}),c.jsx("span",{children:"Ver historial"})]})})]}),r&&c.jsxs(J.details,{className:"mt-8 text-left",initial:{opacity:0},animate:{opacity:1},transition:{delay:2},children:[c.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-800 font-medium mb-4",children:"Detalles tcnicos de la transaccin"}),c.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 max-h-64 overflow-y-auto",children:c.jsx("pre",{className:"whitespace-pre-wrap text-gray-600 text-xs font-mono",children:JSON.stringify(r,null,2)})})]})]})]})]})}function oH(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function aH(){const[t]=My(),{usuarioInfo:e}=Ar(),{carrito:n,vaciarCarrito:r}=gd(),[i,a]=k.useState(!1),[l,d]=k.useState(!1);k.useEffect(()=>{const g=setTimeout(async()=>{var _;if(i)return;const y=t.get("session"),x=oH(),S=(_=x==null?void 0:x.items)!=null&&_.length?x.items:n.map(C=>({id:C.id,nombre:C.nombre,precio:Number(C.precio)||0,cantidad:C.cantidad})),P=(x==null?void 0:x.total)??n.reduce((C,A)=>C+(Number(A.precio)||0)*A.cantidad,0);try{if(y){const C=To(mi(tt,"orders"),Ou("raw.SESSION","==",y),IP(1));if(!(await Lu(C)).empty){try{sessionStorage.removeItem("checkoutPayload")}catch{}a(!0);return}}if(e&&(S.length>0||P>=0)){const C=S.map(A=>({id:A.id,nombre:A.nombre,precio:Number(A.precio)||0,cantidad:A.cantidad,imagen:A.imagen||"/Productos/default.jpg",empresa:A.empresa||"N/A",subtotal:(Number(A.precio)||0)*A.cantidad}));await Mv(mi(tt,"orders"),{userId:e.uid,userEmail:e.email,userName:e.displayName,userPhone:(e==null?void 0:e.telefono)||null,productos:C,total:P,subtotal:C.reduce((A,L)=>A+L.subtotal,0),impuestos:0,envio:0,estado:"cancelado",estadoPago:"fallido",metodoPago:"CardNet",fecha:OP(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(x==null?void 0:x.mode)||(x?"unknown":"cart"),direccionEntrega:(e==null?void 0:e.direccionCompleta)||null,telefonoContacto:(e==null?void 0:e.telefono)||null,notasEspeciales:null,raw:{SESSION:y||null}});try{sessionStorage.removeItem("checkoutPayload")}catch{}a(!0)}}catch(C){console.error("Error guardando orden cancelada:",C)}},800);return()=>clearTimeout(g)},[e,n,i,t]);const h=[{icon:ap,title:"Datos incorrectos",desc:"Verifica la informacin de tu tarjeta"},{icon:zN,title:"Sesin expirada",desc:"El tiempo lmite para el pago se agot"},{icon:hE,title:"Fondos insuficientes",desc:"Tu tarjeta no tiene saldo disponible"},{icon:op,title:"Cancelado por el usuario",desc:"El pago fue cancelado manualmente"}];return c.jsxs(J.div,{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-red-50 via-pink-50 to-rose-50 px-3 sm:px-6 z-50 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[c.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((m,g)=>c.jsx(J.div,{className:"absolute w-3 h-3 bg-red-200 rounded-full opacity-20",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],rotate:[0,360]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},g))}),c.jsxs(J.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-2xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.8,y:50},animate:{scale:1,y:0},transition:{type:"spring",damping:20,stiffness:300},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 rounded-3xl"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx(J.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:300,delay:.2},children:c.jsxs(J.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[c.jsx(op,{className:"w-24 h-24 text-red-500 mx-auto drop-shadow-lg"}),c.jsx(J.div,{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:c.jsx(hE,{className:"w-4 h-4 text-red-600"})})]})}),c.jsx(J.h1,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Pago cancelado"}),c.jsxs(J.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[c.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-4",children:"Tu transaccin no pudo ser completada."}),c.jsxs(J.div,{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full border border-green-200",initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring"},children:[c.jsx(ap,{className:"w-4 h-4"}),c.jsx("span",{className:"font-semibold",children:"No se realiz ningn cargo a tu tarjeta"})]})]}),c.jsxs(J.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:[c.jsxs("button",{onClick:()=>d(!l),className:"flex items-center gap-2 mx-auto text-gray-600 hover:text-gray-800 transition-colors",children:[c.jsx("span",{className:"font-medium",children:"Por qu fall mi pago?"}),c.jsx(J.div,{animate:{rotate:l?180:0},transition:{duration:.3},children:c.jsx(vF,{className:"w-4 h-4"})})]}),c.jsx(pn,{children:l&&c.jsx(J.div,{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:h.map((m,g)=>c.jsx(J.div,{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},whileHover:{scale:1.02,backgroundColor:"#f8fafc"},children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx(m.icon,{className:"w-5 h-5 text-red-600"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:m.title}),c.jsx("p",{className:"text-sm text-gray-600",children:m.desc})]})]})},g))})})]}),c.jsxs(J.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:[c.jsx(J.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsxs(Xe,{to:"/carrito",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",children:[c.jsx(_F,{className:"w-5 h-5"}),c.jsx("span",{children:"Intentar de nuevo"})]})}),c.jsx(J.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsxs(Xe,{to:"/",className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-700 rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300",children:[c.jsx(_u,{className:"w-5 h-5"}),c.jsx("span",{children:"Ir al inicio"})]})})]}),c.jsxs(J.div,{className:"mt-8 p-4 bg-blue-50 rounded-xl border border-blue-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},children:[c.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Necesitas ayuda?"}),c.jsx("p",{className:"text-blue-700 text-sm",children:"Si el problema persiste, contacta a nuestro equipo de soporte. Estamos aqu para ayudarte a completar tu compra."}),c.jsx(J.button,{className:"mt-3 text-blue-600 font-semibold hover:text-blue-800 transition-colors",whileHover:{scale:1.05},children:"Contactar soporte "})]})]})]})]})}function lH(){const t=Qi();return c.jsx(nC,{children:c.jsx(pn,{mode:"wait",children:c.jsxs(Wj,{location:t,children:[c.jsx(Ln,{path:"/",element:c.jsx(lr,{children:c.jsx(LF,{})})}),c.jsx(Ln,{path:"/profile",element:c.jsx(nH,{children:c.jsx(lr,{children:c.jsx(GF,{})})})}),c.jsx(Ln,{path:"/admin",element:c.jsx(D7,{})}),c.jsx(Ln,{path:"/producto/:id",element:c.jsx(lr,{children:c.jsx(JF,{})})}),c.jsx(Ln,{path:"/producto/:id/detalle",element:c.jsx(lr,{children:c.jsx(oU,{})})}),c.jsx(Ln,{path:"/carrito",element:c.jsx(lr,{children:c.jsx(nU,{})})}),c.jsx(Ln,{path:"/contacto",element:c.jsx(lr,{children:c.jsx(rU,{})})}),c.jsx(Ln,{path:"/nosotros",element:c.jsx(lr,{children:c.jsx(iU,{})})}),c.jsx(Ln,{path:"/buscar",element:c.jsx(lr,{children:c.jsx(Jz,{})})}),c.jsx(Ln,{path:"/categorias",element:c.jsx(lr,{children:c.jsx(JE,{})})}),c.jsx(Ln,{path:"/Productos/:categoria?",element:c.jsx(lr,{children:c.jsx(JE,{})})}),c.jsx(Ln,{path:"/estafetas",element:c.jsx(lr,{children:c.jsx(tH,{})})}),c.jsx(Ln,{path:"/payment/pending",element:c.jsx(lr,{children:c.jsx(iH,{})})}),c.jsx(Ln,{path:"/payment/success",element:c.jsx(lr,{children:c.jsx(sH,{})})}),c.jsx(Ln,{path:"/payment/cancel",element:c.jsx(lr,{children:c.jsx(aH,{})})})]},t.pathname)})})}function lr({children:t}){return c.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:t})}function cH(){const{pathname:t}=Qi(),e=pr(),{usuario:n}=Ar(),{abrirModal:r}=lc(),[i,a]=k.useState(!1),l=h=>t===h,d=h=>{(h==="/profile"||h==="/carrito")&&!n?a(!0):e(h)};return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t shadow-md flex justify-around items-center h-14 text-sm lg:hidden",children:[c.jsx(af,{onClick:()=>d("/"),icon:c.jsx(w7,{}),label:"Inicio",active:l("/")}),c.jsx(af,{onClick:()=>d("/categorias"),icon:c.jsx(E7,{}),label:"Categoras",active:l("/categorias")}),c.jsx(af,{onClick:()=>d("/carrito"),icon:c.jsx(VN,{}),label:"Carrito",active:l("/carrito")}),c.jsx(af,{onClick:()=>d("/profile"),icon:c.jsx(LN,{}),label:"Perfil",active:l("/profile")})]}),c.jsx(md,{isOpen:i,onClose:()=>a(!1),onIniciarSesion:()=>{a(!1),r()}})]})}function af({onClick:t,icon:e,label:n,active:r}){return c.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center transition text-xs w-full py-1 ${r?"text-blue-600 font-semibold":"text-gray-500"}`,"aria-label":n,type:"button",children:[c.jsx("div",{className:"text-lg",children:e}),c.jsx("div",{children:n})]})}function uH(){const{modalAbierto:t,setModalAbierto:e,modo:n,setModo:r}=lc(),{login:i,signup:a,usuario:l}=Ar(),[d,h]=k.useState(n),[m,g]=k.useState(""),[y,x]=k.useState(""),[S,P]=k.useState(""),[_,C]=k.useState("");k.useEffect(()=>{h(n),C(""),g(""),x(""),P("")},[t,n]);async function A(L){L.preventDefault(),C("");try{if(d==="login")await i(m,y);else{const V=await a(m,y);await Pr(Pt(tt,"users",V.uid),{displayName:S||"Usuario",email:m,telefono:"",direccion:"",codigo:"",metodoEntrega:"",admin:!1,createdAt:new Date}),S&&await updateProfile(V,{displayName:S})}e(!1)}catch(V){C("Error: "+V.message)}}return t?c.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-gradient-to-br from-black/90 to-gray-900/90 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:c.jsxs(J.div,{onClick:L=>L.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40",children:[c.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",children:""}),c.jsx("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:d==="login"?c.jsxs(c.Fragment,{children:[c.jsx(LN,{className:"text-[#3b82f6]"})," Iniciar Sesin"]}):c.jsxs(c.Fragment,{children:[c.jsx(T7,{className:"text-[#3b82f6]"})," Registrarse"]})}),_&&c.jsx("p",{className:"text-red-400 mb-4 text-center font-semibold",children:_}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d==="signup"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"Nombre de usuario"}),c.jsx("input",{type:"text",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:S,onChange:L=>P(L.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"Correo electrnico"}),c.jsx("input",{type:"email",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:m,onChange:L=>g(L.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"Contrasea"}),c.jsx("input",{type:"password",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:y,onChange:L=>x(L.target.value)})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#3b82f6] hover:bg-[#2563eb] text-white font-semibold py-2 rounded-lg shadow-lg transition transform hover:scale-105",children:d==="login"?"Iniciar sesin":"Registrarse"})]}),c.jsx("p",{className:"mt-4 text-center text-sm cursor-pointer text-[#3b82f6] hover:underline select-none",onClick:()=>{C("");const L=d==="login"?"signup":"login";h(L),r(L)},children:d==="login"?"No tienes una cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})]})}):null}const dH=()=>{const{pathname:t}=Qi();return k.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0;const e=document.querySelector("main");e&&(e.scrollTop=0)},[t]),null};function hH(){const{usuarioInfo:t}=Ar(),{abrirModal:e}=lc(),[n,r]=k.useState(!1),[i,a]=k.useState(!1),[l,d]=k.useState("Selecciona mtodo de entrega"),[h,m]=k.useState(0),g=k.useRef(null),[y,x]=k.useState(!0),S=k.useRef(typeof window<"u"?window.scrollY:0),P=k.useRef(!1);k.useEffect(()=>{if(!t){d("Selecciona mtodo de entrega");return}t.metodoEntrega==="tienda"?d("Recoger en: Playcenter Universal Santiago"):t.metodoEntrega==="domicilio"&&t.direccion?d(`Entregar en: ${t.direccion}`):d("Selecciona mtodo de entrega")},[t]),k.useEffect(()=>{const A=()=>{const B=document.querySelector("header"),q=B?Math.ceil(B.getBoundingClientRect().height):0;m(q)};A();const L=()=>A();window.addEventListener("resize",L);const V=new MutationObserver(()=>A());return V.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",L),V.disconnect()}},[]),k.useEffect(()=>{const A=()=>{P.current||(P.current=!0,requestAnimationFrame(()=>{const L=window.scrollY,V=S.current,B=L-V;L<=0?x(!0):Math.abs(B)<5||(B>0&&L>60?x(!1):B<0&&x(!0)),S.current=L,P.current=!1}))};return window.addEventListener("scroll",A,{passive:!0}),()=>window.removeEventListener("scroll",A)},[]);const _={position:"fixed",left:0,right:0,top:`${h}px`,zIndex:900,transform:y?"translateY(0)":"translateY(-110%)",transition:"transform 220ms ease, opacity 220ms ease",pointerEvents:y?"auto":"none",background:"white"},C=()=>{t?r(!0):a(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:g,style:_,className:"shadow-md px-4 py-2 flex justify-between items-center",children:c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:C,children:[c.jsx(fF,{className:"w-5 h-5 text-gray-700"}),c.jsx("span",{className:"font-semibold text-gray-800 max-w-[220px] sm:max-w-[280px] md:max-w-[350px] truncate text-sm sm:text-base",children:l}),c.jsx($N,{className:"w-5 h-5 text-gray-600"})]})}),n&&t&&c.jsx(GN,{abierto:n,onClose:()=>r(!1),usuarioId:t==null?void 0:t.uid,direccionEditar:null,actualizarLista:()=>{}}),c.jsx(md,{isOpen:i,onClose:()=>a(!1),onIniciarSesion:()=>{a(!1),e()}})]})}function fH(){return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(C7,{}),c.jsx(hH,{}),c.jsxs("main",{className:"flex-grow",children:[c.jsx(dH,{}),c.jsx(lH,{})]}),c.jsx(N7,{}),c.jsx(cH,{}),c.jsx(uH,{})]})}J4.createRoot(document.getElementById("root")).render(c.jsx(Di.StrictMode,{children:c.jsx(Zj,{children:c.jsx(nC,{children:c.jsx(QF,{children:c.jsx(CM,{children:c.jsx(fH,{})})})})})}));
