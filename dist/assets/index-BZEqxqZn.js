function jI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Fd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f0={exports:{}},Ou={},p0={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function II(){if(Kw)return Ot;Kw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function N(z,Q,we){this.props=z,this.context=Q,this.refs=b,this.updater=we||w}N.prototype.isReactComponent={},N.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=N.prototype;function M(z,Q,we){this.props=z,this.context=Q,this.refs=b,this.updater=we||w}var O=M.prototype=new j;O.constructor=M,S(O,N.prototype),O.isPureReactComponent=!0;var U=Array.isArray,B=Object.prototype.hasOwnProperty,K={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(z,Q,we){var Be,Ue={},tt=null,ft=null;if(Q!=null)for(Be in Q.ref!==void 0&&(ft=Q.ref),Q.key!==void 0&&(tt=""+Q.key),Q)B.call(Q,Be)&&!R.hasOwnProperty(Be)&&(Ue[Be]=Q[Be]);var ct=arguments.length-2;if(ct===1)Ue.children=we;else if(1<ct){for(var it=Array(ct),Je=0;Je<ct;Je++)it[Je]=arguments[Je+2];Ue.children=it}if(z&&z.defaultProps)for(Be in ct=z.defaultProps,ct)Ue[Be]===void 0&&(Ue[Be]=ct[Be]);return{$$typeof:t,type:z,key:tt,ref:ft,props:Ue,_owner:K.current}}function A(z,Q){return{$$typeof:t,type:z.type,key:Q,ref:z.ref,props:z.props,_owner:z._owner}}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(we){return Q[we]})}var F=/\/+/g;function D(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Q.toString(36)}function be(z,Q,we,Be,Ue){var tt=typeof z;(tt==="undefined"||tt==="boolean")&&(z=null);var ft=!1;if(z===null)ft=!0;else switch(tt){case"string":case"number":ft=!0;break;case"object":switch(z.$$typeof){case t:case e:ft=!0}}if(ft)return ft=z,Ue=Ue(ft),z=Be===""?"."+D(ft,0):Be,U(Ue)?(we="",z!=null&&(we=z.replace(F,"$&/")+"/"),be(Ue,Q,we,"",function(Je){return Je})):Ue!=null&&(k(Ue)&&(Ue=A(Ue,we+(!Ue.key||ft&&ft.key===Ue.key?"":(""+Ue.key).replace(F,"$&/")+"/")+z)),Q.push(Ue)),1;if(ft=0,Be=Be===""?".":Be+":",U(z))for(var ct=0;ct<z.length;ct++){tt=z[ct];var it=Be+D(tt,ct);ft+=be(tt,Q,we,it,Ue)}else if(it=v(z),typeof it=="function")for(z=it.call(z),ct=0;!(tt=z.next()).done;)tt=tt.value,it=Be+D(tt,ct++),ft+=be(tt,Q,we,it,Ue);else if(tt==="object")throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ft}function Ge(z,Q,we){if(z==null)return z;var Be=[],Ue=0;return be(z,Be,"","",function(tt){return Q.call(we,tt,Ue++)}),Be}function ot(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(we){(z._status===0||z._status===-1)&&(z._status=1,z._result=we)},function(we){(z._status===0||z._status===-1)&&(z._status=2,z._result=we)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var Ke={current:null},le={transition:null},oe={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:le,ReactCurrentOwner:K};function he(){throw Error("act(...) is not supported in production builds of React.")}return Ot.Children={map:Ge,forEach:function(z,Q,we){Ge(z,function(){Q.apply(this,arguments)},we)},count:function(z){var Q=0;return Ge(z,function(){Q++}),Q},toArray:function(z){return Ge(z,function(Q){return Q})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ot.Component=N,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=M,Ot.StrictMode=r,Ot.Suspense=h,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ot.act=he,Ot.cloneElement=function(z,Q,we){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Be=S({},z.props),Ue=z.key,tt=z.ref,ft=z._owner;if(Q!=null){if(Q.ref!==void 0&&(tt=Q.ref,ft=K.current),Q.key!==void 0&&(Ue=""+Q.key),z.type&&z.type.defaultProps)var ct=z.type.defaultProps;for(it in Q)B.call(Q,it)&&!R.hasOwnProperty(it)&&(Be[it]=Q[it]===void 0&&ct!==void 0?ct[it]:Q[it])}var it=arguments.length-2;if(it===1)Be.children=we;else if(1<it){ct=Array(it);for(var Je=0;Je<it;Je++)ct[Je]=arguments[Je+2];Be.children=ct}return{$$typeof:t,type:z.type,key:Ue,ref:tt,props:Be,_owner:ft}},Ot.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ot.createElement=I,Ot.createFactory=function(z){var Q=I.bind(null,z);return Q.type=z,Q},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(z){return{$$typeof:u,render:z}},Ot.isValidElement=k,Ot.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ot}},Ot.memo=function(z,Q){return{$$typeof:f,type:z,compare:Q===void 0?null:Q}},Ot.startTransition=function(z){var Q=le.transition;le.transition={};try{z()}finally{le.transition=Q}},Ot.unstable_act=he,Ot.useCallback=function(z,Q){return Ke.current.useCallback(z,Q)},Ot.useContext=function(z){return Ke.current.useContext(z)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(z){return Ke.current.useDeferredValue(z)},Ot.useEffect=function(z,Q){return Ke.current.useEffect(z,Q)},Ot.useId=function(){return Ke.current.useId()},Ot.useImperativeHandle=function(z,Q,we){return Ke.current.useImperativeHandle(z,Q,we)},Ot.useInsertionEffect=function(z,Q){return Ke.current.useInsertionEffect(z,Q)},Ot.useLayoutEffect=function(z,Q){return Ke.current.useLayoutEffect(z,Q)},Ot.useMemo=function(z,Q){return Ke.current.useMemo(z,Q)},Ot.useReducer=function(z,Q,we){return Ke.current.useReducer(z,Q,we)},Ot.useRef=function(z){return Ke.current.useRef(z)},Ot.useState=function(z){return Ke.current.useState(z)},Ot.useSyncExternalStore=function(z,Q,we){return Ke.current.useSyncExternalStore(z,Q,we)},Ot.useTransition=function(){return Ke.current.useTransition()},Ot.version="18.3.1",Ot}var Xw;function Av(){return Xw||(Xw=1,p0.exports=II()),p0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function PI(){if(Qw)return Ou;Qw=1;var t=Av(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,f){var g,y={},v=null,w=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:w,props:y,_owner:i.current}}return Ou.Fragment=n,Ou.jsx=c,Ou.jsxs=c,Ou}var Yw;function RI(){return Yw||(Yw=1,f0.exports=PI()),f0.exports}var o=RI(),T=Av();const Br=Fd(T),cy=jI({__proto__:null,default:Br},[T]);var hf={},m0={exports:{}},Zr={},g0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function DI(){return Jw||(Jw=1,function(t){function e(le,oe){var he=le.length;le.push(oe);e:for(;0<he;){var z=he-1>>>1,Q=le[z];if(0<i(Q,oe))le[z]=oe,le[he]=Q,he=z;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var oe=le[0],he=le.pop();if(he!==oe){le[0]=he;e:for(var z=0,Q=le.length,we=Q>>>1;z<we;){var Be=2*(z+1)-1,Ue=le[Be],tt=Be+1,ft=le[tt];if(0>i(Ue,he))tt<Q&&0>i(ft,Ue)?(le[z]=ft,le[tt]=he,z=tt):(le[z]=Ue,le[Be]=he,z=Be);else if(tt<Q&&0>i(ft,he))le[z]=ft,le[tt]=he,z=tt;else break e}}return oe}function i(le,oe){var he=le.sortIndex-oe.sortIndex;return he!==0?he:le.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],f=[],g=1,y=null,v=3,w=!1,S=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(le){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=le)r(f),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(f)}}function U(le){if(b=!1,O(le),!S)if(n(h)!==null)S=!0,ot(B);else{var oe=n(f);oe!==null&&Ke(U,oe.startTime-le)}}function B(le,oe){S=!1,b&&(b=!1,j(I),I=-1),w=!0;var he=v;try{for(O(oe),y=n(h);y!==null&&(!(y.expirationTime>oe)||le&&!L());){var z=y.callback;if(typeof z=="function"){y.callback=null,v=y.priorityLevel;var Q=z(y.expirationTime<=oe);oe=t.unstable_now(),typeof Q=="function"?y.callback=Q:y===n(h)&&r(h),O(oe)}else r(h);y=n(h)}if(y!==null)var we=!0;else{var Be=n(f);Be!==null&&Ke(U,Be.startTime-oe),we=!1}return we}finally{y=null,v=he,w=!1}}var K=!1,R=null,I=-1,A=5,k=-1;function L(){return!(t.unstable_now()-k<A)}function F(){if(R!==null){var le=t.unstable_now();k=le;var oe=!0;try{oe=R(!0,le)}finally{oe?D():(K=!1,R=null)}}else K=!1}var D;if(typeof M=="function")D=function(){M(F)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ge=be.port2;be.port1.onmessage=F,D=function(){Ge.postMessage(null)}}else D=function(){N(F,0)};function ot(le){R=le,K||(K=!0,D())}function Ke(le,oe){I=N(function(){le(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,ot(B))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(le){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var he=v;v=oe;try{return le()}finally{v=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,oe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var he=v;v=le;try{return oe()}finally{v=he}},t.unstable_scheduleCallback=function(le,oe,he){var z=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?z+he:z):he=z,le){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=he+Q,le={id:g++,callback:oe,priorityLevel:le,startTime:he,expirationTime:Q,sortIndex:-1},he>z?(le.sortIndex=he,e(f,le),n(h)===null&&le===n(f)&&(b?(j(I),I=-1):b=!0,Ke(U,he-z))):(le.sortIndex=Q,e(h,le),S||w||(S=!0,ot(B))),le},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(le){var oe=v;return function(){var he=v;v=oe;try{return le.apply(this,arguments)}finally{v=he}}}}(y0)),y0}var Zw;function MI(){return Zw||(Zw=1,g0.exports=DI()),g0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function OI(){if(e2)return Zr;e2=1;var t=Av(),e=MI();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,l){c(s,l),c(s+"Capture",l)}function c(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return h.call(y,s)?!0:h.call(g,s)?!1:f.test(s)?y[s]=!0:(g[s]=!0,!1)}function w(s,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,d,m){if(l===null||typeof l>"u"||w(s,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,d,m,x,E,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=E,this.removeEmptyString=P}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];N[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(j,M);N[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(j,M);N[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(j,M);N[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,l,d,m){var x=N.hasOwnProperty(l)?N[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,x,m)&&(d=null),m||x===null?v(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,m=x.attributeNamespace,d===null?s.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?s.setAttributeNS(m,l,d):s.setAttribute(l,d))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),K=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),le=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var he=Object.assign,z;function Q(s){if(z===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+s}var we=!1;function Be(s,l){if(!s||we)return"";we=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(se){var m=se}Reflect.construct(s,[],l)}else{try{l.call()}catch(se){m=se}s.call(l.prototype)}else{try{throw Error()}catch(se){m=se}s()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var x=se.stack.split(`
`),E=m.stack.split(`
`),P=x.length-1,$=E.length-1;1<=P&&0<=$&&x[P]!==E[$];)$--;for(;1<=P&&0<=$;P--,$--)if(x[P]!==E[$]){if(P!==1||$!==1)do if(P--,$--,0>$||x[P]!==E[$]){var q=`
`+x[P].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=P&&0<=$);break}}}finally{we=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ue(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=Be(s.type,!1),s;case 11:return s=Be(s.type.render,!1),s;case 1:return s=Be(s.type,!0),s;default:return""}}function tt(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case K:return"Portal";case A:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case be:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case k:return(s._context.displayName||"Context")+".Provider";case F:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ge:return l=s.displayName||null,l!==null?l:tt(s.type)||"Memo";case ot:l=s._payload,s=s._init;try{return tt(s(l))}catch{}}return null}function ft(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tt(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ct(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function it(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Je(s){var l=it(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,E=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return x.call(this)},set:function(P){m=""+P,E.call(this,P)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function St(s){s._valueTracker||(s._valueTracker=Je(s))}function At(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return s&&(m=it(s)?s.checked?"true":"false":s.value),s=m,s!==d?(l.setValue(s),!0):!1}function _t(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Rt(s,l){var d=l.checked;return he({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function re(s,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ct(l.value!=null?l.value:d),s._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function $e(s,l){l=l.checked,l!=null&&O(s,"checked",l,!1)}function Pe(s,l){$e(s,l);var d=ct(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?Qe(s,l.type,d):l.hasOwnProperty("defaultValue")&&Qe(s,l.type,ct(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function de(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function Qe(s,l,d){(l!=="number"||_t(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var We=Array.isArray;function Dt(s,l,d,m){if(s=s.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=l.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&m&&(s[d].defaultSelected=!0)}else{for(d=""+ct(d),l=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}l!==null||s[x].disabled||(l=s[x])}l!==null&&(l.selected=!0)}}function jt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pt(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(We(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:ct(d)}}function Ee(s,l){var d=ct(l.value),m=ct(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),m!=null&&(s.defaultValue=""+m)}function te(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function ye(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?ye(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ee,Me=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,x){MSApp.execUnsafeLocalFunction(function(){return s(l,d,m,x)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ee=ee||document.createElement("div"),ee.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ee.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Le(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(s){W.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),yt[l]=yt[s]})});function H(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||yt.hasOwnProperty(s)&&yt[s]?(""+l).trim():l+"px"}function ve(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=H(d,l[d],m);d==="float"&&(d="cssFloat"),m?s.setProperty(d,x):s[d]=x}}var ie=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ce(s,l){if(l){if(ie[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Y(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function fe(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pe=null,ze=null,De=null;function nt(s){if(s=wu(s)){if(typeof pe!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Th(l),pe(s.stateNode,s.type,l))}}function ht(s){ze?De?De.push(s):De=[s]:ze=s}function Ae(){if(ze){var s=ze,l=De;if(De=ze=null,nt(s),l)for(s=0;s<l.length;s++)nt(l[s])}}function Se(s,l){return s(l)}function Ut(){}var Tt=!1;function Et(s,l,d){if(Tt)return s(l,d);Tt=!0;try{return Se(s,l,d)}finally{Tt=!1,(ze!==null||De!==null)&&(Ut(),Ae())}}function ut(s,l){var d=s.stateNode;if(d===null)return null;var m=Th(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Cn=!1;if(u)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Cn=!1}function sn(s,l,d,m,x,E,P,$,q){var se=Array.prototype.slice.call(arguments,3);try{l.apply(d,se)}catch(Ne){this.onError(Ne)}}var Ht=!1,Dr=null,mn=!1,nr=null,li={onError:function(s){Ht=!0,Dr=s}};function Ui(s,l,d,m,x,E,P,$,q){Ht=!1,Dr=null,sn.apply(li,arguments)}function Ao(s,l,d,m,x,E,P,$,q){if(Ui.apply(this,arguments),Ht){if(Ht){var se=Dr;Ht=!1,Dr=null}else throw Error(n(198));mn||(mn=!0,nr=se)}}function Wr(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function ls(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function wn(s){if(Wr(s)!==s)throw Error(n(188))}function su(s){var l=s.alternate;if(!l){if(l=Wr(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,m=l;;){var x=d.return;if(x===null)break;var E=x.alternate;if(E===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===d)return wn(x),s;if(E===m)return wn(x),l;E=E.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=E;else{for(var P=!1,$=x.child;$;){if($===d){P=!0,d=x,m=E;break}if($===m){P=!0,m=x,d=E;break}$=$.sibling}if(!P){for($=E.child;$;){if($===d){P=!0,d=E,m=x;break}if($===m){P=!0,m=E,d=x;break}$=$.sibling}if(!P)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function _i(s){return s=su(s),s!==null?ur(s):null}function ur(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=ur(s);if(l!==null)return l;s=s.sibling}return null}var cs=e.unstable_scheduleCallback,ci=e.unstable_cancelCallback,jo=e.unstable_shouldYield,Cl=e.unstable_requestPaint,Jt=e.unstable_now,Al=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,us=e.unstable_UserBlockingPriority,Mr=e.unstable_NormalPriority,ds=e.unstable_LowPriority,jl=e.unstable_IdlePriority,Gs=null,Or=null;function Il(s){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Gs,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Pl,Io=Math.log,Ks=Math.LN2;function Pl(s){return s>>>=0,s===0?32:31-(Io(s)/Ks|0)|0}var Ca=64,Aa=4194304;function hs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xs(s,l){var d=s.pendingLanes;if(d===0)return 0;var m=0,x=s.suspendedLanes,E=s.pingedLanes,P=d&268435455;if(P!==0){var $=P&~x;$!==0?m=hs($):(E&=P,E!==0&&(m=hs(E)))}else P=d&~x,P!==0?m=hs(P):E!==0&&(m=hs(E));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=m;0<l;)d=31-dr(l),x=1<<d,m|=s[d],l&=~x;return m}function au(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(s,l){for(var d=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,E=s.pendingLanes;0<E;){var P=31-dr(E),$=1<<P,q=x[P];q===-1?(($&d)===0||($&m)!==0)&&(x[P]=au($,l)):q<=l&&(s.expiredLanes|=$),E&=~$}}function Lr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function G(){var s=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),s}function me(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function Te(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-dr(l),s[l]=d}function je(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-dr(d),E=1<<x;l[x]=0,m[x]=-1,s[x]=-1,d&=~E}}function Ze(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var m=31-dr(d),x=1<<m;x&l|s[m]&l&&(s[m]|=l),d&=~x}}var qe=0;function Kt(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var An,$i,Qs,zi,Zt,ja=!1,fs=[],hr=null,Bi=null,Hi=null,Ia=new Map,ki=new Map,ps=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(s,l){switch(s){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ia.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(l.pointerId)}}function qr(s,l,d,m,x,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[x]},l!==null&&(l=wu(l),l!==null&&$i(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),s)}function Wm(s,l,d,m,x){switch(l){case"focusin":return hr=qr(hr,s,l,d,m,x),!0;case"dragenter":return Bi=qr(Bi,s,l,d,m,x),!0;case"mouseover":return Hi=qr(Hi,s,l,d,m,x),!0;case"pointerover":var E=x.pointerId;return Ia.set(E,qr(Ia.get(E)||null,s,l,d,m,x)),!0;case"gotpointercapture":return E=x.pointerId,ki.set(E,qr(ki.get(E)||null,s,l,d,m,x)),!0}return!1}function uh(s){var l=Oo(s.target);if(l!==null){var d=Wr(l);if(d!==null){if(l=d.tag,l===13){if(l=ls(d),l!==null){s.blockedOn=l,Zt(s.priority,function(){Qs(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ys(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Rl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);Ve=m,d.target.dispatchEvent(m),Ve=null}else return l=wu(d),l!==null&&$i(l),s.blockedOn=d,!1;l.shift()}return!0}function Po(s,l,d){Ys(s)&&d.delete(l)}function dh(){ja=!1,hr!==null&&Ys(hr)&&(hr=null),Bi!==null&&Ys(Bi)&&(Bi=null),Hi!==null&&Ys(Hi)&&(Hi=null),Ia.forEach(Po),ki.forEach(Po)}function Wi(s,l){s.blockedOn===l&&(s.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function qi(s){function l(x){return Wi(x,s)}if(0<fs.length){Wi(fs[0],s);for(var d=1;d<fs.length;d++){var m=fs[d];m.blockedOn===s&&(m.blockedOn=null)}}for(hr!==null&&Wi(hr,s),Bi!==null&&Wi(Bi,s),Hi!==null&&Wi(Hi,s),Ia.forEach(l),ki.forEach(l),d=0;d<ps.length;d++)m=ps[d],m.blockedOn===s&&(m.blockedOn=null);for(;0<ps.length&&(d=ps[0],d.blockedOn===null);)uh(d),d.blockedOn===null&&ps.shift()}var Js=U.ReactCurrentBatchConfig,Pa=!0;function gn(s,l,d,m){var x=qe,E=Js.transition;Js.transition=null;try{qe=1,ou(s,l,d,m)}finally{qe=x,Js.transition=E}}function qm(s,l,d,m){var x=qe,E=Js.transition;Js.transition=null;try{qe=4,ou(s,l,d,m)}finally{qe=x,Js.transition=E}}function ou(s,l,d,m){if(Pa){var x=Rl(s,l,d,m);if(x===null)rg(s,l,m,Ro,d),ch(s,m);else if(Wm(x,s,l,d,m))m.stopPropagation();else if(ch(s,m),l&4&&-1<Hm.indexOf(s)){for(;x!==null;){var E=wu(x);if(E!==null&&An(E),E=Rl(s,l,d,m),E===null&&rg(s,l,m,Ro,d),E===x)break;x=E}x!==null&&m.stopPropagation()}else rg(s,l,m,null,d)}}var Ro=null;function Rl(s,l,d,m){if(Ro=null,s=fe(m),s=Oo(s),s!==null)if(l=Wr(s),l===null)s=null;else if(d=l.tag,d===13){if(s=ls(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Ro=s,null}function lu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Al()){case qs:return 1;case us:return 4;case Mr:case ds:return 16;case jl:return 536870912;default:return 16}default:return 16}}var ui=null,Dl=null,Gr=null;function cu(){if(Gr)return Gr;var s,l=Dl,d=l.length,m,x="value"in ui?ui.value:ui.textContent,E=x.length;for(s=0;s<d&&l[s]===x[s];s++);var P=d-s;for(m=1;m<=P&&l[d-m]===x[E-m];m++);return Gr=x.slice(s,1<m?1-m:void 0)}function Ml(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ms(){return!0}function uu(){return!1}function fr(s){function l(d,m,x,E,P){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(d=s[$],this[$]=d?d(E):E[$]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ms:uu,this.isPropagationStopped=uu,this}return he(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),l}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=fr(Gi),gs=he({},Gi,{view:0,detail:0}),Gm=fr(gs),Ll,Zs,Ra,Do=he({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ra&&(Ra&&s.type==="mousemove"?(Ll=s.screenX-Ra.screenX,Zs=s.screenY-Ra.screenY):Zs=Ll=0,Ra=s),Ll)},movementY:function(s){return"movementY"in s?s.movementY:Zs}}),Vl=fr(Do),du=he({},Do,{dataTransfer:0}),hh=fr(du),Fl=he({},gs,{relatedTarget:0}),Ul=fr(Fl),fh=he({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=fr(fh),ph=he({},Gi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mh=fr(ph),gh=he({},Gi,{data:0}),hu=fr(gh),$l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=yh[s])?!!l[s]:!1}function ys(){return vh}var p=he({},gs,{key:function(s){if(s.key){var l=$l[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ml(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(s){return s.type==="keypress"?Ml(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ml(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=fr(p),C=he({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=fr(C),J=he({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),ue=fr(J),Fe=he({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qt=fr(Fe),Yn=he({},Do,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$t=fr(Yn),rr=[9,13,27,32],zn=u&&"CompositionEvent"in window,Si=null;u&&"documentMode"in document&&(Si=document.documentMode);var di=u&&"TextEvent"in window&&!Si,Mo=u&&(!zn||Si&&8<Si&&11>=Si),zl=" ",z1=!1;function B1(s,l){switch(s){case"keyup":return rr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bl=!1;function Nj(s,l){switch(s){case"compositionend":return H1(l);case"keypress":return l.which!==32?null:(z1=!0,zl);case"textInput":return s=l.data,s===zl&&z1?null:s;default:return null}}function Cj(s,l){if(Bl)return s==="compositionend"||!zn&&B1(s,l)?(s=cu(),Gr=Dl=ui=null,Bl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Mo&&l.locale!=="ko"?null:l.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Aj[s.type]:l==="textarea"}function q1(s,l,d,m){ht(m),l=Eh(l,"onChange"),0<l.length&&(d=new Ol("onChange","change",null,d,m),s.push({event:d,listeners:l}))}var fu=null,pu=null;function jj(s){ub(s,0)}function xh(s){var l=Kl(s);if(At(l))return s}function Ij(s,l){if(s==="change")return l}var G1=!1;if(u){var Km;if(u){var Xm="oninput"in document;if(!Xm){var K1=document.createElement("div");K1.setAttribute("oninput","return;"),Xm=typeof K1.oninput=="function"}Km=Xm}else Km=!1;G1=Km&&(!document.documentMode||9<document.documentMode)}function X1(){fu&&(fu.detachEvent("onpropertychange",Q1),pu=fu=null)}function Q1(s){if(s.propertyName==="value"&&xh(pu)){var l=[];q1(l,pu,s,fe(s)),Et(jj,l)}}function Pj(s,l,d){s==="focusin"?(X1(),fu=l,pu=d,fu.attachEvent("onpropertychange",Q1)):s==="focusout"&&X1()}function Rj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xh(pu)}function Dj(s,l){if(s==="click")return xh(l)}function Mj(s,l){if(s==="input"||s==="change")return xh(l)}function Oj(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Ki=typeof Object.is=="function"?Object.is:Oj;function mu(s,l){if(Ki(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!h.call(l,x)||!Ki(s[x],l[x]))return!1}return!0}function Y1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function J1(s,l){var d=Y1(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=l&&m>=l)return{node:d,offset:l-s};s=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Y1(d)}}function Z1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Z1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function eb(){for(var s=window,l=_t();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=_t(s.document)}return l}function Qm(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function Lj(s){var l=eb(),d=s.focusedElem,m=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&Z1(d.ownerDocument.documentElement,d)){if(m!==null&&Qm(d)){if(l=m.start,s=m.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,E=Math.min(m.start,x);m=m.end===void 0?E:Math.min(m.end,x),!s.extend&&E>m&&(x=m,m=E,E=x),x=J1(d,E);var P=J1(d,m);x&&P&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),s.removeAllRanges(),E>m?(s.addRange(l),s.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Vj=u&&"documentMode"in document&&11>=document.documentMode,Hl=null,Ym=null,gu=null,Jm=!1;function tb(s,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Jm||Hl==null||Hl!==_t(m)||(m=Hl,"selectionStart"in m&&Qm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),gu&&mu(gu,m)||(gu=m,m=Eh(Ym,"onSelect"),0<m.length&&(l=new Ol("onSelect","select",null,l,d),s.push({event:l,listeners:m}),l.target=Hl)))}function bh(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Wl={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},Zm={},nb={};u&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function wh(s){if(Zm[s])return Zm[s];if(!Wl[s])return s;var l=Wl[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in nb)return Zm[s]=l[d];return s}var rb=wh("animationend"),ib=wh("animationiteration"),sb=wh("animationstart"),ab=wh("transitionend"),ob=new Map,lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(s,l){ob.set(s,l),a(l,[s])}for(var eg=0;eg<lb.length;eg++){var tg=lb[eg],Fj=tg.toLowerCase(),Uj=tg[0].toUpperCase()+tg.slice(1);Da(Fj,"on"+Uj)}Da(rb,"onAnimationEnd"),Da(ib,"onAnimationIteration"),Da(sb,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(ab,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$j=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function cb(s,l,d){var m=s.type||"unknown-event";s.currentTarget=d,Ao(m,l,void 0,s),s.currentTarget=null}function ub(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],x=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var P=m.length-1;0<=P;P--){var $=m[P],q=$.instance,se=$.currentTarget;if($=$.listener,q!==E&&x.isPropagationStopped())break e;cb(x,$,se),E=q}else for(P=0;P<m.length;P++){if($=m[P],q=$.instance,se=$.currentTarget,$=$.listener,q!==E&&x.isPropagationStopped())break e;cb(x,$,se),E=q}}}if(mn)throw s=nr,mn=!1,nr=null,s}function un(s,l){var d=l[cg];d===void 0&&(d=l[cg]=new Set);var m=s+"__bubble";d.has(m)||(db(l,s,2,!1),d.add(m))}function ng(s,l,d){var m=0;l&&(m|=4),db(d,s,m,l)}var _h="_reactListening"+Math.random().toString(36).slice(2);function vu(s){if(!s[_h]){s[_h]=!0,r.forEach(function(d){d!=="selectionchange"&&($j.has(d)||ng(d,!1,s),ng(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[_h]||(l[_h]=!0,ng("selectionchange",!1,l))}}function db(s,l,d,m){switch(lu(l)){case 1:var x=gn;break;case 4:x=qm;break;default:x=ou}d=x.bind(null,l,d,s),x=void 0,!Cn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(l,d,{capture:!0,passive:x}):s.addEventListener(l,d,!0):x!==void 0?s.addEventListener(l,d,{passive:x}):s.addEventListener(l,d,!1)}function rg(s,l,d,m,x){var E=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var $=m.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(P===4)for(P=m.return;P!==null;){var q=P.tag;if((q===3||q===4)&&(q=P.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;P=P.return}for(;$!==null;){if(P=Oo($),P===null)return;if(q=P.tag,q===5||q===6){m=E=P;continue e}$=$.parentNode}}m=m.return}Et(function(){var se=E,Ne=fe(d),Ie=[];e:{var ke=ob.get(s);if(ke!==void 0){var Ye=Ol,st=s;switch(s){case"keypress":if(Ml(d)===0)break e;case"keydown":case"keyup":Ye=_;break;case"focusin":st="focus",Ye=Ul;break;case"focusout":st="blur",Ye=Ul;break;case"beforeblur":case"afterblur":Ye=Ul;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=ue;break;case rb:case ib:case sb:Ye=ea;break;case ab:Ye=Qt;break;case"scroll":Ye=Gm;break;case"wheel":Ye=$t;break;case"copy":case"cut":case"paste":Ye=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=V}var at=(l&4)!==0,On=!at&&s==="scroll",Z=at?ke!==null?ke+"Capture":null:ke;at=[];for(var X=se,ne;X!==null;){ne=X;var Oe=ne.stateNode;if(ne.tag===5&&Oe!==null&&(ne=Oe,Z!==null&&(Oe=ut(X,Z),Oe!=null&&at.push(xu(X,Oe,ne)))),On)break;X=X.return}0<at.length&&(ke=new Ye(ke,st,null,d,Ne),Ie.push({event:ke,listeners:at}))}}if((l&7)===0){e:{if(ke=s==="mouseover"||s==="pointerover",Ye=s==="mouseout"||s==="pointerout",ke&&d!==Ve&&(st=d.relatedTarget||d.fromElement)&&(Oo(st)||st[ta]))break e;if((Ye||ke)&&(ke=Ne.window===Ne?Ne:(ke=Ne.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ye?(st=d.relatedTarget||d.toElement,Ye=se,st=st?Oo(st):null,st!==null&&(On=Wr(st),st!==On||st.tag!==5&&st.tag!==6)&&(st=null)):(Ye=null,st=se),Ye!==st)){if(at=Vl,Oe="onMouseLeave",Z="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(at=V,Oe="onPointerLeave",Z="onPointerEnter",X="pointer"),On=Ye==null?ke:Kl(Ye),ne=st==null?ke:Kl(st),ke=new at(Oe,X+"leave",Ye,d,Ne),ke.target=On,ke.relatedTarget=ne,Oe=null,Oo(Ne)===se&&(at=new at(Z,X+"enter",st,d,Ne),at.target=ne,at.relatedTarget=On,Oe=at),On=Oe,Ye&&st)t:{for(at=Ye,Z=st,X=0,ne=at;ne;ne=ql(ne))X++;for(ne=0,Oe=Z;Oe;Oe=ql(Oe))ne++;for(;0<X-ne;)at=ql(at),X--;for(;0<ne-X;)Z=ql(Z),ne--;for(;X--;){if(at===Z||Z!==null&&at===Z.alternate)break t;at=ql(at),Z=ql(Z)}at=null}else at=null;Ye!==null&&hb(Ie,ke,Ye,at,!1),st!==null&&On!==null&&hb(Ie,On,st,at,!0)}}e:{if(ke=se?Kl(se):window,Ye=ke.nodeName&&ke.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&ke.type==="file")var lt=Ij;else if(W1(ke))if(G1)lt=Mj;else{lt=Rj;var mt=Pj}else(Ye=ke.nodeName)&&Ye.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(lt=Dj);if(lt&&(lt=lt(s,se))){q1(Ie,lt,d,Ne);break e}mt&&mt(s,ke,se),s==="focusout"&&(mt=ke._wrapperState)&&mt.controlled&&ke.type==="number"&&Qe(ke,"number",ke.value)}switch(mt=se?Kl(se):window,s){case"focusin":(W1(mt)||mt.contentEditable==="true")&&(Hl=mt,Ym=se,gu=null);break;case"focusout":gu=Ym=Hl=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,tb(Ie,d,Ne);break;case"selectionchange":if(Vj)break;case"keydown":case"keyup":tb(Ie,d,Ne)}var gt;if(zn)e:{switch(s){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Bl?B1(s,d)&&(wt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(wt="onCompositionStart");wt&&(Mo&&d.locale!=="ko"&&(Bl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Bl&&(gt=cu()):(ui=Ne,Dl="value"in ui?ui.value:ui.textContent,Bl=!0)),mt=Eh(se,wt),0<mt.length&&(wt=new hu(wt,s,null,d,Ne),Ie.push({event:wt,listeners:mt}),gt?wt.data=gt:(gt=H1(d),gt!==null&&(wt.data=gt)))),(gt=di?Nj(s,d):Cj(s,d))&&(se=Eh(se,"onBeforeInput"),0<se.length&&(Ne=new hu("onBeforeInput","beforeinput",null,d,Ne),Ie.push({event:Ne,listeners:se}),Ne.data=gt))}ub(Ie,l)})}function xu(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Eh(s,l){for(var d=l+"Capture",m=[];s!==null;){var x=s,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=ut(s,d),E!=null&&m.unshift(xu(s,E,x)),E=ut(s,l),E!=null&&m.push(xu(s,E,x))),s=s.return}return m}function ql(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hb(s,l,d,m,x){for(var E=l._reactName,P=[];d!==null&&d!==m;){var $=d,q=$.alternate,se=$.stateNode;if(q!==null&&q===m)break;$.tag===5&&se!==null&&($=se,x?(q=ut(d,E),q!=null&&P.unshift(xu(d,q,$))):x||(q=ut(d,E),q!=null&&P.push(xu(d,q,$)))),d=d.return}P.length!==0&&s.push({event:l,listeners:P})}var zj=/\r\n?/g,Bj=/\u0000|\uFFFD/g;function fb(s){return(typeof s=="string"?s:""+s).replace(zj,`
`).replace(Bj,"")}function kh(s,l,d){if(l=fb(l),fb(s)!==l&&d)throw Error(n(425))}function Sh(){}var ig=null,sg=null;function ag(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,Hj=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,Wj=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(s){return pb.resolve(null).then(s).catch(qj)}:og;function qj(s){setTimeout(function(){throw s})}function lg(s,l){var d=l,m=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){s.removeChild(x),qi(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);qi(l)}function Ma(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function mb(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),vs="__reactFiber$"+Gl,bu="__reactProps$"+Gl,ta="__reactContainer$"+Gl,cg="__reactEvents$"+Gl,Gj="__reactListeners$"+Gl,Kj="__reactHandles$"+Gl;function Oo(s){var l=s[vs];if(l)return l;for(var d=s.parentNode;d;){if(l=d[ta]||d[vs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=mb(s);s!==null;){if(d=s[vs])return d;s=mb(s)}return l}s=d,d=s.parentNode}return null}function wu(s){return s=s[vs]||s[ta],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Kl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Th(s){return s[bu]||null}var ug=[],Xl=-1;function Oa(s){return{current:s}}function dn(s){0>Xl||(s.current=ug[Xl],ug[Xl]=null,Xl--)}function an(s,l){Xl++,ug[Xl]=s.current,s.current=l}var La={},_r=Oa(La),Kr=Oa(!1),Lo=La;function Ql(s,l){var d=s.type.contextTypes;if(!d)return La;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in d)x[E]=l[E];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=x),x}function Xr(s){return s=s.childContextTypes,s!=null}function Nh(){dn(Kr),dn(_r)}function gb(s,l,d){if(_r.current!==La)throw Error(n(168));an(_r,l),an(Kr,d)}function yb(s,l,d){var m=s.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(n(108,ft(s)||"Unknown",x));return he({},d,m)}function Ch(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||La,Lo=_r.current,an(_r,s),an(Kr,Kr.current),!0}function vb(s,l,d){var m=s.stateNode;if(!m)throw Error(n(169));d?(s=yb(s,l,Lo),m.__reactInternalMemoizedMergedChildContext=s,dn(Kr),dn(_r),an(_r,s)):dn(Kr),an(Kr,d)}var na=null,Ah=!1,dg=!1;function xb(s){na===null?na=[s]:na.push(s)}function Xj(s){Ah=!0,xb(s)}function Va(){if(!dg&&na!==null){dg=!0;var s=0,l=qe;try{var d=na;for(qe=1;s<d.length;s++){var m=d[s];do m=m(!0);while(m!==null)}na=null,Ah=!1}catch(x){throw na!==null&&(na=na.slice(s+1)),cs(qs,Va),x}finally{qe=l,dg=!1}}return null}var Yl=[],Jl=0,jh=null,Ih=0,Ti=[],Ni=0,Vo=null,ra=1,ia="";function Fo(s,l){Yl[Jl++]=Ih,Yl[Jl++]=jh,jh=s,Ih=l}function bb(s,l,d){Ti[Ni++]=ra,Ti[Ni++]=ia,Ti[Ni++]=Vo,Vo=s;var m=ra;s=ia;var x=32-dr(m)-1;m&=~(1<<x),d+=1;var E=32-dr(l)+x;if(30<E){var P=x-x%5;E=(m&(1<<P)-1).toString(32),m>>=P,x-=P,ra=1<<32-dr(l)+x|d<<x|m,ia=E+s}else ra=1<<E|d<<x|m,ia=s}function hg(s){s.return!==null&&(Fo(s,1),bb(s,1,0))}function fg(s){for(;s===jh;)jh=Yl[--Jl],Yl[Jl]=null,Ih=Yl[--Jl],Yl[Jl]=null;for(;s===Vo;)Vo=Ti[--Ni],Ti[Ni]=null,ia=Ti[--Ni],Ti[Ni]=null,ra=Ti[--Ni],Ti[Ni]=null}var hi=null,fi=null,yn=!1,Xi=null;function wb(s,l){var d=Ii(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function _b(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,hi=s,fi=Ma(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,hi=s,fi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Vo!==null?{id:ra,overflow:ia}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ii(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,hi=s,fi=null,!0):!1;default:return!1}}function pg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function mg(s){if(yn){var l=fi;if(l){var d=l;if(!_b(s,l)){if(pg(s))throw Error(n(418));l=Ma(d.nextSibling);var m=hi;l&&_b(s,l)?wb(m,d):(s.flags=s.flags&-4097|2,yn=!1,hi=s)}}else{if(pg(s))throw Error(n(418));s.flags=s.flags&-4097|2,yn=!1,hi=s}}}function Eb(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;hi=s}function Ph(s){if(s!==hi)return!1;if(!yn)return Eb(s),yn=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!ag(s.type,s.memoizedProps)),l&&(l=fi)){if(pg(s))throw kb(),Error(n(418));for(;l;)wb(s,l),l=Ma(l.nextSibling)}if(Eb(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){fi=Ma(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}fi=null}}else fi=hi?Ma(s.stateNode.nextSibling):null;return!0}function kb(){for(var s=fi;s;)s=Ma(s.nextSibling)}function Zl(){fi=hi=null,yn=!1}function gg(s){Xi===null?Xi=[s]:Xi.push(s)}var Qj=U.ReactCurrentBatchConfig;function _u(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,s));var x=m,E=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(P){var $=x.refs;P===null?delete $[E]:$[E]=P},l._stringRef=E,l)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function Rh(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Sb(s){var l=s._init;return l(s._payload)}function Tb(s){function l(Z,X){if(s){var ne=Z.deletions;ne===null?(Z.deletions=[X],Z.flags|=16):ne.push(X)}}function d(Z,X){if(!s)return null;for(;X!==null;)l(Z,X),X=X.sibling;return null}function m(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function x(Z,X){return Z=qa(Z,X),Z.index=0,Z.sibling=null,Z}function E(Z,X,ne){return Z.index=ne,s?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<X?(Z.flags|=2,X):ne):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function P(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function $(Z,X,ne,Oe){return X===null||X.tag!==6?(X=o0(ne,Z.mode,Oe),X.return=Z,X):(X=x(X,ne),X.return=Z,X)}function q(Z,X,ne,Oe){var lt=ne.type;return lt===R?Ne(Z,X,ne.props.children,Oe,ne.key):X!==null&&(X.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ot&&Sb(lt)===X.type)?(Oe=x(X,ne.props),Oe.ref=_u(Z,X,ne),Oe.return=Z,Oe):(Oe=rf(ne.type,ne.key,ne.props,null,Z.mode,Oe),Oe.ref=_u(Z,X,ne),Oe.return=Z,Oe)}function se(Z,X,ne,Oe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=l0(ne,Z.mode,Oe),X.return=Z,X):(X=x(X,ne.children||[]),X.return=Z,X)}function Ne(Z,X,ne,Oe,lt){return X===null||X.tag!==7?(X=Go(ne,Z.mode,Oe,lt),X.return=Z,X):(X=x(X,ne),X.return=Z,X)}function Ie(Z,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=o0(""+X,Z.mode,ne),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return ne=rf(X.type,X.key,X.props,null,Z.mode,ne),ne.ref=_u(Z,null,X),ne.return=Z,ne;case K:return X=l0(X,Z.mode,ne),X.return=Z,X;case ot:var Oe=X._init;return Ie(Z,Oe(X._payload),ne)}if(We(X)||oe(X))return X=Go(X,Z.mode,ne,null),X.return=Z,X;Rh(Z,X)}return null}function ke(Z,X,ne,Oe){var lt=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return lt!==null?null:$(Z,X,""+ne,Oe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ne.key===lt?q(Z,X,ne,Oe):null;case K:return ne.key===lt?se(Z,X,ne,Oe):null;case ot:return lt=ne._init,ke(Z,X,lt(ne._payload),Oe)}if(We(ne)||oe(ne))return lt!==null?null:Ne(Z,X,ne,Oe,null);Rh(Z,ne)}return null}function Ye(Z,X,ne,Oe,lt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Z=Z.get(ne)||null,$(X,Z,""+Oe,lt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case B:return Z=Z.get(Oe.key===null?ne:Oe.key)||null,q(X,Z,Oe,lt);case K:return Z=Z.get(Oe.key===null?ne:Oe.key)||null,se(X,Z,Oe,lt);case ot:var mt=Oe._init;return Ye(Z,X,ne,mt(Oe._payload),lt)}if(We(Oe)||oe(Oe))return Z=Z.get(ne)||null,Ne(X,Z,Oe,lt,null);Rh(X,Oe)}return null}function st(Z,X,ne,Oe){for(var lt=null,mt=null,gt=X,wt=X=0,ar=null;gt!==null&&wt<ne.length;wt++){gt.index>wt?(ar=gt,gt=null):ar=gt.sibling;var Wt=ke(Z,gt,ne[wt],Oe);if(Wt===null){gt===null&&(gt=ar);break}s&&gt&&Wt.alternate===null&&l(Z,gt),X=E(Wt,X,wt),mt===null?lt=Wt:mt.sibling=Wt,mt=Wt,gt=ar}if(wt===ne.length)return d(Z,gt),yn&&Fo(Z,wt),lt;if(gt===null){for(;wt<ne.length;wt++)gt=Ie(Z,ne[wt],Oe),gt!==null&&(X=E(gt,X,wt),mt===null?lt=gt:mt.sibling=gt,mt=gt);return yn&&Fo(Z,wt),lt}for(gt=m(Z,gt);wt<ne.length;wt++)ar=Ye(gt,Z,wt,ne[wt],Oe),ar!==null&&(s&&ar.alternate!==null&&gt.delete(ar.key===null?wt:ar.key),X=E(ar,X,wt),mt===null?lt=ar:mt.sibling=ar,mt=ar);return s&&gt.forEach(function(Ga){return l(Z,Ga)}),yn&&Fo(Z,wt),lt}function at(Z,X,ne,Oe){var lt=oe(ne);if(typeof lt!="function")throw Error(n(150));if(ne=lt.call(ne),ne==null)throw Error(n(151));for(var mt=lt=null,gt=X,wt=X=0,ar=null,Wt=ne.next();gt!==null&&!Wt.done;wt++,Wt=ne.next()){gt.index>wt?(ar=gt,gt=null):ar=gt.sibling;var Ga=ke(Z,gt,Wt.value,Oe);if(Ga===null){gt===null&&(gt=ar);break}s&&gt&&Ga.alternate===null&&l(Z,gt),X=E(Ga,X,wt),mt===null?lt=Ga:mt.sibling=Ga,mt=Ga,gt=ar}if(Wt.done)return d(Z,gt),yn&&Fo(Z,wt),lt;if(gt===null){for(;!Wt.done;wt++,Wt=ne.next())Wt=Ie(Z,Wt.value,Oe),Wt!==null&&(X=E(Wt,X,wt),mt===null?lt=Wt:mt.sibling=Wt,mt=Wt);return yn&&Fo(Z,wt),lt}for(gt=m(Z,gt);!Wt.done;wt++,Wt=ne.next())Wt=Ye(gt,Z,wt,Wt.value,Oe),Wt!==null&&(s&&Wt.alternate!==null&&gt.delete(Wt.key===null?wt:Wt.key),X=E(Wt,X,wt),mt===null?lt=Wt:mt.sibling=Wt,mt=Wt);return s&&gt.forEach(function(AI){return l(Z,AI)}),yn&&Fo(Z,wt),lt}function On(Z,X,ne,Oe){if(typeof ne=="object"&&ne!==null&&ne.type===R&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:e:{for(var lt=ne.key,mt=X;mt!==null;){if(mt.key===lt){if(lt=ne.type,lt===R){if(mt.tag===7){d(Z,mt.sibling),X=x(mt,ne.props.children),X.return=Z,Z=X;break e}}else if(mt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===ot&&Sb(lt)===mt.type){d(Z,mt.sibling),X=x(mt,ne.props),X.ref=_u(Z,mt,ne),X.return=Z,Z=X;break e}d(Z,mt);break}else l(Z,mt);mt=mt.sibling}ne.type===R?(X=Go(ne.props.children,Z.mode,Oe,ne.key),X.return=Z,Z=X):(Oe=rf(ne.type,ne.key,ne.props,null,Z.mode,Oe),Oe.ref=_u(Z,X,ne),Oe.return=Z,Z=Oe)}return P(Z);case K:e:{for(mt=ne.key;X!==null;){if(X.key===mt)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){d(Z,X.sibling),X=x(X,ne.children||[]),X.return=Z,Z=X;break e}else{d(Z,X);break}else l(Z,X);X=X.sibling}X=l0(ne,Z.mode,Oe),X.return=Z,Z=X}return P(Z);case ot:return mt=ne._init,On(Z,X,mt(ne._payload),Oe)}if(We(ne))return st(Z,X,ne,Oe);if(oe(ne))return at(Z,X,ne,Oe);Rh(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(d(Z,X.sibling),X=x(X,ne),X.return=Z,Z=X):(d(Z,X),X=o0(ne,Z.mode,Oe),X.return=Z,Z=X),P(Z)):d(Z,X)}return On}var ec=Tb(!0),Nb=Tb(!1),Dh=Oa(null),Mh=null,tc=null,yg=null;function vg(){yg=tc=Mh=null}function xg(s){var l=Dh.current;dn(Dh),s._currentValue=l}function bg(s,l,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===d)break;s=s.return}}function nc(s,l){Mh=s,yg=tc=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Qr=!0),s.firstContext=null)}function Ci(s){var l=s._currentValue;if(yg!==s)if(s={context:s,memoizedValue:l,next:null},tc===null){if(Mh===null)throw Error(n(308));tc=s,Mh.dependencies={lanes:0,firstContext:s}}else tc=tc.next=s;return l}var Uo=null;function wg(s){Uo===null?Uo=[s]:Uo.push(s)}function Cb(s,l,d,m){var x=l.interleaved;return x===null?(d.next=d,wg(l)):(d.next=x.next,x.next=d),l.interleaved=d,sa(s,m)}function sa(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Fa=!1;function _g(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ab(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function aa(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Ua(s,l,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Bt&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,sa(s,d)}return x=m.interleaved,x===null?(l.next=l,wg(m)):(l.next=x.next,x.next=l),m.interleaved=l,sa(s,d)}function Oh(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Ze(s,d)}}function jb(s,l){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var P={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?x=E=P:E=E.next=P,d=d.next}while(d!==null);E===null?x=E=l:E=E.next=l}else x=E=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:m.shared,effects:m.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function Lh(s,l,d,m){var x=s.updateQueue;Fa=!1;var E=x.firstBaseUpdate,P=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var q=$,se=q.next;q.next=null,P===null?E=se:P.next=se,P=q;var Ne=s.alternate;Ne!==null&&(Ne=Ne.updateQueue,$=Ne.lastBaseUpdate,$!==P&&($===null?Ne.firstBaseUpdate=se:$.next=se,Ne.lastBaseUpdate=q))}if(E!==null){var Ie=x.baseState;P=0,Ne=se=q=null,$=E;do{var ke=$.lane,Ye=$.eventTime;if((m&ke)===ke){Ne!==null&&(Ne=Ne.next={eventTime:Ye,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var st=s,at=$;switch(ke=l,Ye=d,at.tag){case 1:if(st=at.payload,typeof st=="function"){Ie=st.call(Ye,Ie,ke);break e}Ie=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=at.payload,ke=typeof st=="function"?st.call(Ye,Ie,ke):st,ke==null)break e;Ie=he({},Ie,ke);break e;case 2:Fa=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,ke=x.effects,ke===null?x.effects=[$]:ke.push($))}else Ye={eventTime:Ye,lane:ke,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ne===null?(se=Ne=Ye,q=Ie):Ne=Ne.next=Ye,P|=ke;if($=$.next,$===null){if($=x.shared.pending,$===null)break;ke=$,$=ke.next,ke.next=null,x.lastBaseUpdate=ke,x.shared.pending=null}}while(!0);if(Ne===null&&(q=Ie),x.baseState=q,x.firstBaseUpdate=se,x.lastBaseUpdate=Ne,l=x.shared.interleaved,l!==null){x=l;do P|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);Bo|=P,s.lanes=P,s.memoizedState=Ie}}function Ib(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var m=s[l],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var Eu={},xs=Oa(Eu),ku=Oa(Eu),Su=Oa(Eu);function $o(s){if(s===Eu)throw Error(n(174));return s}function Eg(s,l){switch(an(Su,l),an(ku,s),an(xs,Eu),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ce(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ce(l,s)}dn(xs),an(xs,l)}function rc(){dn(xs),dn(ku),dn(Su)}function Pb(s){$o(Su.current);var l=$o(xs.current),d=Ce(l,s.type);l!==d&&(an(ku,s),an(xs,d))}function kg(s){ku.current===s&&(dn(xs),dn(ku))}var _n=Oa(0);function Vh(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Sg=[];function Tg(){for(var s=0;s<Sg.length;s++)Sg[s]._workInProgressVersionPrimary=null;Sg.length=0}var Fh=U.ReactCurrentDispatcher,Ng=U.ReactCurrentBatchConfig,zo=0,En=null,Jn=null,ir=null,Uh=!1,Tu=!1,Nu=0,Yj=0;function Er(){throw Error(n(321))}function Cg(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Ki(s[d],l[d]))return!1;return!0}function Ag(s,l,d,m,x,E){if(zo=E,En=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fh.current=s===null||s.memoizedState===null?tI:nI,s=d(m,x),Tu){E=0;do{if(Tu=!1,Nu=0,25<=E)throw Error(n(301));E+=1,ir=Jn=null,l.updateQueue=null,Fh.current=rI,s=d(m,x)}while(Tu)}if(Fh.current=Bh,l=Jn!==null&&Jn.next!==null,zo=0,ir=Jn=En=null,Uh=!1,l)throw Error(n(300));return s}function jg(){var s=Nu!==0;return Nu=0,s}function bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?En.memoizedState=ir=s:ir=ir.next=s,ir}function Ai(){if(Jn===null){var s=En.alternate;s=s!==null?s.memoizedState:null}else s=Jn.next;var l=ir===null?En.memoizedState:ir.next;if(l!==null)ir=l,Jn=s;else{if(s===null)throw Error(n(310));Jn=s,s={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},ir===null?En.memoizedState=ir=s:ir=ir.next=s}return ir}function Cu(s,l){return typeof l=="function"?l(s):l}function Ig(s){var l=Ai(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=Jn,x=m.baseQueue,E=d.pending;if(E!==null){if(x!==null){var P=x.next;x.next=E.next,E.next=P}m.baseQueue=x=E,d.pending=null}if(x!==null){E=x.next,m=m.baseState;var $=P=null,q=null,se=E;do{var Ne=se.lane;if((zo&Ne)===Ne)q!==null&&(q=q.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:s(m,se.action);else{var Ie={lane:Ne,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};q===null?($=q=Ie,P=m):q=q.next=Ie,En.lanes|=Ne,Bo|=Ne}se=se.next}while(se!==null&&se!==E);q===null?P=m:q.next=$,Ki(m,l.memoizedState)||(Qr=!0),l.memoizedState=m,l.baseState=P,l.baseQueue=q,d.lastRenderedState=m}if(s=d.interleaved,s!==null){x=s;do E=x.lane,En.lanes|=E,Bo|=E,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Pg(s){var l=Ai(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var m=d.dispatch,x=d.pending,E=l.memoizedState;if(x!==null){d.pending=null;var P=x=x.next;do E=s(E,P.action),P=P.next;while(P!==x);Ki(E,l.memoizedState)||(Qr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,m]}function Rb(){}function Db(s,l){var d=En,m=Ai(),x=l(),E=!Ki(m.memoizedState,x);if(E&&(m.memoizedState=x,Qr=!0),m=m.queue,Rg(Lb.bind(null,d,m,s),[s]),m.getSnapshot!==l||E||ir!==null&&ir.memoizedState.tag&1){if(d.flags|=2048,Au(9,Ob.bind(null,d,m,x,l),void 0,null),sr===null)throw Error(n(349));(zo&30)!==0||Mb(d,l,x)}return x}function Mb(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=En.updateQueue,l===null?(l={lastEffect:null,stores:null},En.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Ob(s,l,d,m){l.value=d,l.getSnapshot=m,Vb(l)&&Fb(s)}function Lb(s,l,d){return d(function(){Vb(l)&&Fb(s)})}function Vb(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Ki(s,d)}catch{return!0}}function Fb(s){var l=sa(s,1);l!==null&&Zi(l,s,1,-1)}function Ub(s){var l=bs();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:s},l.queue=s,s=s.dispatch=eI.bind(null,En,s),[l.memoizedState,s]}function Au(s,l,d,m){return s={tag:s,create:l,destroy:d,deps:m,next:null},l=En.updateQueue,l===null?(l={lastEffect:null,stores:null},En.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,l.lastEffect=s)),s}function $b(){return Ai().memoizedState}function $h(s,l,d,m){var x=bs();En.flags|=s,x.memoizedState=Au(1|l,d,void 0,m===void 0?null:m)}function zh(s,l,d,m){var x=Ai();m=m===void 0?null:m;var E=void 0;if(Jn!==null){var P=Jn.memoizedState;if(E=P.destroy,m!==null&&Cg(m,P.deps)){x.memoizedState=Au(l,d,E,m);return}}En.flags|=s,x.memoizedState=Au(1|l,d,E,m)}function zb(s,l){return $h(8390656,8,s,l)}function Rg(s,l){return zh(2048,8,s,l)}function Bb(s,l){return zh(4,2,s,l)}function Hb(s,l){return zh(4,4,s,l)}function Wb(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function qb(s,l,d){return d=d!=null?d.concat([s]):null,zh(4,4,Wb.bind(null,l,s),d)}function Dg(){}function Gb(s,l){var d=Ai();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Cg(l,m[1])?m[0]:(d.memoizedState=[s,l],s)}function Kb(s,l){var d=Ai();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Cg(l,m[1])?m[0]:(s=s(),d.memoizedState=[s,l],s)}function Xb(s,l,d){return(zo&21)===0?(s.baseState&&(s.baseState=!1,Qr=!0),s.memoizedState=d):(Ki(d,l)||(d=G(),En.lanes|=d,Bo|=d,s.baseState=!0),l)}function Jj(s,l){var d=qe;qe=d!==0&&4>d?d:4,s(!0);var m=Ng.transition;Ng.transition={};try{s(!1),l()}finally{qe=d,Ng.transition=m}}function Qb(){return Ai().memoizedState}function Zj(s,l,d){var m=Ha(s);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Yb(s))Jb(l,d);else if(d=Cb(s,l,d,m),d!==null){var x=Ur();Zi(d,s,m,x),Zb(d,l,m)}}function eI(s,l,d){var m=Ha(s),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Yb(s))Jb(l,x);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var P=l.lastRenderedState,$=E(P,d);if(x.hasEagerState=!0,x.eagerState=$,Ki($,P)){var q=l.interleaved;q===null?(x.next=x,wg(l)):(x.next=q.next,q.next=x),l.interleaved=x;return}}catch{}finally{}d=Cb(s,l,x,m),d!==null&&(x=Ur(),Zi(d,s,m,x),Zb(d,l,m))}}function Yb(s){var l=s.alternate;return s===En||l!==null&&l===En}function Jb(s,l){Tu=Uh=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function Zb(s,l,d){if((d&4194240)!==0){var m=l.lanes;m&=s.pendingLanes,d|=m,l.lanes=d,Ze(s,d)}}var Bh={readContext:Ci,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},tI={readContext:Ci,useCallback:function(s,l){return bs().memoizedState=[s,l===void 0?null:l],s},useContext:Ci,useEffect:zb,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,$h(4194308,4,Wb.bind(null,l,s),d)},useLayoutEffect:function(s,l){return $h(4194308,4,s,l)},useInsertionEffect:function(s,l){return $h(4,2,s,l)},useMemo:function(s,l){var d=bs();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var m=bs();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},m.queue=s,s=s.dispatch=Zj.bind(null,En,s),[m.memoizedState,s]},useRef:function(s){var l=bs();return s={current:s},l.memoizedState=s},useState:Ub,useDebugValue:Dg,useDeferredValue:function(s){return bs().memoizedState=s},useTransition:function(){var s=Ub(!1),l=s[0];return s=Jj.bind(null,s[1]),bs().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var m=En,x=bs();if(yn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),sr===null)throw Error(n(349));(zo&30)!==0||Mb(m,l,d)}x.memoizedState=d;var E={value:d,getSnapshot:l};return x.queue=E,zb(Lb.bind(null,m,E,s),[s]),m.flags|=2048,Au(9,Ob.bind(null,m,E,d,l),void 0,null),d},useId:function(){var s=bs(),l=sr.identifierPrefix;if(yn){var d=ia,m=ra;d=(m&~(1<<32-dr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Nu++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=Yj++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},nI={readContext:Ci,useCallback:Gb,useContext:Ci,useEffect:Rg,useImperativeHandle:qb,useInsertionEffect:Bb,useLayoutEffect:Hb,useMemo:Kb,useReducer:Ig,useRef:$b,useState:function(){return Ig(Cu)},useDebugValue:Dg,useDeferredValue:function(s){var l=Ai();return Xb(l,Jn.memoizedState,s)},useTransition:function(){var s=Ig(Cu)[0],l=Ai().memoizedState;return[s,l]},useMutableSource:Rb,useSyncExternalStore:Db,useId:Qb,unstable_isNewReconciler:!1},rI={readContext:Ci,useCallback:Gb,useContext:Ci,useEffect:Rg,useImperativeHandle:qb,useInsertionEffect:Bb,useLayoutEffect:Hb,useMemo:Kb,useReducer:Pg,useRef:$b,useState:function(){return Pg(Cu)},useDebugValue:Dg,useDeferredValue:function(s){var l=Ai();return Jn===null?l.memoizedState=s:Xb(l,Jn.memoizedState,s)},useTransition:function(){var s=Pg(Cu)[0],l=Ai().memoizedState;return[s,l]},useMutableSource:Rb,useSyncExternalStore:Db,useId:Qb,unstable_isNewReconciler:!1};function Qi(s,l){if(s&&s.defaultProps){l=he({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function Mg(s,l,d,m){l=s.memoizedState,d=d(m,l),d=d==null?l:he({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Hh={isMounted:function(s){return(s=s._reactInternals)?Wr(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var m=Ur(),x=Ha(s),E=aa(m,x);E.payload=l,d!=null&&(E.callback=d),l=Ua(s,E,x),l!==null&&(Zi(l,s,x,m),Oh(l,s,x))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var m=Ur(),x=Ha(s),E=aa(m,x);E.tag=1,E.payload=l,d!=null&&(E.callback=d),l=Ua(s,E,x),l!==null&&(Zi(l,s,x,m),Oh(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Ur(),m=Ha(s),x=aa(d,m);x.tag=2,l!=null&&(x.callback=l),l=Ua(s,x,m),l!==null&&(Zi(l,s,m,d),Oh(l,s,m))}};function ew(s,l,d,m,x,E,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,P):l.prototype&&l.prototype.isPureReactComponent?!mu(d,m)||!mu(x,E):!0}function tw(s,l,d){var m=!1,x=La,E=l.contextType;return typeof E=="object"&&E!==null?E=Ci(E):(x=Xr(l)?Lo:_r.current,m=l.contextTypes,E=(m=m!=null)?Ql(s,x):La),l=new l(d,E),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Hh,s.stateNode=l,l._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=E),l}function nw(s,l,d,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==s&&Hh.enqueueReplaceState(l,l.state,null)}function Og(s,l,d,m){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},_g(s);var E=l.contextType;typeof E=="object"&&E!==null?x.context=Ci(E):(E=Xr(l)?Lo:_r.current,x.context=Ql(s,E)),x.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Mg(s,l,E,d),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Hh.enqueueReplaceState(x,x.state,null),Lh(s,d,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function ic(s,l){try{var d="",m=l;do d+=Ue(m),m=m.return;while(m);var x=d}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:l,stack:x,digest:null}}function Lg(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function Vg(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function rw(s,l,d){d=aa(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Yh||(Yh=!0,Zg=m),Vg(s,l)},d}function iw(s,l,d){d=aa(-1,d),d.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;d.payload=function(){return m(x)},d.callback=function(){Vg(s,l)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){Vg(s,l),typeof m!="function"&&(za===null?za=new Set([this]):za.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),d}function sw(s,l,d){var m=s.pingCache;if(m===null){m=s.pingCache=new iI;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(x.add(d),s=vI.bind(null,s,l,d),l.then(s,s))}function aw(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function ow(s,l,d,m,x){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=aa(-1,1),l.tag=2,Ua(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var sI=U.ReactCurrentOwner,Qr=!1;function Fr(s,l,d,m){l.child=s===null?Nb(l,null,d,m):ec(l,s.child,d,m)}function lw(s,l,d,m,x){d=d.render;var E=l.ref;return nc(l,x),m=Ag(s,l,d,m,E,x),d=jg(),s!==null&&!Qr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,oa(s,l,x)):(yn&&d&&hg(l),l.flags|=1,Fr(s,l,m,x),l.child)}function cw(s,l,d,m,x){if(s===null){var E=d.type;return typeof E=="function"&&!a0(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=E,uw(s,l,E,m,x)):(s=rf(d.type,null,m,l,l.mode,x),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,(s.lanes&x)===0){var P=E.memoizedProps;if(d=d.compare,d=d!==null?d:mu,d(P,m)&&s.ref===l.ref)return oa(s,l,x)}return l.flags|=1,s=qa(E,m),s.ref=l.ref,s.return=l,l.child=s}function uw(s,l,d,m,x){if(s!==null){var E=s.memoizedProps;if(mu(E,m)&&s.ref===l.ref)if(Qr=!1,l.pendingProps=m=E,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Qr=!0);else return l.lanes=s.lanes,oa(s,l,x)}return Fg(s,l,d,m,x)}function dw(s,l,d){var m=l.pendingProps,x=m.children,E=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(ac,pi),pi|=d;else{if((d&1073741824)===0)return s=E!==null?E.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,an(ac,pi),pi|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:d,an(ac,pi),pi|=m}else E!==null?(m=E.baseLanes|d,l.memoizedState=null):m=d,an(ac,pi),pi|=m;return Fr(s,l,x,d),l.child}function hw(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Fg(s,l,d,m,x){var E=Xr(d)?Lo:_r.current;return E=Ql(l,E),nc(l,x),d=Ag(s,l,d,m,E,x),m=jg(),s!==null&&!Qr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,oa(s,l,x)):(yn&&m&&hg(l),l.flags|=1,Fr(s,l,d,x),l.child)}function fw(s,l,d,m,x){if(Xr(d)){var E=!0;Ch(l)}else E=!1;if(nc(l,x),l.stateNode===null)qh(s,l),tw(l,d,m),Og(l,d,m,x),m=!0;else if(s===null){var P=l.stateNode,$=l.memoizedProps;P.props=$;var q=P.context,se=d.contextType;typeof se=="object"&&se!==null?se=Ci(se):(se=Xr(d)?Lo:_r.current,se=Ql(l,se));var Ne=d.getDerivedStateFromProps,Ie=typeof Ne=="function"||typeof P.getSnapshotBeforeUpdate=="function";Ie||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==m||q!==se)&&nw(l,P,m,se),Fa=!1;var ke=l.memoizedState;P.state=ke,Lh(l,m,P,x),q=l.memoizedState,$!==m||ke!==q||Kr.current||Fa?(typeof Ne=="function"&&(Mg(l,d,Ne,m),q=l.memoizedState),($=Fa||ew(l,d,$,m,ke,q,se))?(Ie||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=q),P.props=m,P.state=q,P.context=se,m=$):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{P=l.stateNode,Ab(s,l),$=l.memoizedProps,se=l.type===l.elementType?$:Qi(l.type,$),P.props=se,Ie=l.pendingProps,ke=P.context,q=d.contextType,typeof q=="object"&&q!==null?q=Ci(q):(q=Xr(d)?Lo:_r.current,q=Ql(l,q));var Ye=d.getDerivedStateFromProps;(Ne=typeof Ye=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==Ie||ke!==q)&&nw(l,P,m,q),Fa=!1,ke=l.memoizedState,P.state=ke,Lh(l,m,P,x);var st=l.memoizedState;$!==Ie||ke!==st||Kr.current||Fa?(typeof Ye=="function"&&(Mg(l,d,Ye,m),st=l.memoizedState),(se=Fa||ew(l,d,se,m,ke,st,q)||!1)?(Ne||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,st,q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,st,q)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=st),P.props=m,P.state=st,P.context=q,m=se):(typeof P.componentDidUpdate!="function"||$===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),m=!1)}return Ug(s,l,d,m,E,x)}function Ug(s,l,d,m,x,E){hw(s,l);var P=(l.flags&128)!==0;if(!m&&!P)return x&&vb(l,d,!1),oa(s,l,E);m=l.stateNode,sI.current=l;var $=P&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,s!==null&&P?(l.child=ec(l,s.child,null,E),l.child=ec(l,null,$,E)):Fr(s,l,$,E),l.memoizedState=m.state,x&&vb(l,d,!0),l.child}function pw(s){var l=s.stateNode;l.pendingContext?gb(s,l.pendingContext,l.pendingContext!==l.context):l.context&&gb(s,l.context,!1),Eg(s,l.containerInfo)}function mw(s,l,d,m,x){return Zl(),gg(x),l.flags|=256,Fr(s,l,d,m),l.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function zg(s){return{baseLanes:s,cachePool:null,transitions:null}}function gw(s,l,d){var m=l.pendingProps,x=_n.current,E=!1,P=(l.flags&128)!==0,$;if(($=P)||($=s!==null&&s.memoizedState===null?!1:(x&2)!==0),$?(E=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),an(_n,x&1),s===null)return mg(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=m.children,s=m.fallback,E?(m=l.mode,E=l.child,P={mode:"hidden",children:P},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=P):E=sf(P,m,0,null),s=Go(s,m,d,null),E.return=l,s.return=l,E.sibling=s,l.child=E,l.child.memoizedState=zg(d),l.memoizedState=$g,s):Bg(l,P));if(x=s.memoizedState,x!==null&&($=x.dehydrated,$!==null))return aI(s,l,P,m,$,x,d);if(E){E=m.fallback,P=l.mode,x=s.child,$=x.sibling;var q={mode:"hidden",children:m.children};return(P&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=q,l.deletions=null):(m=qa(x,q),m.subtreeFlags=x.subtreeFlags&14680064),$!==null?E=qa($,E):(E=Go(E,P,d,null),E.flags|=2),E.return=l,m.return=l,m.sibling=E,l.child=m,m=E,E=l.child,P=s.child.memoizedState,P=P===null?zg(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=s.childLanes&~d,l.memoizedState=$g,m}return E=s.child,s=E.sibling,m=qa(E,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=m,l.memoizedState=null,m}function Bg(s,l){return l=sf({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Wh(s,l,d,m){return m!==null&&gg(m),ec(l,s.child,null,d),s=Bg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function aI(s,l,d,m,x,E,P){if(d)return l.flags&256?(l.flags&=-257,m=Lg(Error(n(422))),Wh(s,l,P,m)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(E=m.fallback,x=l.mode,m=sf({mode:"visible",children:m.children},x,0,null),E=Go(E,x,P,null),E.flags|=2,m.return=l,E.return=l,m.sibling=E,l.child=m,(l.mode&1)!==0&&ec(l,s.child,null,P),l.child.memoizedState=zg(P),l.memoizedState=$g,E);if((l.mode&1)===0)return Wh(s,l,P,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var $=m.dgst;return m=$,E=Error(n(419)),m=Lg(E,m,void 0),Wh(s,l,P,m)}if($=(P&s.childLanes)!==0,Qr||$){if(m=sr,m!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|P))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,sa(s,x),Zi(m,s,x,-1))}return s0(),m=Lg(Error(n(421))),Wh(s,l,P,m)}return x.data==="$?"?(l.flags|=128,l.child=s.child,l=xI.bind(null,s),x._reactRetry=l,null):(s=E.treeContext,fi=Ma(x.nextSibling),hi=l,yn=!0,Xi=null,s!==null&&(Ti[Ni++]=ra,Ti[Ni++]=ia,Ti[Ni++]=Vo,ra=s.id,ia=s.overflow,Vo=l),l=Bg(l,m.children),l.flags|=4096,l)}function yw(s,l,d){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),bg(s.return,l,d)}function Hg(s,l,d,m,x){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=d,E.tailMode=x)}function vw(s,l,d){var m=l.pendingProps,x=m.revealOrder,E=m.tail;if(Fr(s,l,m.children,d),m=_n.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yw(s,d,l);else if(s.tag===19)yw(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(an(_n,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)s=d.alternate,s!==null&&Vh(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Hg(l,!1,x,d,E);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(s=x.alternate,s!==null&&Vh(s)===null){l.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}Hg(l,!0,d,null,E);break;case"together":Hg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function qh(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function oa(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Bo|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=qa(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=qa(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function oI(s,l,d){switch(l.tag){case 3:pw(l),Zl();break;case 5:Pb(l);break;case 1:Xr(l.type)&&Ch(l);break;case 4:Eg(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;an(Dh,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(an(_n,_n.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?gw(s,l,d):(an(_n,_n.current&1),s=oa(s,l,d),s!==null?s.sibling:null);an(_n,_n.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(s.flags&128)!==0){if(m)return vw(s,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),an(_n,_n.current),m)break;return null;case 22:case 23:return l.lanes=0,dw(s,l,d)}return oa(s,l,d)}var xw,Wg,bw,ww;xw=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Wg=function(){},bw=function(s,l,d,m){var x=s.memoizedProps;if(x!==m){s=l.stateNode,$o(xs.current);var E=null;switch(d){case"input":x=Rt(s,x),m=Rt(s,m),E=[];break;case"select":x=he({},x,{value:void 0}),m=he({},m,{value:void 0}),E=[];break;case"textarea":x=jt(s,x),m=jt(s,m),E=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Sh)}ce(d,m);var P;d=null;for(se in x)if(!m.hasOwnProperty(se)&&x.hasOwnProperty(se)&&x[se]!=null)if(se==="style"){var $=x[se];for(P in $)$.hasOwnProperty(P)&&(d||(d={}),d[P]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in m){var q=m[se];if($=x!=null?x[se]:void 0,m.hasOwnProperty(se)&&q!==$&&(q!=null||$!=null))if(se==="style")if($){for(P in $)!$.hasOwnProperty(P)||q&&q.hasOwnProperty(P)||(d||(d={}),d[P]="");for(P in q)q.hasOwnProperty(P)&&$[P]!==q[P]&&(d||(d={}),d[P]=q[P])}else d||(E||(E=[]),E.push(se,d)),d=q;else se==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,$=$?$.__html:void 0,q!=null&&$!==q&&(E=E||[]).push(se,q)):se==="children"?typeof q!="string"&&typeof q!="number"||(E=E||[]).push(se,""+q):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(q!=null&&se==="onScroll"&&un("scroll",s),E||$===q||(E=[])):(E=E||[]).push(se,q))}d&&(E=E||[]).push("style",d);var se=E;(l.updateQueue=se)&&(l.flags|=4)}},ww=function(s,l,d,m){d!==m&&(l.flags|=4)};function ju(s,l){if(!yn)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function kr(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(l)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=d,l}function lI(s,l,d){var m=l.pendingProps;switch(fg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(l),null;case 1:return Xr(l.type)&&Nh(),kr(l),null;case 3:return m=l.stateNode,rc(),dn(Kr),dn(_r),Tg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ph(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xi!==null&&(n0(Xi),Xi=null))),Wg(s,l),kr(l),null;case 5:kg(l);var x=$o(Su.current);if(d=l.type,s!==null&&l.stateNode!=null)bw(s,l,d,m,x),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return kr(l),null}if(s=$o(xs.current),Ph(l)){m=l.stateNode,d=l.type;var E=l.memoizedProps;switch(m[vs]=l,m[bu]=E,s=(l.mode&1)!==0,d){case"dialog":un("cancel",m),un("close",m);break;case"iframe":case"object":case"embed":un("load",m);break;case"video":case"audio":for(x=0;x<yu.length;x++)un(yu[x],m);break;case"source":un("error",m);break;case"img":case"image":case"link":un("error",m),un("load",m);break;case"details":un("toggle",m);break;case"input":re(m,E),un("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},un("invalid",m);break;case"textarea":Pt(m,E),un("invalid",m)}ce(d,E),x=null;for(var P in E)if(E.hasOwnProperty(P)){var $=E[P];P==="children"?typeof $=="string"?m.textContent!==$&&(E.suppressHydrationWarning!==!0&&kh(m.textContent,$,s),x=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(E.suppressHydrationWarning!==!0&&kh(m.textContent,$,s),x=["children",""+$]):i.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&un("scroll",m)}switch(d){case"input":St(m),de(m,E,!0);break;case"textarea":St(m),te(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Sh)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ye(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=P.createElement(d,{is:m.is}):(s=P.createElement(d),d==="select"&&(P=s,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):s=P.createElementNS(s,d),s[vs]=l,s[bu]=m,xw(s,l,!1,!1),l.stateNode=s;e:{switch(P=Y(d,m),d){case"dialog":un("cancel",s),un("close",s),x=m;break;case"iframe":case"object":case"embed":un("load",s),x=m;break;case"video":case"audio":for(x=0;x<yu.length;x++)un(yu[x],s);x=m;break;case"source":un("error",s),x=m;break;case"img":case"image":case"link":un("error",s),un("load",s),x=m;break;case"details":un("toggle",s),x=m;break;case"input":re(s,m),x=Rt(s,m),un("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=he({},m,{value:void 0}),un("invalid",s);break;case"textarea":Pt(s,m),x=jt(s,m),un("invalid",s);break;default:x=m}ce(d,x),$=x;for(E in $)if($.hasOwnProperty(E)){var q=$[E];E==="style"?ve(s,q):E==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Me(s,q)):E==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&Le(s,q):typeof q=="number"&&Le(s,""+q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?q!=null&&E==="onScroll"&&un("scroll",s):q!=null&&O(s,E,q,P))}switch(d){case"input":St(s),de(s,m,!1);break;case"textarea":St(s),te(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ct(m.value));break;case"select":s.multiple=!!m.multiple,E=m.value,E!=null?Dt(s,!!m.multiple,E,!1):m.defaultValue!=null&&Dt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Sh)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return kr(l),null;case 6:if(s&&l.stateNode!=null)ww(s,l,s.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=$o(Su.current),$o(xs.current),Ph(l)){if(m=l.stateNode,d=l.memoizedProps,m[vs]=l,(E=m.nodeValue!==d)&&(s=hi,s!==null))switch(s.tag){case 3:kh(m.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kh(m.nodeValue,d,(s.mode&1)!==0)}E&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[vs]=l,l.stateNode=m}return kr(l),null;case 13:if(dn(_n),m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(yn&&fi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)kb(),Zl(),l.flags|=98560,E=!1;else if(E=Ph(l),m!==null&&m.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[vs]=l}else Zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kr(l),E=!1}else Xi!==null&&(n0(Xi),Xi=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(_n.current&1)!==0?Zn===0&&(Zn=3):s0())),l.updateQueue!==null&&(l.flags|=4),kr(l),null);case 4:return rc(),Wg(s,l),s===null&&vu(l.stateNode.containerInfo),kr(l),null;case 10:return xg(l.type._context),kr(l),null;case 17:return Xr(l.type)&&Nh(),kr(l),null;case 19:if(dn(_n),E=l.memoizedState,E===null)return kr(l),null;if(m=(l.flags&128)!==0,P=E.rendering,P===null)if(m)ju(E,!1);else{if(Zn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(P=Vh(s),P!==null){for(l.flags|=128,ju(E,!1),m=P.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)E=d,s=m,E.flags&=14680066,P=E.alternate,P===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,s=P.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return an(_n,_n.current&1|2),l.child}s=s.sibling}E.tail!==null&&Jt()>oc&&(l.flags|=128,m=!0,ju(E,!1),l.lanes=4194304)}else{if(!m)if(s=Vh(P),s!==null){if(l.flags|=128,m=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),ju(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!yn)return kr(l),null}else 2*Jt()-E.renderingStartTime>oc&&d!==1073741824&&(l.flags|=128,m=!0,ju(E,!1),l.lanes=4194304);E.isBackwards?(P.sibling=l.child,l.child=P):(d=E.last,d!==null?d.sibling=P:l.child=P,E.last=P)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Jt(),l.sibling=null,d=_n.current,an(_n,m?d&1|2:d&1),l):(kr(l),null);case 22:case 23:return i0(),m=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(pi&1073741824)!==0&&(kr(l),l.subtreeFlags&6&&(l.flags|=8192)):kr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function cI(s,l){switch(fg(l),l.tag){case 1:return Xr(l.type)&&Nh(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return rc(),dn(Kr),dn(_r),Tg(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return kg(l),null;case 13:if(dn(_n),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Zl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return dn(_n),null;case 4:return rc(),null;case 10:return xg(l.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var Gh=!1,Sr=!1,uI=typeof WeakSet=="function"?WeakSet:Set,rt=null;function sc(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){jn(s,l,m)}else d.current=null}function qg(s,l,d){try{d()}catch(m){jn(s,l,m)}}var _w=!1;function dI(s,l){if(ig=Pa,s=eb(),Qm(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var P=0,$=-1,q=-1,se=0,Ne=0,Ie=s,ke=null;t:for(;;){for(var Ye;Ie!==d||x!==0&&Ie.nodeType!==3||($=P+x),Ie!==E||m!==0&&Ie.nodeType!==3||(q=P+m),Ie.nodeType===3&&(P+=Ie.nodeValue.length),(Ye=Ie.firstChild)!==null;)ke=Ie,Ie=Ye;for(;;){if(Ie===s)break t;if(ke===d&&++se===x&&($=P),ke===E&&++Ne===m&&(q=P),(Ye=Ie.nextSibling)!==null)break;Ie=ke,ke=Ie.parentNode}Ie=Ye}d=$===-1||q===-1?null:{start:$,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(sg={focusedElem:s,selectionRange:d},Pa=!1,rt=l;rt!==null;)if(l=rt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,rt=s;else for(;rt!==null;){l=rt;try{var st=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var at=st.memoizedProps,On=st.memoizedState,Z=l.stateNode,X=Z.getSnapshotBeforeUpdate(l.elementType===l.type?at:Qi(l.type,at),On);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=l.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Oe){jn(l,l.return,Oe)}if(s=l.sibling,s!==null){s.return=l.return,rt=s;break}rt=l.return}return st=_w,_w=!1,st}function Iu(s,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var E=x.destroy;x.destroy=void 0,E!==void 0&&qg(l,d,E)}x=x.next}while(x!==m)}}function Kh(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Gg(s){var l=s.ref;if(l!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof l=="function"?l(s):l.current=s}}function Ew(s){var l=s.alternate;l!==null&&(s.alternate=null,Ew(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[vs],delete l[bu],delete l[cg],delete l[Gj],delete l[Kj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function kw(s){return s.tag===5||s.tag===3||s.tag===4}function Sw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kg(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Sh));else if(m!==4&&(s=s.child,s!==null))for(Kg(s,l,d),s=s.sibling;s!==null;)Kg(s,l,d),s=s.sibling}function Xg(s,l,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Xg(s,l,d),s=s.sibling;s!==null;)Xg(s,l,d),s=s.sibling}var pr=null,Yi=!1;function $a(s,l,d){for(d=d.child;d!==null;)Tw(s,l,d),d=d.sibling}function Tw(s,l,d){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Gs,d)}catch{}switch(d.tag){case 5:Sr||sc(d,l);case 6:var m=pr,x=Yi;pr=null,$a(s,l,d),pr=m,Yi=x,pr!==null&&(Yi?(s=pr,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):pr.removeChild(d.stateNode));break;case 18:pr!==null&&(Yi?(s=pr,d=d.stateNode,s.nodeType===8?lg(s.parentNode,d):s.nodeType===1&&lg(s,d),qi(s)):lg(pr,d.stateNode));break;case 4:m=pr,x=Yi,pr=d.stateNode.containerInfo,Yi=!0,$a(s,l,d),pr=m,Yi=x;break;case 0:case 11:case 14:case 15:if(!Sr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var E=x,P=E.destroy;E=E.tag,P!==void 0&&((E&2)!==0||(E&4)!==0)&&qg(d,l,P),x=x.next}while(x!==m)}$a(s,l,d);break;case 1:if(!Sr&&(sc(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch($){jn(d,l,$)}$a(s,l,d);break;case 21:$a(s,l,d);break;case 22:d.mode&1?(Sr=(m=Sr)||d.memoizedState!==null,$a(s,l,d),Sr=m):$a(s,l,d);break;default:$a(s,l,d)}}function Nw(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new uI),l.forEach(function(m){var x=bI.bind(null,s,m);d.has(m)||(d.add(m),m.then(x,x))})}}function Ji(s,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var E=s,P=l,$=P;e:for(;$!==null;){switch($.tag){case 5:pr=$.stateNode,Yi=!1;break e;case 3:pr=$.stateNode.containerInfo,Yi=!0;break e;case 4:pr=$.stateNode.containerInfo,Yi=!0;break e}$=$.return}if(pr===null)throw Error(n(160));Tw(E,P,x),pr=null,Yi=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(se){jn(x,l,se)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Cw(l,s),l=l.sibling}function Cw(s,l){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ji(l,s),ws(s),m&4){try{Iu(3,s,s.return),Kh(3,s)}catch(at){jn(s,s.return,at)}try{Iu(5,s,s.return)}catch(at){jn(s,s.return,at)}}break;case 1:Ji(l,s),ws(s),m&512&&d!==null&&sc(d,d.return);break;case 5:if(Ji(l,s),ws(s),m&512&&d!==null&&sc(d,d.return),s.flags&32){var x=s.stateNode;try{Le(x,"")}catch(at){jn(s,s.return,at)}}if(m&4&&(x=s.stateNode,x!=null)){var E=s.memoizedProps,P=d!==null?d.memoizedProps:E,$=s.type,q=s.updateQueue;if(s.updateQueue=null,q!==null)try{$==="input"&&E.type==="radio"&&E.name!=null&&$e(x,E),Y($,P);var se=Y($,E);for(P=0;P<q.length;P+=2){var Ne=q[P],Ie=q[P+1];Ne==="style"?ve(x,Ie):Ne==="dangerouslySetInnerHTML"?Me(x,Ie):Ne==="children"?Le(x,Ie):O(x,Ne,Ie,se)}switch($){case"input":Pe(x,E);break;case"textarea":Ee(x,E);break;case"select":var ke=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var Ye=E.value;Ye!=null?Dt(x,!!E.multiple,Ye,!1):ke!==!!E.multiple&&(E.defaultValue!=null?Dt(x,!!E.multiple,E.defaultValue,!0):Dt(x,!!E.multiple,E.multiple?[]:"",!1))}x[bu]=E}catch(at){jn(s,s.return,at)}}break;case 6:if(Ji(l,s),ws(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,E=s.memoizedProps;try{x.nodeValue=E}catch(at){jn(s,s.return,at)}}break;case 3:if(Ji(l,s),ws(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{qi(l.containerInfo)}catch(at){jn(s,s.return,at)}break;case 4:Ji(l,s),ws(s);break;case 13:Ji(l,s),ws(s),x=s.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Jg=Jt())),m&4&&Nw(s);break;case 22:if(Ne=d!==null&&d.memoizedState!==null,s.mode&1?(Sr=(se=Sr)||Ne,Ji(l,s),Sr=se):Ji(l,s),ws(s),m&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!Ne&&(s.mode&1)!==0)for(rt=s,Ne=s.child;Ne!==null;){for(Ie=rt=Ne;rt!==null;){switch(ke=rt,Ye=ke.child,ke.tag){case 0:case 11:case 14:case 15:Iu(4,ke,ke.return);break;case 1:sc(ke,ke.return);var st=ke.stateNode;if(typeof st.componentWillUnmount=="function"){m=ke,d=ke.return;try{l=m,st.props=l.memoizedProps,st.state=l.memoizedState,st.componentWillUnmount()}catch(at){jn(m,d,at)}}break;case 5:sc(ke,ke.return);break;case 22:if(ke.memoizedState!==null){Iw(Ie);continue}}Ye!==null?(Ye.return=ke,rt=Ye):Iw(Ie)}Ne=Ne.sibling}e:for(Ne=null,Ie=s;;){if(Ie.tag===5){if(Ne===null){Ne=Ie;try{x=Ie.stateNode,se?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):($=Ie.stateNode,q=Ie.memoizedProps.style,P=q!=null&&q.hasOwnProperty("display")?q.display:null,$.style.display=H("display",P))}catch(at){jn(s,s.return,at)}}}else if(Ie.tag===6){if(Ne===null)try{Ie.stateNode.nodeValue=se?"":Ie.memoizedProps}catch(at){jn(s,s.return,at)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===s)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===s)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===s)break e;Ne===Ie&&(Ne=null),Ie=Ie.return}Ne===Ie&&(Ne=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:Ji(l,s),ws(s),m&4&&Nw(s);break;case 21:break;default:Ji(l,s),ws(s)}}function ws(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(kw(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Le(x,""),m.flags&=-33);var E=Sw(s);Xg(s,E,x);break;case 3:case 4:var P=m.stateNode.containerInfo,$=Sw(s);Kg(s,$,P);break;default:throw Error(n(161))}}catch(q){jn(s,s.return,q)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function hI(s,l,d){rt=s,Aw(s)}function Aw(s,l,d){for(var m=(s.mode&1)!==0;rt!==null;){var x=rt,E=x.child;if(x.tag===22&&m){var P=x.memoizedState!==null||Gh;if(!P){var $=x.alternate,q=$!==null&&$.memoizedState!==null||Sr;$=Gh;var se=Sr;if(Gh=P,(Sr=q)&&!se)for(rt=x;rt!==null;)P=rt,q=P.child,P.tag===22&&P.memoizedState!==null?Pw(x):q!==null?(q.return=P,rt=q):Pw(x);for(;E!==null;)rt=E,Aw(E),E=E.sibling;rt=x,Gh=$,Sr=se}jw(s)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,rt=E):jw(s)}}function jw(s){for(;rt!==null;){var l=rt;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Sr||Kh(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Sr)if(d===null)m.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:Qi(l.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&Ib(l,E,m);break;case 3:var P=l.updateQueue;if(P!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Ib(l,P,d)}break;case 5:var $=l.stateNode;if(d===null&&l.flags&4){d=$;var q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var se=l.alternate;if(se!==null){var Ne=se.memoizedState;if(Ne!==null){var Ie=Ne.dehydrated;Ie!==null&&qi(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sr||l.flags&512&&Gg(l)}catch(ke){jn(l,l.return,ke)}}if(l===s){rt=null;break}if(d=l.sibling,d!==null){d.return=l.return,rt=d;break}rt=l.return}}function Iw(s){for(;rt!==null;){var l=rt;if(l===s){rt=null;break}var d=l.sibling;if(d!==null){d.return=l.return,rt=d;break}rt=l.return}}function Pw(s){for(;rt!==null;){var l=rt;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Kh(4,l)}catch(q){jn(l,d,q)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(q){jn(l,x,q)}}var E=l.return;try{Gg(l)}catch(q){jn(l,E,q)}break;case 5:var P=l.return;try{Gg(l)}catch(q){jn(l,P,q)}}}catch(q){jn(l,l.return,q)}if(l===s){rt=null;break}var $=l.sibling;if($!==null){$.return=l.return,rt=$;break}rt=l.return}}var fI=Math.ceil,Xh=U.ReactCurrentDispatcher,Qg=U.ReactCurrentOwner,ji=U.ReactCurrentBatchConfig,Bt=0,sr=null,Bn=null,mr=0,pi=0,ac=Oa(0),Zn=0,Pu=null,Bo=0,Qh=0,Yg=0,Ru=null,Yr=null,Jg=0,oc=1/0,la=null,Yh=!1,Zg=null,za=null,Jh=!1,Ba=null,Zh=0,Du=0,e0=null,ef=-1,tf=0;function Ur(){return(Bt&6)!==0?Jt():ef!==-1?ef:ef=Jt()}function Ha(s){return(s.mode&1)===0?1:(Bt&2)!==0&&mr!==0?mr&-mr:Qj.transition!==null?(tf===0&&(tf=G()),tf):(s=qe,s!==0||(s=window.event,s=s===void 0?16:lu(s.type)),s)}function Zi(s,l,d,m){if(50<Du)throw Du=0,e0=null,Error(n(185));Te(s,d,m),((Bt&2)===0||s!==sr)&&(s===sr&&((Bt&2)===0&&(Qh|=d),Zn===4&&Wa(s,mr)),Jr(s,m),d===1&&Bt===0&&(l.mode&1)===0&&(oc=Jt()+500,Ah&&Va()))}function Jr(s,l){var d=s.callbackNode;Ei(s,l);var m=Xs(s,s===sr?mr:0);if(m===0)d!==null&&ci(d),s.callbackNode=null,s.callbackPriority=0;else if(l=m&-m,s.callbackPriority!==l){if(d!=null&&ci(d),l===1)s.tag===0?Xj(Dw.bind(null,s)):xb(Dw.bind(null,s)),Wj(function(){(Bt&6)===0&&Va()}),d=null;else{switch(Kt(m)){case 1:d=qs;break;case 4:d=us;break;case 16:d=Mr;break;case 536870912:d=jl;break;default:d=Mr}d=zw(d,Rw.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function Rw(s,l){if(ef=-1,tf=0,(Bt&6)!==0)throw Error(n(327));var d=s.callbackNode;if(lc()&&s.callbackNode!==d)return null;var m=Xs(s,s===sr?mr:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||l)l=nf(s,m);else{l=m;var x=Bt;Bt|=2;var E=Ow();(sr!==s||mr!==l)&&(la=null,oc=Jt()+500,Wo(s,l));do try{gI();break}catch($){Mw(s,$)}while(!0);vg(),Xh.current=E,Bt=x,Bn!==null?l=0:(sr=null,mr=0,l=Zn)}if(l!==0){if(l===2&&(x=Lr(s),x!==0&&(m=x,l=t0(s,x))),l===1)throw d=Pu,Wo(s,0),Wa(s,m),Jr(s,Jt()),d;if(l===6)Wa(s,m);else{if(x=s.current.alternate,(m&30)===0&&!pI(x)&&(l=nf(s,m),l===2&&(E=Lr(s),E!==0&&(m=E,l=t0(s,E))),l===1))throw d=Pu,Wo(s,0),Wa(s,m),Jr(s,Jt()),d;switch(s.finishedWork=x,s.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:qo(s,Yr,la);break;case 3:if(Wa(s,m),(m&130023424)===m&&(l=Jg+500-Jt(),10<l)){if(Xs(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){Ur(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=og(qo.bind(null,s,Yr,la),l);break}qo(s,Yr,la);break;case 4:if(Wa(s,m),(m&4194240)===m)break;for(l=s.eventTimes,x=-1;0<m;){var P=31-dr(m);E=1<<P,P=l[P],P>x&&(x=P),m&=~E}if(m=x,m=Jt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*fI(m/1960))-m,10<m){s.timeoutHandle=og(qo.bind(null,s,Yr,la),m);break}qo(s,Yr,la);break;case 5:qo(s,Yr,la);break;default:throw Error(n(329))}}}return Jr(s,Jt()),s.callbackNode===d?Rw.bind(null,s):null}function t0(s,l){var d=Ru;return s.current.memoizedState.isDehydrated&&(Wo(s,l).flags|=256),s=nf(s,l),s!==2&&(l=Yr,Yr=d,l!==null&&n0(l)),s}function n0(s){Yr===null?Yr=s:Yr.push.apply(Yr,s)}function pI(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],E=x.getSnapshot;x=x.value;try{if(!Ki(E(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Wa(s,l){for(l&=~Yg,l&=~Qh,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-dr(l),m=1<<d;s[d]=-1,l&=~m}}function Dw(s){if((Bt&6)!==0)throw Error(n(327));lc();var l=Xs(s,0);if((l&1)===0)return Jr(s,Jt()),null;var d=nf(s,l);if(s.tag!==0&&d===2){var m=Lr(s);m!==0&&(l=m,d=t0(s,m))}if(d===1)throw d=Pu,Wo(s,0),Wa(s,l),Jr(s,Jt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,qo(s,Yr,la),Jr(s,Jt()),null}function r0(s,l){var d=Bt;Bt|=1;try{return s(l)}finally{Bt=d,Bt===0&&(oc=Jt()+500,Ah&&Va())}}function Ho(s){Ba!==null&&Ba.tag===0&&(Bt&6)===0&&lc();var l=Bt;Bt|=1;var d=ji.transition,m=qe;try{if(ji.transition=null,qe=1,s)return s()}finally{qe=m,ji.transition=d,Bt=l,(Bt&6)===0&&Va()}}function i0(){pi=ac.current,dn(ac)}function Wo(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,Hj(d)),Bn!==null)for(d=Bn.return;d!==null;){var m=d;switch(fg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Nh();break;case 3:rc(),dn(Kr),dn(_r),Tg();break;case 5:kg(m);break;case 4:rc();break;case 13:dn(_n);break;case 19:dn(_n);break;case 10:xg(m.type._context);break;case 22:case 23:i0()}d=d.return}if(sr=s,Bn=s=qa(s.current,null),mr=pi=l,Zn=0,Pu=null,Yg=Qh=Bo=0,Yr=Ru=null,Uo!==null){for(l=0;l<Uo.length;l++)if(d=Uo[l],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,E=d.pending;if(E!==null){var P=E.next;E.next=x,m.next=P}d.pending=m}Uo=null}return s}function Mw(s,l){do{var d=Bn;try{if(vg(),Fh.current=Bh,Uh){for(var m=En.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Uh=!1}if(zo=0,ir=Jn=En=null,Tu=!1,Nu=0,Qg.current=null,d===null||d.return===null){Zn=1,Pu=l,Bn=null;break}e:{var E=s,P=d.return,$=d,q=l;if(l=mr,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=q,Ne=$,Ie=Ne.tag;if((Ne.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var ke=Ne.alternate;ke?(Ne.updateQueue=ke.updateQueue,Ne.memoizedState=ke.memoizedState,Ne.lanes=ke.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Ye=aw(P);if(Ye!==null){Ye.flags&=-257,ow(Ye,P,$,E,l),Ye.mode&1&&sw(E,se,l),l=Ye,q=se;var st=l.updateQueue;if(st===null){var at=new Set;at.add(q),l.updateQueue=at}else st.add(q);break e}else{if((l&1)===0){sw(E,se,l),s0();break e}q=Error(n(426))}}else if(yn&&$.mode&1){var On=aw(P);if(On!==null){(On.flags&65536)===0&&(On.flags|=256),ow(On,P,$,E,l),gg(ic(q,$));break e}}E=q=ic(q,$),Zn!==4&&(Zn=2),Ru===null?Ru=[E]:Ru.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var Z=rw(E,q,l);jb(E,Z);break e;case 1:$=q;var X=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(za===null||!za.has(ne)))){E.flags|=65536,l&=-l,E.lanes|=l;var Oe=iw(E,$,l);jb(E,Oe);break e}}E=E.return}while(E!==null)}Vw(d)}catch(lt){l=lt,Bn===d&&d!==null&&(Bn=d=d.return);continue}break}while(!0)}function Ow(){var s=Xh.current;return Xh.current=Bh,s===null?Bh:s}function s0(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),sr===null||(Bo&268435455)===0&&(Qh&268435455)===0||Wa(sr,mr)}function nf(s,l){var d=Bt;Bt|=2;var m=Ow();(sr!==s||mr!==l)&&(la=null,Wo(s,l));do try{mI();break}catch(x){Mw(s,x)}while(!0);if(vg(),Bt=d,Xh.current=m,Bn!==null)throw Error(n(261));return sr=null,mr=0,Zn}function mI(){for(;Bn!==null;)Lw(Bn)}function gI(){for(;Bn!==null&&!jo();)Lw(Bn)}function Lw(s){var l=$w(s.alternate,s,pi);s.memoizedProps=s.pendingProps,l===null?Vw(s):Bn=l,Qg.current=null}function Vw(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=lI(d,l,pi),d!==null){Bn=d;return}}else{if(d=cI(d,l),d!==null){d.flags&=32767,Bn=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Zn=6,Bn=null;return}}if(l=l.sibling,l!==null){Bn=l;return}Bn=l=s}while(l!==null);Zn===0&&(Zn=5)}function qo(s,l,d){var m=qe,x=ji.transition;try{ji.transition=null,qe=1,yI(s,l,d,m)}finally{ji.transition=x,qe=m}return null}function yI(s,l,d,m){do lc();while(Ba!==null);if((Bt&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=d.lanes|d.childLanes;if(je(s,E),s===sr&&(Bn=sr=null,mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Jh||(Jh=!0,zw(Mr,function(){return lc(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=ji.transition,ji.transition=null;var P=qe;qe=1;var $=Bt;Bt|=4,Qg.current=null,dI(s,d),Cw(d,s),Lj(sg),Pa=!!ig,sg=ig=null,s.current=d,hI(d),Cl(),Bt=$,qe=P,ji.transition=E}else s.current=d;if(Jh&&(Jh=!1,Ba=s,Zh=x),E=s.pendingLanes,E===0&&(za=null),Il(d.stateNode),Jr(s,Jt()),l!==null)for(m=s.onRecoverableError,d=0;d<l.length;d++)x=l[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(Yh)throw Yh=!1,s=Zg,Zg=null,s;return(Zh&1)!==0&&s.tag!==0&&lc(),E=s.pendingLanes,(E&1)!==0?s===e0?Du++:(Du=0,e0=s):Du=0,Va(),null}function lc(){if(Ba!==null){var s=Kt(Zh),l=ji.transition,d=qe;try{if(ji.transition=null,qe=16>s?16:s,Ba===null)var m=!1;else{if(s=Ba,Ba=null,Zh=0,(Bt&6)!==0)throw Error(n(331));var x=Bt;for(Bt|=4,rt=s.current;rt!==null;){var E=rt,P=E.child;if((rt.flags&16)!==0){var $=E.deletions;if($!==null){for(var q=0;q<$.length;q++){var se=$[q];for(rt=se;rt!==null;){var Ne=rt;switch(Ne.tag){case 0:case 11:case 15:Iu(8,Ne,E)}var Ie=Ne.child;if(Ie!==null)Ie.return=Ne,rt=Ie;else for(;rt!==null;){Ne=rt;var ke=Ne.sibling,Ye=Ne.return;if(Ew(Ne),Ne===se){rt=null;break}if(ke!==null){ke.return=Ye,rt=ke;break}rt=Ye}}}var st=E.alternate;if(st!==null){var at=st.child;if(at!==null){st.child=null;do{var On=at.sibling;at.sibling=null,at=On}while(at!==null)}}rt=E}}if((E.subtreeFlags&2064)!==0&&P!==null)P.return=E,rt=P;else e:for(;rt!==null;){if(E=rt,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Iu(9,E,E.return)}var Z=E.sibling;if(Z!==null){Z.return=E.return,rt=Z;break e}rt=E.return}}var X=s.current;for(rt=X;rt!==null;){P=rt;var ne=P.child;if((P.subtreeFlags&2064)!==0&&ne!==null)ne.return=P,rt=ne;else e:for(P=X;rt!==null;){if($=rt,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Kh(9,$)}}catch(lt){jn($,$.return,lt)}if($===P){rt=null;break e}var Oe=$.sibling;if(Oe!==null){Oe.return=$.return,rt=Oe;break e}rt=$.return}}if(Bt=x,Va(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Gs,s)}catch{}m=!0}return m}finally{qe=d,ji.transition=l}}return!1}function Fw(s,l,d){l=ic(d,l),l=rw(s,l,1),s=Ua(s,l,1),l=Ur(),s!==null&&(Te(s,1,l),Jr(s,l))}function jn(s,l,d){if(s.tag===3)Fw(s,s,d);else for(;l!==null;){if(l.tag===3){Fw(l,s,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(za===null||!za.has(m))){s=ic(d,s),s=iw(l,s,1),l=Ua(l,s,1),s=Ur(),l!==null&&(Te(l,1,s),Jr(l,s));break}}l=l.return}}function vI(s,l,d){var m=s.pingCache;m!==null&&m.delete(l),l=Ur(),s.pingedLanes|=s.suspendedLanes&d,sr===s&&(mr&d)===d&&(Zn===4||Zn===3&&(mr&130023424)===mr&&500>Jt()-Jg?Wo(s,0):Yg|=d),Jr(s,l)}function Uw(s,l){l===0&&((s.mode&1)===0?l=1:(l=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var d=Ur();s=sa(s,l),s!==null&&(Te(s,l,d),Jr(s,d))}function xI(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),Uw(s,d)}function bI(s,l){var d=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Uw(s,d)}var $w;$w=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||Kr.current)Qr=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return Qr=!1,oI(s,l,d);Qr=(s.flags&131072)!==0}else Qr=!1,yn&&(l.flags&1048576)!==0&&bb(l,Ih,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;qh(s,l),s=l.pendingProps;var x=Ql(l,_r.current);nc(l,d),x=Ag(null,l,m,s,x,d);var E=jg();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Xr(m)?(E=!0,Ch(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,_g(l),x.updater=Hh,l.stateNode=x,x._reactInternals=l,Og(l,m,s,d),l=Ug(null,l,m,!0,E,d)):(l.tag=0,yn&&E&&hg(l),Fr(null,l,x,d),l=l.child),l;case 16:m=l.elementType;e:{switch(qh(s,l),s=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=_I(m),s=Qi(m,s),x){case 0:l=Fg(null,l,m,s,d);break e;case 1:l=fw(null,l,m,s,d);break e;case 11:l=lw(null,l,m,s,d);break e;case 14:l=cw(null,l,m,Qi(m.type,s),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Qi(m,x),Fg(s,l,m,x,d);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Qi(m,x),fw(s,l,m,x,d);case 3:e:{if(pw(l),s===null)throw Error(n(387));m=l.pendingProps,E=l.memoizedState,x=E.element,Ab(s,l),Lh(l,m,null,d);var P=l.memoizedState;if(m=P.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=ic(Error(n(423)),l),l=mw(s,l,m,d,x);break e}else if(m!==x){x=ic(Error(n(424)),l),l=mw(s,l,m,d,x);break e}else for(fi=Ma(l.stateNode.containerInfo.firstChild),hi=l,yn=!0,Xi=null,d=Nb(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zl(),m===x){l=oa(s,l,d);break e}Fr(s,l,m,d)}l=l.child}return l;case 5:return Pb(l),s===null&&mg(l),m=l.type,x=l.pendingProps,E=s!==null?s.memoizedProps:null,P=x.children,ag(m,x)?P=null:E!==null&&ag(m,E)&&(l.flags|=32),hw(s,l),Fr(s,l,P,d),l.child;case 6:return s===null&&mg(l),null;case 13:return gw(s,l,d);case 4:return Eg(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=ec(l,null,m,d):Fr(s,l,m,d),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Qi(m,x),lw(s,l,m,x,d);case 7:return Fr(s,l,l.pendingProps,d),l.child;case 8:return Fr(s,l,l.pendingProps.children,d),l.child;case 12:return Fr(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,E=l.memoizedProps,P=x.value,an(Dh,m._currentValue),m._currentValue=P,E!==null)if(Ki(E.value,P)){if(E.children===x.children&&!Kr.current){l=oa(s,l,d);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var $=E.dependencies;if($!==null){P=E.child;for(var q=$.firstContext;q!==null;){if(q.context===m){if(E.tag===1){q=aa(-1,d&-d),q.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var Ne=se.pending;Ne===null?q.next=q:(q.next=Ne.next,Ne.next=q),se.pending=q}}E.lanes|=d,q=E.alternate,q!==null&&(q.lanes|=d),bg(E.return,d,l),$.lanes|=d;break}q=q.next}}else if(E.tag===10)P=E.type===l.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=d,$=P.alternate,$!==null&&($.lanes|=d),bg(P,d,l),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===l){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}Fr(s,l,x.children,d),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,nc(l,d),x=Ci(x),m=m(x),l.flags|=1,Fr(s,l,m,d),l.child;case 14:return m=l.type,x=Qi(m,l.pendingProps),x=Qi(m.type,x),cw(s,l,m,x,d);case 15:return uw(s,l,l.type,l.pendingProps,d);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Qi(m,x),qh(s,l),l.tag=1,Xr(m)?(s=!0,Ch(l)):s=!1,nc(l,d),tw(l,m,x),Og(l,m,x,d),Ug(null,l,m,!0,s,d);case 19:return vw(s,l,d);case 22:return dw(s,l,d)}throw Error(n(156,l.tag))};function zw(s,l){return cs(s,l)}function wI(s,l,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(s,l,d,m){return new wI(s,l,d,m)}function a0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _I(s){if(typeof s=="function")return a0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ge)return 14}return 2}function qa(s,l){var d=s.alternate;return d===null?(d=Ii(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function rf(s,l,d,m,x,E){var P=2;if(m=s,typeof s=="function")a0(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case R:return Go(d.children,x,E,l);case I:P=8,x|=8;break;case A:return s=Ii(12,d,l,x|2),s.elementType=A,s.lanes=E,s;case D:return s=Ii(13,d,l,x),s.elementType=D,s.lanes=E,s;case be:return s=Ii(19,d,l,x),s.elementType=be,s.lanes=E,s;case Ke:return sf(d,x,E,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:P=10;break e;case L:P=9;break e;case F:P=11;break e;case Ge:P=14;break e;case ot:P=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Ii(P,d,l,x),l.elementType=s,l.type=m,l.lanes=E,l}function Go(s,l,d,m){return s=Ii(7,s,m,l),s.lanes=d,s}function sf(s,l,d,m){return s=Ii(22,s,m,l),s.elementType=Ke,s.lanes=d,s.stateNode={isHidden:!1},s}function o0(s,l,d){return s=Ii(6,s,null,l),s.lanes=d,s}function l0(s,l,d){return l=Ii(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function EI(s,l,d,m,x){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function c0(s,l,d,m,x,E,P,$,q){return s=new EI(s,l,d,$,q),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Ii(3,null,null,l),s.current=E,E.stateNode=s,E.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(E),s}function kI(s,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:m==null?null:""+m,children:s,containerInfo:l,implementation:d}}function Bw(s){if(!s)return La;s=s._reactInternals;e:{if(Wr(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Xr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(Xr(d))return yb(s,d,l)}return l}function Hw(s,l,d,m,x,E,P,$,q){return s=c0(d,m,!0,s,x,E,P,$,q),s.context=Bw(null),d=s.current,m=Ur(),x=Ha(d),E=aa(m,x),E.callback=l??null,Ua(d,E,x),s.current.lanes=x,Te(s,x,m),Jr(s,m),s}function af(s,l,d,m){var x=l.current,E=Ur(),P=Ha(x);return d=Bw(d),l.context===null?l.context=d:l.pendingContext=d,l=aa(E,P),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=Ua(x,l,P),s!==null&&(Zi(s,x,P,E),Oh(s,x,P)),P}function of(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ww(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function u0(s,l){Ww(s,l),(s=s.alternate)&&Ww(s,l)}function SI(){return null}var qw=typeof reportError=="function"?reportError:function(s){console.error(s)};function d0(s){this._internalRoot=s}lf.prototype.render=d0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));af(s,l,null,null)},lf.prototype.unmount=d0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ho(function(){af(null,s,null,null)}),l[ta]=null}};function lf(s){this._internalRoot=s}lf.prototype.unstable_scheduleHydration=function(s){if(s){var l=zi();s={blockedOn:null,target:s,priority:l};for(var d=0;d<ps.length&&l!==0&&l<ps[d].priority;d++);ps.splice(d,0,s),d===0&&uh(s)}};function h0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function TI(s,l,d,m,x){if(x){if(typeof m=="function"){var E=m;m=function(){var se=of(P);E.call(se)}}var P=Hw(l,m,s,0,null,!1,!1,"",Gw);return s._reactRootContainer=P,s[ta]=P.current,vu(s.nodeType===8?s.parentNode:s),Ho(),P}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var $=m;m=function(){var se=of(q);$.call(se)}}var q=c0(s,0,!1,null,null,!1,!1,"",Gw);return s._reactRootContainer=q,s[ta]=q.current,vu(s.nodeType===8?s.parentNode:s),Ho(function(){af(l,q,d,m)}),q}function uf(s,l,d,m,x){var E=d._reactRootContainer;if(E){var P=E;if(typeof x=="function"){var $=x;x=function(){var q=of(P);$.call(q)}}af(l,P,s,x)}else P=TI(d,l,s,x,m);return of(P)}An=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=hs(l.pendingLanes);d!==0&&(Ze(l,d|1),Jr(l,Jt()),(Bt&6)===0&&(oc=Jt()+500,Va()))}break;case 13:Ho(function(){var m=sa(s,1);if(m!==null){var x=Ur();Zi(m,s,1,x)}}),u0(s,1)}},$i=function(s){if(s.tag===13){var l=sa(s,134217728);if(l!==null){var d=Ur();Zi(l,s,134217728,d)}u0(s,134217728)}},Qs=function(s){if(s.tag===13){var l=Ha(s),d=sa(s,l);if(d!==null){var m=Ur();Zi(d,s,l,m)}u0(s,l)}},zi=function(){return qe},Zt=function(s,l){var d=qe;try{return qe=s,l()}finally{qe=d}},pe=function(s,l,d){switch(l){case"input":if(Pe(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==s&&m.form===s.form){var x=Th(m);if(!x)throw Error(n(90));At(m),Pe(m,x)}}}break;case"textarea":Ee(s,d);break;case"select":l=d.value,l!=null&&Dt(s,!!d.multiple,l,!1)}},Se=r0,Ut=Ho;var NI={usingClientEntryPoint:!1,Events:[wu,Kl,Th,ht,Ae,r0]},Mu={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CI={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_i(s),s===null?null:s.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Gs=df.inject(CI),Or=df}catch{}}return Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI,Zr.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(l))throw Error(n(200));return kI(s,l,null,d)},Zr.createRoot=function(s,l){if(!h0(s))throw Error(n(299));var d=!1,m="",x=qw;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=c0(s,1,!1,null,null,d,!1,m,x),s[ta]=l.current,vu(s.nodeType===8?s.parentNode:s),new d0(l)},Zr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=_i(l),s=s===null?null:s.stateNode,s},Zr.flushSync=function(s){return Ho(s)},Zr.hydrate=function(s,l,d){if(!cf(l))throw Error(n(200));return uf(null,s,l,!0,d)},Zr.hydrateRoot=function(s,l,d){if(!h0(s))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,E="",P=qw;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),l=Hw(l,null,s,1,d??null,x,!1,E,P),s[ta]=l.current,vu(s),m)for(s=0;s<m.length;s++)d=m[s],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new lf(l)},Zr.render=function(s,l,d){if(!cf(l))throw Error(n(200));return uf(null,s,l,!1,d)},Zr.unmountComponentAtNode=function(s){if(!cf(s))throw Error(n(40));return s._reactRootContainer?(Ho(function(){uf(null,null,s,!1,function(){s._reactRootContainer=null,s[ta]=null})}),!0):!1},Zr.unstable_batchedUpdates=r0,Zr.unstable_renderSubtreeIntoContainer=function(s,l,d,m){if(!cf(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return uf(s,l,d,!1,m)},Zr.version="18.3.1-next-f1338f8080-20240426",Zr}var t2;function NS(){if(t2)return m0.exports;t2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m0.exports=OI(),m0.exports}var n2;function LI(){if(n2)return hf;n2=1;var t=NS();return hf.createRoot=t.createRoot,hf.hydrateRoot=t.hydrateRoot,hf}var VI=LI();const FI=Fd(VI);var jv=NS();const UI=Fd(jv);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const r2="popstate";function $I(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:c,hash:u}=r.location;return uy("",{pathname:a,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ap(i)}return BI(e,n,null,t)}function Un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zI(){return Math.random().toString(36).substr(2,8)}function i2(t,e){return{usr:t.state,key:t.key,idx:e}}function uy(t,e,n,r){return n===void 0&&(n=null),fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wc(e):e,{state:n,key:e&&e.key||r||zI()})}function ap(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,u=no.Pop,h=null,f=g();f==null&&(f=0,c.replaceState(fd({},c.state,{idx:f}),""));function g(){return(c.state||{idx:null}).idx}function y(){u=no.Pop;let N=g(),j=N==null?null:N-f;f=N,h&&h({action:u,location:b.location,delta:j})}function v(N,j){u=no.Push;let M=uy(b.location,N,j);f=g()+1;let O=i2(M,f),U=b.createHref(M);try{c.pushState(O,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}a&&h&&h({action:u,location:b.location,delta:1})}function w(N,j){u=no.Replace;let M=uy(b.location,N,j);f=g();let O=i2(M,f),U=b.createHref(M);c.replaceState(O,"",U),a&&h&&h({action:u,location:b.location,delta:0})}function S(N){let j=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof N=="string"?N:ap(N);return M=M.replace(/ $/,"%20"),Un(j,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,j)}let b={get action(){return u},get location(){return t(i,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(r2,y),h=N,()=>{i.removeEventListener(r2,y),h=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let j=S(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:w,go(N){return c.go(N)}};return b}var s2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(s2||(s2={}));function HI(t,e,n){return n===void 0&&(n="/"),WI(t,e,n)}function WI(t,e,n,r){let i=typeof e=="string"?Wc(e):e,a=Iv(i.pathname||"/",n);if(a==null)return null;let c=AS(t);qI(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=iP(a);u=tP(c[h],f)}return u}function AS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,c,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(Un(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=io([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),AS(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:ZI(f,a.index),routesMeta:g})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let h of jS(a.path))i(a,c,h)}),e}function jS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=jS(r.join("/")),u=[];return u.push(...c.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function qI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GI=/^:[\w-]+$/,KI=3,XI=2,QI=1,YI=10,JI=-2,a2=t=>t==="*";function ZI(t,e){let n=t.split("/"),r=n.length;return n.some(a2)&&(r+=JI),e&&(r+=XI),n.filter(i=>!a2(i)).reduce((i,a)=>i+(GI.test(a)?KI:a===""?QI:YI),r)}function eP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tP(t,e,n){let{routesMeta:r}=t,i={},a="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=nP({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),v=h.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:io([a,y.pathname]),pathnameBase:lP(io([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=io([a,y.pathnameBase]))}return c}function nP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,g,y)=>{let{paramName:v,isOptional:w}=g;if(v==="*"){let b=u[y]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const S=u[y];return w&&!S?f[v]=void 0:f[v]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:t}}function rP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),CS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Iv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wc(t):t;return{pathname:n?n.startsWith("/")?n:aP(n,e):e,search:cP(r),hash:uP(i)}}function aP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pv(t,e){let n=oP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wc(t):(i=fd({},t),Un(!i.pathname||!i.pathname.includes("?"),v0("?","pathname","search",i)),Un(!i.pathname||!i.pathname.includes("#"),v0("#","pathname","hash",i)),Un(!i.search||!i.search.includes("#"),v0("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=sP(i,u),f=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const io=t=>t.join("/").replace(/\/\/+/g,"/"),lP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IS=["post","put","patch","delete"];new Set(IS);const hP=["get",...IS];new Set(hP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}const Dv=T.createContext(null),fP=T.createContext(null),_o=T.createContext(null),Kp=T.createContext(null),Sa=T.createContext({outlet:null,matches:[],isDataRoute:!1}),PS=T.createContext(null);function pP(t,e){let{relative:n}=e===void 0?{}:e;qc()||Un(!1);let{basename:r,navigator:i}=T.useContext(_o),{hash:a,pathname:c,search:u}=MS(t,{relative:n}),h=c;return r!=="/"&&(h=c==="/"?r:io([r,c])),i.createHref({pathname:h,search:u,hash:a})}function qc(){return T.useContext(Kp)!=null}function Hs(){return qc()||Un(!1),T.useContext(Kp).location}function RS(t){T.useContext(_o).static||T.useLayoutEffect(t)}function oi(){let{isDataRoute:t}=T.useContext(Sa);return t?NP():mP()}function mP(){qc()||Un(!1);let t=T.useContext(Dv),{basename:e,future:n,navigator:r}=T.useContext(_o),{matches:i}=T.useContext(Sa),{pathname:a}=Hs(),c=JSON.stringify(Pv(i,n.v7_relativeSplatPath)),u=T.useRef(!1);return RS(()=>{u.current=!0}),T.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let y=Rv(f,JSON.parse(c),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:io([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,c,a,t])}function DS(){let{matches:t}=T.useContext(Sa),e=t[t.length-1];return e?e.params:{}}function MS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(_o),{matches:i}=T.useContext(Sa),{pathname:a}=Hs(),c=JSON.stringify(Pv(i,r.v7_relativeSplatPath));return T.useMemo(()=>Rv(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function gP(t,e){return yP(t,e)}function yP(t,e,n,r){qc()||Un(!1);let{navigator:i}=T.useContext(_o),{matches:a}=T.useContext(Sa),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=Hs(),g;if(e){var y;let N=typeof e=="string"?Wc(e):e;h==="/"||(y=N.pathname)!=null&&y.startsWith(h)||Un(!1),g=N}else g=f;let v=g.pathname||"/",w=v;if(h!=="/"){let N=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=HI(t,{pathname:w}),b=_P(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:io([h,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:io([h,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return e&&b?T.createElement(Kp.Provider,{value:{location:pd({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:no.Pop}},b):b}function vP(){let t=TP(),e=dP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const xP=T.createElement(vP,null);class bP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Sa.Provider,{value:this.props.routeContext},T.createElement(PS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wP(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Dv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Sa.Provider,{value:e},r)}function _P(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);g>=0||Un(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:w}=n,S=y.route.loader&&v[y.route.id]===void 0&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let w,S=!1,b=null,N=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,b=y.route.errorElement||xP,h&&(f<0&&v===0?(CP("route-fallback"),S=!0,N=null):f===v&&(S=!0,N=y.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,v+1)),M=()=>{let O;return w?O=b:S?O=N:y.route.Component?O=T.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,T.createElement(wP,{match:y,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:O})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?T.createElement(bP,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:M(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):M()},null)}var OS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OS||{}),LS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LS||{});function EP(t){let e=T.useContext(Dv);return e||Un(!1),e}function kP(t){let e=T.useContext(fP);return e||Un(!1),e}function SP(t){let e=T.useContext(Sa);return e||Un(!1),e}function VS(t){let e=SP(),n=e.matches[e.matches.length-1];return n.route.id||Un(!1),n.route.id}function TP(){var t;let e=T.useContext(PS),n=kP(),r=VS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function NP(){let{router:t}=EP(OS.UseNavigateStable),e=VS(LS.UseNavigateStable),n=T.useRef(!1);return RS(()=>{n.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pd({fromRouteId:e},a)))},[t,e])}const o2={};function CP(t,e,n){o2[t]||(o2[t]=!0)}function AP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jP(t){let{to:e,replace:n,state:r,relative:i}=t;qc()||Un(!1);let{future:a,static:c}=T.useContext(_o),{matches:u}=T.useContext(Sa),{pathname:h}=Hs(),f=oi(),g=Rv(e,Pv(u,a.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(g);return T.useEffect(()=>f(JSON.parse(y),{replace:n,state:r,relative:i}),[f,y,i,n,r]),null}function or(t){Un(!1)}function IP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:a,static:c=!1,future:u}=t;qc()&&Un(!1);let h=e.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:h,navigator:a,static:c,future:pd({v7_relativeSplatPath:!1},u)}),[h,u,a,c]);typeof r=="string"&&(r=Wc(r));let{pathname:g="/",search:y="",hash:v="",state:w=null,key:S="default"}=r,b=T.useMemo(()=>{let N=Iv(g,h);return N==null?null:{location:{pathname:N,search:y,hash:v,state:w,key:S},navigationType:i}},[h,g,y,v,w,S,i]);return b==null?null:T.createElement(_o.Provider,{value:f},T.createElement(Kp.Provider,{children:n,value:b}))}function PP(t){let{children:e,location:n}=t;return gP(dy(e),n)}new Promise(()=>{});function dy(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,dy(r.props.children,a));return}r.type!==or&&Un(!1),!r.props.index||!r.props.children||Un(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=dy(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function RP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MP(t,e){return t.button===0&&(!e||e==="_self")&&!DP(t)}function fy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function OP(t,e){let n=fy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const LP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VP="6";try{window.__reactRouterVersion=VP}catch{}const FP="startTransition",l2=cy[FP];function UP(t){let{basename:e,children:n,future:r,window:i}=t,a=T.useRef();a.current==null&&(a.current=$I({window:i,v5Compat:!0}));let c=a.current,[u,h]=T.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},g=T.useCallback(y=>{f&&l2?l2(()=>h(y)):h(y)},[h,f]);return T.useLayoutEffect(()=>c.listen(g),[c,g]),T.useEffect(()=>AP(r),[r]),T.createElement(IP,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:c,state:u,target:h,to:f,preventScrollReset:g,viewTransition:y}=e,v=RP(e,LP),{basename:w}=T.useContext(_o),S,b=!1;if(typeof f=="string"&&zP.test(f)&&(S=f,$P))try{let O=new URL(window.location.href),U=f.startsWith("//")?new URL(O.protocol+f):new URL(f),B=Iv(U.pathname,w);U.origin===O.origin&&B!=null?f=B+U.search+U.hash:b=!0}catch{}let N=pP(f,{relative:i}),j=BP(f,{replace:c,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:y});function M(O){r&&r(O),O.defaultPrevented||j(O)}return T.createElement("a",hy({},v,{href:S||N,onClick:b||a?r:M,ref:n,target:h}))});var c2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c2||(c2={}));var u2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u2||(u2={}));function BP(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,viewTransition:u}=e===void 0?{}:e,h=oi(),f=Hs(),g=MS(t,{relative:c});return T.useCallback(y=>{if(MP(y,n)){y.preventDefault();let v=r!==void 0?r:ap(f)===ap(g);h(t,{replace:v,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[f,h,g,r,i,n,t,a,c,u])}function Mv(t){let e=T.useRef(fy(t)),n=T.useRef(!1),r=Hs(),i=T.useMemo(()=>OP(r.search,n.current?null:e.current),[r.search]),a=oi(),c=T.useCallback((u,h)=>{const f=fy(typeof u=="function"?u(i):u);n.current=!0,a("?"+f,h)},[a,i]);return[i,c]}const FS=T.createContext(),HP=({children:t})=>{const[e,n]=T.useState(()=>{const w=localStorage.getItem("carrito");return w?JSON.parse(w):[]}),[r,i]=T.useState(()=>{const w=localStorage.getItem("favoritos");return w?JSON.parse(w):[]});T.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),T.useEffect(()=>{n(w=>w.map(S=>{if(S.maxStock!==void 0)return S;if(Array.isArray(S.variantes)&&S.colorSeleccionado){const b=S.variantes.find(N=>N.color===S.colorSeleccionado);if(b&&b.cantidad!==void 0)return{...S,maxStock:Number(b.cantidad)||0}}if(S.cantidadProducto!==void 0){const b=Number(S.cantidadProducto);if(!Number.isNaN(b))return{...S,maxStock:b}}return S}))},[]),T.useEffect(()=>{n(w=>{const S=new Map;for(const b of w){const N=`${b.id}__${b.colorSeleccionado??""}`,j=S.get(N);j?S.set(N,{...j,cantidad:(Number(j.cantidad)||0)+(Number(b.cantidad)||0),maxStock:Math.max(Number(j.maxStock??0)||0,Number(b.maxStock??0)||0)||j.maxStock||b.maxStock}):S.set(N,{...b})}return Array.from(S.values())})},[]),T.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(r))},[r]);const a=w=>{try{const S=(w??"").toString().trim();return S||null}catch{return null}},c=(w,S=null)=>{n(b=>{const N=a(S),j=N&&Array.isArray(w.variantes)?w.variantes.find(U=>a(U.color)===N):null,M=(j&&Number(j.cantidad))??(w.maxStock!==void 0?Number(w.maxStock):void 0)??(w.cantidad!==void 0?Number(w.cantidad):void 0)??1/0,O=b.find(U=>U.id===w.id&&a(U.colorSeleccionado)===N);if(O){const U=Number.isFinite(M)?M:1/0,B=U;return O.cantidad<B?b.map(K=>K.id===w.id&&a(K.colorSeleccionado)===N?{...K,cantidad:K.cantidad+1,maxStock:U}:K):b}return M>0?[...b,{...w,cantidad:1,colorSeleccionado:N,maxStock:M}]:b})},u=(w,S=null)=>{const b=a(S);n(N=>N.map(j=>j.id===w&&a(j.colorSeleccionado)===b?{...j,cantidad:j.cantidad-1}:j).filter(j=>j.cantidad>0))},h=(w,S=null)=>{const b=a(S);n(N=>N.filter(j=>!(j.id===w&&a(j.colorSeleccionado)===b)))},f=w=>{n(S=>S.find(N=>N.id===w.id)?S.filter(N=>N.id!==w.id):[...S,{...w,cantidad:1}])},g=w=>{i(S=>S.find(b=>b.id===w.id)?S:[...S,w])},y=w=>{i(S=>S.filter(b=>b.id!==w))},v=()=>{n([])};return o.jsx(FS.Provider,{value:{carrito:e,favoritos:r,agregarAlCarrito:c,eliminarUnidadDelCarrito:u,quitarDelCarrito:h,toggleCarrito:f,agregarAFavoritos:g,eliminarDeFavoritos:y,vaciarCarrito:v},children:t})},Ud=()=>T.useContext(FS),US=T.createContext();function Gc(){return T.useContext(US)}function WP({children:t}){const[e,n]=T.useState(!1),[r,i]=T.useState("login");function a(u="login"){i(u),n(!0)}function c(){n(!1)}return o.jsx(US.Provider,{value:{modalAbierto:e,setModalAbierto:n,abrirModal:a,cerrarModal:c,modo:r,setModo:i},children:t})}const qP=()=>{};var d2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,u=c?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,g=a>>2,y=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,w=f&63;h||(w=64,c||(v=64)),r.push(n[g],n[y],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||y==null)throw new KP;const v=a<<2|u>>4;if(r.push(v),f!==64){const w=u<<4&240|f>>2;if(r.push(w),y!==64){const S=f<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XP=function(t){const e=$S(t);return zS.encodeByteArray(e,!0)},op=function(t){return XP(t).replace(/\./g,"")},BS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=()=>QP().__FIREBASE_DEFAULTS__,JP=()=>{if(typeof process>"u"||typeof d2>"u")return;const t=d2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BS(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return qP()||YP()||JP()||ZP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},GS=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify(n)),op(JSON.stringify(c)),""].join(".")}const Ju={};function t5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?t.emulator.push(e):t.prod.push(e);return t}function n5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let h2=!1;function Lv(t,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ju[t]===e||Ju[t]||h2)return;Ju[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=t5().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{h2=!0,c()},v}function g(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=n5(r),w=n("text"),S=document.getElementById(w)||document.createElement("span"),b=n("learnmore"),N=document.getElementById(b)||document.createElement("a"),j=n("preprendIcon"),M=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;u(O),g(N,b);const U=f();h(M,j),O.append(M,S,N,U),document.body.appendChild(O)}a?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function i5(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function o5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l5(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c5(){return!i5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u5(){try{return typeof indexedDB=="object"}catch{return!1}}function d5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h5,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$d.prototype.create)}}class $d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?f5(a,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new Ws(i,u,r)}}function f5(t,e){return t.replace(p5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p5=/\{\$([^}]+)}/g;function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(f2(a)&&f2(c)){if(!hl(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function g5(t,e){const n=new y5(t,e);return n.subscribe.bind(n)}class y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x0),i.error===void 0&&(i.error=x0),i.complete===void 0&&(i.complete=x0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w5(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b5(t){return t===Qo?void 0:t}function w5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const E5={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},k5=Lt.INFO,S5={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},T5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=S5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vv{constructor(e){this.name=e,this._logLevel=k5,this._logHandler=T5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const N5=(t,e)=>e.some(n=>t instanceof n);let p2,m2;function C5(){return p2||(p2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A5(){return m2||(m2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,py=new WeakMap,QS=new WeakMap,b0=new WeakMap,Fv=new WeakMap;function j5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(so(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function I5(t){if(py.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});py.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){my=t(my)}function R5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(w0(this),e,...n);return QS.set(r,e.sort?e.sort():[e]),so(r)}:A5().includes(t)?function(...e){return t.apply(w0(this),e),so(XS.get(this))}:function(...e){return so(t.apply(w0(this),e))}}function D5(t){return typeof t=="function"?R5(t):(t instanceof IDBTransaction&&I5(t),N5(t,C5())?new Proxy(t,my):t)}function so(t){if(t instanceof IDBRequest)return j5(t);if(b0.has(t))return b0.get(t);const e=D5(t);return e!==t&&(b0.set(t,e),Fv.set(e,t)),e}const w0=t=>Fv.get(t);function M5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),u=so(c);return r&&c.addEventListener("upgradeneeded",h=>{r(so(c.result),h.oldVersion,h.newVersion,so(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const O5=["get","getKey","getAll","getAllKeys","count"],L5=["put","add","delete","clear"],_0=new Map;function g2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O5.includes(n)))return;const a=async function(c,...u){const h=this.transaction(c,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return _0.set(e,a),a}P5(t=>({...t,get:(e,n,r)=>g2(e,n)||t.get(e,n,r),has:(e,n)=>!!g2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",y2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Vv("@firebase/app"),U5="@firebase/app-compat",$5="@firebase/analytics-compat",z5="@firebase/analytics",B5="@firebase/app-check-compat",H5="@firebase/app-check",W5="@firebase/auth",q5="@firebase/auth-compat",G5="@firebase/database",K5="@firebase/data-connect",X5="@firebase/database-compat",Q5="@firebase/functions",Y5="@firebase/functions-compat",J5="@firebase/installations",Z5="@firebase/installations-compat",e3="@firebase/messaging",t3="@firebase/messaging-compat",n3="@firebase/performance",r3="@firebase/performance-compat",i3="@firebase/remote-config",s3="@firebase/remote-config-compat",a3="@firebase/storage",o3="@firebase/storage-compat",l3="@firebase/firestore",c3="@firebase/ai",u3="@firebase/firestore-compat",d3="firebase",h3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",f3={[gy]:"fire-core",[U5]:"fire-core-compat",[z5]:"fire-analytics",[$5]:"fire-analytics-compat",[H5]:"fire-app-check",[B5]:"fire-app-check-compat",[W5]:"fire-auth",[q5]:"fire-auth-compat",[G5]:"fire-rtdb",[K5]:"fire-data-connect",[X5]:"fire-rtdb-compat",[Q5]:"fire-fn",[Y5]:"fire-fn-compat",[J5]:"fire-iid",[Z5]:"fire-iid-compat",[e3]:"fire-fcm",[t3]:"fire-fcm-compat",[n3]:"fire-perf",[r3]:"fire-perf-compat",[i3]:"fire-rc",[s3]:"fire-rc-compat",[a3]:"fire-gcs",[o3]:"fire-gcs-compat",[l3]:"fire-fst",[u3]:"fire-fst-compat",[c3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map,p3=new Map,vy=new Map;function v2(t,e){try{t.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fl(t){const e=t.name;if(vy.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of lp.values())v2(n,t);for(const n of p3.values())v2(n,t);return!0}function Qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new $d("app","Firebase",m3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=h3;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=qS()),!n)throw ao.create("no-options");const a=lp.get(i);if(a){if(hl(n,a.options)&&hl(r,a.config))return a;throw ao.create("duplicate-app",{appName:i})}const c=new _5(i);for(const h of vy.values())c.addComponent(h);const u=new g3(n,r,c);return lp.set(i,u),u}function Uv(t=yy){const e=lp.get(t);if(!e&&t===yy&&qS())return YS();if(!e)throw ao.create("no-app",{appName:t});return e}function js(t,e,n){var r;let i=(r=f3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}fl(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebase-heartbeat-database",v3=1,md="firebase-heartbeat-store";let E0=null;function JS(){return E0||(E0=M5(y3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(md)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),E0}async function x3(t){try{const n=(await JS()).transaction(md),r=await n.objectStore(md).get(ZS(t));return await n.done,r}catch(e){if(e instanceof Ws)ya.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(n.message)}}}async function x2(t,e){try{const r=(await JS()).transaction(md,"readwrite");await r.objectStore(md).put(e,ZS(t)),await r.done}catch(n){if(n instanceof Ws)ya.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1024,w3=30;class _3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>w3){const c=S3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b2(),{heartbeatsToSend:r,unsentEntries:i}=E3(this._heartbeatsCache.heartbeats),a=op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ya.warn(n),""}}}function b2(){return new Date().toISOString().substring(0,10)}function E3(t,e=b3){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),w2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u5()?d5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w2(t){return op(JSON.stringify({version:2,heartbeats:t})).length}function S3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){fl(new co("platform-logger",e=>new V5(e),"PRIVATE")),fl(new co("heartbeat",e=>new _3(e),"PRIVATE")),js(gy,y2,t),js(gy,y2,"esm2017"),js("fire-js","")}T3("");function $v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _l(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(g){try{f(r.next(g))}catch(y){c(y)}}function h(g){try{f(r.throw(g))}catch(y){c(y)}}function f(g){g.done?a(g.value):i(g.value).then(u,h)}f((r=r.apply(t,e||[])).next())})}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N3=eT,tT=new $d("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Vv("@firebase/auth");function C3(t,...e){cp.logLevel<=Lt.WARN&&cp.warn(`Auth (${wl}): ${t}`,...e)}function Ff(t,...e){cp.logLevel<=Lt.ERROR&&cp.error(`Auth (${wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,...e){throw zv(t,...e)}function Is(t,...e){return zv(t,...e)}function nT(t,e,n){const r=Object.assign(Object.assign({},N3()),{[e]:n});return new $d("auth","Firebase",r).create(e,{appName:t.name})}function pa(t){return nT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tT.create(t,...e)}function vt(t,e,...n){if(!t)throw zv(e,...n)}function ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function va(t,e){t||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A3(){return _2()==="http:"||_2()==="https:"}function _2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A3()||a5()||"connection"in navigator)?navigator.onLine:!0}function I3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||o5()}get(){return j3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D3=new Bd(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ta(t,e,n,r,i={}){return iT(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const u=zd(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},a);return s5()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(f.credentials="include"),rT.fetch()(await sT(t,t.config.apiHost,n,u),f)})}async function iT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P3),e);try{const i=new O3(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ff(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const u=a.ok?c.errorMessage:c.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw ff(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw ff(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw nT(t,g,f);as(t,g)}}catch(i){if(i instanceof Ws)throw i;as(t,"network-request-failed",{message:String(i)})}}async function Hd(t,e,n,r,i={}){const a=await Ta(t,e,n,r,i);return"mfaPendingCredential"in a&&as(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function sT(t,e,n,r){const i=`${e}${n}?${r}`,a=t,c=a.config.emulator?Bv(t.config,i):`${t.config.apiScheme}://${i}`;return R3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function M3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),D3.get())})}}function ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Is(t,e,r);return i.customData._tokenResponse=n,i}function E2(t){return t!==void 0&&t.enterprise!==void 0}class L3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V3(t,e){return Ta(t,"GET","/v2/recaptchaConfig",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){return Ta(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return Ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U3(t,e=!1){const n=cn(t),r=await n.getIdToken(e),i=Hv(r);vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Zu(k0(i.auth_time)),issuedAtTime:Zu(k0(i.iat)),expirationTime:Zu(k0(i.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function k0(t){return Number(t)*1e3}function Hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=BS(n);return i?JSON.parse(i):(Ff("Failed to decode base64 JWT payload"),null)}catch(i){return Ff("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k2(t){const e=Hv(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&$3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mc(t,up(n,{idToken:r}));vt(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?aT(a.providerUserInfo):[],u=H3(t.providerData,c),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function B3(t){const e=cn(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aT(t){return t.map(e=>{var{providerId:n}=e,r=$v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){const n=await iT(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=await sT(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(h.credentials="include"),rT.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q3(t,e){return Ta(t,"POST","/v2/accounts:revokeToken",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const n=k2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await W3(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new Cc;return r&&(vt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(vt(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(vt(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=$v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new by(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U3(this,e)}reload(){return B3(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Mc(this,F3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,c,u,h,f,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,b=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,j=(f=n.createdAt)!==null&&f!==void 0?f:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:U,isAnonymous:B,providerData:K,stsTokenManager:R}=n;vt(O&&R,e,"internal-error");const I=Cc.fromJSON(this.name,R);vt(typeof O=="string",e,"internal-error"),Ka(y,e.name),Ka(v,e.name),vt(typeof U=="boolean",e,"internal-error"),vt(typeof B=="boolean",e,"internal-error"),Ka(w,e.name),Ka(S,e.name),Ka(b,e.name),Ka(N,e.name),Ka(j,e.name),Ka(M,e.name);const A=new is({uid:O,auth:e,email:v,emailVerified:U,displayName:y,isAnonymous:B,photoURL:S,phoneNumber:w,tenantId:b,stsTokenManager:I,createdAt:j,lastLoginAt:M});return K&&Array.isArray(K)&&(A.providerData=K.map(k=>Object.assign({},k))),N&&(A._redirectEventId=N),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cc;i.updateFromServerResponse(n);const a=new is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];vt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?aT(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Cc;u.updateFromIdToken(r);const h=new is({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new by(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Map;function fa(t){va(t instanceof Function,"Expected a class definition");let e=S2.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oT.type="NONE";const T2=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Uf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Uf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await up(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ac(fa(T2),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||fa(T2);const c=Uf(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const g=await f._get(c);if(g){let y;if(typeof g=="string"){const v=await up(e,{idToken:g}).catch(()=>{});if(!v)break;y=await is._fromGetAccountInfoResponse(e,v,g)}else y=is._fromJSON(e,g);f!==a&&(u=y),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ac(a,e,r):(a=h[0],u&&await a._set(c,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(c)}catch{}})),new Ac(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(pT(e))return"Webos";if(cT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lT(t=Rr()){return/firefox\//i.test(t)}function cT(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(t=Rr()){return/crios\//i.test(t)}function dT(t=Rr()){return/iemobile/i.test(t)}function hT(t=Rr()){return/android/i.test(t)}function fT(t=Rr()){return/blackberry/i.test(t)}function pT(t=Rr()){return/webos/i.test(t)}function Wv(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G3(t=Rr()){var e;return Wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K3(){return l5()&&document.documentMode===10}function mT(t=Rr()){return Wv(t)||hT(t)||pT(t)||fT(t)||/windows phone/i.test(t)||dT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e=[]){let n;switch(t){case"Browser":n=N2(Rr());break;case"Worker":n=`${N2(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,u)=>{try{const h=e(a);c(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e={}){return Ta(t,"GET","/v2/passwordPolicy",ko(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=6;class J3{constructor(e){var n,r,i,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Y3,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,c,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C2(this),this.idTokenSubscription=new C2(this),this.beforeStateQueue=new X3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fa(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await up(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(pa(this));const n=e?cn(e):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q3(this),n=new J3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fa(e)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(u,this,"internal-error"),u.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function El(t){return cn(t)}class C2{constructor(e){this.auth=e,this.observer=null,this.addObserver=g5(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(t){Yp=t}function yT(t){return Yp.loadJS(t)}function tR(){return Yp.recaptchaEnterpriseScript}function nR(){return Yp.gapiScript}function rR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iR{constructor(){this.enterprise=new sR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aR="recaptcha-enterprise",vT="NO_RECAPTCHA";class oR{constructor(e){this.type=aR,this.auth=El(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,u)=>{V3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new L3(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}}).catch(h=>{u(h)})})}function i(a,c,u){const h=window.grecaptcha;E2(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(vT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(u=>{if(!n&&E2(window.grecaptcha))i(u,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=tR();h.length!==0&&(h+=u),yT(h).then(()=>{i(u,a,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function A2(t,e,n,r=!1,i=!1){const a=new oR(t);let c;if(i)c=vT;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function wy(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await A2(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await A2(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){const n=Qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(hl(a,e??{}))return i;as(i,"already-initialized")}return n.initialize({options:e})}function cR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uR(t,e,n){const r=El(t);vt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=xT(e),{host:c,port:u}=dR(e),h=u===null?"":`:${u}`,f={url:`${a}//${c}${h}/`},g=Object.freeze({host:c,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(hl(f,r.config.emulator)&&hl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Eo(c)?(Ov(`${a}//${c}${h}`),Lv("Auth",!0)):hR()}function xT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dR(t){const e=xT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:j2(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:j2(c)}}}function j2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,n){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function fR(t,e){return Ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){return Hd(t,"POST","/v1/accounts:signInWithPassword",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}async function gR(t,e){return Hd(t,"POST","/v1/accounts:signInWithEmailLink",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends qv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,n,"signInWithPassword",pR);case"emailLink":return mR(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,r,"signUpPassword",fR);case"emailLink":return gR(e,{idToken:n,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e){return Hd(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="http://localhost";class pl extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):as("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=$v(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new pl(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return jc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jc(e,n)}buildRequest(){const e={requestUri:yR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xR(t){const e=Bu(Hu(t)).link,n=e?Bu(Hu(e)).deep_link_id:null,r=Bu(Hu(t)).deep_link_id;return(r?Bu(Hu(r)).link:null)||r||n||e||t}class Gv{constructor(e){var n,r,i,a,c,u;const h=Bu(Hu(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=vR((i=h.mode)!==null&&i!==void 0?i:null);vt(f&&g&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=xR(e);try{return new Gv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,n){return gd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gv.parseLink(n);return vt(r,"argument-error"),gd._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Wd{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Wd{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Wd{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e){return Hd(t,"POST","/v1/accounts:signUp",ko(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await is._fromIdTokenResponse(e,r,i),c=I2(r);return new ml({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=I2(r);return new ml({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function I2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends Ws{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hp(e,n,r,i)}}function wT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,a,e,r):a})}async function wR(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(pa(r));const i="reauthenticate";try{const a=await Mc(t,wT(r,i,e,t),n);vt(a.idToken,r,"internal-error");const c=Hv(a.idToken);vt(c,r,"internal-error");const{sub:u}=c;return vt(t.uid===u,r,"user-mismatch"),ml._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&as(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e,n=!1){if(mi(t.app))return Promise.reject(pa(t));const r="signIn",i=await wT(t,r,e),a=await ml._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function ER(t,e){return _T(El(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(t){const e=El(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kR(t,e,n){if(mi(t.app))return Promise.reject(pa(t));const r=El(t),c=await wy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ET(t),h}),u=await ml._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function SR(t,e,n){return mi(t.app)?Promise.reject(pa(t)):ER(cn(t),Kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ET(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return Ta(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=cn(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Mc(r,TR(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function NR(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function CR(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function AR(t,e,n,r){return cn(t).onAuthStateChanged(e,n,r)}function jR(t){return cn(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1e3,PR=10;class ST extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);K3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const RR=ST;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TT.type="SESSION";const NT=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(c).map(async f=>f(n.origin,a)),h=await DR(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((u,h)=>{const f=Kv("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function OR(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function LR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FR(){return CT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",UR=1,pp="firebaseLocalStorage",jT="fbase_key";class qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zp(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function $R(){const t=indexedDB.deleteDatabase(AT);return new qd(t).toPromise()}function _y(){const t=indexedDB.open(AT,UR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pp,{keyPath:jT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),await $R(),e(await _y()))})})}async function P2(t,e,n){const r=Zp(t,!0).put({[jT]:e,value:n});return new qd(r).toPromise()}async function zR(t,e){const n=Zp(t,!1).get(e),r=await new qd(n).toPromise();return r===void 0?null:r.value}function R2(t,e){const n=Zp(t,!0).delete(e);return new qd(n).toPromise()}const BR=800,HR=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await P2(e,fp,"1"),await R2(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zp(i,!1).getAll();return new qd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const WR=IT;new Bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){return e?fa(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GR(t){return _T(t.auth,new Xv(t),t.bypassAuthState)}function KR(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),_R(n,new Xv(t),t.bypassAuthState)}async function XR(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),wR(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return KR;default:as(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Bd(2e3,1e4);class _c extends PT{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QR.get())};e()}}_c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="pendingRedirect",$f=new Map;class JR extends PT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(t,e){const n=n6(e),r=t6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e6(t,e){$f.set(t._key(),e)}function t6(t){return fa(t._redirectPersistence)}function n6(t){return Uf(YR,t.config.apiKey,t.name)}async function r6(t,e,n=!1){if(mi(t.app))return Promise.reject(pa(t));const r=El(t),i=qR(r,e),c=await new JR(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=10*60*1e3;class s6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i6&&this.cachedEventUids.clear(),this.cachedEventUids.has(D2(e))}saveEventToCache(e){this.cachedEventUids.add(D2(e)),this.lastProcessedEventTime=Date.now()}}function D2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e={}){return Ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;async function u6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o6(t);for(const n of e)try{if(d6(n))return}catch{}as(t,"unauthorized-domain")}function d6(t){const e=xy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!c6.test(n))return!1;if(l6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new Bd(3e4,6e4);function M2(){const t=Ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f6(t){return new Promise((e,n)=>{var r,i,a;function c(){M2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M2(),n(Is(t,"network-request-failed"))},timeout:h6.get()})}if(!((i=(r=Ps().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ps().gapi)===null||a===void 0)&&a.load)c();else{const u=rR("iframefcb");return Ps()[u]=()=>{gapi.load?c():n(Is(t,"network-request-failed"))},yT(`${nR()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw zf=null,e})}let zf=null;function p6(t){return zf=zf||f6(t),zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new Bd(5e3,15e3),g6="__/auth/iframe",y6="emulator/auth/iframe",v6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b6(t){const e=t.config;vt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bv(e,y6):`https://${t.config.authDomain}/${g6}`,r={apiKey:e.apiKey,appName:t.name,v:wl},i=x6.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${zd(r).slice(1)}`}async function w6(t){const e=await p6(t),n=Ps().gapi;return vt(n,t,"internal-error"),e.open({where:document.body,url:b6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Is(t,"network-request-failed"),u=Ps().setTimeout(()=>{a(c)},m6.get());function h(){Ps().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E6=500,k6=600,S6="_blank",T6="http://localhost";class O2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N6(t,e,n,r=E6,i=k6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},_6),{width:r.toString(),height:i.toString(),top:a,left:c}),f=Rr().toLowerCase();n&&(u=uT(f)?S6:n),lT(f)&&(e=e||T6,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[w,S])=>`${v}${w}=${S},`,"");if(G3(f)&&u!=="_self")return C6(e||"",u),new O2(null);const y=window.open(e||"",u,g);vt(y,t,"popup-blocked");try{y.focus()}catch{}return new O2(y)}function C6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",j6="emulator/auth/handler",I6=encodeURIComponent("fac");async function L2(t,e,n,r,i,a){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wl,eventId:i};if(e instanceof bT){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",m5(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof Wd){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),f=h?`#${I6}=${encodeURIComponent(h)}`:"";return`${P6(t)}?${zd(u).slice(1)}${f}`}function P6({config:t}){return t.emulator?Bv(t,j6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="webStorageSupport";class R6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=r6,this._overrideRedirectResult=e6}async _openPopup(e,n,r,i){var a;va((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await L2(e,n,r,xy(),i);return N6(e,c,Kv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await L2(e,n,r,xy(),i);return OR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w6(e),r=new s6(e);return n.register("authEvent",i=>(vt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(S0,{type:S0},i=>{var a;const c=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[S0];c!==void 0&&n(!!c),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||cT()||Wv()}}const D6=R6;var V2="@firebase/auth",F2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L6(t){fl(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;vt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(t)},f=new Z3(r,i,a,h);return cR(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fl(new co("auth-internal",e=>{const n=El(e.getProvider("auth").getImmediate());return(r=>new M6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(V2,F2,O6(t)),js(V2,F2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=5*60,F6=GS("authIdTokenMaxAge")||V6;let U2=null;const U6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F6)return;const i=n==null?void 0:n.token;U2!==i&&(U2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $6(t=Uv()){const e=Qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lR(t,{popupRedirectResolver:D6,persistence:[WR,RR,NT]}),r=GS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=U6(a.toString());CR(n,c,()=>c(n.currentUser)),NR(n,u=>c(u))}}const i=HS("auth");return i&&uR(n,`http://${i}`),n}function z6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Is("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",z6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L6("Browser");var $2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,DT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function A(){}A.prototype=I.prototype,R.D=I.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(k,L,F){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return I.prototype[L].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)k[L]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(L=0;16>L;++L)k[L]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=R.g[0],A=R.g[1],L=R.g[2];var F=R.g[3],D=I+(F^A&(L^F))+k[0]+3614090360&4294967295;I=A+(D<<7&4294967295|D>>>25),D=F+(L^I&(A^L))+k[1]+3905402710&4294967295,F=I+(D<<12&4294967295|D>>>20),D=L+(A^F&(I^A))+k[2]+606105819&4294967295,L=F+(D<<17&4294967295|D>>>15),D=A+(I^L&(F^I))+k[3]+3250441966&4294967295,A=L+(D<<22&4294967295|D>>>10),D=I+(F^A&(L^F))+k[4]+4118548399&4294967295,I=A+(D<<7&4294967295|D>>>25),D=F+(L^I&(A^L))+k[5]+1200080426&4294967295,F=I+(D<<12&4294967295|D>>>20),D=L+(A^F&(I^A))+k[6]+2821735955&4294967295,L=F+(D<<17&4294967295|D>>>15),D=A+(I^L&(F^I))+k[7]+4249261313&4294967295,A=L+(D<<22&4294967295|D>>>10),D=I+(F^A&(L^F))+k[8]+1770035416&4294967295,I=A+(D<<7&4294967295|D>>>25),D=F+(L^I&(A^L))+k[9]+2336552879&4294967295,F=I+(D<<12&4294967295|D>>>20),D=L+(A^F&(I^A))+k[10]+4294925233&4294967295,L=F+(D<<17&4294967295|D>>>15),D=A+(I^L&(F^I))+k[11]+2304563134&4294967295,A=L+(D<<22&4294967295|D>>>10),D=I+(F^A&(L^F))+k[12]+1804603682&4294967295,I=A+(D<<7&4294967295|D>>>25),D=F+(L^I&(A^L))+k[13]+4254626195&4294967295,F=I+(D<<12&4294967295|D>>>20),D=L+(A^F&(I^A))+k[14]+2792965006&4294967295,L=F+(D<<17&4294967295|D>>>15),D=A+(I^L&(F^I))+k[15]+1236535329&4294967295,A=L+(D<<22&4294967295|D>>>10),D=I+(L^F&(A^L))+k[1]+4129170786&4294967295,I=A+(D<<5&4294967295|D>>>27),D=F+(A^L&(I^A))+k[6]+3225465664&4294967295,F=I+(D<<9&4294967295|D>>>23),D=L+(I^A&(F^I))+k[11]+643717713&4294967295,L=F+(D<<14&4294967295|D>>>18),D=A+(F^I&(L^F))+k[0]+3921069994&4294967295,A=L+(D<<20&4294967295|D>>>12),D=I+(L^F&(A^L))+k[5]+3593408605&4294967295,I=A+(D<<5&4294967295|D>>>27),D=F+(A^L&(I^A))+k[10]+38016083&4294967295,F=I+(D<<9&4294967295|D>>>23),D=L+(I^A&(F^I))+k[15]+3634488961&4294967295,L=F+(D<<14&4294967295|D>>>18),D=A+(F^I&(L^F))+k[4]+3889429448&4294967295,A=L+(D<<20&4294967295|D>>>12),D=I+(L^F&(A^L))+k[9]+568446438&4294967295,I=A+(D<<5&4294967295|D>>>27),D=F+(A^L&(I^A))+k[14]+3275163606&4294967295,F=I+(D<<9&4294967295|D>>>23),D=L+(I^A&(F^I))+k[3]+4107603335&4294967295,L=F+(D<<14&4294967295|D>>>18),D=A+(F^I&(L^F))+k[8]+1163531501&4294967295,A=L+(D<<20&4294967295|D>>>12),D=I+(L^F&(A^L))+k[13]+2850285829&4294967295,I=A+(D<<5&4294967295|D>>>27),D=F+(A^L&(I^A))+k[2]+4243563512&4294967295,F=I+(D<<9&4294967295|D>>>23),D=L+(I^A&(F^I))+k[7]+1735328473&4294967295,L=F+(D<<14&4294967295|D>>>18),D=A+(F^I&(L^F))+k[12]+2368359562&4294967295,A=L+(D<<20&4294967295|D>>>12),D=I+(A^L^F)+k[5]+4294588738&4294967295,I=A+(D<<4&4294967295|D>>>28),D=F+(I^A^L)+k[8]+2272392833&4294967295,F=I+(D<<11&4294967295|D>>>21),D=L+(F^I^A)+k[11]+1839030562&4294967295,L=F+(D<<16&4294967295|D>>>16),D=A+(L^F^I)+k[14]+4259657740&4294967295,A=L+(D<<23&4294967295|D>>>9),D=I+(A^L^F)+k[1]+2763975236&4294967295,I=A+(D<<4&4294967295|D>>>28),D=F+(I^A^L)+k[4]+1272893353&4294967295,F=I+(D<<11&4294967295|D>>>21),D=L+(F^I^A)+k[7]+4139469664&4294967295,L=F+(D<<16&4294967295|D>>>16),D=A+(L^F^I)+k[10]+3200236656&4294967295,A=L+(D<<23&4294967295|D>>>9),D=I+(A^L^F)+k[13]+681279174&4294967295,I=A+(D<<4&4294967295|D>>>28),D=F+(I^A^L)+k[0]+3936430074&4294967295,F=I+(D<<11&4294967295|D>>>21),D=L+(F^I^A)+k[3]+3572445317&4294967295,L=F+(D<<16&4294967295|D>>>16),D=A+(L^F^I)+k[6]+76029189&4294967295,A=L+(D<<23&4294967295|D>>>9),D=I+(A^L^F)+k[9]+3654602809&4294967295,I=A+(D<<4&4294967295|D>>>28),D=F+(I^A^L)+k[12]+3873151461&4294967295,F=I+(D<<11&4294967295|D>>>21),D=L+(F^I^A)+k[15]+530742520&4294967295,L=F+(D<<16&4294967295|D>>>16),D=A+(L^F^I)+k[2]+3299628645&4294967295,A=L+(D<<23&4294967295|D>>>9),D=I+(L^(A|~F))+k[0]+4096336452&4294967295,I=A+(D<<6&4294967295|D>>>26),D=F+(A^(I|~L))+k[7]+1126891415&4294967295,F=I+(D<<10&4294967295|D>>>22),D=L+(I^(F|~A))+k[14]+2878612391&4294967295,L=F+(D<<15&4294967295|D>>>17),D=A+(F^(L|~I))+k[5]+4237533241&4294967295,A=L+(D<<21&4294967295|D>>>11),D=I+(L^(A|~F))+k[12]+1700485571&4294967295,I=A+(D<<6&4294967295|D>>>26),D=F+(A^(I|~L))+k[3]+2399980690&4294967295,F=I+(D<<10&4294967295|D>>>22),D=L+(I^(F|~A))+k[10]+4293915773&4294967295,L=F+(D<<15&4294967295|D>>>17),D=A+(F^(L|~I))+k[1]+2240044497&4294967295,A=L+(D<<21&4294967295|D>>>11),D=I+(L^(A|~F))+k[8]+1873313359&4294967295,I=A+(D<<6&4294967295|D>>>26),D=F+(A^(I|~L))+k[15]+4264355552&4294967295,F=I+(D<<10&4294967295|D>>>22),D=L+(I^(F|~A))+k[6]+2734768916&4294967295,L=F+(D<<15&4294967295|D>>>17),D=A+(F^(L|~I))+k[13]+1309151649&4294967295,A=L+(D<<21&4294967295|D>>>11),D=I+(L^(A|~F))+k[4]+4149444226&4294967295,I=A+(D<<6&4294967295|D>>>26),D=F+(A^(I|~L))+k[11]+3174756917&4294967295,F=I+(D<<10&4294967295|D>>>22),D=L+(I^(F|~A))+k[2]+718787259&4294967295,L=F+(D<<15&4294967295|D>>>17),D=A+(F^(L|~I))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var A=I-this.blockSize,k=this.B,L=this.h,F=0;F<I;){if(L==0)for(;F<=A;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if(k[L++]=R.charCodeAt(F++),L==this.blockSize){i(this,k),L=0;break}}else for(;F<I;)if(k[L++]=R[F++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var A=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.u(R),R=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)R[A++]=this.g[I]>>>k&255;return R};function a(R,I){var A=u;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=I(R)}function c(R,I){this.h=I;for(var A=[],k=!0,L=R.length-1;0<=L;L--){var F=R[L]|0;k&&F==I||(A[L]=F,k=!1)}this.g=A}var u={};function h(R){return-128<=R&&128>R?a(R,function(I){return new c([I|0],0>I?-1:0)}):new c([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return N(f(-R));for(var I=[],A=1,k=0;R>=A;k++)I[k]=R/A|0,A*=4294967296;return new c(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return N(g(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(I,8)),k=y,L=0;L<R.length;L+=8){var F=Math.min(8,R.length-L),D=parseInt(R.substring(L,L+F),I);8>F?(F=f(Math.pow(I,F)),k=k.j(F).add(f(D))):(k=k.j(A),k=k.add(f(D)))}return k}var y=h(0),v=h(1),w=h(16777216);t=c.prototype,t.m=function(){if(b(this))return-N(this).m();for(var R=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);R+=(0<=k?k:4294967296+k)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(b(this))return"-"+N(this).toString(R);for(var I=f(Math.pow(R,6)),A=this,k="";;){var L=U(A,I).g;A=j(A,L.j(I));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=L,S(A))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function b(R){return R.h==-1}t.l=function(R){return R=j(this,R),b(R)?-1:S(R)?0:1};function N(R){for(var I=R.g.length,A=[],k=0;k<I;k++)A[k]=~R.g[k];return new c(A,~R.h).add(v)}t.abs=function(){return b(this)?N(this):this},t.add=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],k=0,L=0;L<=I;L++){var F=k+(this.i(L)&65535)+(R.i(L)&65535),D=(F>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);k=D>>>16,F&=65535,D&=65535,A[L]=D<<16|F}return new c(A,A[A.length-1]&-2147483648?-1:0)};function j(R,I){return R.add(N(I))}t.j=function(R){if(S(this)||S(R))return y;if(b(this))return b(R)?N(this).j(N(R)):N(N(this).j(R));if(b(R))return N(this.j(N(R)));if(0>this.l(w)&&0>R.l(w))return f(this.m()*R.m());for(var I=this.g.length+R.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<R.g.length;L++){var F=this.i(k)>>>16,D=this.i(k)&65535,be=R.i(L)>>>16,Ge=R.i(L)&65535;A[2*k+2*L]+=D*Ge,M(A,2*k+2*L),A[2*k+2*L+1]+=F*Ge,M(A,2*k+2*L+1),A[2*k+2*L+1]+=D*be,M(A,2*k+2*L+1),A[2*k+2*L+2]+=F*be,M(A,2*k+2*L+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new c(A,0)};function M(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function O(R,I){this.g=R,this.h=I}function U(R,I){if(S(I))throw Error("division by zero");if(S(R))return new O(y,y);if(b(R))return I=U(N(R),I),new O(N(I.g),N(I.h));if(b(I))return I=U(R,N(I)),new O(N(I.g),I.h);if(30<R.g.length){if(b(R)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var A=v,k=I;0>=k.l(R);)A=B(A),k=B(k);var L=K(A,1),F=K(k,1);for(k=K(k,2),A=K(A,2);!S(k);){var D=F.add(k);0>=D.l(R)&&(L=L.add(A),F=D),k=K(k,1),A=K(A,1)}return I=j(R,L.j(I)),new O(L,I)}for(L=y;0<=R.l(I);){for(A=Math.max(1,Math.floor(R.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=f(A),D=F.j(I);b(D)||0<D.l(R);)A-=k,F=f(A),D=F.j(I);S(F)&&(F=v),L=L.add(F),R=j(R,D)}return new O(L,R)}t.A=function(R){return U(this,R).h},t.and=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&R.i(k);return new c(A,this.h&R.h)},t.or=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|R.i(k);return new c(A,this.h|R.h)},t.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^R.i(k);return new c(A,this.h^R.h)};function B(R){for(var I=R.g.length+1,A=[],k=0;k<I;k++)A[k]=R.i(k)<<1|R.i(k-1)>>>31;return new c(A,R.h)}function K(R,I){var A=I>>5;I%=32;for(var k=R.g.length-A,L=[],F=0;F<k;F++)L[F]=0<I?R.i(F+A)>>>I|R.i(F+A+1)<<32-I:R.i(F+A);return new c(L,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,oo=c}).apply(typeof $2<"u"?$2:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MT,Wu,OT,Bf,Ey,LT,VT,FT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,C){return p==Array.prototype||p==Object.prototype||(p[_]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var _=0;_<p.length;++_){var C=p[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(p,_){if(_)e:{var C=r;p=p.split(".");for(var V=0;V<p.length-1;V++){var J=p[V];if(!(J in C))break e;C=C[J]}p=p[p.length-1],V=C[p],_=_(V),_!=V&&_!=null&&e(C,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var C=0,V=!1,J={next:function(){if(!V&&C<p.length){var ue=C++;return{value:_(ue,p[ue]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(p){return p||function(){return a(this,function(_,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function f(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,C){return p.call.apply(p.bind,arguments)}function y(p,_,C){if(!p)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),p.apply(_,J)}}return function(){return p.apply(_,arguments)}}function v(p,_,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,v.apply(null,arguments)}function w(p,_){var C=Array.prototype.slice.call(arguments,1);return function(){var V=C.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function S(p,_){function C(){}C.prototype=_.prototype,p.aa=_.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(V,J,ue){for(var Fe=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Fe[Qt-2]=arguments[Qt];return _.prototype[J].apply(V,Fe)}}function b(p){const _=p.length;if(0<_){const C=Array(_);for(let V=0;V<_;V++)C[V]=p[V];return C}return[]}function N(p,_){for(let C=1;C<arguments.length;C++){const V=arguments[C];if(h(V)){const J=p.length||0,ue=V.length||0;p.length=J+ue;for(let Fe=0;Fe<ue;Fe++)p[J+Fe]=V[Fe]}else p.push(V)}}class j{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(p){return/^[\s\xa0]*$/.test(p)}function O(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var B=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function K(p,_,C){for(const V in p)_.call(C,p[V],V,p)}function R(p,_){for(const C in p)_.call(void 0,p[C],C,p)}function I(p){const _={};for(const C in p)_[C]=p[C];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(p,_){let C,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(C in V)p[C]=V[C];for(let ue=0;ue<A.length;ue++)C=A[ue],Object.prototype.hasOwnProperty.call(V,C)&&(p[C]=V[C])}}function L(p){var _=1;p=p.split(":");const C=[];for(;0<_&&p.length;)C.push(p.shift()),_--;return p.length&&C.push(p.join(":")),C}function F(p){u.setTimeout(()=>{throw p},0)}function D(){var p=oe;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class be{constructor(){this.h=this.g=null}add(_,C){const V=Ge.get();V.set(_,C),this.h?this.h.next=V:this.g=V,this.h=V}}var Ge=new j(()=>new ot,p=>p.reset());class ot{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,le=!1,oe=new be,he=()=>{const p=u.Promise.resolve(void 0);Ke=()=>{p.then(z)}};var z=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(C){F(C)}var _=Ge;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}le=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};u.addEventListener("test",C,_),u.removeEventListener("test",C,_)}catch{}return p}();function Ue(p,_){if(we.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(B){e:{try{U(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else C=="mouseover"?_=p.fromElement:C=="mouseout"&&(_=p.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:tt[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ue.aa.h.call(this)}}S(Ue,we);var tt={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),ct=0;function it(p,_,C,V,J){this.listener=p,this.proxy=null,this.src=_,this.type=C,this.capture=!!V,this.ha=J,this.key=++ct,this.da=this.fa=!1}function Je(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function St(p){this.src=p,this.g={},this.h=0}St.prototype.add=function(p,_,C,V,J){var ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);var Fe=_t(p,_,V,J);return-1<Fe?(_=p[Fe],C||(_.fa=!1)):(_=new it(_,this.src,ue,!!V,J),_.fa=C,p.push(_)),_};function At(p,_){var C=_.type;if(C in p.g){var V=p.g[C],J=Array.prototype.indexOf.call(V,_,void 0),ue;(ue=0<=J)&&Array.prototype.splice.call(V,J,1),ue&&(Je(_),p.g[C].length==0&&(delete p.g[C],p.h--))}}function _t(p,_,C,V){for(var J=0;J<p.length;++J){var ue=p[J];if(!ue.da&&ue.listener==_&&ue.capture==!!C&&ue.ha==V)return J}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),re={};function $e(p,_,C,V,J){if(Array.isArray(_)){for(var ue=0;ue<_.length;ue++)$e(p,_[ue],C,V,J);return null}return C=te(C),p&&p[ft]?p.K(_,C,f(V)?!!V.capture:!1,J):Pe(p,_,C,!1,V,J)}function Pe(p,_,C,V,J,ue){if(!_)throw Error("Invalid event type");var Fe=f(J)?!!J.capture:!!J,Qt=Pt(p);if(Qt||(p[Rt]=Qt=new St(p)),C=Qt.add(_,C,V,Fe,ue),C.proxy)return C;if(V=de(),C.proxy=V,V.src=p,V.listener=C,p.addEventListener)Be||(J=Fe),J===void 0&&(J=!1),p.addEventListener(_.toString(),V,J);else if(p.attachEvent)p.attachEvent(Dt(_.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return C}function de(){function p(C){return _.call(p.src,p.listener,C)}const _=jt;return p}function Qe(p,_,C,V,J){if(Array.isArray(_))for(var ue=0;ue<_.length;ue++)Qe(p,_[ue],C,V,J);else V=f(V)?!!V.capture:!!V,C=te(C),p&&p[ft]?(p=p.i,_=String(_).toString(),_ in p.g&&(ue=p.g[_],C=_t(ue,C,V,J),-1<C&&(Je(ue[C]),Array.prototype.splice.call(ue,C,1),ue.length==0&&(delete p.g[_],p.h--)))):p&&(p=Pt(p))&&(_=p.g[_.toString()],p=-1,_&&(p=_t(_,C,V,J)),(C=-1<p?_[p]:null)&&We(C))}function We(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[ft])At(_.i,p);else{var C=p.type,V=p.proxy;_.removeEventListener?_.removeEventListener(C,V,p.capture):_.detachEvent?_.detachEvent(Dt(C),V):_.addListener&&_.removeListener&&_.removeListener(V),(C=Pt(_))?(At(C,p),C.h==0&&(C.src=null,_[Rt]=null)):Je(p)}}}function Dt(p){return p in re?re[p]:re[p]="on"+p}function jt(p,_){if(p.da)p=!0;else{_=new Ue(_,this);var C=p.listener,V=p.ha||p.src;p.fa&&We(p),p=C.call(V,_)}return p}function Pt(p){return p=p[Rt],p instanceof St?p:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(p){return typeof p=="function"?p:(p[Ee]||(p[Ee]=function(_){return p.handleEvent(_)}),p[Ee])}function ye(){Q.call(this),this.i=new St(this),this.M=this,this.F=null}S(ye,Q),ye.prototype[ft]=!0,ye.prototype.removeEventListener=function(p,_,C,V){Qe(this,p,_,C,V)};function Ce(p,_){var C,V=p.F;if(V)for(C=[];V;V=V.F)C.push(V);if(p=p.M,V=_.type||_,typeof _=="string")_=new we(_,p);else if(_ instanceof we)_.target=_.target||p;else{var J=_;_=new we(V,p),k(_,J)}if(J=!0,C)for(var ue=C.length-1;0<=ue;ue--){var Fe=_.g=C[ue];J=ee(Fe,V,!0,_)&&J}if(Fe=_.g=p,J=ee(Fe,V,!0,_)&&J,J=ee(Fe,V,!1,_)&&J,C)for(ue=0;ue<C.length;ue++)Fe=_.g=C[ue],J=ee(Fe,V,!1,_)&&J}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var C=p.g[_],V=0;V<C.length;V++)Je(C[V]);delete p.g[_],p.h--}}this.F=null},ye.prototype.K=function(p,_,C,V){return this.i.add(String(p),_,!1,C,V)},ye.prototype.L=function(p,_,C,V){return this.i.add(String(p),_,!0,C,V)};function ee(p,_,C,V){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,ue=0;ue<_.length;++ue){var Fe=_[ue];if(Fe&&!Fe.da&&Fe.capture==C){var Qt=Fe.listener,Yn=Fe.ha||Fe.src;Fe.fa&&At(p.i,Fe),J=Qt.call(Yn,V)!==!1&&J}}return J&&!V.defaultPrevented}function Me(p,_,C){if(typeof p=="function")C&&(p=v(p,C));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(p,_||0)}function Le(p){p.g=Me(()=>{p.g=null,p.i&&(p.i=!1,Le(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class yt extends Q{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function W(p){Q.call(this),this.h=p,this.g={}}S(W,Q);var H=[];function ve(p){K(p.g,function(_,C){this.g.hasOwnProperty(C)&&We(_)},p),p.g={}}W.prototype.N=function(){W.aa.N.call(this),ve(this)},W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=u.JSON.stringify,ce=u.JSON.parse,Y=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Ve(){}Ve.prototype.h=null;function fe(p){return p.h||(p.h=p.i())}function pe(){}var ze={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){we.call(this,"d")}S(De,we);function nt(){we.call(this,"c")}S(nt,we);var ht={},Ae=null;function Se(){return Ae=Ae||new ye}ht.La="serverreachability";function Ut(p){we.call(this,ht.La,p)}S(Ut,we);function Tt(p){const _=Se();Ce(_,new Ut(_))}ht.STAT_EVENT="statevent";function Et(p,_){we.call(this,ht.STAT_EVENT,p),this.stat=_}S(Et,we);function ut(p){const _=Se();Ce(_,new Et(_,p))}ht.Ma="timingevent";function Cn(p,_){we.call(this,ht.Ma,p),this.size=_}S(Cn,we);function Xe(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},_)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function Ht(p,_,C,V,J,ue){p.info(function(){if(p.g)if(ue)for(var Fe="",Qt=ue.split("&"),Yn=0;Yn<Qt.length;Yn++){var $t=Qt[Yn].split("=");if(1<$t.length){var rr=$t[0];$t=$t[1];var zn=rr.split("_");Fe=2<=zn.length&&zn[1]=="type"?Fe+(rr+"="+$t+"&"):Fe+(rr+"=redacted&")}}else Fe=null;else Fe=ue;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+_+`
`+C+`
`+Fe})}function Dr(p,_,C,V,J,ue,Fe){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+_+`
`+C+`
`+ue+" "+Fe})}function mn(p,_,C,V){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+li(p,C)+(V?" "+V:"")})}function nr(p,_){p.info(function(){return"TIMEOUT: "+_})}sn.prototype.info=function(){};function li(p,_){if(!p.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var V=C[p];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var ue=J[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Fe=1;Fe<J.length;Fe++)J[Fe]=""}}}}return ie(C)}catch{return _}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ao={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function ls(){}S(ls,Ve),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},Wr=new ls;function wn(p,_,C,V){this.j=p,this.i=_,this.l=C,this.R=V||1,this.U=new W(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var _i={},ur={};function cs(p,_,C){p.L=1,p.v=Ze(Lr(_)),p.m=C,p.P=!0,ci(p,null)}function ci(p,_){p.F=Date.now(),Jt(p),p.A=Lr(p.v);var C=p.A,V=p.R;Array.isArray(V)||(V=[String(V)]),Ia(C.i,"t",V),p.C=0,C=p.j.J,p.h=new su,p.g=gh(p.j,C?_:null,!p.m),0<p.O&&(p.M=new yt(v(p.Y,p,p.g),p.O)),_=p.U,C=p.g,V=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(H[0]=J.toString()),J=H);for(var ue=0;ue<J.length;ue++){var Fe=$e(C,J[ue],V||_.handleEvent,!1,_.h||_);if(!Fe)break;_.g[Fe.key]=Fe}_=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),Tt(),Ht(p.i,p.u,p.A,p.l,p.R,p.m)}wn.prototype.ca=function(p){p=p.target;const _=this.M;_&&Gr(p)==3?_.j():this.Y(p)},wn.prototype.Y=function(p){try{if(p==this.g)e:{const zn=Gr(this.g);var _=this.g.Ba();const Si=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||zn!=4||_==7||(_==8||0>=Si?Tt(3):Tt(2)),qs(this);var C=this.g.Z();this.X=C;t:if(jo(this)){var V=cu(this.g);p="";var J=V.length,ue=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),us(this);var Fe="";break t}this.h.i=new u.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,p+=this.h.i.decode(V[_],{stream:!(ue&&_==J-1)});V.length=0,this.h.g+=p,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=C==200,Dr(this.i,this.u,this.A,this.l,this.R,zn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,Yn=this.g;if((Qt=Yn.g?Yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Qt)){var $t=Qt;break t}}$t=null}if(C=$t)mn(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,C);else{this.o=!1,this.s=3,ut(12),Mr(this),us(this);break e}}if(this.P){C=!0;let di;for(;!this.J&&this.C<Fe.length;)if(di=Cl(this,Fe),di==ur){zn==4&&(this.s=4,ut(14),C=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(di==_i){this.s=4,ut(15),mn(this.i,this.l,Fe,"[Invalid Chunk]"),C=!1;break}else mn(this.i,this.l,di,null),ds(this,di);if(jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||Fe.length!=0||this.h.h||(this.s=1,ut(16),C=!1),this.o=this.o&&C,!C)mn(this.i,this.l,Fe,"[Invalid Chunked Response]"),Mr(this),us(this);else if(0<Fe.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),du(rr),rr.M=!0,ut(11))}}else mn(this.i,this.l,Fe,null),ds(this,Fe);zn==4&&Mr(this),this.o&&!this.J&&(zn==4?Ul(this.j,this):(this.o=!1,Jt(this)))}else Ml(this.g),C==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Mr(this),us(this)}}}catch{}finally{}};function jo(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Cl(p,_){var C=p.C,V=_.indexOf(`
`,C);return V==-1?ur:(C=Number(_.substring(C,V)),isNaN(C)?_i:(V+=1,V+C>_.length?ur:(_=_.slice(V,V+C),p.C=V+C,_)))}wn.prototype.cancel=function(){this.J=!0,Mr(this)};function Jt(p){p.S=Date.now()+p.I,Al(p,p.I)}function Al(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Xe(v(p.ba,p),_)}function qs(p){p.B&&(u.clearTimeout(p.B),p.B=null)}wn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(nr(this.i,this.A),this.L!=2&&(Tt(),ut(17)),Mr(this),this.s=2,us(this)):Al(this,this.S-p)};function us(p){p.j.G==0||p.J||Ul(p.j,p)}function Mr(p){qs(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,ve(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function ds(p,_){try{var C=p.j;if(C.G!=0&&(C.g==p||dr(C.h,p))){if(!p.K&&dr(C.h,p)&&C.G==3){try{var V=C.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)Fl(C),Gi(C);else break e;Vl(C),ut(18)}}else C.za=J[1],0<C.za-C.T&&37500>J[2]&&C.F&&C.v==0&&!C.C&&(C.C=Xe(v(C.Za,C),6e3));if(1>=Il(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ea(C,11)}else if((p.K||C.g==p)&&Fl(C),!M(_))for(J=C.Da.g.parse(_),_=0;_<J.length;_++){let $t=J[_];if(C.T=$t[0],$t=$t[1],C.G==2)if($t[0]=="c"){C.K=$t[1],C.ia=$t[2];const rr=$t[3];rr!=null&&(C.la=rr,C.j.info("VER="+C.la));const zn=$t[4];zn!=null&&(C.Aa=zn,C.j.info("SVER="+C.Aa));const Si=$t[5];Si!=null&&typeof Si=="number"&&0<Si&&(V=1.5*Si,C.L=V,C.j.info("backChannelRequestTimeoutMs_="+V)),V=C;const di=p.g;if(di){const Mo=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var ue=V.h;ue.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Io(ue,ue.h),ue.h=null))}if(V.D){const zl=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(V.ya=zl,je(V.I,V.D,zl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),V=C;var Fe=p;if(V.qa=mh(V,V.J?V.ia:null,V.W),Fe.K){Ks(V.h,Fe);var Qt=Fe,Yn=V.L;Yn&&(Qt.I=Yn),Qt.B&&(qs(Qt),Jt(Qt)),V.g=Fe}else Do(V);0<C.i.length&&gs(C)}else $t[0]!="stop"&&$t[0]!="close"||ea(C,7);else C.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?ea(C,7):fr(C):$t[0]!="noop"&&C.l&&C.l.ta($t),C.v=0)}}Tt(4)}catch{}}var jl=class{constructor(p,_){this.g=p,this.map=_}};function Gs(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Il(p){return p.h?1:p.g?p.g.size:0}function dr(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Io(p,_){p.g?p.g.add(_):p.h=_}function Ks(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Gs.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pl(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const C of p.g.values())_=_.concat(C.D);return _}return b(p.i)}function Ca(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var _=[],C=p.length,V=0;V<C;V++)_.push(p[V]);return _}_=[],C=0;for(V in p)_[C++]=p[V];return _}function Aa(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var _=[];p=p.length;for(var C=0;C<p;C++)_.push(C);return _}_=[],C=0;for(const V in p)_[C++]=V;return _}}}function hs(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var C=Aa(p),V=Ca(p),J=V.length,ue=0;ue<J;ue++)_.call(void 0,V[ue],C&&C[ue],p)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function au(p,_){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var V=p[C].indexOf("="),J=null;if(0<=V){var ue=p[C].substring(0,V);J=p[C].substring(V+1)}else ue=p[C];_(ue,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ei(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ei){this.h=p.h,G(this,p.j),this.o=p.o,this.g=p.g,me(this,p.s),this.l=p.l;var _=p.i,C=new fs;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),Te(this,C),this.m=p.m}else p&&(_=String(p).match(Xs))?(this.h=!1,G(this,_[1]||"",!0),this.o=qe(_[2]||""),this.g=qe(_[3]||"",!0),me(this,_[4]),this.l=qe(_[5]||"",!0),Te(this,_[6]||"",!0),this.m=qe(_[7]||"")):(this.h=!1,this.i=new fs(null,this.h))}Ei.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Kt(_,$i,!0),":");var C=this.g;return(C||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Kt(_,$i,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Kt(C,C.charAt(0)=="/"?zi:Qs,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Kt(C,ja)),p.join("")};function Lr(p){return new Ei(p)}function G(p,_,C){p.j=C?qe(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function me(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Te(p,_,C){_ instanceof fs?(p.i=_,ps(p.i,p.h)):(C||(_=Kt(_,Zt)),p.i=new fs(_,p.h))}function je(p,_,C){p.i.set(_,C)}function Ze(p){return je(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function qe(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Kt(p,_,C){return typeof p=="string"?(p=encodeURI(p).replace(_,An),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function An(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var $i=/[#\/\?@]/g,Qs=/[#\?:]/g,zi=/[#\?]/g,Zt=/[#\?@]/g,ja=/#/g;function fs(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function hr(p){p.g||(p.g=new Map,p.h=0,p.i&&au(p.i,function(_,C){p.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=fs.prototype,t.add=function(p,_){hr(this),this.i=null,p=ki(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(_),this.h+=1,this};function Bi(p,_){hr(p),_=ki(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Hi(p,_){return hr(p),_=ki(p,_),p.g.has(_)}t.forEach=function(p,_){hr(this),this.g.forEach(function(C,V){C.forEach(function(J){p.call(_,J,V,this)},this)},this)},t.na=function(){hr(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let V=0;V<_.length;V++){const J=p[V];for(let ue=0;ue<J.length;ue++)C.push(_[V])}return C},t.V=function(p){hr(this);let _=[];if(typeof p=="string")Hi(this,p)&&(_=_.concat(this.g.get(ki(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)_=_.concat(p[C])}return _},t.set=function(p,_){return hr(this),this.i=null,p=ki(this,p),Hi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Ia(p,_,C){Bi(p,_),0<C.length&&(p.i=null,p.g.set(ki(p,_),b(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var V=_[C];const ue=encodeURIComponent(String(V)),Fe=this.V(V);for(V=0;V<Fe.length;V++){var J=ue;Fe[V]!==""&&(J+="="+encodeURIComponent(String(Fe[V]))),p.push(J)}}return this.i=p.join("&")};function ki(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function ps(p,_){_&&!p.j&&(hr(p),p.i=null,p.g.forEach(function(C,V){var J=V.toLowerCase();V!=J&&(Bi(this,V),Ia(this,J,C))},p)),p.j=_}function Hm(p,_){const C=new sn;if(u.Image){const V=new Image;V.onload=w(qr,C,"TestLoadImage: loaded",!0,_,V),V.onerror=w(qr,C,"TestLoadImage: error",!1,_,V),V.onabort=w(qr,C,"TestLoadImage: abort",!1,_,V),V.ontimeout=w(qr,C,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else _(!1)}function ch(p,_){const C=new sn,V=new AbortController,J=setTimeout(()=>{V.abort(),qr(C,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:V.signal}).then(ue=>{clearTimeout(J),ue.ok?qr(C,"TestPingServer: ok",!0,_):qr(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),qr(C,"TestPingServer: error",!1,_)})}function qr(p,_,C,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(C)}catch{}}function Wm(){this.g=new Y}function uh(p,_,C){const V=C||"";try{hs(p,function(J,ue){let Fe=J;f(J)&&(Fe=ie(J)),_.push(V+ue+"="+encodeURIComponent(Fe))})}catch(J){throw _.push(V+"type="+encodeURIComponent("_badmap")),J}}function Ys(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Ys,Ve),Ys.prototype.g=function(){return new Po(this.l,this.j)},Ys.prototype.i=function(p){return function(){return p}}({});function Po(p,_){ye.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Po,ye),t=Po.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,qi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function dh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?Wi(this):qi(this),this.readyState==3&&dh(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Wi(this))},t.Qa=function(p){this.g&&(this.response=p,Wi(this))},t.ga=function(){this.g&&Wi(this)};function Wi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,qi(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=_.next();return p.join(`\r
`)};function qi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Js(p){let _="";return K(p,function(C,V){_+=V,_+=":",_+=C,_+=`\r
`}),_}function Pa(p,_,C){e:{for(V in C){var V=!1;break e}V=!0}V||(C=Js(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):je(p,_,C))}function gn(p){ye.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(gn,ye);var qm=/^https?$/i,ou=["POST","PUT"];t=gn.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,C,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?fe(this.o):fe(Wr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ue){Ro(this,ue);return}if(p=C||"",C=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)C.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ue of V.keys())C.set(ue,V.get(ue));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(C.keys()).find(ue=>ue.toLowerCase()=="content-type"),J=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ou,_,void 0))||V||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Fe]of C)this.g.setRequestHeader(ue,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dl(this),this.u=!0,this.g.send(p),this.u=!1}catch(ue){Ro(this,ue)}};function Ro(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Rl(p),ui(p)}function Rl(p){p.A||(p.A=!0,Ce(p,"complete"),Ce(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ce(this,"complete"),Ce(this,"abort"),ui(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),gn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lu(this):this.bb())},t.bb=function(){lu(this)};function lu(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Gr(p)!=4||p.Z()!=2)){if(p.u&&Gr(p)==4)Me(p.Ea,0,p);else if(Ce(p,"readystatechange"),Gr(p)==4){p.h=!1;try{const Fe=p.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var V;if(V=Fe===0){var J=String(p.D).match(Xs)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),V=!qm.test(J?J.toLowerCase():"")}C=V}if(C)Ce(p,"complete"),Ce(p,"success");else{p.m=6;try{var ue=2<Gr(p)?p.g.statusText:""}catch{ue=""}p.l=ue+" ["+p.Z()+"]",Rl(p)}}finally{ui(p)}}}}function ui(p,_){if(p.g){Dl(p);const C=p.g,V=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Ce(p,"ready");try{C.onreadystatechange=V}catch{}}}function Dl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Gr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),ce(_)}};function cu(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ml(p){const _={};p=(p.g&&2<=Gr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(M(p[V]))continue;var C=L(p[V]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ue=_[J]||[];_[J]=ue,ue.push(C)}R(_,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(p,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||_}function uu(p){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,p),this.cb=ms("retryDelaySeedMs",1e4,p),this.Wa=ms("forwardChannelMaxRetries",2,p),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(p&&p.concurrentRequestLimit),this.Da=new Wm,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uu.prototype,t.la=8,t.G=1,t.connect=function(p,_,C,V){ut(0),this.W=p,this.H=_||{},C&&V!==void 0&&(this.H.OSID=C,this.H.OAID=V),this.F=this.X,this.I=mh(this,null,this.W),gs(this)};function fr(p){if(Ol(p),p.G==3){var _=p.U++,C=Lr(p.I);if(je(C,"SID",p.K),je(C,"RID",_),je(C,"TYPE","terminate"),Zs(p,C),_=new wn(p,p.j,_),_.L=2,_.v=Ze(Lr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=_.v,C=!0),C||(_.g=gh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Jt(_)}ph(p)}function Gi(p){p.g&&(du(p),p.g.cancel(),p.g=null)}function Ol(p){Gi(p),p.u&&(u.clearTimeout(p.u),p.u=null),Fl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function gs(p){if(!Or(p.h)&&!p.s){p.s=!0;var _=p.Ga;Ke||he(),le||(Ke(),le=!0),oe.add(_,p),p.B=0}}function Gm(p,_){return Il(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Xe(v(p.Ga,p,_),fh(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const J=new wn(this,this.j,p);let ue=this.o;if(this.S&&(ue?(ue=I(ue),k(ue,this.S)):ue=this.S),this.m!==null||this.O||(J.H=ue,ue=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var V=this.i[C];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Ra(this,J,_),C=Lr(this.I),je(C,"RID",p),je(C,"CVER",22),this.D&&je(C,"X-HTTP-Session-Id",this.D),Zs(this,C),ue&&(this.O?_="headers="+encodeURIComponent(String(Js(ue)))+"&"+_:this.m&&Pa(C,this.m,ue)),Io(this.h,J),this.Ua&&je(C,"TYPE","init"),this.P?(je(C,"$req",_),je(C,"SID","null"),J.T=!0,cs(J,C,null)):cs(J,C,_),this.G=2}}else this.G==3&&(p?Ll(this,p):this.i.length==0||Or(this.h)||Ll(this))};function Ll(p,_){var C;_?C=_.l:C=p.U++;const V=Lr(p.I);je(V,"SID",p.K),je(V,"RID",C),je(V,"AID",p.T),Zs(p,V),p.m&&p.o&&Pa(V,p.m,p.o),C=new wn(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Ra(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Io(p.h,C),cs(C,V,_)}function Zs(p,_){p.H&&K(p.H,function(C,V){je(_,V,C)}),p.l&&hs({},function(C,V){je(_,V,C)})}function Ra(p,_,C){C=Math.min(p.i.length,C);var V=p.l?v(p.l.Na,p.l,p):null;e:{var J=p.i;let ue=-1;for(;;){const Fe=["count="+C];ue==-1?0<C?(ue=J[0].g,Fe.push("ofs="+ue)):ue=0:Fe.push("ofs="+ue);let Qt=!0;for(let Yn=0;Yn<C;Yn++){let $t=J[Yn].g;const rr=J[Yn].map;if($t-=ue,0>$t)ue=Math.max(0,J[Yn].g-100),Qt=!1;else try{uh(rr,Fe,"req"+$t+"_")}catch{V&&V(rr)}}if(Qt){V=Fe.join("&");break e}}}return p=p.i.splice(0,C),_.D=p,V}function Do(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Ke||he(),le||(Ke(),le=!0),oe.add(_,p),p.v=0}}function Vl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Xe(v(p.Fa,p),fh(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Xe(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Gi(this),hh(this))};function du(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function hh(p){p.g=new wn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Lr(p.qa);je(_,"RID","rpc"),je(_,"SID",p.K),je(_,"AID",p.T),je(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&je(_,"TO",p.ja),je(_,"TYPE","xmlhttp"),Zs(p,_),p.m&&p.o&&Pa(_,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=Ze(Lr(_)),C.m=null,C.P=!0,ci(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Gi(this),Vl(this),ut(19))};function Fl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Ul(p,_){var C=null;if(p.g==_){Fl(p),du(p),p.g=null;var V=2}else if(dr(p.h,_))C=_.D,Ks(p.h,_),V=1;else return;if(p.G!=0){if(_.o)if(V==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var J=p.B;V=Se(),Ce(V,new Cn(V,C)),gs(p)}else Do(p);else if(J=_.s,J==3||J==0&&0<_.X||!(V==1&&Gm(p,_)||V==2&&Vl(p)))switch(C&&0<C.length&&(_=p.h,_.i=_.i.concat(C)),J){case 1:ea(p,5);break;case 4:ea(p,10);break;case 3:ea(p,6);break;default:ea(p,2)}}}function fh(p,_){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*_}function ea(p,_){if(p.j.info("Error code "+_),_==2){var C=v(p.fb,p),V=p.Xa;const J=!V;V=new Ei(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||G(V,"https"),Ze(V),J?Hm(V.toString(),C):ch(V.toString(),C)}else ut(2);p.G=0,p.l&&p.l.sa(_),ph(p),Ol(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function ph(p){if(p.G=0,p.ka=[],p.l){const _=Pl(p.h);(_.length!=0||p.i.length!=0)&&(N(p.ka,_),N(p.ka,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.ra()}}function mh(p,_,C){var V=C instanceof Ei?Lr(C):new Ei(C);if(V.g!="")_&&(V.g=_+"."+V.g),me(V,V.s);else{var J=u.location;V=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var ue=new Ei(null);V&&G(ue,V),_&&(ue.g=_),J&&me(ue,J),C&&(ue.l=C),V=ue}return C=p.D,_=p.ya,C&&_&&je(V,C,_),je(V,"VER",p.la),Zs(p,V),V}function gh(p,_,C){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new gn(new Ys({eb:C})):new gn(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}t=hu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $l(){}$l.prototype.g=function(p,_){return new Vr(p,_)};function Vr(p,_){ye.call(this),this.g=new uu(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!M(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new ys(this)}S(Vr,ye),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){fr(this.g)},Vr.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=ie(p),p=C);_.i.push(new jl(_.Ya++,p)),_.G==3&&gs(_)},Vr.prototype.N=function(){this.g.l=null,delete this.j,fr(this.g),delete this.g,Vr.aa.N.call(this)};function yh(p){De.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const C in _){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}S(yh,De);function vh(){nt.call(this),this.status=1}S(vh,nt);function ys(p){this.g=p}S(ys,hu),ys.prototype.ua=function(){Ce(this.g,"a")},ys.prototype.ta=function(p){Ce(this.g,new yh(p))},ys.prototype.sa=function(p){Ce(this.g,new vh)},ys.prototype.ra=function(){Ce(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,FT=function(){return new $l},VT=function(){return Se()},LT=ht,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Bf=Ui,Ao.COMPLETE="complete",OT=Ao,pe.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Wu=pe,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,MT=gn}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const z2="@firebase/firestore",B2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Vv("@firebase/firestore");function yc(){return gl.logLevel}function et(t,...e){if(gl.logLevel<=Lt.DEBUG){const n=e.map(Qv);gl.debug(`Firestore (${Xc}): ${t}`,...n)}}function xa(t,...e){if(gl.logLevel<=Lt.ERROR){const n=e.map(Qv);gl.error(`Firestore (${Xc}): ${t}`,...n)}}function uo(t,...e){if(gl.logLevel<=Lt.WARN){const n=e.map(Qv);gl.warn(`Firestore (${Xc}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UT(t,r,n)}function UT(t,e,n){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xa(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UT(e,i,r)}function Ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class H6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ma,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ma)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,et("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function ky(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Mt(r,i);{const a=zT(),c=Q6(a.encode(W2(t,n)),a.encode(W2(e,n)));return c!==0?c:Mt(r,i)}}n+=r>65535?2:1}return Mt(t.length,e.length)}function W2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Q6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Mt(t[n],e[n]);return Mt(t.length,e.length)}function Oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ss.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),i=Ss.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class on extends Ss{construct(e,n,r){return new on(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new on(n)}static emptyPath(){return new on([])}}const Y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Ss{construct(e,n,r){return new xr(e,n,r)}static isValidIdentifier(e){return Y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q2}static keyField(){return new xr([q2])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new He(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new He(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(a(),i++)}if(a(),c)throw new He(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(on.fromString(e))}static fromName(e){return new pt(on.fromString(e).popFirst(5))}static empty(){return new pt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return on.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e,n){if(!n)throw new He(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J6(t,e,n,r){if(e===!0&&r===!0)throw new He(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G2(t){if(!pt.isDocumentKey(t))throw new He(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K2(t){if(pt.isDocumentKey(t))throw new He(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt(12329,{type:typeof t})}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(t);throw new He(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Z6(t,e){if(e<=0)throw new He(xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!HT(t))throw new He(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new He(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=-62135596800,Q2=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q2);return new hn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X2)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q2}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,hn._jsonSchema))return new hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hn._jsonSchemaVersion="firestore/timestamp/1.0",hn._jsonSchema={type:Qn("string",hn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static fromTimestamp(e){return new kt(e)}static min(){return new kt(new hn(0,0))}static max(){return new kt(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function eD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new ho(i,pt.empty(),e)}function tD(t){return new ho(t.readTime,t.key,yd)}class ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ho(kt.min(),pt.empty(),yd)}static max(){return new ho(kt.max(),pt.empty(),yd)}}function nD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pt.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==rD)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.reject(n)}static resolve(e){return new _e((n,r)=>{n(e)})}static reject(e){return new _e((n,r)=>{r(e)})}static waitFor(e){return new _e((n,r)=>{let i=0,a=0,c=!1;e.forEach(u=>{++i,u.next(()=>{++a,c&&a===i&&n()},h=>r(h))}),c=!0,a===i&&n()})}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next(i=>i?_e.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new _e((r,i)=>{const a=e.length,c=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;n(e[f]).next(g=>{c[f]=g,++u,u===a&&r(c)},g=>i(g))}})}static doWhile(e,n){return new _e((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function sD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}tm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-1;function nm(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function aD(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="";function oD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y2(e)),e=lD(t.get(n),e);return Y2(e)}function lD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case WT:n+="";break;default:n+=a}}return n}function Y2(t){return t+WT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new Tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yr.RED,this.left=i??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z2(this.data.getIterator())}getIteratorFrom(e){return new Z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class Z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new yi([])}unionWith(e){let n=new tr(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GT("Invalid base64 string: "+a):a}}(e);return new wr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=cD.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(t.seconds),nanos:Fn(t.nanos)}}function Fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="server_timestamp",XT="__type__",QT="__previous_value__",YT="__local_write_time__";function Zv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XT])===null||n===void 0?void 0:n.stringValue)===KT}function rm(t){const e=t.mapValue.fields[QT];return Zv(e)?rm(e):e}function vd(t){const e=fo(t.mapValue.fields[YT].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,a,c,u,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const gp="(default)";class xd{constructor(e,n){this.projectId=e,this.database=n||gp}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===gp}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__type__",dD="__max__",gf={mapValue:{}},ZT="__vector__",yp="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zv(t)?4:fD(t)?9007199254740991:hD(t)?10:11:xt(28295,{value:t})}function zs(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=fo(i.timestampValue),u=fo(a.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return po(i.bytesValue).isEqual(po(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Fn(i.geoPointValue.latitude)===Fn(a.geoPointValue.latitude)&&Fn(i.geoPointValue.longitude)===Fn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Fn(i.integerValue)===Fn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Fn(i.doubleValue),u=Fn(a.doubleValue);return c===u?mp(c)===mp(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return Oc(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(i,a){const c=i.mapValue.fields||{},u=a.mapValue.fields||{};if(J2(c)!==J2(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!zs(c[h],u[h])))return!1;return!0}(t,e);default:return xt(52216,{left:t})}}function bd(t,e){return(t.values||[]).find(n=>zs(n,e))!==void 0}function Lc(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(a,c){const u=Fn(a.integerValue||a.doubleValue),h=Fn(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return e_(t.timestampValue,e.timestampValue);case 4:return e_(vd(t),vd(e));case 5:return ky(t.stringValue,e.stringValue);case 6:return function(a,c){const u=po(a),h=po(c);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const u=a.split("/"),h=c.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=Mt(u[f],h[f]);if(g!==0)return g}return Mt(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const u=Mt(Fn(a.latitude),Fn(c.latitude));return u!==0?u:Mt(Fn(a.longitude),Fn(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t_(t.arrayValue,e.arrayValue);case 10:return function(a,c){var u,h,f,g;const y=a.fields||{},v=c.fields||{},w=(u=y[yp])===null||u===void 0?void 0:u.arrayValue,S=(h=v[yp])===null||h===void 0?void 0:h.arrayValue,b=Mt(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:t_(w,S)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===gf.mapValue&&c===gf.mapValue)return 0;if(a===gf.mapValue)return 1;if(c===gf.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const v=ky(h[y],g[y]);if(v!==0)return v;const w=Lc(u[h[y]],f[g[y]]);if(w!==0)return w}return Mt(h.length,g.length)}(t.mapValue,e.mapValue);default:throw xt(23264,{le:n})}}function e_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=fo(t),r=fo(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function t_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Lc(n[i],r[i]);if(a)return a}return Mt(n.length,r.length)}function Vc(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Sy(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${Sy(n.fields[c])}`;return i+"}"}(t.mapValue):xt(61005,{value:t})}function Hf(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(t);return e?16+Hf(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Hf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return So(r.fields,(a,c)=>{i+=a.length+Hf(c)}),i}(t.mapValue);default:throw xt(13486,{value:t})}}function n_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function ex(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function i_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function hD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JT])===null||n===void 0?void 0:n.stringValue)===ZT}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=xr.emptyPath(),r={},i=[];e.forEach((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=ed(c):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ri(ed(this.value))}}function eN(t){const e=[];return So(t.fields,(n,r)=>{const i=new xr([n]);if(Wf(r)){const a=eN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,a,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=u}static newInvalidDocument(e){return new jr(e,0,kt.min(),kt.min(),kt.min(),ri.empty(),0)}static newFoundDocument(e,n,r,i){return new jr(e,1,n,kt.min(),r,i,0)}static newNoDocument(e,n){return new jr(e,2,n,kt.min(),kt.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,kt.min(),kt.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.position=e,this.inclusive=n}}function s_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=pt.comparator(pt.fromName(c.referenceValue),n.key):r=Lc(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function pD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class Xn extends tN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gD(e,n,r):n==="array-contains"?new xD(e,r):n==="in"?new bD(e,r):n==="not-in"?new wD(e,r):n==="array-contains-any"?new _D(e,r):new Xn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yD(e,r):new vD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lc(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends tN{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new os(e,n)}matches(e){return nN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function nN(t){return t.op==="and"}function rN(t){return mD(t)&&nN(t)}function mD(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function Ny(t){if(t instanceof Xn)return t.field.canonicalString()+t.op.toString()+Vc(t.value);if(rN(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function iN(t,e){return t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.field.isEqual(i.field)&&zs(r.value,i.value)}(t,e):t instanceof os?function(r,i){return i instanceof os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,c,u)=>a&&iN(c,i.filters[u]),!0):!1}(t,e):void xt(19439)}function sN(t){return t instanceof Xn?function(n){return`${n.field.canonicalString()} ${n.op} ${Vc(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(sN).join(" ,")+"}"}(t):"Filter"}class gD extends Xn{constructor(e,n,r){super(e,n,r),this.key=pt.fromName(r.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class yD extends Xn{constructor(e,n){super(e,"in",n),this.keys=aN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vD extends Xn{constructor(e,n){super(e,"not-in",n),this.keys=aN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class xD extends Xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ex(n)&&bd(n.arrayValue,this.value)}}class bD extends Xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bd(this.value.arrayValue,n)}}class wD extends Xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bd(this.value.arrayValue,n)}}class _D extends Xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n=null,r=[],i=[],a=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=u,this.Pe=null}}function o_(t,e=null,n=[],r=[],i=null,a=null,c=null){return new ED(t,e,n,r,i,a,c)}function tx(t){const e=Ct(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vc(r)).join(",")),e.Pe=n}return e.Pe}function nx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function Cy(t){return pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n=null,r=[],i=[],a=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kD(t,e,n,r,i,a,c,u){return new Jc(t,e,n,r,i,a,c,u)}function im(t){return new Jc(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oN(t){return t.collectionGroup!==null}function td(t){const e=Ct(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new tr(xr.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new wd(a,r))}),n.has(xr.keyField().canonicalString())||e.Te.push(new wd(xr.keyField(),r))}return e.Te}function Rs(t){const e=Ct(t);return e.Ie||(e.Ie=SD(e,td(t))),e.Ie}function SD(t,e){if(t.limitType==="F")return o_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wd(i.field,a)});const n=t.endAt?new vp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vp(t.startAt.position,t.startAt.inclusive):null;return o_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){const n=t.filters.concat([e]);return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xp(t,e,n){return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return nx(Rs(t),Rs(e))&&t.limitType===e.limitType}function lN(t){return`${tx(Rs(t))}|lt:${t.limitType}`}function vc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sN(i)).join(", ")}]`),nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vc(i)).join(",")),`Target(${r})`}(Rs(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):pt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of td(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,u,h){const f=s_(c,u,h);return c.inclusive?f<=0:f<0}(r.startAt,td(r),i)||r.endAt&&!function(c,u,h){const f=s_(c,u,h);return c.inclusive?f>=0:f>0}(r.endAt,td(r),i))}(t,e)}function TD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cN(t){return(e,n)=>{let r=!1;for(const i of td(t)){const a=ND(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ND(t,e,n){const r=t.field.isKeyField()?pt.comparator(e.key,n.key):function(a,c,u){const h=c.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Lc(h,f):xt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Tn(pt.comparator);function ba(){return CD}const uN=new Tn(pt.comparator);function qu(...t){let e=uN;for(const n of t)e=e.insert(n.key,n);return e}function dN(t){let e=uN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return nd()}function hN(){return nd()}function nd(){return new kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const AD=new Tn(pt.comparator),jD=new tr(pt.comparator);function Vt(...t){let e=jD;for(const n of t)e=e.add(n);return e}const ID=new tr(Mt);function PD(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function RD(t,e){return aD(e)?fN(e):rx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function DD(t,e,n){return t instanceof _d?function(i,a){const c={fields:{[XT]:{stringValue:KT},[YT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Zv(a)&&(a=rm(a)),a&&(c.fields[QT]=a),{mapValue:c}}(n,e):t instanceof Ed?mN(t,e):t instanceof kd?gN(t,e):function(i,a){const c=pN(i,a),u=c_(c)+c_(i.Ee);return Ty(c)&&Ty(i.Ee)?fN(u):rx(i.serializer,u)}(t,e)}function MD(t,e,n){return t instanceof Ed?mN(t,e):t instanceof kd?gN(t,e):n}function pN(t,e){return t instanceof bp?function(r){return Ty(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class _d extends om{}class Ed extends om{constructor(e){super(),this.elements=e}}function mN(t,e){const n=yN(e);for(const r of t.elements)n.some(i=>zs(i,r))||n.push(r);return{arrayValue:{values:n}}}class kd extends om{constructor(e){super(),this.elements=e}}function gN(t,e){let n=yN(e);for(const r of t.elements)n=n.filter(i=>!zs(i,r));return{arrayValue:{values:n}}}class bp extends om{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function c_(t){return Fn(t.integerValue||t.doubleValue)}function yN(t){return ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.field=e,this.transform=n}}function LD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ed&&i instanceof Ed||r instanceof kd&&i instanceof kd?Oc(r.elements,i.elements,zs):r instanceof bp&&i instanceof bp?zs(r.Ee,i.Ee):r instanceof _d&&i instanceof _d}(t.transform,e.transform)}class VD{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function vN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ix(t.key,Li.none()):new Kd(t.key,t.data,Li.none());{const n=t.data,r=ri.empty();let i=new tr(xr.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new To(t.key,r,new yi(i.toArray()),Li.none())}}function FD(t,e,n){t instanceof Kd?function(i,a,c){const u=i.value.clone(),h=d_(i.fieldTransforms,a,c.transformResults);u.setAll(h),a.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,a,c){if(!qf(i.precondition,a))return void a.convertToUnknownDocument(c.version);const u=d_(i.fieldTransforms,a,c.transformResults),h=a.data;h.setAll(xN(i)),h.setAll(u),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function rd(t,e,n,r){return t instanceof Kd?function(a,c,u,h){if(!qf(a.precondition,c))return u;const f=a.value.clone(),g=h_(a.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(a,c,u,h){if(!qf(a.precondition,c))return u;const f=h_(a.fieldTransforms,h,c),g=c.data;return g.setAll(xN(a)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,c,u){return qf(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(t,e,n)}function UD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=pN(r.transform,i||null);a!=null&&(n===null&&(n=ri.empty()),n.set(r.field,a))}return n||null}function u_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oc(r,i,(a,c)=>LD(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends lm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends lm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,u=e.data.field(a.field);r.set(a.field,MD(c,u,n[i]))}return r}function h_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,DD(a,c,e))}return r}class ix extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&FD(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hN();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let u=this.applyToLocalView(c,a.mutatedFields);u=n.has(i.key)?null:u;const h=vN(c,u);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(n,r)=>u_(n,r))&&Oc(this.baseMutations,e.baseMutations,(n,r)=>u_(n,r))}}class sx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return AD}();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new sx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,zt;function WD(t){switch(t){case xe.OK:return xt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return xt(15467,{code:t})}}function bN(t){if(t===void 0)return xa("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Hn.OK:return xe.OK;case Hn.CANCELLED:return xe.CANCELLED;case Hn.UNKNOWN:return xe.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return xe.INTERNAL;case Hn.UNAVAILABLE:return xe.UNAVAILABLE;case Hn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Hn.NOT_FOUND:return xe.NOT_FOUND;case Hn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Hn.ABORTED:return xe.ABORTED;case Hn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Hn.DATA_LOSS:return xe.DATA_LOSS;default:return xt(39323,{code:t})}}(zt=Hn||(Hn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new oo([4294967295,4294967295],0);function f_(t){const e=zT().encode(t),n=new DT;return n.update(e),new Uint8Array(n.digest())}function p_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oo([n,r],0),new oo([i,a],0)]}class ax{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=oo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(oo.fromNumber(r)));return i.compare(qD)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=f_(e),[r,i]=p_(n);for(let a=0;a<this.hashCount;a++){const c=this.pe(r,i,a);if(!this.ye(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new ax(a,i,n);return r.forEach(u=>c.insert(u)),c}insert(e){if(this.fe===0)return;const n=f_(e),[r,i]=p_(n);for(let a=0;a<this.hashCount;a++){const c=this.pe(r,i,a);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cm(kt.min(),i,new Tn(Mt),ba(),Vt())}}class Xd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xd(r,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class wN{constructor(e,n){this.targetId=e,this.De=n}}class _N{constructor(e,n,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m_{constructor(){this.ve=0,this.Ce=g_(),this.Fe=wr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vt(),n=Vt(),r=Vt();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt(38017,{changeType:a})}}),new Xd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=g_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class GD{constructor(e){this.We=e,this.Ge=new Map,this.ze=ba(),this.je=yf(),this.Je=yf(),this.He=new Tn(Mt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(Cy(a))if(r===0){const c=new pt(a.path);this.Xe(n,c,jr.newNoDocument(c,kt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const u=this._t(e),h=u?this.ut(u,e,c):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,u;try{c=po(r).toUint8Array()}catch(h){if(h instanceof GT)return uo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new ax(c,i,a)}catch(h){return uo(h instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const c=this.We.lt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,c)=>{const u=this.st(c);if(u){if(a.current&&Cy(u.target)){const h=new pt(u.target.path);this.Tt(h).has(c)||this.It(c,h)||this.Xe(c,h,jr.newNoDocument(h,e))}a.Ne&&(n.set(c,a.Le()),a.ke())}});let r=Vt();this.Je.forEach((a,c)=>{let u=!0;c.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.ze.forEach((a,c)=>c.setReadTime(e));const i=new cm(e,n,this.He,this.ze,r);return this.ze=ba(),this.je=yf(),this.Je=yf(),this.He=new Tn(Mt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new m_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new tr(Mt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new tr(Mt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new m_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function yf(){return new Tn(pt.comparator)}function g_(){return new Tn(pt.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},XD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jy(t,e){return t.useProto3Json||nm(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JD(t,e){return wp(t,e.toTimestamp())}function Ds(t){return Xt(!!t,49232),kt.fromTimestamp(function(n){const r=fo(n);return new hn(r.seconds,r.nanos)}(t))}function ox(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=function(i){return new on(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kN(t){const e=on.fromString(t);return Xt(AN(e),10190,{key:e.toString()}),e}function Py(t,e){return ox(t.databaseId,e.path)}function T0(t,e){const n=kN(e);if(n.get(1)!==t.databaseId.projectId)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(TN(n))}function SN(t,e){return ox(t.databaseId,e)}function ZD(t){const e=kN(t);return e.length===4?on.emptyPath():TN(e)}function Ry(t){return new on(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TN(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y_(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function e9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:xt(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?(Xt(g===void 0||typeof g=="string",58123),wr.fromBase64String(g||"")):(Xt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),wr.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(f){const g=f.code===void 0?xe.UNKNOWN:bN(f.code);return new He(g,f.message||"")}(c);n=new _N(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=T0(t,r.document.name),a=Ds(r.document.updateTime),c=r.document.createTime?Ds(r.document.createTime):kt.min(),u=new ri({mapValue:{fields:r.document.fields}}),h=jr.newFoundDocument(i,a,c,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Gf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=T0(t,r.document),a=r.readTime?Ds(r.readTime):kt.min(),c=jr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Gf([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=T0(t,r.document),a=r.removedTargetIds||[];n=new Gf([],a,i,null)}else{if(!("filter"in e))return xt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new HD(i,a),u=r.targetId;n=new wN(u,c)}}return n}function t9(t,e){let n;if(e instanceof Kd)n={update:y_(t,e.key,e.value)};else if(e instanceof ix)n={delete:Py(t,e.key)};else if(e instanceof To)n={update:y_(t,e.key,e.data),updateMask:u9(e.fieldMask)};else{if(!(e instanceof $D))return xt(16599,{Rt:e.type});n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const u=c.transform;if(u instanceof _d)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ed)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof kd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bp)return{fieldPath:c.field.canonicalString(),increment:u.Ee};throw xt(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:JD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xt(27497)}(t,e.precondition)),n}function n9(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map(n=>function(i,a){let c=i.updateTime?Ds(i.updateTime):Ds(a);return c.isEqual(kt.min())&&(c=Ds(a)),new VD(c,i.transformResults||[])}(n,e))):[]}function r9(t,e){return{documents:[SN(t,e.path)]}}function i9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SN(t,i);const a=function(f){if(f.length!==0)return CN(os.create(f,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:xc(v.field),direction:o9(v.dir)}}(g))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=jy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:i}}function s9(t){let e=ZD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(y){const v=NN(y);return v instanceof os&&rN(v)?v.getFilters():[v]}(n.where));let c=[];n.orderBy&&(c=function(y){return y.map(v=>function(S){return new wd(bc(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(y){let v;return v=typeof y=="object"?y.value:y,nm(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(y){const v=!!y.before,w=y.values||[];return new vp(w,v)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const v=!y.before,w=y.values||[];return new vp(w,v)}(n.endAt)),kD(e,i,c,a,u,"F",h,f)}function a9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bc(n.unaryFilter.field);return Xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bc(n.unaryFilter.field);return Xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bc(n.unaryFilter.field);return Xn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bc(n.unaryFilter.field);return Xn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xn.create(bc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(r=>NN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(n.compositeFilter.op))}(t):xt(30097,{filter:t})}function o9(t){return KD[t]}function l9(t){return XD[t]}function c9(t){return QD[t]}function xc(t){return{fieldPath:t.canonicalString()}}function bc(t){return xr.fromServerFormat(t.fieldPath)}function CN(t){return t instanceof Xn?function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:xc(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:xc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:xc(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:xc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xc(n.field),op:l9(n.op),value:n.value}}}(t):t instanceof os?function(n){const r=n.getFilters().map(i=>CN(i));return r.length===1?r[0]:{compositeFilter:{op:c9(n.op),filters:r}}}(t):xt(54877,{filter:t})}function u9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,a=kt.min(),c=kt.min(),u=wr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.gt=e}}function h9(t){const e=s9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Dn=new p9}addToCollectionParentIndex(e,n){return this.Dn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(ho.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class p9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(on.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jN=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(jN,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fc(0)}static ur(){return new Fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",m9=1048576;function b_([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class g9{constructor(e){this.Tr=e,this.buffer=new tr(b_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){et(x_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?et(x_,"Ignoring IndexedDB error during garbage collection: ",n):await Qc(n)}await this.Rr(3e5)})}}class v9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(tm.ue);const r=new g9(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(v_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,c,u,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,c=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),yc()<=Lt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${i} in `+(u-c)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function x9(t,e){return new v9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.changes=new kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rd(r.mutation,i,yi.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Vt()){const i=el();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let c=qu();return a.forEach((u,h)=>{c=c.insert(u,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Vt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,u)=>{n.set(c,u)})})}computeViews(e,n,r,i){let a=ba();const c=nd(),u=function(){return nd()}();return n.forEach((h,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof To)?a=a.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),rd(g.mutation,f,g.mutation.getFieldMask(),hn.now())):c.set(f.key,yi.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,g)=>c.set(f,g)),n.forEach((f,g)=>{var y;return u.set(f,new w9(g,(y=c.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=nd();let i=new Tn((c,u)=>c-u),a=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const u of c)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let g=r.get(h)||yi.empty();g=u.applyToLocalView(f,g),r.set(h,g);const y=(i.get(u.batchId)||Vt()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,y=hN();g.forEach(v=>{if(!a.has(v)){const w=vN(n.get(v),r.get(v));w!==null&&y.set(v,w),a=a.add(v)}}),c.push(this.documentOverlayCache.saveOverlays(e,f,y))}return _e.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):_e.resolve(el());let u=yd,h=a;return c.next(f=>_e.forEach(f,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(g)?_e.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{h=h.insert(g,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,Vt())).next(g=>({batchId:u,changes:dN(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=qu();return this.indexManager.getCollectionParents(e,a).next(u=>_e.forEach(u,h=>{const f=function(y,v){return new Jc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((y,v)=>{c=c.insert(y,v)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(c=>{a.forEach((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,jr.newInvalidDocument(g)))});let u=qu();return c.forEach((h,f)=>{const g=a.get(h);g!==void 0&&rd(g.mutation,f,yi.empty(),hn.now()),am(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ds(i.createTime)}}(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:h9(i.bundledQuery),readTime:Ds(i.readTime)}}(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.overlays=new Tn(pt.comparator),this.kr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return _e.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=el(),a=n.length+1,c=new pt(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Tn((f,g)=>f-g);const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=el(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=el(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=i)););return _e.resolve(u)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new BD(n,r));let a=this.kr.get(n);a===void 0&&(a=Vt(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.qr=new tr(lr.Qr),this.$r=new tr(lr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new lr(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new pt(new on([])),r=new lr(n,e),i=new lr(n,e+1),a=[];return this.$r.forEachInRange([r,i],c=>{this.Wr(c),a.push(c.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new pt(new on([])),r=new lr(n,e),i=new lr(n,e+1);let a=Vt();return this.$r.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new lr(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return pt.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||pt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new tr(lr.Qr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zD(a,n,r,i);this.mutationQueue.push(c);for(const u of i)this.Yr=this.Yr.add(new lr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,n){return _e.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?Jv:this.er-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],c=>{const u=this.Zr(c.Hr);a.push(u)}),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Mt);return n.forEach(i=>{const a=new lr(i,0),c=new lr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,c],u=>{r=r.add(u.Hr)})}),_e.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;pt.isDocumentKey(a)||(a=a.child(""));const c=new lr(new pt(a),0);let u=new tr(Mt);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Hr)),!0)},c),_e.resolve(this.ei(u))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return _e.forEach(n.mutations,i=>{const a=new lr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new lr(n,0),i=this.Yr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.ni=e,this.docs=function(){return new Tn(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=ba();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jr.newInvalidDocument(i))}),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ba();const c=n.path,u=new pt(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||nD(tD(g),r)<=0||(i.has(g.key)||am(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){xt(9500)}ri(e,n){return _e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C9(this)}getSize(e){return _e.resolve(this.size)}}class C9 extends b9{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),_e.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.persistence=e,this.ii=new kl(n=>tx(n),nx),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.si=0,this.oi=new lx,this.targetCount=0,this._i=Fc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),_e.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.hr(n),_e.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(c),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),_e.waitFor(a).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),_e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.ai={},this.overlays={},this.ui=new tm(0),this.ci=!1,this.ci=!0,this.li=new S9,this.referenceDelegate=e(this),this.hi=new A9(this),this.indexManager=new f9,this.remoteDocumentCache=function(i){return new N9(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new d9(n),this.Ti=new E9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new T9(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new j9(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return _e.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class j9 extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class cx{constructor(e){this.persistence=e,this.Ai=new lx,this.Ri=null}static Vi(e){return new cx(e)}get mi(){if(this.Ri)return this.Ri;throw xt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.mi,r=>{const i=pt.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,kt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return _e.or([()=>_e.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _p{constructor(e,n){this.persistence=e,this.gi=new kl(r=>oD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x9(this,n)}static Vi(e,n){return new _p(e,n)}Ii(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return _e.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?_e.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,c=>this.Sr(e,c,n).next(u=>{u||(r++,a.removeEntry(c,kt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hf(e.data.value)),n}Sr(e,n,r){return _e.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Vt(),i=Vt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ux(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return c5()?8:sD(Rr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new I9;return this.ws(e,n,c).next(u=>{if(a.result=u,this.Rs)return this.Ss(e,n,c,u.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(yc()<=Lt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_e.resolve()):(yc()<=Lt.DEBUG&&et("QueryEngine","Query:",vc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(yc()<=Lt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):_e.resolve())}ps(e,n){if(l_(n))return _e.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Vt(...a);return this.gs.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(n,u);return this.Ds(n,f,c,h.readTime)?this.ps(e,xp(n,null,"F")):this.vs(e,f,n,h)}))})))}ys(e,n,r,i){return l_(n)||i.isEqual(kt.min())?_e.resolve(null):this.gs.getDocuments(e,r).next(a=>{const c=this.bs(n,a);return this.Ds(n,c,r,i)?_e.resolve(null):(yc()<=Lt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vc(n)),this.vs(e,c,n,eD(i,yd)).next(u=>u))})}bs(e,n){let r=new tr(cN(e));return n.forEach((i,a)=>{am(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return yc()<=Lt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",vc(n)),this.gs.getDocumentsMatchingQuery(e,n,ho.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LocalStore",R9=3e8;class D9{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Tn(Mt),this.Ms=new kl(a=>tx(a),nx),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _9(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function M9(t,e,n,r){return new D9(t,e,n,r)}async function PN(t,e){const n=Ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],u=[];let h=Vt();for(const f of i){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:c,addedBatchIds:u}))})})}function O9(t,e){const n=Ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const y=f.batch,v=y.keys();let w=_e.resolve();return v.forEach(S=>{w=w.next(()=>g.getEntry(h,S)).next(b=>{const N=f.docVersions.get(S);Xt(N!==null,48541),b.version.compareTo(N)<0&&(y.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),g.addEntry(b)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Vt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RN(t){const e=Ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function L9(t,e){const n=Ct(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const u=[];e.targetChanges.forEach((g,y)=>{const v=i.get(y);if(!v)return;u.push(n.hi.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,g.addedDocuments,y)));let w=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(wr.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),i=i.insert(y,w),function(b,N,j){return b.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=R9?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(v,w,g)&&u.push(n.hi.updateTargetData(a,w))});let h=ba(),f=Vt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(V9(a,c,e.documentUpdates).next(g=>{h=g.Ls,f=g.ks})),!r.isEqual(kt.min())){const g=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(g)}return _e.waitFor(u).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Fs=i,a))}function V9(t,e,n){let r=Vt(),i=Vt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let c=ba();return n.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(kt.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):et(dx,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ls:c,ks:i}})}function F9(t,e){const n=Ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U9(t,e){const n=Ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,_e.resolve(i)):n.hi.allocateTargetId(r).next(c=>(i=new ro(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=Ct(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Yc(c))throw c;et(dx,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function w_(t,e,n){const r=Ct(t);let i=kt.min(),a=Vt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,f,g){const y=Ct(h),v=y.Ms.get(g);return v!==void 0?_e.resolve(y.Fs.get(v)):y.hi.getTargetData(f,g)}(r,c,Rs(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,u.targetId).next(h=>{a=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:kt.min(),n?a:Vt())).next(u=>($9(r,TD(e),u),{documents:u,qs:a})))}function $9(t,e,n){let r=t.xs.get(e)||kt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class __{constructor(){this.activeTargetIds=PD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z9{constructor(){this.Fo=new __,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new __,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class k_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){et(E_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){et(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function My(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="RestConnection",H9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W9{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===gp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const c=My(),u=this.Go(e,n.toUriEncodedString());et(N0,`Sending RPC '${e}' ${c}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,a);const{host:f}=new URL(u),g=Eo(f);return this.jo(e,u,h,r,g).then(y=>(et(N0,`Received RPC '${e}' ${c}: `,y),y),y=>{throw uo(N0,`RPC '${e}' ${c} failed with error: `,y,"url: ",u,"request:",r),y})}Jo(e,n,r,i,a,c){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=H9[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class G9 extends W9{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const c=My();return new Promise((u,h)=>{const f=new MT;f.setWithCredentials(!0),f.listenOnce(OT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bf.NO_ERROR:const y=f.getResponseJson();et(Tr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),u(y);break;case Bf.TIMEOUT:et(Tr,`RPC '${e}' ${c} timed out`),h(new He(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const v=f.getStatus();if(et(Tr,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const b=function(j){const M=j.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(M)>=0?M:xe.UNKNOWN}(S.status);h(new He(b,S.message))}else h(new He(xe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new He(xe.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{c_:e,streamId:c,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{et(Tr,`RPC '${e}' ${c} completed.`)}});const g=JSON.stringify(i);et(Tr,`RPC '${e}' ${c} sending request:`,i),f.send(n,"POST",g,r,15)})}P_(e,n,r){const i=My(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=FT(),u=VT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");et(Tr,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=c.createWebChannel(g,h);this.T_(y);let v=!1,w=!1;const S=new q9({Ho:N=>{w?et(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(et(Tr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),et(Tr,`RPC '${e}' stream ${i} sending:`,N),y.send(N))},Yo:()=>y.close()}),b=(N,j,M)=>{N.listen(j,O=>{try{M(O)}catch(U){setTimeout(()=>{throw U},0)}})};return b(y,Wu.EventType.OPEN,()=>{w||(et(Tr,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),b(y,Wu.EventType.CLOSE,()=>{w||(w=!0,et(Tr,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(y))}),b(y,Wu.EventType.ERROR,N=>{w||(w=!0,uo(Tr,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.__(new He(xe.UNAVAILABLE,"The operation could not be completed")))}),b(y,Wu.EventType.MESSAGE,N=>{var j;if(!w){const M=N.data[0];Xt(!!M,16349);const O=M,U=(O==null?void 0:O.error)||((j=O[0])===null||j===void 0?void 0:j.error);if(U){et(Tr,`RPC '${e}' stream ${i} received error:`,U);const B=U.status;let K=function(A){const k=Hn[A];if(k!==void 0)return bN(k)}(B),R=U.message;K===void 0&&(K=xe.INTERNAL,R="Unknown error status: "+B+" with message "+U.message),w=!0,S.__(new He(K,R)),y.close()}else et(Tr,`RPC '${e}' stream ${i} received:`,M),S.a_(M)}}),b(u,LT.STAT_EVENT,N=>{N.stat===Ey.PROXY?et(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Ey.NOPROXY&&et(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function C0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class MN{constructor(e,n,r,i,a,c,u,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new DN(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(xa(n.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new He(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return et(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(et(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K9 extends MN{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=e9(this.serializer,e),r=function(a){if(!("targetChange"in a))return kt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?kt.min():c.readTime?Ds(c.readTime):kt.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Ry(this.serializer),n.addTarget=function(a,c){let u;const h=c.target;if(u=Cy(h)?{documents:r9(a,h)}:{query:i9(a,h).Vt},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=EN(a,c.resumeToken);const f=jy(a,c.expectedCount);f!==null&&(u.expectedCount=f)}else if(c.snapshotVersion.compareTo(kt.min())>0){u.readTime=wp(a,c.snapshotVersion.toTimestamp());const f=jy(a,c.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=a9(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.k_(n)}}class X9 extends MN{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=n9(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Ry(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t9(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{}class Y9 extends Q9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Wo(e,Iy(n,r),i,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(xe.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Jo(e,Iy(n,r),i,c,u,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(xe.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class J9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xa(n),this._a=!1):et("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class Z9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Sl(this)&&(et(yl,"Restarting streams for network reachability change."),await async function(h){const f=Ct(h);f.Ia.add(4),await Qd(f),f.Aa.set("Unknown"),f.Ia.delete(4),await dm(f)}(this))})}),this.Aa=new J9(r,i)}}async function dm(t){if(Sl(t))for(const e of t.da)await e(!0)}async function Qd(t){for(const e of t.da)await e(!1)}function ON(t,e){const n=Ct(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),mx(n)?px(n):Zc(n).x_()&&fx(n,e))}function hx(t,e){const n=Ct(t),r=Zc(n);n.Ta.delete(e),r.x_()&&LN(n,e),n.Ta.size===0&&(r.x_()?r.B_():Sl(n)&&n.Aa.set("Unknown"))}function fx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zc(t).H_(e)}function LN(t,e){t.Ra.$e(e),Zc(t).Y_(e)}function px(t){t.Ra=new GD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Zc(t).start(),t.Aa.aa()}function mx(t){return Sl(t)&&!Zc(t).M_()&&t.Ta.size>0}function Sl(t){return Ct(t).Ia.size===0}function VN(t){t.Ra=void 0}async function eM(t){t.Aa.set("Online")}async function tM(t){t.Ta.forEach((e,n)=>{fx(t,e)})}async function nM(t,e){VN(t),mx(t)?(t.Aa.la(e),px(t)):t.Aa.set("Unknown")}async function rM(t,e,n){if(t.Aa.set("Online"),e instanceof _N&&e.state===2&&e.cause)try{await async function(i,a){const c=a.cause;for(const u of a.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.Ta.delete(u),i.Ra.removeTarget(u))}(t,e)}catch(r){et(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof Gf?t.Ra.Ye(e):e instanceof wN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(kt.min()))try{const r=await RN(t.localStore);n.compareTo(r)>=0&&await function(a,c){const u=a.Ra.Pt(c);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ta.get(f);g&&a.Ta.set(f,g.withResumeToken(h.resumeToken,c))}}),u.targetMismatches.forEach((h,f)=>{const g=a.Ta.get(h);if(!g)return;a.Ta.set(h,g.withResumeToken(wr.EMPTY_BYTE_STRING,g.snapshotVersion)),LN(a,h);const y=new ro(g.target,h,f,g.sequenceNumber);fx(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){et(yl,"Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!Yc(e))throw e;t.Ia.add(1),await Qd(t),t.Aa.set("Offline"),n||(n=()=>RN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et(yl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await dm(t)})}function FN(t,e){return e().catch(n=>Ep(t,n,e))}async function hm(t){const e=Ct(t),n=go(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jv;for(;iM(e);)try{const i=await F9(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,sM(e,i)}catch(i){await Ep(e,i)}UN(e)&&$N(e)}function iM(t){return Sl(t)&&t.Pa.length<10}function sM(t,e){t.Pa.push(e);const n=go(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function UN(t){return Sl(t)&&!go(t).M_()&&t.Pa.length>0}function $N(t){go(t).start()}async function aM(t){go(t).na()}async function oM(t){const e=go(t);for(const n of t.Pa)e.X_(n.mutations)}async function lM(t,e,n){const r=t.Pa.shift(),i=sx.from(r,e,n);await FN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hm(t)}async function cM(t,e){e&&go(t).Z_&&await async function(r,i){if(function(c){return WD(c)&&c!==xe.ABORTED}(i.code)){const a=r.Pa.shift();go(r).N_(),await FN(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await hm(r)}}(t,e),UN(t)&&$N(t)}async function T_(t,e){const n=Ct(t);n.asyncQueue.verifyOperationInProgress(),et(yl,"RemoteStore received new credentials");const r=Sl(n);n.Ia.add(3),await Qd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await dm(n)}async function uM(t,e){const n=Ct(t);e?(n.Ia.delete(2),await dm(n)):e||(n.Ia.add(2),await Qd(n),n.Aa.set("Unknown"))}function Zc(t){return t.Va||(t.Va=function(n,r,i){const a=Ct(n);return a.ia(),new K9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:eM.bind(null,t),e_:tM.bind(null,t),n_:nM.bind(null,t),J_:rM.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),mx(t)?px(t):t.Aa.set("Unknown")):(await t.Va.stop(),VN(t))})),t.Va}function go(t){return t.ma||(t.ma=function(n,r,i){const a=Ct(n);return a.ia(),new X9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:aM.bind(null,t),n_:cM.bind(null,t),ea:oM.bind(null,t),ta:lM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await hm(t)):(await t.ma.stop(),t.Pa.length>0&&(et(yl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,u=new gx(e,n,c,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yx(t,e){if(xa("AsyncQueue",`${e}: ${t}`),Yc(t))return new He(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{static emptySet(e){return new Pc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.fa=new Tn(pt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uc{constructor(e,n,r,i,a,c,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach(u=>{c.push({type:0,doc:u})}),new Uc(e,n,Pc.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class hM{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ct(n),a=i.queries;i.queries=C_(),a.forEach((c,u)=>{for(const h of u.wa)h.onError(r)})})(this,new He(xe.ABORTED,"Firestore shutting down"))}}function C_(){return new kl(t=>lN(t),sm)}async function vx(t,e){const n=Ct(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new dM,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=yx(c,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&bx(n)}async function xx(t,e){const n=Ct(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.wa.indexOf(e);c>=0&&(a.wa.splice(c,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fM(t,e){const n=Ct(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const u of c.wa)u.Ca(i)&&(r=!0);c.ya=i}}r&&bx(n)}function pM(t,e,n){const r=Ct(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function bx(t){t.Da.forEach(e=>{e.next()})}var Oy,A_;(A_=Oy||(Oy={})).Fa="default",A_.Cache="cache";class wx{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class mM{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=cN(e),this.eu=new Pc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new N_,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const v=i.get(g),w=am(this.query,y)?y:null,S=!!v&&this.mutatedKeys.has(v.key),b=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;v&&w?v.data.isEqual(w.data)?S!==b&&(r.track({type:3,doc:w}),N=!0):this.iu(v,w)||(r.track({type:2,doc:w}),N=!0,(h&&this.Xa(w,h)>0||f&&this.Xa(w,f)<0)&&(u=!0)):!v&&w?(r.track({type:0,doc:w}),N=!0):v&&!w&&(r.track({type:1,doc:v}),N=!0,(h||f)&&(u=!0)),N&&(w?(c=c.add(w),a=b?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:c,ru:r,Ds:u,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((g,y)=>function(w,S){const b=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{At:N})}};return b(w)-b(S)}(g.type,y.type)||this.Xa(g.doc,y.doc)),this.su(r),i=i!=null&&i;const u=n&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,f=h!==this.Ya;return this.Ya=h,c.length!==0||f?{snapshot:new Uc(this.query,e.eu,a,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new N_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new BN(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new zN(r))}),n}uu(e){this.Ha=e.qs,this.Za=Vt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Uc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const _x="SyncEngine";class gM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yM{constructor(e){this.key=e,this.lu=!1}}class vM{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new kl(u=>lN(u),sm),this.Tu=new Map,this.Iu=new Set,this.du=new Tn(pt.comparator),this.Eu=new Map,this.Au=new lx,this.Ru={},this.Vu=new Map,this.mu=Fc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function xM(t,e,n=!0){const r=XN(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await HN(r,e,n,!0),i}async function bM(t,e){const n=XN(t);await HN(n,e,!0,!1)}async function HN(t,e,n,r){const i=await U9(t.localStore,Rs(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await wM(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&ON(t.remoteStore,i),u}async function wM(t,e,n,r,i){t.gu=(y,v,w)=>async function(b,N,j,M){let O=N.view.nu(j);O.Ds&&(O=await w_(b.localStore,N.query,!1).then(({documents:R})=>N.view.nu(R,O)));const U=M&&M.targetChanges.get(N.targetId),B=M&&M.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(O,b.isPrimaryClient,U,B);return I_(b,N.targetId,K._u),K.snapshot}(t,y,v,w);const a=await w_(t.localStore,e,!0),c=new mM(e,a.qs),u=c.nu(a.documents),h=Xd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=c.applyChanges(u,t.isPrimaryClient,h);I_(t,n,f._u);const g=new gM(e,n,c);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function _M(t,e,n){const r=Ct(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(c=>!sm(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hx(r.remoteStore,i.targetId),Ly(r,i.targetId)}).catch(Qc)):(Ly(r,i.targetId),await Dy(r.localStore,i.targetId,!0))}async function EM(t,e){const n=Ct(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hx(n.remoteStore,r.targetId))}async function kM(t,e,n){const r=IM(t);try{const i=await function(c,u){const h=Ct(c),f=hn.now(),g=u.reduce((w,S)=>w.add(S.key),Vt());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=ba(),b=Vt();return h.Os.getEntries(w,g).next(N=>{S=N,S.forEach((j,M)=>{M.isValidDocument()||(b=b.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,S)).next(N=>{y=N;const j=[];for(const M of u){const O=UD(M,y.get(M.key).overlayedDocument);O!=null&&j.push(new To(M.key,O,eN(O.value.mapValue),Li.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,j,u)}).next(N=>{v=N;const j=N.applyToLocalDocumentSet(y,b);return h.documentOverlayCache.saveOverlays(w,N.batchId,j)})}).then(()=>({batchId:v.batchId,changes:dN(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,h){let f=c.Ru[c.currentUser.toKey()];f||(f=new Tn(Mt)),f=f.insert(u,h),c.Ru[c.currentUser.toKey()]=f}(r,i.batchId,n),await Yd(r,i.changes),await hm(r.remoteStore)}catch(i){const a=yx(i,"Failed to persist write");n.reject(a)}}async function WN(t,e){const n=Ct(t);try{const r=await L9(n.localStore,e);e.targetChanges.forEach((i,a)=>{const c=n.Eu.get(a);c&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.lu=!0:i.modifiedDocuments.size>0?Xt(c.lu,14607):i.removedDocuments.size>0&&(Xt(c.lu,42227),c.lu=!1))}),await Yd(n,r,e)}catch(r){await Qc(r)}}function j_(t,e,n){const r=Ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,c)=>{const u=c.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(c,u){const h=Ct(c);h.onlineState=u;let f=!1;h.queries.forEach((g,y)=>{for(const v of y.wa)v.va(u)&&(f=!0)}),f&&bx(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SM(t,e,n){const r=Ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let c=new Tn(pt.comparator);c=c.insert(a,jr.newNoDocument(a,kt.min()));const u=Vt().add(a),h=new cm(kt.min(),new Map,new Tn(Mt),c,u);await WN(r,h),r.du=r.du.remove(a),r.Eu.delete(e),Ex(r)}else await Dy(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(Qc)}async function TM(t,e){const n=Ct(t),r=e.batch.batchId;try{const i=await O9(n.localStore,e);GN(n,r,null),qN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await Qc(i)}}async function NM(t,e,n){const r=Ct(t);try{const i=await function(c,u){const h=Ct(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(Xt(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);GN(r,e,n),qN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,i)}catch(i){await Qc(i)}}function qN(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function GN(t,e,n){const r=Ct(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||KN(t,r)})}function KN(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Ex(t))}function I_(t,e,n){for(const r of n)r instanceof zN?(t.Au.addReference(r.key,e),CM(t,r)):r instanceof BN?(et(_x,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||KN(t,r.key)):xt(19791,{yu:r})}function CM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(et(_x,"New document in limbo: "+n),t.Iu.add(r),Ex(t))}function Ex(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new pt(on.fromString(e)),r=t.mu.next();t.Eu.set(r,new yM(n)),t.du=t.du.insert(n,r),ON(t.remoteStore,new ro(Rs(im(n.path)),r,"TargetPurposeLimboResolution",tm.ue))}}async function Yd(t,e,n){const r=Ct(t),i=[],a=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{c.push(r.gu(h,e,n).then(f=>{var g;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){i.push(f);const y=ux.Es(h.targetId,f);a.push(y)}}))}),await Promise.all(c),r.hu.J_(i),await async function(h,f){const g=Ct(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_e.forEach(f,v=>_e.forEach(v.Is,w=>g.persistence.referenceDelegate.addReference(y,v.targetId,w)).next(()=>_e.forEach(v.ds,w=>g.persistence.referenceDelegate.removeReference(y,v.targetId,w)))))}catch(y){if(!Yc(y))throw y;et(dx,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const w=g.Fs.get(v),S=w.snapshotVersion,b=w.withLastLimboFreeSnapshotVersion(S);g.Fs=g.Fs.insert(v,b)}}}(r.localStore,a))}async function AM(t,e){const n=Ct(t);if(!n.currentUser.isEqual(e)){et(_x,"User change. New user:",e.toKey());const r=await PN(n.localStore,e);n.currentUser=e,function(a,c){a.Vu.forEach(u=>{u.forEach(h=>{h.reject(new He(xe.CANCELLED,c))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Bs)}}function jM(t,e){const n=Ct(t),r=n.Eu.get(e);if(r&&r.lu)return Vt().add(r.key);{let i=Vt();const a=n.Tu.get(e);if(!a)return i;for(const c of a){const u=n.Pu.get(c);i=i.unionWith(u.view.tu)}return i}}function XN(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SM.bind(null,e),e.hu.J_=fM.bind(null,e.eventManager),e.hu.pu=pM.bind(null,e.eventManager),e}function IM(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NM.bind(null,e),e}class kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return M9(this.persistence,new P9,e.initialUser,this.serializer)}Du(e){return new IN(cx.Vi,this.serializer)}bu(e){return new z9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kp.provider={build:()=>new kp};class PM extends kp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Xt(this.persistence.referenceDelegate instanceof _p,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y9(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new IN(r=>_p.Vi(r,n),this.serializer)}}class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hM}()}createDatastore(e){const n=um(e.databaseInfo.databaseId),r=function(a){return new G9(a)}(e.databaseInfo);return function(a,c,u,h){return new Y9(a,c,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,c,u){return new Z9(r,i,a,c,u)}(this.localStore,this.datastore,e.asyncQueue,n=>j_(this.syncEngine,n,0),function(){return k_.C()?new k_:new B9}())}createSyncEngine(e,n){return function(i,a,c,u,h,f,g){const y=new vM(i,a,c,u,h,f);return g&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ct(i);et(yl,"RemoteStore shutting down."),a.Ia.add(5),await Qd(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class RM{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async c=>{et(yo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(et(yo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function A0(t,e){t.asyncQueue.verifyOperationInProgress(),et(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{uo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{et("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{uo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DM(t);et(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>T_(e.remoteStore,i)),t._onlineComponents=e}async function DM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et(yo,"Using user provided OfflineComponentProvider");try{await A0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await A0(t,new kp)}}else et(yo,"Using default OfflineComponentProvider"),await A0(t,new PM(void 0));return t._offlineComponents}async function QN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et(yo,"Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(et(yo,"Using default OnlineComponentProvider"),await P_(t,new Vy))),t._onlineComponents}function MM(t){return QN(t).then(e=>e.syncEngine)}async function Sp(t){const e=await QN(t),n=e.eventManager;return n.onListen=xM.bind(null,e.syncEngine),n.onUnlisten=_M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EM.bind(null,e.syncEngine),n}function OM(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,u,h,f){const g=new kx({next:v=>{g.Ou(),c.enqueueAndForget(()=>xx(a,y));const w=v.docs.has(u);!w&&v.fromCache?f.reject(new He(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&h&&h.source==="server"?f.reject(new He(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new wx(im(u.path),g,{includeMetadataChanges:!0,ka:!0});return vx(a,y)}(await Sp(t),t.asyncQueue,e,n,r)),r.promise}function LM(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,u,h,f){const g=new kx({next:v=>{g.Ou(),c.enqueueAndForget(()=>xx(a,y)),v.fromCache&&h.source==="server"?f.reject(new He(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new wx(u,g,{includeMetadataChanges:!0,ka:!0});return vx(a,y)}(await Sp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firestore.googleapis.com",D_=!0;class M_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new He(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=D_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m9)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B6;switch(r.type){case"firstParty":return new G6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R_.get(n);r&&(et("ComponentProvider","Removing Datastore"),R_.delete(n),r.terminate())}(this),Promise.resolve()}}function VM(t,e,n,r={}){var i;t=si(t,fm);const a=Eo(e),c=t._getSettings(),u=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(Ov(`https://${h}`),Lv("Firestore",!0)),c.host!==JN&&c.host!==h&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},c),{host:h,ssl:a,emulatorOptions:r});if(!hl(f,u)&&(t._setSettings(f),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Ar.MOCK_USER;else{g=KS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new He(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ar(v)}t._authCredentials=new H6(new $T(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,Mn._jsonSchema))return new Mn(e,r||null,new pt(on.fromString(n.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Qn("string",Mn._jsonSchemaVersion),referencePath:Qn("string")};class lo extends Na{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new pt(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function Ft(t,e,...n){if(t=cn(t),BT("collection","path",e),t instanceof fm){const r=on.fromString(e,...n);return K2(r),new lo(t,null,r)}{if(!(t instanceof Mn||t instanceof lo))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return K2(r),new lo(t.firestore,null,r)}}function dt(t,e,...n){if(t=cn(t),arguments.length===1&&(e=Yv.newId()),BT("doc","path",e),t instanceof fm){const r=on.fromString(e,...n);return G2(r),new Mn(t,null,new pt(r))}{if(!(t instanceof Mn||t instanceof lo))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return G2(r),new Mn(t.firestore,t instanceof lo?t.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new DN(this,"async_queue_retry"),this.oc=()=>{const r=C0();r&&et(O_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=C0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=C0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ma;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Yc(e))throw e;et(O_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,xa("INTERNAL UNHANDLED ERROR: ",V_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=gx.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&xt(47125,{hc:V_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function V_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class wa extends fm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new L_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function FM(t,e){const n=typeof t=="object"?t:Uv(),r=typeof t=="string"?t:gp,i=Qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=WS("firestore");a&&VM(i,...a)}return i}function pm(t){if(t._terminated)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UM(t),t._firestoreClient}function UM(t){var e,n,r;const i=t._freezeSettings(),a=function(u,h,f,g){return new uD(u,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,YN(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RM(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(wr.fromBase64String(e))}catch(n){throw new He(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Qn("string",Mi._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,Ms._jsonSchema))return new Ms(e.latitude,e.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:Qn("string",Ms._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,Os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Os(e.vectorValues);throw new He(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:Qn("string",Os._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/^__.*__$/;class zM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}class ZN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ec:t})}}class Sx{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Tp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(eC(this.Ec)&&$M.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class BM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||um(e)}Dc(e,n,r,i=!1){return new Sx({Ec:e,methodName:n,bc:r,path:xr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(t){const e=t._freezeSettings(),n=um(t._databaseId);return new BM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tC(t,e,n,r,i,a={}){const c=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);Nx("Data must be an object, but it was:",c,r);const u=nC(r,c);let h,f;if(a.merge)h=new yi(c.fieldMask),f=c.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const v=Fy(e,y,n);if(!c.contains(v))throw new He(xe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);iC(g,v)||g.push(v)}h=new yi(g),f=c.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=c.fieldTransforms;return new zM(new ri(u),h,f)}class vm extends gm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class Tx extends gm{_toFieldTransform(e){return new OD(e.path,new _d)}isEqual(e){return e instanceof Tx}}function HM(t,e,n,r){const i=t.Dc(1,e,n);Nx("Data must be an object, but it was:",i,r);const a=[],c=ri.empty();So(r,(h,f)=>{const g=Cx(e,h,n);f=cn(f);const y=i.gc(g);if(f instanceof vm)a.push(g);else{const v=Jd(f,y);v!=null&&(a.push(g),c.set(g,v))}});const u=new yi(a);return new ZN(c,u,i.fieldTransforms)}function WM(t,e,n,r,i,a){const c=t.Dc(1,e,n),u=[Fy(e,r,n)],h=[i];if(a.length%2!=0)throw new He(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(Fy(e,a[v])),h.push(a[v+1]);const f=[],g=ri.empty();for(let v=u.length-1;v>=0;--v)if(!iC(f,u[v])){const w=u[v];let S=h[v];S=cn(S);const b=c.gc(w);if(S instanceof vm)f.push(w);else{const N=Jd(S,b);N!=null&&(f.push(w),g.set(w,N))}}const y=new yi(f);return new ZN(g,y,c.fieldTransforms)}function qM(t,e,n,r=!1){return Jd(n,t.Dc(r?4:3,e))}function Jd(t,e){if(rC(t=cn(t)))return Nx("Unsupported field value:",e,t),nC(t,e);if(t instanceof gm)return function(r,i){if(!eC(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let c=0;for(const u of r){let h=Jd(u,i.yc(c));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),c++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=hn.fromDate(r);return{timestampValue:wp(i.serializer,a)}}if(r instanceof hn){const a=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,a)}}if(r instanceof Ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:EN(i.serializer,r._byteString)};if(r instanceof Mn){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ox(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Os)return function(c,u){return{mapValue:{fields:{[JT]:{stringValue:ZT},[yp]:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return rx(u.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${em(r)}`)}(t,e)}function nC(t,e){const n={};return qT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const a=Jd(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function rC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof Ms||t instanceof Mi||t instanceof Mn||t instanceof gm||t instanceof Os)}function Nx(t,e,n){if(!rC(n)||!HT(n)){const r=em(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Fy(t,e,n){if((e=cn(e))instanceof mm)return e._internalPath;if(typeof e=="string")return Cx(t,e);throw Tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const GM=new RegExp("[~\\*/\\[\\]]");function Cx(t,e,n){if(e.search(GM)>=0)throw Tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw Tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tp(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||c)&&(h+=" (found",a&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new He(xe.INVALID_ARGUMENT,u+t+h)}function iC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KM extends sC{data(){return super.data()}}function xm(t,e){return typeof e=="string"?Cx(t,e):e instanceof mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new He(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ax{}class jx extends Ax{}function ln(t,e,...n){let r=[];e instanceof Ax&&r.push(e),r=r.concat(n),function(a){const c=a.filter(h=>h instanceof Ix).length,u=a.filter(h=>h instanceof bm).length;if(c>1||c>0&&u>0)throw new He(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bm extends jx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bm(e,n,r)}_apply(e){const n=this._parse(e);return oC(e._query,n),new Na(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=ym(e.firestore);return function(a,c,u,h,f,g,y){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new He(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){$_(y,g);const S=[];for(const b of y)S.push(U_(h,a,b));v={arrayValue:{values:S}}}else v=U_(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$_(y,g),v=qM(u,c,y,g==="in"||g==="not-in");return Xn.create(f,g,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const r=e,i=xm("where",t);return bm._create(i,r,n)}class Ix extends Ax{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ix(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let c=i;const u=a.getFlattenedFilters();for(const h of u)oC(c,h),c=Ay(c,h)}(e._query,n),new Na(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Px extends jx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Px(e,n)}_apply(e){const n=function(i,a,c){if(i.startAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(a,c)}(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,function(i,a){const c=i.explicitOrderBy.concat([a]);return new Jc(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Bs(t,e="asc"){const n=e,r=xm("orderBy",t);return Px._create(r,n)}class Rx extends jx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rx(e,n,r)}_apply(e){return new Na(e.firestore,e.converter,xp(e._query,this._limit,this._limitType))}}function wm(t){return Z6("limit",t),Rx._create("limit",t,"F")}function U_(t,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new He(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oN(e)&&n.indexOf("/")!==-1)throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(on.fromString(n));if(!pt.isDocumentKey(r))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n_(t,new pt(r))}if(n instanceof Mn)return n_(t,n._key);throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(n)}.`)}function $_(t,e){if(!Array.isArray(t)||t.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(t,e){const n=function(i,a){for(const c of i)for(const u of c.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XM{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[yp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>Fn(c.doubleValue));return new Os(a)}convertGeoPoint(e){return new Ms(Fn(e.latitude),Fn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const n=fo(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=on.fromString(e);Xt(AN(r),9688,{name:e});const i=new xd(r.get(1),r.get(3)),a=new pt(r.popFirst(5));return i.isEqual(n)||xa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends sC{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=al._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}al._jsonSchemaVersion="firestore/documentSnapshot/1.0",al._jsonSchema={type:Qn("string",al._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class Kf extends al{data(e={}){return super.data(e)}}class ol{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kf(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(u=>{const h=new Kf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ku(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Kf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ku(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:QM(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){t=si(t,Mn);const e=si(t.firestore,wa);return OM(pm(e),t._key).then(n=>cC(e,t,n))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:Qn("string",ol._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class Dx extends XM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function Ir(t){t=si(t,Na);const e=si(t.firestore,wa),n=pm(e),r=new Dx(e);return aC(t._query),LM(n,t._query).then(i=>new ol(e,r,t,i))}function Gn(t,e,n){t=si(t,Mn);const r=si(t.firestore,wa),i=lC(t.converter,e,n);return km(r,[tC(ym(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Li.none())])}function Wn(t,e,n,...r){t=si(t,Mn);const i=si(t.firestore,wa),a=ym(i);let c;return c=typeof(e=cn(e))=="string"||e instanceof mm?WM(a,"updateDoc",t._key,e,n,r):HM(a,"updateDoc",t._key,e),km(i,[c.toMutation(t._key,Li.exists(!0))])}function _m(t){return km(si(t.firestore,wa),[new ix(t._key,Li.none())])}function Em(t,e){const n=si(t.firestore,wa),r=dt(t),i=lC(t.converter,e);return km(n,[tC(ym(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then(()=>r)}function cr(t,...e){var n,r,i;t=cn(t);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||F_(e[c])||(a=e[c++]);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(F_(e[c])){const y=e[c];e[c]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[c+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[c+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let h,f,g;if(t instanceof Mn)f=si(t.firestore,wa),g=im(t._key.path),h={next:y=>{e[c]&&e[c](cC(f,t,y))},error:e[c+1],complete:e[c+2]};else{const y=si(t,Na);f=si(y.firestore,wa),g=y._query;const v=new Dx(f);h={next:w=>{e[c]&&e[c](new ol(f,v,y,w))},error:e[c+1],complete:e[c+2]},aC(t._query)}return function(v,w,S,b){const N=new kx(b),j=new wx(w,N,S);return v.asyncQueue.enqueueAndForget(async()=>vx(await Sp(v),j)),()=>{N.Ou(),v.asyncQueue.enqueueAndForget(async()=>xx(await Sp(v),j))}}(pm(f),g,u,h)}function km(t,e){return function(r,i){const a=new ma;return r.asyncQueue.enqueueAndForget(async()=>kM(await MM(r),i,a)),a.promise}(pm(t),e)}function cC(t,e,n){const r=n.docs.get(e._key),i=new Dx(t);return new al(t,i,e._key,r,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}function uC(){return new Tx("serverTimestamp")}(function(e,n=!0){(function(i){Xc=i})(wl),fl(new co("firestore",(r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),u=new wa(new W6(r.getProvider("auth-internal")),new K6(c,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new He(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(f.options.projectId,g)}(c,i),c);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),js(z2,B2,e),js(z2,B2,"esm2017")})();var YM="firebase",JM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(YM,JM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebasestorage.googleapis.com",hC="storageBucket",ZM=2*60*1e3,eO=10*60*1e3,tO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Ws{constructor(e,n,r=0){super(j0(e),`Firebase Storage: ${n} (${j0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return j0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pn||(pn={}));function j0(t){return"storage/"+t}function Mx(){const t="An unknown error occurred, please check the error payload for server response.";return new Nn(pn.UNKNOWN,t)}function nO(t){return new Nn(pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rO(t){return new Nn(pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nn(pn.UNAUTHENTICATED,t)}function sO(){return new Nn(pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aO(t){return new Nn(pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fC(){return new Nn(pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pC(){return new Nn(pn.CANCELED,"User canceled the upload/download.")}function oO(t){return new Nn(pn.INVALID_URL,"Invalid URL '"+t+"'.")}function lO(t){return new Nn(pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cO(){return new Nn(pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hC+"' property when initializing the app?")}function mC(){return new Nn(pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uO(){return new Nn(pn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function dO(){return new Nn(pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hO(t){return new Nn(pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uy(t){return new Nn(pn.INVALID_ARGUMENT,t)}function gC(){return new Nn(pn.APP_DELETED,"The Firebase app was deleted.")}function fO(t){return new Nn(pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function id(t,e){return new Nn(pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lu(t){throw new Nn(pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vi.makeFromUrl(e,n)}catch{return new vi(e,"")}if(r.path==="")return r;throw lO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+i+c,"i"),h={bucket:1,path:3};function f(U){U.path_=decodeURIComponent(U.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",w=new RegExp(`^https?://${y}/${g}/b/${i}/o${v}`,"i"),S={bucket:1,path:3},b=n===dC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",j=new RegExp(`^https?://${b}/${i}/${N}`,"i"),O=[{regex:u,indices:h,postModify:a},{regex:w,indices:S,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let U=0;U<O.length;U++){const B=O[U],K=B.regex.exec(e);if(K){const R=K[B.indices.bucket];let I=K[B.indices.path];I||(I=""),r=new vi(R,I),B.postModify(r);break}}if(r==null)throw oO(e);return r}}class pO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e,n){let r=1,i=null,a=null,c=!1,u=0;function h(){return u===2}let f=!1;function g(...N){f||(f=!0,e.apply(null,N))}function y(N){i=setTimeout(()=>{i=null,t(w,h())},N)}function v(){a&&clearTimeout(a)}function w(N,...j){if(f){v();return}if(N){v(),g.call(null,N,...j);return}if(h()||c){v(),g.call(null,N,...j);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,y(O)}let S=!1;function b(N){S||(S=!0,v(),!f&&(i!==null?(N||(u=2),clearTimeout(i),y(0)):N||(u=1)))}return y(0),a=setTimeout(()=>{c=!0,b(!0)},n),b}function gO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return t!==void 0}function vO(t){return typeof t=="function"}function xO(t){return typeof t=="object"&&!Array.isArray(t)}function Sm(t){return typeof t=="string"||t instanceof String}function z_(t){return Ox()&&t instanceof Blob}function Ox(){return typeof Blob<"u"}function B_(t,e,n,r){if(r<e)throw Uy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Uy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ll;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ll||(ll={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i,a,c,u,h,f,g,y,v=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,b)=>{this.resolve_=S,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const u=a.getErrorCode()===ll.NO_ERROR,h=a.getStatus();if(!u||vC(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ll.ABORT;r(!1,new xf(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new xf(f,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());yO(h)?a(h):a()}catch(h){c(h)}else if(u!==null){const h=Mx();h.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,h)):c(h)}else if(i.canceled){const h=this.appDelete_?gC():pC();c(h)}else{const h=fC();c(h)}};this.canceled_?n(!1,new xf(!1,null,!0)):this.backoffId_=mO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _O(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SO(t,e,n,r,i,a,c=!0,u=!1){const h=yC(t.urlParams),f=t.url+h,g=Object.assign({},t.headers);return EO(g,e),wO(g,n),_O(g,a),kO(g,r),new bO(f,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NO(...t){const e=TO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ox())return new Blob(t);throw new Nn(pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){if(typeof atob>"u")throw hO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class I0{constructor(e,n){this.data=e,this.contentType=n||null}}function jO(t,e){switch(t){case As.RAW:return new I0(xC(e));case As.BASE64:case As.BASE64URL:return new I0(bC(t,e));case As.DATA_URL:return new I0(PO(e),RO(e))}throw Mx()}function xC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function IO(t){let e;try{e=decodeURIComponent(t)}catch{throw id(As.DATA_URL,"Malformed data URL.")}return xC(e)}function bC(t,e){switch(t){case As.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw id(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case As.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw id(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AO(e)}catch(i){throw i.message.includes("polyfill")?i:id(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw id(As.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=DO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PO(t){const e=new wC(t);return e.base64?bC(As.BASE64,e.rest):IO(e.rest)}function RO(t){return new wC(t).contentType}function DO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){let r=0,i="";z_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(z_(this.data_)){const r=this.data_,i=CO(r,e,n);return i===null?null:new da(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new da(r,!0)}}static getBlob(...e){if(Ox()){const n=e.map(r=>r instanceof da?r.data_:r);return new da(NO.apply(null,n))}else{const n=e.map(c=>Sm(c)?jO(As.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)i[a++]=c[u]}),new da(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){let e;try{e=JSON.parse(t)}catch{return null}return xO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){return e}class $r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||LO}}let bf=null;function VO(t){return!Sm(t)||t.length<2?t:EC(t)}function Lx(){if(bf)return bf;const t=[];t.push(new $r("bucket")),t.push(new $r("generation")),t.push(new $r("metageneration")),t.push(new $r("name","fullPath",!0));function e(a,c){return VO(c)}const n=new $r("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const i=new $r("size");return i.xform=r,t.push(i),t.push(new $r("timeCreated")),t.push(new $r("updated")),t.push(new $r("md5Hash",null,!0)),t.push(new $r("cacheControl",null,!0)),t.push(new $r("contentDisposition",null,!0)),t.push(new $r("contentEncoding",null,!0)),t.push(new $r("contentLanguage",null,!0)),t.push(new $r("contentType",null,!0)),t.push(new $r("metadata","customMetadata",!0)),bf=t,bf}function FO(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new vi(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function UO(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return FO(r,t),r}function kC(t,e,n){const r=_C(e);return r===null?null:UO(t,r,n)}function $O(t,e,n,r){const i=_C(e);if(i===null||!Sm(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(f=>{const g=t.bucket,y=t.fullPath,v="/b/"+c(g)+"/o/"+c(y),w=eu(v,n,r),S=yC({alt:"media",token:f});return w+S})[0]}function SC(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Tl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(!t)throw Mx()}function Vx(t,e){function n(r,i){const a=kC(t,i,e);return ga(a!==null),a}return n}function zO(t,e){function n(r,i){const a=kC(t,i,e);return ga(a!==null),$O(a,i,t.host,t._protocol)}return n}function Zd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=sO():i=iO():n.getStatus()===402?i=rO(t.bucket):n.getStatus()===403?i=aO(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Fx(t){const e=Zd(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=nO(t.path)),a.serverResponse=i.serverResponse,a}return n}function BO(t,e,n){const r=e.fullServerUrl(),i=eu(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,u=new Tl(i,a,Vx(t,n),c);return u.errorHandler=Fx(e),u}function HO(t,e,n){const r=e.fullServerUrl(),i=eu(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,u=new Tl(i,a,zO(t,n),c);return u.errorHandler=Fx(e),u}function WO(t,e){const n=e.fullServerUrl(),r=eu(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function c(h,f){}const u=new Tl(r,i,c,a);return u.successCodes=[200,204],u.errorHandler=Fx(e),u}function qO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function TC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=qO(null,e)),r}function NC(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let U=0;U<2;U++)O=O+Math.random().toString().slice(2);return O}const h=u();c["Content-Type"]="multipart/related; boundary="+h;const f=TC(e,r,i),g=SC(f,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",w=da.getBlob(y,r,v);if(w===null)throw mC();const S={name:f.fullPath},b=eu(a,t.host,t._protocol),N="POST",j=t.maxUploadRetryTime,M=new Tl(b,N,Vx(t,n),j);return M.urlParams=S,M.headers=c,M.body=w.uploadData(),M.errorHandler=Zd(e),M}class Np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Ux(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ga(!1)}return ga(!!n&&(e||["active"]).indexOf(n)!==-1),n}function GO(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),c=TC(e,r,i),u={name:c.fullPath},h=eu(a,t.host,t._protocol),f="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},y=SC(c,n),v=t.maxUploadRetryTime;function w(b){Ux(b);let N;try{N=b.getResponseHeader("X-Goog-Upload-URL")}catch{ga(!1)}return ga(Sm(N)),N}const S=new Tl(h,f,w,v);return S.urlParams=u,S.headers=g,S.body=y,S.errorHandler=Zd(e),S}function KO(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(f){const g=Ux(f,["active","final"]);let y=null;try{y=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ga(!1)}y||ga(!1);const v=Number(y);return ga(!isNaN(v)),new Np(v,r.size(),g==="final")}const c="POST",u=t.maxUploadRetryTime,h=new Tl(n,c,a,u);return h.headers=i,h.errorHandler=Zd(e),h}const H_=256*1024;function XO(t,e,n,r,i,a,c,u){const h=new Np(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw uO();const f=h.total-h.current;let g=f;i>0&&(g=Math.min(g,i));const y=h.current,v=y+g;let w="";g===0?w="finalize":f===g?w="upload, finalize":w="upload";const S={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${h.current}`},b=r.slice(y,v);if(b===null)throw mC();function N(U,B){const K=Ux(U,["active","final"]),R=h.current+g,I=r.size();let A;return K==="final"?A=Vx(e,a)(U,B):A=null,new Np(R,I,K==="final",A)}const j="POST",M=e.maxUploadRetryTime,O=new Tl(n,j,N,M);return O.headers=S,O.body=b.uploadData(),O.progressCallback=u||null,O.errorHandler=Zd(t),O}const ni={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function P0(t){switch(t){case"running":case"pausing":case"canceling":return ni.RUNNING;case"paused":return ni.PAUSED;case"success":return ni.SUCCESS;case"canceled":return ni.CANCELED;case"error":return ni.ERROR;default:return ni.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r){if(vO(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class YO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ll.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ll.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ll.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Lu("cannot .send() more than once");if(Eo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JO extends YO{initXhr(){this.xhr_.responseType="text"}}function to(){return new JO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Lx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(pn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(vC(i.status,[]))if(a)i=fC();else{this.sleepTime=Math.max(this.sleepTime*2,tO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(pn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=GO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,to,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=KO(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,to,n,r);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=H_*this._chunkMultiplier,n=new Np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let c;try{c=XO(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const u=this._ref.storage._makeRequest(c,to,i,a,!1);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){H_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=BO(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,to,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=NC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,to,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=pC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=P0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new QO(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(P0(this._state)){case ni.SUCCESS:cc(this._resolve.bind(null,this.snapshot))();break;case ni.CANCELED:case ni.ERROR:const n=this._reject;cc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(P0(this._state)){case ni.RUNNING:case ni.PAUSED:e.next&&cc(e.next.bind(e,this.snapshot))();break;case ni.SUCCESS:e.complete&&cc(e.complete.bind(e))();break;case ni.CANCELED:case ni.ERROR:e.error&&cc(e.error.bind(e,this._error))();break;default:e.error&&cc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this._service=e,n instanceof vi?this._location=n:this._location=vi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vl(e,n)}get root(){const e=new vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EC(this._location.path)}get storage(){return this._service}get parent(){const e=MO(this._location.path);if(e===null)return null;const n=new vi(this._location.bucket,e);return new vl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fO(e)}}function eL(t,e,n){t._throwIfRoot("uploadBytes");const r=NC(t.storage,t._location,Lx(),new da(e,!0),n);return t.storage.makeRequestWithTokens(r,to).then(i=>({metadata:i,ref:t}))}function tL(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ZO(t,new da(e),n)}function nL(t){t._throwIfRoot("getDownloadURL");const e=HO(t.storage,t._location,Lx());return t.storage.makeRequestWithTokens(e,to).then(n=>{if(n===null)throw dO();return n})}function rL(t){t._throwIfRoot("deleteObject");const e=WO(t.storage,t._location);return t.storage.makeRequestWithTokens(e,to)}function iL(t,e){const n=OO(t._location.path,e),r=new vi(t._location.bucket,n);return new vl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){return/^[A-Za-z]+:\/\//.test(t)}function aL(t,e){return new vl(t,e)}function CC(t,e){if(t instanceof $x){const n=t;if(n._bucket==null)throw cO();const r=new vl(n,n._bucket);return e!=null?CC(r,e):r}else return e!==void 0?iL(t,e):t}function oL(t,e){if(e&&sL(e)){if(t instanceof $x)return aL(t,e);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}else return CC(t,e)}function W_(t,e){const n=e==null?void 0:e[hC];return n==null?null:vi.makeFromBucketSpec(n,t)}function lL(t,e,n,r={}){t.host=`${e}:${n}`;const i=Eo(e);i&&(Ov(`https://${t.host}/b`),Lv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:KS(a,t.app.options.projectId))}class $x{constructor(e,n,r,i,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=dC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZM,this._maxUploadRetryTime=eO,this._requests=new Set,i!=null?this._bucket=vi.makeFromBucketSpec(i,this._host):this._bucket=W_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,e):this._bucket=W_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new pO(gC());{const c=SO(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const q_="@firebase/storage",G_="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="storage";function zx(t,e,n){return t=cn(t),eL(t,e,n)}function K_(t,e,n){return t=cn(t),tL(t,e,n)}function tl(t){return t=cn(t),nL(t)}function cL(t){return t=cn(t),rL(t)}function ns(t,e){return t=cn(t),oL(t,e)}function uL(t=Uv(),e){t=cn(t);const r=Qp(t,AC).getImmediate({identifier:e}),i=WS("storage");return i&&dL(r,...i),r}function dL(t,e,n,r={}){lL(t,e,n,r)}function hL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $x(n,r,i,e,wl)}function fL(){fl(new co(AC,hL,"PUBLIC").setMultipleInstances(!0)),js(q_,G_,""),js(q_,G_,"esm2017")}fL();const pL={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.firebasestorage.app",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},Bx=YS(pL),Re=FM(Bx),Ko=$6(Bx),rs=uL(Bx);function X_(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="0123456789";let n="USER-";for(let r=0;r<3;r++)n+=t.charAt(Math.floor(Math.random()*t.length));for(let r=0;r<3;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}const jC=T.createContext();function Hr(){return T.useContext(jC)}function IC({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(null),[a,c]=T.useState(!0);T.useEffect(()=>{let b=null;const N=AR(Ko,async j=>{if(b){try{b()}catch{}b=null}if(n(j),!j){i(null),c(!1);return}try{const M=dt(Re,"users",j.uid),O=dt(Re,"usuarios",j.uid),[U,B]=await Promise.all([ss(M),ss(O)]);let K=null;if(U.exists())K=M;else if(B.exists())K=O;else{const I={telefono:"",direccion:"",admin:!1,role:"buyer",isSeller:!1,storeName:"",storeDescription:"",storeImage:"",storePhone:"",storeAddress:"",codigo:X_(),displayName:j.displayName||"",email:j.email||"",createdAt:new Date};try{await Gn(M,I,{merge:!0})}catch(A){console.warn("No fue posible crear users/{uid} automáticamente:",A)}K=M}b=cr(K,R=>{if(R.exists()){const I=R.data()||{},A={uid:j.uid,...I,displayName:j.displayName||I.displayName||"",email:j.email||I.email||"",isAdmin:I.admin===!0,role:I.role||"buyer",isSeller:I.isSeller===!0||I.role==="seller",storeName:I.storeName||"",storeDescription:I.storeDescription||"",storeImage:I.storeImage||"",storePhone:I.storePhone||"",storeAddress:I.storeAddress||""};i(A)}else{const I={uid:j.uid,telefono:"",direccion:"",admin:!1,codigo:"",displayName:j.displayName||"",email:j.email||j.email,isAdmin:!1};i(I)}c(!1)},R=>{console.error("onSnapshot usuario error:",R),c(!1)})}catch(M){console.error("Error inicializando listener de usuario:",M);try{const O=dt(Re,"users",j.uid),U=await ss(O),B=U.exists()?U.data():{},K={uid:j.uid,...B,displayName:j.displayName||B.displayName||"",email:j.email||B.email||"",isAdmin:B.admin===!0};i(K)}catch(O){console.error("Fallback read error:",O),i({uid:j.uid,displayName:j.displayName||"",email:j.email||"",telefono:"",direccion:"",isAdmin:!1,codigo:""})}finally{c(!1)}}});return()=>{try{N()}catch{}if(b)try{b()}catch{}}},[]);async function u(b,N,j){const M=await kR(Ko,b,N);await Ic(M.user,{displayName:j});const O=X_(),U={telefono:"",direccion:"",admin:!1,role:"buyer",isSeller:!1,storeName:"",storeDescription:"",storeImage:"",storePhone:"",storeAddress:"",codigo:O,displayName:j,email:b,createdAt:new Date};await Gn(dt(Re,"users",M.user.uid),U,{merge:!0}),n(Ko.currentUser),i({uid:M.user.uid,telefono:"",direccion:"",admin:!1,role:"buyer",isSeller:!1,storeName:"",storeDescription:"",storeImage:"",storePhone:"",storeAddress:"",codigo:O,displayName:j,email:b,isAdmin:!1})}function h(b,N){return SR(Ko,b,N)}function f(){return jR(Ko)}async function g(b){if(!e)throw new Error("No user logged in");const N=dt(Re,"users",e.uid);try{await Gn(N,b,{merge:!0});const j=await ss(N),M=j.exists()?j.data():{},O={uid:e.uid,...M,displayName:e.displayName||M.displayName||"",email:e.email||M.email||"",isAdmin:M.admin===!0};if(i(O),b.displayName&&e.displayName!==b.displayName)try{await Ic(e,{displayName:b.displayName}),n(Ko.currentUser)}catch(U){console.warn("Error actualizando displayName en auth:",U)}return O}catch(j){throw console.error("actualizarUsuarioInfo error:",j),j}}async function y(b){if(!e)throw new Error("No user logged in");const N=ns(rs,`usuarios/${e.uid}/perfil.jpg`);await zx(N,b);const j=await tl(N);await Ic(e,{photoURL:j}),n(Ko.currentUser);try{await Gn(dt(Re,"users",e.uid),{fotoURL:j},{merge:!0}),i(M=>({...M,fotoURL:j}))}catch(M){console.warn("No se pudo persistir fotoURL en users/{uid}:",M)}return j}async function v(b){if(!e)throw new Error("No user logged in");const N=dt(Re,"users",e.uid);try{const j={role:"seller",isSeller:!0,storeName:b.storeName||"",storeDescription:b.storeDescription||"",storeImage:b.storeImage||"",storePhone:b.storePhone||"",storeAddress:b.storeAddress||"",sellerActivatedAt:new Date};return await Gn(N,j,{merge:!0}),i(M=>({...M,...j})),!0}catch(j){throw console.error("Error al convertirse en vendedor:",j),j}}async function w(b){if(!e)throw new Error("No user logged in");if(!(r!=null&&r.isSeller))throw new Error("User is not a seller");const N=dt(Re,"users",e.uid);try{return await Gn(N,b,{merge:!0}),i(j=>({...j,...b})),!0}catch(j){throw console.error("Error al actualizar tienda:",j),j}}const S={usuario:e,usuarioInfo:r,login:h,signup:u,logout:f,actualizarUsuarioInfo:g,subirImagen:y,convertirseEnVendedor:v,actualizarTienda:w};return o.jsx(jC.Provider,{value:S,children:!a&&t})}const PC=T.createContext(),Tm=()=>{const t=T.useContext(PC);if(!t)throw new Error("useTheme debe usarse dentro de ThemeProvider");return t},mL=({children:t})=>{const[e,n]=T.useState(()=>{try{return localStorage.getItem("pcu-theme")||"light"}catch{return"light"}});T.useEffect(()=>{const a=document.documentElement;e==="dark"?(a.classList.add("dark"),a.classList.add("dark-theme")):(a.classList.remove("dark"),a.classList.remove("dark-theme"));try{localStorage.setItem("pcu-theme",e)}catch(c){console.error("Error guardando tema:",c)}},[e]);const i={theme:e,toggleTheme:()=>{n(a=>a==="light"?"dark":"light")},isDark:e==="dark",isLight:e==="light"};return o.jsx(PC.Provider,{value:i,children:t})},gL=(t=!1)=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,c]=T.useState(null);return T.useEffect(()=>{(async()=>{try{let h;return t?h=ln(Ft(Re,"productos"),Bs("fechaCreacion","desc")):h=ln(Ft(Re,"productos"),br("activo","==",!0),Bs("fechaCreacion","desc")),cr(h,g=>{const y=g.docs.map(v=>({id:v.id,...v.data()}));n(y),i(!1)},g=>{console.error("Error fetching products:",g),c(g.message),i(!1)})}catch(h){console.error("Error setting up products listener:",h),c(h.message),i(!1)}})()},[t]),{products:e,loading:r,error:a}},RC=t=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[a,c]=T.useState(null);return T.useEffect(()=>{(async()=>{try{let h;return!t||t===""||t==="todos"?h=ln(Ft(Re,"productos"),br("activo","==",!0),Bs("fechaCreacion","desc")):h=ln(Ft(Re,"productos"),br("categoria","==",t),br("activo","==",!0),Bs("fechaCreacion","desc")),cr(h,g=>{const y=g.docs.map(v=>({id:v.id,...v.data()}));n(y),i(!1)},g=>{console.error("Error fetching products by category:",g),c(g.message),i(!1)})}catch(h){console.error("Error setting up products by category listener:",h),c(h.message),i(!1)}})()},[t]),{products:e,loading:r,error:a}},yL=t=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0),[a,c]=T.useState(null);return T.useEffect(()=>{if(!t){n(null),i(!1);return}let u=null,h=null,f=!1;i(!0),c(null);const g=w=>(w||"").toLowerCase().replace(/[^a-z0-9]/g,""),y=w=>{try{const S=dt(Re,"productos",w);return cr(S,b=>{b.exists()?(n({id:b.id,...b.data()}),c(null),i(!1)):(c("Producto no encontrado"),n(null),i(!1))},b=>{c((b==null?void 0:b.message)||"Error al cargar el producto"),i(!1)})}catch{return c("Error al suscribirse al producto"),i(!1),null}},v=async()=>{if(!f){f=!0;try{const w=ln(Ft(Re,"productos"),br("slug","==",t),wm(1)),S=await Ir(w);if(!S.empty){const O=S.docs[0].id;h=y(O);return}const N=(await Ir(Ft(Re,"productos"))).docs.map(O=>({id:O.id,...O.data()})),j=g(t),M=N.find(O=>g(O.slug||"")===j||g(O.nombre||"")===j||O.id===t);M?h=y(M.id):(c("Producto no encontrado"),n(null),i(!1))}catch{c("Error al cargar el producto"),n(null),i(!1)}}};try{const w=dt(Re,"productos",t);u=cr(w,S=>{S.exists()?(n({id:S.id,...S.data()}),c(null),i(!1)):v()},S=>{v()})}catch{v()}return()=>{typeof u=="function"&&u(),typeof h=="function"&&h()}},[t]),{product:e,loading:r,error:a}},Hx=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!0),[i,a]=T.useState(null);return T.useEffect(()=>{(async()=>{try{const u=ln(Ft(Re,"categorias"),br("activa","==",!0),Bs("orden","asc"));return cr(u,f=>{const g=f.docs.map(y=>({id:y.id,...y.data()}));e(g),r(!1)},f=>{console.error("Error fetching categories:",f),a(f.message),r(!1)})}catch(u){console.error("Error setting up categories listener:",u),a(u.message),r(!1)}})()},[]),{categories:t,loading:n,error:i}},vL=()=>{const[t,e]=T.useState({}),[n,r]=T.useState([]),[i,a]=T.useState(!0),[c,u]=T.useState(null);return T.useEffect(()=>{let h=null,f=null,g=[],y=[],v=!1,w=!1;const S=()=>{if(!(!v||!w))try{const b={};g.forEach(N=>{b[N.id]=y.filter(j=>j.categoria===N.id)}),e(b),a(!1)}catch(b){console.error("Error grouping products by categories:",b),u(b.message||"Error agrupando productos"),a(!1)}};try{const b=ln(Ft(Re,"categorias"),br("activa","==",!0),Bs("orden","asc"));h=cr(b,j=>{g=j.docs.map(M=>({id:M.id,...M.data()})),r(g),v=!0,S()},j=>{console.error("Error fetching categories (rt):",j),u(j.message),a(!1)});const N=ln(Ft(Re,"productos"),br("activo","==",!0),Bs("fechaCreacion","desc"));f=cr(N,j=>{y=j.docs.map(M=>({id:M.id,...M.data()})),w=!0,S()},j=>{console.error("Error fetching products (rt):",j),u(j.message),a(!1)})}catch(b){console.error("Error setting up realtime listeners:",b),u(b.message),a(!1)}return()=>{typeof h=="function"&&h(),typeof f=="function"&&f()}},[]),{productsByCategory:t,categories:n,loading:i,error:c}},xL=(t,e="")=>{const[n,r]=T.useState([]),[i,a]=T.useState(!1),[c,u]=T.useState(null);return T.useEffect(()=>{if(!t||t.length<2){r([]);return}const f=setTimeout(async()=>{a(!0);try{let g=ln(Ft(Re,"productos"),br("activo","==",!0));e&&(g=ln(g,br("categoria","==",e)));const v=(await Ir(g)).docs.map(b=>({id:b.id,...b.data()})),w=t.toLowerCase(),S=v.filter(b=>{var N,j,M,O;return((N=b.nombre)==null?void 0:N.toLowerCase().includes(w))||((j=b.descripcion)==null?void 0:j.toLowerCase().includes(w))||((M=b.empresa)==null?void 0:M.toLowerCase().includes(w))||((O=b.etiquetas)==null?void 0:O.some(U=>U.toLowerCase().includes(w)))});r(S)}catch(g){console.error("Error searching products:",g),u(g.message)}finally{a(!1)}},300);return()=>clearTimeout(f)},[t,e]),{results:n,loading:i,error:c}},Q_=T.forwardRef(({onClose:t,placeholder:e="Buscar en pcu.com.do"},n)=>{const[r,i]=T.useState(""),[a,c]=T.useState([]),[u,h]=T.useState(!1),f=T.useRef(null),g=oi(),{results:y,loading:v}=xL(r);T.useEffect(()=>{if(!r.trim()){c([]),h(!1);return}c(y),h(!0)},[r,y]),T.useEffect(()=>{const b=N=>{f.current&&!f.current.contains(N.target)&&h(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const w=b=>{b.preventDefault(),r.trim()&&(g(`/buscar?q=${encodeURIComponent(r.trim())}`),i(""),c([]),h(!1),t&&t())},S=b=>{const N=b.nombre.trim();g(`/buscar?q=${encodeURIComponent(N)}`),i(""),c([]),h(!1),t&&t()};return o.jsxs("div",{className:"relative w-full",ref:f,children:[o.jsxs("form",{onSubmit:w,className:"flex w-full",children:[o.jsx("input",{type:"text",ref:n,value:r,onChange:b=>i(b.target.value),placeholder:e,className:"flex-grow border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300",autoComplete:"off"}),o.jsx("button",{type:"submit",className:"ml-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 text-white rounded-md text-sm font-semibold transition",children:"Buscar"})]}),u&&o.jsxs("ul",{className:"absolute z-10 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 mt-1 rounded-md shadow-md max-h-72 overflow-y-auto transition-colors duration-300",children:[v&&o.jsx("li",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"Buscando..."}),!v&&a.length===0&&o.jsx("li",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"Sin resultados"}),!v&&a.map(b=>o.jsxs("li",{onClick:()=>S(b),className:"px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition",title:`${b.nombre} ${b.empresa?"- "+b.empresa:""}`,children:[o.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:b.nombre}),b.empresa&&o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.empresa})]},b.id))]})]})}),Wx=T.createContext({});function qx(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gx=typeof window<"u",DC=Gx?T.useLayoutEffect:T.useEffect,Nm=T.createContext(null);function Kx(t,e){t.indexOf(e)===-1&&t.push(e)}function Xx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _a=(t,e,n)=>n>e?e:n<t?t:n;let Qx=()=>{};const Ea={},MC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OC(t){return typeof t=="object"&&t!==null}const LC=t=>/^0[^.\s]+$/u.test(t);function Yx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vi=t=>t,bL=(t,e)=>n=>e(t(n)),eh=(...t)=>t.reduce(bL),Sd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Jx{constructor(){this.subscriptions=[]}add(e){return Kx(this.subscriptions,e),()=>Xx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,Vs=t=>t/1e3;function VC(t,e){return e?t*(1e3/e):0}const FC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wL=1e-7,_L=12;function EL(t,e,n,r,i){let a,c,u=0;do c=e+(n-e)/2,a=FC(c,r,i)-t,a>0?n=c:e=c;while(Math.abs(a)>wL&&++u<_L);return c}function th(t,e,n,r){if(t===e&&n===r)return Vi;const i=a=>EL(a,0,1,t,n);return a=>a===0||a===1?a:FC(i(a),e,r)}const UC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$C=t=>e=>1-t(1-e),zC=th(.33,1.53,.69,.99),Zx=$C(zC),BC=UC(Zx),HC=t=>(t*=2)<1?.5*Zx(t):.5*(2-Math.pow(2,-10*(t-1))),e1=t=>1-Math.sin(Math.acos(t)),WC=$C(e1),qC=UC(e1),kL=th(.42,0,1,1),SL=th(0,0,.58,1),GC=th(.42,0,.58,1),TL=t=>Array.isArray(t)&&typeof t[0]!="number",KC=t=>Array.isArray(t)&&typeof t[0]=="number",NL={linear:Vi,easeIn:kL,easeInOut:GC,easeOut:SL,circIn:e1,circInOut:qC,circOut:WC,backIn:Zx,backInOut:BC,backOut:zC,anticipate:HC},CL=t=>typeof t=="string",Y_=t=>{if(KC(t)){Qx(t.length===4);const[e,n,r,i]=t;return th(e,n,r,i)}else if(CL(t))return NL[t];return t},wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],J_={value:null};function AL(t,e){let n=new Set,r=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){c.has(y)&&(g.schedule(y),t()),h++,y(u)}const g={schedule:(y,v=!1,w=!1)=>{const b=w&&i?n:r;return v&&c.add(y),b.has(y)||b.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(u=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&J_.value&&J_.value.frameloop[e].push(h),h=0,n.clear(),i=!1,a&&(a=!1,g.process(y))}};return g}const jL=40;function XC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=wf.reduce((O,U)=>(O[U]=AL(a,e?U:void 0),O),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:g,update:y,preRender:v,render:w,postRender:S}=c,b=()=>{const O=Ea.useManualTiming?i.timestamp:performance.now();n=!1,Ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,jL),1)),i.timestamp=O,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),g.process(i),y.process(i),v.process(i),w.process(i),S.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},N=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:wf.reduce((O,U)=>{const B=c[U];return O[U]=(K,R=!1,I=!1)=>(n||N(),B.schedule(K,R,I)),O},{}),cancel:O=>{for(let U=0;U<wf.length;U++)c[wf[U]].cancel(O)},state:i,steps:c}}const{schedule:xn,cancel:vo,state:gr,steps:R0}=XC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vi,!0);let Xf;function IL(){Xf=void 0}const ii={now:()=>(Xf===void 0&&ii.set(gr.isProcessing||Ea.useManualTiming?gr.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask(IL)}},QC=t=>e=>typeof e=="string"&&e.startsWith(t),t1=QC("--"),PL=QC("var(--"),n1=t=>PL(t)?RL.test(t.split("/*")[0].trim()):!1,RL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Td={...tu,transform:t=>_a(0,1,t)},_f={...tu,default:1},sd=t=>Math.round(t*1e5)/1e5,r1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DL(t){return t==null}const ML=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i1=(t,e)=>n=>!!(typeof n=="string"&&ML.test(n)&&n.startsWith(t)||e&&!DL(n)&&Object.prototype.hasOwnProperty.call(n,e)),YC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,c,u]=r.match(r1);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},OL=t=>_a(0,255,t),D0={...tu,transform:t=>Math.round(OL(t))},nl={test:i1("rgb","red"),parse:YC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+D0.transform(t)+", "+D0.transform(e)+", "+D0.transform(n)+", "+sd(Td.transform(r))+")"};function LL(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $y={test:i1("#"),parse:LL,transform:nl.transform},nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qa=nh("deg"),Fs=nh("%"),bt=nh("px"),VL=nh("vh"),FL=nh("vw"),Z_={...Fs,parse:t=>Fs.parse(t)/100,transform:t=>Fs.transform(t*100)},Ec={test:i1("hsl","hue"),parse:YC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fs.transform(sd(e))+", "+Fs.transform(sd(n))+", "+sd(Td.transform(r))+")"},qn={test:t=>nl.test(t)||$y.test(t)||Ec.test(t),parse:t=>nl.test(t)?nl.parse(t):Ec.test(t)?Ec.parse(t):$y.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nl.transform(t):Ec.transform(t),getAnimatableNone:t=>{const e=qn.parse(t);return e.alpha=0,qn.transform(e)}},UL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $L(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(r1))==null?void 0:e.length)||0)+(((n=t.match(UL))==null?void 0:n.length)||0)>0}const JC="number",ZC="color",zL="var",BL="var(",eE="${}",HL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(HL,h=>(qn.test(h)?(r.color.push(a),i.push(ZC),n.push(qn.parse(h))):h.startsWith(BL)?(r.var.push(a),i.push(zL),n.push(h)):(r.number.push(a),i.push(JC),n.push(parseFloat(h))),++a,eE)).split(eE);return{values:n,split:u,indexes:r,types:i}}function eA(t){return Nd(t).values}function tA(t){const{split:e,types:n}=Nd(t),r=e.length;return i=>{let a="";for(let c=0;c<r;c++)if(a+=e[c],i[c]!==void 0){const u=n[c];u===JC?a+=sd(i[c]):u===ZC?a+=qn.transform(i[c]):a+=i[c]}return a}}const WL=t=>typeof t=="number"?0:qn.test(t)?qn.getAnimatableNone(t):t;function qL(t){const e=eA(t);return tA(t)(e.map(WL))}const xo={test:$L,parse:eA,createTransformer:tA,getAnimatableNone:qL};function M0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,c=0;if(!e)i=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=M0(h,u,t+1/3),a=M0(h,u,t),c=M0(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function Cp(t,e){return n=>n>0?e:t}const Sn=(t,e,n)=>t+(e-t)*n,O0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},KL=[$y,nl,Ec],XL=t=>KL.find(e=>e.test(t));function tE(t){const e=XL(t);if(!e)return!1;let n=e.parse(t);return e===Ec&&(n=GL(n)),n}const nE=(t,e)=>{const n=tE(t),r=tE(e);if(!n||!r)return Cp(t,e);const i={...n};return a=>(i.red=O0(n.red,r.red,a),i.green=O0(n.green,r.green,a),i.blue=O0(n.blue,r.blue,a),i.alpha=Sn(n.alpha,r.alpha,a),nl.transform(i))},zy=new Set(["none","hidden"]);function QL(t,e){return zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YL(t,e){return n=>Sn(t,e,n)}function s1(t){return typeof t=="number"?YL:typeof t=="string"?n1(t)?Cp:qn.test(t)?nE:e8:Array.isArray(t)?nA:typeof t=="object"?qn.test(t)?nE:JL:Cp}function nA(t,e){const n=[...t],r=n.length,i=t.map((a,c)=>s1(a)(a,e[c]));return a=>{for(let c=0;c<r;c++)n[c]=i[c](a);return n}}function JL(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s1(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function ZL(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],c=t.indexes[a][r[a]],u=t.values[c]??0;n[i]=u,r[a]++}return n}const e8=(t,e)=>{const n=xo.createTransformer(e),r=Nd(t),i=Nd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zy.has(t)&&!i.values.length||zy.has(e)&&!r.values.length?QL(t,e):eh(nA(ZL(r,i),i.values),n):Cp(t,e)};function rA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Sn(t,e,n):s1(t)(t,e)}const t8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xn.update(e,n),stop:()=>vo(e),now:()=>gr.isProcessing?gr.timestamp:ii.now()}},iA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ap=2e4;function a1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ap;)e+=n,r=t.next(e);return e>=Ap?1/0:e}function n8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(a1(r),Ap);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Vs(i)}}const r8=5;function sA(t,e,n){const r=Math.max(e-r8,0);return VC(n-t(r),e-r)}const Dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L0=.001;function i8({duration:t=Dn.duration,bounce:e=Dn.bounce,velocity:n=Dn.velocity,mass:r=Dn.mass}){let i,a,c=1-e;c=_a(Dn.minDamping,Dn.maxDamping,c),t=_a(Dn.minDuration,Dn.maxDuration,Vs(t)),c<1?(i=f=>{const g=f*c,y=g*t,v=g-n,w=By(f,c),S=Math.exp(-y);return L0-v/w*S},a=f=>{const y=f*c*t,v=y*n+n,w=Math.pow(c,2)*Math.pow(f,2)*t,S=Math.exp(-y),b=By(Math.pow(f,2),c);return(-i(f)+L0>0?-1:1)*((v-w)*S)/b}):(i=f=>{const g=Math.exp(-f*t),y=(f-n)*t+1;return-L0+g*y},a=f=>{const g=Math.exp(-f*t),y=(n-f)*(t*t);return g*y});const u=5/t,h=a8(i,a,u);if(t=Ls(t),isNaN(h))return{stiffness:Dn.stiffness,damping:Dn.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:t}}}const s8=12;function a8(t,e,n){let r=n;for(let i=1;i<s8;i++)r=r-t(r)/e(r);return r}function By(t,e){return t*Math.sqrt(1-e*e)}const o8=["duration","bounce"],l8=["stiffness","damping","mass"];function rE(t,e){return e.some(n=>t[n]!==void 0)}function c8(t){let e={velocity:Dn.velocity,stiffness:Dn.stiffness,damping:Dn.damping,mass:Dn.mass,isResolvedFromDuration:!1,...t};if(!rE(t,l8)&&rE(t,o8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*_a(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Dn.mass,stiffness:i,damping:a}}else{const n=i8(t);e={...e,...n,mass:Dn.mass},e.isResolvedFromDuration=!0}return e}function jp(t=Dn.visualDuration,e=Dn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:f,mass:g,duration:y,velocity:v,isResolvedFromDuration:w}=c8({...n,velocity:-Vs(n.velocity||0)}),S=v||0,b=f/(2*Math.sqrt(h*g)),N=c-a,j=Vs(Math.sqrt(h/g)),M=Math.abs(N)<5;r||(r=M?Dn.restSpeed.granular:Dn.restSpeed.default),i||(i=M?Dn.restDelta.granular:Dn.restDelta.default);let O;if(b<1){const B=By(j,b);O=K=>{const R=Math.exp(-b*j*K);return c-R*((S+b*j*N)/B*Math.sin(B*K)+N*Math.cos(B*K))}}else if(b===1)O=B=>c-Math.exp(-j*B)*(N+(S+j*N)*B);else{const B=j*Math.sqrt(b*b-1);O=K=>{const R=Math.exp(-b*j*K),I=Math.min(B*K,300);return c-R*((S+b*j*N)*Math.sinh(I)+B*N*Math.cosh(I))/B}}const U={calculatedDuration:w&&y||null,next:B=>{const K=O(B);if(w)u.done=B>=y;else{let R=B===0?S:0;b<1&&(R=B===0?Ls(S):sA(O,B,K));const I=Math.abs(R)<=r,A=Math.abs(c-K)<=i;u.done=I&&A}return u.value=u.done?c:K,u},toString:()=>{const B=Math.min(a1(U),Ap),K=iA(R=>U.next(B*R).value,B,30);return B+"ms "+K},toTransition:()=>{}};return U}jp.applyToOptions=t=>{const e=n8(t,100,jp);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function Hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:h,restDelta:f=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},w=I=>u!==void 0&&I<u||h!==void 0&&I>h,S=I=>u===void 0?h:h===void 0||Math.abs(u-I)<Math.abs(h-I)?u:h;let b=n*e;const N=y+b,j=c===void 0?N:c(N);j!==N&&(b=j-y);const M=I=>-b*Math.exp(-I/r),O=I=>j+M(I),U=I=>{const A=M(I),k=O(I);v.done=Math.abs(A)<=f,v.value=v.done?j:k};let B,K;const R=I=>{w(v.value)&&(B=I,K=jp({keyframes:[v.value,S(v.value)],velocity:sA(O,I,v.value),damping:i,stiffness:a,restDelta:f,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let A=!1;return!K&&B===void 0&&(A=!0,U(I),R(I)),B!==void 0&&I>=B?K.next(I-B):(!A&&U(I),v)}}}function u8(t,e,n){const r=[],i=n||Ea.mix||rA,a=t.length-1;for(let c=0;c<a;c++){let u=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Vi:e;u=eh(h,u)}r.push(u)}return r}function d8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Qx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=u8(e,r,i),h=u.length,f=g=>{if(c&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=Sd(t[y],t[y+1],g);return u[y](v)};return n?g=>f(_a(t[0],t[a-1],g)):f}function h8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sd(0,e,r);t.push(Sn(n,1,i))}}function f8(t){const e=[0];return h8(e,t.length-1),e}function p8(t,e){return t.map(n=>n*e)}function m8(t,e){return t.map(()=>e||GC).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TL(r)?r.map(Y_):Y_(r),a={done:!1,value:e[0]},c=p8(n&&n.length===e.length?n:f8(e),t),u=d8(c,e,{ease:Array.isArray(i)?i:m8(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const g8=t=>t!==null;function o1(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(g8),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const y8={decay:Hy,inertia:Hy,tween:ad,keyframes:ad,spring:jp};function aA(t){typeof t.type=="string"&&(t.type=y8[t.type])}class l1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const v8=t=>t/100;class c1 extends l1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ii.now()&&this.tick(ii.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aA(e);const{type:n=ad,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const h=n||ad;h!==ad&&typeof u[0]!="number"&&(this.mixKeyframes=eh(v8,rA(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=a1(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:w,type:S,onUpdate:b,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,U=r;if(y){const I=Math.min(this.currentTime,i)/u;let A=Math.floor(I),k=I%1;!k&&I>=1&&(k=1),k===1&&A--,A=Math.min(A,y+1),!!(A%2)&&(v==="reverse"?(k=1-k,w&&(k-=w/u)):v==="mirror"&&(U=c)),O=_a(0,1,k)*u}const B=M?{done:!1,value:g[0]}:U.next(O);a&&(B.value=a(B.value));let{done:K}=B;!M&&h!==null&&(K=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return R&&S!==Hy&&(B.value=o1(g,this.options,N,this.speed)),b&&b(B.value),R&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Vs(this.calculatedDuration)}get time(){return Vs(this.currentTime)}set time(e){var n;e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ii.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=t8,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ii.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function x8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rl=t=>t*180/Math.PI,Wy=t=>{const e=rl(Math.atan2(t[1],t[0]));return qy(e)},b8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wy,rotateZ:Wy,skewX:t=>rl(Math.atan(t[1])),skewY:t=>rl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qy=t=>(t=t%360,t<0&&(t+=360),t),iE=Wy,sE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),w8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sE,scaleY:aE,scale:t=>(sE(t)+aE(t))/2,rotateX:t=>qy(rl(Math.atan2(t[6],t[5]))),rotateY:t=>qy(rl(Math.atan2(-t[2],t[0]))),rotateZ:iE,rotate:iE,skewX:t=>rl(Math.atan(t[4])),skewY:t=>rl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gy(t){return t.includes("scale")?1:0}function Ky(t,e){if(!t||t==="none")return Gy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=w8,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=b8,i=u}if(!i)return Gy(e);const a=r[e],c=i[1].split(",").map(E8);return typeof a=="function"?a(c):c[a]}const _8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ky(n,e)};function E8(t){return parseFloat(t.trim())}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(nu),oE=t=>t===tu||t===bt,k8=new Set(["x","y","z"]),S8=nu.filter(t=>!k8.has(t));function T8(t){const e=[];return S8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ky(e,"x"),y:(t,{transform:e})=>Ky(e,"y")};cl.translateX=cl.x;cl.translateY=cl.y;const ul=new Set;let Xy=!1,Qy=!1,Yy=!1;function oA(){if(Qy){const t=Array.from(ul).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=T8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,c])=>{var u;(u=r.getValue(a))==null||u.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qy=!1,Xy=!1,ul.forEach(t=>t.complete(Yy)),ul.clear()}function lA(){ul.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qy=!0)})}function N8(){Yy=!0,lA(),oA(),Yy=!1}class u1{constructor(e,n,r,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ul.add(this),Xy||(Xy=!0,xn.read(lA),xn.resolveKeyframes(oA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&a===void 0&&i.set(e[0])}x8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ul.delete(this)}cancel(){this.state==="scheduled"&&(ul.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const C8=t=>t.startsWith("--");function A8(t,e,n){C8(e)?t.style.setProperty(e,n):t.style[e]=n}const j8=Yx(()=>window.ScrollTimeline!==void 0),I8={};function P8(t,e){const n=Yx(t);return()=>I8[e]??n()}const cA=P8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function uA(t,e){if(t)return typeof t=="function"?cA()?iA(t,e):"ease-out":KC(t)?Xu(t):Array.isArray(t)?t.map(n=>uA(n,e)||lE.easeOut):lE[t]}function R8(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const y=uA(u,i);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(g,v)}function dA(t){return typeof t=="function"&&"applyToOptions"in t}function D8({type:t,...e}){return dA(t)&&cA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class M8 extends l1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,Qx(typeof e.type!="string");const f=D8(e);this.animation=R8(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=o1(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):A8(n,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vs(Number(e))}get time(){return Vs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&j8()?(this.animation.timeline=e,Vi):n(this)}}const hA={anticipate:HC,backInOut:BC,circInOut:qC};function O8(t){return t in hA}function L8(t){typeof t.ease=="string"&&O8(t.ease)&&(t.ease=hA[t.ease])}const cE=10;class V8 extends M8{constructor(e){L8(e),aA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new c1({...c,autoplay:!1}),h=Ls(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-cE).value,u.sample(h).value,cE),u.stop()}}const uE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xo.test(t)||t==="0")&&!t.startsWith("url("));function F8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function U8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=uE(i,e),u=uE(a,e);return!c||!u?!1:F8(t)||(n==="spring"||dA(n))&&r}function d1(t){return OC(t)&&"offsetHeight"in t}const $8=new Set(["opacity","clipPath","filter","transform"]),z8=Yx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B8(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:c}=t;if(!d1((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return z8()&&n&&$8.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&a!==0&&c!=="inertia"}const H8=40;class W8 extends l1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:h,motionValue:f,element:g,...y}){var S;super(),this.stop=()=>{var b,N;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=ii.now();const v={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:c,name:h,motionValue:f,element:g,...y},w=(g==null?void 0:g.KeyframeResolver)||u1;this.keyframeResolver=new w(u,(b,N,j)=>this.onKeyframesResolved(b,N,v,!j),h,f,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:h,isHandoff:f,onUpdate:g}=r;this.resolvedAt=ii.now(),U8(e,a,c,u)||((Ea.instantAnimations||!h)&&(g==null||g(o1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>H8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!f&&B8(v)?new V8({...v,element:v.motionValue.owner.current}):new c1(v);w.finished.then(()=>this.notifyFinished()).catch(Vi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),N8()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const q8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G8(t){const e=q8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function fA(t,e,n=1){const[r,i]=G8(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const c=a.trim();return MC(c)?parseFloat(c):c}return n1(i)?fA(i,e,n+1):i}function h1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pA=new Set(["width","height","top","left","right","bottom",...nu]),K8={test:t=>t==="auto",parse:t=>t},mA=t=>e=>e.test(t),gA=[tu,bt,Fs,Qa,FL,VL,K8],dE=t=>gA.find(mA(t));function X8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LC(t):!0}const Q8=new Set(["brightness","contrast","saturate","opacity"]);function Y8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r1)||[];if(!r)return t;const i=n.replace(r,"");let a=Q8.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const J8=/\b([a-z-]*)\(.*?\)/gu,Jy={...xo,getAnimatableNone:t=>{const e=t.match(J8);return e?e.map(Y8).join(" "):t}},hE={...tu,transform:Math.round},Z8={rotate:Qa,rotateX:Qa,rotateY:Qa,rotateZ:Qa,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Qa,skewX:Qa,skewY:Qa,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Td,originX:Z_,originY:Z_,originZ:bt},f1={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...Z8,zIndex:hE,fillOpacity:Td,strokeOpacity:Td,numOctaves:hE},e7={...f1,color:qn,backgroundColor:qn,outlineColor:qn,fill:qn,stroke:qn,borderColor:qn,borderTopColor:qn,borderRightColor:qn,borderBottomColor:qn,borderLeftColor:qn,filter:Jy,WebkitFilter:Jy},yA=t=>e7[t];function vA(t,e){let n=yA(t);return n!==Jy&&(n=xo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const t7=new Set(["auto","none","0"]);function n7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!t7.has(a)&&Nd(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=vA(n,i)}class r7 extends u1{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),n1(f))){const g=fA(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!pA.has(r)||e.length!==2)return;const[i,a]=e,c=dE(i),u=dE(a);if(c!==u)if(oE(c)&&oE(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else cl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||X8(e[i]))&&r.push(i);r.length&&n7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,c=r[a];r[a]=cl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function i7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const xA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fE=30,s7=t=>!isNaN(parseFloat(t));class a7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var c,u;const a=ii.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ii.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=s7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jx);const r=this.events[e].add(n);return e==="change"?()=>{r(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fE);return VC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $c(t,e){return new a7(t,e)}const{schedule:p1}=XC(queueMicrotask,!1),ts={x:!1,y:!1};function bA(){return ts.x||ts.y}function o7(t){return t==="x"||t==="y"?ts[t]?null:(ts[t]=!0,()=>{ts[t]=!1}):ts.x||ts.y?null:(ts.x=ts.y=!0,()=>{ts.x=ts.y=!1})}function wA(t,e){const n=i7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function pE(t){return!(t.pointerType==="touch"||bA())}function l7(t,e,n={}){const[r,i,a]=wA(t,n),c=u=>{if(!pE(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const g=y=>{pE(y)&&(f(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,i)};return r.forEach(u=>{u.addEventListener("pointerenter",c,i)}),a}const _A=(t,e)=>e?t===e?!0:_A(t,e.parentElement):!1,m1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,c7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u7(t){return c7.has(t.tagName)||t.tabIndex!==-1}const Qf=new WeakSet;function mE(t){return e=>{e.key==="Enter"&&t(e)}}function V0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const d7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=mE(()=>{if(Qf.has(n))return;V0(n,"down");const i=mE(()=>{V0(n,"up")}),a=()=>V0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gE(t){return m1(t)&&!bA()}function h7(t,e,n={}){const[r,i,a]=wA(t,n),c=u=>{const h=u.currentTarget;if(!gE(u))return;Qf.add(h);const f=e(h,u),g=(w,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Qf.has(h)&&Qf.delete(h),gE(w)&&typeof f=="function"&&f(w,{success:S})},y=w=>{g(w,h===window||h===document||n.useGlobalTarget||_A(h,w.target))},v=w=>{g(w,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),d1(u)&&(u.addEventListener("focus",f=>d7(f,i)),!u7(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function EA(t){return OC(t)&&"ownerSVGElement"in t}function f7(t){return EA(t)&&t.tagName==="svg"}const Pr=t=>!!(t&&t.getVelocity),p7=[...gA,qn,xo],m7=t=>p7.find(mA(t)),g1=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class g7 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=d1(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function y7({children:t,isPresent:e,anchorX:n,root:r}){const i=T.useId(),a=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=T.useContext(g1);return T.useInsertionEffect(()=>{const{width:h,height:f,top:g,left:y,right:v}=c.current;if(e||!a.current||!h||!f)return;const w=n==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const S=document.createElement("style");u&&(S.nonce=u);const b=r??document.head;return b.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{b.removeChild(S),b.contains(S)&&b.removeChild(S)}},[e]),o.jsx(g7,{isPresent:e,childRef:a,sizeRef:c,children:T.cloneElement(t,{ref:a})})}const v7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:c,anchorX:u,root:h})=>{const f=qx(x7),g=T.useId();let y=!0,v=T.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:w=>{f.set(w,!0);for(const S of f.values())if(!S)return;r&&r()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,r]);return a&&y&&(v={...v}),T.useMemo(()=>{f.forEach((w,S)=>f.set(S,!1))},[n]),T.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(t=o.jsx(y7,{isPresent:n,anchorX:u,root:h,children:t})),o.jsx(Nm.Provider,{value:v,children:t})};function x7(){return new Map}function kA(t=!0){const e=T.useContext(Nm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=T.useId();T.useEffect(()=>{if(t)return i(a)},[t]);const c=T.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,c]:[!0]}const Ef=t=>t.key||"";function yE(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:h})=>{const[f,g]=kA(c),y=T.useMemo(()=>yE(t),[t]),v=c&&!f?[]:y.map(Ef),w=T.useRef(!0),S=T.useRef(y),b=qx(()=>new Map),[N,j]=T.useState(y),[M,O]=T.useState(y);DC(()=>{w.current=!1,S.current=y;for(let K=0;K<M.length;K++){const R=Ef(M[K]);v.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[M,v.length,v.join("-")]);const U=[];if(y!==N){let K=[...y];for(let R=0;R<M.length;R++){const I=M[R],A=Ef(I);v.includes(A)||(K.splice(R,0,I),U.push(I))}return a==="wait"&&U.length&&(K=U),O(yE(K)),j(y),null}const{forceRender:B}=T.useContext(Wx);return o.jsx(o.Fragment,{children:M.map(K=>{const R=Ef(K),I=c&&!f?!1:y===M||v.includes(R),A=()=>{if(b.has(R))b.set(R,!0);else return;let k=!0;b.forEach(L=>{L||(k=!1)}),k&&(B==null||B(),O(S.current),c&&(g==null||g()),r&&r())};return o.jsx(v7,{isPresent:I,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:I?void 0:A,anchorX:u,children:K},R)})})},SA=T.createContext({strict:!1}),vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zc={};for(const t in vE)zc[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function b7(t){for(const e in t)zc[e]={...zc[e],...t[e]}}const w7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ip(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w7.has(t)}let TA=t=>!Ip(t);function _7(t){typeof t=="function"&&(TA=e=>e.startsWith("on")?!Ip(e):t(e))}try{_7(require("@emotion/is-prop-valid").default)}catch{}function E7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(TA(i)||n===!0&&Ip(i)||!e&&!Ip(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function k7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Cm=T.createContext({});function Am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cd(t){return typeof t=="string"||Array.isArray(t)}const y1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v1=["initial",...y1];function jm(t){return Am(t.animate)||v1.some(e=>Cd(t[e]))}function NA(t){return!!(jm(t)||t.variants)}function S7(t,e){if(jm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cd(n)?n:void 0,animate:Cd(r)?r:void 0}}return t.inherit!==!1?e:{}}function T7(t){const{initial:e,animate:n}=S7(t,T.useContext(Cm));return T.useMemo(()=>({initial:e,animate:n}),[xE(e),xE(n)])}function xE(t){return Array.isArray(t)?t.join(" "):t}const N7=Symbol.for("motionComponentSymbol");function kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C7(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):kc(n)&&(n.current=r))},[e])}const x1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A7="framerAppearId",CA="data-"+x1(A7),AA=T.createContext({});function j7(t,e,n,r,i){var b,N;const{visualElement:a}=T.useContext(Cm),c=T.useContext(SA),u=T.useContext(Nm),h=T.useContext(g1).reducedMotion,f=T.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=f.current,y=T.useContext(AA);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&I7(f.current,n,i,y);const v=T.useRef(!1);T.useInsertionEffect(()=>{g&&v.current&&g.update(n,u)});const w=n[CA],S=T.useRef(!!w&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,w))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,w)));return DC(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),p1.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),T.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,w)}),S.current=!1))}),g}function I7(t,e,n,r){const{layoutId:i,layout:a,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||u&&kc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:f})}function jA(t){if(t)return t.options.allowProjection!==!1?t.projection:jA(t.parent)}function P7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&b7(t);function a(u,h){let f;const g={...T.useContext(g1),...u,layoutId:R7(u)},{isStatic:y}=g,v=T7(u),w=r(u,y);if(!y&&Gx){D7();const S=M7(g);f=S.MeasureLayout,v.visualElement=j7(i,w,g,e,S.ProjectionNode)}return o.jsxs(Cm.Provider,{value:v,children:[f&&v.visualElement?o.jsx(f,{visualElement:v.visualElement,...g}):null,n(i,u,C7(w,v.visualElement,h),w,y,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=T.forwardRef(a);return c[N7]=i,c}function R7({layoutId:t}){const e=T.useContext(Wx).id;return e&&t!==void 0?e+"-"+t:t}function D7(t,e){T.useContext(SA).strict}function M7(t){const{drag:e,layout:n}=zc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ad={};function O7(t){for(const e in t)Ad[e]=t[e],t1(e)&&(Ad[e].isCSSVariable=!0)}function IA(t,{layout:e,layoutId:n}){return ru.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ad[t]||t==="opacity")}const L7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V7=nu.length;function F7(t,e,n){let r="",i=!0;for(let a=0;a<V7;a++){const c=nu[a],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=xA(u,f1[c]);if(!h){i=!1;const g=L7[c]||c;r+=`${g}(${f}) `}n&&(e[c]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function b1(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let c=!1,u=!1;for(const h in e){const f=e[h];if(ru.has(h)){c=!0;continue}else if(t1(h)){i[h]=f;continue}else{const g=xA(f,f1[h]);h.startsWith("origin")?(u=!0,a[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=F7(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${f} ${g}`}}const w1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PA(t,e,n){for(const r in e)!Pr(e[r])&&!IA(r,n)&&(t[r]=e[r])}function U7({transformTemplate:t},e){return T.useMemo(()=>{const n=w1();return b1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $7(t,e){const n=t.style||{},r={};return PA(r,n,t),Object.assign(r,U7(t,e)),r}function z7(t,e){const n={},r=$7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const B7={offset:"stroke-dashoffset",array:"stroke-dasharray"},H7={offset:"strokeDashoffset",array:"strokeDasharray"};function W7(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?B7:H7;t[a.offset]=bt.transform(-r);const c=bt.transform(e),u=bt.transform(n);t[a.array]=`${c} ${u}`}function RA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...u},h,f,g){if(b1(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&W7(y,i,a,c,!1)}const DA=()=>({...w1(),attrs:{}}),MA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q7(t,e,n,r){const i=T.useMemo(()=>{const a=DA();return RA(a,e,MA(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};PA(a,t.style,t),i.style={...a,...i.style}}return i}const G7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _1(t){return typeof t!="string"||t.includes("-")?!1:!!(G7.indexOf(t)>-1||/[A-Z]/u.test(t))}function K7(t=!1){return(n,r,i,{latestValues:a},c)=>{const h=(_1(n)?q7:z7)(r,a,c,n),f=E7(r,typeof n=="string",t),g=n!==T.Fragment?{...f,...h,ref:i}:{},{children:y}=r,v=T.useMemo(()=>Pr(y)?y.get():y,[y]);return T.createElement(n,{...g,children:v})}}function bE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function E1(t,e,n,r){if(typeof e=="function"){const[i,a]=bE(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=bE(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Yf(t){return Pr(t)?t.get():t}function X7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Q7(n,r,i,t),renderState:e()}}const OA=t=>(e,n)=>{const r=T.useContext(Cm),i=T.useContext(Nm),a=()=>X7(t,e,r,i);return n?a():qx(a)};function Q7(t,e,n,r){const i={},a=r(t,{});for(const v in a)i[v]=Yf(a[v]);let{initial:c,animate:u}=t;const h=jm(t),f=NA(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?u:c;if(y&&typeof y!="boolean"&&!Am(y)){const v=Array.isArray(y)?y:[y];for(let w=0;w<v.length;w++){const S=E1(t,v[w]);if(S){const{transitionEnd:b,transition:N,...j}=S;for(const M in j){let O=j[M];if(Array.isArray(O)){const U=g?O.length-1:0;O=O[U]}O!==null&&(i[M]=O)}for(const M in b)i[M]=b[M]}}}return i}function k1(t,e,n){var a;const{style:r}=t,i={};for(const c in r)(Pr(r[c])||e.style&&Pr(e.style[c])||IA(c,t)||((a=n==null?void 0:n.getValue(c))==null?void 0:a.liveStyle)!==void 0)&&(i[c]=r[c]);return i}const Y7={useVisualState:OA({scrapeMotionValuesFromProps:k1,createRenderState:w1})};function LA(t,e,n){const r=k1(t,e,n);for(const i in t)if(Pr(t[i])||Pr(e[i])){const a=nu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const J7={useVisualState:OA({scrapeMotionValuesFromProps:LA,createRenderState:DA})};function Z7(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={..._1(r)?J7:Y7,preloadedFeatures:t,useRender:K7(i),createVisualElement:e,Component:r};return P7(c)}}function jd(t,e,n){const r=t.getProps();return E1(r,e,n!==void 0?n:r.custom,t)}const Zy=t=>Array.isArray(t);function eV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$c(n))}function tV(t){return Zy(t)?t[t.length-1]||0:t}function nV(t,e){const n=jd(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const c in a){const u=tV(a[c]);eV(t,c,u)}}function rV(t){return!!(Pr(t)&&t.add)}function ev(t,e){const n=t.getValue("willChange");if(rV(n))return n.add(e);if(!n&&Ea.WillChange){const r=new Ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function VA(t){return t.props[CA]}const iV=t=>t!==null;function sV(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(iV),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const aV={type:"spring",stiffness:500,damping:25,restSpeed:10},oV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lV={type:"keyframes",duration:.8},cV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uV=(t,{keyframes:e})=>e.length>2?lV:ru.has(t)?t.startsWith("scale")?oV(e[1]):aV:cV;function dV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:u,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const S1=(t,e,n,r={},i,a)=>c=>{const u=h1(r,t)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ls(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};dV(u)||Object.assign(g,uV(t,g)),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ea.instantAnimations||Ea.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const v=sV(g.keyframes,u);if(v!==void 0){xn.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new c1(g):new W8(g)};function hV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(a=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const y=t.getValue(g,t.latestValues[g]??null),v=u[g];if(v===void 0||f&&hV(f,g))continue;const w={delay:n,...h1(a||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const j=VA(t);if(j){const M=window.MotionHandoffAnimation(j,g,xn);M!==null&&(w.startTime=M,b=!0)}}ev(t,g),y.start(S1(g,y,v,t.shouldReduceMotion&&pA.has(g)?{type:!1}:w,t,b));const N=y.animation;N&&h.push(N)}return c&&Promise.all(h).then(()=>{xn.update(()=>{c&&nV(t,c)})}),h}function tv(t,e,n={}){var h;const r=jd(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(FA(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=i;return fV(t,e,f,g,y,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,g]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>g())}else return Promise.all([a(),c(n.delay)])}function fV(t,e,n=0,r=0,i=0,a=1,c){const u=[],h=t.variantChildren.size,f=(h-1)*i,g=typeof r=="function",y=g?v=>r(v,h):a===1?(v=0)=>v*i:(v=0)=>f-v*i;return Array.from(t.variantChildren).sort(pV).forEach((v,w)=>{v.notify("AnimationStart",e),u.push(tv(v,e,{...c,delay:n+(g?0:r)+y(w)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(u)}function pV(t,e){return t.sortNodePosition(e)}function mV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>tv(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=tv(t,e,n);else{const i=typeof e=="function"?jd(t,e,n.custom):e;r=Promise.all(FA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gV=v1.length;function $A(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$A(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gV;n++){const r=v1[n],i=t.props[r];(Cd(i)||i===!1)&&(e[r]=i)}return e}const yV=[...y1].reverse(),vV=y1.length;function xV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mV(t,n,r)))}function bV(t){let e=xV(t),n=wE(),r=!0;const i=h=>(f,g)=>{var v;const y=jd(t,g,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:w,transitionEnd:S,...b}=y;f={...f,...b,...S}}return f};function a(h){e=h(t)}function c(h){const{props:f}=t,g=$A(t.parent)||{},y=[],v=new Set;let w={},S=1/0;for(let N=0;N<vV;N++){const j=yV[N],M=n[j],O=f[j]!==void 0?f[j]:g[j],U=Cd(O),B=j===h?M.isActive:null;B===!1&&(S=N);let K=O===g[j]&&O!==f[j]&&U;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),M.protectedKeys={...w},!M.isActive&&B===null||!O&&!M.prevProp||Am(O)||typeof O=="boolean")continue;const R=wV(M.prevProp,O);let I=R||j===h&&M.isActive&&!K&&U||N>S&&U,A=!1;const k=Array.isArray(O)?O:[O];let L=k.reduce(i(j),{});B===!1&&(L={});const{prevResolvedValues:F={}}=M,D={...F,...L},be=Ke=>{I=!0,v.has(Ke)&&(A=!0,v.delete(Ke)),M.needsAnimating[Ke]=!0;const le=t.getValue(Ke);le&&(le.liveStyle=!1)};for(const Ke in D){const le=L[Ke],oe=F[Ke];if(w.hasOwnProperty(Ke))continue;let he=!1;Zy(le)&&Zy(oe)?he=!UA(le,oe):he=le!==oe,he?le!=null?be(Ke):v.add(Ke):le!==void 0&&v.has(Ke)?be(Ke):M.protectedKeys[Ke]=!0}M.prevProp=O,M.prevResolvedValues=L,M.isActive&&(w={...w,...L}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(K&&R)||A)&&y.push(...k.map(Ke=>({animation:Ke,options:{type:j}})))}if(v.size){const N={};if(typeof f.initial!="boolean"){const j=jd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(N.transition=j.transition)}v.forEach(j=>{const M=t.getBaseTarget(j),O=t.getValue(j);O&&(O.liveStyle=!0),N[j]=M??null}),y.push({animation:N})}let b=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(y):Promise.resolve()}function u(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var w;return(w=v.animationState)==null?void 0:w.setActive(h,f)}),n[h].isActive=f;const g=c(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=wE(),r=!0}}}function wV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UA(e,t):!1}function Xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:Xo(!0),whileInView:Xo(),whileHover:Xo(),whileTap:Xo(),whileDrag:Xo(),whileFocus:Xo(),exit:Xo()}}class No{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _V extends No{constructor(e){super(e),e.animationState||(e.animationState=bV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let EV=0;class kV extends No{constructor(){super(...arguments),this.id=EV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SV={animation:{Feature:_V},exit:{Feature:kV}};function Id(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rh(t){return{point:{x:t.pageX,y:t.pageY}}}const TV=t=>e=>m1(e)&&t(e,rh(e));function od(t,e,n,r){return Id(t,e,TV(n),r)}function zA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const BA=1e-4,AV=1-BA,jV=1+BA,HA=.01,IV=0-HA,PV=0+HA;function zr(t){return t.max-t.min}function RV(t,e,n){return Math.abs(t-e)<=n}function _E(t,e,n,r=.5){t.origin=r,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=zr(n)/zr(e),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AV&&t.scale<=jV||isNaN(t.scale))&&(t.scale=1),(t.translate>=IV&&t.translate<=PV||isNaN(t.translate))&&(t.translate=0)}function ld(t,e,n,r){_E(t.x,e.x,n.x,r?r.originX:void 0),_E(t.y,e.y,n.y,r?r.originY:void 0)}function EE(t,e,n){t.min=n.min+e.min,t.max=t.min+zr(e)}function DV(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}function kE(t,e,n){t.min=e.min-n.min,t.max=t.min+zr(e)}function cd(t,e,n){kE(t.x,e.x,n.x),kE(t.y,e.y,n.y)}const SE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sc=()=>({x:SE(),y:SE()}),TE=()=>({min:0,max:0}),Ln=()=>({x:TE(),y:TE()});function Ri(t){return[t("x"),t("y")]}function F0(t){return t===void 0||t===1}function nv({scale:t,scaleX:e,scaleY:n}){return!F0(t)||!F0(e)||!F0(n)}function Yo(t){return nv(t)||WA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WA(t){return NE(t.x)||NE(t.y)}function NE(t){return t&&t!=="0%"}function Pp(t,e,n){const r=t-n,i=e*r;return n+i}function CE(t,e,n,r,i){return i!==void 0&&(t=Pp(t,i,r)),Pp(t,n,r)+e}function rv(t,e=0,n=1,r,i){t.min=CE(t.min,e,n,r,i),t.max=CE(t.max,e,n,r,i)}function qA(t,{x:e,y:n}){rv(t.x,e.translate,e.scale,e.originPoint),rv(t.y,n.translate,n.scale,n.originPoint)}const AE=.999999999999,jE=1.0000000000001;function MV(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,c;for(let u=0;u<i;u++){a=n[u],c=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Nc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qA(t,c)),r&&Yo(a.latestValues)&&Nc(t,a.latestValues))}e.x<jE&&e.x>AE&&(e.x=1),e.y<jE&&e.y>AE&&(e.y=1)}function Tc(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,i=.5){const a=Sn(t.min,t.max,i);rv(t,e,n,a,r)}function Nc(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function GA(t,e){return zA(CV(t.getBoundingClientRect(),e))}function OV(t,e,n){const r=GA(t,n),{scroll:i}=e;return i&&(Tc(r.x,i.offset.x),Tc(r.y,i.offset.y)),r}const KA=({current:t})=>t?t.ownerDocument.defaultView:null,PE=(t,e)=>Math.abs(t-e);function LV(t,e){const n=PE(t.x,e.x),r=PE(t.y,e.y);return Math.sqrt(n**2+r**2)}class XA{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=LV(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:b}=v,{timestamp:N}=gr;this.history.push({...b,timestamp:N});const{onStart:j,onMove:M}=this.handlers;w||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=U0(w,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=$0(v.type==="pointercancel"?this.lastMoveEventInfo:U0(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,j),b&&b(v,j)},!m1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=i||window;const u=rh(e),h=U0(u,this.transformPagePoint),{point:f}=h,{timestamp:g}=gr;this.history=[{...f,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,$0(h,this.history)),this.removeListeners=eh(od(this.contextWindow,"pointermove",this.handlePointerMove),od(this.contextWindow,"pointerup",this.handlePointerUp),od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function U0(t,e){return e?{point:e(t.point)}:t}function RE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $0({point:t},e){return{point:t,delta:RE(t,QA(e)),offset:RE(t,VV(e)),velocity:FV(e,.1)}}function VV(t){return t[0]}function QA(t){return t[t.length-1]}function FV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=QA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const a=Vs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Sn(n,t,r.max):Math.min(t,n)),t}function DE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $V(t,{top:e,left:n,bottom:r,right:i}){return{x:DE(t.x,n,i),y:DE(t.y,e,r)}}function ME(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zV(t,e){return{x:ME(t.x,e.x),y:ME(t.y,e.y)}}function BV(t,e){let n=.5;const r=zr(t),i=zr(e);return i>r?n=Sd(e.min,e.max-r,t.min):r>i&&(n=Sd(t.min,t.max-i,e.min)),_a(0,1,n)}function HV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iv=.35;function WV(t=iv){return t===!1?t=0:t===!0&&(t=iv),{x:OE(t,"left","right"),y:OE(t,"top","bottom")}}function OE(t,e,n){return{min:LE(t,e),max:LE(t,n)}}function LE(t,e){return typeof t=="number"?t:t[e]||0}const qV=new WeakMap;class GV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rh(y).point)},c=(y,v)=>{const{drag:w,dragPropagation:S,onDragStart:b}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o7(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(j=>{let M=this.getAxisMotionValue(j).get()||0;if(Fs.test(M)){const{projection:O}=this.visualElement;if(O&&O.layout){const U=O.layout.layoutBox[j];U&&(M=zr(U)*(parseFloat(M)/100))}}this.originPoint[j]=M}),b&&xn.postRender(()=>b(y,v)),ev(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:b,onDrag:N}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=v;if(S&&this.currentDirection===null){this.currentDirection=KV(j),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),N&&N(y,v)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ri(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new XA(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:KA(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&xn.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!kf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=UV(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$V(r.layoutBox,e):this.constraints=!1,this.elastic=WV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ri(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=HV(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=OV(r,i.root,this.visualElement.getTransformPagePoint());let c=zV(i.layout.layoutBox,a);if(n){const u=n(NV(c));this.hasMutatedConstraints=!!u,u&&(c=zA(u))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Ri(g=>{if(!kf(g,n,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const v=i?200:1e6,w=i?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ev(this.visualElement,e),r.start(S1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ri(n=>{const{drag:r}=this.getProps();if(!kf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];a.set(e[n]-Sn(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ri(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();i[c]=BV({min:h,max:h},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ri(c=>{if(!kf(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];u.set(Sn(h,f,i[c]))})}addListeners(){if(!this.visualElement.current)return;qV.set(this.visualElement,this);const e=this.visualElement.current,n=od(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();kc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xn.read(r);const c=Id(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ri(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=iv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function kf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XV extends No{constructor(e){super(e),this.removeGroupControls=Vi,this.removeListeners=Vi,this.controls=new GV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const VE=t=>(e,n)=>{t&&xn.postRender(()=>t(e,n))};class QV extends No{constructor(){super(...arguments),this.removePointerDownListener=Vi}onPointerDown(e){this.session=new XA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VE(e),onStart:VE(n),onMove:r,onEnd:(a,c)=>{delete this.session,i&&xn.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(bt.test(t))t=parseFloat(t);else return t;const n=FE(t,e.target.x),r=FE(t,e.target.y);return`${n}% ${r}%`}},YV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xo.parse(t);if(i.length>5)return r;const a=xo.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=h;const f=Sn(u,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f),a(i)}};let UE=!1;class JV extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;O7(ZV),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),UE&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:c}=r;return c&&(c.isPresent=a,UE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||xn.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YA(t){const[e,n]=kA(),r=T.useContext(Wx);return o.jsx(JV,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(AA),isPresent:e,safeToRemove:n})}const ZV={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:YV};function eF(t,e,n){const r=Pr(t)?t:$c(t);return r.start(S1("",r,e,n)),r.animation}const tF=(t,e)=>t.depth-e.depth;class nF{constructor(){this.children=[],this.isDirty=!1}add(e){Kx(this.children,e),this.isDirty=!0}remove(e){Xx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tF),this.isDirty=!1,this.children.forEach(e)}}function rF(t,e){const n=ii.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(vo(r),t(a-e))};return xn.setup(r,!0),()=>vo(r)}const JA=["TopLeft","TopRight","BottomLeft","BottomRight"],iF=JA.length,$E=t=>typeof t=="string"?parseFloat(t):t,zE=t=>typeof t=="number"||bt.test(t);function sF(t,e,n,r,i,a){i?(t.opacity=Sn(0,n.opacity??1,aF(r)),t.opacityExit=Sn(e.opacity??1,0,oF(r))):a&&(t.opacity=Sn(e.opacity??1,n.opacity??1,r));for(let c=0;c<iF;c++){const u=`border${JA[c]}Radius`;let h=BE(e,u),f=BE(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||zE(h)===zE(f)?(t[u]=Math.max(Sn($E(h),$E(f),r),0),(Fs.test(f)||Fs.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,r))}function BE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aF=ZA(0,.5,WC),oF=ZA(.5,.95,Vi);function ZA(t,e,n){return r=>r<t?0:r>e?1:n(Sd(t,e,r))}function HE(t,e){t.min=e.min,t.max=e.max}function Pi(t,e){HE(t.x,e.x),HE(t.y,e.y)}function WE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qE(t,e,n,r,i){return t-=e,t=Pp(t,1/n,r),i!==void 0&&(t=Pp(t,1/i,r)),t}function lF(t,e=0,n=1,r=.5,i,a=t,c=t){if(Fs.test(e)&&(e=parseFloat(e),e=Sn(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Sn(a.min,a.max,r);t===a&&(u-=e),t.min=qE(t.min,e,n,u,i),t.max=qE(t.max,e,n,u,i)}function GE(t,e,[n,r,i],a,c){lF(t,e[n],e[r],e[i],e.scale,a,c)}const cF=["x","scaleX","originX"],uF=["y","scaleY","originY"];function KE(t,e,n,r){GE(t.x,e,cF,n?n.x:void 0,r?r.x:void 0),GE(t.y,e,uF,n?n.y:void 0,r?r.y:void 0)}function XE(t){return t.translate===0&&t.scale===1}function e4(t){return XE(t.x)&&XE(t.y)}function QE(t,e){return t.min===e.min&&t.max===e.max}function dF(t,e){return QE(t.x,e.x)&&QE(t.y,e.y)}function YE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function t4(t,e){return YE(t.x,e.x)&&YE(t.y,e.y)}function JE(t){return zr(t.x)/zr(t.y)}function ZE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hF{constructor(){this.members=[]}add(e){Kx(this.members,e),e.scheduleRender()}remove(e){if(Xx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fF(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||a||c)&&(r=`translate3d(${i}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:v,skewX:w,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const z0=["","X","Y","Z"],pF=1e3;let mF=0;function B0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function n4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&n4(r)}function r4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},u=e==null?void 0:e()){this.id=mF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vF),this.nodes.forEach(_F),this.nodes.forEach(EF),this.nodes.forEach(xF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new nF)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jx),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=EA(c)&&!f7(c),this.instance=c;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{y=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,g&&g(),g=rF(v,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(nk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||CF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:N}=f.getProps(),j=!this.targetLayout||!t4(this.targetLayout,w),M=!y&&v;if(this.options.layoutRoot||this.resumeFrom||M||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...h1(S,"layout"),onPlay:b,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,M)}else y||nk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kF),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ek);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wF),this.nodes.forEach(gF),this.nodes.forEach(yF)):this.nodes.forEach(tk),this.clearAllSnapshots();const u=ii.now();gr.delta=_a(0,1e3/60,u-gr.timestamp),gr.timestamp=u,gr.isProcessing=!0,R0.update.process(gr),R0.preRender.process(gr),R0.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bF),this.sharedNodes.forEach(SF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zr(this.snapshot.measuredBox.x)&&!zr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!e4(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||Yo(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),AF(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Ln();const u=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(jF))){const{scroll:g}=this.root;g&&(Tc(u.x,g.offset.x),Tc(u.y,g.offset.y))}return u}removeElementScroll(c){var h;const u=Ln();if(Pi(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Pi(u,c),Tc(u.x,y.offset.x),Tc(u.y,y.offset.y))}return u}applyTransform(c,u=!1){const h=Ln();Pi(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Nc(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Yo(g.latestValues)&&Nc(h,g.latestValues)}return Yo(this.latestValues)&&Nc(h,this.latestValues),h}removeTransform(c){const u=Ln();Pi(u,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Yo(f.latestValues))continue;nv(f.latestValues)&&f.updateSnapshot();const g=Ln(),y=f.measurePageBox();Pi(g,y),KE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Yo(this.latestValues)&&KE(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),cd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),qA(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),cd(this.relativeTargetOrigin,this.target,w.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nv(this.parent.latestValues)||WA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Pi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;MV(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ln());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WE(this.prevProjectionDelta.x,this.projectionDelta.x),WE(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!ZE(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sc(),this.projectionDelta=Sc(),this.projectionDeltaWithTransform=Sc()}setAnimationOrigin(c,u=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},y=Sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Ln(),w=h?h.source:void 0,S=this.layout?this.layout.source:void 0,b=w!==S,N=this.getStack(),j=!N||N.members.length<=1,M=!!(b&&!j&&this.options.crossfade===!0&&!this.path.some(NF));this.animationProgress=0;let O;this.mixTargetDelta=U=>{const B=U/1e3;rk(y.x,c.x,B),rk(y.y,c.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TF(this.relativeTarget,this.relativeTargetOrigin,v,B),O&&dF(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ln()),Pi(O,this.relativeTarget)),b&&(this.animationValues=g,sF(g,f,this.latestValues,B,M,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$c(0)),this.currentAnimation=eF(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:g}=c;if(!(!u||!h||!f)){if(this!==c&&this.layout&&f&&i4(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Ln();const y=zr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=zr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Pi(u,h),Nc(u,g),ld(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hF),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&B0("z",c,f,this.animationValues);for(let g=0;g<z0.length;g++)B0(`rotate${z0[g]}`,c,f,this.animationValues),B0(`skew${z0[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Yf(u==null?void 0:u.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Yf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Yo(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=fF(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),c.transform=y;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Ad){if(g[S]===void 0)continue;const{correct:b,applyTo:N,isCSSVariable:j}=Ad[S],M=y==="none"?g[S]:b(g[S],f);if(N){const O=N.length;for(let U=0;U<O;U++)c[N[U]]=M}else j?this.options.visualElement.renderState.vars[S]=M:c[S]=M}this.options.layoutId&&(c.pointerEvents=f===this?Yf(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(ek),this.root.sharedNodes.clear()}}}function gF(t){t.updateLayout()}function yF(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?Ri(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],w=zr(v);v.min=r[y].min,v.max=v.min+w}):i4(a,e.layoutBox,r)&&Ri(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],w=zr(r[y]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=Sc();ld(u,r,e.layoutBox);const h=Sc();c?ld(h,t.applyTransform(i,!0),e.measuredBox):ld(h,r,e.layoutBox);const f=!e4(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const S=Ln();cd(S,e.layoutBox,v.layoutBox);const b=Ln();cd(b,r,w.layoutBox),t4(S,b)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function vF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bF(t){t.clearSnapshot()}function ek(t){t.clearMeasurements()}function tk(t){t.isLayoutDirty=!1}function wF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _F(t){t.resolveTargetDelta()}function EF(t){t.calcProjection()}function kF(t){t.resetSkewAndRotation()}function SF(t){t.removeLeadSnapshot()}function rk(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ik(t,e,n,r){t.min=Sn(e.min,n.min,r),t.max=Sn(e.max,n.max,r)}function TF(t,e,n,r){ik(t.x,e.x,n.x,r),ik(t.y,e.y,n.y,r)}function NF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CF={duration:.45,ease:[.4,0,.1,1]},sk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ak=sk("applewebkit/")&&!sk("chrome/")?Math.round:Vi;function ok(t){t.min=ak(t.min),t.max=ak(t.max)}function AF(t){ok(t.x),ok(t.y)}function i4(t,e,n){return t==="position"||t==="preserve-aspect"&&!RV(JE(e),JE(n),.2)}function jF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const IF=r4({attachResizeListener:(t,e)=>Id(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H0={current:void 0},s4=r4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!H0.current){const t=new IF({});t.mount(window),t.setOptions({layoutScroll:!0}),H0.current=t}return H0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PF={pan:{Feature:QV},drag:{Feature:XV,ProjectionNode:s4,MeasureLayout:YA}};function lk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&xn.postRender(()=>a(e,rh(e)))}class RF extends No{mount(){const{current:e}=this.node;e&&(this.unmount=l7(e,(n,r)=>(lk(this.node,r,"Start"),i=>lk(this.node,i,"End"))))}unmount(){}}class DF extends No{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eh(Id(this.node.current,"focus",()=>this.onFocus()),Id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ck(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&xn.postRender(()=>a(e,rh(e)))}class MF extends No{mount(){const{current:e}=this.node;e&&(this.unmount=h7(e,(n,r)=>(ck(this.node,r,"Start"),(i,{success:a})=>ck(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,W0=new WeakMap,OF=t=>{const e=sv.get(t.target);e&&e(t)},LF=t=>{t.forEach(OF)};function VF({root:t,...e}){const n=t||document;W0.has(n)||W0.set(n,{});const r=W0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(LF,{root:t,...e})),r[i]}function FF(t,e,n){const r=VF(e);return sv.set(t,n),r.observe(t),()=>{sv.delete(t),r.unobserve(t)}}const UF={some:0,all:1};class $F extends No{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UF[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=f?g:y;v&&v(h)};return FF(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zF(e,n))&&this.startObserver()}unmount(){}}function zF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const BF={inView:{Feature:$F},tap:{Feature:MF},focus:{Feature:DF},hover:{Feature:RF}},HF={layout:{ProjectionNode:s4,MeasureLayout:YA}},av={current:null},a4={current:!1};function WF(){if(a4.current=!0,!!Gx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>av.current=t.matches;t.addEventListener("change",e),e()}else av.current=!1}const qF=new WeakMap;function GF(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Pr(i))t.addValue(r,i);else if(Pr(a))t.addValue(r,$c(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,$c(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ii.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xn.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=jm(n),this.isVariantNode=NA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const w=y[v];h[v]!==void 0&&Pr(w)&&w.set(h[v],!1)}}mount(e){this.current=e,qF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),a4.current||WF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:av.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ru.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zc){const n=zc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uk.length;r++){const i=uk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=e[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=GF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$c(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(MC(r)||LC(r))?r=parseFloat(r):!m7(r)&&xo.test(n)&&(r=vA(e,n)),this.setBaseTarget(e,Pr(r)?r.get():r)),Pr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=E1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class o4 extends KF{constructor(){super(...arguments),this.KeyframeResolver=r7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function l4(t,{style:e,vars:n},r,i){const a=t.style;let c;for(c in e)a[c]=e[c];i==null||i.applyProjectionStyles(a,r);for(c in n)a.setProperty(c,n[c])}function XF(t){return window.getComputedStyle(t)}class QF extends o4{constructor(){super(...arguments),this.type="html",this.renderInstance=l4}readValueFromInstance(e,n){var r;if(ru.has(n))return(r=this.projection)!=null&&r.isProjecting?Gy(n):_8(e,n);{const i=XF(e),a=(t1(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GA(e,n)}build(e,n,r){b1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return k1(e,n,r)}}const c4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YF(t,e,n,r){l4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(c4.has(i)?i:x1(i),e.attrs[i])}class JF extends o4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ru.has(n)){const r=yA(n);return r&&r.default||0}return n=c4.has(n)?n:x1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LA(e,n,r)}build(e,n,r){RA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){YF(e,n,r,i)}mount(e){this.isSVGTag=MA(e.tagName),super.mount(e)}}const ZF=(t,e)=>_1(t)?new JF(e):new QF(e,{allowProjection:t!==T.Fragment}),eU=Z7({...SV,...BF,...PF,...HF},ZF),ae=k7(eU);var u4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dk=Br.createContext&&Br.createContext(u4),tU=["attr","size","title"];function nU(t,e){if(t==null)return{};var n=rU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){iU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iU(t,e,n){return e=sU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t){var e=aU(t,"string");return typeof e=="symbol"?e:e+""}function aU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d4(t){return t&&t.map((e,n)=>Br.createElement(e.tag,Dp({key:n},e.attr),d4(e.child)))}function It(t){return e=>Br.createElement(oU,Rp({attr:Dp({},t.attr)},e),d4(t.child))}function oU(t){var e=n=>{var{attr:r,size:i,title:a}=t,c=nU(t,tU),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Br.createElement("svg",Rp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:Dp(Dp({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Br.createElement("title",null,a),t.children)};return dk!==void 0?Br.createElement(dk.Consumer,null,n=>e(n)):e(u4)}function Mp(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function fk(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function lU(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function cU(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function uU(t){return It({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function dU(t){return It({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function T1(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function hU(t){return It({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function ih(t){return It({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function fU(t){return It({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(t)}function ov(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function Op(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function pU(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function lv(t){return It({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function mU(t){return It({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(t)}function gU(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function q0(t){return It({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function cv(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function pk(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function yU(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function vU(t){return It({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function h4(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function xU(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(t)}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mk=t=>{const e=wU(t);return e.charAt(0).toUpperCase()+e.slice(1)},f4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_U=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...u},h)=>T.createElement("svg",{ref:h,...EU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f4("lucide",i),...!a&&!_U(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,g])=>T.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(kU,{ref:a,iconNode:e,className:f4(`lucide-${bU(mk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=mk(t),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fu=bn("check",SU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NU=bn("chevron-down",TU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],AU=bn("chevron-left",CU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IU=bn("chevron-right",jU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uv=bn("circle-check-big",PU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lp=bn("circle-x",RU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],p4=bn("clock",DU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],OU=bn("credit-card",MU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VU=bn("download",LU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],UU=bn("gift",FU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ud=bn("house",$U);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BU=bn("locate-fixed",zU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Sf=bn("map",HU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qU=bn("pencil",WU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KU=bn("refresh-cw",GU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vp=bn("shield",XU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],YU=bn("shopping-cart",QU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ZU=bn("sparkles",JU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t$=bn("star",e$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],G0=bn("store",n$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],i$=bn("trash-2",r$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gk=bn("triangle-alert",s$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],o$=bn("trophy",a$);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m4=bn("zap",l$),yk=["Distrito Nacional","Santo Domingo","Santiago","La Vega","Puerto Plata","San Cristóbal","Duarte","La Romana","San Pedro de Macorís","Espaillat","Hermanas Mirabal","Monte Plata","San Juan","Azua","Peravia","Monseñor Nouel","Barahona","Sánchez Ramírez","Valverde","María Trinidad Sánchez","Monte Cristi","Samaná","El Seibo","Hato Mayor","Independencia","Pedernales","Elías Piña","Dajabón","Baoruco"],ca={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, República Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"};function c$({abierto:t,onClose:e,onPick:n,valorActual:r}){const[i,a]=T.useState(""),c=T.useMemo(()=>{if(!i)return yk;const u=i.toLowerCase();return yk.filter(h=>h.toLowerCase().includes(u))},[i]);return T.useEffect(()=>{t||a("")},[t]),typeof document>"u"?null:jv.createPortal(o.jsx(fn,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(ae.div,{className:"prov-picker-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),o.jsx(ae.div,{className:"prov-picker-modal",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},onClick:u=>u.stopPropagation(),children:o.jsxs("div",{className:"prov-dark-card",children:[o.jsxs("div",{className:"prov-dark-header",children:[o.jsx("h3",{className:"prov-dark-title",children:"Seleccionar Provincia"}),o.jsx("button",{onClick:e,className:"prov-close-white",children:"✕"})]}),o.jsx("div",{className:"prov-search-dark",children:o.jsx("input",{type:"text",placeholder:"Buscar provincia...",value:i,onChange:u=>a(u.target.value),className:"prov-input-dark",autoFocus:!0})}),o.jsx("div",{className:"prov-list-dark",children:c.length>0?c.map(u=>o.jsx("div",{className:`prov-item-dark ${r===u?"active":""}`,onClick:()=>{n(u),e()},children:u},u)):o.jsx("div",{className:"prov-empty-dark",children:"No se encontraron provincias"})})]})})]})}),document.body)}function g4({abierto:t,onClose:e,actualizarUsuarioInfo:n,actualizarLista:r,direccionEditar:i,usuarioId:a}){const{uid:c,usuario:u}=Hr(),[h,f]=T.useState("domicilio"),[g,y]=T.useState([]),[v,w]=T.useState(!1),[S,b]=T.useState(null),[N,j]=T.useState(""),[M,O]=T.useState(""),[U,B]=T.useState(""),[K,R]=T.useState(""),[I,A]=T.useState(""),[k,L]=T.useState(""),[F,D]=T.useState(""),[be,Ge]=T.useState(!1),[ot,Ke]=T.useState(!1),[le,oe]=T.useState(!1),[he,z]=T.useState(null),[Q,we]=T.useState(""),[Be,Ue]=T.useState(!1),tt=ee=>ee||"",[ft,ct]=T.useState(""),[it,Je]=T.useState(null),[St,At]=T.useState(!1),[_t,Rt]=T.useState(!1),re=async()=>{const ee=a||c||(u==null?void 0:u.uid);if(!ee){y([]);return}w(!0);try{const Me=ln(Ft(Re,"direcciones"),br("usuarioId","==",ee)),yt=(await Ir(Me)).docs.map(W=>({id:W.id,...W.data()}));y(yt)}catch(Me){console.error("fetchDirecciones error:",Me),y([])}finally{w(!1)}};T.useEffect(()=>{const ee=a||c||(u==null?void 0:u.uid);t&&ee&&re()},[t,c,u,a]),T.useEffect(()=>{t&&(re(),i?(b(i.id),f(i.metodoEntrega||"domicilio"),j(i.provincia||""),O(i.ciudad||""),B(i.sector||""),R(i.numeroCalle||""),A(i.numeroCasa||""),L(i.telefono||""),D(i.referencia||""),ct(i.ubicacion||""),Rt(i.metodoEntrega==="tienda")):(b(null),f("domicilio"),j(""),O(""),B(""),R(""),A(""),L(""),D(""),ct(""),Je(null),Rt(!1)))},[t,i]),T.useEffect(()=>{if(!t)return;const ee=Me=>{Me.key==="Escape"&&e&&e()};return document.body.style.overflow="hidden",document.addEventListener("keydown",ee),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",ee)}},[t,e]);const $e=ee=>{if(ee==="tienda"){f("tienda"),j(ca.provincia),O(ca.ciudad),R(ca.numeroCalle),B(""),A(""),D(""),b(null),ct(""),Je(null),Rt(!0);return}if(ee==="domicilio"){f("domicilio"),_t&&(j(""),O(""),S||(R(""),B(""),A(""),D("")),Rt(!1));return}f(ee)},Pe=()=>[K,I?`Casa ${I}`:"",U,M,N,F?`Ref: ${F}`:""].filter(Boolean).join(", ").trim(),de=async()=>{const ee=c||(u==null?void 0:u.uid);if(console.log("Auth check:",{uid:c,usuario:u==null?void 0:u.uid,currentUid:ee}),!ee){alert("Error de autenticación. Recarga la página e intenta de nuevo.");return}Ge(!0);try{if(h==="tienda"){if(!k||k.trim()===""){we("El número de teléfono es obligatorio para recoger en tienda"),Ge(!1);return}typeof n=="function"&&await n({direccion:tt(ca.direccionCompleta),metodoEntrega:"tienda",telefono:k}),e&&e(),typeof r=="function"&&r(),Ge(!1);return}if(!k||k.trim()===""){we("El número de teléfono es obligatorio"),Ge(!1);return}const Me=!!it;if(!Me&&!Pe()){alert("Completa provincia, ciudad y calle/número."),Ge(!1);return}const Le=Me?`${Pe()?Pe()+", ":""}Ubicación: ${ft} (${it==null?void 0:it.lat}, ${it==null?void 0:it.lon})`:Pe(),yt={metodoEntrega:"domicilio",provincia:N||null,ciudad:M||null,numeroCalle:K||null,numeroCasa:I||null,sector:U||null,referencia:F||null,telefono:k||null,direccionCompleta:Le,ubicacion:ft||null,coords:it||null,usuarioId:ee,updatedAt:new Date};if(S){const H=dt(Re,"direcciones",S);await Wn(H,{...yt})}else await Em(Ft(Re,"direcciones"),{...yt,createdAt:new Date});typeof n=="function"&&await n({direccion:tt(Le),metodoEntrega:"domicilio"}),Ke(!0);const W={direccion:tt(Le),metodoEntrega:"domicilio",telefono:k,updatedAt:new Date};try{await Gn(dt(Re,"users",ee),W,{merge:!0})}catch(H){console.warn("No se pudo escribir users/{uid}:",H)}try{await Gn(dt(Re,"usuarios",ee),W,{merge:!0})}catch(H){console.warn("No se pudo escribir usuarios/{uid}:",H)}typeof n=="function"&&await n({telefono:k}),await re(),typeof r=="function"&&r(),b(null),e&&e(),window.location.reload()}catch(Me){console.error("handleGuardarDireccion error:",Me),alert(`Error guardando dirección: ${(Me==null?void 0:Me.message)||Me}`)}finally{Ge(!1)}},Qe=async ee=>{try{const Me=typeof ee=="string"?ee:(ee==null?void 0:ee.direccionCompleta)||"",Le=ee&&ee.metodoEntrega?ee.metodoEntrega:"domicilio",yt=c||(u==null?void 0:u.uid);Ke(!0),typeof n=="function"&&await n({direccion:Me,metodoEntrega:Le,telefono:k});const W={direccion:Me,metodoEntrega:Le,telefono:k,updatedAt:new Date};try{await Gn(dt(Re,"users",yt),W,{merge:!0})}catch(H){console.warn("No se pudo escribir users/{uid}:",H)}try{await Gn(dt(Re,"usuarios",yt),W,{merge:!0})}catch(H){console.warn("No se pudo escribir usuarios/{uid}:",H)}try{let H=await ss(dt(Re,"users",yt));if(H.exists()||(H=await ss(dt(Re,"usuarios",yt))),H&&H.exists()){const ve=H.data()||{};typeof n=="function"&&await n({direccion:ve.direccion||Me,metodoEntrega:ve.metodoEntrega||Le})}}catch(H){console.warn("No se pudo releer documento de usuario:",H)}await re(),typeof r=="function"&&r(),e&&e(),window.location.reload()}catch(Me){console.error("handleSeleccionarDireccion error:",Me),Ke(!1),alert(`Error seleccionando dirección: ${(Me==null?void 0:Me.message)||Me}`)}},We=async ee=>{try{await _m(dt(Re,"direcciones",ee)),await re(),typeof r=="function"&&r(),alert("Dirección eliminada correctamente.")}catch(Me){console.error("eliminarDireccion:",Me),alert(`Error eliminando dirección: ${(Me==null?void 0:Me.message)||Me}`)}},Dt=ee=>{z(ee),oe(!0)},jt=()=>{oe(!1),z(null)},Pt=()=>{he&&(We(he),oe(!1),z(null))},Ee=ee=>{!ee||ee.metodoEntrega==="tienda"||(b(ee.id),f("domicilio"),j(ee.provincia||""),O(ee.ciudad||""),B(ee.sector||""),R(ee.numeroCalle||""),A(ee.numeroCasa||""),L(ee.telefono||""),D(ee.referencia||""),ct(ee.ubicacion||""),Je(ee.coords||null),Rt(!1))},te=()=>{if(!navigator.geolocation){alert("Geolocalización no soportada en este navegador.");return}At(!0),navigator.geolocation.getCurrentPosition(ee=>{const Me=ee.coords.latitude.toFixed(6),Le=ee.coords.longitude.toFixed(6),yt=`https://www.google.com/maps?q=${Me},${Le}`;ct(yt),Je({lat:Me,lon:Le}),R(`${Me}, ${Le}`),At(!1)},ee=>{console.error("Error geolocalización:",ee);let Me="No se pudo obtener la ubicación.";switch(ee.code){case ee.PERMISSION_DENIED:Me="Permisos denegados. Haz clic en el candado 🔒 junto a la URL y permite la ubicación.";break;case ee.POSITION_UNAVAILABLE:Me="Ubicación no disponible. Asegúrate de estar conectado a internet y tener servicios de ubicación activados.";break;case ee.TIMEOUT:Me="Tiempo agotado. Intenta de nuevo.";break;default:Me="Error desconocido. Verifica permisos del navegador."}alert(Me),At(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ye=()=>{ct(""),Je(null),K&&/^\s*-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?\s*$/.test(K)&&R("")};if(!t)return null;const Ce=g.filter(ee=>ee.metodoEntrega!=="tienda");return jv.createPortal(o.jsxs(o.Fragment,{children:[o.jsx(ae.div,{className:"entrega-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),o.jsx(ae.div,{className:"entrega-slider",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:200},role:"dialog","aria-modal":"true",onClick:ee=>ee.stopPropagation(),children:o.jsxs("div",{className:"entrega-slider-content","aria-labelledby":"entrega-title",children:[o.jsx("div",{className:"entrega-drag-handle"}),o.jsxs("div",{className:"entrega-header",children:[o.jsxs("div",{className:"entrega-header-content",children:[o.jsx("div",{className:"entrega-icon-wrapper",children:o.jsx("div",{className:"entrega-icon",children:"🚚"})}),o.jsxs("div",{className:"entrega-title-section",children:[o.jsx("h3",{id:"entrega-title",className:"entrega-title",children:"Método de entrega"}),o.jsx("p",{className:"entrega-subtitle",children:"Elige cómo quieres recibir tu pedido"})]})]}),o.jsx("button",{onClick:e,className:"entrega-close-btn","aria-label":"Cerrar",children:o.jsx(Lp,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"entrega-methods",children:[o.jsxs(ae.button,{type:"button",onClick:()=>$e("domicilio"),className:`method-card ${h==="domicilio"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="domicilio",children:[o.jsx("div",{className:"method-icon domicilio-icon",children:o.jsx(ud,{className:"w-6 h-6"})}),o.jsxs("div",{className:"method-info",children:[o.jsx("h4",{className:"method-title",children:"A domicilio"}),o.jsx("p",{className:"method-desc",children:"Entrega en tu dirección"})]}),h==="domicilio"&&o.jsx(ae.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:o.jsx(Fu,{className:"w-5 h-5"})})]}),o.jsxs(ae.button,{type:"button",onClick:()=>$e("tienda"),className:`method-card ${h==="tienda"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="tienda",children:[o.jsx("div",{className:"method-icon tienda-icon",children:o.jsx(G0,{className:"w-6 h-6"})}),o.jsxs("div",{className:"method-info",children:[o.jsx("h4",{className:"method-title",children:"Recoger en tienda"}),o.jsx("p",{className:"method-desc",children:"Playcenter Universal"})]}),h==="tienda"&&o.jsx(ae.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:o.jsx(Fu,{className:"w-5 h-5"})})]})]}),h==="domicilio"&&o.jsxs(ae.button,{type:"button",onClick:te,className:`location-btn ${St?"loading":""}`,disabled:St,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[o.jsx(BU,{className:`w-5 h-5 ${St?"animate-pulse":""}`}),o.jsx("span",{children:St?"Obteniendo ubicación...":"Usar mi ubicación actual"})]}),h==="tienda"&&o.jsx(ae.div,{className:"tienda-phone-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Teléfono de contacto *"}),o.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:k,onChange:ee=>{L(ee.target.value),Q&&we("")},className:"form-input",required:!0}),Q&&o.jsx("div",{className:"phone-error-message",children:o.jsxs("span",{children:["⚠️ ",Q]})}),o.jsx("p",{className:"form-note",children:"📞 Te contactaremos cuando tu pedido esté listo para recoger"})]})}),o.jsxs("div",{className:"entrega-form",children:[o.jsx(fn,{children:it&&o.jsxs(ae.div,{className:"coords-display",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[o.jsxs("div",{className:"coords-header",children:[o.jsx(Sf,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"coords-title",children:"Ubicación detectada"}),o.jsx("button",{onClick:ye,className:"coords-remove","aria-label":"Quitar ubicación",children:o.jsx(Lp,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"coords-info",children:[o.jsxs("div",{className:"coord-item",children:[o.jsx("span",{className:"coord-label",children:"Lat:"}),o.jsx("span",{className:"coord-value",children:it.lat})]}),o.jsxs("div",{className:"coord-item",children:[o.jsx("span",{className:"coord-label",children:"Lng:"}),o.jsx("span",{className:"coord-value",children:it.lon})]})]})]})}),o.jsx(fn,{mode:"wait",children:h==="domicilio"?o.jsxs(ae.div,{className:"address-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[o.jsxs("div",{className:"form-section",children:[o.jsx("label",{className:"form-label",children:"Provincia *"}),o.jsxs("button",{type:"button",onClick:()=>Ue(!0),className:"province-selector","aria-haspopup":"dialog","aria-expanded":Be,children:[o.jsx("span",{className:`province-text ${N?"":"placeholder"}`,children:N||"Selecciona tu provincia"}),o.jsx(NU,{className:"province-chevron"})]})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Ciudad *"}),o.jsx("input",{placeholder:"Ej: Santiago",value:M,onChange:ee=>O(ee.target.value),className:"form-input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Sector"}),o.jsx("input",{placeholder:"Ej: Los Jardines",value:U,onChange:ee=>B(ee.target.value),className:"form-input"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Calle y número *"}),o.jsx("input",{placeholder:"Ej: Av. Juan Pablo Duarte #123",value:K,onChange:ee=>R(ee.target.value),className:"form-input"})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Número de casa"}),o.jsx("input",{placeholder:"Ej: 45-B",value:I,onChange:ee=>A(ee.target.value),className:"form-input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Teléfono *"}),o.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:k,onChange:ee=>{L(ee.target.value),Q&&we("")},className:"form-input",required:!0}),Q&&o.jsx("div",{className:"phone-error-message",children:o.jsxs("span",{children:["⚠️ ",Q]})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Referencia"}),o.jsx("input",{placeholder:"Ej: Casa azul",value:F,onChange:ee=>D(ee.target.value),className:"form-input"})]}),!it&&o.jsxs("div",{className:"form-note",children:["💡 ",o.jsx("strong",{children:"Tip:"}),' Usa "Mi ubicación actual" para completar automáticamente las coordenadas']})]},"domicilio-form"):o.jsxs(ae.div,{className:"store-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[o.jsxs("div",{className:"store-header",children:[o.jsx(G0,{className:"w-6 h-6 text-orange-500"}),o.jsx("h4",{className:"store-title",children:"Playcenter Universal"})]}),o.jsx("p",{className:"store-address",children:ca.direccionCompleta}),o.jsxs("a",{href:ca.ubicacion,target:"_blank",rel:"noreferrer",className:"store-map-link",children:[o.jsx(Sf,{className:"w-4 h-4"}),"Ver en Google Maps"]})]},"tienda-info")}),o.jsx(ae.button,{onClick:de,disabled:be,className:`save-btn ${be?"loading":""}`,whileHover:{scale:be?1:1.02},whileTap:{scale:be?1:.98},children:be?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("span",{children:"Guardando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Fu,{className:"w-5 h-5"}),o.jsx("span",{children:h==="tienda"?"Seleccionar Playcenter":S?"Actualizar dirección":"Guardar dirección"})]})})]}),o.jsxs("div",{className:"saved-addresses",children:[o.jsx("h4",{className:"saved-title",children:"Direcciones guardadas"}),v?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("span",{children:"Cargando direcciones..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs(ae.div,{className:"address-card store-card",whileHover:{scale:1.01},whileTap:{scale:.99},children:[o.jsxs("div",{className:"address-info",children:[o.jsxs("div",{className:"address-header",children:[o.jsx(G0,{className:"w-5 h-5 text-orange-500"}),o.jsx("span",{className:"address-type",children:"Recoger en tienda"})]}),o.jsx("p",{className:"address-name",children:"Playcenter Universal"}),o.jsx("p",{className:"address-details",children:ca.direccionCompleta}),o.jsxs("a",{href:ca.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[o.jsx(Sf,{className:"w-4 h-4"}),"Ver ubicación"]})]}),o.jsxs("button",{onClick:()=>Qe(ca),className:"address-select-btn store-select",children:[o.jsx(Fu,{className:"w-4 h-4"}),"Seleccionar"]})]}),o.jsx(fn,{children:Ce.length===0?o.jsxs(ae.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx(ud,{className:"w-12 h-12 text-gray-300"}),o.jsx("p",{className:"empty-text",children:"No tienes direcciones guardadas"}),o.jsx("p",{className:"empty-subtext",children:"Agrega una dirección para entregas futuras"})]}):o.jsx("div",{className:"addresses-list",children:Ce.map((ee,Me)=>o.jsxs(ae.div,{className:"address-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:Me*.1},whileHover:{scale:1.01},children:[o.jsxs("div",{className:"address-info",children:[o.jsxs("div",{className:"address-header",children:[o.jsx(ud,{className:"w-5 h-5 text-blue-500"}),o.jsx("span",{className:"address-type",children:"Domicilio"})]}),o.jsx("p",{className:"address-details",children:ee.direccionCompleta}),ee.ubicacion&&o.jsxs("a",{href:ee.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[o.jsx(Sf,{className:"w-4 h-4"}),"Ver ubicación"]})]}),o.jsxs("div",{className:"address-actions",children:[o.jsx("button",{onClick:()=>Ee(ee),className:"address-action-btn edit-btn","aria-label":"Editar dirección",children:o.jsx(qU,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Qe(ee),className:"address-action-btn select-btn","aria-label":"Seleccionar dirección",children:o.jsx(Fu,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Dt(ee.id),className:"address-action-btn delete-btn","aria-label":"Eliminar dirección",children:o.jsx(i$,{className:"w-4 h-4"})})]})]},ee.id))})})]})]})]})}),o.jsx(fn,{children:ot&&o.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:o.jsxs("div",{className:"loaderInner",children:[o.jsx("div",{className:"loader",children:o.jsxs("div",{className:"truckWrapper",children:[o.jsx("div",{className:"truckBody",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 198 93",className:"trucksvg",children:[o.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#F83D3D",d:"M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z"}),o.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#7D7C7C",d:"M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z"}),o.jsx("path",{strokeWidth:"2",stroke:"#282828",fill:"#282828",d:"M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z"}),o.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#FFFCAB",rx:"1",height:"7",width:"5",y:"63",x:"187"}),o.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#282828",rx:"1",height:"11",width:"4",y:"81",x:"193"}),o.jsx("rect",{strokeWidth:"3",stroke:"#282828",fill:"#DFDFDF",rx:"2.5",height:"90",width:"121",y:"1.5",x:"6.5"}),o.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#DFDFDF",rx:"2",height:"4",width:"6",y:"84",x:"1"})]})}),o.jsxs("div",{className:"truckTires",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[o.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),o.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[o.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),o.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]})]}),o.jsx("div",{className:"road"}),o.jsx("svg",{xmlSpace:"preserve",viewBox:"0 0 453.459 453.459",xmlns:"http://www.w3.org/2000/svg",className:"lampPost",fill:"#000000",children:o.jsx("path",{d:`M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993
c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514
c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16
c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914
h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75
v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795
V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z
M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017
h78.747C231.693,100.736,232.77,106.162,232.77,111.694z`})})]})}),o.jsx("div",{className:"loaderText",children:"¡Dirección seleccionada!"})]})})}),o.jsx(fn,{children:le&&o.jsx(ae.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:o.jsxs(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"¿Eliminar dirección?"}),o.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"¿Estás seguro que quieres eliminar esta dirección? Esta acción no se puede deshacer."}),o.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[o.jsx("button",{onClick:jt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ee=>ee.target.style.backgroundColor="#f9fafb",onMouseOut:ee=>ee.target.style.backgroundColor="white",children:"Cancelar"}),o.jsx("button",{onClick:Pt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ee=>ee.target.style.backgroundColor="#dc2626",onMouseOut:ee=>ee.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),ot&&o.jsxs("div",{className:"truck-loader-overlay",children:[o.jsxs("div",{className:"spinner",children:[o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{})]}),o.jsx("div",{className:"truck-loader-text",children:"Procesando entrega..."})]}),o.jsx(c$,{abierto:Be,onClose:()=>Ue(!1),onPick:ee=>j(ee),valorActual:N})]}),document.body)}const u$=()=>{var h;const{usuario:t,usuarioInfo:e,logout:n}=Hr(),{setModalAbierto:r}=Gc(),i=T.useRef(null);oi();const[a,c]=T.useState(!1),u=(()=>{try{if(!t||!e||!e.metodoEntrega)return"Selecciona método de entrega";if((e.metodoEntrega||"").toLowerCase()==="tienda")return"Recoger en tienda";const g=(e.direccion||"").trim();return g?/maps\.|google\.com\/maps|Ubicación:/i.test(g)?"Dirección de Google Maps":g:"Selecciona método de entrega"}catch{return"Selecciona método de entrega"}})();return T.useEffect(()=>{i.current&&i.current.focus()},[]),T.useEffect(()=>{function f(){}return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),o.jsxs(o.Fragment,{children:[o.jsx(ae.header,{initial:{y:-120,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 w-full bg-white dark:bg-gray-800 shadow-md z-[9999] pl-0 pr-4 py-3 transition-colors duration-300",style:{backdropFilter:"saturate(180%) blur(15px)",maxWidth:"100vw",overflowX:"hidden"},children:o.jsxs("div",{className:"flex items-center justify-between w-full gap-3",children:[o.jsx("div",{id:"search-bar-container",className:"flex-grow max-w-full px-2 xl:hidden",children:o.jsx(Q_,{onClose:()=>{},ref:i,placeholder:"Buscar en pcu.com.do"})}),o.jsxs("div",{className:"hidden xl:flex w-full items-center justify-between gap-6",children:[o.jsxs(Nt,{to:"/",className:"flex items-center gap-3 min-w-0 flex-shrink-0",children:[o.jsx("img",{src:"/Playlogo.png",alt:"Playcenter Universal",className:"h-10 object-contain"}),o.jsxs("button",{type:"button",onClick:()=>{if(!t)return r(!0);c(!0)},className:"flex flex-col leading-tight text-left text-xs text-gray-700 dark:text-white font-medium hover:text-[#0ea5e9] dark:hover:text-[#60a5fa] transition",children:[o.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-gray-500 dark:text-gray-300",children:[o.jsx(ih,{className:"text-[#4FC3F7]"}),"Método de entrega"]}),o.jsx("strong",{className:"block text-[12px] font-semibold text-gray-700 dark:text-white tracking-wide truncate max-w-[120px] sm:max-w-[160px] md:max-w-[200px] lg:max-w-[220px]",title:u,children:u})]})]}),o.jsx("div",{className:"flex-grow max-w-xl",children:o.jsx(Q_,{onClose:()=>{},ref:i,placeholder:"Buscar en pcu.com.do"})}),o.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-700 dark:text-white",children:[o.jsx(Nt,{to:"/",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Inicio"}),o.jsx(Nt,{to:"/categorias",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Categorías"}),o.jsx(Nt,{to:"/tiendas",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Tiendas"}),o.jsx(Nt,{to:"/vender",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Vender"}),o.jsx(Nt,{to:"/nosotros",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Nosotros"}),o.jsx(Nt,{to:"/contacto",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Contáctanos"}),o.jsx(Nt,{to:"/estafetas",className:"nav-link text-gray-700 dark:text-white hover:text-[#4FC3F7] dark:hover:text-[#60a5fa] transition",children:"Estafetas"}),o.jsx(Nt,{to:"/carrito",className:"nav-link text-xl hover:scale-110 transition",children:"🛒"}),((e==null?void 0:e.isAdmin)||(e==null?void 0:e.isSeller)||(e==null?void 0:e.empresa)||(e==null?void 0:e.empresaId))&&o.jsx(Nt,{to:"/admin",className:"px-3 py-2 rounded bg-[#4FC3F7] text-white hover:bg-[#3BB0F3] shadow transition",children:"Panel Admin"}),t?o.jsx(ae.div,{className:"relative",whileTap:{scale:.95},children:o.jsx(Nt,{to:"/profile",children:o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow hover:shadow-lg transition cursor-pointer bg-white dark:bg-gray-700",children:t.photoURL?o.jsx("img",{src:t.photoURL,alt:"Perfil",className:"w-full h-full object-cover rounded-full"}):o.jsx("div",{className:"w-full h-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-base",children:((h=t.displayName)==null?void 0:h.charAt(0).toUpperCase())||"U"})})})}):o.jsx(ae.button,{onClick:()=>r(!0),className:"px-4 py-2 text-sm bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-lg font-semibold shadow transition",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Iniciar sesión"})]})]})]})}),((e==null?void 0:e.isAdmin)||(e==null?void 0:e.isSeller)||(e==null?void 0:e.empresa)||(e==null?void 0:e.empresaId))&&o.jsx("div",{className:"xl:hidden fixed bottom-[80px] right-4 z-[9999]",children:o.jsx(Nt,{to:"/admin",className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white px-5 py-3 rounded-full shadow-xl font-semibold text-base",children:"Panel Admin"})}),a&&t&&o.jsx(g4,{abierto:a,onClose:()=>c(!1),usuarioId:(e==null?void 0:e.uid)||(t==null?void 0:t.uid),direccionEditar:null,actualizarLista:()=>{}})]})};function Im({isOpen:t,onClose:e,onIniciarSesion:n}){return t?UI.createPortal(o.jsx("div",{onClick:e,className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",style:{top:0,left:0},children:o.jsxs(ae.div,{onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40 z-[11001]",children:[o.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold","aria-label":"Cerrar modal",children:"×"}),o.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-[#3b82f6]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A11.955 11.955 0 0112 15c2.32 0 4.47.66 6.264 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),"Inicia sesión"]}),o.jsx("p",{className:"mb-6 text-center text-gray-300",children:"Necesitas iniciar sesión para acceder a esta función"}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx("button",{onClick:()=>{e(),n()},className:"w-full max-w-[120px] px-5 py-2 bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Iniciar sesión"}),o.jsx("button",{onClick:e,className:"w-full max-w-[120px] px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Cancelar"})]})]})}),document.body):null}function d$(){const{usuario:t}=Hr(),e=oi(),{abrirModal:n}=Gc(),[r,i]=T.useState(!1),a=(h,f)=>{!t&&(f==="/carrito"||f==="/Profile")?(h.preventDefault(),i(!0)):e(f)},c=()=>i(!1),u=()=>{c(),n()};return o.jsx("div",{className:"footer-block",children:o.jsxs("footer",{className:"footer futuristic-footer relative bg-black text-gray-300 py-12 text-sm sm:text-base",children:[o.jsx("div",{className:"footer-bg-animated"}),o.jsx("div",{className:"w-full flex justify-center mb-10 relative z-20",children:o.jsx("img",{src:"/Playlogo.png",alt:"Playcenter Universal Logo",className:"footer-logo-glow w-32 sm:w-44 xl:w-64 transition-transform duration-300 hover:scale-105"})}),o.jsxs("div",{className:"footer-cols-wrapper relative z-20 max-w-7xl mx-auto px-4 sm:px-6 xl:px-8 grid grid-cols-2 sm:grid-cols-2 xl:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"footer-col",children:[o.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Playcenter Universal"}),o.jsx("p",{children:"Tu universo de tecnología y gaming en Santiago, R.D."}),o.jsxs("p",{className:"mt-3 flex justify-center sm:justify-start items-center gap-2",children:[o.jsx(ih,{})," Av. Estrella Sadhalá #55, frente a la doble vía"]}),o.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[o.jsx(ov,{})," +1 (809) 582-1212 (Internet)"]}),o.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[o.jsx(ov,{})," +1 (849) 635-7000 (Tienda)"]}),o.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[o.jsx(T1,{})," playcenter121@gmail.com"]})]}),o.jsxs("div",{className:"footer-col",children:[o.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Navegación"}),o.jsx("ul",{className:"footer-nav-list",children:[["Categorías","/categorias",!1],["Nosotros","/nosotros",!1],["Contáctanos","/contacto",!1],["Estafetas","/estafetas",!1],["Tiendas","/tiendas",!1],["Vender","/vender",!1],["Carrito","/carrito",!0],["Mi perfil","/Profile",!0]].map(([h,f,g])=>o.jsx("li",{children:g?o.jsx("a",{href:f,onClick:y=>a(y,f),className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm cursor-pointer",children:h}):o.jsx("a",{href:f,className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm",children:h})},h))})]}),o.jsxs("div",{className:"footer-col",children:[o.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Horario"}),o.jsx("p",{children:"Lunes a Viernes: 8:30am - 5:30pm"}),o.jsx("p",{children:"Sábados: 8:30am - 12:30pm"}),o.jsx("p",{children:"Domingos: Cerrado"})]}),o.jsxs("div",{className:"footer-col",children:[o.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Conéctate con nosotros"}),o.jsx("div",{className:"grid grid-cols-2 gap-4 justify-items-center sm:justify-items-start",children:[["https://www.facebook.com/pcu12","/Facebook.png","Facebook"],["https://www.instagram.com/playcenter_universal/?hl=es","/Instagram.png","Instagram"],["https://www.tiktok.com/@playcenter_universal?lang=es","/tiktok.png","TikTok"],["https://youtube.com/@playcenteruniversal1916","/Youtube.png","YouTube"]].map(([h,f,g])=>o.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"relative group",children:o.jsx("img",{src:f,alt:g,className:"footer-social-icon-neon w-12 h-12 sm:w-16 sm:h-16 rounded-full transition-transform duration-300 transform group-hover:scale-110"})},g))})]})]}),o.jsxs("p",{className:"footer-copyright text-center text-gray-500 text-[11px] sm:text-xs mt-10 relative z-20",children:["© ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]}),o.jsx(Im,{isOpen:r,onClose:c,onIniciarSesion:u})]})})}var K0={exports:{}},X0,vk;function h$(){if(vk)return X0;vk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return X0=t,X0}var Q0,xk;function f$(){if(xk)return Q0;xk=1;var t=h$();function e(){}function n(){}return n.resetWarningCache=e,Q0=function(){function r(c,u,h,f,g,y){if(y!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Q0}var bk;function p$(){return bk||(bk=1,K0.exports=f$()()),K0.exports}var m$=p$();const tn=Fd(m$),g$=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bc(t,e,n){const r=y$(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&wk(r,"path",a),wk(r,"relativePath",a),r}function y$(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=g$.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function wk(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const v$=[".DS_Store","Thumbs.db"];function x$(t){return _l(this,void 0,void 0,function*(){return Fp(t)&&b$(t.dataTransfer)?k$(t.dataTransfer,t.type):w$(t)?_$(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?E$(t):[]})}function b$(t){return Fp(t)}function w$(t){return Fp(t)&&Fp(t.target)}function Fp(t){return typeof t=="object"&&t!==null}function _$(t){return dv(t.target.files).map(e=>Bc(e))}function E$(t){return _l(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Bc(n))})}function k$(t,e){return _l(this,void 0,void 0,function*(){if(t.items){const n=dv(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(S$));return _k(y4(r))}return _k(dv(t.files).map(n=>Bc(n)))})}function _k(t){return t.filter(e=>v$.indexOf(e.name)===-1)}function dv(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function S$(t){if(typeof t.webkitGetAsEntry!="function")return Ek(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?v4(e):Ek(t,e)}function y4(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?y4(n):[n]],[])}function Ek(t,e){return _l(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const c=yield a.getFile();return c.handle=a,Bc(c)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Bc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function T$(t){return _l(this,void 0,void 0,function*(){return t.isDirectory?v4(t):N$(t)})}function v4(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(c=>_l(this,void 0,void 0,function*(){if(c.length){const u=Promise.all(c.map(T$));i.push(u),a()}else try{const u=yield Promise.all(i);n(u)}catch(u){r(u)}}),c=>{r(c)})}a()})}function N$(t){return _l(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Bc(r,t.fullPath);e(i)},r=>{n(r)})})})}var Tf={},kk;function C$(){return kk||(kk=1,Tf.__esModule=!0,Tf.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):i===u})}return!0}),Tf}var A$=C$();const Y0=Fd(A$);function Sk(t){return P$(t)||I$(t)||b4(t)||j$()}function j$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P$(t){if(Array.isArray(t))return hv(t)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){x4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pd(t,e){return M$(t)||D$(t,e)||b4(t,e)||R$()}function R$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){if(t){if(typeof t=="string")return hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hv(t,e)}}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,c,u;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(h){a=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw u}}return r}}function M$(t){if(Array.isArray(t))return t}var O$=typeof Y0=="function"?Y0:Y0.default,L$="file-invalid-type",V$="file-too-large",F$="file-too-small",U$="too-many-files",$$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:L$,message:"File type must be ".concat(r)}},Ck=function(e){return{code:V$,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Ak=function(e){return{code:F$,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},z$={code:U$,message:"Too many files"};function w4(t,e){var n=t.type==="application/x-moz-file"||O$(t,e);return[n,n?null:$$(e)]}function _4(t,e,n){if(Zo(t.size))if(Zo(e)&&Zo(n)){if(t.size>n)return[!1,Ck(n)];if(t.size<e)return[!1,Ak(e)]}else{if(Zo(e)&&t.size<e)return[!1,Ak(e)];if(Zo(n)&&t.size>n)return[!1,Ck(n)]}return[!0,null]}function Zo(t){return t!=null}function B$(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,c=t.maxFiles,u=t.validator;return!a&&e.length>1||a&&c>=1&&e.length>c?!1:e.every(function(h){var f=w4(h,n),g=Pd(f,1),y=g[0],v=_4(h,r,i),w=Pd(v,1),S=w[0],b=u?u(h):null;return y&&S&&!b})}function Up(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Nf(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function jk(t){t.preventDefault()}function H$(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function W$(t){return t.indexOf("Edge/")!==-1}function q$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return H$(t)||W$(t)}function _s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return e.some(function(u){return!Up(r)&&u&&u.apply(void 0,[r].concat(a)),Up(r)})}}function G$(){return"showOpenFilePicker"in window}function K$(t){if(Zo(t)){var e=Object.entries(t).filter(function(n){var r=Pd(n,2),i=r[0],a=r[1],c=!0;return E4(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(k4))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var i=Pd(r,2),a=i[0],c=i[1];return Nk(Nk({},n),{},x4({},a,c))},{});return[{description:"Files",accept:e}]}return t}function X$(t){if(Zo(t))return Object.entries(t).reduce(function(e,n){var r=Pd(n,2),i=r[0],a=r[1];return[].concat(Sk(e),[i],Sk(a))},[]).filter(function(e){return E4(e)||k4(e)}).join(",")}function Q$(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Y$(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function E4(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function k4(t){return/^.*\.[\w]+$/.test(t)}var J$=["children"],Z$=["open"],ez=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],tz=["refKey","onChange","onClick"];function nz(t){return sz(t)||iz(t)||S4(t)||rz()}function rz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sz(t){if(Array.isArray(t))return fv(t)}function J0(t,e){return lz(t)||oz(t,e)||S4(t,e)||az()}function az(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(t,e){if(t){if(typeof t=="string")return fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fv(t,e)}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,c,u;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(h){a=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw u}}return r}}function lz(t){if(Array.isArray(t))return t}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $p(t,e){if(t==null)return{};var n=cz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var N1=T.forwardRef(function(t,e){var n=t.children,r=$p(t,J$),i=N4(r),a=i.open,c=$p(i,Z$);return T.useImperativeHandle(e,function(){return{open:a}},[a]),Br.createElement(T.Fragment,null,n(kn(kn({},c),{},{open:a})))});N1.displayName="Dropzone";var T4={disabled:!1,getFilesFromEvent:x$,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};N1.defaultProps=T4;N1.propTypes={children:tn.func,accept:tn.objectOf(tn.arrayOf(tn.string)),multiple:tn.bool,preventDropOnDocument:tn.bool,noClick:tn.bool,noKeyboard:tn.bool,noDrag:tn.bool,noDragEventsBubbling:tn.bool,minSize:tn.number,maxSize:tn.number,maxFiles:tn.number,disabled:tn.bool,getFilesFromEvent:tn.func,onFileDialogCancel:tn.func,onFileDialogOpen:tn.func,useFsAccessApi:tn.bool,autoFocus:tn.bool,onDragEnter:tn.func,onDragLeave:tn.func,onDragOver:tn.func,onDrop:tn.func,onDropAccepted:tn.func,onDropRejected:tn.func,onError:tn.func,validator:tn.func};var mv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function N4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=kn(kn({},T4),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,c=e.minSize,u=e.multiple,h=e.maxFiles,f=e.onDragEnter,g=e.onDragLeave,y=e.onDragOver,v=e.onDrop,w=e.onDropAccepted,S=e.onDropRejected,b=e.onFileDialogCancel,N=e.onFileDialogOpen,j=e.useFsAccessApi,M=e.autoFocus,O=e.preventDropOnDocument,U=e.noClick,B=e.noKeyboard,K=e.noDrag,R=e.noDragEventsBubbling,I=e.onError,A=e.validator,k=T.useMemo(function(){return X$(n)},[n]),L=T.useMemo(function(){return K$(n)},[n]),F=T.useMemo(function(){return typeof N=="function"?N:Pk},[N]),D=T.useMemo(function(){return typeof b=="function"?b:Pk},[b]),be=T.useRef(null),Ge=T.useRef(null),ot=T.useReducer(uz,mv),Ke=J0(ot,2),le=Ke[0],oe=Ke[1],he=le.isFocused,z=le.isFileDialogActive,Q=T.useRef(typeof window<"u"&&window.isSecureContext&&j&&G$()),we=function(){!Q.current&&z&&setTimeout(function(){if(Ge.current){var te=Ge.current.files;te.length||(oe({type:"closeDialog"}),D())}},300)};T.useEffect(function(){return window.addEventListener("focus",we,!1),function(){window.removeEventListener("focus",we,!1)}},[Ge,z,D,Q]);var Be=T.useRef([]),Ue=function(te){be.current&&be.current.contains(te.target)||(te.preventDefault(),Be.current=[])};T.useEffect(function(){return O&&(document.addEventListener("dragover",jk,!1),document.addEventListener("drop",Ue,!1)),function(){O&&(document.removeEventListener("dragover",jk),document.removeEventListener("drop",Ue))}},[be,O]),T.useEffect(function(){return!r&&M&&be.current&&be.current.focus(),function(){}},[be,M,r]);var tt=T.useCallback(function(Ee){I?I(Ee):console.error(Ee)},[I]),ft=T.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),We(Ee),Be.current=[].concat(nz(Be.current),[Ee.target]),Nf(Ee)&&Promise.resolve(i(Ee)).then(function(te){if(!(Up(Ee)&&!R)){var ye=te.length,Ce=ye>0&&B$({files:te,accept:k,minSize:c,maxSize:a,multiple:u,maxFiles:h,validator:A}),ee=ye>0&&!Ce;oe({isDragAccept:Ce,isDragReject:ee,isDragActive:!0,type:"setDraggedFiles"}),f&&f(Ee)}}).catch(function(te){return tt(te)})},[i,f,tt,R,k,c,a,u,h,A]),ct=T.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),We(Ee);var te=Nf(Ee);if(te&&Ee.dataTransfer)try{Ee.dataTransfer.dropEffect="copy"}catch{}return te&&y&&y(Ee),!1},[y,R]),it=T.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),We(Ee);var te=Be.current.filter(function(Ce){return be.current&&be.current.contains(Ce)}),ye=te.indexOf(Ee.target);ye!==-1&&te.splice(ye,1),Be.current=te,!(te.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Nf(Ee)&&g&&g(Ee))},[be,g,R]),Je=T.useCallback(function(Ee,te){var ye=[],Ce=[];Ee.forEach(function(ee){var Me=w4(ee,k),Le=J0(Me,2),yt=Le[0],W=Le[1],H=_4(ee,c,a),ve=J0(H,2),ie=ve[0],ce=ve[1],Y=A?A(ee):null;if(yt&&ie&&!Y)ye.push(ee);else{var Ve=[W,ce];Y&&(Ve=Ve.concat(Y)),Ce.push({file:ee,errors:Ve.filter(function(fe){return fe})})}}),(!u&&ye.length>1||u&&h>=1&&ye.length>h)&&(ye.forEach(function(ee){Ce.push({file:ee,errors:[z$]})}),ye.splice(0)),oe({acceptedFiles:ye,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),v&&v(ye,Ce,te),Ce.length>0&&S&&S(Ce,te),ye.length>0&&w&&w(ye,te)},[oe,u,k,c,a,h,v,w,S,A]),St=T.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),We(Ee),Be.current=[],Nf(Ee)&&Promise.resolve(i(Ee)).then(function(te){Up(Ee)&&!R||Je(te,Ee)}).catch(function(te){return tt(te)}),oe({type:"reset"})},[i,Je,tt,R]),At=T.useCallback(function(){if(Q.current){oe({type:"openDialog"}),F();var Ee={multiple:u,types:L};window.showOpenFilePicker(Ee).then(function(te){return i(te)}).then(function(te){Je(te,null),oe({type:"closeDialog"})}).catch(function(te){Q$(te)?(D(te),oe({type:"closeDialog"})):Y$(te)?(Q.current=!1,Ge.current?(Ge.current.value=null,Ge.current.click()):tt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):tt(te)});return}Ge.current&&(oe({type:"openDialog"}),F(),Ge.current.value=null,Ge.current.click())},[oe,F,D,j,Je,tt,L,u]),_t=T.useCallback(function(Ee){!be.current||!be.current.isEqualNode(Ee.target)||(Ee.key===" "||Ee.key==="Enter"||Ee.keyCode===32||Ee.keyCode===13)&&(Ee.preventDefault(),At())},[be,At]),Rt=T.useCallback(function(){oe({type:"focus"})},[]),re=T.useCallback(function(){oe({type:"blur"})},[]),$e=T.useCallback(function(){U||(q$()?setTimeout(At,0):At())},[U,At]),Pe=function(te){return r?null:te},de=function(te){return B?null:Pe(te)},Qe=function(te){return K?null:Pe(te)},We=function(te){R&&te.stopPropagation()},Dt=T.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=Ee.refKey,ye=te===void 0?"ref":te,Ce=Ee.role,ee=Ee.onKeyDown,Me=Ee.onFocus,Le=Ee.onBlur,yt=Ee.onClick,W=Ee.onDragEnter,H=Ee.onDragOver,ve=Ee.onDragLeave,ie=Ee.onDrop,ce=$p(Ee,ez);return kn(kn(pv({onKeyDown:de(_s(ee,_t)),onFocus:de(_s(Me,Rt)),onBlur:de(_s(Le,re)),onClick:Pe(_s(yt,$e)),onDragEnter:Qe(_s(W,ft)),onDragOver:Qe(_s(H,ct)),onDragLeave:Qe(_s(ve,it)),onDrop:Qe(_s(ie,St)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},ye,be),!r&&!B?{tabIndex:0}:{}),ce)}},[be,_t,Rt,re,$e,ft,ct,it,St,B,K,r]),jt=T.useCallback(function(Ee){Ee.stopPropagation()},[]),Pt=T.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=Ee.refKey,ye=te===void 0?"ref":te,Ce=Ee.onChange,ee=Ee.onClick,Me=$p(Ee,tz),Le=pv({accept:k,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Pe(_s(Ce,St)),onClick:Pe(_s(ee,jt)),tabIndex:-1},ye,Ge);return kn(kn({},Le),Me)}},[Ge,n,u,St,r]);return kn(kn({},le),{},{isFocused:he&&!r,getRootProps:Dt,getInputProps:Pt,rootRef:be,inputRef:Ge,open:Pe(At)})}function uz(t,e){switch(e.type){case"focus":return kn(kn({},t),{},{isFocused:!0});case"blur":return kn(kn({},t),{},{isFocused:!1});case"openDialog":return kn(kn({},mv),{},{isFileDialogActive:!0});case"closeDialog":return kn(kn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return kn(kn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return kn(kn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return kn({},mv);default:return t}}function Pk(){}const dz=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"ufu-dropzone-icon",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M3 17.25V6.75A2.25 2.25 0 015.25 4.5h13.5A2.25 2.25 0 0121 6.75v10.5A2.25 2.25 0 0118.75 19.5H5.25A2.25 2.25 0 013 17.25z"})}),hz=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),fz=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:o.jsx("path",{strokeLinecap:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),pz=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 100-12 6 6 0 000 12zM12 14.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.5h13.628a2.31 2.31 0 011.642 3.953l-.837 1.172-3.44-3.44-3.44 3.44-.837-1.172a2.31 2.31 0 01-1.642-3.953H6.827z"})]}),mz=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5z"})}),gz=({file:t,onRemove:e,onSetMain:n,onMove:r,index:i,fileCount:a})=>{var j;const{url:c,type:u,name:h,size:f,progress:g,error:y,isMain:v}=t,[w,S]=T.useState(!1),b=T.useRef(null),N=(M,O=2)=>{if(!M||M===0)return"0 Bytes";const U=1024,B=O<0?0:O,K=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(M)/Math.log(U));return parseFloat((M/Math.pow(U,R)).toFixed(B))+" "+K[R]};return T.useEffect(()=>{if(u==="video"&&b.current){const M=()=>S(!0);return b.current.addEventListener("loadedmetadata",M),()=>{b.current&&b.current.removeEventListener("loadedmetadata",M)}}},[u]),o.jsxs(ae.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`ufu-preview-item ${v?"ufu-main-item":""}`,children:[o.jsx("div",{className:"ufu-preview-media",children:u==="image"?o.jsx("img",{src:c,alt:h,className:"object-contain w-full h-full",loading:"eager",onLoad:()=>{},onError:M=>{M.target.onerror=null,M.target.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}):u==="video"?o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:b,src:c,preload:"metadata",muted:!0,className:`object-contain w-full h-full ${w?"opacity-100":"opacity-0"}`,onError:M=>{M.target.onerror=null,S(!0)}}),o.jsx("div",{className:`video-overlay ${w?"with-thumbnail":""}`,children:o.jsx(fz,{})})]}):o.jsxs("div",{className:"document-preview",children:[o.jsx(hz,{}),o.jsx("span",{className:"document-ext",children:h&&((j=h.split(".").pop())==null?void 0:j.toUpperCase())||"FILE"})]})}),o.jsxs("div",{className:"ufu-preview-item-info",children:[o.jsx("p",{className:"ufu-preview-item-name",title:h||"Archivo",children:h&&h.length>20?h.substring(0,18)+"...":h||"Archivo"}),o.jsx("p",{className:"ufu-preview-item-size",children:N(f)})]}),o.jsx(fn,{}),o.jsxs("div",{className:"ufu-controls-overlay",children:[o.jsx("button",{type:"button",onClick:M=>{if(M.stopPropagation(),u==="image"){const O=document.createElement("div");O.style.cssText=`
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                cursor: pointer;
              `;const U=document.createElement("img");U.src=c,U.style.cssText=`
                max-width: 90%;
                max-height: 90%;
                object-fit: contain;
                border-radius: 8px;
                cursor: default;
              `;const B=document.createElement("button");B.innerHTML="×",B.style.cssText=`
                position: absolute;
                top: 20px;
                right: 30px;
                background: rgba(255,255,255,0.9);
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 24px;
                font-weight: bold;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #333;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
              `,O.appendChild(U),O.appendChild(B),document.body.appendChild(O);const K=()=>{document.body.removeChild(O)};O.addEventListener("click",K),B.addEventListener("click",K);const R=I=>{I.key==="Escape"&&(K(),document.removeEventListener("keydown",R))};document.addEventListener("keydown",R),U.addEventListener("click",I=>I.stopPropagation())}else if(u==="video"){const O=document.createElement("div");O.style.cssText=`
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                cursor: pointer;
              `;const U=document.createElement("video");U.src=c,U.controls=!0,U.style.cssText=`
                max-width: 90%;
                max-height: 90%;
                border-radius: 8px;
                cursor: default;
              `;const B=document.createElement("button");B.innerHTML="×",B.style.cssText=`
                position: absolute;
                top: 20px;
                right: 30px;
                background: rgba(255,255,255,0.9);
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 24px;
                font-weight: bold;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #333;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
              `,O.appendChild(U),O.appendChild(B),document.body.appendChild(O);const K=()=>{U.pause(),document.body.removeChild(O)};O.addEventListener("click",K),B.addEventListener("click",K),U.addEventListener("click",R=>R.stopPropagation())}else{const O=document.createElement("a");O.href=c,O.download=h,O.click()}},className:"ufu-control-button ufu-preview-button",title:"Ver archivo","aria-label":"Ver archivo en pantalla completa",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),e(t.id)},className:"ufu-control-button ufu-delete-button",title:"Eliminar","aria-label":"Eliminar archivo",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),n&&!v&&o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),n(t.id)},className:"ufu-control-button ufu-set-main-button",title:"Establecer como principal","aria-label":"Establecer como imagen principal",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.622l1.208 5.273a.563.563 0 01-.841.589l-4.743-2.85a.563.563 0 00-.586 0l-4.743 2.85a.563.563 0 01-.841-.589l1.208-5.273a.563.563 0 00-.182-.622l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})}),r&&a>1&&o.jsxs("div",{className:"ufu-reorder-buttons",children:[o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r(i,"up")},disabled:i===0,className:"ufu-control-button",title:"Mover arriba","aria-label":"Mover archivo hacia arriba",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}),o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r(i,"down")},disabled:i===a-1,className:"ufu-control-button",title:"Mover abajo","aria-label":"Mover archivo hacia abajo",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})})]})]}),v&&o.jsxs("div",{className:"ufu-main-badge",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c.321-.772 1.415-.772 1.736 0l1.681 4.06c.064.155.24.263.415.284l4.473.65c.803.117 1.125 1.106.547 1.65l-3.238 3.153a.477.477 0 00-.137.53l.764 4.456c.138.806-.702 1.425-1.425 1.053l-3.992-2.1a.498.498 0 00-.465 0l-3.992 2.1c-.723.372-1.563-.247-1.425-1.053l.764-4.456a.477.477 0 00-.137-.53L2.24 9.667c-.578-.544-.256-1.533.547-1.65l4.473-.65a.476.476 0 00.415-.284l1.681-4.06z",clipRule:"evenodd"})}),o.jsx("span",{children:"Principal"})]})]})},Jo=Br.memo(({files:t=[],onFilesChange:e,acceptedTypes:n="image/*,video/*,application/pdf",multiple:r=!0,maxSize:i=100*1024*1024,maxFiles:a=null,label:c="Medios del Producto",placeholder:u="Arrastra archivos o haz clic para seleccionar",className:h="",showPreview:f=!0,allowReorder:g=!0,allowSetMain:y=!0})=>{const[v,w]=T.useState([]),[S,b]=T.useState(null),[N,j]=T.useState(!1),[M,O]=T.useState(void 0),U=T.useRef(null),[B,K]=T.useState([]),R=T.useRef(!1);T.useEffect(()=>{if(!t||t.length===0){w(he=>(he.length>0&&(R.current=!0),[]));return}const oe=t.map((he,z)=>{if(typeof he=="string"){const Q=he.split(".").pop().toLowerCase(),we=["mp4","mov","webm","avi","mkv","m4v"].includes(Q);return{id:`existing-${z}-${he}`,url:he,type:we?"video":"image",name:he.split("/").pop().split("?")[0],size:0,isMain:z===0,isUploaded:!0}}return he});w(he=>(JSON.stringify(he.map(Q=>Q.id))!==JSON.stringify(oe.map(Q=>Q.id))&&(R.current=!0),oe))},[t.length,t.map(oe=>typeof oe=="string"?oe:(oe==null?void 0:oe.id)||(oe==null?void 0:oe.url)).join("|")]);const I=T.useCallback((oe,he)=>{const z=oe.map(Q=>{let we="document";Q.type.startsWith("image/")?we="image":Q.type.startsWith("video/")&&(we="video");const Be=URL.createObjectURL(Q);return{id:`${Q.name}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,file:Q,url:Be,type:we,name:Q.name,size:Q.size,progress:0,error:null,isMain:!1,isUploading:!1,isUploaded:!1}});he.length>0&&(console.error("Archivos rechazados:",he),K(he.map(({file:Q,errors:we})=>({name:(Q==null?void 0:Q.name)||"Archivo",messages:(we||[]).map(Be=>Be.message)})))),w(Q=>{let we;if(r){const Be=[...Q,...z];we=a?Be.slice(0,a):Be,a&&Be.length>a&&(console.warn(`Límite de ${a} archivos alcanzado. Solo se mantuvieron los primeros ${a}.`),K(Ue=>[...Ue,{name:"Límite de archivos",messages:[`Límite de ${a} archivos alcanzado. Solo se mantuvieron los primeros ${a}.`]}]))}else we=z;return R.current=!0,we})},[r,a]),A=T.useMemo(()=>{const oe=(n||"").trim();if(!oe||oe==="*/*")return;const he=oe.split(",").reduce((z,Q)=>{const we=Q.trim();return we&&(z[we]=[]),z},{});return Object.keys(he).length?he:void 0},[n]),{getRootProps:k,getInputProps:L,isDragActive:F,open:D}=N4({onDrop:I,accept:A,maxSize:i,multiple:r,noClick:!1,noKeyboard:!1,preventDropOnDocument:!0}),be=oe=>{w(he=>{const z=he.find(we=>we.id===oe);z&&z.url&&z.url.startsWith("blob:")&&URL.revokeObjectURL(z.url);const Q=he.filter(we=>we.id!==oe).map((we,Be)=>({...we,isMain:Be===0}));return R.current=!0,Q})},Ge=oe=>{y&&w(he=>{const z=he.find(Be=>Be.id===oe);if(!z)return he;const Q=he.filter(Be=>Be.id!==oe),we=[z,...Q].map((Be,Ue)=>({...Be,isMain:Ue===0}));return R.current=!0,we})},ot=(oe,he)=>{g&&w(z=>{const Q=he==="up"?oe-1:oe+1;if(Q<0||Q>=z.length)return z;const we=[...z];[we[oe],we[Q]]=[we[Q],we[oe]];const Be=we.map((Ue,tt)=>({...Ue,isMain:tt===0}));return R.current=!0,Be})};T.useEffect(()=>{R.current&&(R.current=!1,typeof e=="function"?e(v):console.warn("⚠️ onFilesChange no es una función"))},[v]);const Ke=oe=>{oe.stopPropagation(),O("environment"),setTimeout(()=>{D(),setTimeout(()=>O(void 0),0)},30)},le=oe=>{oe.stopPropagation(),O(void 0),setTimeout(()=>{D()},0)};return o.jsxs("div",{className:`universal-file-uploader ${h}`,children:[o.jsxs("div",{...k({className:`ufu-dropzone ${F?"dragging":""} ${N?"drag-over":""}`}),ref:U,onDragEnter:()=>j(!0),onDragLeave:()=>j(!1),onDrop:()=>j(!1),children:[o.jsx("input",{...L({style:{display:"none"},multiple:r,capture:M})}),o.jsxs("div",{className:"ufu-dropzone-content",children:[o.jsx(dz,{}),o.jsxs("div",{className:"ufu-dropzone-desktop-text",children:[o.jsx("p",{className:"ufu-dropzone-text-main",children:c}),o.jsx("p",{className:"ufu-dropzone-text-sub",children:u}),o.jsx("button",{type:"button",onClick:oe=>{oe.stopPropagation(),D()},className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Seleccionar Archivos"})]}),o.jsxs("div",{className:"ufu-mobile-buttons",children:[o.jsxs("button",{type:"button",onClick:Ke,className:"ufu-mobile-button","aria-label":"Abrir cámara",children:[o.jsx(pz,{}),o.jsx("span",{children:"Cámara"})]}),o.jsxs("button",{type:"button",onClick:le,className:"ufu-mobile-button","aria-label":"Abrir galería",children:[o.jsx(mz,{}),o.jsx("span",{children:"Galería"})]})]})]})]}),B.length>0&&o.jsxs("div",{className:"mt-3 p-3 rounded-md bg-red-50 border border-red-200 text-red-700 text-sm",role:"alert",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"font-semibold",children:"Algunos archivos fueron rechazados"}),o.jsx("button",{type:"button",onClick:()=>K([]),className:"ml-3 text-red-600 hover:text-red-800","aria-label":"Cerrar",title:"Cerrar",children:"×"})]}),o.jsx("ul",{className:"list-disc ml-5 mt-2",children:B.map((oe,he)=>o.jsxs("li",{children:[oe.name?o.jsxs("span",{className:"font-medium",children:[oe.name,": "]}):null,Array.isArray(oe.messages)?oe.messages.join(", "):String(oe)]},`rejected-${he}-${oe.name||"unknown"}`))})]}),v.length>0?o.jsx("div",{className:"ufu-preview-grid",children:o.jsx(fn,{children:v.map((oe,he)=>{const z=oe.id||`file-${he}-${oe.name||"unknown"}-${Date.now()}`;return o.jsx(gz,{file:oe,onRemove:be,onSetMain:y?Ge:null,onMove:g?ot:null,index:he,fileCount:v.length},z)})})}):o.jsx("div",{className:"text-center text-gray-500 text-sm mt-4 p-4 border-2 border-dashed border-gray-200 rounded",children:"📁 No hay archivos subidos aún - Arrastra o selecciona archivos arriba"})]})});Jo.displayName="UniversalFileUploader";const C4=({variantes:t=[],varianteSeleccionada:e=0,onVarianteChange:n,showStock:r=!0,showPrice:i=!0,className:a=""})=>{if(!t||t.length===0)return null;const c=t.filter(h=>h&&typeof h.color=="string"&&h.color.trim());if(c.length===0)return null;const u=h=>{n&&n(h)};return o.jsx("div",{className:`visual-variant-selector ${a}`,children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:c.map((h,f)=>{var w,S,b;const g=f===e,y=h.cantidad<=0,v=((S=(w=h.imagenPrincipal)==null?void 0:w[0])==null?void 0:S.url)||h.imagen||((b=h.imagenes)==null?void 0:b[0])||null;return o.jsxs(ae.button,{type:"button",onClick:()=>!y&&u(f),disabled:y,whileHover:y?{}:{scale:1.05},whileTap:y?{}:{scale:.95},className:`
                relative p-3 rounded-lg border-2 transition-all duration-200
                ${g?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}
                ${y?"opacity-50 cursor-not-allowed":"hover:border-blue-300 dark:hover:border-blue-600 cursor-pointer"}
              `,children:[v&&o.jsx("div",{className:"aspect-square mb-2 rounded overflow-hidden bg-gray-100 dark:bg-gray-700",children:o.jsx("img",{src:v,alt:h.color,className:"w-full h-full object-contain"})}),o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:h.color}),r&&o.jsx("div",{className:`text-xs ${y?"text-red-600 dark:text-red-400":h.cantidad<5?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:y?"Agotado":`${h.cantidad} disponibles`}),i&&h.precio&&o.jsxs("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400 mt-1",children:["RD$ ",Number(h.precio).toFixed(2)]}),g&&o.jsx(ae.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),y&&o.jsx("div",{className:"absolute inset-0 bg-gray-900/50 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:"Agotado"})})]},f)})})})},Yt={REQUIRED_FIELDS:["nombre","precio","categoria","descripcion"],MIN_TITLE_LENGTH:10,MAX_TITLE_LENGTH:200,MIN_DESCRIPTION_LENGTH:20,MAX_DESCRIPTION_LENGTH:5e3,MIN_PRICE:.01,MAX_PRICE:999999,MIN_STOCK:0,MAX_STOCK:999999,MAX_IMAGES:20,MAX_VIDEOS:10,MAX_EXTRAS:3,MAX_VARIANTS:50,MIN_VARIANT_NAME_LENGTH:2,MAX_VARIANT_NAME_LENGTH:100},er={MISSING_TITLE:"El título del producto es obligatorio",MISSING_PRICE:"El precio del producto es obligatorio",MISSING_CATEGORY:"Debe seleccionar una categoría",MISSING_DESCRIPTION:"La descripción del producto es obligatoria",MISSING_MAIN_IMAGE:"Debe subir al menos una imagen principal",TITLE_TOO_SHORT:`El título debe tener al menos ${Yt.MIN_TITLE_LENGTH} caracteres`,TITLE_TOO_LONG:`El título no puede exceder ${Yt.MAX_TITLE_LENGTH} caracteres`,DESCRIPTION_TOO_SHORT:`La descripción debe tener al menos ${Yt.MIN_DESCRIPTION_LENGTH} caracteres`,DESCRIPTION_TOO_LONG:`La descripción no puede exceder ${Yt.MAX_DESCRIPTION_LENGTH} caracteres`,INVALID_PRICE:`El precio debe estar entre $${Yt.MIN_PRICE} y $${Yt.MAX_PRICE}`,INVALID_STOCK:`El stock debe estar entre ${Yt.MIN_STOCK} y ${Yt.MAX_STOCK}`,TOO_MANY_IMAGES:`Máximo ${Yt.MAX_IMAGES} imágenes permitidas`,TOO_MANY_VIDEOS:`Máximo ${Yt.MAX_VIDEOS} videos permitidos`,TOO_MANY_EXTRAS:`Máximo ${Yt.MAX_EXTRAS} archivos extras permitidos`,TOO_MANY_VARIANTS:`Máximo ${Yt.MAX_VARIANTS} variantes permitidas`,VARIANT_NAME_TOO_SHORT:`El nombre de la variante debe tener al menos ${Yt.MIN_VARIANT_NAME_LENGTH} caracteres`,VARIANT_NAME_TOO_LONG:`El nombre de la variante no puede exceder ${Yt.MAX_VARIANT_NAME_LENGTH} caracteres`,DUPLICATE_VARIANT_NAMES:"No puede haber variantes con el mismo nombre",VARIANT_MISSING_STOCK:"Todas las variantes deben tener stock definido"},Vn={ERROR:"error",WARNING:"warning"},Rk=(t,e,n={})=>{const r=[];switch(t){case"nombre":if(!e||!e.trim())r.push({field:"nombre",message:er.MISSING_TITLE,severity:Vn.ERROR});else{const i=e.trim();i.length<Yt.MIN_TITLE_LENGTH&&r.push({field:"nombre",message:er.TITLE_TOO_SHORT,severity:Vn.ERROR}),i.length>Yt.MAX_TITLE_LENGTH&&r.push({field:"nombre",message:er.TITLE_TOO_LONG,severity:Vn.ERROR})}break;case"precio":if(!e&&e!==0)r.push({field:"precio",message:er.MISSING_PRICE,severity:Vn.ERROR});else{const i=parseFloat(e);(isNaN(i)||i<Yt.MIN_PRICE||i>Yt.MAX_PRICE)&&r.push({field:"precio",message:er.INVALID_PRICE,severity:Vn.ERROR})}break;case"categoria":(!e||!e.trim())&&r.push({field:"categoria",message:er.MISSING_CATEGORY,severity:Vn.ERROR});break;case"descripcion":if(!e||!e.trim())r.push({field:"descripcion",message:er.MISSING_DESCRIPTION,severity:Vn.ERROR});else{const i=e.trim();i.length<Yt.MIN_DESCRIPTION_LENGTH&&r.push({field:"descripcion",message:er.DESCRIPTION_TOO_SHORT,severity:Vn.ERROR}),i.length>Yt.MAX_DESCRIPTION_LENGTH&&r.push({field:"descripcion",message:er.DESCRIPTION_TOO_LONG,severity:Vn.WARNING})}break;case"cantidad":if(e!=null){const i=parseInt(e);(isNaN(i)||i<Yt.MIN_STOCK||i>Yt.MAX_STOCK)&&r.push({field:"cantidad",message:er.INVALID_STOCK,severity:Vn.ERROR})}break}return r},yz=(t=[])=>{const e=[];t.length>Yt.MAX_VARIANTS&&e.push({field:"variantes",message:er.TOO_MANY_VARIANTS,severity:Vn.ERROR});const n=[];return t.forEach((r,i)=>{if(!r||typeof r!="object")return;const a=r.color||r.name||"";a.trim().length<Yt.MIN_VARIANT_NAME_LENGTH&&e.push({field:`variantes[${i}].color`,message:er.VARIANT_NAME_TOO_SHORT,severity:Vn.ERROR}),a.trim().length>Yt.MAX_VARIANT_NAME_LENGTH&&e.push({field:`variantes[${i}].color`,message:er.VARIANT_NAME_TOO_LONG,severity:Vn.ERROR}),n.includes(a.trim().toLowerCase())?e.push({field:`variantes[${i}].color`,message:er.DUPLICATE_VARIANT_NAMES,severity:Vn.ERROR}):n.push(a.trim().toLowerCase());const c=parseInt(r.cantidad);(isNaN(c)||c<0)&&e.push({field:`variantes[${i}].cantidad`,message:er.VARIANT_MISSING_STOCK,severity:Vn.ERROR})}),e},vz=t=>{const e=[];return t.imagen||t.imagenPrincipal&&t.imagenPrincipal.length>0||e.push({field:"imagen",message:er.MISSING_MAIN_IMAGE,severity:Vn.ERROR}),(t.imagenes||[]).length+(t.imagenesExtra||[]).length>Yt.MAX_IMAGES&&e.push({field:"imagenes",message:er.TOO_MANY_IMAGES,severity:Vn.ERROR}),(t.videoUrls||[]).length+(t.videoAcercaArticulo||[]).length>Yt.MAX_VIDEOS&&e.push({field:"videos",message:er.TOO_MANY_VIDEOS,severity:Vn.ERROR}),(t.imagenesExtra||[]).length>Yt.MAX_EXTRAS&&e.push({field:"imagenesExtra",message:er.TOO_MANY_EXTRAS,severity:Vn.ERROR}),e},xz=t=>{if(!t||typeof t!="object")return[{field:"general",message:"Datos del producto no válidos",severity:Vn.ERROR}];let e=[];if(Yt.REQUIRED_FIELDS.forEach(n=>{try{e=e.concat(Rk(n,t[n],t))}catch(r){console.error(`Error validating field ${n}:`,r)}}),t.cantidad!==void 0)try{e=e.concat(Rk("cantidad",t.cantidad,t))}catch(n){console.error("Error validating cantidad:",n)}try{e=e.concat(vz(t))}catch(n){console.error("Error validating media:",n)}if(t.variantes&&Array.isArray(t.variantes)&&t.variantes.length>0)try{e=e.concat(yz(t.variantes))}catch(n){console.error("Error validating variants:",n)}return e},bz=t=>({isReady:!1,errorCount:1,warningCount:0,errors:[{field:"general",message:"Datos del producto no válidos",severity:Vn.ERROR}],canPublish:!1,status:"incomplete"}),wz=t=>{const[e,n]=Br.useState({isReady:!1,errorCount:0,warningCount:0,errors:[],canPublish:!1,status:"incomplete"});return Br.useEffect(()=>{const r=bz();n(r)},[t]),e},Dk={DRAFT:"draft"},zp={INTERSECTION_THRESHOLD:.1,INTERSECTION_ROOT_MARGIN:"50px",WEBP_SUPPORT:null,AVIF_SUPPORT:null},_z=()=>new Promise(t=>{const e={webp:!1,avif:!1};let n=2;const r=()=>{n--,n===0&&(zp.WEBP_SUPPORT=e.webp,zp.AVIF_SUPPORT=e.avif,t(e))},i=new Image;i.onload=i.onerror=()=>{e.webp=i.height===2,r()},i.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const a=new Image;a.onload=a.onerror=()=>{e.avif=a.height===2,r()},a.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A="});class Ez{constructor(){this.observer=null,this.loadedImages=new Set,this.init()}init(){"IntersectionObserver"in window&&(this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:zp.INTERSECTION_THRESHOLD,rootMargin:zp.INTERSECTION_ROOT_MARGIN}))}handleIntersection(e){e.forEach(n=>{n.isIntersecting&&(this.loadImage(n.target),this.observer.unobserve(n.target))})}loadImage(e){if(this.loadedImages.has(e))return;const n=e.dataset.src,r=e.dataset.srcset;n&&(e.src=n),r&&(e.srcset=r),e.classList.remove("lazy-loading"),e.classList.add("lazy-loaded"),this.loadedImages.add(e),e.dispatchEvent(new CustomEvent("lazyloaded",{detail:{src:n,srcSet:r}}))}observe(e){this.observer&&e?(e.classList.add("lazy-loading"),this.observer.observe(e)):this.loadImage(e)}unobserve(e){this.observer&&e&&this.observer.unobserve(e)}disconnect(){this.observer&&this.observer.disconnect()}}new Ez;const kz=(t,e="prefetch")=>{Array.isArray(t)&&t.forEach(n=>{const r=document.createElement("link");r.rel=e,r.href=n,e==="preload"&&(r.as="image"),document.head.appendChild(r)})},Sz=async()=>{await _z(),kz(["https://firebasestorage.googleapis.com","https://fonts.googleapis.com","https://fonts.gstatic.com"],"preconnect")},A4=({product:t,onClose:e,onSave:n,sellerId:r})=>{var Le,yt;const{usuario:i,usuarioInfo:a}=Hr(),{validation:c,isValid:u,getFieldError:h}=wz(),[f,g]=T.useState({nombre:"",empresa:"",precio:"",cantidad:0,descripcion:"",categoria:"",nuevaCategoria:"",imagen:"",imagenes:[],imagenesExtra:[],videoUrl:"",videoUrls:[],videoAcercaArticulo:[],oferta:!1,precioOferta:"",estado:"Nuevo",acerca:[""],variantes:[{color:"",imagen:"",imagenes:[],cantidad:0,descripcion:"",precio:""}],etiquetas:[""],activo:!0,fechaPublicacion:new Date().toISOString().split("T")[0],peso:"",dimensiones:"",imagenPrincipal:[],galeriaImagenes:[],tresArchivosExtras:[],productStatus:Dk.DRAFT,validationScore:0,lastValidated:null}),[y,v]=T.useState([]),[w,S]=T.useState([]),[b,N]=T.useState(!1),[j,M]=T.useState((t==null?void 0:t.id)||null),[O,U]=T.useState(!1),[B,K]=T.useState(null),[R,I]=T.useState(!1),[A,k]=T.useState({imagen:"",imagenes:[],productVideos:[],acercaVideos:[],variantes:{},extras:[]}),[L,F]=T.useState([]),[D,be]=T.useState(!1),[Ge,ot]=T.useState([]),[Ke,le]=T.useState(!1),[oe,he]=T.useState(0);T.useEffect(()=>{var W;Sz(),ct(),it(),t&&g({...t,precio:((W=t.precio)==null?void 0:W.toString())||"",fechaPublicacion:t.fechaPublicacion||new Date().toISOString().split("T")[0],acerca:t.acerca||[""],etiquetas:t.etiquetas||[""],variantes:t.variantes||[{color:"",imagen:"",imagenes:[],cantidad:0}],videoUrl:t.videoUrl||"",videoUrls:t.videoUrls||[],videoAcercaArticulo:t.videoAcercaArticulo||[],imagenPrincipal:t.imagenPrincipal||(t.imagen?[{url:t.imagen}]:[]),galeriaImagenes:t.galeriaImagenes||t.imagenes||[],tresArchivosExtras:t.tresArchivosExtras||t.imagenesExtra||[],productStatus:t.productStatus||t.estado||Dk.DRAFT})},[t]),T.useEffect(()=>{t!=null&&t.id&&j!==t.id&&M(t.id)},[t==null?void 0:t.id]),T.useEffect(()=>{const W=H=>{var ie;if((ie=L==null?void 0:L.some)==null?void 0:ie.call(L,ce=>(ce==null?void 0:ce.status)==="uploading"))return H.preventDefault(),H.returnValue="",""};return window.addEventListener("beforeunload",W),()=>window.removeEventListener("beforeunload",W)},[L]),T.useEffect(()=>{const W=j||(t==null?void 0:t.id);if(!W)return;const H=cr(dt(Re,"productos",W),ve=>{if(!ve.exists())return;const ie=ve.data();g(ce=>{var Y,Ve;return{...ce,id:ie.id||W,nombre:ie.nombre??ce.nombre,descripcion:ie.descripcion??ce.descripcion,empresa:ie.empresa??ce.empresa,categoria:ie.categoria??ce.categoria,precio:((Ve=(Y=ie.precio??ce.precio)==null?void 0:Y.toString)==null?void 0:Ve.call(Y))||String(ie.precio??ce.precio??""),cantidad:ie.cantidad??ce.cantidad,etiquetas:Array.isArray(ie.etiquetas)?ie.etiquetas:ce.etiquetas||[],acerca:Array.isArray(ie.acerca)?ie.acerca:ce.acerca||[],imagen:ie.imagen??ce.imagen,imagenes:Array.isArray(ie.imagenes)?ie.imagenes:ce.imagenes||[],videoUrl:ie.videoUrl??ce.videoUrl,videoUrls:Array.isArray(ie.videoUrls)?ie.videoUrls:ce.videoUrls||[],videoAcercaArticulo:Array.isArray(ie.videoAcercaArticulo)?ie.videoAcercaArticulo:ce.videoAcercaArticulo||[],variantes:Array.isArray(ie.variantes)?ie.variantes:ce.variantes||[],activo:ie.activo??ce.activo}}),(async()=>{var Tt,Et,ut,Cn;const ce=Xe=>{try{if(!Xe)return null;const sn=String(Xe);if(sn.includes("firebasestorage.googleapis.com")){const Ht=sn.match(/\/o\/([^?]+)/);if(Ht&&Ht[1]){const Dr=decodeURIComponent(Ht[1]);return ns(rs,Dr)}}return ns(rs,sn)}catch{return null}},Y=Xe=>{try{return Xe?typeof Xe=="string"?Xe:typeof Xe=="object"&&Xe!==null&&typeof Xe.url=="string"?Xe.url:String(Xe||"").trim():""}catch{return""}},Ve=async Xe=>{try{if(!Xe)return Xe;const sn=Y(Xe),Ht=String(sn).trim();if(Ht.startsWith("blob:"))return Ht;if(/^https?:\/\//i.test(Ht)){if(Ht.includes("firebasestorage.googleapis.com")){const mn=ce(Ht);if(mn)try{return await tl(mn)}catch{}return Ht}return Ht}const Dr=ns(rs,Ht);return await tl(Dr)}catch{return Xe}},fe=async Xe=>Array.isArray(Xe)?Promise.all(Xe.map(Ve)):[],[pe,ze,De,nt,ht,Ae]=await Promise.all([Ve(ie.imagen??((Et=(Tt=ie.imagenPrincipal)==null?void 0:Tt[0])==null?void 0:Et.url)),fe(ie.imagenes??ie.galeriaImagenes),Ve(ie.videoUrl??((Cn=(ut=ie.videoAcercaArticulo)==null?void 0:ut[0])==null?void 0:Cn.url)??ie.video),fe(ie.videoUrls),fe(ie.imagenesExtra??ie.tresArchivosExtras),fe(ie.videoAcercaArticulo)]),Se=Xe=>{var nr,li;const sn=(Xe==null?void 0:Xe.imagen)??((li=(nr=Xe==null?void 0:Xe.imagenPrincipal)==null?void 0:nr[0])==null?void 0:li.url)??"",Ht=Array.isArray(Xe==null?void 0:Xe.imagenes)?Xe.imagenes:Array.isArray(Xe==null?void 0:Xe.galeriaImagenes)?Xe.galeriaImagenes:[],Dr=Array.isArray(Xe==null?void 0:Xe.videoUrls)?Xe.videoUrls:[],mn=Ui=>Y(Ui);return{...Xe,imagen:mn(sn),imagenes:Ht.map(mn).filter(Boolean),videoUrls:Dr.map(mn).filter(Boolean)}},Ut=Array.isArray(ie.variantes)?ie.variantes.map(Se):prev.variantes||[];g(Xe=>({...Xe,imagen:pe||Xe.imagen,imagenes:ze!=null&&ze.length?ze:Xe.imagenes,videoUrl:De||Xe.videoUrl,videoUrls:nt!=null&&nt.length?nt:Xe.videoUrls,imagenesExtra:ht!=null&&ht.length?ht:Xe.imagenesExtra,videoAcercaArticulo:Ae!=null&&Ae.length?Ae:Xe.videoAcercaArticulo,variantes:Ut}))})()});return()=>H()},[j,t==null?void 0:t.id]);const z=T.useRef(!1);T.useEffect(()=>{if(!z.current){try{const W="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",H=Array.isArray(f.videoAcercaArticulo)?f.videoAcercaArticulo:[];if(H.some(ie=>String(ie).trim()===W)){const ie=H.filter(Y=>String(Y).trim()!==W);g(Y=>({...Y,videoAcercaArticulo:ie}));const ce=j||(t==null?void 0:t.id);ce&&Wn(dt(Re,"productos",ce),{videoAcercaArticulo:ie,fechaActualizacion:new Date}).catch(()=>{})}}catch{}z.current=!0}},[f.videoAcercaArticulo,j,t==null?void 0:t.id]),T.useEffect(()=>{const H=setTimeout(async()=>{const ve=await xz(f);ot(ve.errors||[]),g(ie=>({...ie,validationScore:ve.score||0,lastValidated:new Date().toISOString()}))},500);return()=>clearTimeout(H)},[f.nombre,f.precio,f.categoria,f.descripcion,f.imagenPrincipal,f.galeriaImagenes]),T.useMemo(()=>({id:j||(t==null?void 0:t.id)||"nuevo",nombre:f.nombre||"",precio:parseFloat(f.precio)||0,cantidad:Number(f.cantidad)||0}),[j,t==null?void 0:t.id,f.nombre,f.precio,f.cantidad]);const Q=async()=>{if(t!=null&&t.id)return t.id;if(f!=null&&f.id)return f.id;if(j)return j;try{const W=`prod_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,H={id:W,nombre:(f==null?void 0:f.nombre)||"",descripcion:(f==null?void 0:f.descripcion)||"",empresa:(f==null?void 0:f.empresa)||"",categoria:(f==null?void 0:f.categoria)||"",precio:parseFloat(f==null?void 0:f.precio)||0,cantidad:Number(f==null?void 0:f.cantidad)||0,etiquetas:Array.isArray(f==null?void 0:f.etiquetas)?f.etiquetas:[],acerca:Array.isArray(f==null?void 0:f.acerca)?f.acerca:[],variantes:Array.isArray(f==null?void 0:f.variantes)?f.variantes:[],imagen:"",imagenPrincipal:[],imagenes:[],videoUrls:[],videoAcercaArticulo:[],imagenesExtra:[],activo:!1,ownerUid:(i==null?void 0:i.uid)||null,ownerName:(a==null?void 0:a.displayName)||(i==null?void 0:i.displayName)||"",sellerId:r||(i==null?void 0:i.uid)||null,sellerName:r&&((a==null?void 0:a.storeName)||(a==null?void 0:a.displayName))||"",fechaCreacion:new Date,fechaActualizacion:new Date};return await Gn(dt(Re,"productos",W),H),M(W),g(ve=>({...ve,id:W})),W}catch{return null}},we=async(W,H)=>{if(!["nuevaCategoria","_tempVideoUrl"].includes(W))try{const ve=(t==null?void 0:t.id)||(f==null?void 0:f.id)||j,ie=!!ve;let ce=ve;if(!ce&&(ie||(ce=await Q(),!ce)))return;await Wn(dt(Re,"productos",ce),{[W]:H,fechaActualizacion:new Date})}catch{}},Be=W=>String(W||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").slice(0,80),Ue=W=>{const H=((W==null?void 0:W.name)||"file").replace(/[^a-zA-Z0-9_.-]/g,"_");return`${Date.now()}-${Math.random().toString(36).slice(2,8)}-${H}`},tt=({productId:W,section:H,file:ve,variantId:ie=null})=>{const ce=Ue(ve);if(ie){if(H==="main")return`products/${W}/variants/${ie}/main/${ce}`;if(H==="gallery")return`products/${W}/variants/${ie}/gallery/${ce}`}else{if(H==="main")return`products/${W}/main/${ce}`;if(H==="gallery")return`products/${W}/gallery/${ce}`;if(H==="videos")return`products/${W}/videos/${ce}`;if(H==="extras")return`products/${W}/extras/${ce}`}return`products/${W}/misc/${ce}`},ft=W=>{const H=(f.variantes||[])[W]||{};if(H.id)return H.id;const ve=`var_${Date.now()}_${Math.random().toString(36).slice(2,6)}`;return g(ie=>{const ce=[...ie.variantes||[]];ce[W]={...ce[W]||{},id:ve};const Y={...ie,variantes:ce},Ve=j||(t==null?void 0:t.id);return Ve&&Wn(dt(Re,"productos",Ve),{variantes:ce,fechaActualizacion:new Date}).catch(()=>{}),Y}),ve},ct=async()=>{try{const H=(await Ir(Ft(Re,"categorias"))).docs.map(ve=>({id:ve.id,...ve.data()}));v(H)}catch(W){console.error("Error loading categories:",W)}},it=async()=>{try{const H=(await Ir(Ft(Re,"productos"))).docs.map(ie=>{var ce;return(ce=ie.data())==null?void 0:ce.empresa}).filter(Boolean),ve=Array.from(new Set(H)).sort((ie,ce)=>ie.localeCompare(ce));S(ve)}catch{}},Je=(W,H)=>{g(ve=>({...ve,[W]:H})),we(W,H)},St=(W,H,ve)=>{g(ie=>{const ce=ie[W].map((Ve,fe)=>fe===H?ve:Ve),Y={...ie,[W]:ce};return we(W,ce),Y})},At=W=>{g(H=>{const ve=[...H[W],W==="variantes"?{color:"",imagen:"",imagenes:[],cantidad:0,descripcion:"",precio:""}:""],ie={...H,[W]:ve};return we(W,ve),ie})},_t=(W,H)=>{g(ve=>{const ie=ve[W].filter((Y,Ve)=>Ve!==H),ce={...ve,[W]:ie};return we(W,ie),ce})},Rt=(W,H,ve)=>{g(ce=>({...ce,variantes:ce.variantes.map((Y,Ve)=>Ve===W?{...Y,[H]:ve}:Y)}));const ie=j||(t==null?void 0:t.id);if(ie)try{g(ce=>{const Y=ce.variantes.map((Ve,fe)=>fe===W?{...Ve,[H]:ve}:Ve);return Wn(dt(Re,"productos",ie),{variantes:Y,fechaActualizacion:new Date}).catch(()=>{}),{...ce,variantes:Y}})}catch{}},re=W=>{he(W)},$e=async(W,H,ve)=>new Promise((ie,ce)=>{try{const Y=ns(rs,H),Ve=K_(Y,W);F(fe=>fe.map(pe=>pe.id===ve?{...pe,task:Ve}:pe)),Ve.on("state_changed",fe=>{const pe=Math.round(fe.bytesTransferred/fe.totalBytes*100);K(pe),F(ze=>ze.map(De=>De.id===ve?{...De,progress:pe}:De)),setTimeout(()=>{F(ze=>{const De=ze.find(nt=>nt.id===ve);if(De&&De.status==="uploading"&&(!De.progress||De.progress===0)&&De.task){try{De.task.cancel()}catch{}return ze.map(nt=>nt.id===ve?{...nt,status:"error"}:nt)}return ze})},6e3)},fe=>{F(pe=>pe.map(ze=>ze.id===ve?{...ze,status:"error"}:ze)),ce(fe)},async()=>{const fe=await tl(Ve.snapshot.ref);F(pe=>pe.map(ze=>ze.id===ve?{...ze,status:"done"}:ze)),ie(fe)})}catch(Y){F(Ve=>Ve.map(fe=>fe.id===ve?{...fe,status:"error"}:fe)),ce(Y)}}),Pe=async(W,H,ve)=>new Promise((ie,ce)=>{try{const Y=ns(rs,H),Ve=K_(Y,W);F(fe=>fe.map(pe=>pe.id===ve?{...pe,task:Ve}:pe)),Ve.on("state_changed",fe=>{const pe=Math.round(fe.bytesTransferred/fe.totalBytes*100);K(pe),F(ze=>ze.map(De=>De.id===ve?{...De,progress:pe}:De))},fe=>{F(pe=>pe.map(ze=>ze.id===ve?{...ze,status:"error"}:ze)),ce(fe)},async()=>{const fe=await tl(Ve.snapshot.ref);F(pe=>pe.map(ze=>ze.id===ve?{...ze,status:"done"}:ze)),ie(fe)})}catch(Y){F(Ve=>Ve.map(fe=>fe.id===ve?{...fe,status:"error"}:fe)),ce(Y)}}),de=async(W,H,ve,ie,ce=2)=>{let Y;for(let Ve=0;Ve<=ce;Ve++)try{return await W(H,ve,ie)}catch(fe){Y=fe,await new Promise(pe=>setTimeout(pe,500*(Ve+1)))}throw Y},Qe=async W=>{if(W)try{const ve=(ie=>{try{const ce=String(ie);if(ce.startsWith("gs://"))return ns(rs,ce);if(ce.includes("firebasestorage.googleapis.com")){const Y=ce.match(/\/o\/([^?]+)/);if(Y&&Y[1]){const Ve=decodeURIComponent(Y[1]);return ns(rs,Ve)}}return ns(rs,ce)}catch{return null}})(W);ve&&await cL(ve)}catch{}},We=W=>{try{const H=String(W).trim().toLowerCase();if(H.includes("youtube.com")||H.includes("youtu.be")||H.includes("vimeo.com"))return"video";const ie=H.split("?")[0].split("#")[0].split(".").pop()||"";return["jpg","jpeg","png","gif","webp","bmp","svg"].includes(ie)?"image":["mp4","mov","avi","mkv","webm","m4v"].includes(ie)?"video":"document"}catch{return"document"}},Dt=async()=>{f.imagen&&await Qe(f.imagen),Je("imagen",""),Je("imagenPrincipal",[])},jt=async W=>{console.log("🎯 handleMainImageUFU llamado con:",W);try{U(!0);const H=Array.isArray(W)?W:[];if(console.log("📋 Array procesado:",H),H.length===0){console.log("📭 No hay archivos, limpiando imagen principal"),k(ce=>({...ce,imagen:""})),await Dt();return}const ve=H[0];console.log("📄 Primer archivo:",ve);const ie=(ve==null?void 0:ve.url)||"";if(console.log("🔗 URL del primer archivo:",ie),ve!=null&&ve.file){console.log("📦 Archivo detectado, procesando subida..."),console.log("👁️ Mostrando preview local:",ie),k(pe=>({...pe,imagen:ie}));let ce=j||(t==null?void 0:t.id);if(console.log("🆔 Target ID:",ce),ce||(console.log("🆕 No hay ID, creando uno..."),ce=await Q()),!ce){console.warn("⚠️ No se pudo obtener ID, abortando subida");return}console.log("✅ ID confirmado:",ce);const Y=`${Date.now()}_${ve.file.name}_${Math.random().toString(36).slice(2,7)}`,Ve=tt({productId:ce,section:"main",file:ve.file});console.log("⬆️ Iniciando subida a Firebase Storage...");const fe=await de($e,ve.file,Ve,Y);console.log("✅ Imagen subida exitosamente! URL:",fe),g(pe=>{const ze=Array.isArray(pe.imagenes)?[...pe.imagenes]:[];ze.includes(fe)||ze.unshift(fe);const De=[{url:fe}],nt={...pe,imagen:fe,imagenPrincipal:De,imagenes:ze};return console.log("💾 Guardando en Firestore y actualizando formData...",nt),Wn(dt(Re,"productos",ce),{imagen:fe,imagenPrincipal:De,imagenes:ze,fechaActualizacion:new Date}).then(()=>{console.log("✅ Documento actualizado en Firestore")}).catch(ht=>{console.error("❌ Error actualizando Firestore:",ht)}),nt})}else ie&&!ie.startsWith("blob:")&&(Je("imagen",ie),Je("imagenPrincipal",[{url:ie}]),k(ce=>({...ce,imagen:""})))}catch(H){console.error("handleMainImageUFU error",H)}finally{U(!1),K(null)}},Pt=async W=>{var H,ve,ie,ce;try{U(!0);const Y=Array.isArray(W)?W:[],Ve=Y.filter(Se=>{var Ut,Tt;return(Se==null?void 0:Se.file)&&((Tt=(Ut=Se.file.type)==null?void 0:Ut.startsWith)==null?void 0:Tt.call(Ut,"image/"))}).map(Se=>Se.url).filter(Boolean),fe=Y.filter(Se=>{var Ut,Tt;return(Se==null?void 0:Se.file)&&((Tt=(Ut=Se.file.type)==null?void 0:Ut.startsWith)==null?void 0:Tt.call(Ut,"video/"))}).map(Se=>Se.url).filter(Boolean);k(Se=>({...Se,imagenes:Ve,productVideos:fe}));const pe=Y.filter(Se=>!(Se!=null&&Se.file)&&(Se==null?void 0:Se.url)&&!Se.url.startsWith("blob:")).map(Se=>Se.url),ze=pe.filter(Se=>We(Se)==="image"),De=pe.filter(Se=>We(Se)==="video"),nt=Array.isArray(f.imagenes)?f.imagenes:[],ht=Array.isArray(f.videoUrls)?f.videoUrls:[];if(JSON.stringify(ze)!==JSON.stringify(nt)){const Se=j||(t==null?void 0:t.id);g(Ut=>{const Tt={...Ut,imagenes:ze};return Se&&Wn(dt(Re,"productos",Se),{imagenes:ze,fechaActualizacion:new Date}).catch(()=>{}),Tt})}if(JSON.stringify(De)!==JSON.stringify(ht)){const Se=j||(t==null?void 0:t.id);g(Ut=>{const Tt={...Ut,videoUrls:De};return Se&&Wn(dt(Re,"productos",Se),{videoUrls:De,fechaActualizacion:new Date}).catch(()=>{}),Tt})}let Ae=j||(t==null?void 0:t.id);if(Ae||(Ae=await Q()),!Ae)return;for(const Se of Y)if(Se!=null&&Se.file&&((ve=(H=Se.file.type)==null?void 0:H.startsWith)!=null&&ve.call(H,"image/"))){const Ut=`${Date.now()}_${Se.file.name}_${Math.random().toString(36).slice(2,7)}`,Tt=tt({productId:Ae,section:"gallery",file:Se.file});try{const Et=await de($e,Se.file,Tt,Ut);g(ut=>{const Cn=Array.isArray(ut.imagenes)?[...ut.imagenes,Et]:[Et],Xe=!ut.imagen&&(!Array.isArray(ut.imagenPrincipal)||ut.imagenPrincipal.length===0),sn={...ut,imagenes:Cn,...Xe?{imagen:Et,imagenPrincipal:[{url:Et}]}:{}},Ht=Xe?{imagenes:Cn,imagen:Et,imagenPrincipal:[{url:Et}],fechaActualizacion:new Date}:{imagenes:Cn,fechaActualizacion:new Date};return Wn(dt(Re,"productos",Ae),Ht).catch(()=>{}),sn})}catch(Et){console.error("Gallery image upload error",Et)}}else if(Se!=null&&Se.file&&((ce=(ie=Se.file.type)==null?void 0:ie.startsWith)!=null&&ce.call(ie,"video/"))){const Ut=`${Date.now()}_${Se.file.name}_${Math.random().toString(36).slice(2,7)}`,Tt=tt({productId:Ae,section:"videos",file:Se.file});try{const Et=await de(Pe,Se.file,Tt,Ut);g(ut=>{const Cn=Array.isArray(ut.videoUrls)?[...ut.videoUrls,Et]:[Et],Xe={...ut,videoUrls:Cn};return Wn(dt(Re,"productos",Ae),{videoUrls:Cn,fechaActualizacion:new Date}).catch(()=>{}),Xe})}catch(Et){console.error("Gallery video upload error",Et)}}}catch(Y){console.error("handleGalleryUFU error",Y)}finally{U(!1),K(null)}},Ee=async W=>{try{U(!0);const H=Array.isArray(W)?W.slice(0,3):[],ve=H.filter(fe=>fe==null?void 0:fe.file).map(fe=>fe.url).filter(Boolean);k(fe=>({...fe,extras:ve}));const ie=H.filter(fe=>!(fe!=null&&fe.file)&&(fe==null?void 0:fe.url)&&!fe.url.startsWith("blob:")).map(fe=>fe.url),ce=Array.isArray(f.imagenesExtra)?f.imagenesExtra:[],Y=ce.filter(fe=>!ie.includes(fe));for(const fe of Y)await Qe(fe);JSON.stringify(ie)!==JSON.stringify(ce)&&g(fe=>{const pe={...fe,imagenesExtra:ie},ze=j||(t==null?void 0:t.id);return ze&&Wn(dt(Re,"productos",ze),{imagenesExtra:ie,fechaActualizacion:new Date}).catch(()=>{}),pe});let Ve=j||(t==null?void 0:t.id);if(Ve||(Ve=await Q()),!Ve)return;for(const fe of H)if(fe!=null&&fe.file){const pe=`${Date.now()}_${fe.file.name}_${Math.random().toString(36).slice(2,7)}`,ze=tt({productId:Ve,section:"extras",file:fe.file});try{const De=await de($e,fe.file,ze,pe);g(nt=>{const ht=Array.isArray(nt.imagenesExtra)?[...nt.imagenesExtra,De]:[De],Ae={...nt,imagenesExtra:ht};return Wn(dt(Re,"productos",Ve),{imagenesExtra:ht,fechaActualizacion:new Date}).catch(()=>{}),Ae})}catch(De){console.error("Extra file upload error",De)}}}catch(H){console.error("handleExtrasUFU error",H)}finally{U(!1),K(null)}},te=async(W,H)=>{try{U(!0);const ve=Array.isArray(W)?W:[];if(ve.length===0){k(ce=>{var Y;return{...ce,variantes:{...ce.variantes,[H]:{...((Y=ce.variantes)==null?void 0:Y[H])||{},imagen:""}}}}),Rt(H,"imagen","");return}const ie=ve[0];if(ie!=null&&ie.file){k(ze=>{var De;return{...ze,variantes:{...ze.variantes,[H]:{...((De=ze.variantes)==null?void 0:De[H])||{},imagen:ie.url}}}});let ce=j||(t==null?void 0:t.id);ce||(ce=await Q());const Y=ft(H),Ve=`${Date.now()}_${ie.file.name}_${Math.random().toString(36).slice(2,7)}`,fe=tt({productId:ce,section:"main",file:ie.file,variantId:Y}),pe=await de($e,ie.file,fe,Ve);Rt(H,"imagen",pe)}else ie!=null&&ie.url&&!ie.url.startsWith("blob:")&&(Rt(H,"imagen",ie.url),k(ce=>{var Y;return{...ce,variantes:{...ce.variantes,[H]:{...((Y=ce.variantes)==null?void 0:Y[H])||{},imagen:""}}}}))}catch(ve){console.error("handleVariantMainUFU error",ve)}finally{U(!1),K(null)}},ye=async(W,H)=>{var ve,ie,ce,Y;try{U(!0);const Ve=Array.isArray(W)?W:[],fe=Ve.filter(Ae=>Ae==null?void 0:Ae.file).map(Ae=>Ae.url).filter(Boolean);k(Ae=>{var Se;return{...Ae,variantes:{...Ae.variantes,[H]:{...((Se=Ae.variantes)==null?void 0:Se[H])||{},imagenes:fe}}}});const pe=Ve.filter(Ae=>!(Ae!=null&&Ae.file)&&(Ae==null?void 0:Ae.url)&&!Ae.url.startsWith("blob:")).map(Ae=>Ae.url),ze=Array.isArray((ie=(ve=f.variantes)==null?void 0:ve[H])==null?void 0:ie.imagenes)?f.variantes[H].imagenes:[],De=ze.filter(Ae=>!pe.includes(Ae));for(const Ae of De)await Qe(Ae);JSON.stringify(pe)!==JSON.stringify(ze)&&Rt(H,"imagenes",pe);let nt=j||(t==null?void 0:t.id);if(nt||(nt=await Q()),!nt)return;const ht=ft(H);for(const Ae of Ve)if(Ae!=null&&Ae.file&&((Y=(ce=Ae.file.type)==null?void 0:ce.startsWith)!=null&&Y.call(ce,"image/"))){const Se=`${Date.now()}_${Ae.file.name}_${Math.random().toString(36).slice(2,7)}`,Ut=tt({productId:nt,section:"gallery",file:Ae.file,variantId:ht});try{const Tt=await de($e,Ae.file,Ut,Se);g(Et=>{var Ht;const ut=[...Et.variantes||[]],Cn=Array.isArray((Ht=ut[H])==null?void 0:Ht.imagenes)?ut[H].imagenes:[];ut[H]={...ut[H]||{},imagenes:[...Cn,Tt]};const Xe={...Et,variantes:ut},sn=j||(t==null?void 0:t.id);return sn&&Wn(dt(Re,"productos",sn),{variantes:ut,fechaActualizacion:new Date}).catch(()=>{}),Xe})}catch(Tt){console.error("Variant gallery upload error",Tt)}}}catch(Ve){console.error("handleVariantGalleryUFU error",Ve)}finally{U(!1),K(null)}},Ce=async(W,H)=>{var ve,ie,ce,Y;try{const Ve=Array.isArray(W)?W:[],fe=Ve.filter(Ae=>Ae==null?void 0:Ae.file).map(Ae=>Ae.url).filter(Boolean);k(Ae=>{var Se;return{...Ae,variantes:{...Ae.variantes,[H]:{...((Se=Ae.variantes)==null?void 0:Se[H])||{},videos:fe}}}});const pe=Ve.filter(Ae=>!(Ae!=null&&Ae.file)&&(Ae==null?void 0:Ae.url)&&!Ae.url.startsWith("blob:")).map(Ae=>Ae.url),ze=Array.isArray((ie=(ve=f.variantes)==null?void 0:ve[H])==null?void 0:ie.videoUrls)?f.variantes[H].videoUrls:[],De=ze.filter(Ae=>!pe.includes(Ae));for(const Ae of De)await Qe(Ae);JSON.stringify(pe)!==JSON.stringify(ze)&&Rt(H,"videoUrls",pe);let nt=j||(t==null?void 0:t.id);if(nt||(nt=await Q()),!nt)return;const ht=ft(H);for(const Ae of Ve)if(Ae!=null&&Ae.file&&((Y=(ce=Ae.file.type)==null?void 0:ce.startsWith)!=null&&Y.call(ce,"video/"))){const Se=`${Date.now()}_${Ae.file.name}_${Math.random().toString(36).slice(2,7)}`,Ut=tt({productId:nt,section:"gallery",file:Ae.file,variantId:ht});try{const Tt=await de(Pe,Ae.file,Ut,Se);g(Et=>{var Ht;const ut=[...Et.variantes||[]],Cn=Array.isArray((Ht=ut[H])==null?void 0:Ht.videoUrls)?ut[H].videoUrls:[];ut[H]={...ut[H]||{},videoUrls:[...Cn,Tt]};const Xe={...Et,variantes:ut},sn=j||(t==null?void 0:t.id);return sn&&Wn(dt(Re,"productos",sn),{variantes:ut,fechaActualizacion:new Date}).catch(()=>{}),Xe})}catch(Tt){console.error("Variant video upload error",Tt)}}}catch(Ve){console.error("handleVariantVideosUFU error",Ve)}},ee=async W=>{try{const H={nombre:W,ruta:W.toLowerCase().replace(/\s+/g,"-"),activa:!0,fechaCreacion:new Date,productCount:0};return await Gn(dt(Re,"categorias",H.ruta),H),v(ve=>[...ve,{id:H.ruta,...H}]),H.ruta}catch(H){throw console.error("Error creating category:",H),H}},Me=async W=>{W.preventDefault();const H=[];String(f.nombre||"").trim()||H.push("El nombre del producto es obligatorio"),String(f.empresa||"").trim();const ie=fe=>{if(typeof fe=="number")return fe;let pe=String(fe??"").trim();if(!pe)return NaN;pe=pe.replace(/\s/g,""),pe.includes(",")&&/,\d{1,2}$/.test(pe)?pe=pe.replace(/\./g,"").replace(",","."):pe=pe.replace(/,/g,"");const ze=parseFloat(pe);return Number.isFinite(ze)?ze:NaN},ce=ie(f.precio);(!Number.isFinite(ce)||ce<0)&&H.push("Precio inválido");const Y=parseInt(f.cantidad);(!Number.isFinite(Y)||Y<0)&&H.push("Cantidad inválida"),R&&(String(f.nuevaCategoria||"").trim()||H.push("Escribe el nombre de la nueva categoría"));let Ve=!1;if(f.oferta){const fe=String(f.precioOferta??"").trim();if(!fe)Ve=!0;else{const pe=ie(fe);(!Number.isFinite(pe)||pe<0||Number.isFinite(ce)&&pe>=ce)&&(Ve=!0)}}if(H.length){alert(`Corrige los siguientes campos antes de guardar:
- `+H.join(`
- `));return}N(!0);try{let fe=f.categoria;R&&f.nuevaCategoria.trim()&&(fe=await ee(f.nuevaCategoria.trim()));let pe={...f,categoria:fe,precio:Number.isFinite(ce)?ce:0,fechaActualizacion:new Date,acerca:(Array.isArray(f.acerca)?f.acerca:[]).filter(ht=>String(ht||"").trim()),etiquetas:(Array.isArray(f.etiquetas)?f.etiquetas:[]).filter(ht=>String(ht||"").trim()),variantes:(Array.isArray(f.variantes)?f.variantes:[]).map(ht=>{const Ae=Number.isFinite(parseInt(ht==null?void 0:ht.cantidad))?parseInt(ht.cantidad):0,Se=(ht==null?void 0:ht.precio)!==void 0&&(ht==null?void 0:ht.precio)!==null&&String(ht.precio).trim()!=="",Ut=Se?ie(ht.precio)||0:void 0;return{...ht,cantidad:Ae,...Se?{precio:Ut}:{}}})};if(Ve&&(pe.oferta=!1,delete pe.precioOferta),pe.activo=!!pe.activo,delete pe.nuevaCategoria,delete pe._tempVideoUrl,O){const ht=["imagen","imagenPrincipal","imagenes","media","videoAcercaArticulo","video","videoUrls","imagenesExtra","tresArchivosExtras"];for(const Ae of ht)delete pe[Ae];Array.isArray(pe.variantes)&&(pe.variantes=pe.variantes.map(Ae=>{const Se={...Ae};return delete Se.media,delete Se.videoUrls,delete Se.imagenes,delete Se.imagen,delete Se.imagenPrincipal,Se}))}pe.empresa&&(pe.empresa=pe.empresa.trim(),pe.empresaNorm=pe.empresa.toLowerCase());const ze=(t==null?void 0:t.id)||j||(f==null?void 0:f.id)||null;if(t&&!t.id)throw new Error("Producto en edición sin ID válido. No se guardó para evitar duplicados.");const De=!ze,nt=De?`prod_${Date.now()}`:ze;pe.id=nt,pe.nombre&&!pe.slug&&(pe.slug=Be(pe.nombre)),De&&(pe.fechaCreacion=new Date,pe.ownerUid||(pe.ownerUid=(i==null?void 0:i.uid)||(a==null?void 0:a.uid)||null),pe.ownerName||(pe.ownerName=((a==null?void 0:a.displayName)||(i==null?void 0:i.email)||"").toString())),await Gn(dt(Re,"productos",nt),{...pe,fechaActualizacion:new Date},{merge:!0}),De&&M(nt),typeof n=="function"&&n(),typeof e=="function"&&e()}catch(fe){console.error("Error saving product:",fe);let pe="Error al guardar el producto";(fe==null?void 0:fe.code)==="permission-denied"?pe="No tienes permisos para guardar este producto":(fe==null?void 0:fe.code)==="network-request-failed"?pe="Error de conexión. Verifica tu internet e inténtalo de nuevo":typeof(fe==null?void 0:fe.message)=="string"&&fe.message&&(pe=fe.message),alert(pe)}finally{N(!1)}};return o.jsx(ae.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-stretch justify-stretch",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(ae.div,{className:"bg-white w-screen h-screen overflow-hidden flex flex-col",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[o.jsxs("div",{className:"bg-blue-700 text-white p-4 md:p-6 flex justify-between items-center sticky top-0 z-10 shadow",children:[o.jsx("h2",{className:"text-2xl font-bold",children:t?"Editar Producto":"Agregar Producto"}),o.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 text-2xl font-bold",children:"×"})]}),o.jsx("form",{onSubmit:Me,className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:"📝"})," Información Básica"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Nombre del Producto *"]})}),o.jsx("input",{type:"text",required:!0,value:f.nombre,onChange:W=>Je("nombre",W.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all duration-200 text-lg font-medium",placeholder:"Ej: iPhone 15 Pro Max"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Marca / Empresa"]})}),o.jsx("input",{type:"text",list:"brands-list",value:f.empresa||"",onChange:W=>Je("empresa",W.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white transition-all duration-200",placeholder:"Ej: Apple, Samsung, Sony"}),o.jsx("datalist",{id:"brands-list",children:w.map(W=>o.jsx("option",{value:W},W))}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sugerencias basadas en tus marcas guardadas. Se guardará sin importar mayúsculas/minúsculas."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),o.jsx("input",{type:"number",step:"0.01",required:!0,value:f.precio,onChange:W=>Je("precio",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad en Stock *"}),o.jsx("input",{type:"number",min:"0",required:!0,value:f.cantidad,onChange:W=>Je("cantidad",parseInt(W.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),o.jsx("textarea",{value:f.descripcion||"",onChange:W=>Je("descripcion",W.target.value),placeholder:"Escribe la descripción del producto...",className:"w-full min-h-[140px] px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Categoría y Estado"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{value:R?"":f.categoria,onChange:W=>{W.target.value==="nueva"?I(!0):(I(!1),Je("categoria",W.target.value))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar categoría"}),y.map(W=>o.jsx("option",{value:W.id,children:W.nombre},W.id)),o.jsx("option",{value:"nueva",children:"+ Crear nueva categoría"})]}),R&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",placeholder:"Nombre de la nueva categoría",value:f.nuevaCategoria,onChange:W=>Je("nuevaCategoria",W.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),o.jsx("button",{type:"button",onClick:()=>{I(!1),Je("nuevaCategoria","")},className:"px-3 py-2 text-gray-500 hover:text-gray-700",children:"Cancelar"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),o.jsxs("select",{value:f.estado,onChange:W=>Je("estado",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"Nuevo",children:"Nuevo"}),o.jsx("option",{value:"Usado",children:"Usado"}),o.jsx("option",{value:"Reacondicionado",children:"Reacondicionado"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Publicación"}),o.jsx("input",{type:"date",value:f.fechaPublicacion,onChange:W=>Je("fechaPublicacion",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:f.oferta,onChange:W=>Je("oferta",W.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"En oferta"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:f.activo,onChange:W=>Je("activo",W.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"Producto activo"]})]}),f.oferta&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio de Oferta"}),o.jsx("input",{type:"number",step:"0.01",value:f.precioOferta,onChange:W=>Je("precioOferta",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio con descuento"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (opcional)"}),o.jsx("input",{type:"text",value:f.peso,onChange:W=>Je("peso",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ej: 1.5 kg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensiones (opcional)"}),o.jsx("input",{type:"text",value:f.dimensiones,onChange:W=>Je("dimensiones",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ej: 30x20x10 cm"})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:"🖼️"})," Imágenes y Multimedia"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"📷 Imagen Principal *"}),o.jsx(Jo,{files:[...A.imagen?[{id:"temp-main",url:A.imagen,type:"image",name:"imagen-principal",size:0,isUploaded:!1}]:[],...f.imagen?[f.imagen]:[]],onFilesChange:jt,acceptedTypes:"image/*",multiple:!1,maxFiles:1,label:"Imagen Principal",placeholder:"Arrastra o selecciona una imagen principal",allowReorder:!1,allowSetMain:!1})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"🎬 Galería (Imágenes y Videos)"}),o.jsx(Jo,{files:[...Array.isArray(f.imagenes)?f.imagenes:[],...Array.isArray(f.videoUrls)?f.videoUrls:[],...Array.isArray(A.imagenes)?A.imagenes.map((W,H)=>({id:`temp-gallery-img-${H}`,url:W,type:"image",name:`imagen-${H+1}`,size:0,isUploaded:!1})):[],...Array.isArray(A.productVideos)?A.productVideos.map((W,H)=>({id:`temp-gallery-vid-${H}`,url:W,type:"video",name:`video-${H+1}`,size:0,isUploaded:!1})):[]],onFilesChange:Pt,acceptedTypes:"image/*,video/*",multiple:!0,label:"Galería (Imágenes y Videos)",placeholder:"Arrastra o selecciona imágenes o videos",allowReorder:!0,allowSetMain:!0})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:"📋"})," Detalles del Producto"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Características (Acerca de)"}),f.acerca.map((W,H)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",value:W,onChange:ve=>St("acerca",H,ve.target.value),placeholder:"Característica del producto",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{type:"button",onClick:()=>_t("acerca",H),className:"px-3 py-2 text-red-500 hover:text-red-700",children:"×"})]},H)),o.jsx("button",{type:"button",onClick:()=>At("acerca"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar característica"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas (para búsqueda)"}),f.etiquetas.map((W,H)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",value:W,onChange:ve=>St("etiquetas",H,ve.target.value),placeholder:"Etiqueta",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{type:"button",onClick:()=>_t("etiquetas",H),className:"px-3 py-2 text-red-500 hover:text-red-700",children:"×"})]},H)),o.jsx("button",{type:"button",onClick:()=>At("etiquetas"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar etiqueta"})]})]}),o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Variantes del Producto"}),f.variantes&&f.variantes.length>1&&o.jsx("div",{className:"mb-4",children:o.jsx(C4,{variants:f.variantes.map((W,H)=>{var ve,ie;return{id:W.id||`var_${H}`,name:W.color||`Variante ${H+1}`,price:W.precio,stock:W.cantidad,image:((ie=(ve=W.imagenPrincipal)==null?void 0:ve[0])==null?void 0:ie.url)||W.imagen,isSelected:oe===H}}),productMainImage:((yt=(Le=f.imagenPrincipal)==null?void 0:Le[0])==null?void 0:yt.url)||f.imagen,onVariantChange:re,className:"max-w-md"})})]}),f.variantes.map((W,H)=>{var ve,ie,ce,Y,Ve,fe;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h4",{className:"font-medium",children:["Variante ",H+1]}),o.jsx("button",{type:"button",onClick:()=>_t("variantes",H),className:"text-red-500 hover:text-red-700",children:"Eliminar"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color/Tipo"}),o.jsx("input",{type:"text",value:W.color,onChange:pe=>Rt(H,"color",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),o.jsx("input",{type:"number",min:"0",value:W.cantidad,onChange:pe=>Rt(H,"cantidad",parseInt(pe.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción de la variante"}),o.jsx("textarea",{rows:2,value:W.descripcion||"",onChange:pe=>Rt(H,"descripcion",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej. Color neón, control edición especial, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio de la variante (opcional)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:W.precio??"",onChange:pe=>Rt(H,"precio",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej. 1999.99"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen de Variante"}),o.jsx(Jo,{files:[...(ie=(ve=A.variantes)==null?void 0:ve[H])!=null&&ie.imagen?[{id:`temp-var${H}-main`,url:A.variantes[H].imagen,type:"image",name:`var${H}-imagen`,size:0,isUploaded:!1}]:[],...W.imagen?[W.imagen]:[]],onFilesChange:pe=>te(pe,H),acceptedTypes:"image/*",multiple:!1,maxFiles:1,label:"Imagen de Variante",placeholder:"Arrastra o selecciona una imagen",allowReorder:!1,allowSetMain:!1})]})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imágenes adicionales de la variante"}),o.jsx(Jo,{files:[...W.imagenes||[],...(((Y=(ce=A.variantes)==null?void 0:ce[H])==null?void 0:Y.imagenes)||[]).map((pe,ze)=>({id:`temp-var${H}-img-${ze}`,url:pe,type:"image",name:`var${H}-img-${ze+1}`,size:0,isUploaded:!1}))],onFilesChange:pe=>ye(pe,H),acceptedTypes:"image/*",multiple:!0,label:"Imágenes adicionales de la variante",placeholder:"Arrastra o selecciona imágenes",allowReorder:!0,allowSetMain:!0})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Videos de la variante"}),o.jsx(Jo,{files:[...W.videoUrls||[],...(((fe=(Ve=A.variantes)==null?void 0:Ve[H])==null?void 0:fe.videos)||[]).map((pe,ze)=>({id:`temp-var${H}-video-${ze}`,url:pe,type:"video",name:`video-${ze+1}`,size:0,isUploaded:!1}))],onFilesChange:pe=>Ce(pe,H),acceptedTypes:"video/*",multiple:!0,label:"Videos de la variante",placeholder:"Arrastra o selecciona videos",allowReorder:!0,allowSetMain:!0})]})]},H)}),o.jsx("button",{type:"button",onClick:()=>At("variantes"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar variante"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:"📸"})," Imágenes con más información del artículo"]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:'Imágenes que se mostrarán en la sección "Más información del producto"'}),o.jsx(Jo,{files:[...(f.imagenesExtra||[]).map((W,H)=>({id:`saved-info-${H}`,url:W,type:We(W),name:(String(W).split("/").pop()||`info-${H+1}`).split("?")[0],size:0,isUploaded:!0})),...(A.extras||[]).map((W,H)=>({id:`temp-info-${H}`,url:W,type:"image",name:`info-${H+1}`,size:0,isUploaded:!1}))],onFilesChange:Ee,acceptedTypes:"image/*",multiple:!0,label:"Imágenes informativas del producto",placeholder:"📸 Arrastra o selecciona imágenes de alta resolución con información adicional del producto",allowReorder:!0,allowSetMain:!1})]})]}),o.jsxs("div",{className:"mt-8 flex justify-end space-x-4 pt-6 border-t",children:[o.jsx("button",{type:"button",onClick:e,className:"px-8 py-3 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium text-lg",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:b,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-lg flex items-center space-x-2",children:b?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o.jsx("span",{children:"Guardando..."})]}):o.jsx("span",{children:"Guardar Producto"})})]})]})})]})})},Bp=({size:t="medium",color:e="blue",className:n="",fullScreen:r=!1,text:i=null})=>{const a={small:"loading-spinner-small",medium:"loading-spinner-medium",large:"loading-spinner-large",xlarge:"loading-spinner-xlarge"},c={blue:"loading-spinner-blue",white:"loading-spinner-white",gray:"loading-spinner-gray",green:"loading-spinner-green",red:"loading-spinner-red"};return r?o.jsx("div",{className:"loading-spinner-fullscreen",children:o.jsxs("div",{className:"loading-spinner-container",children:[o.jsx("div",{className:`loading-spinner ${a[t]} ${c[e]} ${n}`}),i&&o.jsx("p",{className:"loading-spinner-text",children:i})]})}):o.jsxs("div",{className:`loading-spinner-inline ${n}`,children:[o.jsx("div",{className:`loading-spinner ${a[t]} ${c[e]}`}),i&&o.jsx("span",{className:"loading-spinner-text-inline",children:i})]})};function Tz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Nz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Cz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Az(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function jz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function Iz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function j4(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function C1(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Pz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Rz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function Mk(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function I4(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Dz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Mz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Ok(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Oz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function P4(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Lz(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function gv(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}const Vz="ZeiFzBgosCd0apv9cXL6aQZCYyu2",R4=({onAddProduct:t,onEditProduct:e})=>{const{usuario:n}=Hr(),r=(n==null?void 0:n.uid)===Vz,[i,a]=T.useState([]),[c,u]=T.useState([]),[h,f]=T.useState(!0),[g,y]=T.useState(""),[v,w]=T.useState(""),[S,b]=T.useState("fechaCreacion"),[N,j]=T.useState("desc"),[M,O]=T.useState(!1),[U,B]=T.useState(null),[K,R]=T.useState(null),[I,A]=T.useState(null),[k,L]=T.useState(""),[F,D]=T.useState(""),[be,Ge]=T.useState(""),[ot,Ke]=T.useState(""),[le,oe]=T.useState(""),[he,z]=T.useState(""),[Q,we]=T.useState("");T.useEffect(()=>{Be()},[]),T.useEffect(()=>{const re=Ue();return()=>{typeof re=="function"&&re()}},[n==null?void 0:n.uid]);const Be=async()=>{try{const $e=(await Ir(Ft(Re,"categorias"))).docs.map(Pe=>({id:Pe.id,...Pe.data()}));u($e)}catch(re){console.error("Error loading categories:",re)}},Ue=()=>{try{let re;return r?re=ln(Ft(Re,"productos"),Bs("fechaCreacion","desc")):n!=null&&n.uid?re=ln(Ft(Re,"productos"),br("ownerUid","==",n.uid)):re=ln(Ft(Re,"productos"),br("activo","==",!0)),cr(re,Pe=>{const de=Pe.docs.map(Qe=>({id:Qe.id,...Qe.data()}));a(de),f(!1)},()=>f(!1))}catch(re){return console.error("Error loading products:",re),f(!1),null}};T.useMemo(()=>{if(!r)return[];const re=new Set;return i.forEach($e=>{const Pe=($e.ownerName||$e.empresa||"").trim();Pe&&re.add(Pe)}),Array.from(re).sort(($e,Pe)=>$e.localeCompare(Pe))},[r,i]);const tt=re=>{try{return typeof(re==null?void 0:re.cantidad)=="number"?Number(re.cantidad)||0:Array.isArray(re==null?void 0:re.variantes)&&re.variantes.length?re.variantes.reduce(($e,Pe)=>$e+(parseInt(Pe==null?void 0:Pe.cantidad)||0),0):Number.POSITIVE_INFINITY}catch{return Number.POSITIVE_INFINITY}},ft=async(re,$e)=>{try{console.log(`🔄 Cambiando estado del producto ${re}: ${$e} -> ${!$e}`);const Pe=dt(Re,"productos",re);if(!(await ss(Pe)).exists())throw new Error("El producto no existe en la base de datos");await Wn(Pe,{activo:!$e,fechaActualizacion:new Date}),console.log("✅ Estado actualizado exitosamente")}catch(Pe){console.error("❌ Error updating product status:",Pe),alert(`Error al actualizar el estado del producto: ${Pe.message}`)}},ct=async re=>{try{console.log("🔄 Iniciando duplicación de producto:",re.id);const $e=dt(Re,"productos",re.id),Pe=await ss($e);if(!Pe.exists())throw new Error("El producto original no existe en la base de datos");const de=Pe.data(),Qe=`prod_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,We=JSON.parse(JSON.stringify(de));We.nombre=`${de.nombre} (Copia)`,We.fechaCreacion=new Date,We.fechaActualizacion=new Date,!We.categoria&&de.categoria&&(We.categoria=de.categoria),We.activo=!0,We.estado||(We.estado="activo"),Array.isArray(We.variantes)&&We.variantes.length>0&&(We.variantes=We.variantes.map(Dt=>{const jt={...Dt};return jt.id=`var_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,Array.isArray(jt.media)&&jt.media.length>0&&(jt.media=jt.media.map(Pt=>({...Pt,id:`med_${Date.now()}_${Math.random().toString(36).substring(2,7)}`}))),jt})),Array.isArray(We.media)&&We.media.length>0&&(We.media=We.media.map(Dt=>({...Dt,id:`med_${Date.now()}_${Math.random().toString(36).substring(2,7)}`}))),Array.isArray(We.imagenes)&&We.imagenes.length>0&&(We.imagenes=[...We.imagenes]),await Gn(dt(Re,"productos",Qe),We),await new Promise(Dt=>setTimeout(Dt,500)),alert(`Producto duplicado exitosamente con ID: ${Qe}`)}catch($e){console.error("❌ Error duplicating product:",$e),alert(`Error al duplicar el producto: ${$e.message}`)}},it=async(re,$e,Pe)=>{try{console.log(`📝 Actualizando ${$e} del producto ${re}:`,Pe);const de=dt(Re,"productos",re);if(!(await ss(de)).exists())throw new Error("El producto no existe en la base de datos");await Wn(de,{[$e]:Pe,fechaActualizacion:new Date}),console.log(`✅ Campo ${$e} actualizado exitosamente`)}catch(de){console.error(`❌ Error updating ${$e}:`,de),alert(`Error al actualizar ${$e}: ${de.message}`)}},Je=async()=>{if(U)try{await _m(dt(Re,"productos",U.id)),O(!1),B(null),alert("Producto eliminado exitosamente")}catch(re){console.error("Error deleting product:",re),alert("Error al eliminar el producto")}},St=i.filter(re=>{var $e;try{const Pe=g.toLowerCase(),de=(re.nombre||"").toLowerCase().includes(Pe)||(re.descripcion||"").toLowerCase().includes(Pe)||(re.empresa||"").toLowerCase().includes(Pe)||(re.categoria||"").toLowerCase().includes(Pe),Qe=!v||re.categoria===v,We=!k||(k==="activo"?re.activo!==!1:re.activo===!1),Dt=tt(re),jt=Number.isFinite(Dt)?Dt<=0?"agotado":Dt<=5?"bajo":"disponible":"disponible",Pt=!F||jt===F,Ee=parseFloat(re.precio)||0,te=(be===""||Ee>=parseFloat(be))&&(ot===""||Ee<=parseFloat(ot)),ye=($e=re==null?void 0:re.fechaCreacion)!=null&&$e.seconds?re.fechaCreacion.seconds*1e3:re!=null&&re.fechaCreacion?new Date(re.fechaCreacion).getTime():null,Ce=!le||ye&&ye>=new Date(le).setHours(0,0,0,0),ee=!he||ye&&ye<=new Date(he).setHours(23,59,59,999),Me=Ce&&ee,Le=!r||!Q||(re.ownerName||re.empresa||"")===Q;return de&&Qe&&We&&Pt&&te&&Me&&Le}catch(Pe){return console.warn("Error filtrando producto:",re==null?void 0:re.id,Pe),!1}}).sort((re,$e)=>{let Pe=re[S],de=$e[S];return S==="precio"?(Pe=parseFloat(Pe)||0,de=parseFloat(de)||0):(S==="fechaCreacion"||S==="fechaActualizacion")&&(Pe=new Date(Pe!=null&&Pe.seconds?Pe.seconds*1e3:Pe),de=new Date(de!=null&&de.seconds?de.seconds*1e3:de)),N==="asc"?Pe>de?1:-1:Pe<de?1:-1}),At=re=>{const $e=c.find(Pe=>Pe.id===re);return($e==null?void 0:$e.nombre)||re},_t=re=>re?(re.seconds?new Date(re.seconds*1e3):new Date(re)).toLocaleDateString("es-ES"):"N/A",Rt=re=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(re||0);return h?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Bp,{size:"large",color:"blue",text:"Cargando productos..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Gestión de Productos"}),o.jsxs("p",{className:"text-gray-600",children:[i.length," productos en total"]})]}),o.jsxs("button",{onClick:t,className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"+"}),"Agregar Producto"]})]}),o.jsx("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:g,onChange:re=>y(re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})})})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),o.jsxs("select",{value:v,onChange:re=>w(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todas las categorías"}),c.map(re=>o.jsx("option",{value:re.id,children:re.nombre},re.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordenar por"}),o.jsxs("select",{value:S,onChange:re=>b(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"fechaCreacion",children:"Fecha de creación"}),o.jsx("option",{value:"fechaActualizacion",children:"Última actualización"}),o.jsx("option",{value:"nombre",children:"Nombre"}),o.jsx("option",{value:"precio",children:"Precio"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden"}),o.jsxs("select",{value:N,onChange:re=>j(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"desc",children:"Descendente"}),o.jsx("option",{value:"asc",children:"Ascendente"})]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4 md:gap-6",children:o.jsx(fn,{children:St.map(re=>o.jsxs(ae.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative h-48 bg-white rounded-t-lg overflow-hidden flex items-center justify-center",children:[(()=>{try{const $e=re.imagen||(Array.isArray(re.imagenes)&&re.imagenes.length>0?re.imagenes[0]:null)||(Array.isArray(re.variantes)&&re.variantes.length>0&&re.variantes[0].imagen?re.variantes[0].imagen:null);return $e?o.jsx("img",{src:$e,alt:re.nombre||"Producto",className:"w-full h-full object-contain",onError:Pe=>{Pe.target.style.display="none",Pe.target.nextSibling.style.display="flex"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx("span",{className:"text-sm",children:"Sin imagen"})})}catch($e){return console.warn("Error renderizando imagen del producto:",re.id,$e),o.jsx("div",{className:"w-full h-full flex items-center justify-center text-red-400 bg-red-50",children:o.jsx("span",{className:"text-sm",children:"Error en imagen"})})}})(),o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-50",style:{display:"none"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),o.jsx("span",{className:"text-sm",children:"Sin imagen"})]})}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${re.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.activo?"Activo":"Inactivo"})}),re.oferta&&o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Oferta"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:re.nombre}),o.jsx("button",{onClick:()=>ft(re.id,re.activo),className:`ml-2 p-1 rounded ${re.activo?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:re.activo?"Desactivar":"Activar",children:re.activo?o.jsx(C1,{}):o.jsx(j4,{})})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:At(re.categoria)}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I===re.id?o.jsx("input",{type:"number",step:"0.01",defaultValue:re.precio,onBlur:$e=>{it(re.id,"precio",parseFloat($e.target.value)||0),A(null)},onKeyDown:$e=>{$e.key==="Enter"&&(it(re.id,"precio",parseFloat($e.target.value)||0),A(null)),$e.key==="Escape"&&A(null)},className:"text-lg font-bold text-blue-700 bg-blue-50 border border-blue-200 rounded px-2 py-1 w-24",autoFocus:!0}):o.jsx("p",{className:"text-lg font-bold text-blue-700 cursor-pointer hover:bg-blue-50 px-2 py-1 rounded",onClick:()=>A(re.id),title:"Click para editar precio",children:Rt(re.precio)}),re.cantidad!==void 0&&o.jsx("div",{className:"text-sm",children:K===re.id?o.jsx("input",{type:"number",min:"0",defaultValue:re.cantidad,onBlur:$e=>{it(re.id,"cantidad",parseInt($e.target.value)||0),R(null)},onKeyDown:$e=>{$e.key==="Enter"&&(it(re.id,"cantidad",parseInt($e.target.value)||0),R(null)),$e.key==="Escape"&&R(null)},className:"bg-gray-50 border border-gray-200 rounded px-2 py-1 w-16 text-center",autoFocus:!0}):o.jsxs("span",{className:`cursor-pointer hover:bg-gray-50 px-2 py-1 rounded ${re.cantidad<=5?"text-red-600 font-semibold":re.cantidad<=20?"text-yellow-600":"text-green-600"}`,onClick:()=>R(re.id),title:"Click para editar cantidad",children:["Stock: ",re.cantidad]})})]}),o.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3",children:re.descripcion}),o.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:[o.jsxs("p",{children:["Creado: ",_t(re.fechaCreacion)]}),re.fechaActualizacion&&o.jsxs("p",{children:["Actualizado: ",_t(re.fechaActualizacion)]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx("button",{onClick:()=>e(re),className:"px-3 py-2 border border-blue-300 text-blue-600 rounded text-sm hover:bg-blue-50 transition-colors",title:"Editar",children:"Editar"}),o.jsx("button",{onClick:()=>ct(re),className:"px-3 py-2 border border-green-300 text-green-600 rounded text-sm hover:bg-green-50 transition-colors",title:"Duplicar",children:o.jsx(jz,{})}),o.jsx("button",{onClick:()=>{B(re),O(!0)},className:"px-3 py-2 border border-red-300 text-red-600 rounded text-sm hover:bg-red-50 transition-colors",title:"Eliminar",children:o.jsx(P4,{})})]})]})]},re.id))})}),St.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4 flex justify-center",children:o.jsx(I4,{})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),o.jsx("p",{className:"text-gray-500 mb-4",children:g||v?"Intenta ajustar los filtros de búsqueda":"Comienza agregando tu primer producto"}),!g&&!v&&o.jsx("button",{onClick:t,className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Agregar Primer Producto"})]}),o.jsx(fn,{children:M&&o.jsx(ae.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(ae.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:o.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-2",children:"Confirmar Eliminación"}),o.jsxs("p",{className:"text-center text-gray-600 mb-6",children:['¿Estás seguro de que deseas eliminar el producto "',U==null?void 0:U.nombre,'"? Esta acción no se puede deshacer.']}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{O(!1),B(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:Je,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})})})]})},Fz=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!0),[i,a]=T.useState(!1),[c,u]=T.useState(null),[h,f]=T.useState(!1),[g,y]=T.useState(null),[v,w]=T.useState({nombre:"",descripcion:"",imagen:"",activa:!0,orden:0}),[S,b]=T.useState(!1);T.useEffect(()=>{N()},[]);const N=()=>{try{return cr(Ft(Re,"categorias"),k=>{const L=k.docs.map(F=>({id:F.id,...F.data()})).sort((F,D)=>(F.orden||0)-(D.orden||0));e(L),r(!1)})}catch(A){console.error("Error loading categories:",A),r(!1)}},j=()=>{w({nombre:"",descripcion:"",imagen:"",activa:!0,orden:t.length}),u(null)},M=A=>{u(A),w({nombre:A.nombre||"",descripcion:A.descripcion||"",imagen:A.imagen||"",activa:A.activa!==!1,orden:A.orden||0}),a(!0)},O=async A=>{b(!0);try{const k=ns(rs,`categorias/${Date.now()}_${A.name}`);await zx(k,A);const L=await tl(k);w(F=>({...F,imagen:L}))}catch(k){console.error("Error uploading image:",k),alert("Error al subir la imagen")}finally{b(!1)}},U=async A=>{A.preventDefault(),r(!0);try{const k={...v,ruta:v.nombre.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),fechaActualizacion:new Date};if(c)await Wn(dt(Re,"categorias",c.id),k);else{k.fechaCreacion=new Date,k.productCount=0;const L=k.ruta;await Em(Ft(Re,"categorias"),k)}a(!1),j()}catch(k){console.error("Error saving category:",k),alert("Error al guardar la categoría")}finally{r(!1)}},B=async(A,k)=>{try{await Wn(dt(Re,"categorias",A),{activa:!k,fechaActualizacion:new Date})}catch(L){console.error("Error updating category status:",L),alert("Error al actualizar el estado de la categoría")}},K=async()=>{if(g)try{await _m(dt(Re,"categorias",g.id)),f(!1),y(null),alert("Categoría eliminada exitosamente")}catch(A){console.error("Error deleting category:",A),alert("Error al eliminar la categoría")}},R=async(A,k)=>{const L=t.findIndex(D=>D.id===A);if(L===-1)return;const F=k==="up"?L-1:L+1;if(!(F<0||F>=t.length))try{const D=[],be=t[L],Ge=t[F];D.push(Wn(dt(Re,"categorias",be.id),{orden:F}),Wn(dt(Re,"categorias",Ge.id),{orden:L})),await Promise.all(D)}catch(D){console.error("Error reordering categories:",D),alert("Error al reordenar las categorías")}},I=A=>A?(A.seconds?new Date(A.seconds*1e3):new Date(A)).toLocaleDateString("es-ES"):"N/A";return n&&t.length===0?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Bp,{size:"large",color:"blue",text:"Cargando categorías..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Gestión de Categorías"}),o.jsxs("p",{className:"text-gray-600",children:[t.length," categorías en total"]})]}),o.jsxs("button",{onClick:()=>{j(),a(!0)},className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"+"}),"Agregar Categoría"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📁"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay categorías"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza creando tu primera categoría de productos"}),o.jsx("button",{onClick:()=>{j(),a(!0)},className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Crear Primera Categoría"})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:o.jsx(fn,{children:t.map((A,k)=>o.jsx(ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:A.imagen?o.jsx("img",{src:A.imagen,alt:A.nombre,className:"w-full h-full object-cover"}):o.jsx(Pz,{className:"text-gray-400 text-2xl"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:A.nombre}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.activa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.activa?"Activa":"Inactiva"})]}),A.descripcion&&o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:A.descripcion}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Ruta: /",A.ruta]}),o.jsxs("span",{children:["Productos: ",A.productCount||0]}),o.jsxs("span",{children:["Creada: ",I(A.fechaCreacion)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("button",{onClick:()=>R(A.id,"up"),disabled:k===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover arriba",children:o.jsx(Az,{})}),o.jsx("button",{onClick:()=>R(A.id,"down"),disabled:k===t.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover abajo",children:o.jsx(Cz,{})})]}),o.jsx("button",{onClick:()=>B(A.id,A.activa),className:`p-2 rounded ${A.activa?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:A.activa?"Desactivar":"Activar",children:A.activa?o.jsx(C1,{}):o.jsx(j4,{})}),o.jsx("button",{onClick:()=>M(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:o.jsx(Iz,{})}),o.jsx("button",{onClick:()=>{y(A),f(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Eliminar",children:o.jsx(P4,{})})]})]})},A.id))})})}),o.jsx(fn,{children:i&&o.jsx(ae.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(ae.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[o.jsxs("div",{className:"bg-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[o.jsx("h2",{className:"text-xl font-bold",children:c?"Editar Categoría":"Agregar Categoría"}),o.jsx("button",{onClick:()=>{a(!1),j()},className:"text-white hover:text-gray-200 text-2xl font-bold",children:"×"})]}),o.jsxs("form",{onSubmit:U,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Categoría *"}),o.jsx("input",{type:"text",required:!0,value:v.nombre,onChange:A=>w(k=>({...k,nombre:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Videojuegos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden"}),o.jsx("input",{type:"number",min:"0",value:v.orden,onChange:A=>w(k=>({...k,orden:parseInt(A.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),o.jsx("textarea",{rows:3,value:v.descripcion,onChange:A=>w(k=>({...k,descripcion:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción opcional de la categoría"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de la Categoría"}),o.jsx("input",{type:"file",accept:"image/*",onChange:A=>{var k;return((k=A.target.files)==null?void 0:k[0])&&O(A.target.files[0])},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.imagen&&o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:v.imagen,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:v.activa,onChange:A=>w(k=>({...k,activa:A.target.checked})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"Categoría activa"]})}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[o.jsx("button",{type:"button",onClick:()=>{a(!1),j()},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsxs("button",{type:"submit",disabled:S,className:"px-6 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[S?o.jsx(Bp,{size:"small",color:"white",className:"mr-2"}):null,S?"Subiendo imagen...":c?"Actualizar":"Crear Categoría"]})]})]})]})})}),o.jsx(fn,{children:h&&o.jsx(ae.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(ae.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:o.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-2",children:"Confirmar Eliminación"}),o.jsxs("p",{className:"text-center text-gray-600 mb-6",children:['¿Estás seguro de que deseas eliminar la categoría "',g==null?void 0:g.nombre,'"? Esta acción no se puede deshacer y puede afectar los productos asociados.']}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{f(!1),y(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})})})]})},Lk=()=>{const[t,e]=T.useState({productos:0,categorias:0,usuarios:0,pedidos:0}),[n,r]=T.useState([]),[i,a]=T.useState(!0);return T.useEffect(()=>{const c=async()=>{try{const f=ln(Ft(Re,"productos")),g=await Ir(f),y=ln(Ft(Re,"categorias")),v=await Ir(y),w=ln(Ft(Re,"usuarios")),S=await Ir(w);let b=0;try{const N=ln(Ft(Re,"pedidos"));b=(await Ir(N)).size}catch(N){console.log("No pedidos collection or other error:",N)}e({productos:g.size,categorias:v.size,usuarios:S.size,pedidos:b})}catch(f){console.error("Error fetching stats:",f)}},u=()=>{try{const f=ln(Ft(Re,"productos"),Bs("fechaCreacion","desc"),wm(5));return cr(f,y=>{const v=y.docs.map(w=>({id:w.id,...w.data()}));r(v),a(!1)},y=>{console.error("Error fetching recent products:",y),a(!1)})}catch(f){console.error("Error setting up recent products listener:",f),a(!1)}};c();const h=u();return()=>{h&&h()}},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Bienvenido al panel de administración"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Cf,{title:"Productos",count:t.productos,icon:o.jsx(I4,{className:"text-blue-500",size:24}),linkTo:"/admin/productos"}),o.jsx(Cf,{title:"Categorías",count:t.categorias,icon:o.jsx(Rz,{className:"text-green-500",size:24}),linkTo:"/admin/categorias"}),o.jsx(Cf,{title:"Usuarios",count:t.usuarios,icon:o.jsx(gv,{className:"text-purple-500",size:24}),linkTo:"/admin/usuarios"}),o.jsx(Cf,{title:"Pedidos",count:t.pedidos,icon:o.jsx(Mz,{className:"text-orange-500",size:24}),linkTo:"/admin/pedidos"})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Productos Recientes"}),i?o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})}):n.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(c=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex-shrink-0 h-10 w-10 relative",children:[(()=>{try{const u=c.imagen||(Array.isArray(c.imagenes)&&c.imagenes.length>0?c.imagenes[0]:null)||(Array.isArray(c.variantes)&&c.variantes.length>0&&c.variantes[0].imagen?c.variantes[0].imagen:null)||(Array.isArray(c.media)&&c.media.length>0?c.media[0].url:null)||(Array.isArray(c.variantes)&&c.variantes.length>0&&Array.isArray(c.variantes[0].media)&&c.variantes[0].media.length>0?c.variantes[0].media[0].url:null);return u?o.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:u,alt:"",onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="flex"}}):o.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs",children:"N/A"})}catch{return o.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center text-red-500 text-xs",children:"Error"})}})(),o.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs",style:{display:"none"},children:"N/A"})]}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.nombre||"Sin nombre"}),o.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",c.id.substring(0,8),"..."]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(c.precio||0)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${c.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.activo?"Activo":"Inactivo"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx(Nt,{to:`/admin/productos/editar/${c.id}`,className:"text-blue-600 hover:text-blue-900 mr-4",children:"Editar"}),o.jsx(Nt,{to:`/producto/${c.id}`,className:"text-green-600 hover:text-green-900",target:"_blank",rel:"noopener noreferrer",children:"Ver"})]})]},c.id))})]})}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No hay productos recientes"})}),o.jsx("div",{className:"mt-4 text-right",children:o.jsx(Nt,{to:"/admin/productos",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Ver todos los productos →"})})]})]})},Cf=({title:t,count:e,icon:n,linkTo:r})=>o.jsx(ae.div,{whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},className:"bg-white p-6 rounded-lg shadow-sm border transition-all",children:o.jsx(Nt,{to:r,className:"block",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-full",children:n})]})})}),Uz=/\/(Productos|productospcu)\//i;function bo(t){return typeof t=="string"&&t.startsWith("/")&&Uz.test(t)}function $z(t=""){try{const e=t.indexOf("?"),n=e>=0?t.slice(0,e):t,r=n.lastIndexOf("/");return r>=0?n.slice(r+1):n}catch{return String(t||"")}}async function zz(t){const e=await fetch(t);if(!e.ok)throw new Error(`No se pudo leer ${t} (${e.status})`);return await e.blob()}async function Vk(t,e){const n=await zz(e),r=$z(e)||`file-${Date.now()}`,i=`productos/${t}/${Date.now()}-${r}`,a=ns(rs,i);return await zx(a,n,{contentType:n.type||void 0}),await tl(a)}function Fk(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t||null))}}async function yv(t,e){if(!e)return e;if(typeof e=="string")return bo(e)?await Vk(t,e):e;if(typeof e=="object"){if(e.url&&bo(e.url)){const n=await Vk(t,e.url);return{...e,url:n}}return e}return e}async function es(t,e){const n=Array.isArray(e)?e:[],r=[];for(const i of n)r.push(await yv(t,i));return r}function Rn(t){return(Array.isArray(t)?t:[]).some(e=>typeof e=="string"?bo(e):e&&typeof e=="object"?bo(e.url):!1)}function Bz(t){if(!t)return!1;if(bo(t.imagen)||Rn(t.imagenPrincipal)||Rn(t.imagenes)||Rn(t.media)||Rn(t.galeriaImagenes)||Rn(t.imagenesExtra)||Rn(t.tresArchivosExtras)||Rn(t.videoAcercaArticulo))return!0;if(Array.isArray(t.variantes)){for(const e of t.variantes)if(e&&(bo(e.imagen)||Rn(e.imagenPrincipal)||Rn(e.imagenes)||Rn(e.media)||Rn(e.galeriaImagenes)))return!0}return!1}async function Hz(t){const n=(await Ir(Ft(Re,"productos"))).docs.map(a=>({id:a.id,data:a.data()}));let r=0,i=n.length;for(let a=0;a<n.length;a++){const{id:c,data:u}=n[a];if(!Bz(u)){t==null||t({type:"skip",id:c,index:a+1,total:i});continue}const h=Fk({});if(bo(u.imagen)&&(h.imagen=await yv(c,u.imagen)),Rn(u.imagenPrincipal)&&(h.imagenPrincipal=await es(c,u.imagenPrincipal)),Rn(u.imagenes)&&(h.imagenes=await es(c,u.imagenes)),Rn(u.media)&&(h.media=await es(c,u.media)),Rn(u.galeriaImagenes)&&(h.galeriaImagenes=await es(c,u.galeriaImagenes)),Rn(u.imagenesExtra)&&(h.imagenesExtra=await es(c,u.imagenesExtra)),Rn(u.tresArchivosExtras)&&(h.tresArchivosExtras=await es(c,u.tresArchivosExtras)),Rn(u.videoAcercaArticulo)&&(h.videoAcercaArticulo=await es(c,u.videoAcercaArticulo)),Array.isArray(u.variantes)){const f=[];for(const g of u.variantes){const y=Fk(g)||{};bo(y.imagen)&&(y.imagen=await yv(c,y.imagen)),Rn(y.imagenPrincipal)&&(y.imagenPrincipal=await es(c,y.imagenPrincipal)),Rn(y.imagenes)&&(y.imagenes=await es(c,y.imagenes)),Rn(y.media)&&(y.media=await es(c,y.media)),Rn(y.galeriaImagenes)&&(y.galeriaImagenes=await es(c,y.galeriaImagenes)),f.push(y)}h.variantes=f}h.fechaActualizacion=new Date,await Gn(dt(Re,"productos",c),h,{merge:!0}),r++,t==null||t({type:"migrated",id:c,index:a+1,total:i})}return t==null||t({type:"done",migratedCount:r,total:i}),{migratedCount:r,total:i}}const Z0="text-blue-900",Wz="bg-blue-800",il="ZeiFzBgosCd0apv9cXL6aQZCYyu2";function qz(t=""){var n,r;if(!t)return"US";const e=t.trim().split(" ");return((((n=e[0])==null?void 0:n[0])||"")+(((r=e[1])==null?void 0:r[0])||"")).toUpperCase()}function Gz(t=""){if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/i);if(e)return e[1];const n=t.match(/(maps\.app\.[^\s]+|goo\.gl\/[^\s]+|google\.com\/maps[^\s]*)/i);if(n){const r=n[0];return r.startsWith("http")?r:`https://${r}`}return null}function vv(t){if(!t)return null;if(typeof t=="object"&&t.seconds)return new Date(t.seconds*1e3).toLocaleString();const e=new Date(t);return isNaN(e.getTime())?String(t):e.toLocaleString()}function Kz({usuario:t,onClose:e}){const[n,r]=T.useState([]),[i,a]=T.useState(!0),[c,u]=T.useState(t),[h,f]=T.useState(null);T.useEffect(()=>{if(!(t!=null&&t.id))return;const v=cr(dt(Re,"users",t.id),S=>{S.exists()&&u(b=>({...b,...S.data()}))}),w=cr(dt(Re,"usuarios",t.id),S=>{S.exists()&&u(b=>({...b,...S.data()}))});return()=>{v(),w()}},[t==null?void 0:t.id]),T.useEffect(()=>{if(!t)return;const v=ln(Ft(Re,"orders")),w=cr(v,S=>{const b=S.docs.map(N=>({id:N.id,...N.data()})).filter(N=>String(N.userId)===String(t.id));r(b.sort((N,j)=>{var U,B;const M=((U=N.fecha)==null?void 0:U.seconds)||0;return(((B=j.fecha)==null?void 0:B.seconds)||0)-M})),a(!1)},()=>{r([]),a(!1)});return()=>w()},[t]),T.useEffect(()=>{!t||t.uid!==il||migrationRanRef.current||(migrationRanRef.current=!0,(async()=>{try{console.log("[Migración] Iniciando migración de medios legacy a Firebase Storage..."),await Hz(v=>{v&&(v.type==="skip"?console.log(`[Migración] (${v.index}/${v.total}) Sin cambios:`,v.id):v.type==="migrated"?console.log(`[Migración] (${v.index}/${v.total}) Migrado:`,v.id):v.type==="done"&&console.log(`[Migración] Completada. Migrados: ${v.migratedCount}/${v.total}`))})}catch(v){console.error("[Migración] Error ejecutando migración:",v)}})())},[t]),T.useEffect(()=>{const v=w=>{w.key==="Escape"&&(e==null||e())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[e]);const g=(c==null?void 0:c.direccion)||(c==null?void 0:c.direccionCompleta)||"",y=(c==null?void 0:c.ubicacion)||Gz(g);return o.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),o.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed top-0 left-0 w-full h-full max-h-none !rounded-none !shadow-none bg-white overflow-y-auto flex flex-col",style:{zIndex:1e4},onClick:v=>v.stopPropagation(),children:[o.jsxs("header",{className:`flex justify-between items-center px-6 py-4 shadow ${Wz}`,children:[o.jsxs("div",{className:"admin-user-header",children:[o.jsx("div",{className:"admin-user-avatar",children:qz((c==null?void 0:c.displayName)||(c==null?void 0:c.nombre))}),o.jsxs("div",{className:"admin-user-info",children:[o.jsx("h2",{className:"admin-user-name",children:(c==null?void 0:c.displayName)||(c==null?void 0:c.nombre)||"Usuario"}),o.jsx("p",{className:"admin-user-email",children:c==null?void 0:c.email}),o.jsx("div",{className:"admin-user-badges",children:o.jsx("span",{className:t.id===il?"badge-admin":"badge-user",children:t.id===il?"Admin":"Usuario"})})]})]}),o.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"admin-close-btn",children:"×"})]}),o.jsxs("div",{className:"flex-1 px-2 sm:px-8 py-4 sm:py-8 space-y-7 bg-gray-50",children:[o.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:o.jsx(Lz,{})}),o.jsx("h3",{className:`text-xl font-bold ${Z0}`,children:"Información Personal"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[o.jsx(uc,{label:"Nombre Completo",value:c.displayName||"No especificado"}),o.jsx(uc,{label:"Email",value:c.email||"No especificado"}),o.jsx(uc,{label:"Teléfono",value:c.telefono||"No especificado"}),o.jsx(uc,{label:"Código de Usuario",value:c.codigo||"No asignado"}),o.jsx(uc,{label:"Método de Entrega",value:c.metodoEntrega||"No especificado"}),o.jsx(uc,{label:"Fecha de Registro",value:c.createdAt?vv(c.createdAt):"No disponible"})]})]}),o.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:o.jsx(Mk,{})}),o.jsx("h3",{className:`text-xl font-bold ${Z0}`,children:"Dirección y Ubicación"})]}),o.jsx("p",{className:"text-base text-blue-900 mb-4",children:g||"No se ha registrado dirección"}),y&&o.jsxs("a",{href:y,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:[o.jsx(Mk,{})," Ver en Google Maps"]})]}),o.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:o.jsx(Ok,{})}),o.jsx("h3",{className:`text-xl font-bold ${Z0}`,children:"Historial de Compras"}),o.jsxs("span",{className:"bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-sm font-bold",children:[n.length," ",n.length===1?"compra":"compras"]})]}),i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Bp,{size:"medium",color:"blue",text:"Cargando compras..."})}):n.length===0?o.jsxs("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-6xl mb-4 text-blue-700 flex items-center justify-center",children:o.jsx(Ok,{})}),o.jsx("p",{className:"text-xl text-blue-700 font-medium",children:"No hay compras registradas"})]}):o.jsx("div",{className:"admin-orders-grid",children:n.map(v=>{var w,S;return o.jsxs("div",{className:"admin-order-card",children:[o.jsxs("div",{className:"admin-order-header",children:[o.jsxs("div",{className:"order-info",children:[o.jsx("h4",{className:"order-number",children:v.numeroOrden||`#${v.id.slice(-8)}`}),o.jsx("p",{className:"order-date",children:vv(v.fecha)})]}),o.jsxs("div",{className:"order-status-price",children:[o.jsx("span",{className:`admin-status-badge ${v.estado||"pendiente"}`,children:v.estado==="completado"?"✓ Completado":v.estado==="cancelado"?"✗ Cancelado":"⏳ Pendiente"}),o.jsx("div",{className:"order-total",children:new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(v.total||0)})]})]}),o.jsx("div",{className:"admin-order-customer",children:o.jsxs("div",{className:"customer-info",children:[o.jsx("span",{className:"customer-name",children:v.userName||"Usuario"}),o.jsx("span",{className:"customer-email",children:v.userEmail})]})}),o.jsxs("div",{className:"admin-products-preview",children:[(w=v.productos)==null?void 0:w.slice(0,3).map((b,N)=>o.jsx("div",{className:"admin-product-item",children:o.jsxs("div",{className:"admin-product-info",children:[o.jsx("span",{className:"product-name",children:b.nombre}),o.jsxs("span",{className:"product-quantity",children:["Cantidad: ",b.cantidad," • ",new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(b.precio)]}),o.jsx("button",{className:"btn-view-product",onClick:j=>{j.stopPropagation(),window.location.href=`/producto/${b.id}`},title:"Ver producto",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(C1,{})," Ver producto"]})})]})},N)),((S=v.productos)==null?void 0:S.length)>3&&o.jsxs("div",{className:"more-products-admin",children:["+",v.productos.length-3," más productos"]})]}),o.jsxs("div",{className:"admin-order-actions",children:[o.jsx("button",{className:"btn-admin btn-view",onClick:()=>f(v),children:"Ver detalles"}),v.metodoPago&&o.jsx("span",{className:"payment-method",children:v.metodoPago})]})]},v.id)})})]})]}),o.jsx(fn,{children:h&&o.jsx(D4,{order:h,onClose:()=>f(null)})})]})]})}function uc({label:t,value:e}){return o.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[o.jsx("p",{className:"font-semibold text-blue-700 text-xs mb-1",children:t}),o.jsx("p",{className:"text-base font-medium text-blue-900 break-all",children:e})]})}function Xz(){const{usuario:t,usuarioInfo:e}=Hr(),[n,r]=T.useState(!1),[i,a]=T.useState(null);return o.jsx("main",{className:"admin-page min-h-screen bg-blue-50 p-2 sm:p-6",style:{paddingTop:"var(--content-offset, 100px)"},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold mb-3 text-blue-900",children:"Panel del Vendedor"}),o.jsx("p",{className:"text-base sm:text-xl text-blue-700 font-medium",children:"Gestiona tus productos en tiempo real"}),(e==null?void 0:e.empresa)&&o.jsx("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-100 text-blue-900 px-4 py-2 rounded-full text-sm font-bold",children:e.empresa})]}),o.jsx(R4,{onAddProduct:()=>{a(null),r(!0)},onEditProduct:c=>{a(c),r(!0)}}),n&&o.jsx(A4,{product:i,onClose:()=>{r(!1),a(null)},onSave:()=>{r(!1),a(null)}})]})})}function Qz(){const{usuario:t,usuarioInfo:e}=Hr(),[n,r]=T.useState([]),[i,a]=T.useState(""),[c,u]=T.useState(null),[h,f]=T.useState(null),[g,y]=T.useState("dashboard"),[v,w]=T.useState(!1),[S,b]=T.useState(null);if(T.useRef(!1),T.useEffect(()=>{if(!t||t.uid!==il)return;const U=cr(ln(Ft(Re,"users")),K=>{const R=K.docs.map(I=>({id:I.id,...I.data()}));r(I=>{const A=[...R];return I.forEach(k=>{const L=A.findIndex(F=>F.id===k.id);L>=0&&(A[L]={...A[L],...k})}),A})}),B=cr(ln(Ft(Re,"usuarios")),K=>{const R=K.docs.map(I=>({id:I.id,...I.data()}));r(I=>{const A=[...I];return R.forEach(k=>{const L=A.findIndex(F=>F.id===k.id);L>=0?A[L]={...A[L],...k}:A.push(k)}),A})});return()=>{U(),B()}},[t]),!t)return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Inicia sesión"});const N=(t==null?void 0:t.uid)===il||(e==null?void 0:e.isAdmin)===!0,j=!!(e!=null&&e.isSeller||e!=null&&e.empresa||e!=null&&e.empresaId);if(!N&&j)return o.jsx(Xz,{});if(!N)return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Sin acceso"});const M=n.filter(U=>{const B=i.toLowerCase();return(U.displayName||"").toLowerCase().includes(B)||(U.email||"").toLowerCase().includes(B)||(U.telefono||"").toLowerCase().includes(B)||(U.direccion||"").toLowerCase().includes(B)||(U.codigo||"").toLowerCase().includes(B)}),O=()=>{switch(g){case"dashboard":return o.jsx(Lk,{onAddProduct:()=>{b(null),w(!0),y("products")},onOpenCategories:()=>y("categories"),onViewAllProducts:()=>y("products"),onViewAllOrders:()=>y("orders")});case"products":return o.jsx(R4,{onAddProduct:()=>{b(null),w(!0)},onEditProduct:U=>{b(U),w(!0)}});case"categories":return o.jsx(Fz,{});case"users":return o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),o.jsx("input",{type:"text",value:i,onChange:U=>a(U.target.value),placeholder:"Buscar por nombre, email, teléfono, dirección o código",className:"w-full sm:w-80 border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),M.length===0?o.jsx("div",{className:"text-gray-600",children:"No hay usuarios que coincidan con la búsqueda."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teléfono"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registrado"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>u(U),children:[o.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 font-medium",children:U.displayName||U.nombre||"Usuario"}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:U.email||"-"}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:U.telefono||"-"}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:U.codigo||"-"}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:vv(U.createdAt)||"-"}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.id===il?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:U.id===il?"Admin":"Usuario"})})]},U.id))})]})})]});default:return o.jsx(Lk,{})}};return o.jsxs("main",{className:"admin-page min-h-screen bg-blue-50 p-2 sm:p-6",style:{paddingTop:"var(--content-offset, 100px)"},children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold mb-3 text-blue-900",children:"Panel Administrativo"}),o.jsx("p",{className:"text-base sm:text-xl text-blue-700 font-medium",children:"Gestión Completa del Sistema"}),o.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-3",children:[o.jsxs("span",{className:"bg-blue-100 text-blue-900 px-4 py-2 rounded-full text-sm font-bold inline-flex items-center gap-2",children:[o.jsx(gv,{})," ",n.length," ",n.length===1?"usuario":"usuarios"," registrados"]}),o.jsx("span",{className:"bg-green-100 text-green-900 px-4 py-2 rounded-full text-sm font-bold",children:"Sincronización en tiempo real"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-lg p-1 mb-8 border border-blue-100",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:[{id:"dashboard",label:"Dashboard",icon:o.jsx(Tz,{})},{id:"products",label:"Productos",icon:o.jsx(Nz,{})},{id:"categories",label:"Categorías",icon:o.jsx(Oz,{})},{id:"orders",label:"Pedidos",icon:o.jsx(Dz,{})},{id:"users",label:"Usuarios",icon:o.jsx(gv,{})}].map(U=>o.jsx("button",{onClick:()=>y(U.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all duration-200 ${g===U.id?"bg-blue-700 text-white shadow-md":"text-blue-700 hover:bg-blue-50"}`,children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:U.icon}),o.jsx("span",{className:"hidden sm:inline",children:U.label})]})},U.id))})}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:O()},g),c&&o.jsx(Kz,{usuario:c,onClose:()=>u(null)}),v&&o.jsx(A4,{product:S,onClose:()=>{w(!1),b(null)},onSave:()=>{w(!1),b(null)}})]}),o.jsx(fn,{children:h&&o.jsx(D4,{order:h,onClose:()=>f(null)})})]})}function D4({order:t,onClose:e}){var c,u;const n=h=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(h||0),r=h=>{if(!h)return"Fecha no disponible";let f;return typeof h=="object"&&h.seconds?f=new Date(h.seconds*1e3):f=new Date(h),f.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},i=h=>{switch(h){case"completado":return"status-completed";case"cancelado":return"status-cancelled";case"pendiente":return"status-pending";default:return"status-pending"}},a=h=>{switch(h){case"completado":return"✓ Completado";case"cancelado":return"✗ Cancelado";case"pendiente":return"⏳ Pendiente";default:return"⏳ Pendiente"}};return Br.useEffect(()=>{const h=f=>{f.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),o.jsx(ae.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:o.jsxs(ae.div,{className:"order-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("div",{children:[o.jsx("h2",{children:t.numeroOrden||`Orden #${t.id.slice(-8)}`}),o.jsx("p",{className:"order-date-detail",children:r(t.fecha)})]}),o.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"order-status-section",children:[o.jsx("span",{className:`status-badge large ${i(t.estado)}`,children:a(t.estado)}),t.estadoPago&&o.jsxs("span",{className:"payment-status",children:["Pago: ",t.estadoPago==="pagado"?"✓ Pagado":"✗ Fallido"]})]}),o.jsxs("div",{className:"order-summary",children:[o.jsx("h3",{children:"Resumen de la orden"}),o.jsxs("div",{className:"summary-row total",children:[o.jsx("span",{children:"Total pagado:"}),o.jsx("span",{children:n(t.total)})]})]}),o.jsxs("div",{className:"products-section",children:[o.jsxs("h3",{children:["Productos (",((c=t.productos)==null?void 0:c.length)||0,")"]}),o.jsx("div",{className:"products-list",children:(u=t.productos)==null?void 0:u.map((h,f)=>o.jsx("div",{className:"product-detail-item",children:o.jsxs("div",{className:"product-detail-info",children:[o.jsx("h4",{children:h.nombre}),o.jsx("p",{className:"product-company",children:h.empresa||"N/A"}),o.jsxs("div",{className:"product-pricing",children:[o.jsxs("span",{className:"quantity",children:["Cantidad: ",h.cantidad]}),o.jsxs("span",{className:"price",children:["Precio unitario: ",n(h.precio)]}),o.jsxs("span",{className:"subtotal",children:["Subtotal: ",n(h.subtotal||h.precio*h.cantidad)]})]}),o.jsx("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${h.id}`,title:"Ver producto",children:"👁️ Ver producto"})]})},f))})]}),t.direccionEntrega&&o.jsxs("div",{className:"delivery-section",children:[o.jsx("h3",{children:"Información de entrega"}),o.jsx("p",{children:t.direccionEntrega}),t.telefonoContacto&&o.jsxs("p",{children:["Teléfono: ",t.telefonoContacto]})]}),t.metodoPago&&o.jsxs("div",{className:"payment-section",children:[o.jsx("h3",{children:"Información de pago"}),o.jsxs("p",{children:["Método: ",t.metodoPago]})]})]})]})})}const Es=[{id:1,img:"/ads/1.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/6.png",link:"https://playcenterwisp.com",isExternal:!0},{id:2,img:"/ads/2.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/3.png",link:"/Productos/videojuegos",isExternal:!1},{id:4,img:"/ads/5.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/4.png",link:"/Productos",isExternal:!1}];function Yz(){const[t,e]=T.useState(0),n=T.useRef(null),r=6e3,[i,a]=T.useState(!1),c=T.useCallback(()=>{clearTimeout(n.current),!i&&(n.current=setTimeout(()=>{e(S=>(S+1)%Es.length)},r))},[i]);T.useEffect(()=>(c(),()=>clearTimeout(n.current)),[t,c]),T.useEffect(()=>{const S=b=>{var N;try{const j=!!((N=b==null?void 0:b.detail)!=null&&N.paused);a(j),clearTimeout(n.current),j||(n.current=setTimeout(()=>{e(M=>(M+1)%Es.length)},r))}catch{}};return window.addEventListener("pcu:main-slider-toggle",S),()=>window.removeEventListener("pcu:main-slider-toggle",S)},[]);const u=()=>{clearTimeout(n.current),e(S=>S===0?Es.length-1:S-1)},h=()=>{clearTimeout(n.current),e(S=>(S+1)%Es.length)},f=T.useRef(0),g=T.useRef(0),y=S=>{f.current=S.touches[0].clientX},v=S=>{g.current=S.touches[0].clientX},w=()=>{const S=g.current-f.current;Math.abs(S)>50&&(S>0?u():h())};return o.jsxs("div",{onTouchStart:y,onTouchMove:v,onTouchEnd:w,className:`relative w-full max-w-[1600px] mx-auto overflow-hidden rounded-xl shadow-xl
        h-[140px] sm:h-[180px] md:h-[260px] lg:h-[400px]`,children:[o.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${Es.length*100}%`,transform:`translateX(-${t*(100/Es.length)}%)`},children:Es.map(S=>S.isExternal?o.jsx("a",{href:S.link,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full flex-shrink-0",style:{width:`${100/Es.length}%`},children:o.jsx("img",{src:S.img,alt:`Anuncio ${S.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},S.id):o.jsx(Nt,{to:S.link,className:"w-full h-full flex-shrink-0",style:{width:`${100/Es.length}%`},children:o.jsx("img",{src:S.img,alt:`Anuncio ${S.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},S.id))}),o.jsx("button",{onClick:u,className:"absolute top-1/2 left-2 sm:left-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Anterior",children:o.jsx(AU,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),o.jsx("button",{onClick:h,className:"absolute top-1/2 right-2 sm:right-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Siguiente",children:o.jsx(IU,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),o.jsx("div",{className:"absolute bottom-3 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:Es.map((S,b)=>o.jsx("button",{onClick:()=>{clearTimeout(n.current),e(b)},"aria-label":`Ir al slide ${b+1}`,className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${b===t?"bg-white opacity-90 scale-110":"bg-white opacity-40"} transition`},b))})]})}const Jz=[{id:1,img:"/ads/movil/aficionados-movil.png",link:"/Productos/coleccionables",isExternal:!1},{id:2,img:"/ads/movil/articulosads.png",link:"/Productos/videojuegos",isExternal:!1},{id:3,img:"/ads/movil/internetads.png",link:"https://playcenterwisp.com",isExternal:!0},{id:4,img:"/ads/movil/camarasads.png",link:"/Productos/camaras",isExternal:!1},{id:5,img:"/ads/movil/consolaads.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/movil/ofertas.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:7,img:"/ads/movil/productosads.png",link:"/Productos",isExternal:!1},{id:8,img:"/ads/movil/retroads.png",link:"/Productos/retro-juegos",isExternal:!1},{id:9,img:"/ads/movil/nuestras-estafetas.png",link:"/estafetas",isExternal:!1},{id:10,img:"/ads/movil/ubicacionads.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0}];function Zz(){return o.jsx("div",{className:"block sm:hidden w-full max-w-[600px] mx-auto px-3 py-4",children:o.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide space-x-3",style:{scrollPaddingLeft:"12px",scrollPaddingRight:"12px"},children:Jz.map(t=>o.jsx("a",{href:t.link,target:t.isExternal?"_blank":"_self",rel:"noreferrer",className:"flex-shrink-0 w-[300px] h-[420px] rounded-xl overflow-hidden shadow-lg bg-white snap-center",children:o.jsx("img",{src:t.img,alt:`Anuncio ${t.id}`,className:"w-full h-full object-cover",draggable:!1})},t.id))})})}const Uk=["/animacion/img1.png","/animacion/img2.png","/animacion/img3.png","/animacion/img4.png","/animacion/img5.png","/animacion/img6.png","/animacion/img7.png","/animacion/img8.png","/animacion/img9.png","/animacion/img10.png"],eB=[...Uk,...Uk.slice(0,5)],tB=()=>o.jsx("div",{className:"loader",role:"presentation","aria-hidden":"true",children:eB.map((t,e)=>o.jsx("img",{src:t,alt:`Animación ${e+1}`},e))}),ei={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7}}};Array.from({length:17},(t,e)=>`/animacion/${e+1}.png`);function nB(){const{productsByCategory:t,categories:e,loading:n,error:r}=vL(),{theme:i}=Tm();if(Br.useEffect(()=>{e.length>0&&(console.log("🎯 CATEGORÍAS DISPONIBLES EN INICIO:"),console.log("════════════════════════════════════════════════════════"),console.table(e.map(f=>({"📌 Nombre":f.nombre,"🔗 Ruta":f.ruta,"🆔 ID":f.id,"📦 Productos":(t[f.id]||[]).length}))),console.log("════════════════════════════════════════════════════════"),console.log("💡 COPIA las rutas exactas de arriba para usarlas en getProductsByRoute()"),console.log("════════════════════════════════════════════════════════"))},[e,t]),n)return null;if(r)return o.jsx("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-red-600",children:[o.jsx("p",{className:"text-lg",children:"Error cargando productos"}),o.jsx("p",{className:"text-sm",children:r})]})});const a=f=>{try{return f?typeof f=="string"?f:typeof f=="object"&&f!==null?f.url||"":String(f||""):""}catch{return""}},c=f=>{var M,O;const g=a((M=f==null?void 0:f.imagenPrincipal)==null?void 0:M[0]);if(g)return g;const y=a(f==null?void 0:f.imagen);if(y)return y;const w=(Array.isArray(f==null?void 0:f.media)?f.media:[]).find(U=>{const B=((U==null?void 0:U.type)||"").toLowerCase();return a(U)&&(!B||B.includes("image")||B==="img"||B==="photo")});if(w)return a(w);const b=(Array.isArray(f==null?void 0:f.galeriaImagenes)?f.galeriaImagenes:[]).find(U=>{const B=((U==null?void 0:U.type)||"").toLowerCase();return a(U)&&(!B||B.includes("image")||B==="img"||B==="photo")});if(b)return a(b);const N=Array.isArray(f==null?void 0:f.imagenes)?f.imagenes:[];if(N.length>0)return a(N[0]);const j=Array.isArray(f==null?void 0:f.variantes)?f.variantes:[];for(const U of j){const B=a((O=U==null?void 0:U.imagenPrincipal)==null?void 0:O[0]);if(B)return B;const K=a(U==null?void 0:U.imagen);if(K)return K;const I=(Array.isArray(U==null?void 0:U.media)?U.media:[]).find(L=>{const F=((L==null?void 0:L.type)||"").toLowerCase();return a(L)&&(!F||F.includes("image")||F==="img"||F==="photo")});if(I)return a(I);const k=(Array.isArray(U==null?void 0:U.galeriaImagenes)?U.galeriaImagenes:[]).find(L=>{const F=((L==null?void 0:L.type)||"").toLowerCase();return a(L)&&(!F||F.includes("image")||F==="img"||F==="photo")});if(k)return a(k)}return""},u=f=>{let g=e.find(w=>((w==null?void 0:w.ruta)||"")===f);if(g)return g;const y=w=>(w||"").toLowerCase().replace(/á/g,"a").replace(/é/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").replace(/[^a-z0-9]/g,""),v=y(f);return g=e.find(w=>{const S=y(w.nombre),b=y(w.ruta);return S===v||b===v||S.includes(v)||v.includes(S)}),g},h=f=>{const g=u(f);return g?t[g.id]||[]:(console.warn(`❌ Categoría no encontrada para ruta: "${f}"`),console.log("💡 Sugerencia: Verifica las categorías disponibles en la tabla arriba"),[])};return o.jsxs("div",{className:"bg-white dark:bg-black min-h-screen transition-colors duration-300",style:{paddingTop:"var(--content-offset, 100px)"},children:[o.jsx(ae.div,{className:"block sm:hidden w-full max-w-[95%] mx-auto",style:{marginTop:0,marginBottom:0,padding:"0 0.5rem"},variants:ei,initial:"hidden",animate:"visible",children:o.jsx(Zz,{})}),o.jsx("div",{className:"hidden sm:block w-full",style:{marginTop:0,marginBottom:0,padding:0},children:o.jsx("video",{src:i==="dark"?"/videos/pcu-intro-negro.mp4":"/videos/pcu-intro-blanco.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto object-cover",style:{marginTop:0,marginBottom:0,padding:0,display:"block",verticalAlign:"top"}},i)}),o.jsx(ae.div,{className:"hidden sm:block w-full max-w-[95%] lg:max-w-[1600px] mx-auto px-2 sm:px-4 mt-12",variants:ei,initial:"hidden",animate:"visible",children:o.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl ring-1 ring-indigo-100 dark:ring-gray-900",children:o.jsx(Yz,{})})}),o.jsx("section",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-0 max-w-[95%] lg:max-w-[1600px] mx-auto px-2 sm:px-4 mt-8 sm:mt-14",children:e.slice(0,4).map((f,g)=>{const v=(t[f.id]||[]).slice(0,4);return o.jsxs(ae.div,{className:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition min-h-[380px] sm:h-[440px] flex flex-col justify-between p-4 sm:p-5 group border border-gray-200 dark:border-gray-800",variants:ei,initial:"hidden",animate:"visible",transition:{delay:.1*g},children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-indigo-700 dark:text-indigo-400 tracking-tight",children:f.nombre}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 flex-grow",children:v.map((w,S)=>{const b=c(w)||"/placeholder-product.svg";return o.jsx(Nt,{to:`/producto/${w.id}`,children:o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center p-1 sm:p-2",children:o.jsx("img",{src:b,alt:w.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain group-hover:scale-105 transition-transform",onError:N=>{N.target.onerror=null,N.target.src="/placeholder-product.svg"}})})},w.id)})}),o.jsxs(Nt,{to:`/Productos/${f.ruta}`,className:"text-indigo-600 dark:text-indigo-400 text-xs sm:text-sm mt-2 sm:mt-3 hover:underline font-medium",children:["Explora ",f.nombre," →"]})]},f.id)})}),o.jsx(ae.div,{className:"hidden xl:block max-w-[1600px] mx-auto px-4 mt-10",variants:ei,initial:"hidden",animate:"visible",children:o.jsx(Nt,{to:"/Productos/coleccionables",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:o.jsx("img",{src:"/ads/aficionados.png",alt:"Ver Nuestras colecciones",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),o.jsx("section",{className:"hidden xl:grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-14",children:[{to:"/Productos/retro-consolas",src:"/ads/retro.png",alt:"Retro Consolas"},{to:"/Productos/camaras",src:"/ads/camaras.png",alt:"Cámaras"}].map((f,g)=>o.jsx(ae.div,{className:"overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition h-[220px] sm:h-[300px] md:h-[400px] group",whileHover:{scale:1.01},children:o.jsx(Nt,{to:f.to,className:"block w-full h-full",children:o.jsx("img",{src:f.src,alt:f.alt,className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-400"})})},g))}),o.jsx(ae.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ei,initial:"hidden",animate:"visible",children:o.jsxs("div",{className:"bg-white dark:bg-black rounded-2xl shadow-lg p-8 transition-colors duration-300 border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Explora nuestras categorías"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 gap-4 sm:gap-7",children:[{to:"/Productos/audifonos",src:"/ads/audifonoscate.png",alt:"Audífonos"},{to:"/Productos/mouses",src:"/ads/mousecate.png",alt:"Mouses"},{to:"/Productos/teclados",src:"/ads/tecladocate.png",alt:"Teclados"},{to:"/Productos/camaras",src:"/ads/camaracate.png",alt:"Cámaras"},{to:"/Productos/discos-duros",src:"/ads/discodurocate.png",alt:"Discos Duros"},{to:"/Productos/controles",src:"/ads/controlcate.png",alt:"Controles"}].map((f,g)=>o.jsx(Nt,{to:f.to,children:o.jsx("img",{src:f.src,alt:f.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full aspect-[1/1] shadow-sm"})},f.alt))}),o.jsx("div",{className:"text-right mt-6",children:o.jsx(Nt,{to:"/Productos",className:"text-indigo-600 dark:text-indigo-400 hover:underline text-base font-medium",children:"Ver todas las categorías →"})})]})}),o.jsx(ae.div,{className:"hidden xl:block max-w-[1600px] mx-auto px-4 mt-10",variants:ei,initial:"hidden",animate:"visible",children:o.jsx(Nt,{to:"/estafetas",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:o.jsx("img",{src:"/ads/ESTAFETAS.png",alt:"Ver Nuestras Estafetas",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),o.jsx(ae.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ei,initial:"hidden",animate:"visible",children:o.jsxs("div",{className:"bg-white dark:bg-black rounded-2xl shadow-lg p-8 transition-colors duration-300 border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Descubre nuestros productos"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 gap-4 sm:gap-7",children:Object.values(t).flat().slice(0,6).map(f=>o.jsx(Nt,{to:`/producto/${f.id}`,children:o.jsx("div",{className:"bg-white dark:bg-black rounded-xl overflow-hidden shadow hover:shadow-md transition border border-gray-200 dark:border-gray-800",children:o.jsx("div",{className:"w-full aspect-[1/1] flex items-center justify-center p-2 overflow-hidden",children:o.jsx("img",{src:c(f)||"/placeholder-product.svg",alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain",onError:g=>{g.target.onerror=null,g.target.src="/placeholder-product.svg"}})})})},f.id))}),o.jsx("div",{className:"text-right mt-6",children:o.jsx(Nt,{to:"/Productos",className:"text-indigo-600 dark:text-indigo-400 hover:underline text-base font-medium",children:"Explora nuestros productos →"})})]})}),o.jsx(ae.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ei,initial:"hidden",animate:"visible",children:o.jsxs("div",{className:"bg-white dark:bg-black rounded-2xl shadow-lg p-8 transition-colors duration-300 border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Hogar Inteligente en Oferta"}),o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:h("hogar-inteligente").slice(0,10).map(f=>{const g=c(f)||"/placeholder-product.svg";return o.jsx(Nt,{to:`/producto/${f.id}`,className:"min-w-[180px] px-2",children:o.jsx("div",{className:"w-full h-[180px] bg-white dark:bg-gray-700 rounded-xl overflow-hidden flex items-center justify-center p-2",children:o.jsx("img",{src:g,alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain hover:scale-110 transition",onError:y=>{y.target.onerror=null,y.target.src="/placeholder-product.svg"}})})},f.id)})}),o.jsx("div",{className:"text-right mt-6",children:o.jsx(Nt,{to:"/Productos/hogar-inteligente",className:"text-indigo-600 dark:text-indigo-400 hover:underline text-base font-medium",children:"Descubre cómo transformar tu casa en un hogar inteligente →"})})]})}),o.jsx(ae.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:ei,initial:"hidden",animate:"visible",children:o.jsxs("div",{className:"bg-white dark:bg-black rounded-2xl shadow-lg p-8 transition-colors duration-300 border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Tu Rincón Variado"}),o.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:h("tu-rincon-variado").slice(0,12).map(f=>{const g=c(f)||"/placeholder-product.svg";return o.jsx(Nt,{to:`/producto/${f.id}`,className:"min-w-[180px] px-2",title:f.nombre,children:o.jsx("div",{className:"w-full h-[180px] bg-white dark:bg-gray-700 rounded-xl overflow-hidden flex items-center justify-center p-2",children:o.jsx("img",{src:g,alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain hover:scale-110 transition-transform duration-300",onError:y=>{y.target.onerror=null,y.target.src="/placeholder-product.svg"}})})},f.id)})}),o.jsx("div",{className:"text-right mt-6",children:o.jsx(Nt,{to:"/Productos/tu-rincon-variado",className:"text-indigo-600 dark:text-indigo-400 hover:underline text-base font-medium",children:"Explora nuestro Rincón Variado →"})})]})}),o.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-16",children:[{to:"/Productos/consolas",src:"/ads/nintendoswtitchads.png",alt:"Consolas"},{to:"/Productos/controles",src:"/ads/controlads.png",alt:"Controles"}].map((f,g)=>o.jsx(ae.div,{className:"overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition aspect-[16/9]",whileHover:{scale:1.01},children:o.jsx(Nt,{to:f.to,className:"block w-full h-full",children:o.jsx("img",{src:f.src,alt:f.alt,className:"w-full h-full object-contain object-center hover:scale-105 transition-transform duration-400 bg-black"})})},f.alt))}),o.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 max-w-[95%] lg:max-w-[1600px] mx-auto px-2 sm:px-4 mt-8 sm:mt-16",children:[o.jsxs(ae.div,{className:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition min-h-[380px] sm:h-[440px] flex flex-col justify-between p-4 sm:p-5 border border-gray-200 dark:border-gray-800",variants:ei,initial:"hidden",animate:"visible",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-indigo-700 dark:text-indigo-400 tracking-tight",children:"Cámaras de Vigilancia"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 flex-grow",children:h("camaras").slice(0,4).map(f=>o.jsx(Nt,{to:`/producto/${f.id}`,children:o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center p-1 sm:p-2",children:o.jsx("img",{src:c(f)||"/placeholder-product.svg",alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain group-hover:scale-105 transition-transform",onError:g=>{g.target.onerror=null,g.target.src="/placeholder-product.svg"}})})},f.id))}),o.jsx(Nt,{to:"/Productos/camaras",className:"text-indigo-600 dark:text-indigo-400 text-xs sm:text-sm mt-2 sm:mt-3 hover:underline font-medium",children:"Explora nuestras Cámaras de Vigilancia →"})]}),o.jsxs(ae.div,{className:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition min-h-[380px] sm:h-[440px] flex flex-col justify-between p-4 sm:p-5 border border-gray-200 dark:border-gray-800",variants:ei,initial:"hidden",animate:"visible",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-indigo-700 dark:text-indigo-400 tracking-tight",children:"Discos Duros"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 flex-grow",children:h("discos-duros").slice(0,4).map(f=>o.jsx(Nt,{to:`/producto/${f.id}`,children:o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center p-1 sm:p-2",children:o.jsx("img",{src:c(f)||"/placeholder-product.svg",alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain hover:scale-105 transition-transform",onError:g=>{g.target.onerror=null,g.target.src="/placeholder-product.svg"}})})},f.id))}),o.jsx(Nt,{to:"/Productos/discos-duros",className:"text-indigo-600 dark:text-indigo-400 text-xs sm:text-sm mt-2 sm:mt-3 hover:underline font-medium",children:"Explora nuestros Discos Duros →"})]}),o.jsxs(ae.div,{className:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition min-h-[380px] sm:h-[440px] flex flex-col justify-between p-4 sm:p-5 border border-gray-200 dark:border-gray-800",variants:ei,initial:"hidden",animate:"visible",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-indigo-700 dark:text-indigo-400 tracking-tight",children:"Memorias USB"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 flex-grow",children:h("memorias-usb").slice(0,4).map(f=>o.jsx(Nt,{to:`/producto/${f.id}`,children:o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center p-1 sm:p-2",children:o.jsx("img",{src:c(f)||"/placeholder-product.svg",alt:f.nombre,className:"max-w-full max-h-full w-auto h-auto object-contain hover:scale-105 transition-transform",onError:g=>{g.target.onerror=null,g.target.src="/placeholder-product.svg"}})})},f.id))}),o.jsx(Nt,{to:"/Productos/memorias-usb",className:"text-indigo-600 dark:text-indigo-400 text-xs sm:text-sm mt-2 sm:mt-3 hover:underline font-medium",children:"Explora nuestras Memorias USB →"})]}),o.jsxs(ae.div,{className:"bg-white dark:bg-black rounded-xl sm:rounded-2xl shadow-lg hover:shadow-2xl transition min-h-[380px] sm:h-[440px] flex flex-col justify-between p-4 sm:p-5 border border-gray-200 dark:border-gray-800",variants:ei,initial:"hidden",animate:"visible",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-3 text-indigo-700 dark:text-indigo-400 tracking-tight",children:"Cables"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 flex-grow",children:h("cables").slice(0,4).map(f=>o.jsx(Nt,{to:`/producto/${f.id}`,children:o.jsx("div",{className:"w-full aspect-[4/3] bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center p-1 sm:p-2",children:o.jsx("img",{src:c(f)||"/placeholder-product.svg",alt:f.nombre||"Cable",className:"max-w-full max-h-full w-auto h-auto object-contain hover:scale-105 transition-transform",onError:g=>{g.target.onerror=null,g.target.src="/placeholder-product.svg"}})})},f.id))}),o.jsx(Nt,{to:"/Productos/cables",className:"text-indigo-600 dark:text-indigo-400 text-xs sm:text-sm mt-2 sm:mt-3 hover:underline font-medium",children:"Explora nuestros Cables →"})]})]}),o.jsx("div",{className:"max-w-[1600px] mx-auto mt-20 px-4",children:o.jsx(tB,{})}),o.jsxs(ae.section,{className:"max-w-4xl mx-auto px-6 py-20 text-center mt-10",variants:ei,initial:"hidden",animate:"visible",children:[o.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold mb-6 text-gray-800 dark:text-gray-100",children:["¿Tienes dudas?"," ",o.jsx("span",{className:"text-indigo-700",children:"Contáctanos ahora"})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-10 max-w-xl mx-auto",children:"Nuestro equipo está listo para ayudarte por WhatsApp, teléfono o correo. Atención rápida y profesional."}),o.jsxs("div",{className:"bg-white dark:bg-black shadow-2xl rounded-2xl p-10 max-w-3xl mx-auto flex flex-col gap-6 border border-indigo-100 dark:border-gray-800 transition-colors duration-300",children:[o.jsxs("p",{className:"flex items-center justify-center text-gray-700 dark:text-gray-300 gap-3",children:[o.jsx(ih,{className:"text-indigo-700"}),o.jsx("span",{children:"Av. Estrella Sadhalá, Santiago, República Dominicana"})]}),o.jsxs("p",{className:"flex items-center justify-center text-gray-700 dark:text-gray-300 gap-3",children:[o.jsx(Op,{className:"text-indigo-700"}),o.jsx("span",{children:"+1 (849)-635-7000 (Tienda)"})]}),o.jsxs("p",{className:"flex items-center justify-center text-gray-700 dark:text-gray-300 gap-3",children:[o.jsx(Op,{className:"text-indigo-700"}),o.jsx("span",{children:"+1 (809)-582-1212 (Internet)"})]}),o.jsxs("p",{className:"flex items-center justify-center text-gray-700 dark:text-gray-300 gap-3",children:[o.jsx(T1,{className:"text-indigo-700"}),o.jsx("span",{children:"playcenter121@gmail.com"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center mt-4",children:[o.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-700 text-white rounded-lg shadow-md hover:bg-indigo-800 transition w-full sm:w-auto",children:[o.jsx(Mp,{className:"text-xl"}),"WhatsApp Tienda"]}),o.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition w-full sm:w-auto",children:[o.jsx(Mp,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})]})}async function rB(t){const e="https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","perfil_usuarios"),n.append("folder","muestras/comercio electrónico"),console.log("Archivo que se va a subir:",t),console.log("Preset usado:","perfil_usuarios"),console.log("Carpeta folder usada:","muestras/comercio electrónico");const r=await fetch(e,{method:"POST",body:n});if(!r.ok){const a=await r.text();throw console.error("Error Cloudinary:",a),new Error("❌ Error al subir la imagen a Cloudinary")}const i=await r.json();return console.log("Respuesta de Cloudinary:",i),i.secure_url}const ey={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, República Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"},iB=(t="")=>String(t||"").trim()?String(t).trim().charAt(0).toUpperCase():"?",sB=(t="")=>{let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e),e=e&e;const n=e>>0&255,r=e>>8&255,i=e>>16&255;return`#${[n,r,i].map(a=>a.toString(16).padStart(2,"0")).join("")}`},aB=(t="",e=512)=>{const n=iB(t),r=sB(t||n),i=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${e}' viewBox='0 0 ${e} ${e}'>
    <rect width='100%' height='100%' fill='${r}' rx='${Math.floor(e*.12)}' />
    <text x='50%' y='50%' dy='.04em' font-family='Inter, system-ui, Arial' font-size='${Math.floor(e*.42)}' fill='#fff' text-anchor='middle' alignment-baseline='middle'>${n}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(i)}`},oB={hidden:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:.36,ease:[.2,.8,.2,1]}},exit:{opacity:0,y:-8,transition:{duration:.25}}},dd={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.26}}};function lB({historial:t}){var g,y;const[e,n]=T.useState(null),[r,i]=T.useState("all"),a=!1;if(!(t!=null&&t.length))return o.jsxs(ae.div,{variants:dd,className:"empty-state-beautiful",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("div",{className:"empty-illustration",children:o.jsx(ae.div,{className:"empty-box",animate:{y:[0,-10,0],rotateY:[0,5,0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0,children:o.jsx(Package,{size:56})})}),o.jsx(ae.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"¡Tu historial está esperando!"}),o.jsx(ae.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Cuando realices tu primera compra, aparecerá aquí."}),o.jsx(ae.div,{className:"empty-cta",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},children:o.jsx("button",{className:"btn-beautiful-primary",children:"Explorar productos"})})]});const c=v=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(v||0),u=v=>{if(!v)return"—";let w;return v!=null&&v.seconds?w=new Date(v.seconds*1e3):w=new Date(v),isNaN(w)?"—":w.toLocaleString("es-DO",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},h=v=>{switch(v){case"completado":return{color:"status-completed",Icon:CheckCircle,text:"Completado",gradient:"linear-gradient(135deg, #10b981, #059669)"};case"cancelado":return{color:"status-cancelled",Icon:XCircle,text:"Cancelado",gradient:"linear-gradient(135deg, #ef4444, #dc2626)"};case"pendiente":default:return{color:"status-pending",Icon:Hourglass,text:"Pendiente",gradient:"linear-gradient(135deg, #f59e0b, #d97706)"}}},f=t.filter(v=>r==="all"?!0:v.estado===r);return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .history-compact { --fs-1:.95rem; --fs-2:.9rem; --fs-3:.85rem; --pad-1:.55rem; --pad-2:.8rem; --radius:12px; }
        .history-compact .order-card-beautiful { padding: var(--pad-2); border-radius: var(--radius); }
        .history-compact .order-number-beautiful { font-size: var(--fs-1); }
        .history-compact .order-date-beautiful { font-size: var(--fs-3); opacity:.8; }
        .history-compact .status-badge-beautiful { padding:.35rem .55rem; border-radius:999px; font-size: var(--fs-3); }
        .history-compact .order-total-beautiful { font-size: var(--fs-1); }
        .history-compact .products-grid { gap:.5rem; }
        .history-compact .product-preview-beautiful { padding: var(--pad-1); border-radius:10px; }
        .history-compact .product-name-beautiful { font-size: var(--fs-2); }
        .history-compact .product-details-beautiful { font-size: var(--fs-3); opacity:.85; }
      `}),a,o.jsx(ae.div,{variants:dd,className:"orders-container-beautiful history-compact",layout:!0,children:o.jsx(fn,{children:f.map((v,w)=>{var N,j;const S=h(v.estado),b=S.Icon;return o.jsxs(ae.div,{className:"order-card-beautiful",onClick:()=>n(v),initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.35,delay:w*.05,type:"spring",stiffness:120},whileHover:{scale:1.01,y:-3,boxShadow:"0 16px 32px rgba(0,0,0,0.08)"},whileTap:{scale:.99},layout:!0,children:[o.jsx("div",{className:"order-card-glow",style:{background:S.gradient}}),o.jsxs("div",{className:"order-header-beautiful",style:{display:"flex",justifyContent:"space-between",gap:"0.6rem"},children:[o.jsxs("div",{className:"order-info-beautiful",children:[o.jsx(ae.h4,{className:"order-number-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:v.numeroOrden||`Orden #${v.id.slice(-8)}`}),o.jsx(ae.p,{className:"order-date-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[o.jsx(Calendar,{size:14})," ",u(v.fecha)]})})]}),o.jsxs("div",{className:"order-status-beautiful",style:{display:"flex",alignItems:"center",gap:".5rem"},children:[o.jsxs(ae.div,{className:`status-badge-beautiful ${S.color}`,style:{background:S.gradient,display:"inline-flex",alignItems:"center",gap:6},whileHover:{scale:1.05},initial:{scale:0},animate:{scale:1},transition:{delay:.35,type:"spring"},children:[o.jsx(b,{size:14}),o.jsx("span",{className:"status-text",children:S.text})]}),o.jsx(ae.div,{className:"order-total-beautiful",initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.4},children:c(v.total)})]})]}),o.jsxs(ae.div,{className:"order-products-preview-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},children:[o.jsx("div",{className:"products-grid",children:(N=v.productos)==null?void 0:N.slice(0,3).map((M,O)=>o.jsxs(ae.div,{className:"product-preview-beautiful",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5+O*.08},whileHover:{scale:1.03},children:[o.jsx("div",{className:"product-image-placeholder","aria-hidden":!0,style:{display:"flex",alignItems:"center"},children:o.jsx(Package,{size:18})}),o.jsxs("div",{className:"product-preview-info-beautiful",children:[o.jsx("span",{className:"product-name-beautiful",children:M.nombre}),o.jsxs("span",{className:"product-details-beautiful",children:[M.cantidad,"x •"," ",c(M.precio)]}),(M==null?void 0:M.id)&&o.jsxs("button",{className:"product-view-link",onClick:U=>{U.stopPropagation(),window.location.href=`/producto/${M.id}`},title:"Ver producto","aria-label":`Ver producto ${M.nombre}`,children:[o.jsx(Eye,{size:14}),"Ver producto",o.jsx(ae.span,{className:"pv-arrow",animate:{x:[0,4,0]},transition:{duration:1.6,repeat:1/0},children:o.jsx(ArrowRight,{size:14})})]})]})]},O))}),((j=v.productos)==null?void 0:j.length)>3&&o.jsxs(ae.div,{className:"more-products-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},whileHover:{scale:1.06},children:[o.jsxs("span",{className:"more-count",children:["+",v.productos.length-3]}),o.jsx("span",{className:"more-text",children:"más productos"})]})]}),o.jsx(ae.div,{className:"order-card-footer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:o.jsxs("div",{className:"view-details-hint",children:[o.jsx("span",{children:"Toque para ver detalles"}),o.jsx(ae.span,{className:"arrow-icon",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},"aria-hidden":!0,children:o.jsx(ArrowRight,{size:16})})]})})]},v.id)})})}),o.jsx(fn,{children:e&&o.jsx(ae.div,{className:"order-modal-overlay-beautiful",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:o.jsxs(ae.div,{className:"order-modal-beautiful",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:v=>v.stopPropagation(),children:[o.jsxs("div",{className:"modal-header-beautiful",children:[o.jsxs("div",{className:"modal-title-section",children:[o.jsx("h3",{className:"modal-title",children:e.numeroOrden||`Orden #${e.id.slice(-8)}`}),o.jsx("div",{className:"modal-subtitle",children:"Detalles de tu compra"})]}),o.jsx("button",{className:"close-modal-beautiful",onClick:()=>n(null),children:"×"})]}),o.jsxs("div",{className:"modal-content-beautiful",children:[o.jsx("div",{className:"order-summary-beautiful",children:o.jsxs("div",{className:"summary-card",children:[o.jsxs("div",{className:"summary-item",children:[o.jsxs("span",{className:"summary-label",children:[o.jsx(Calendar,{size:14})," Fecha"]}),o.jsx("span",{className:"summary-value",children:new Date((g=e.fecha)!=null&&g.seconds?e.fecha.seconds*1e3:e.fecha).toLocaleString("es-DO")})]}),o.jsxs("div",{className:"summary-item",children:[o.jsxs("span",{className:"summary-label",children:[o.jsx(ShoppingBag,{size:14})," Estado"]}),o.jsx("span",{className:"summary-status",children:e.estado})]}),o.jsxs("div",{className:"summary-item",children:[o.jsxs("span",{className:"summary-label",children:[o.jsx(CircleDollarSign,{size:14})," Total"]}),o.jsxs("span",{className:"summary-total",children:["DOP"," ",new Intl.NumberFormat("es-DO").format(e.total)]})]})]})}),o.jsx("div",{className:"products-grid-modal",children:(y=e.productos)==null?void 0:y.map((v,w)=>o.jsxs("div",{className:"product-item-beautiful",children:[o.jsxs("div",{className:"product-info-modal",children:[o.jsx("span",{className:"product-name-modal",children:v.nombre}),o.jsxs("span",{className:"product-details-modal",children:[v.cantidad," × DOP"," ",new Intl.NumberFormat("es-DO").format(v.precio)]})]}),o.jsxs("div",{className:"product-subtotal-beautiful",children:["DOP"," ",new Intl.NumberFormat("es-DO").format(v.cantidad*v.precio)]}),o.jsxs("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${v.id}`,children:[o.jsx(Eye,{size:16})," Ver producto"]})]},w))})]})]})})})]})}function Af({name:t}){const e={perfil:o.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),historial:o.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[o.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7L21 7"}),o.jsx("path",{d:"M12 7v6l4 2"})]}),direcciones:o.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[o.jsx("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0z"}),o.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),logout:o.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("path",{d:"M16 17l5-5-5-5"}),o.jsx("path",{d:"M21 12H9"})]})};return o.jsx("span",{className:"icon",children:e[t]})}function cB({visible:t,text:e="Cargando..."}){return t?o.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:o.jsxs("div",{className:"loaderInner",children:[o.jsx("div",{className:"loader",children:o.jsxs("div",{className:"spinner",children:[o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{}),o.jsx("div",{})]})}),o.jsx("p",{className:"loaderText",children:e})]})}):null}function $k({abierto:t,titulo:e,descripcion:n,onCancel:r,onConfirm:i,dangerText:a="Confirmar"}){return t?o.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:o.jsxs(ae.div,{className:"modal-card card",initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},children:[o.jsx("h3",{id:"modal-title",className:"modal-title",children:e}),o.jsx("p",{className:"modal-desc",children:n}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"btn btn-ghost",onClick:r,children:"Cancelar"}),o.jsx("button",{className:"btn btn-danger",onClick:i,children:a})]})]})}):null}function uB(){const{usuario:t,usuarioInfo:e,actualizarUsuarioInfo:n,logout:r}=Hr(),i=oi(),[a,c]=T.useState("perfil"),[u,h]=T.useState(!1),[f,g]=T.useState(!1),[y,v]=T.useState({text:"",tipo:""}),[w,S]=T.useState({nombre:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",telefono:"",direccion:"",fotoURL:(t==null?void 0:t.photoURL)||""}),[b,N]=T.useState(null),[j,M]=T.useState(null),[O,U]=T.useState([]),[B,K]=T.useState([]),[R,I]=T.useState(!1),[A,k]=T.useState(null),[L,F]=T.useState(!1),[D,be]=T.useState(!1),[Ge,ot]=T.useState(!1),[Ke,le]=T.useState(!1),[oe,he]=T.useState(null);T.useEffect(()=>{S(e?de=>({...de,telefono:e.telefono||"",direccion:e.direccion||"",fotoURL:e.fotoURL||(t==null?void 0:t.photoURL)||""}):de=>({...de,fotoURL:(t==null?void 0:t.photoURL)||""}))},[e,t==null?void 0:t.photoURL]),T.useEffect(()=>{t&&(z(),Q())},[t]);const z=async()=>{try{const de=ln(Ft(Re,"orders"),br("userId","==",t.uid)),Qe=await Ir(de);U(Qe.docs.map(We=>({id:We.id,...We.data()})))}catch(de){console.error("fetchHistorial:",de)}},Q=async()=>{try{const de=ln(Ft(Re,"direcciones"),br("usuarioId","==",t.uid)),Qe=await Ir(de);K(Qe.docs.map(We=>({id:We.id,...We.data()})))}catch(de){console.error("fetchDirecciones:",de)}},we=T.useMemo(()=>{if(j)return j;if(w.fotoURL)return w.fotoURL;const de=w.nombre||w.email||(t==null?void 0:t.email)||"U";return aB(de,512)},[j,w.fotoURL,w.nombre,w.email,t==null?void 0:t.email]),Be=T.useMemo(()=>{if(w.nombre&&w.nombre.trim())return w.nombre;const Qe=(w.email||(t==null?void 0:t.email)||"").split("@")[0]||"Usuario";return Qe.charAt(0).toUpperCase()+Qe.slice(1)},[w.nombre,w.email,t==null?void 0:t.email]),Ue=(de,Qe="info",We=3500)=>{v({text:de,tipo:Qe}),We&&setTimeout(()=>v({text:"",tipo:""}),We)},tt=async()=>{try{be(!1),await r(),i("/")}catch(de){console.error("logout:",de),Ue("Error cerrando sesión.","error",5e3)}},ft=de=>S(Qe=>({...Qe,[de.target.name]:de.target.value})),ct=de=>{var Dt;const Qe=(Dt=de.target.files)==null?void 0:Dt[0];if(!Qe)return;N(Qe);const We=URL.createObjectURL(Qe);M(We)},it=()=>{j&&URL.revokeObjectURL(j),N(null),M(null)},Je=async()=>{if(!b)return Ue("Selecciona una imagen primero.","error");g(!0);try{const de=await rB(b);await n({fotoURL:de}),await Ic(t,{photoURL:de}),S(Qe=>({...Qe,fotoURL:de})),it(),Ue("Foto actualizada.","success")}catch(de){console.error("uploadLocalImage:",de),Ue("Error subiendo imagen.","error",5e3)}finally{g(!1)}},St=async()=>{g(!0);try{await n({telefono:w.telefono,direccion:w.direccion,displayName:w.nombre});const de={telefono:w.telefono,direccion:w.direccion,displayName:w.nombre,updatedAt:new Date};try{await Gn(dt(Re,"users",t.uid),de,{merge:!0})}catch(We){console.warn("No se pudo escribir users/{uid}:",We)}try{await Gn(dt(Re,"usuarios",t.uid),de,{merge:!0})}catch(We){console.warn("No se pudo escribir usuarios/{uid}:",We)}const Qe={};t.displayName!==w.nombre&&(Qe.displayName=w.nombre),Object.keys(Qe).length&&await Ic(t,Qe),h(!1),Ue("Perfil guardado.","success")}catch(de){console.error("Error guardando perfil:",de),Ue("Error guardando perfil.","error")}finally{g(!1)}},At=async()=>{g(!0);try{await Ic(t,{photoURL:""}),await n({fotoURL:""}),S(de=>({...de,fotoURL:""})),it(),Ue("Imagen de perfil removida.","success")}catch(de){console.error("confirmRemoveImage:",de),Ue("Error removiendo imagen.","error")}finally{g(!1),F(!1)}},_t=async de=>{try{const Qe=typeof de=="string"?de:(de==null?void 0:de.direccionCompleta)||"",We=de&&de.metodoEntrega?de.metodoEntrega:"domicilio";ot(!0),await n({direccion:Qe,metodoEntrega:We});const Dt={direccion:Qe,metodoEntrega:We,updatedAt:new Date};try{await Gn(dt(Re,"users",t.uid),Dt,{merge:!0})}catch(jt){console.warn("No se pudo escribir users/{uid}:",jt)}try{await Gn(dt(Re,"usuarios",t.uid),Dt,{merge:!0})}catch(jt){console.warn("No se pudo escribir usuarios/{uid}:",jt)}try{let jt=await ss(dt(Re,"users",t.uid));if(jt.exists()||(jt=await ss(dt(Re,"usuarios",t.uid))),jt&&jt.exists()){const Pt=jt.data()||{};await n({direccion:Pt.direccion||Qe,metodoEntrega:Pt.metodoEntrega||We})}}catch(jt){console.warn("No se pudo releer documento de usuario:",jt)}R&&I(!1),await Q(),S(jt=>({...jt,direccion:Qe})),Ue("Dirección seleccionada y guardada.","success"),window.location.reload()}catch(Qe){console.error("handleSeleccionarDireccion error:",Qe),ot(!1),Ue("Error seleccionando dirección.","error",5e3)}},Rt=async de=>{try{if(await _m(dt(Re,"direcciones",de)),t!=null&&t.direccion){const Qe=B.find(We=>We.id===de);Qe&&t.direccion===Qe.direccionCompleta&&(await n({direccion:"",metodoEntrega:"",selectedDeliveryMethod:""}),setTimeout(()=>{window.location.reload()},1e3))}await Q(),Ue("Dirección eliminada correctamente.","success")}catch(Qe){console.error("eliminarDireccion:",Qe),Ue("Error eliminando dirección.","error")}},re=de=>{he(de),le(!0)},$e=()=>{le(!1),he(null)},Pe=()=>{oe&&(Rt(oe),le(!1),he(null))};return!t||!e?o.jsx("main",{className:"min-h-screen flex items-start justify-center bg-slate-50",style:{paddingTop:"var(--content-offset, 100px)"},children:o.jsx("p",{className:"text-lg animate-pulse",children:"Cargando perfil..."})}):o.jsxs(ae.main,{className:"profile-page",variants:oB,initial:"hidden",animate:"enter",exit:"exit",children:[o.jsx("div",{className:"navigation-container",children:o.jsxs("nav",{className:"profile-dock","aria-label":"Navegación de perfil",children:[o.jsxs("button",{className:`dock-btn ${a==="perfil"?"active":""}`,onClick:()=>c("perfil"),"aria-label":"Perfil",children:[o.jsx(Af,{name:"perfil"}),o.jsx("span",{children:"Perfil"})]}),o.jsxs("button",{className:`dock-btn ${a==="historial"?"active":""}`,onClick:()=>c("historial"),"aria-label":"Historial",children:[o.jsx(Af,{name:"historial"}),o.jsx("span",{children:"Historial"})]}),o.jsxs("button",{className:`dock-btn ${a==="direcciones"?"active":""}`,onClick:()=>c("direcciones"),"aria-label":"Direcciones",children:[o.jsx(Af,{name:"direcciones"}),o.jsx("span",{children:"Direcciones"})]}),o.jsxs("button",{className:"dock-btn danger",onClick:()=>be(!0),"aria-label":"Cerrar sesión",children:[o.jsx(Af,{name:"logout"}),o.jsx("span",{children:"Salir"})]})]})}),o.jsx("main",{className:"main-content",children:o.jsx("div",{className:"main-card",children:o.jsxs(fn,{mode:"wait",children:[a==="perfil"&&o.jsxs(ae.section,{variants:dd,initial:"hidden",animate:"show",exit:"hidden",children:[o.jsxs("div",{className:"profile-header big",children:[o.jsx("div",{className:"avatar-block large",children:o.jsx("img",{src:we,alt:"Avatar",className:"avatar-img"})}),o.jsxs("div",{className:"profile-meta big",children:[o.jsx("h1",{className:"profile-name",children:Be}),o.jsx("p",{className:"profile-email",children:w.email}),o.jsxs("p",{className:"muted small",children:["UID: ",o.jsx("span",{className:"mono",children:t.uid})]}),o.jsxs("div",{className:"profile-actions",children:[o.jsxs("label",{className:"btn btn-primary upload-btn",children:["Subir foto",o.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:ct,className:"hidden","aria-label":"Subir foto"})]}),o.jsx("button",{className:"btn btn-ghost",onClick:()=>F(!0),children:"Quitar"}),j&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn btn-success",onClick:Je,disabled:f,children:"Guardar foto"}),o.jsx("button",{className:"btn btn-outline",onClick:it,children:"Cancelar"})]})]})]})]}),o.jsxs("div",{className:"form-grid big",children:[o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Nombre"}),o.jsx("input",{name:"nombre",value:w.nombre,onChange:ft,disabled:!u})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Email"}),o.jsx("input",{name:"email",value:w.email,disabled:!0})]}),o.jsxs("div",{className:"form-row",children:[o.jsx("label",{children:"Teléfono"}),o.jsx("input",{name:"telefono",value:w.telefono,onChange:ft,disabled:!u})]}),o.jsxs("div",{className:"form-row full",children:[o.jsx("label",{children:"Dirección completa"}),o.jsx("textarea",{name:"direccion",value:w.direccion,onChange:ft,disabled:!u,rows:4}),o.jsx("p",{className:"muted hint",children:'Pulsa "Editar" para modificar.'})]}),o.jsx("div",{className:"form-actions",children:u?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:St,className:"btn btn-success",disabled:f,children:"Guardar"}),o.jsx("button",{onClick:()=>{h(!1),it()},className:"btn btn-ghost",children:"Cancelar"})]}):o.jsx("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Editar perfil"})})]})]},"perfil"),a==="historial"&&o.jsxs(ae.section,{variants:dd,initial:"hidden",animate:"show",exit:"hidden",children:[o.jsx("h2",{className:"section-title large",children:"Historial de compras"}),o.jsx(lB,{historial:O})]},"historial"),a==="direcciones"&&o.jsxs(ae.section,{variants:dd,initial:"hidden",animate:"show",exit:"hidden",children:[o.jsxs("div",{className:"direcciones-head",children:[o.jsx("h2",{className:"section-title large",children:"Direcciones"}),o.jsx("div",{children:o.jsx("button",{className:"btn btn-primary",onClick:()=>{k(null),I(!0)},children:"Añadir dirección"})})]}),o.jsxs("div",{className:"cards-list",children:[o.jsxs("div",{className:"address-card large",children:[o.jsxs("div",{className:"address-content",children:[o.jsx("div",{className:"address-title",children:"Recoger en: Playcenter Universal Santiago"}),o.jsx("div",{className:"muted break-words",children:ey.direccionCompleta}),o.jsx("a",{href:ey.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),o.jsx("div",{className:"address-actions",children:o.jsx("button",{onClick:()=>_t(ey),className:"btn btn-success",children:"Seleccionar"})})]}),B.length===0?o.jsx("div",{className:"empty",children:"No tienes direcciones guardadas."}):B.map(de=>o.jsxs("div",{className:"address-card large",children:[o.jsxs("div",{className:"address-content",children:[o.jsx("div",{className:"address-title break-words",children:de.direccionCompleta||`${de.numeroCalle||""} ${de.numeroCasa?"Casa "+de.numeroCasa:""}, ${de.ciudad||""}, ${de.provincia||""}`}),o.jsxs("div",{className:"muted",children:["Método: ",de.metodoEntrega||"domicilio"]}),de.referencia&&o.jsxs("div",{className:"muted",children:["Ref: ",de.referencia]}),de.ubicacion&&o.jsx("a",{href:de.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),o.jsxs("div",{className:"address-actions",children:[o.jsx("button",{onClick:()=>{k(de),I(!0)},className:"address-action-btn edit-btn","aria-label":"Editar dirección",children:o.jsx(Pencil,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_t(de),className:"address-action-btn select-btn","aria-label":"Seleccionar dirección",children:o.jsx(Check,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>re(de.id),className:"address-action-btn delete-btn","aria-label":"Eliminar dirección",children:o.jsx(Trash2,{className:"w-4 h-4"})})]})]},de.id))]}),R&&o.jsx(g4,{abierto:R,onClose:async()=>{I(!1),k(null),await Q()},usuarioId:t.uid,direccionEditar:A,actualizarLista:Q})]},"direcciones")]})})}),o.jsx($k,{abierto:L,titulo:"Quitar imagen de perfil",descripcion:"Se quitará la URL de tu perfil (no borra el archivo en Cloudinary).",onCancel:()=>F(!1),onConfirm:At,dangerText:"Quitar imagen"}),o.jsx($k,{abierto:D,titulo:"Cerrar sesión",descripcion:"¿Estás seguro que quieres cerrar sesión?",onCancel:()=>be(!1),onConfirm:tt,dangerText:"Cerrar sesión"}),o.jsx(cB,{visible:Ge,text:"Guardando..."}),o.jsx(fn,{children:Ke&&o.jsx(ae.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:o.jsxs(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"¿Eliminar dirección?"}),o.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"¿Estás seguro que quieres eliminar esta dirección? Esta acción no se puede deshacer."}),o.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[o.jsx("button",{onClick:$e,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#f9fafb",onMouseOut:de=>de.target.style.backgroundColor="white",children:"Cancelar"}),o.jsx("button",{onClick:Pe,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#dc2626",onMouseOut:de=>de.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),y.text&&o.jsx(ae.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`toast ${y.tipo==="success"?"toast-success":y.tipo==="error"?"toast-error":"toast-info"}`,children:y.text})]})}const M4="https://playcenter-universal.onrender.com",dB="https://ecommerce.cardnet.com.do/authorize",hB=async()=>{try{await fetch(`${M4}/cardnet/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})}catch{console.log("Wake-up call al servidor")}},fB=async(t,e,n=2)=>{for(let r=0;r<=n;r++)try{const i=new AbortController,a=setTimeout(()=>i.abort(),3e4),c=await fetch(t,{...e,signal:i.signal});if(clearTimeout(a),!c.ok)throw new Error(`HTTP ${c.status}`);return c}catch(i){if(r===n)throw i;await new Promise(a=>setTimeout(a,1e3*Math.pow(2,r)))}};function xv({className:t,total:e,label:n}){const[r,i]=T.useState(null),[a,c]=T.useState(!1),u=typeof e=="number"?e/100:null,h=Number.isFinite(u)?new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(u):null,f=n||(h?`Comprar ahora • ${h}`:"Comprar ahora");T.useEffect(()=>{hB()},[]);const g=async()=>{if(a)return;c(!0);const y=document.querySelector(".pay-btn");try{y&&(y.disabled=!0,y.classList.add("loading")),console.log("🚀 Iniciando pago con Cardnet...");const w=await(await fB(`${M4}/cardnet/create-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total:e})})).json();if(console.log("✅ Sesión creada:",w.SESSION),!w.SESSION)throw new Error("No se recibió SESSION del servidor");i(w.SESSION),setTimeout(()=>{const S=document.getElementById("cardnetForm");S&&(console.log("📤 Redirigiendo a Cardnet..."),S.submit())},100)}catch(v){console.error("❌ Error en pago:",v);let w="No se pudo procesar el pago";v.name==="AbortError"?w="La conexión está tardando demasiado. Por favor, intenta de nuevo.":v.message.includes("HTTP")?w="Error del servidor. Por favor, intenta de nuevo.":v.message.includes("Failed to fetch")&&(w="Error de conexión. Verifica tu internet e intenta de nuevo."),alert(`❌ ${w}`),y&&(y.disabled=!1,y.classList.remove("loading")),c(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:g,className:`pay-btn ${t||""}`,disabled:a,children:[o.jsx("span",{className:"btn-text",children:f}),o.jsxs("div",{className:"icon-container",children:[o.jsx("svg",{viewBox:"0 0 24 24",className:"icon card-icon",children:o.jsx("path",{d:"M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18C2,19.11 2.89,20 4,20H20C21.11,20 22,19.11 22,18V6C22,4.89 21.11,4 20,4Z",fill:"currentColor"})}),o.jsx("svg",{viewBox:"0 0 24 24",className:"icon payment-icon",children:o.jsx("path",{d:"M2,17H22V21H2V17M6.25,7H9V6H6V3H18V6H15V7H17.75L19,17H5L6.25,7M9,10H15V8H9V10M9,13H15V11H9V13Z",fill:"currentColor"})}),o.jsx("svg",{viewBox:"0 0 24 24",className:"icon dollar-icon",children:o.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z",fill:"currentColor"})}),o.jsx("svg",{viewBox:"0 0 24 24",className:"icon wallet-icon default-icon",children:o.jsx("path",{d:"M21,18V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V6H12C10.89,6 10,6.9 10,8V16A2,2 0 0,0 12,18M12,16H22V8H12M16,13.5A1.5,1.5 0 0,1 14.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,12A1.5,1.5 0 0,1 16,13.5Z",fill:"currentColor"})}),o.jsx("svg",{viewBox:"0 0 24 24",className:"icon check-icon",children:o.jsx("path",{d:"M9,16.17L4.83,12L3.41,13.41L9,19L21,7L19.59,5.59L9,16.17Z",fill:"currentColor"})})]})]}),r&&o.jsx("form",{id:"cardnetForm",action:dB,method:"post",children:o.jsx("input",{type:"hidden",name:"SESSION",value:r})})]})}function pB({productoActual:t,onProductoClick:e}){const{products:n,loading:r}=RC(t==null?void 0:t.categoria),i=T.useRef(null),[a,c]=T.useState(!1),[u,h]=T.useState(!1),f=T.useMemo(()=>!t||!n?[]:n.filter(b=>(b==null?void 0:b.id)!==(t==null?void 0:t.id)).slice(0,20),[n,t==null?void 0:t.id]),g=T.useCallback(()=>{const b=i.current;if(!b)return 1;const N=b.offsetWidth,j=b.querySelector(".prl-card");if(!j)return 1;const U=j.offsetWidth+20;return Math.floor(N/U)},[]),y=T.useCallback(()=>{const b=i.current;if(!b)return;const{scrollLeft:N,scrollWidth:j,clientWidth:M}=b;c(N>10),h(N<j-M-10)},[]),v=T.useCallback(b=>{const N=i.current;if(!N)return;const j=N.querySelector(".prl-card");if(!j)return;const U=j.offsetWidth+20,B=g(),K=b*B*U;N.scrollBy({left:K,behavior:"smooth"})},[g]);T.useEffect(()=>{const b=i.current;if(!b)return;y();const N=()=>{const j=b.parentElement;j&&b.scrollLeft>10&&j.classList.add("scrolled")};return b.addEventListener("scroll",y),b.addEventListener("scroll",N),window.addEventListener("resize",y),()=>{b.removeEventListener("scroll",y),b.removeEventListener("scroll",N),window.removeEventListener("resize",y)}},[y,f]);const w=b=>{b&&(e?e(b):window.location.href=`/producto/${b}`)},S=b=>{const N=Math.round(Number(b)||0);try{return new Intl.NumberFormat("es-DO").format(N)}catch{return String(N)}};return r?o.jsxs("div",{className:"productos-relacionados-container",children:[o.jsx("h3",{className:"prl-title",children:"Productos Relacionados"}),o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})})]}):o.jsx("section",{className:"prl-section","aria-label":"Productos relacionados",children:o.jsxs("div",{className:"prl-container",children:[o.jsx("h2",{className:"prl-title",children:"Productos relacionados"}),o.jsxs("div",{className:"prl-wrapper","aria-roledescription":"carrusel",children:[a&&o.jsx("button",{className:"prl-arrow left",onClick:()=>v(-1),"aria-label":"Anterior",type:"button",children:o.jsx(uU,{size:18})}),o.jsx("div",{ref:i,className:"prl-rail",children:f.length>0?f.map(b=>{var O;const N=(b==null?void 0:b.imagen)||((O=b==null?void 0:b.imagenes)==null?void 0:O[0])||"",j=(b==null?void 0:b.nombre)||"Producto",M=Number(b==null?void 0:b.precio)||0;return o.jsxs("article",{className:"prl-card",role:"group","aria-label":j,onClick:()=>w(b.slug||b.id),children:[o.jsx("div",{className:"prl-imgbox",children:N?o.jsx("img",{src:N,alt:j,className:"prl-img",loading:"lazy",draggable:"false",decoding:"async"}):o.jsx("div",{className:"prl-img-fallback","aria-hidden":!0})}),o.jsxs("div",{className:"prl-meta",children:[o.jsx("h3",{className:"prl-name",title:j,children:j}),o.jsx("div",{className:"prl-price",children:M>0?o.jsxs("span",{children:["DOP ",o.jsx("strong",{children:S(M)})]}):o.jsx("span",{className:"prl-price-muted",children:"Sin precio"})})]})]},b==null?void 0:b.id)}):o.jsx("div",{className:"prl-empty",children:"No hay productos relacionados."})}),u&&o.jsx("button",{className:"prl-arrow right",onClick:()=>v(1),"aria-label":"Siguiente",type:"button",children:o.jsx(dU,{size:18})})]})]})})}function zk(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function mB(t){try{let e=String(t);return e=e.replace(/<\/(?:script|style)>/gi,"").replace(/<(?:script|style)[^>]*>[\s\S]*?<\/(?:script|style)>/gi,""),e=e.replace(/ on[a-z]+\s*=\s*"[^"]*"/gi,""),e=e.replace(/ on[a-z]+\s*=\s*'[^']*'/gi,""),e=e.replace(/ on[a-z]+\s*=\s*[^\s>]+/gi,""),e=e.replace(/javascript:\s*/gi,""),e}catch{return String(t)}}function Bk(t,e,n){try{const r={mode:t,items:e,total:n,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(r))}catch{}}function gB(){const{carrito:t,agregarAlCarrito:e,quitarDelCarrito:n,eliminarUnidadDelCarrito:r}=Ud(),{usuario:i}=Hr(),{abrirModal:a}=Gc(),{theme:c,isDark:u}=Tm(),{id:h}=DS(),f=oi(),[g,y]=T.useState(!1),[v,w]=T.useState(0),[S,b]=T.useState(0),[N,j]=T.useState(!1),[M,O]=T.useState(0),[U,B]=T.useState(null),[K,R]=T.useState(!1),[I,A]=T.useState(!0),[k,L]=T.useState(0),[F,D]=T.useState(!1),[be,Ge]=T.useState(!1),[ot,Ke]=T.useState(!1),[le,oe]=T.useState("images"),[he,z]=T.useState(0),[Q,we]=T.useState(1),[Be,Ue]=T.useState({x:0,y:0}),[tt,ft]=T.useState(0),[ct,it]=T.useState(1),[Je,St]=T.useState(1),[At,_t]=T.useState({x:0,y:0}),[Rt,re]=T.useState(!1),[$e,Pe]=T.useState(0),[de,Qe]=T.useState(1),[We,Dt]=T.useState({x:0,y:0}),jt=T.useRef(null),Pt=T.useRef(0),Ee=T.useRef(0),te=T.useRef(null),ye=T.useRef(null),Ce=T.useRef(null),ee=T.useRef(null),Me=T.useRef(!1),Le=T.useRef({x:50,y:50}),[yt,W]=T.useState(!1),[H,ve]=T.useState(""),[ie,ce]=T.useState({w:200,h:200}),{product:Y,loading:Ve,error:fe}=yL(h),pe=()=>{var Ze,qe;if(!Y)return[];const Te=(Array.isArray(Y==null?void 0:Y.variantes)?Y.variantes:[]).filter(Kt=>Kt&&typeof Kt.color=="string"&&Kt.color.trim())[M]||null,je=((Ze=Te==null?void 0:Te.videoUrls)==null?void 0:Ze.length)>0?Te.videoUrls:((qe=Y==null?void 0:Y.videoUrls)==null?void 0:qe.length)>0?Y.videoUrls:[];return Array.isArray(je)?je.filter(Kt=>Kt&&typeof Kt=="string"&&Kt.trim()):[]},ze=(G,me)=>{var qe,Kt;const Te=An=>An?String(An).split("?")[0].split("#")[0].trim():"",je=An=>{try{return typeof An=="string"?An:(An==null?void 0:An.url)||(An==null?void 0:An.src)||""}catch{return""}};let Ze=[];return((qe=me==null?void 0:me.imagenes)==null?void 0:qe.length)>0?Ze=me.imagenes.map(je).filter(Boolean):me!=null&&me.imagen?Ze=[je(me.imagen)]:((Kt=G==null?void 0:G.imagenes)==null?void 0:Kt.length)>0?Ze=G.imagenes.map(je).filter(Boolean):G!=null&&G.imagen&&(Ze=[je(G.imagen)]),[...new Set(Ze.map(Te).filter(Boolean))]};let De=[],nt=0,ht=0,Ae=[],Se=[],Ut=null,Tt=[];if(Y){Ae=Array.isArray(Y==null?void 0:Y.variantes)?Y.variantes:[],Se=Ae.filter(je=>je&&typeof je.color=="string"&&je.color.trim()),Ut=Se[M]||null,Tt=ze(Y,Ut);const G=Tt.map(je=>({type:"image",url:je})),Te=(pe()||[]).map(je=>({type:"video",url:je}));De=[...G,...Te],ht=Math.max(0,Math.min(S,Math.max(0,De.length-1))),nt=U!==null?U:ht}if(T.useEffect(()=>{if(Y){const me=(Array.isArray(Y==null?void 0:Y.variantes)?Y.variantes:[]).filter(Te=>Te&&typeof Te.color=="string"&&Te.color.trim());me.length>0&&(M<0||M>=me.length)&&O(0)}},[Y,M]),T.useEffect(()=>{we(1),Ue({x:0,y:0})},[he,le]),T.useEffect(()=>{Qe(1),Dt({x:0,y:0})},[$e]),T.useEffect(()=>{if(typeof window<"u"&&window.innerWidth<1280){const G=document.querySelector(".mobile-tablet-thumbs"),me=G&&G.querySelector(".mt-thumb.active");G&&me&&typeof me.scrollIntoView=="function"&&me.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[S]),T.useEffect(()=>{const G=Array.isArray(De)&&De[nt]||null;(!G||G.type!=="image")&&W(!1)},[nt]),T.useEffect(()=>{let G=window.scrollY;const me=()=>{const Te=window.scrollY;Te>G&&Te>100?A(!1):A(!0),G=Te};return window.addEventListener("scroll",me,{passive:!0}),()=>window.removeEventListener("scroll",me)},[]),T.useEffect(()=>{if(Y){const Te=(Array.isArray(Y==null?void 0:Y.variantes)?Y.variantes:[]).filter(Ze=>Ze&&typeof Ze.color=="string"&&Ze.color.trim())[M]||null,je=t.find(Ze=>{var qe;return Ze.id===Y.id&&(!Te||((qe=Ze.variante)==null?void 0:qe.color)===(Te==null?void 0:Te.color))});L((je==null?void 0:je.cantidad)||0)}},[t,Y,M]),T.useEffect(()=>{const G=()=>{const Te=jt.current,je=document.querySelector(".amazon-thumbs-sidebar");if(Te&&je){const Ze=Te.offsetHeight;je.style.height=`${Ze}px`,je.style.maxHeight=`${Ze}px`}},me=setTimeout(G,100);return window.addEventListener("resize",G),()=>{clearTimeout(me),window.removeEventListener("resize",G)}},[S,Y]),Ve)return null;if(fe||!Y){const G=()=>{window.history&&window.history.length>1?f(-1):f("/productos")};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"mb-4",children:o.jsx("svg",{className:"mx-auto h-16 w-16 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("p",{className:"text-lg sm:text-xl font-semibold mb-2 text-blue-600",children:fe?"Error al cargar el producto":"Producto no encontrado"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:fe?`Error: ${fe}`:`No se pudo encontrar el producto con ID: ${h}`}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx("button",{onClick:G,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Recargar"})]})]})})}const Et=Se[M]||null,ut=Et,Cn=()=>{var G,me,Te,je;return(me=(G=ut==null?void 0:ut.imagenPrincipal)==null?void 0:G[0])!=null&&me.url?ut.imagenPrincipal[0].url:(je=(Te=Y.imagenPrincipal)==null?void 0:Te[0])!=null&&je.url?Y.imagenPrincipal[0].url:ut!=null&&ut.imagen?ut.imagen:Y.imagen?Y.imagen:null},Xe=()=>(Y.tresArchivosExtras||Y.imagenesExtra||[]).filter(me=>(me==null?void 0:me.url)||typeof me=="string").slice(0,3).map(me=>typeof me=="string"?me:me.url),sn=()=>{window.history&&window.history.length>1?f(-1):f("/productos")},Ht=G=>{O(G),w(0),b(0)},Dr=G=>{try{const me=(G??"").toString().trim();return me||null}catch{return null}},mn=Dr(Et==null?void 0:Et.color),nr=t.find(G=>G.id===Y.id&&Dr(G.colorSeleccionado)===mn),li=(nr==null?void 0:nr.cantidad)||0,Ui=()=>{if(!i){y(!0);return}if(!nr){const G={...Y,cantidad:1,precio:Et&&Number(Et.precio)?Number(Et.precio):Number(Y.precio)||0,cantidadProducto:Number.isFinite(wn)?wn:void 0};e(G,mn)}},Ao=()=>{if(!i){y(!0);return}const G={...Y,precio:Et&&Number(Et.precio)?Number(Et.precio):Number(Y.precio)||0,cantidadProducto:Number.isFinite(wn)?wn:void 0};e(G,mn)},Wr=()=>{if(!i){y(!0);return}r(Y.id,mn)},ls=()=>{if(!i){y(!0);return}n(Y.id,mn)},wn=(Et==null?void 0:Et.cantidad)!==void 0?Number(Et.cantidad)||0:Y.cantidad!==void 0?Number(Y.cantidad)||0:1/0,_i=(Y==null?void 0:Y.activo)!==!1&&wn>0,ur=Number.isFinite(wn)?Math.max(0,wn-((nr==null?void 0:nr.cantidad)||0)):1/0,cs=Et&&Et.precio!==void 0?Number(Et.precio):NaN,ci=Number.isFinite(cs)&&cs>0?cs:Number(Y.precio)||0,jo=[{id:Y.id,nombre:Y.nombre,precio:ci,cantidad:1}],Cl=()=>{j(!1)},Jt=Tt.length>0;Se&&Se.length>1;const Al=Jt;Tt.length;const qs=G=>({type:"image",url:G||""}),us=Tt.filter(Boolean).map(G=>qs(G)),Mr=new Set;us.filter(G=>{const me=(G.url||"").split("?")[0].split("#")[0].trim().toLowerCase();return!me||Mr.has(me)?!1:(Mr.add(me),!0)}),Math.min(Math.max(v,0),Math.max(0,(Tt.length||1)-1));const ds=[...Tt],jl=()=>{if(typeof window>"u"||window.innerWidth<1280)return;const G=De&&De[nt]||null;if(!G||G.type!=="image")return;const me=G.url;ve(me);const Te=ye.current;if(Te&&Te.naturalWidth&&Te.naturalHeight){const je=Te.getBoundingClientRect(),Ze=je.width||Te.clientWidth||0,qe=je.height||Te.clientHeight||0,Kt=Te.naturalWidth,An=Te.naturalHeight,$i=Kt/Math.max(1,Ze),Qs=An/Math.max(1,qe),zi=Math.min($i,Qs),Zt=Math.min(4,Math.max(2,zi)),ja=zi>0?Zt/zi:2;ce({w:Math.round(Kt*ja),h:Math.round(An*ja)}),ee.current=je}else ce({w:1e3,h:1e3}),ee.current=te.current?te.current.getBoundingClientRect():null;Le.current={x:50,y:50},W(!0),requestAnimationFrame(()=>{const je=Ce.current;je&&(je.style.backgroundPosition="50% 50%")})},Gs=G=>{if(!yt||typeof window<"u"&&window.innerWidth<1280)return;const me=ee.current||ye.current&&ye.current.getBoundingClientRect()||te.current&&te.current.getBoundingClientRect();if(!me)return;const Te=Math.max(0,Math.min(100,(G.clientX-me.left)/me.width*100)),je=Math.max(0,Math.min(100,(G.clientY-me.top)/me.height*100));Le.current={x:Te,y:je},Me.current||(Me.current=!0,requestAnimationFrame(()=>{Me.current=!1;const Ze=Ce.current;Ze&&(Ze.style.backgroundPosition=`${Le.current.x}% ${Le.current.y}%`)}))},Or=()=>{W(!1),ee.current=null},Il=G=>{window.innerWidth>=1280||(Pt.current=G.touches[0].clientX,Ee.current=0)},dr=G=>{if(window.innerWidth>=1280||Pt.current===0)return;const me=G.touches[0].clientX-Pt.current;Ee.current=me},Io=G=>{if(window.innerWidth>=1280)return;Math.abs(Ee.current)>50&&(Ee.current>0&&v>0?w(v-1):Ee.current<0&&v<Tt.length-1&&w(v+1)),Pt.current=0,Ee.current=0},Ks=(G,me)=>Math.sqrt(Math.pow(me.clientX-G.clientX,2)+Math.pow(me.clientY-G.clientY,2)),Pl=G=>{if(G.touches.length===2){const me=Ks(G.touches[0],G.touches[1]);ft(me),it(Q)}else G.touches.length===1&&(Pt.current=G.touches[0].clientX,Ee.current=0)},Ca=G=>{if(G.touches.length===2){const Te=Ks(G.touches[0],G.touches[1])/tt,je=Math.min(Math.max(ct*Te,1),4);we(je)}else if(G.touches.length===1)if(Q>1){const me=G.touches[0].clientX-Pt.current,Te=G.touches[0].clientY-(Pt.current||0);Ue({x:me,y:Te})}else{const me=G.touches[0].clientX-Pt.current;Ee.current=me}},Aa=G=>{if(G.touches.length===0&&(Q<1.1&&(we(1),Ue({x:0,y:0})),Q===1)){const Te=De;Math.abs(Ee.current)>50&&(Ee.current>0&&he>0?z(he-1):Ee.current<0&&he<Te.length-1&&z(he+1)),Pt.current=0,Ee.current=0}},hs=G=>{if(G.touches.length===2){const me=Ks(G.touches[0],G.touches[1]);ft(me),it(Je)}else G.touches.length===1&&(Pt.current=G.touches[0].clientX,Ee.current=0)},Xs=G=>{if(G.touches.length===2){const Te=Ks(G.touches[0],G.touches[1])/tt,je=Math.min(Math.max(ct*Te,1),4);St(je)}else if(G.touches.length===1)if(Je>1){const me=G.touches[0].clientX-Pt.current,Te=G.touches[0].clientY-(Pt.current||0);_t({x:me,y:Te})}else{const me=G.touches[0].clientX-Pt.current;Ee.current=me}},au=G=>{G.touches.length===0&&(Je<1.1&&(St(1),_t({x:0,y:0})),Je===1&&(Math.abs(Ee.current)>50&&(Ee.current>0&&v>0?w(v-1):Ee.current<0&&v<ds.length-1&&w(v+1)),Pt.current=0,Ee.current=0))},Ei=(G,me=0)=>{oe(G),z(Math.max(0,me||0)),Ke(!0)},Lr=()=>Ke(!1);return o.jsxs(o.Fragment,{children:[o.jsxs("main",{className:"vp-main min-h-screen bg-white px-4 sm:px-6 pb-16 text-gray-800 flex flex-col items-stretch overflow-visible",children:[o.jsx("div",{className:"hidden xl:flex w-full mb-3",children:o.jsx("button",{type:"button",className:"vp-back-top-btn",onClick:sn,"aria-label":"Volver",children:o.jsx(fk,{size:16})})}),o.jsxs("section",{className:"w-full xl:grid xl:grid-cols-12 xl:gap-6 flex flex-col gap-8 overflow-visible",children:[Al&&o.jsxs(ae.div,{className:"relative flex flex-col items-start w-full xl:col-span-6 overflow-visible",children:[De.length>0&&o.jsxs("div",{className:"amazon-gallery-layout flex",children:[o.jsxs("div",{className:"relative",children:[De.length>4&&o.jsx("button",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 z-10 w-8 h-8 bg-white hover:bg-gray-50 border border-gray-300 hover:border-gray-400 rounded-full flex items-center justify-center transition-all duration-200 shadow-md hover:shadow-lg",onClick:()=>{const G=document.querySelector(".amazon-thumbs-sidebar");G&&G.scrollBy({top:-80,behavior:"smooth"})},children:o.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 15l7-7 7 7"})})}),o.jsx("div",{className:`amazon-thumbs-sidebar ${De.length>4?"has-overflow":""}`,style:{paddingTop:De.length>4?"28px":"0",paddingBottom:De.length>4?"28px":"0"},onMouseLeave:()=>B(null),children:De.map((G,me)=>o.jsx("button",{type:"button",className:`amazon-thumb ${me===ht?"active":""}`,onClick:()=>{b(me);const Te=Ze=>Ze?String(Ze).split("?")[0].split("#")[0].trim().toLowerCase():"",je=Tt.findIndex(Ze=>Te(Ze)===Te(G.url));je>=0&&w(je)},onMouseEnter:()=>B(me),onFocus:()=>B(me),onMouseLeave:()=>B(null),"aria-label":`Miniatura ${me+1}`,children:G.type==="video"?o.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[o.jsx("video",{src:G.url,preload:"metadata",muted:!0,className:"w-full h-full object-contain"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-white/95 rounded-full p-2 shadow",children:o.jsx("svg",{className:"w-5 h-5 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):o.jsx("img",{src:G.url,alt:`Miniatura ${me+1}`,className:"w-full h-full object-contain",loading:"lazy",onError:Te=>{Te.currentTarget.onerror=null,Te.currentTarget.src="/Productos/N.jpg"}})},`thumb-${me}`))}),De.length>4&&o.jsx("button",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 z-10 w-8 h-8 bg-white hover:bg-gray-50 border border-gray-300 hover:border-gray-400 rounded-full flex items-center justify-center transition-all duration-200 shadow-md hover:shadow-lg",onClick:()=>{const G=document.querySelector(".amazon-thumbs-sidebar");G&&G.scrollBy({top:80,behavior:"smooth"})},children:o.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})})]}),o.jsxs("div",{className:"amazon-main-image-container",children:[o.jsx("button",{className:"vp-back-fab xl:hidden",onClick:sn,"aria-label":"Volver",type:"button",children:o.jsx(fk,{size:18})}),o.jsx("div",{ref:G=>{te.current=G,jt.current=G},className:`amazon-main-image-wrap ${yt?"zooming":""}`,onMouseEnter:jl,onMouseMove:Gs,onMouseLeave:Or,onClick:()=>{const G=De[nt];if((G==null?void 0:G.type)==="video"){const me=(galleryVideosList||[]).findIndex(Te=>Te===G.url);Ei("videos",Math.max(0,me))}else Ei("images",nt)},onTouchStart:Il,onTouchMove:dr,onTouchEnd:Io,role:"button","aria-label":"Ver imagen en pantalla completa",tabIndex:0,children:(()=>{const G=De[nt];return G?G.type==="video"?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-white",children:[o.jsx("video",{src:G.url,preload:"metadata",playsInline:!0,muted:!0,className:"w-full h-full object-contain"},`main-vid-${nt}`),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-white/95 rounded-full p-4 shadow",children:o.jsx("svg",{className:"w-7 h-7 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):o.jsx("img",{ref:ye,src:G.url,alt:Y.nombre,className:"w-full h-full object-contain transition-opacity duration-300",draggable:!1,onLoad:()=>{setTimeout(()=>{const me=jt.current,Te=document.querySelector(".amazon-thumbs-sidebar");if(me&&Te){const je=me.offsetHeight;Te.style.height=`${je}px`,Te.style.maxHeight=`${je}px`}},50)},onError:me=>{me.currentTarget.onerror=null,me.currentTarget.src="/Productos/N.jpg"}},`main-img-${ht}`):null})()}),o.jsx("div",{ref:Ce,className:"vp-zoom-float vp-zoom-stage",style:{display:yt?"block":"none",backgroundImage:H?`url(${H})`:"none",backgroundRepeat:"no-repeat",backgroundSize:`${ie.w}px ${ie.h}px`,backgroundPosition:`${Le.current.x}% ${Le.current.y}%`}})]})]}),De.length>1&&o.jsx("div",{className:"xl:hidden w-full mt-3",children:o.jsx("div",{className:"mobile-tablet-thumbs flex gap-3 overflow-x-auto pb-2",children:De.map((G,me)=>o.jsx("button",{type:"button",className:`mt-thumb ${me===ht?"active":""}`,onClick:()=>b(me),"aria-label":`Vista ${me+1}`,children:G.type==="video"?o.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[o.jsx("video",{src:G.url,preload:"metadata",muted:!0,className:"w-full h-full object-contain"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-white/95 rounded-full p-2 shadow",children:o.jsx("svg",{className:"w-5 h-5 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):o.jsx("img",{src:G.url,alt:`Miniatura ${me+1}`,className:"w-full h-full object-contain",loading:"lazy",onError:Te=>{Te.currentTarget.onerror=null,Te.currentTarget.src="/Productos/N.jpg"}})},`mt-thumb-${me}`))})})]}),o.jsxs(ae.div,{className:"flex flex-col gap-4 sm:gap-5 w-full xl:col-span-4 overflow-visible",children:[o.jsx("h1",{className:"vp-title",children:Y.nombre}),o.jsx("div",{className:"vp-desc prose max-w-none",dangerouslySetInnerHTML:{__html:mB(Y.descripcion||"<p>Contáctanos para más detalles.</p>")}}),o.jsxs("p",{className:"vp-price",children:["DOP ",zk(ci)]}),o.jsxs("div",{className:`vp-variants mt-6 ${!Se||Se.length<=1?"hidden":""}`,children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Variantes disponibles:"}),o.jsx(C4,{variants:Se?Se.map((G,me)=>{var Te,je;return{id:G.id||`var_${me}`,name:G.color||`Variante ${me+1}`,price:G.precio,stock:G.cantidad||0,image:((je=(Te=G.imagenPrincipal)==null?void 0:Te[0])==null?void 0:je.url)||G.imagen,isSelected:M===me}}):[],productMainImage:Cn(),onVariantChange:Ht,className:"w-full"}),o.jsx("div",{className:"flex flex-wrap gap-3 hidden",children:Se.map((G,me)=>{var An,$i,Qs,zi;const Te=Zt=>{try{return Zt?typeof Zt=="string"?Zt:typeof Zt=="object"&&Zt!==null?Zt.url||"":String(Zt||""):""}catch{return""}},Ze=((An=(Array.isArray(G==null?void 0:G.media)&&G.media.length>0?G.media:[]).find(Zt=>(Zt==null?void 0:Zt.type)==="image"&&(Zt==null?void 0:Zt.url)))==null?void 0:An.url)||Te(($i=G==null?void 0:G.imagenPrincipal)==null?void 0:$i[0])||(G==null?void 0:G.imagen)||Array.isArray(G==null?void 0:G.imagenes)&&G.imagenes[0]||Array.isArray(Y==null?void 0:Y.media)&&((Qs=Y.media.find(Zt=>(Zt==null?void 0:Zt.type)==="image"))==null?void 0:Qs.url)||Te((zi=Y==null?void 0:Y.imagenPrincipal)==null?void 0:zi[0])||(Y==null?void 0:Y.imagen)||Array.isArray(Y==null?void 0:Y.imagenes)&&Y.imagenes[0]||null,qe=G.cantidad>0,Kt=M===me;return o.jsxs("button",{className:`relative flex items-center gap-3 p-2 rounded-lg border-2 transition-all ${Kt?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${qe?"":"opacity-70"}`,onClick:()=>O(me),"aria-label":`Seleccionar variante ${G.color}${qe?"":" (Agotado)"}`,disabled:!qe&&!Kt,children:[o.jsxs("div",{className:"relative w-12 h-12 rounded-md overflow-hidden flex-shrink-0",children:[Ze?o.jsx("img",{src:Ze,alt:`${G.color}`,className:"w-full h-full object-contain",onError:Zt=>{Zt.target.onerror=null,Zt.target.src="https://via.placeholder.com/50?text=No+imagen"}}):o.jsx("div",{className:"w-full h-full",style:{backgroundColor:G.colorHex||"#ccc"}}),!qe&&o.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center",children:o.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Agotado"})})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("span",{className:"block font-medium text-gray-900",children:G.color}),G.cantidad!==void 0&&o.jsx("span",{className:`text-xs ${G.cantidad>0?"text-green-600":"text-blue-600"}`,children:G.cantidad>0?`${G.cantidad} disponible${G.cantidad!==1?"s":""}`:"Agotado"})]}),Kt&&o.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center shadow-sm",children:o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},`${G.color}-${me}`)})})]}),Y.sellerId&&o.jsx("div",{className:"vp-seller-info",children:o.jsxs("div",{className:"seller-content",children:[o.jsx("span",{className:"seller-label",children:"Vendido por:"}),o.jsx("button",{className:"seller-name",onClick:()=>f(`/tienda/${Y.sellerId}`),children:Y.sellerName||"Ver Tienda"})]})}),o.jsxs("div",{className:"xl:hidden flex flex-col gap-3 overflow-visible",children:[o.jsx("div",{className:`vp-stock ${ur===0?"vp-stock-out":ur<=2?"vp-stock-low":"vp-stock-ok"}`,children:ur===0?"No disponible":Number.isFinite(ur)?`Quedan ${ur} disponibles`:"Disponible"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 overflow-visible",children:[nr?o.jsxs("div",{className:"vp-qty-row w-full sm:w-1/2",children:[o.jsx("button",{onClick:Wr,className:"vp-qty-btn",children:"−"}),o.jsx("span",{className:"vp-qty",children:li}),o.jsx("button",{onClick:Ao,className:"vp-qty-btn",disabled:li>=wn,title:li>=wn?"Has alcanzado el máximo disponible":"Agregar una unidad",children:"+"}),o.jsx("button",{onClick:ls,className:"vp-remove",children:o.jsx(pk,{})})]}):o.jsx("button",{className:`button w-full sm:w-1/2 ${_i?"":"opacity-60 cursor-not-allowed"}`,onClick:Ui,disabled:!_i,title:_i?"Agregar al carrito":"No disponible",children:"Agregar al carrito"}),o.jsx("div",{className:"w-full sm:w-1/2",onClick:()=>Bk("single",jo,ci),children:o.jsx(xv,{className:"w-full",total:ci*100,label:"Comprar ahora"})})]})]}),Array.isArray(Y.acerca)&&Y.acerca.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"vp-subtitle",children:"Acerca de este artículo"}),o.jsx("ul",{className:"vp-bullets",children:Y.acerca.map((G,me)=>o.jsx("li",{children:G},me))})]})]}),o.jsx("aside",{className:"vp-buy-card w-full xl:col-span-2 hidden xl:block",children:o.jsxs("div",{className:"vp-buy-inner",children:[o.jsxs("div",{className:"vp-buy-price",children:["DOP ",zk(ci)]}),o.jsx("div",{className:`vp-stock ${ur===0?"vp-stock-out":ur<=2?"vp-stock-low":"vp-stock-ok"}`,children:ur===0?"No disponible":Number.isFinite(ur)?`Quedan ${ur} disponibles`:"Disponible"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[nr?o.jsxs("div",{className:"vp-qty-row",children:[o.jsx("button",{onClick:Wr,className:"vp-qty-btn",children:"−"}),o.jsx("span",{className:"vp-qty",children:li}),o.jsx("button",{onClick:Ao,className:"vp-qty-btn",disabled:li>=wn,title:li>=wn?"Has alcanzado el máximo disponible":"Agregar una unidad",children:"+"}),o.jsx("button",{onClick:ls,className:"vp-remove",children:o.jsx(pk,{})})]}):o.jsx("button",{className:`button w-full ${_i?"":"opacity-60 cursor-not-allowed"}`,onClick:Ui,disabled:!_i,title:_i?"Agregar al carrito":"No disponible",children:"Agregar al carrito"}),o.jsx("div",{onClick:()=>Bk("single",jo,ci),children:o.jsx(xv,{className:"w-full",total:ci*100,label:"Comprar ahora"})})]})]})})]}),Y&&o.jsx("section",{className:"w-full mt-8 px-4 sm:px-6 xl:px-6",children:o.jsx(pB,{productoActual:Y})}),(()=>{const G=Xe();return!G||G.length===0?null:o.jsxs("section",{className:"w-full mt-12 mb-8 px-4 sm:px-6",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 text-center",children:"Más información del producto"}),o.jsx("div",{className:"max-w-[1500px] mx-auto space-y-4",children:G.map((me,Te)=>o.jsxs("div",{className:"relative w-full cursor-pointer group",onClick:()=>{Pe(Te),re(!0)},children:[o.jsx("img",{src:me,alt:`${Y.nombre} - Información ${Te+1}`,className:"w-full h-auto object-contain bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300",style:{maxWidth:"1500px",margin:"0 auto",display:"block"},onError:je=>{je.currentTarget.onerror=null,je.currentTarget.src="/Productos/N.jpg"}}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-300 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white/90 rounded-full p-3 shadow-lg",children:o.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]},`product-info-${Te}`))})]})})()]}),ot&&(()=>{const G=pe(),me=G.length>0,Te=le==="videos"?G.map(Ze=>({type:"video",url:Ze})):De,je=Math.min(he,Math.max(0,Te.length-1));return o.jsxs("div",{className:`fixed inset-0 z-[9999] flex flex-col ${u?"bg-gray-900":"bg-white"}`,children:[o.jsxs("div",{className:`border-b px-4 py-3 flex items-center justify-between ${u?"border-gray-700 bg-gray-800":"border-[#DDD] bg-white"}`,children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium transition-all rounded-t ${le==="images"?u?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-[#007185] border-b-2 border-[#007185] bg-gray-50":u?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>{oe("images"),z(0),we(1),Ue({x:0,y:0})},children:"IMÁGENES"}),me&&o.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium transition-all rounded-t ${le==="videos"?u?"text-blue-400 border-b-2 border-blue-400 bg-gray-700":"text-[#007185] border-b-2 border-[#007185] bg-gray-50":u?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>{oe("videos"),z(0),we(1),Ue({x:0,y:0})},children:"VIDEOS"})]}),o.jsx("button",{type:"button",className:`transition-colors ${u?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,"aria-label":"Cerrar",onClick:Lr,children:o.jsx(q0,{className:"text-2xl"})})]}),o.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[o.jsx("div",{className:`hidden md:block w-64 lg:w-80 border-r overflow-y-auto p-4 ${u?"border-gray-700 bg-gray-800":"border-[#DDD] bg-gray-50"}`,onClick:Ze=>Ze.stopPropagation(),children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:`text-sm font-semibold mb-4 uppercase ${u?"text-gray-200":"text-gray-700"}`,children:le==="videos"?"Videos":"Imágenes"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:Te.map((Ze,qe)=>o.jsx("button",{type:"button",className:`w-full aspect-square overflow-hidden rounded border-2 transition-all ${qe===je?"":"border-gray-300 hover:border-gray-400"}`,style:qe===je?{borderColor:"#0064D2"}:void 0,onClick:Kt=>{Kt.stopPropagation(),z(qe),we(1),Ue({x:0,y:0})},"aria-label":`Vista ${qe+1}`,children:le==="videos"?o.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[o.jsx("video",{src:Ze.url,className:"w-full h-full object-contain",muted:!0}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-white/90 rounded-full p-2",children:o.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):o.jsx("img",{src:Ze.url,alt:`Miniatura ${qe+1}`,className:"w-full h-full object-contain bg-white p-1"})},`desktop-thumb-${qe}`))})]})}),o.jsxs("div",{className:`flex-1 flex items-center justify-center p-4 md:p-8 relative ${u?"bg-gray-900":"bg-white"}`,onClick:Ze=>Ze.stopPropagation(),onTouchStart:le==="images"?Pl:void 0,onTouchMove:le==="images"?Ca:void 0,onTouchEnd:le==="images"?Aa:void 0,children:[o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center max-w-[1500px]",children:[Te.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 text-gray-700 hover:text-gray-900 transition-all hidden xl:flex items-center justify-center","aria-label":"Anterior",onClick:Ze=>{Ze.stopPropagation(),z(qe=>(qe-1+Te.length)%Te.length)},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 text-gray-700 hover:text-gray-900 transition-all hidden xl:flex items-center justify-center","aria-label":"Siguiente",onClick:Ze=>{Ze.stopPropagation(),z(qe=>(qe+1)%Te.length)},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.jsx("div",{className:"w-full h-full flex items-center justify-center px-2 md:px-4",children:(()=>{const Ze=Te[je];return Ze?le==="videos"?o.jsx("video",{src:Ze.url,controls:!0,className:"w-full h-full object-contain",style:{maxWidth:"min(100vw - 2rem, 1500px)",maxHeight:"min(90vh, 100%)"},onError:qe=>{console.error("Error loading video:",Ze.url)}},`video-${je}`):o.jsx("img",{src:Ze.url,alt:`${(Y==null?void 0:Y.nombre)||"Imagen"}`,className:"w-full h-full object-contain select-none",style:{maxWidth:"min(100vw - 2rem, 1500px)",maxHeight:"min(90vh, 100%)",transform:`scale(${Q}) translate(${Be.x}px, ${Be.y}px)`,transition:Q===1?"transform 0.3s ease":"none",cursor:Q>1?"grab":"zoom-in"},draggable:!1,onDoubleClick:()=>{Q===1?we(2):(we(1),Ue({x:0,y:0}))}}):null})()})]}),o.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 xl:hidden flex flex-col items-center gap-2",children:[o.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium shadow-lg ${u?"bg-gray-800 text-white":"bg-white/95 text-gray-900"}`,children:[je+1," / ",Te.length]}),Te.length>1&&o.jsxs("div",{className:`text-xs px-3 py-1 rounded-full flex items-center gap-1 ${u?"bg-gray-800/90 text-gray-300":"bg-white/90 text-gray-600"}`,children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),o.jsx("span",{children:"Desliza"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),o.jsx("div",{className:`md:hidden border-t p-4 overflow-x-auto ${u?"border-gray-700 bg-gray-800":"border-[#DDD] bg-gray-50"}`,onClick:Ze=>Ze.stopPropagation(),children:o.jsx("div",{className:"flex gap-3 min-w-min",children:Te.map((Ze,qe)=>o.jsx("button",{type:"button",className:`flex-shrink-0 w-20 h-20 overflow-hidden rounded border-2 transition-all ${qe===je?"":"border-gray-300 hover:border-gray-400"}`,style:qe===je?{borderColor:"#0064D2"}:void 0,onClick:Kt=>{Kt.stopPropagation(),z(qe),we(1),Ue({x:0,y:0})},"aria-label":`Vista ${qe+1}`,children:le==="videos"?o.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[o.jsx("video",{src:Ze.url,className:"w-full h-full object-contain",muted:!0}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("div",{className:"bg-white/90 rounded-full p-1.5",children:o.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}):o.jsx("img",{src:Ze.url,alt:`Miniatura ${qe+1}`,className:"w-full h-full object-contain bg-white p-1"})},`mobile-thumb-${qe}`))})})]})]})})(),o.jsx(Im,{isOpen:g,onClose:()=>y(!1),onIniciarSesion:()=>{try{a()}catch{}}}),N&&o.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[9999] flex flex-col",onClick:Cl,children:[o.jsx("div",{className:"absolute top-4 right-4 z-20",children:o.jsx("button",{className:"bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors",onClick:Cl,"aria-label":"Cerrar",children:o.jsx(q0,{size:20})})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 relative overflow-hidden",onClick:G=>G.stopPropagation(),onTouchStart:hs,onTouchMove:Xs,onTouchEnd:au,children:o.jsx("img",{src:ds[v],alt:`${Y==null?void 0:Y.nombre}`,className:"max-w-full max-h-full object-contain select-none",style:{transform:`scale(${Je||1}) translate(${(At==null?void 0:At.x)||0}px, ${(At==null?void 0:At.y)||0}px)`,transition:(Je||1)===1?"transform 0.3s ease":"none"},draggable:!1,onDoubleClick:()=>{(Je||1)===1?St&&St(2):(St&&St(1),_t&&_t({x:0,y:0}))},onError:G=>{G.currentTarget.onerror=null,G.currentTarget.src="/Productos/N.jpg"}})}),ds.length>1&&o.jsx("div",{className:"p-4",onClick:G=>G.stopPropagation(),children:o.jsx("div",{className:"flex gap-3 justify-center overflow-x-auto pb-2 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:ds.map((G,me)=>o.jsx("button",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${me===v?"border-white border-opacity-100":"border-gray-600 border-opacity-50"}`,onClick:Te=>{Te.stopPropagation(),w(me),St&&St(1),_t&&_t({x:0,y:0})},"aria-label":`Miniatura ${me+1}`,children:o.jsx("img",{src:G,alt:`Miniatura ${me+1}`,className:"w-full h-full object-contain",loading:"lazy",onError:Te=>{Te.currentTarget.onerror=null,Te.currentTarget.src="/Productos/N.jpg"}})},me))})})]}),Rt&&(()=>{const G=Xe();if(!G||G.length===0)return null;const me=G[$e],Te=G.length>1;return o.jsxs("div",{className:`fixed inset-0 z-[9999] flex flex-col ${u?"bg-gray-900":"bg-white"}`,children:[o.jsxs("div",{className:`border-b px-4 py-3 flex items-center justify-between ${u?"border-gray-700 bg-gray-800":"border-[#DDD] bg-white"}`,children:[o.jsxs("h2",{className:`text-lg font-semibold ${u?"text-white":"text-gray-900"}`,children:["Información del producto (",$e+1," /"," ",G.length,")"]}),o.jsx("button",{type:"button",className:`transition-colors ${u?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,"aria-label":"Cerrar",onClick:()=>re(!1),children:o.jsx(q0,{className:"text-2xl"})})]}),o.jsx("div",{className:`flex-1 flex items-center justify-center p-4 md:p-8 relative overflow-auto ${u?"bg-gray-900":"bg-white"}`,children:o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center max-w-[1500px]",children:[Te&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 text-gray-700 hover:text-gray-900 transition-all hidden xl:flex items-center justify-center","aria-label":"Anterior",onClick:()=>{Pe(je=>(je-1+G.length)%G.length)},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-3 text-gray-700 hover:text-gray-900 transition-all hidden xl:flex items-center justify-center","aria-label":"Siguiente",onClick:()=>{Pe(je=>(je+1)%G.length)},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden px-2 md:px-4",children:o.jsx("img",{src:me,alt:`${Y==null?void 0:Y.nombre} - Información ${$e+1}`,className:"w-full h-full object-contain select-none",style:{maxWidth:"min(100vw - 2rem, 1500px)",maxHeight:"min(90vh, 100%)",transform:`scale(${de}) translate(${We.x}px, ${We.y}px)`,transition:de===1?"transform 0.3s ease":"none",cursor:de>1?"grab":"zoom-in"},draggable:!1,onDoubleClick:()=>{de===1?Qe(2):(Qe(1),Dt({x:0,y:0}))},onError:je=>{je.currentTarget.onerror=null,je.currentTarget.src="/Productos/N.jpg"}})})]})}),Te&&o.jsx("div",{className:`border-t p-4 overflow-x-auto ${u?"border-gray-700 bg-gray-800":"border-[#DDD] bg-gray-50"}`,children:o.jsx("div",{className:"flex gap-3 justify-center min-w-min",children:G.map((je,Ze)=>o.jsx("button",{type:"button",className:`flex-shrink-0 w-20 h-20 overflow-hidden rounded border-2 transition-all ${Ze===$e?"border-blue-500 ring-2 ring-blue-500/30":"border-gray-300 hover:border-blue-500/50"}`,onClick:()=>Pe(Ze),"aria-label":`Vista ${Ze+1}`,children:o.jsx("img",{src:je,alt:`Miniatura ${Ze+1}`,className:"w-full h-full object-contain bg-white p-1",onError:qe=>{qe.currentTarget.onerror=null,qe.currentTarget.src="/Productos/N.jpg"}})},`product-info-thumb-${Ze}`))})})]})})()]})}function yB(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function vB(t,e){if(!e)return bv(t);if(Array.isArray(e.variantes)&&t.colorSeleccionado){const n=e.variantes.find(r=>r.color===t.colorSeleccionado);if(n&&n.cantidad!==void 0)return Number(n.cantidad)||0}return e.cantidad!==void 0?Number(e.cantidad)||0:bv(t)}function bv(t){if(t.maxStock!==void 0&&t.maxStock!==null){const e=Number(t.maxStock);if(!Number.isNaN(e))return e}if(Array.isArray(t.variantes)&&t.colorSeleccionado){const e=t.variantes.find(n=>n.color===t.colorSeleccionado);if(e&&e.cantidad!==void 0)return Number(e.cantidad)||0}if(t.cantidadProducto!==void 0){const e=Number(t.cantidadProducto);if(!Number.isNaN(e))return e}return t.cantidad!==void 0&&t.cantidad,Number.POSITIVE_INFINITY}function xB(t,e){try{const n={mode:"cart",items:t,total:e,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(n))}catch{}}function bB(){const{carrito:t,agregarAlCarrito:e,eliminarUnidadDelCarrito:n,quitarDelCarrito:r}=Ud(),i=oi(),[a,c]=T.useState(null),[u,h]=T.useState({});T.useEffect(()=>{const y=[],v=new Set;return t.forEach(w=>{if(w!=null&&w.id&&!v.has(w.id)){v.add(w.id);const S=dt(Re,"productos",w.id),b=cr(S,N=>{N.exists()&&h(j=>({...j,[w.id]:N.data()}))});y.push(b)}}),()=>{y.forEach(w=>w&&w())}},[t]);const f=t.reduce((y,v)=>y+(Number(v.precio)||0)*v.cantidad,0),g=t.map(y=>({id:y.id,nombre:y.nombre,precio:Number(y.precio)||0,cantidad:y.cantidad}));return o.jsxs("main",{className:"carrito-page",style:{paddingTop:"var(--content-offset, 100px)"},children:[t.length===0?o.jsx("div",{className:"carrito-empty-wrap",children:o.jsxs("div",{className:"carrito-empty-box",children:[o.jsx("img",{src:"/toy/asoma.png",alt:"Explora nuestros productos",className:"carrito-empty-figure",loading:"lazy"}),o.jsxs("div",{className:"carrito-empty-glass",children:[o.jsx("div",{className:"carrito-empty-icon","aria-hidden":"true",children:"🛒"}),o.jsx("h2",{className:"carrito-empty-title",children:"No hay nada en el carrito"}),o.jsx("p",{className:"carrito-empty-sub",children:"Explora nuestros productos"}),o.jsx("button",{type:"button",className:"carrito-empty-cta",onClick:()=>i("/categorias"),children:"Ver productos"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"carrito-grid",children:t.map(y=>{const v=u[y.id];bv(y);const w=vB(y,v),S=Number.isFinite(w)?Math.max(0,w-(Number(y.cantidad)||0)):w,b=`${y.id}__${y.colorSeleccionado??""}`;return o.jsxs("div",{className:"carrito-card",onClick:()=>i(`/producto/${y.id}`),children:[(()=>{var K;const N=R=>{try{return R?typeof R=="string"?R:typeof R=="object"&&R!==null?R.url||"":String(R||""):""}catch{return""}},j=u[y.id]||y,M=()=>{var I;const R=Array.isArray(j.variantes)?j.variantes:[];for(const A of R){const k=N((I=A==null?void 0:A.imagenPrincipal)==null?void 0:I[0]);if(k)return k;if(A!=null&&A.imagen)return A.imagen;const F=(Array.isArray(A==null?void 0:A.media)?A.media:[]).find(D=>{const be=((D==null?void 0:D.type)||"").toLowerCase();return N(D)&&(!be||be.includes("image")||be==="img"||be==="photo")});if(F)return N(F)}return""},U=(Array.isArray(j.media)?j.media:[]).find(R=>{const I=((R==null?void 0:R.type)||"").toLowerCase();return N(R)&&(!I||I.includes("image")||I==="img"||I==="photo")}),B=N((K=j==null?void 0:j.imagenPrincipal)==null?void 0:K[0])||(j==null?void 0:j.imagen)||(U?N(U):"")||N(Array.isArray(j==null?void 0:j.galeriaImagenes)&&j.galeriaImagenes[0])||N(Array.isArray(j==null?void 0:j.imagenes)&&j.imagenes[0])||M()||"";return o.jsx("img",{src:B,alt:y.nombre,className:"carrito-img"})})(),o.jsxs("div",{className:"carrito-info",children:[o.jsx("h2",{className:"carrito-nombre",children:y.nombre}),o.jsx("p",{className:`carrito-stock ${S===0?"stock-out":Number.isFinite(S)&&S<=2?"stock-low":"stock-ok"}`,children:S===0?"No disponible":Number.isFinite(S)&&S<=2?`Casi agotado (${S})`:Number.isFinite(S)?`Disponible (${S})`:"Disponible"}),o.jsxs("div",{className:"carrito-actions",children:[o.jsx("button",{onClick:N=>{N.stopPropagation(),n(y.id,y.colorSeleccionado??null)},className:"vp-qty-btn",children:"−"}),o.jsx("span",{className:"vp-qty",children:y.cantidad}),o.jsx("button",{onClick:N=>{N.stopPropagation(),(!Number.isFinite(w)||y.cantidad<w)&&e(y,y.colorSeleccionado??null)},className:"vp-qty-btn",disabled:Number.isFinite(w)&&y.cantidad>=w,children:"+"}),o.jsx("button",{onClick:N=>{N.stopPropagation(),c(y)},className:"vp-remove",title:"Quitar",children:o.jsx(cv,{})})]})]}),o.jsxs("div",{className:"carrito-subtotal",children:["DOP"," ",yB((Number(y.precio)||0)*y.cantidad)]})]},b)})}),o.jsx("div",{className:"carrito-footer",children:o.jsx("div",{className:"carrito-pay-wrap",onClick:()=>xB(g,f),children:o.jsx(xv,{className:"carrito-cardnet-btn w-full",total:f*100})})})]}),a&&o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"modal",children:[o.jsx("h2",{children:"¿Eliminar producto?"}),o.jsxs("p",{children:["¿Seguro que quieres quitar"," ",o.jsx("strong",{children:a.nombre})," del carrito?"]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"btn-cancel",onClick:()=>c(null),children:"Cancelar"}),o.jsx("button",{className:"btn-confirm",onClick:()=>{r(a.id,a.colorSeleccionado??null),c(null)},children:"Sí, eliminar"})]})]})})]})}function O4(){return o.jsx("div",{className:"waves-container"})}function wB(){return o.jsxs("div",{className:"relative min-h-screen flex flex-col items-center px-4 sm:px-8 pb-20 font-sans text-gray-800 dark:text-gray-100 bg-gradient-to-b from-blue-50 via-blue-50 to-blue-100 dark:from-blue-950 dark:via-blue-950 dark:to-blue-900 overflow-hidden",style:{paddingTop:"calc(var(--content-offset, 100px) + 48px)"},children:[o.jsx(O4,{}),o.jsx("h1",{className:"text-2xl sm:text-5xl font-extrabold mb-4 text-center text-gray-800 dark:text-gray-100 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"CONTÁCTANOS"}),o.jsx("h2",{className:"text-lg sm:text-2xl font-semibold mb-10 text-center text-gray-600 dark:text-gray-300 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),o.jsxs("div",{className:"w-full max-w-3xl flex flex-col items-center z-10",style:{position:"relative"},children:[o.jsx("img",{src:"/toy/asoma.png",alt:"Muñeco asomándose",className:"pointer-events-none select-none absolute hidden sm:block",style:{top:"-118px",right:"0px",width:"min(220px, 40vw)",height:"auto",zIndex:50,filter:"drop-shadow(0 10px 20px rgba(2, 6, 23, 0.15))",pointerEvents:"none"}}),o.jsxs("div",{className:"relative w-full flex flex-col items-center gap-4 sm:gap-6 text-sm sm:text-lg px-4 py-4 sm:px-8 sm:py-6",style:{background:"rgba(239, 246, 255, 0.35)",borderRadius:"1rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(59, 130, 246, 0.25)",paddingTop:"1.5rem"},children:[o.jsx(jf,{icon:o.jsx(ih,{className:"text-blue-500 dark:text-blue-400"}),label:"Dirección",text:"Av. Estrella Sadhalá #55, Santiago, República Dominicana"}),o.jsx(jf,{icon:o.jsx(Op,{className:"text-blue-500 dark:text-blue-400"}),label:"Teléfono Tienda",text:"+1 (849)-635-7000"}),o.jsx(jf,{icon:o.jsx(Op,{className:"text-blue-500 dark:text-blue-400"}),label:"Teléfono Internet",text:"+1 (809)-582-1212"}),o.jsx(jf,{icon:o.jsx(T1,{className:"text-blue-500 dark:text-blue-400"}),label:"Correo",text:"playcenter121@gmail.com"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center mt-4 w-full",children:[o.jsx(Hk,{href:"https://wa.me/18496357000",text:"WhatsApp Tienda"}),o.jsx(Hk,{href:"https://wa.me/18095821212",text:"WhatsApp Internet"})]})]})]})]})}const jf=({icon:t,label:e,text:n})=>o.jsxs("div",{className:"flex items-start gap-3 w-full z-10",children:[o.jsx("div",{className:"text-xl sm:text-2xl text-gray-400 dark:text-gray-300",children:t}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-sm sm:text-base text-gray-700 dark:text-gray-300",children:[e,":"]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base break-words",children:n})]})]}),Hk=({href:t,text:e})=>o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 sm:gap-3 px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-bold rounded-xl transition-transform z-10 w-full sm:w-auto",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",n.currentTarget.style.transform="scale(1.05)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",n.currentTarget.style.transform="scale(1)"},children:[o.jsx(Mp,{className:"text-lg sm:text-xl text-blue-500 dark:text-blue-400"}),e]});function _B(){return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",style:{paddingTop:"var(--content-offset, 100px)"},children:o.jsx("div",{className:"max-w-2xl w-full text-center",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 border-2 border-gray-100",children:[o.jsx("div",{className:"mb-6",children:o.jsx("svg",{className:"w-24 h-24 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-4",children:"Función No Disponible"}),o.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["La opción de ",o.jsx("strong",{children:"Vender"})," no está disponible en este momento."]}),o.jsx("p",{className:"text-md text-gray-500",children:"Por favor, vuelva más tarde. Estamos trabajando para habilitarla pronto."}),o.jsx("div",{className:"mt-10",children:o.jsx("a",{href:"/",className:"inline-block px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"Volver al Inicio"})})]})})})}function EB(){return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",style:{paddingTop:"var(--content-offset, 100px)"},children:o.jsx("div",{className:"max-w-2xl w-full text-center",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 border-2 border-gray-100",children:[o.jsx("div",{className:"mb-6",children:o.jsx("svg",{className:"w-24 h-24 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-4",children:"Función No Disponible"}),o.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["La opción de ",o.jsx("strong",{children:"Tiendas"})," no está disponible en este momento."]}),o.jsx("p",{className:"text-md text-gray-500",children:"Por favor, vuelva más tarde. Estamos trabajando para habilitarla pronto."}),o.jsx("div",{className:"mt-10",children:o.jsx("a",{href:"/",className:"inline-block px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"Volver al Inicio"})})]})})})}function kB(){return o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",style:{paddingTop:"var(--content-offset, 100px)"},children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-800 mb-6",children:"Historial"}),o.jsx("p",{className:"text-gray-600",children:"Aquí verás tu historial de navegación o compras próximamente."})]})}function SB(){return o.jsxs("div",{className:`relative min-h-screen flex flex-col items-center px-4 pb-20 font-sans text-gray-800 dark:text-gray-100
                 bg-gradient-to-b from-blue-50 via-blue-50 to-blue-100 dark:from-blue-950 dark:via-blue-950 dark:to-blue-900 overflow-hidden`,style:{paddingTop:"calc(var(--content-offset, 100px) + 48px)"},children:[o.jsx(O4,{}),o.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-center text-gray-800 dark:text-gray-100 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"NOSOTROS"}),o.jsx("h2",{className:"text-2xl font-semibold mb-10 text-center text-gray-600 dark:text-gray-300 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),o.jsxs("div",{className:"w-full max-w-3xl flex flex-col items-center z-10",style:{position:"relative"},children:[o.jsx("img",{src:"/toy/asoma.png",alt:"Muñeco asomándose",className:"pointer-events-none select-none absolute hidden sm:block",style:{top:"-118px",right:"0px",width:"min(220px, 40vw)",height:"auto",zIndex:50,filter:"drop-shadow(0 10px 20px rgba(2, 6, 23, 0.15))",pointerEvents:"none"}}),o.jsxs("div",{className:"relative w-full flex flex-col items-center gap-6 text-lg",style:{background:"rgba(239, 246, 255, 0.35)",borderRadius:"1rem",padding:"1.8rem",paddingTop:"2.6rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(59, 130, 246, 0.25)",overflow:"visible"},children:[o.jsx(ty,{icon:o.jsx(lU,{className:"text-blue-500 dark:text-blue-400"}),label:"Quiénes somos",text:"Somos una empresa dominicana ubicada en Santiago, especializada en brindar lo último en tecnología, innovación y productos para el estilo de vida moderno."}),o.jsx(ty,{icon:o.jsx(pU,{className:"text-blue-500 dark:text-blue-400"}),label:"Nuestra misión",text:"Superar las expectativas de nuestros clientes ofreciendo artículos de calidad como consolas, videojuegos, tablets, móviles, accesorios y más, con un servicio humano, eficiente y profesional."}),o.jsx(ty,{icon:o.jsx(ih,{className:"text-blue-500 dark:text-blue-400"}),label:"Nuestro compromiso",text:"PlayCenter Universal no solo vende productos, crea experiencias memorables con cada compra. ¡Gracias por confiar en nosotros!"}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs(Nt,{to:"/contacto",className:`flex items-center gap-3 px-6 py-3 text-base font-bold
                         rounded-xl transition-transform z-10 animate-fade-in`,style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",t.currentTarget.style.transform="scale(1.05)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",t.currentTarget.style.transform="scale(1)"},children:[o.jsx(ov,{className:"text-xl text-blue-500 dark:text-blue-400"}),"Contáctanos"]})})]})]})]})}const ty=({icon:t,label:e,text:n})=>o.jsxs("div",{className:"flex items-start gap-4 w-full z-10",children:[o.jsx("div",{className:"text-2xl text-gray-400 dark:text-gray-300",children:t}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[e,":"]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 break-words",children:n})]})]});function TB(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function NB(t){const n=(Number(t)||0).toFixed(2),[r,i]=n.split("."),a=Number(r);return{wholeFormatted:TB(a),fraction:i}}function L4({producto:t}){const{carrito:e,agregarAlCarrito:n,eliminarUnidadDelCarrito:r,quitarDelCarrito:i}=Ud(),{usuario:a,usuarioInfo:c}=Hr(),{abrirModal:u}=Gc(),h=oi(),[f,g]=T.useState(!1),[y,v]=T.useState(!1);T.useEffect(()=>{v(!1)},[t==null?void 0:t.id,t==null?void 0:t.imagen,t==null?void 0:t.imagenPrincipal]);const S=!!(t!=null&&t.oferta&&(t!=null&&t.precioOferta))?Number(t==null?void 0:t.precioOferta)||Number(t==null?void 0:t.precio)||0:Number(t==null?void 0:t.precio)||0;NB(S);const N=(t==null?void 0:t.activo)!==!1&&(t.cantidad===void 0||t.cantidad>0),j=e.find(F=>F.id===t.id),M=(j==null?void 0:j.cantidad)||0,O=t.cantidad!==void 0?Number(t.cantidad)||0:1/0,U=F=>{if(F.stopPropagation(),!a){g(!0);return}if(!j){const D={...t,cantidad:1,cantidadProducto:Number.isFinite(O)?O:void 0};n(D)}},B=F=>{if(F.stopPropagation(),!a){g(!0);return}const D=Number.isFinite(O)?O:1/0;M<D&&n(t)},K=F=>{if(F.stopPropagation(),!a){g(!0);return}r(t.id)},R=F=>{if(F.stopPropagation(),!a){g(!0);return}i(t.id)},I=()=>{const F=t.slug||t.id;h(`/producto/${F}`)},A=F=>{try{return F?typeof F=="string"?F:typeof F=="object"&&F!==null?F.url||"":String(F||""):""}catch{return""}},L=(()=>{var Ge;const F=A((Ge=t==null?void 0:t.imagenPrincipal)==null?void 0:Ge[0]);if(F)return F;const D=A(t==null?void 0:t.imagen);if(D)return D;const be=Array.isArray(t==null?void 0:t.imagenes)?t.imagenes:[];return be.length>0?A(be[0]):null})();return o.jsxs(o.Fragment,{children:[o.jsxs("article",{className:"hidden lg:flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-xl hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200",style:{width:"250px",minWidth:"250px",maxWidth:"250px",flexShrink:0},children:[o.jsx("div",{onClick:I,className:"w-full h-[250px] flex items-center justify-center overflow-hidden mb-3 cursor-pointer",style:{backgroundColor:"transparent"},children:L?o.jsx("img",{src:L,alt:t.nombre,className:"w-full h-full object-contain",loading:"lazy"}):o.jsx("div",{className:"text-gray-400 text-sm",children:"Sin imagen"})}),o.jsx("h3",{onClick:I,className:"text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 mb-2 cursor-pointer",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:"1.4em",height:"2.8em",fontSize:"0.95rem"},children:t.nombre}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RD$"}),o.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:Number(t.precio).toFixed(2)})]}),j?o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("button",{onClick:K,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"−"}),o.jsx("span",{className:"font-semibold",children:M}),o.jsx("button",{onClick:B,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"+"}),o.jsx("button",{onClick:R,className:"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:o.jsx(cv,{})})]}):o.jsxs("button",{onClick:U,className:"w-full py-2 rounded text-sm font-medium transition-colors flex items-center justify-center gap-2",style:{backgroundColor:"#0066C0",color:"#FFFFFF",border:"1px solid #0066C0"},onMouseEnter:F=>F.currentTarget.style.backgroundColor="#004F9A",onMouseLeave:F=>F.currentTarget.style.backgroundColor="#0066C0",disabled:!N,children:[o.jsx(lv,{}),"Agregar al Carrito"]})]}),o.jsxs("article",{className:"flex lg:hidden flex-row bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:shadow-xl hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 w-full",children:[o.jsx("div",{onClick:I,className:"w-32 h-32 flex-shrink-0 flex items-center justify-center overflow-hidden mr-3 cursor-pointer",style:{backgroundColor:"transparent"},children:L?o.jsx("img",{src:L,alt:t.nombre,className:"w-full h-full object-contain",loading:"lazy"}):o.jsx("div",{className:"text-gray-400 text-xs",children:"Sin imagen"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{onClick:I,className:"text-gray-900 dark:text-gray-100 hover:text-orange-600 dark:hover:text-orange-400 mb-2 cursor-pointer text-sm font-medium",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:"1.3em"},children:t.nombre}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-2",children:[o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"RD$"}),o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:Number(t.precio).toFixed(2)})]})]}),j?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:K,className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:"−"}),o.jsx("span",{className:"text-sm font-semibold",children:M}),o.jsx("button",{onClick:B,className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:"+"}),o.jsx("button",{onClick:R,className:"px-2 py-1 bg-red-500 text-white rounded text-xs",children:o.jsx(cv,{size:10})})]}):o.jsxs("button",{onClick:U,className:"w-full py-1.5 rounded text-xs font-medium transition-colors flex items-center justify-center gap-1",style:{backgroundColor:"#0066C0",color:"#FFFFFF",border:"1px solid #0066C0"},onMouseEnter:F=>F.currentTarget.style.backgroundColor="#004F9A",onMouseLeave:F=>F.currentTarget.style.backgroundColor="#0066C0",disabled:!N,children:[o.jsx(lv,{size:12}),"Agregar al Carrito"]})]})]}),o.jsx(Im,{isOpen:f,onClose:()=>g(!1),onIniciarSesion:()=>{g(!1),u()}})]})}function V4(){return o.jsxs("div",{className:"wave-background",children:[o.jsx("div",{className:"wave wave1"}),o.jsx("div",{className:"wave wave2"}),o.jsx("div",{className:"wave wave3"})]})}const Wk={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.2)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 4px rgba(60, 80, 120, 0.4)"}},CB={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.4)","0 0 10px rgba(80, 100, 140, 0.6)","0 0 4px rgba(80, 100, 140, 0.4)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function Hp({categoriaActiva:t,mostrarEnMovil:e,setMostrarEnMovil:n}){const r=oi(),{categories:i,loading:a,error:c}=Hx(),u=g=>{r(`/Productos/${g.ruta}`),n&&n(!1)},h=g=>g===t,f=[{nombre:"Todos",ruta:"",id:"todos"},...i];return a?o.jsx("aside",{className:"hidden xl:flex flex-col w-56 px-2 relative z-40",children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})})}):c?o.jsx("aside",{className:"hidden xl:flex flex-col w-56 px-2 relative z-40",children:o.jsx("div",{className:"text-red-500 text-sm p-4",children:"Error cargando categorías"})}):o.jsxs(o.Fragment,{children:[o.jsxs("aside",{className:"hidden xl:flex flex-col w-56 px-2 relative z-40",style:{height:"100vh",paddingTop:0,backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Categorías",children:[o.jsx("div",{className:"absolute inset-0 z-0",style:{overflow:"visible",minHeight:"2000px",backgroundColor:"transparent",pointerEvents:"none"},children:o.jsx(V4,{})}),o.jsx("div",{className:"categorias-sidebar",children:o.jsx("div",{className:"categorias-scroll",children:o.jsxs("div",{className:"relative z-10 flex-1 pr-2",children:[o.jsx(ae.h2,{className:"text-lg font-semibold mb-4 text-center tracking-wide text-blue-700 dark:text-blue-400 select-none",variants:CB,animate:"animate",children:"Categorías"}),o.jsx("ul",{className:"space-y-2 text-sm",children:f.map((g,y)=>o.jsx(ae.li,{whileHover:{scale:1.02},children:o.jsx(ae.button,{onClick:()=>u(g),initial:"initial",whileHover:"hover",whileTap:"tap",variants:Wk,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${h(g.nombre)?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 font-semibold":"bg-transparent text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900"}`,style:{border:"none",boxShadow:"none"},children:g.nombre})},g.id||y))}),o.jsx("div",{className:"scroll-indicator",children:o.jsxs("div",{className:"scroll-dots",children:[o.jsx("div",{className:"scroll-dot"}),o.jsx("div",{className:"scroll-dot"}),o.jsx("div",{className:"scroll-dot"})]})})]})})})]}),o.jsx(fn,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ae.div,{className:"fixed inset-0 bg-gray-200 dark:bg-gray-900 bg-opacity-40 backdrop-blur-sm z-[9998]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1)}),o.jsxs(ae.nav,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",stiffness:250,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 border border-gray-300 dark:border-gray-700 z-[9999] flex flex-col shadow-md transition-colors duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300 dark:border-gray-700",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-400 tracking-wide select-none",children:"Categorías"}),o.jsx("button",{onClick:()=>n(!1),className:"text-red-500 font-bold text-2xl hover:text-red-700","aria-label":"Cerrar categorías",children:"✕"})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto px-4 py-2 scrollbar-light",children:o.jsx("ul",{className:"space-y-2 text-sm",children:f.map((g,y)=>o.jsx(ae.li,{whileHover:{scale:1.02},children:o.jsx(ae.button,{onClick:()=>u(g),initial:"initial",whileHover:"hover",whileTap:"tap",variants:Wk,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${h(g.nombre)?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 font-semibold":"bg-transparent text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900"}`,style:{border:"none",boxShadow:"none"},children:g.nombre})},g.id||y))})})]})]})})]})}function F4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=F4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Us(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=F4(t))&&(r&&(r+=" "),r+=e);return r}function U4(t,e,n=void 0){const r={};for(const i in t){const a=t[i];let c="",u=!0;for(let h=0;h<a.length;h+=1){const f=a[h];f&&(c+=(u===!0?"":" ")+e(f),u=!1,n&&n[f]&&(c+=" "+n[f]))}r[i]=c}return r}function xl(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function wc(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function A1(t,e=0,n=1){return wc(t,e,n)}function AB(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function wo(t){if(t.type)return t;if(t.charAt(0)==="#")return wo(AB(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(xl(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(xl(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const jB=t=>{const e=wo(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Qu=(t,e)=>{try{return jB(t)}catch{return t}};function Pm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $4(t){t=wo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),c=(f,g=(f+n/30)%12)=>i-a*Math.max(Math.min(g-3,9-g,1),-1);let u="rgb";const h=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(u+="a",h.push(e[3])),Pm({type:u,values:h})}function wv(t){t=wo(t);let e=t.type==="hsl"||t.type==="hsla"?wo($4(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IB(t,e){const n=wv(t),r=wv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function _v(t,e){return t=wo(t),e=A1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Pm(t)}function If(t,e,n){try{return _v(t,e)}catch{return t}}function Rd(t,e){if(t=wo(t),e=A1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Pm(t)}function nn(t,e,n){try{return Rd(t,e)}catch{return t}}function Dd(t,e){if(t=wo(t),e=A1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Pm(t)}function rn(t,e,n){try{return Dd(t,e)}catch{return t}}function PB(t,e=.15){return wv(t)>.5?Rd(t,e):Dd(t,e)}function Pf(t,e,n){try{return PB(t,e)}catch{return t}}const RB=T.createContext(),DB=()=>T.useContext(RB)??!1;function z4(...t){const e=T.useRef(void 0),n=T.useCallback(r=>{const i=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,u=c(r);return typeof u=="function"?u:()=>{c(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},t);return T.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function MB(t){return typeof t=="string"}function OB(t,e,n){return t===void 0||MB(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Zf(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function qk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function LB(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=t;if(!e){const w=Us(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),S={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return w.length>0&&(b.className=w),Object.keys(S).length>0&&(b.style=S),{props:b,internalRef:void 0}}const c=Zf({...i,...r}),u=qk(r),h=qk(i),f=e(c),g=Us(f==null?void 0:f.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),y={...f==null?void 0:f.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...f,...n,...h,...u};return g.length>0&&(v.className=g),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:f.ref}}function VB(t,e,n){return typeof t=="function"?t(e,n):t}function Xa(t){var y;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=t,c=i?{}:VB(n,r),{props:u,internalRef:h}=LB({...a,externalSlotProps:c}),f=z4(h,c==null?void 0:c.ref,(y=t.additionalProps)==null?void 0:y.ref);return OB(e,{...u,ref:f},r)}function ep(t){return t&&t.ownerDocument||document}function FB(t){const{controlled:e,default:n}=t,{current:r}=T.useRef(e!==void 0),[i,a]=T.useState(n),c=r?e:i,u=T.useCallback(h=>{r||a(h)},[]);return[c,u]}const B4=typeof window<"u"?T.useLayoutEffect:T.useEffect;function ny(t){const e=T.useRef(t);return B4(()=>{e.current=t}),T.useRef((...n)=>(0,e.current)(...n)).current}function Gk(t){try{return t.matches(":focus-visible")}catch{}return!1}const UB={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function $B(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const zB=2;function dc(t,e,n,r,i){return n===1?Math.min(t+e,i):Math.max(t-e,r)}function H4(t,e){return t-e}function Kk(t,e){const{index:n}=t.reduce((r,i,a)=>{const c=Math.abs(e-i);return r===null||c<r.distance||c===r.distance?{distance:c,index:a}:r},null)??{};return n}function Rf(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Wp(t,e,n){return(t-e)*100/(n-e)}function BB(t,e,n){return(n-e)*t+e}function HB(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function WB(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(HB(e)))}function Xk({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(H4)}function Df({sliderRef:t,activeIndex:e,setActive:n}){var i,a,c;const r=ep(t.current);(!((i=t.current)!=null&&i.contains(r.activeElement))||Number((a=r==null?void 0:r.activeElement)==null?void 0:a.getAttribute("data-index"))!==e)&&((c=t.current)==null||c.querySelector(`[type="range"][data-index="${e}"]`).focus()),n&&n(e)}function Mf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?$B(t,e):!1}const qB={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},GB=t=>t;let Of;function Qk(){return Of===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Of=CSS.supports("touch-action","none"):Of=!0),Of}function KB(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:a=!1,marks:c=!1,max:u=100,min:h=0,name:f,onChange:g,onChangeCommitted:y,orientation:v="horizontal",rootRef:w,scale:S=GB,step:b=1,shiftStep:N=10,tabIndex:j,value:M}=t,O=T.useRef(void 0),[U,B]=T.useState(-1),[K,R]=T.useState(-1),[I,A]=T.useState(!1),k=T.useRef(0),L=T.useRef(null),[F,D]=FB({controlled:M,default:n??h}),be=g&&((te,ye,Ce)=>{const ee=te.nativeEvent||te,Me=new ee.constructor(ee.type,ee);Object.defineProperty(Me,"target",{writable:!0,value:{value:ye,name:f}}),L.current=ye,g(Me,ye,Ce)}),Ge=Array.isArray(F);let ot=Ge?F.slice().sort(H4):[F];ot=ot.map(te=>te==null?h:wc(te,h,u));const Ke=c===!0&&b!==null?[...Array(Math.floor((u-h)/b)+1)].map((te,ye)=>({value:h+b*ye})):c||[],le=Ke.map(te=>te.value),[oe,he]=T.useState(-1),z=T.useRef(null),Q=z4(w,z),we=te=>ye=>{var ee;const Ce=Number(ye.currentTarget.getAttribute("data-index"));Gk(ye.target)&&he(Ce),R(Ce),(ee=te==null?void 0:te.onFocus)==null||ee.call(te,ye)},Be=te=>ye=>{var Ce;Gk(ye.target)||he(-1),R(-1),(Ce=te==null?void 0:te.onBlur)==null||Ce.call(te,ye)},Ue=(te,ye)=>{const Ce=Number(te.currentTarget.getAttribute("data-index")),ee=ot[Ce],Me=le.indexOf(ee);let Le=ye;if(Ke&&b==null){const yt=le[le.length-1];Le>=yt?Le=yt:Le<=le[0]?Le=le[0]:Le=Le<ee?le[Me-1]:le[Me+1]}if(Le=wc(Le,h,u),Ge){i&&(Le=wc(Le,ot[Ce-1]||-1/0,ot[Ce+1]||1/0));const yt=Le;Le=Xk({values:ot,newValue:Le,index:Ce});let W=Ce;i||(W=Le.indexOf(yt)),Df({sliderRef:z,activeIndex:W})}D(Le),he(Ce),be&&!Mf(Le,F)&&be(te,Le,Ce),y&&y(te,L.current??Le)},tt=te=>ye=>{var Ce;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ye.key)){ye.preventDefault();const ee=Number(ye.currentTarget.getAttribute("data-index")),Me=ot[ee];let Le=null;if(b!=null){const yt=ye.shiftKey?N:b;switch(ye.key){case"ArrowUp":Le=dc(Me,yt,1,h,u);break;case"ArrowRight":Le=dc(Me,yt,a?-1:1,h,u);break;case"ArrowDown":Le=dc(Me,yt,-1,h,u);break;case"ArrowLeft":Le=dc(Me,yt,a?1:-1,h,u);break;case"PageUp":Le=dc(Me,N,1,h,u);break;case"PageDown":Le=dc(Me,N,-1,h,u);break;case"Home":Le=h;break;case"End":Le=u;break}}else if(Ke){const yt=le[le.length-1],W=le.indexOf(Me),H=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ve=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];H.includes(ye.key)?W===0?Le=le[0]:Le=le[W-1]:ve.includes(ye.key)&&(W===le.length-1?Le=yt:Le=le[W+1])}Le!=null&&Ue(ye,Le)}(Ce=te==null?void 0:te.onKeyDown)==null||Ce.call(te,ye)};B4(()=>{var te;r&&z.current.contains(document.activeElement)&&((te=document.activeElement)==null||te.blur())},[r]),r&&U!==-1&&B(-1),r&&oe!==-1&&he(-1);const ft=te=>ye=>{var Ce;(Ce=te.onChange)==null||Ce.call(te,ye),Ue(ye,ye.target.valueAsNumber)},ct=T.useRef(void 0);let it=v;a&&v==="horizontal"&&(it+="-reverse");const Je=({finger:te,move:ye=!1})=>{const{current:Ce}=z,{width:ee,height:Me,bottom:Le,left:yt}=Ce.getBoundingClientRect();let W;it.startsWith("vertical")?W=(Le-te.y)/Me:W=(te.x-yt)/ee,it.includes("-reverse")&&(W=1-W);let H;if(H=BB(W,h,u),b)H=WB(H,b,h);else{const ie=Kk(le,H);H=le[ie]}H=wc(H,h,u);let ve=0;if(Ge){ye?ve=ct.current:ve=Kk(ot,H),i&&(H=wc(H,ot[ve-1]||-1/0,ot[ve+1]||1/0));const ie=H;H=Xk({values:ot,newValue:H,index:ve}),i&&ye||(ve=H.indexOf(ie),ct.current=ve)}return{newValue:H,activeIndex:ve}},St=ny(te=>{const ye=Rf(te,O);if(!ye)return;if(k.current+=1,te.type==="mousemove"&&te.buttons===0){At(te);return}const{newValue:Ce,activeIndex:ee}=Je({finger:ye,move:!0});Df({sliderRef:z,activeIndex:ee,setActive:B}),D(Ce),!I&&k.current>zB&&A(!0),be&&!Mf(Ce,F)&&be(te,Ce,ee)}),At=ny(te=>{const ye=Rf(te,O);if(A(!1),!ye)return;const{newValue:Ce}=Je({finger:ye,move:!0});B(-1),te.type==="touchend"&&R(-1),y&&y(te,L.current??Ce),O.current=void 0,Rt()}),_t=ny(te=>{if(r)return;Qk()||te.preventDefault();const ye=te.changedTouches[0];ye!=null&&(O.current=ye.identifier);const Ce=Rf(te,O);if(Ce!==!1){const{newValue:Me,activeIndex:Le}=Je({finger:Ce});Df({sliderRef:z,activeIndex:Le,setActive:B}),D(Me),be&&!Mf(Me,F)&&be(te,Me,Le)}k.current=0;const ee=ep(z.current);ee.addEventListener("touchmove",St,{passive:!0}),ee.addEventListener("touchend",At,{passive:!0})}),Rt=T.useCallback(()=>{const te=ep(z.current);te.removeEventListener("mousemove",St),te.removeEventListener("mouseup",At),te.removeEventListener("touchmove",St),te.removeEventListener("touchend",At)},[At,St]);T.useEffect(()=>{const{current:te}=z;return te.addEventListener("touchstart",_t,{passive:Qk()}),()=>{te.removeEventListener("touchstart",_t),Rt()}},[Rt,_t]),T.useEffect(()=>{r&&Rt()},[r,Rt]);const re=te=>ye=>{var Me;if((Me=te.onMouseDown)==null||Me.call(te,ye),r||ye.defaultPrevented||ye.button!==0)return;ye.preventDefault();const Ce=Rf(ye,O);if(Ce!==!1){const{newValue:Le,activeIndex:yt}=Je({finger:Ce});Df({sliderRef:z,activeIndex:yt,setActive:B}),D(Le),be&&!Mf(Le,F)&&be(ye,Le,yt)}k.current=0;const ee=ep(z.current);ee.addEventListener("mousemove",St,{passive:!0}),ee.addEventListener("mouseup",At)},$e=Wp(Ge?ot[0]:h,h,u),Pe=Wp(ot[ot.length-1],h,u)-$e,de=(te={})=>{const ye=Zf(te),Ce={onMouseDown:re(ye||{})},ee={...ye,...Ce};return{...te,ref:Q,...ee}},Qe=te=>ye=>{var ee;(ee=te.onMouseOver)==null||ee.call(te,ye);const Ce=Number(ye.currentTarget.getAttribute("data-index"));R(Ce)},We=te=>ye=>{var Ce;(Ce=te.onMouseLeave)==null||Ce.call(te,ye),R(-1)},Dt=(te={})=>{const ye=Zf(te),Ce={onMouseOver:Qe(ye||{}),onMouseLeave:We(ye||{})};return{...te,...ye,...Ce}},jt=te=>({pointerEvents:U!==-1&&U!==te?"none":void 0});let Pt;return v==="vertical"&&(Pt=a?"vertical-rl":"vertical-lr"),{active:U,axis:it,axisProps:qB,dragging:I,focusedThumbIndex:oe,getHiddenInputProps:(te={})=>{const ye=Zf(te),Ce={onChange:ft(ye||{}),onFocus:we(ye||{}),onBlur:Be(ye||{}),onKeyDown:tt(ye||{})},ee={...ye,...Ce};return{tabIndex:j,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(u),"aria-valuemin":S(h),name:f,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...te,...ee,style:{...UB,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:Pt}}},getRootProps:de,getThumbProps:Dt,marks:Ke,open:K,range:Ge,rootRef:Q,trackLeap:Pe,trackOffset:$e,values:ot,getThumbStyle:jt}}function tp(t){return typeof t=="string"}function xi(t){if(typeof t!="string")throw new Error(xl(7));return t.charAt(0).toUpperCase()+t.slice(1)}var ry={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function XB(){if(Yk)return en;Yk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case n:case i:case r:case h:case f:case v:return b;default:switch(b=b&&b.$$typeof,b){case c:case u:case y:case g:return b;case a:return b;default:return N}}case e:return N}}}return en.ContextConsumer=a,en.ContextProvider=c,en.Element=t,en.ForwardRef=u,en.Fragment=n,en.Lazy=y,en.Memo=g,en.Portal=e,en.Profiler=i,en.StrictMode=r,en.Suspense=h,en.SuspenseList=f,en.isContextConsumer=function(b){return S(b)===a},en.isContextProvider=function(b){return S(b)===c},en.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},en.isForwardRef=function(b){return S(b)===u},en.isFragment=function(b){return S(b)===n},en.isLazy=function(b){return S(b)===y},en.isMemo=function(b){return S(b)===g},en.isPortal=function(b){return S(b)===e},en.isProfiler=function(b){return S(b)===i},en.isStrictMode=function(b){return S(b)===r},en.isSuspense=function(b){return S(b)===h},en.isSuspenseList=function(b){return S(b)===f},en.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===h||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===g||b.$$typeof===c||b.$$typeof===a||b.$$typeof===u||b.$$typeof===w||b.getModuleId!==void 0)},en.typeOf=S,en}var Jk;function QB(){return Jk||(Jk=1,ry.exports=XB()),ry.exports}var W4=QB();function Cs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function q4(t){if(T.isValidElement(t)||W4.isValidElementType(t)||!Cs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=q4(t[n])}),e}function bi(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Cs(t)&&Cs(e)&&Object.keys(e).forEach(i=>{T.isValidElement(e[i])||W4.isValidElementType(e[i])?r[i]=e[i]:Cs(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Cs(t[i])?r[i]=bi(t[i],e[i],n):n.clone?r[i]=Cs(e[i])?q4(e[i]):e[i]:r[i]=e[i]}),r}function hd(t,e){return e?bi(t,e,{clone:!1}):t}function Zk(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var c,u;const a=/min-width:\s*([0-9.]+)/;return+(((c=r.match(a))==null?void 0:c[1])||0)-+(((u=i.match(a))==null?void 0:u[1])||0)});return n.length?n.reduce((r,i)=>{const a=e[i];return delete r[i],r[i]=a,r},{...e}):e}function YB(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function JB(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(a)}function ZB(t){const e=(a,c)=>a.replace("@media",c?`@container ${c}`:"@container");function n(a,c){a.up=(...u)=>e(t.breakpoints.up(...u),c),a.down=(...u)=>e(t.breakpoints.down(...u),c),a.between=(...u)=>e(t.breakpoints.between(...u),c),a.only=(...u)=>e(t.breakpoints.only(...u),c),a.not=(...u)=>{const h=e(t.breakpoints.not(...u),c);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},i=a=>(n(r,a),r);return n(i),{...t,containerQueries:i}}const Rm={xs:0,sm:600,md:900,lg:1200,xl:1536},eS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Rm[t]}px)`},eH={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Rm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ka(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||eS;return e.reduce((c,u,h)=>(c[a.up(a.keys[h])]=n(e[h]),c),{})}if(typeof e=="object"){const a=r.breakpoints||eS;return Object.keys(e).reduce((c,u)=>{if(YB(a.keys,u)){const h=JB(r.containerQueries?r:eH,u);h&&(c[h]=n(e[u],u))}else if(Object.keys(a.values||Rm).includes(u)){const h=a.up(u);c[h]=n(e[u],u)}else{const h=u;c[h]=e[h]}return c},{})}return n(e)}function tH(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const a=t.up(i);return r[a]={},r},{}))||{}}function tS(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Dm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function qp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Dm(t,n)||r,e&&(i=e(i,r,t)),i}function $n(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,a=c=>{if(c[e]==null)return null;const u=c[e],h=c.theme,f=Dm(h,r)||{};return ka(c,u,y=>{let v=qp(f,i,y);return y===v&&typeof y=="string"&&(v=qp(f,i,`${e}${y==="default"?"":xi(y)}`,y)),n===!1?v:{[n]:v}})};return a.propTypes={},a.filterProps=[e],a}function nH(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const rH={m:"margin",p:"padding"},iH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sH=nH(t=>{if(t.length>2)if(nS[t])t=nS[t];else return[t];const[e,n]=t.split(""),r=rH[e],i=iH[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),j1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],I1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...j1,...I1];function sh(t,e,n,r){const i=Dm(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const c=Math.abs(a),u=i[c];return a>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function P1(t){return sh(t,"spacing",8)}function ah(t,e){return typeof e=="string"||e==null?e:t(e)}function aH(t,e){return n=>t.reduce((r,i)=>(r[i]=ah(e,n),r),{})}function oH(t,e,n,r){if(!e.includes(n))return null;const i=sH(n),a=aH(i,r),c=t[n];return ka(t,c,a)}function G4(t,e){const n=P1(t.theme);return Object.keys(t).map(r=>oH(t,e,r,n)).reduce(hd,{})}function In(t){return G4(t,j1)}In.propTypes={};In.filterProps=j1;function Pn(t){return G4(t,I1)}Pn.propTypes={};Pn.filterProps=I1;function Mm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>e[a]?hd(i,e[a](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Di(t){return typeof t!="number"?t:`${t}px solid`}function Fi(t,e){return $n({prop:t,themeKey:"borders",transform:e})}const lH=Fi("border",Di),cH=Fi("borderTop",Di),uH=Fi("borderRight",Di),dH=Fi("borderBottom",Di),hH=Fi("borderLeft",Di),fH=Fi("borderColor"),pH=Fi("borderTopColor"),mH=Fi("borderRightColor"),gH=Fi("borderBottomColor"),yH=Fi("borderLeftColor"),vH=Fi("outline",Di),xH=Fi("outlineColor"),Om=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ah(e,r)});return ka(t,t.borderRadius,n)}return null};Om.propTypes={};Om.filterProps=["borderRadius"];Mm(lH,cH,uH,dH,hH,fH,pH,mH,gH,yH,Om,vH,xH);const Lm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sh(t.theme,"spacing",8),n=r=>({gap:ah(e,r)});return ka(t,t.gap,n)}return null};Lm.propTypes={};Lm.filterProps=["gap"];const Vm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({columnGap:ah(e,r)});return ka(t,t.columnGap,n)}return null};Vm.propTypes={};Vm.filterProps=["columnGap"];const Fm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sh(t.theme,"spacing",8),n=r=>({rowGap:ah(e,r)});return ka(t,t.rowGap,n)}return null};Fm.propTypes={};Fm.filterProps=["rowGap"];const bH=$n({prop:"gridColumn"}),wH=$n({prop:"gridRow"}),_H=$n({prop:"gridAutoFlow"}),EH=$n({prop:"gridAutoColumns"}),kH=$n({prop:"gridAutoRows"}),SH=$n({prop:"gridTemplateColumns"}),TH=$n({prop:"gridTemplateRows"}),NH=$n({prop:"gridTemplateAreas"}),CH=$n({prop:"gridArea"});Mm(Lm,Vm,Fm,bH,wH,_H,EH,kH,SH,TH,NH,CH);function Rc(t,e){return e==="grey"?e:t}const AH=$n({prop:"color",themeKey:"palette",transform:Rc}),jH=$n({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rc}),IH=$n({prop:"backgroundColor",themeKey:"palette",transform:Rc});Mm(AH,jH,IH);function gi(t){return t<=1&&t!==0?`${t*100}%`:t}const PH=$n({prop:"width",transform:gi}),R1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,a,c,u,h;const r=((c=(a=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:c[n])||Rm[n];return r?((h=(u=t.theme)==null?void 0:u.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:gi(n)}};return ka(t,t.maxWidth,e)}return null};R1.filterProps=["maxWidth"];const RH=$n({prop:"minWidth",transform:gi}),DH=$n({prop:"height",transform:gi}),MH=$n({prop:"maxHeight",transform:gi}),OH=$n({prop:"minHeight",transform:gi});$n({prop:"size",cssProperty:"width",transform:gi});$n({prop:"size",cssProperty:"height",transform:gi});const LH=$n({prop:"boxSizing"});Mm(PH,R1,RH,DH,MH,OH,LH);const oh={border:{themeKey:"borders",transform:Di},borderTop:{themeKey:"borders",transform:Di},borderRight:{themeKey:"borders",transform:Di},borderBottom:{themeKey:"borders",transform:Di},borderLeft:{themeKey:"borders",transform:Di},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Di},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Om},color:{themeKey:"palette",transform:Rc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rc},backgroundColor:{themeKey:"palette",transform:Rc},p:{style:Pn},pt:{style:Pn},pr:{style:Pn},pb:{style:Pn},pl:{style:Pn},px:{style:Pn},py:{style:Pn},padding:{style:Pn},paddingTop:{style:Pn},paddingRight:{style:Pn},paddingBottom:{style:Pn},paddingLeft:{style:Pn},paddingX:{style:Pn},paddingY:{style:Pn},paddingInline:{style:Pn},paddingInlineStart:{style:Pn},paddingInlineEnd:{style:Pn},paddingBlock:{style:Pn},paddingBlockStart:{style:Pn},paddingBlockEnd:{style:Pn},m:{style:In},mt:{style:In},mr:{style:In},mb:{style:In},ml:{style:In},mx:{style:In},my:{style:In},margin:{style:In},marginTop:{style:In},marginRight:{style:In},marginBottom:{style:In},marginLeft:{style:In},marginX:{style:In},marginY:{style:In},marginInline:{style:In},marginInlineStart:{style:In},marginInlineEnd:{style:In},marginBlock:{style:In},marginBlockStart:{style:In},marginBlockEnd:{style:In},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Lm},rowGap:{style:Fm},columnGap:{style:Vm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gi},maxWidth:{style:R1},minWidth:{transform:gi},height:{transform:gi},maxHeight:{transform:gi},minHeight:{transform:gi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function VH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function FH(t,e){return typeof t=="function"?t(e):t}function UH(){function t(n,r,i,a){const c={[n]:r,theme:i},u=a[n];if(!u)return{[n]:r};const{cssProperty:h=n,themeKey:f,transform:g,style:y}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const v=Dm(i,f)||{};return y?y(c):ka(c,r,S=>{let b=qp(v,g,S);return S===b&&typeof S=="string"&&(b=qp(v,g,`${n}${S==="default"?"":xi(S)}`,S)),h===!1?b:{[h]:b}})}function e(n){const{sx:r,theme:i={},nested:a}=n||{};if(!r)return null;const c=i.unstable_sxConfig??oh;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const g=tH(i.breakpoints),y=Object.keys(g);let v=g;return Object.keys(f).forEach(w=>{const S=FH(f[w],i);if(S!=null)if(typeof S=="object")if(c[w])v=hd(v,t(w,S,i,c));else{const b=ka({theme:i},S,N=>({[w]:N}));VH(b,S)?v[w]=e({sx:S,theme:i,nested:!0}):v=hd(v,b)}else v=hd(v,t(w,S,i,c))}),!a&&i.modularCssLayers?{"@layer sx":Zk(i,tS(y,v))}:Zk(i,tS(y,v))}return Array.isArray(r)?r.map(u):u(r)}return e}const bl=UH();bl.filterProps=["sx"];const $H=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??oh;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function K4(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=$H(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...c)=>{const u=e(...c);return Cs(u)?{...r,...u}:r}:a={...r,...e},{...i,sx:a}}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}function zH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function BH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HH=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(BH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=zH(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Cr="-ms-",Gp="-moz-",qt="-webkit-",X4="comm",D1="rule",M1="decl",WH="@import",Q4="@keyframes",qH="@layer",GH=Math.abs,Um=String.fromCharCode,KH=Object.assign;function XH(t,e){return vr(t,0)^45?(((e<<2^vr(t,0))<<2^vr(t,1))<<2^vr(t,2))<<2^vr(t,3):0}function Y4(t){return t.trim()}function QH(t,e){return(t=e.exec(t))?t[0]:t}function Gt(t,e,n){return t.replace(e,n)}function kv(t,e){return t.indexOf(e)}function vr(t,e){return t.charCodeAt(e)|0}function Md(t,e,n){return t.slice(e,n)}function Ts(t){return t.length}function O1(t){return t.length}function Lf(t,e){return e.push(t),t}function YH(t,e){return t.map(e).join("")}var $m=1,Hc=1,J4=0,ai=0,Kn=0,iu="";function zm(t,e,n,r,i,a,c){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:$m,column:Hc,length:c,return:""}}function Uu(t,e){return KH(zm("",null,null,"",null,null,0),t,{length:-t.length},e)}function JH(){return Kn}function ZH(){return Kn=ai>0?vr(iu,--ai):0,Hc--,Kn===10&&(Hc=1,$m--),Kn}function wi(){return Kn=ai<J4?vr(iu,ai++):0,Hc++,Kn===10&&(Hc=1,$m++),Kn}function $s(){return vr(iu,ai)}function np(){return ai}function lh(t,e){return Md(iu,t,e)}function Od(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Z4(t){return $m=Hc=1,J4=Ts(iu=t),ai=0,[]}function ej(t){return iu="",t}function rp(t){return Y4(lh(ai-1,Sv(t===91?t+2:t===40?t+1:t)))}function eW(t){for(;(Kn=$s())&&Kn<33;)wi();return Od(t)>2||Od(Kn)>3?"":" "}function tW(t,e){for(;--e&&wi()&&!(Kn<48||Kn>102||Kn>57&&Kn<65||Kn>70&&Kn<97););return lh(t,np()+(e<6&&$s()==32&&wi()==32))}function Sv(t){for(;wi();)switch(Kn){case t:return ai;case 34:case 39:t!==34&&t!==39&&Sv(Kn);break;case 40:t===41&&Sv(t);break;case 92:wi();break}return ai}function nW(t,e){for(;wi()&&t+Kn!==57;)if(t+Kn===84&&$s()===47)break;return"/*"+lh(e,ai-1)+"*"+Um(t===47?t:wi())}function rW(t){for(;!Od($s());)wi();return lh(t,ai)}function iW(t){return ej(ip("",null,null,null,[""],t=Z4(t),0,[0],t))}function ip(t,e,n,r,i,a,c,u,h){for(var f=0,g=0,y=c,v=0,w=0,S=0,b=1,N=1,j=1,M=0,O="",U=i,B=a,K=r,R=O;N;)switch(S=M,M=wi()){case 40:if(S!=108&&vr(R,y-1)==58){kv(R+=Gt(rp(M),"&","&\f"),"&\f")!=-1&&(j=-1);break}case 34:case 39:case 91:R+=rp(M);break;case 9:case 10:case 13:case 32:R+=eW(S);break;case 92:R+=tW(np()-1,7);continue;case 47:switch($s()){case 42:case 47:Lf(sW(nW(wi(),np()),e,n),h);break;default:R+="/"}break;case 123*b:u[f++]=Ts(R)*j;case 125*b:case 59:case 0:switch(M){case 0:case 125:N=0;case 59+g:j==-1&&(R=Gt(R,/\f/g,"")),w>0&&Ts(R)-y&&Lf(w>32?iS(R+";",r,n,y-1):iS(Gt(R," ","")+";",r,n,y-2),h);break;case 59:R+=";";default:if(Lf(K=rS(R,e,n,f,g,i,u,O,U=[],B=[],y),a),M===123)if(g===0)ip(R,e,K,K,U,a,y,u,B);else switch(v===99&&vr(R,3)===110?100:v){case 100:case 108:case 109:case 115:ip(t,K,K,r&&Lf(rS(t,K,K,0,0,i,u,O,i,U=[],y),B),i,B,y,u,r?U:B);break;default:ip(R,K,K,K,[""],B,0,u,B)}}f=g=w=0,b=j=1,O=R="",y=c;break;case 58:y=1+Ts(R),w=S;default:if(b<1){if(M==123)--b;else if(M==125&&b++==0&&ZH()==125)continue}switch(R+=Um(M),M*b){case 38:j=g>0?1:(R+="\f",-1);break;case 44:u[f++]=(Ts(R)-1)*j,j=1;break;case 64:$s()===45&&(R+=rp(wi())),v=$s(),g=y=Ts(O=R+=rW(np())),M++;break;case 45:S===45&&Ts(R)==2&&(b=0)}}return a}function rS(t,e,n,r,i,a,c,u,h,f,g){for(var y=i-1,v=i===0?a:[""],w=O1(v),S=0,b=0,N=0;S<r;++S)for(var j=0,M=Md(t,y+1,y=GH(b=c[S])),O=t;j<w;++j)(O=Y4(b>0?v[j]+" "+M:Gt(M,/&\f/g,v[j])))&&(h[N++]=O);return zm(t,e,n,i===0?D1:u,h,f,g)}function sW(t,e,n){return zm(t,e,n,X4,Um(JH()),Md(t,2,-2),0)}function iS(t,e,n,r){return zm(t,e,n,M1,Md(t,0,r),Md(t,r+1,-1),r)}function Dc(t,e){for(var n="",r=O1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function aW(t,e,n,r){switch(t.type){case qH:if(t.children.length)break;case WH:case M1:return t.return=t.return||t.value;case X4:return"";case Q4:return t.return=t.value+"{"+Dc(t.children,r)+"}";case D1:t.value=t.props.join(",")}return Ts(n=Dc(t.children,r))?t.return=t.value+"{"+n+"}":""}function oW(t){var e=O1(t);return function(n,r,i,a){for(var c="",u=0;u<e;u++)c+=t[u](n,r,i,a)||"";return c}}function lW(t){return function(e){e.root||(e=e.return)&&t(e)}}function tj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cW=function(e,n,r){for(var i=0,a=0;i=a,a=$s(),i===38&&a===12&&(n[r]=1),!Od(a);)wi();return lh(e,ai)},uW=function(e,n){var r=-1,i=44;do switch(Od(i)){case 0:i===38&&$s()===12&&(n[r]=1),e[r]+=cW(ai-1,n,r);break;case 2:e[r]+=rp(i);break;case 4:if(i===44){e[++r]=$s()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Um(i)}while(i=wi());return e},dW=function(e,n){return ej(uW(Z4(e),n))},sS=new WeakMap,hW=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sS.get(r))&&!i){sS.set(e,!0);for(var a=[],c=dW(n,a),u=r.props,h=0,f=0;h<c.length;h++)for(var g=0;g<u.length;g++,f++)e.props[f]=a[h]?c[h].replace(/&\f/g,u[g]):u[g]+" "+c[h]}}},fW=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nj(t,e){switch(XH(t,e)){case 5103:return qt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+t+Gp+t+Cr+t+t;case 6828:case 4268:return qt+t+Cr+t+t;case 6165:return qt+t+Cr+"flex-"+t+t;case 5187:return qt+t+Gt(t,/(\w+).+(:[^]+)/,qt+"box-$1$2"+Cr+"flex-$1$2")+t;case 5443:return qt+t+Cr+"flex-item-"+Gt(t,/flex-|-self/,"")+t;case 4675:return qt+t+Cr+"flex-line-pack"+Gt(t,/align-content|flex-|-self/,"")+t;case 5548:return qt+t+Cr+Gt(t,"shrink","negative")+t;case 5292:return qt+t+Cr+Gt(t,"basis","preferred-size")+t;case 6060:return qt+"box-"+Gt(t,"-grow","")+qt+t+Cr+Gt(t,"grow","positive")+t;case 4554:return qt+Gt(t,/([^-])(transform)/g,"$1"+qt+"$2")+t;case 6187:return Gt(Gt(Gt(t,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),t,"")+t;case 5495:case 3959:return Gt(t,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return Gt(Gt(t,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+Cr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+t+t;case 4095:case 3583:case 4068:case 2532:return Gt(t,/(.+)-inline(.+)/,qt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ts(t)-1-e>6)switch(vr(t,e+1)){case 109:if(vr(t,e+4)!==45)break;case 102:return Gt(t,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+Gp+(vr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~kv(t,"stretch")?nj(Gt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vr(t,e+1)!==115)break;case 6444:switch(vr(t,Ts(t)-3-(~kv(t,"!important")&&10))){case 107:return Gt(t,":",":"+qt)+t;case 101:return Gt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qt+(vr(t,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+Cr+"$2box$3")+t}break;case 5936:switch(vr(t,e+11)){case 114:return qt+t+Cr+Gt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qt+t+Cr+Gt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qt+t+Cr+Gt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return qt+t+Cr+t+t}return t}var pW=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case M1:e.return=nj(e.value,e.length);break;case Q4:return Dc([Uu(e,{value:Gt(e.value,"@","@"+qt)})],i);case D1:if(e.length)return YH(e.props,function(a){switch(QH(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dc([Uu(e,{props:[Gt(a,/:(read-\w+)/,":"+Gp+"$1")]})],i);case"::placeholder":return Dc([Uu(e,{props:[Gt(a,/:(plac\w+)/,":"+qt+"input-$1")]}),Uu(e,{props:[Gt(a,/:(plac\w+)/,":"+Gp+"$1")]}),Uu(e,{props:[Gt(a,/:(plac\w+)/,Cr+"input-$1")]})],i)}return""})}},mW=[pW],gW=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var N=b.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||mW,a={},c,u=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var N=b.getAttribute("data-emotion").split(" "),j=1;j<N.length;j++)a[N[j]]=!0;u.push(b)});var h,f=[hW,fW];{var g,y=[aW,lW(function(b){g.insert(b)})],v=oW(f.concat(i,y)),w=function(N){return Dc(iW(N),v)};h=function(N,j,M,O){g=M,w(N?N+"{"+j.styles+"}":j.styles),O&&(S.inserted[j.name]=!0)}}var S={key:n,sheet:new HH({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return S.sheet.hydrate(u),S},yW=!0;function vW(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var rj=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||yW===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},xW=function(e,n,r){rj(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function bW(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_W=/[A-Z]|^ms/g,EW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ij=function(e){return e.charCodeAt(1)===45},aS=function(e){return e!=null&&typeof e!="boolean"},iy=tj(function(t){return ij(t)?t:t.replace(_W,"-$&").toLowerCase()}),oS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(EW,function(r,i,a){return Ns={name:i,styles:a,next:Ns},i})}return wW[e]!==1&&!ij(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ld(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ns={name:i.name,styles:i.styles,next:Ns},i.name;var a=n;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)Ns={name:c.name,styles:c.styles,next:Ns},c=c.next;var u=a.styles+";";return u}return kW(t,e,n)}case"function":{if(t!==void 0){var h=Ns,f=n(t);return Ns=h,Ld(t,e,f)}break}}var g=n;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function kW(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ld(t,e,n[i])+";";else for(var a in n){var c=n[a];if(typeof c!="object"){var u=c;e!=null&&e[u]!==void 0?r+=a+"{"+e[u]+"}":aS(u)&&(r+=iy(a)+":"+oS(a,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var h=0;h<c.length;h++)aS(c[h])&&(r+=iy(a)+":"+oS(a,c[h])+";");else{var f=Ld(t,e,c);switch(a){case"animation":case"animationName":{r+=iy(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var lS=/label:\s*([^\s;{]+)\s*(;|$)/g,Ns;function sj(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ns=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=Ld(n,e,a);else{var c=a;i+=c[0]}for(var u=1;u<t.length;u++)if(i+=Ld(n,e,t[u]),r){var h=a;i+=h[u]}lS.lastIndex=0;for(var f="",g;(g=lS.exec(i))!==null;)f+="-"+g[1];var y=bW(i)+f;return{name:y,styles:i,next:Ns}}var SW=function(e){return e()},TW=cy.useInsertionEffect?cy.useInsertionEffect:!1,NW=TW||SW,aj=T.createContext(typeof HTMLElement<"u"?gW({key:"css"}):null);aj.Provider;var CW=function(e){return T.forwardRef(function(n,r){var i=T.useContext(aj);return e(n,i,r)})},oj=T.createContext({}),AW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,jW=tj(function(t){return AW.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),IW=jW,PW=function(e){return e!=="theme"},cS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?IW:PW},uS=function(e,n,r){var i;if(n){var a=n.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(c){return e.__emotion_forwardProp(c)&&a(c)}:a}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},RW=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return rj(n,r,i),NW(function(){return xW(n,r,i)}),null},DW=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,a,c;n!==void 0&&(a=n.label,c=n.target);var u=uS(e,n,r),h=u||cS(i),f=!h("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var v=g[0];y.push(v[0]);for(var w=g.length,S=1;S<w;S++)y.push(g[S],v[S])}var b=CW(function(N,j,M){var O=f&&N.as||i,U="",B=[],K=N;if(N.theme==null){K={};for(var R in N)K[R]=N[R];K.theme=T.useContext(oj)}typeof N.className=="string"?U=vW(j.registered,B,N.className):N.className!=null&&(U=N.className+" ");var I=sj(y.concat(B),j.registered,K);U+=j.key+"-"+I.name,c!==void 0&&(U+=" "+c);var A=f&&u===void 0?cS(O):h,k={};for(var L in N)f&&L==="as"||A(L)&&(k[L]=N[L]);return k.className=U,M&&(k.ref=M),T.createElement(T.Fragment,null,T.createElement(RW,{cache:j,serialized:I,isStringTag:typeof O=="string"}),T.createElement(O,k))});return b.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=y,b.__emotion_forwardProp=u,Object.defineProperty(b,"toString",{value:function(){return"."+c}}),b.withComponent=function(N,j){var M=t(N,Ev({},n,j,{shouldForwardProp:uS(b,j,!0)}));return M.apply(void 0,y)},b}},MW=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Tv=DW.bind(null);MW.forEach(function(t){Tv[t]=Tv(t)});function lj(t,e){return Tv(t,e)}function OW(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const dS=[];function dl(t){return dS[0]=t,sj(dS)}const LW=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function VW(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,a=LW(e),c=Object.keys(a);function u(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function h(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function f(v,w){const S=c.indexOf(w);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(S!==-1&&typeof e[c[S]]=="number"?e[c[S]]:w)-r/100}${n})`}function g(v){return c.indexOf(v)+1<c.length?f(v,c[c.indexOf(v)+1]):u(v)}function y(v){const w=c.indexOf(v);return w===0?u(c[1]):w===c.length-1?h(c[w]):f(v,c[c.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:c,values:a,up:u,down:h,between:f,only:g,not:y,unit:n,...i}}const FW={borderRadius:4};function cj(t=8,e=P1({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const c=e(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function UW(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function L1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:a={},...c}=t,u=VW(n),h=cj(i);let f=bi({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...FW,...a}},c);return f=ZB(f),f.applyStyles=UW,f=e.reduce((g,y)=>bi(g,y),f),f.unstable_sxConfig={...oh,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(y){return bl({sx:y,theme:this})},f}function $W(t){return Object.keys(t).length===0}function zW(t=null){const e=T.useContext(oj);return!e||$W(e)?t:e}const BW=L1();function HW(t=BW){return zW(t)}const hS=t=>t,WW=()=>{let t=hS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hS}}},uj=WW();function qW(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,a=lj("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(bl);return T.forwardRef(function(h,f){const g=HW(n),{className:y,component:v="div",...w}=K4(h);return o.jsx(a,{as:v,ref:f,className:Us(y,i?i(r):r),theme:e&&g[e]||g,...w})})}const GW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function V1(t,e,n="Mui"){const r=GW[e];return r?`${n}-${r}`:`${uj.generate(t)}-${e}`}function F1(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=V1(t,i,n)}),r}function dj(t){const{variants:e,...n}=t,r={variants:e,style:dl(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=dl(i.style))}),r}const KW=L1();function sy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function sl(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function XW(t){return t?(e,n)=>n[t]:null}function QW(t,e,n){t.theme=ZW(t.theme)?n:t.theme[e]||t.theme}function sp(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>sp(t,i,n));if(Array.isArray(r==null?void 0:r.variants)){let i;if(r.isProcessed)i=n?sl(r.style,n):r.style;else{const{variants:a,...c}=r;i=n?sl(dl(c),n):c}return hj(t,r.variants,[i],n)}return r!=null&&r.isProcessed?n?sl(dl(r.style),n):r.style:n?sl(dl(r),n):r}function hj(t,e,n=[],r=void 0){var a;let i;e:for(let c=0;c<e.length;c+=1){const u=e[c];if(typeof u.props=="function"){if(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(i))continue}else for(const h in u.props)if(t[h]!==u.props[h]&&((a=t.ownerState)==null?void 0:a[h])!==u.props[h])continue e;typeof u.style=="function"?(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),n.push(r?sl(dl(u.style(i)),r):u.style(i))):n.push(r?sl(dl(u.style),r):u.style)}return n}function YW(t={}){const{themeId:e,defaultTheme:n=KW,rootShouldForwardProp:r=sy,slotShouldForwardProp:i=sy}=t;function a(u){QW(u,e,n)}return(u,h={})=>{OW(u,K=>K.filter(R=>R!==bl));const{name:f,slot:g,skipVariantsResolver:y,skipSx:v,overridesResolver:w=XW(tq(g)),...S}=h,b=f&&f.startsWith("Mui")||g?"components":"custom",N=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,j=v||!1;let M=sy;g==="Root"||g==="root"?M=r:g?M=i:eq(u)&&(M=void 0);const O=lj(u,{shouldForwardProp:M,label:JW(),...S}),U=K=>{if(K.__emotion_real===K)return K;if(typeof K=="function")return function(I){return sp(I,K,I.theme.modularCssLayers?b:void 0)};if(Cs(K)){const R=dj(K);return function(A){return R.variants?sp(A,R,A.theme.modularCssLayers?b:void 0):A.theme.modularCssLayers?sl(R.style,b):R.style}}return K},B=(...K)=>{const R=[],I=K.map(U),A=[];if(R.push(a),f&&w&&A.push(function(D){var Ke,le;const Ge=(le=(Ke=D.theme.components)==null?void 0:Ke[f])==null?void 0:le.styleOverrides;if(!Ge)return null;const ot={};for(const oe in Ge)ot[oe]=sp(D,Ge[oe],D.theme.modularCssLayers?"theme":void 0);return w(D,ot)}),f&&!N&&A.push(function(D){var ot,Ke;const be=D.theme,Ge=(Ke=(ot=be==null?void 0:be.components)==null?void 0:ot[f])==null?void 0:Ke.variants;return Ge?hj(D,Ge,[],D.theme.modularCssLayers?"theme":void 0):null}),j||A.push(bl),Array.isArray(I[0])){const F=I.shift(),D=new Array(R.length).fill(""),be=new Array(A.length).fill("");let Ge;Ge=[...D,...F,...be],Ge.raw=[...D,...F.raw,...be],R.unshift(Ge)}const k=[...R,...I,...A],L=O(...k);return u.muiName&&(L.muiName=u.muiName),L};return O.withConfig&&(B.withConfig=O.withConfig),B}}function JW(t,e){return void 0}function ZW(t){for(const e in t)return!1;return!0}function eq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function tq(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Nv(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=i;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const c=t[a],u=e[a];if(!u)r[a]=c||{};else if(!c)r[a]=u;else{r[a]={...u};for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const f=h;r[a][f]=Nv(c[f],u[f],n)}}}else a==="className"&&n&&e.className?r.className=Us(t==null?void 0:t.className,e==null?void 0:e.className):a==="style"&&n&&e.style?r.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:r[a]===void 0&&(r[a]=t[a])}return r}const nq=T.createContext(void 0);function rq(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Nv(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Nv(i,r,e.components.mergeClassNameAndStyle):r}function iq({props:t,name:e}){const n=T.useContext(nq);return rq({props:t,name:e,theme:{components:n}})}const fS={theme:void 0};function sq(t){let e,n;return function(i){let a=e;return(a===void 0||i.theme!==n)&&(fS.theme=i.theme,a=dj(t(fS)),e=a,n=i.theme),a}}function aq(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const pS=(t,e,n,r=[])=>{let i=t;e.forEach((a,c)=>{c===e.length-1?Array.isArray(i)?i[Number(a)]=n:i&&typeof i=="object"&&(i[a]=n):i&&typeof i=="object"&&(i[a]||(i[a]=r.includes(a)?[]:{}),i=i[a])})},oq=(t,e,n)=>{function r(i,a=[],c=[]){Object.entries(i).forEach(([u,h])=>{(!n||n&&!n([...a,u]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...a,u],Array.isArray(h)?[...c,u]:c):e([...a,u],h,c))})}r(t)},lq=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ay(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},a={},c={};return oq(t,(u,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(u,h))){const g=`--${n?`${n}-`:""}${u.join("-")}`,y=lq(u,h);Object.assign(i,{[g]:y}),pS(a,u,`var(${g})`,f),pS(c,u,`var(${g}, ${y})`,f)}},u=>u[0]==="vars"),{css:i,vars:a,varsWithDefaults:c}}function cq(t,e={}){const{getSelector:n=N,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:a={},components:c,defaultColorScheme:u="light",...h}=t,{vars:f,css:g,varsWithDefaults:y}=ay(h,e);let v=y;const w={},{[u]:S,...b}=a;if(Object.entries(b||{}).forEach(([O,U])=>{const{vars:B,css:K,varsWithDefaults:R}=ay(U,e);v=bi(v,R),w[O]={css:K,vars:B}}),S){const{css:O,vars:U,varsWithDefaults:B}=ay(S,e);v=bi(v,B),w[u]={css:O,vars:U}}function N(O,U){var K,R;let B=i;if(i==="class"&&(B=".%s"),i==="data"&&(B="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(B=`[${i}="%s"]`),O){if(B==="media")return t.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${((R=(K=a[O])==null?void 0:K.palette)==null?void 0:R.mode)||O})`]:{":root":U}};if(B)return t.defaultColorScheme===O?`:root, ${B.replace("%s",String(O))}`:B.replace("%s",String(O))}return":root"}return{vars:v,generateThemeVars:()=>{let O={...f};return Object.entries(w).forEach(([,{vars:U}])=>{O=bi(O,U)}),O},generateStyleSheets:()=>{var I,A;const O=[],U=t.defaultColorScheme||"light";function B(k,L){Object.keys(L).length&&O.push(typeof k=="string"?{[k]:{...L}}:k)}B(n(void 0,{...g}),g);const{[U]:K,...R}=w;if(K){const{css:k}=K,L=(A=(I=a[U])==null?void 0:I.palette)==null?void 0:A.mode,F=!r&&L?{colorScheme:L,...k}:{...k};B(n(U,{...F}),F)}return Object.entries(R).forEach(([k,{css:L}])=>{var be,Ge;const F=(Ge=(be=a[k])==null?void 0:be.palette)==null?void 0:Ge.mode,D=!r&&F?{colorScheme:F,...L}:{...L};B(n(k,{...D}),D)}),O}}}function uq(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Vd={black:"#000",white:"#fff"},dq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hc={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},fc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$u={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},pc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},mc={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gc={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function fj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vd.white,default:Vd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hq=fj();function pj(){return{text:{primary:Vd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const mS=pj();function gS(t,e,n,r){const i=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Dd(t.main,i):e==="dark"&&(t.dark=Rd(t.main,a)))}function fq(t="light"){return t==="dark"?{main:pc[200],light:pc[50],dark:pc[400]}:{main:pc[700],light:pc[400],dark:pc[800]}}function pq(t="light"){return t==="dark"?{main:hc[200],light:hc[50],dark:hc[400]}:{main:hc[500],light:hc[300],dark:hc[700]}}function mq(t="light"){return t==="dark"?{main:fc[500],light:fc[300],dark:fc[700]}:{main:fc[700],light:fc[400],dark:fc[800]}}function gq(t="light"){return t==="dark"?{main:mc[400],light:mc[300],dark:mc[700]}:{main:mc[700],light:mc[500],dark:mc[900]}}function yq(t="light"){return t==="dark"?{main:gc[400],light:gc[300],dark:gc[700]}:{main:gc[800],light:gc[500],dark:gc[900]}}function vq(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:"#ed6c02",light:$u[500],dark:$u[900]}}function U1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,a=t.primary||fq(e),c=t.secondary||pq(e),u=t.error||mq(e),h=t.info||gq(e),f=t.success||yq(e),g=t.warning||vq(e);function y(b){return IB(b,mS.text.primary)>=n?mS.text.primary:hq.text.primary}const v=({color:b,name:N,mainShade:j=500,lightShade:M=300,darkShade:O=700})=>{if(b={...b},!b.main&&b[j]&&(b.main=b[j]),!b.hasOwnProperty("main"))throw new Error(xl(11,N?` (${N})`:"",j));if(typeof b.main!="string")throw new Error(xl(12,N?` (${N})`:"",JSON.stringify(b.main)));return gS(b,"light",M,r),gS(b,"dark",O,r),b.contrastText||(b.contrastText=y(b.main)),b};let w;return e==="light"?w=fj():e==="dark"&&(w=pj()),bi({common:{...Vd},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:u,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:h,name:"info"}),success:v({color:f,name:"success"}),grey:dq,contrastThreshold:n,getContrastText:y,augmentColor:v,tonalOffset:r,...w},i)}function xq(t){const e={};return Object.entries(t).forEach(r=>{const[i,a]=r;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function bq(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function wq(t){return Math.round(t*1e5)/1e5}const yS={textTransform:"uppercase"},vS='"Roboto", "Helvetica", "Arial", sans-serif';function _q(t,e){const{fontFamily:n=vS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:f,pxToRem:g,...y}=typeof e=="function"?e(t):e,v=r/14,w=g||(N=>`${N/h*v}rem`),S=(N,j,M,O,U)=>({fontFamily:n,fontWeight:N,fontSize:w(j),lineHeight:M,...n===vS?{letterSpacing:`${wq(O/j)}em`}:{},...U,...f}),b={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(c,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(c,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(c,14,1.75,.4,yS),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,yS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return bi({htmlFontSize:h,pxToRem:w,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:u,...b},y,{clone:!1})}const Eq=.2,kq=.14,Sq=.12;function vn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Eq})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${kq})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Sq})`].join(",")}const Tq=["none",vn(0,2,1,-1,0,1,1,0,0,1,3,0),vn(0,3,1,-2,0,2,2,0,0,1,5,0),vn(0,3,3,-2,0,3,4,0,0,1,8,0),vn(0,2,4,-1,0,4,5,0,0,1,10,0),vn(0,3,5,-1,0,5,8,0,0,1,14,0),vn(0,3,5,-1,0,6,10,0,0,1,18,0),vn(0,4,5,-2,0,7,10,1,0,2,16,1),vn(0,5,5,-3,0,8,10,1,0,3,14,2),vn(0,5,6,-3,0,9,12,1,0,3,16,2),vn(0,6,6,-3,0,10,14,1,0,4,18,3),vn(0,6,7,-4,0,11,15,1,0,4,20,3),vn(0,7,8,-4,0,12,17,2,0,5,22,4),vn(0,7,8,-4,0,13,19,2,0,5,24,4),vn(0,7,9,-4,0,14,21,2,0,5,26,4),vn(0,8,9,-5,0,15,22,2,0,6,28,5),vn(0,8,10,-5,0,16,24,2,0,6,30,5),vn(0,8,11,-5,0,17,26,2,0,6,32,5),vn(0,9,11,-5,0,18,28,2,0,7,34,6),vn(0,9,12,-6,0,19,29,2,0,7,36,6),vn(0,10,13,-6,0,20,31,3,0,8,38,7),vn(0,10,13,-6,0,21,33,3,0,8,40,7),vn(0,10,14,-6,0,22,35,3,0,8,42,7),vn(0,11,14,-7,0,23,36,3,0,9,44,8),vn(0,11,15,-7,0,24,38,3,0,9,46,8)],Nq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xS(t){return`${Math.round(t)}ms`}function Aq(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jq(t){const e={...Nq,...t.easing},n={...Cq,...t.duration};return{getAutoHeightDuration:Aq,create:(i=["all"],a={})=>{const{duration:c=n.standard,easing:u=e.easeInOut,delay:h=0,...f}=a;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof c=="string"?c:xS(c)} ${u} ${typeof h=="string"?h:xS(h)}`).join(",")},...t,easing:e,duration:n}}const Iq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pq(t){return Cs(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function mj(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let a=0;a<i.length;a++){const[c,u]=i[a];!Pq(u)||c.startsWith("unstable_")?delete r[c]:Cs(u)&&(r[c]={...u},n(r[c]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Cv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:a={},transitions:c={},typography:u={},shape:h,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(xl(20));const g=U1(a),y=L1(t);let v=bi(y,{mixins:bq(y.breakpoints,r),palette:g,shadows:Tq.slice(),typography:_q(g,u),transitions:jq(c),zIndex:{...Iq}});return v=bi(v,f),v=e.reduce((w,S)=>bi(w,S),v),v.unstable_sxConfig={...oh,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(S){return bl({sx:S,theme:this})},v.toRuntimeSource=mj,v}function Rq(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Dq=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Rq(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function gj(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function yj(t){return t==="dark"?Dq:[]}function Mq(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,a=U1(e);return{palette:a,opacity:{...gj(a.mode),...n},overlays:r||yj(a.mode),...i}}function Oq(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Lq=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Vq=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return Lq(t.cssVarPrefix).forEach(u=>{c[u]=n[u],delete n[u]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:c}}:a?{[a.replace("%s",e)]:c,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...c}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function Fq(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ge(t,e,n){!t[e]&&n&&(t[e]=n)}function Yu(t){return typeof t!="string"||!t.startsWith("hsl")?t:$4(t)}function ua(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Qu(Yu(t[e])))}function Uq(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ks=t=>{try{return t()}catch{}},$q=(t="mui")=>aq(t);function oy(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=Mq({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:a,...c}=Cv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:a,opacity:{...gj(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||yj(i)},c}function zq(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:c=Oq,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:h=":root",...f}=t,g=Object.keys(n)[0],y=r||(n.light&&g!=="light"?"light":g),v=$q(a),{[y]:w,light:S,dark:b,...N}=n,j={...N};let M=w;if((y==="dark"&&!("dark"in n)||y==="light"&&!("light"in n))&&(M=!0),!M)throw new Error(xl(21,y));const O=oy(j,M,f,y);S&&!j.light&&oy(j,S,void 0,"light"),b&&!j.dark&&oy(j,b,void 0,"dark");let U={defaultColorScheme:y,...O,cssVarPrefix:a,colorSchemeSelector:u,rootSelector:h,getCssVar:v,colorSchemes:j,font:{...xq(O.typography),...O.font},spacing:Uq(f.spacing)};Object.keys(U.colorSchemes).forEach(A=>{const k=U.colorSchemes[A].palette,L=F=>{const D=F.split("-"),be=D[1],Ge=D[2];return v(F,k[be][Ge])};if(k.mode==="light"&&(ge(k.common,"background","#fff"),ge(k.common,"onBackground","#000")),k.mode==="dark"&&(ge(k.common,"background","#000"),ge(k.common,"onBackground","#fff")),Fq(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){ge(k.Alert,"errorColor",nn(k.error.light,.6)),ge(k.Alert,"infoColor",nn(k.info.light,.6)),ge(k.Alert,"successColor",nn(k.success.light,.6)),ge(k.Alert,"warningColor",nn(k.warning.light,.6)),ge(k.Alert,"errorFilledBg",L("palette-error-main")),ge(k.Alert,"infoFilledBg",L("palette-info-main")),ge(k.Alert,"successFilledBg",L("palette-success-main")),ge(k.Alert,"warningFilledBg",L("palette-warning-main")),ge(k.Alert,"errorFilledColor",ks(()=>k.getContrastText(k.error.main))),ge(k.Alert,"infoFilledColor",ks(()=>k.getContrastText(k.info.main))),ge(k.Alert,"successFilledColor",ks(()=>k.getContrastText(k.success.main))),ge(k.Alert,"warningFilledColor",ks(()=>k.getContrastText(k.warning.main))),ge(k.Alert,"errorStandardBg",rn(k.error.light,.9)),ge(k.Alert,"infoStandardBg",rn(k.info.light,.9)),ge(k.Alert,"successStandardBg",rn(k.success.light,.9)),ge(k.Alert,"warningStandardBg",rn(k.warning.light,.9)),ge(k.Alert,"errorIconColor",L("palette-error-main")),ge(k.Alert,"infoIconColor",L("palette-info-main")),ge(k.Alert,"successIconColor",L("palette-success-main")),ge(k.Alert,"warningIconColor",L("palette-warning-main")),ge(k.AppBar,"defaultBg",L("palette-grey-100")),ge(k.Avatar,"defaultBg",L("palette-grey-400")),ge(k.Button,"inheritContainedBg",L("palette-grey-300")),ge(k.Button,"inheritContainedHoverBg",L("palette-grey-A100")),ge(k.Chip,"defaultBorder",L("palette-grey-400")),ge(k.Chip,"defaultAvatarColor",L("palette-grey-700")),ge(k.Chip,"defaultIconColor",L("palette-grey-700")),ge(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ge(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ge(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ge(k.LinearProgress,"primaryBg",rn(k.primary.main,.62)),ge(k.LinearProgress,"secondaryBg",rn(k.secondary.main,.62)),ge(k.LinearProgress,"errorBg",rn(k.error.main,.62)),ge(k.LinearProgress,"infoBg",rn(k.info.main,.62)),ge(k.LinearProgress,"successBg",rn(k.success.main,.62)),ge(k.LinearProgress,"warningBg",rn(k.warning.main,.62)),ge(k.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),ge(k.Slider,"primaryTrack",rn(k.primary.main,.62)),ge(k.Slider,"secondaryTrack",rn(k.secondary.main,.62)),ge(k.Slider,"errorTrack",rn(k.error.main,.62)),ge(k.Slider,"infoTrack",rn(k.info.main,.62)),ge(k.Slider,"successTrack",rn(k.success.main,.62)),ge(k.Slider,"warningTrack",rn(k.warning.main,.62));const F=Pf(k.background.default,.8);ge(k.SnackbarContent,"bg",F),ge(k.SnackbarContent,"color",ks(()=>k.getContrastText(F))),ge(k.SpeedDialAction,"fabHoverBg",Pf(k.background.paper,.15)),ge(k.StepConnector,"border",L("palette-grey-400")),ge(k.StepContent,"border",L("palette-grey-400")),ge(k.Switch,"defaultColor",L("palette-common-white")),ge(k.Switch,"defaultDisabledColor",L("palette-grey-100")),ge(k.Switch,"primaryDisabledColor",rn(k.primary.main,.62)),ge(k.Switch,"secondaryDisabledColor",rn(k.secondary.main,.62)),ge(k.Switch,"errorDisabledColor",rn(k.error.main,.62)),ge(k.Switch,"infoDisabledColor",rn(k.info.main,.62)),ge(k.Switch,"successDisabledColor",rn(k.success.main,.62)),ge(k.Switch,"warningDisabledColor",rn(k.warning.main,.62)),ge(k.TableCell,"border",rn(If(k.divider,1),.88)),ge(k.Tooltip,"bg",If(k.grey[700],.92))}if(k.mode==="dark"){ge(k.Alert,"errorColor",rn(k.error.light,.6)),ge(k.Alert,"infoColor",rn(k.info.light,.6)),ge(k.Alert,"successColor",rn(k.success.light,.6)),ge(k.Alert,"warningColor",rn(k.warning.light,.6)),ge(k.Alert,"errorFilledBg",L("palette-error-dark")),ge(k.Alert,"infoFilledBg",L("palette-info-dark")),ge(k.Alert,"successFilledBg",L("palette-success-dark")),ge(k.Alert,"warningFilledBg",L("palette-warning-dark")),ge(k.Alert,"errorFilledColor",ks(()=>k.getContrastText(k.error.dark))),ge(k.Alert,"infoFilledColor",ks(()=>k.getContrastText(k.info.dark))),ge(k.Alert,"successFilledColor",ks(()=>k.getContrastText(k.success.dark))),ge(k.Alert,"warningFilledColor",ks(()=>k.getContrastText(k.warning.dark))),ge(k.Alert,"errorStandardBg",nn(k.error.light,.9)),ge(k.Alert,"infoStandardBg",nn(k.info.light,.9)),ge(k.Alert,"successStandardBg",nn(k.success.light,.9)),ge(k.Alert,"warningStandardBg",nn(k.warning.light,.9)),ge(k.Alert,"errorIconColor",L("palette-error-main")),ge(k.Alert,"infoIconColor",L("palette-info-main")),ge(k.Alert,"successIconColor",L("palette-success-main")),ge(k.Alert,"warningIconColor",L("palette-warning-main")),ge(k.AppBar,"defaultBg",L("palette-grey-900")),ge(k.AppBar,"darkBg",L("palette-background-paper")),ge(k.AppBar,"darkColor",L("palette-text-primary")),ge(k.Avatar,"defaultBg",L("palette-grey-600")),ge(k.Button,"inheritContainedBg",L("palette-grey-800")),ge(k.Button,"inheritContainedHoverBg",L("palette-grey-700")),ge(k.Chip,"defaultBorder",L("palette-grey-700")),ge(k.Chip,"defaultAvatarColor",L("palette-grey-300")),ge(k.Chip,"defaultIconColor",L("palette-grey-300")),ge(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ge(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ge(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ge(k.LinearProgress,"primaryBg",nn(k.primary.main,.5)),ge(k.LinearProgress,"secondaryBg",nn(k.secondary.main,.5)),ge(k.LinearProgress,"errorBg",nn(k.error.main,.5)),ge(k.LinearProgress,"infoBg",nn(k.info.main,.5)),ge(k.LinearProgress,"successBg",nn(k.success.main,.5)),ge(k.LinearProgress,"warningBg",nn(k.warning.main,.5)),ge(k.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),ge(k.Slider,"primaryTrack",nn(k.primary.main,.5)),ge(k.Slider,"secondaryTrack",nn(k.secondary.main,.5)),ge(k.Slider,"errorTrack",nn(k.error.main,.5)),ge(k.Slider,"infoTrack",nn(k.info.main,.5)),ge(k.Slider,"successTrack",nn(k.success.main,.5)),ge(k.Slider,"warningTrack",nn(k.warning.main,.5));const F=Pf(k.background.default,.98);ge(k.SnackbarContent,"bg",F),ge(k.SnackbarContent,"color",ks(()=>k.getContrastText(F))),ge(k.SpeedDialAction,"fabHoverBg",Pf(k.background.paper,.15)),ge(k.StepConnector,"border",L("palette-grey-600")),ge(k.StepContent,"border",L("palette-grey-600")),ge(k.Switch,"defaultColor",L("palette-grey-300")),ge(k.Switch,"defaultDisabledColor",L("palette-grey-600")),ge(k.Switch,"primaryDisabledColor",nn(k.primary.main,.55)),ge(k.Switch,"secondaryDisabledColor",nn(k.secondary.main,.55)),ge(k.Switch,"errorDisabledColor",nn(k.error.main,.55)),ge(k.Switch,"infoDisabledColor",nn(k.info.main,.55)),ge(k.Switch,"successDisabledColor",nn(k.success.main,.55)),ge(k.Switch,"warningDisabledColor",nn(k.warning.main,.55)),ge(k.TableCell,"border",nn(If(k.divider,1),.68)),ge(k.Tooltip,"bg",If(k.grey[700],.92))}ua(k.background,"default"),ua(k.background,"paper"),ua(k.common,"background"),ua(k.common,"onBackground"),ua(k,"divider"),Object.keys(k).forEach(F=>{const D=k[F];F!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ge(k[F],"mainChannel",Qu(Yu(D.main))),D.light&&ge(k[F],"lightChannel",Qu(Yu(D.light))),D.dark&&ge(k[F],"darkChannel",Qu(Yu(D.dark))),D.contrastText&&ge(k[F],"contrastTextChannel",Qu(Yu(D.contrastText))),F==="text"&&(ua(k[F],"primary"),ua(k[F],"secondary")),F==="action"&&(D.active&&ua(k[F],"active"),D.selected&&ua(k[F],"selected")))})}),U=e.reduce((A,k)=>bi(A,k),U);const B={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:c,getSelector:Vq(U)},{vars:K,generateThemeVars:R,generateStyleSheets:I}=cq(U,B);return U.vars=K,Object.entries(U.colorSchemes[U.defaultColorScheme]).forEach(([A,k])=>{U[A]=k}),U.generateThemeVars=R,U.generateStyleSheets=I,U.generateSpacing=function(){return cj(f.spacing,P1(this))},U.getColorSchemeSelector=uq(u),U.spacing=U.generateSpacing(),U.shouldSkipGeneratingVar=c,U.unstable_sxConfig={...oh,...f==null?void 0:f.unstable_sxConfig},U.unstable_sx=function(k){return bl({sx:k,theme:this})},U.toRuntimeSource=mj,U}function bS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:U1({...n===!0?{}:n.palette,mode:e})})}function vj(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...c}=t,u=a||"light",h=i==null?void 0:i[u],f={...i,...n?{[u]:{...typeof h!="boolean"&&h,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Cv(t,...e);let g=n;"palette"in t||f[u]&&(f[u]!==!0?g=f[u].palette:u==="dark"&&(g={mode:"dark"}));const y=Cv({...t,palette:g},...e);return y.defaultColorScheme=u,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},bS(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},bS(y,"light",f.light)),y}return!n&&!("light"in f)&&u==="light"&&(f.light=!0),zq({...c,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const Bq=vj(),xj="$$material";function $1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Hq=t=>$1(t)&&t!=="classes",Co=YW({themeId:xj,defaultTheme:Bq,rootShouldForwardProp:Hq});function Wq(){return K4}const Nl=sq;function bj(t){return iq(t)}const qq=t=>!t||!tp(t);function Gq(t){return typeof t.main=="string"}function Kq(t,e=[]){if(!Gq(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Bm(t=[]){return([,e])=>e&&Kq(e,t)}function Xq(t){return V1("MuiSlider",t)}const Oi=F1("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Qq=t=>{const{open:e}=t;return{offset:Us(e&&Oi.valueLabelOpen),circle:Oi.valueLabelCircle,label:Oi.valueLabelLabel}};function Yq(t){const{children:e,className:n,value:r}=t,i=Qq(t);return e?T.cloneElement(e,{className:e.props.className},o.jsxs(T.Fragment,{children:[e.props.children,o.jsx("span",{className:Us(i.offset,n),"aria-hidden":!0,children:o.jsx("span",{className:i.circle,children:o.jsx("span",{className:i.label,children:r})})})]})):null}function wS(t){return t}const Jq=Co("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${xi(n.color)}`],n.size!=="medium"&&e[`size${xi(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(Nl(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Oi.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Oi.dragging}`]:{[`& .${Oi.thumb}, & .${Oi.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Bm()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Zq=Co("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),eG=Co("span",{name:"MuiSlider",slot:"Track"})(Nl(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Bm()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Dd(t.palette[e].main,.62),borderColor:Dd(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:Rd(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:Rd(t.palette[e].main,.5)})}}}))]}))),tG=Co("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${xi(n.color)}`],n.size!=="medium"&&e[`thumbSize${xi(n.size)}`]]}})(Nl(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Oi.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Bm()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Oi.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${_v(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Oi.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${_v(t.palette[e].main,.16)}`}}}}))]}))),nG=Co(Yq,{name:"MuiSlider",slot:"ValueLabel"})(Nl(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Oi.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Oi.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),rG=Co("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>$1(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(Nl(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),iG=Co("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>$1(t)&&t!=="markLabelActive"})(Nl(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),sG=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:a,classes:c,color:u,size:h}=t,f={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",u&&`color${xi(u)}`,h&&`size${xi(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${xi(h)}`,u&&`thumbColor${xi(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return U4(f,Xq,c)},aG=({children:t})=>t,wj=T.forwardRef(function(e,n){const r=bj({props:e,name:"MuiSlider"}),i=DB(),{"aria-label":a,"aria-valuetext":c,"aria-labelledby":u,component:h="span",components:f={},componentsProps:g={},color:y="primary",classes:v,className:w,disableSwap:S=!1,disabled:b=!1,getAriaLabel:N,getAriaValueText:j,marks:M=!1,max:O=100,min:U=0,name:B,onChange:K,onChangeCommitted:R,orientation:I="horizontal",shiftStep:A=10,size:k="medium",step:L=1,scale:F=wS,slotProps:D,slots:be,tabIndex:Ge,track:ot="normal",value:Ke,valueLabelDisplay:le="off",valueLabelFormat:oe=wS,...he}=r,z={...r,isRtl:i,max:O,min:U,classes:v,disabled:b,disableSwap:S,orientation:I,marks:M,color:y,size:k,step:L,shiftStep:A,scale:F,track:ot,valueLabelDisplay:le,valueLabelFormat:oe},{axisProps:Q,getRootProps:we,getHiddenInputProps:Be,getThumbProps:Ue,open:tt,active:ft,axis:ct,focusedThumbIndex:it,range:Je,dragging:St,marks:At,values:_t,trackOffset:Rt,trackLeap:re,getThumbStyle:$e}=KB({...z,rootRef:n});z.marked=At.length>0&&At.some(De=>De.label),z.dragging=St,z.focusedThumbIndex=it;const Pe=sG(z),de=(be==null?void 0:be.root)??f.Root??Jq,Qe=(be==null?void 0:be.rail)??f.Rail??Zq,We=(be==null?void 0:be.track)??f.Track??eG,Dt=(be==null?void 0:be.thumb)??f.Thumb??tG,jt=(be==null?void 0:be.valueLabel)??f.ValueLabel??nG,Pt=(be==null?void 0:be.mark)??f.Mark??rG,Ee=(be==null?void 0:be.markLabel)??f.MarkLabel??iG,te=(be==null?void 0:be.input)??f.Input??"input",ye=(D==null?void 0:D.root)??g.root,Ce=(D==null?void 0:D.rail)??g.rail,ee=(D==null?void 0:D.track)??g.track,Me=(D==null?void 0:D.thumb)??g.thumb,Le=(D==null?void 0:D.valueLabel)??g.valueLabel,yt=(D==null?void 0:D.mark)??g.mark,W=(D==null?void 0:D.markLabel)??g.markLabel,H=(D==null?void 0:D.input)??g.input,ve=Xa({elementType:de,getSlotProps:we,externalSlotProps:ye,externalForwardedProps:he,additionalProps:{...qq(de)&&{as:h}},ownerState:{...z,...ye==null?void 0:ye.ownerState},className:[Pe.root,w]}),ie=Xa({elementType:Qe,externalSlotProps:Ce,ownerState:z,className:Pe.rail}),ce=Xa({elementType:We,externalSlotProps:ee,additionalProps:{style:{...Q[ct].offset(Rt),...Q[ct].leap(re)}},ownerState:{...z,...ee==null?void 0:ee.ownerState},className:Pe.track}),Y=Xa({elementType:Dt,getSlotProps:Ue,externalSlotProps:Me,ownerState:{...z,...Me==null?void 0:Me.ownerState},className:Pe.thumb}),Ve=Xa({elementType:jt,externalSlotProps:Le,ownerState:{...z,...Le==null?void 0:Le.ownerState},className:Pe.valueLabel}),fe=Xa({elementType:Pt,externalSlotProps:yt,ownerState:z,className:Pe.mark}),pe=Xa({elementType:Ee,externalSlotProps:W,ownerState:z,className:Pe.markLabel}),ze=Xa({elementType:te,getSlotProps:Be,externalSlotProps:H,ownerState:z});return o.jsxs(de,{...ve,children:[o.jsx(Qe,{...ie}),o.jsx(We,{...ce}),At.filter(De=>De.value>=U&&De.value<=O).map((De,nt)=>{const ht=Wp(De.value,U,O),Ae=Q[ct].offset(ht);let Se;return ot===!1?Se=_t.includes(De.value):Se=ot==="normal"&&(Je?De.value>=_t[0]&&De.value<=_t[_t.length-1]:De.value<=_t[0])||ot==="inverted"&&(Je?De.value<=_t[0]||De.value>=_t[_t.length-1]:De.value>=_t[0]),o.jsxs(T.Fragment,{children:[o.jsx(Pt,{"data-index":nt,...fe,...!tp(Pt)&&{markActive:Se},style:{...Ae,...fe.style},className:Us(fe.className,Se&&Pe.markActive)}),De.label!=null?o.jsx(Ee,{"aria-hidden":!0,"data-index":nt,...pe,...!tp(Ee)&&{markLabelActive:Se},style:{...Ae,...pe.style},className:Us(Pe.markLabel,pe.className,Se&&Pe.markLabelActive),children:De.label}):null]},nt)}),_t.map((De,nt)=>{const ht=Wp(De,U,O),Ae=Q[ct].offset(ht),Se=le==="off"?aG:jt;return o.jsx(Se,{...!tp(Se)&&{valueLabelFormat:oe,valueLabelDisplay:le,value:typeof oe=="function"?oe(F(De),nt):oe,index:nt,open:tt===nt||ft===nt||le==="on",disabled:b},...Ve,children:o.jsx(Dt,{"data-index":nt,...Y,className:Us(Pe.thumb,Y.className,ft===nt&&Pe.active,it===nt&&Pe.focusVisible),style:{...Ae,...$e(nt),...Y.style},children:o.jsx(te,{"data-index":nt,"aria-label":N?N(nt):a,"aria-valuenow":F(De),"aria-labelledby":u,"aria-valuetext":j?j(F(De),nt):c,value:_t[nt],...ze})})},nt)})]})});function oG(t){return V1("MuiTypography",t)}F1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lG={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},cG=Wq(),uG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:c}=t,u={root:["root",a,t.align!=="inherit"&&`align${xi(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return U4(u,oG,c)},dG=Co("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${xi(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Nl(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Bm()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${xi(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),_S={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_j=T.forwardRef(function(e,n){const{color:r,...i}=bj({props:e,name:"MuiTypography"}),a=!lG[r],c=cG({...i,...a&&{color:r}}),{align:u="inherit",className:h,component:f,gutterBottom:g=!1,noWrap:y=!1,paragraph:v=!1,variant:w="body1",variantMapping:S=_S,...b}=c,N={...c,align:u,color:r,className:h,component:f,gutterBottom:g,noWrap:y,paragraph:v,variant:w,variantMapping:S},j=f||(v?"p":S[w]||_S[w])||"span",M=uG(N);return o.jsx(dG,{as:j,ref:n,className:Us(M.root,h),...b,ownerState:N,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...b.style}})}),hG=F1("MuiBox",["root"]),fG=vj(),Ej=qW({themeId:xj,defaultTheme:fG,defaultClassName:hG.root,generateClassName:uj.generate}),pG={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.3)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 6px rgba(60, 80, 120, 0.5)"}},mG={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.6)","0 0 10px rgba(80, 100, 140, 0.9)","0 0 4px rgba(80, 100, 140, 0.6)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function kj({filtros:t,setFiltros:e,productosOriginales:n}){const[r,i]=T.useState([]);T.useEffect(()=>{let u=n;(t.estado.nuevo||t.estado.usado)&&(u=u.filter(g=>t.estado.nuevo&&t.estado.usado?!0:t.estado.nuevo?g.estado==="Nuevo":t.estado.usado?g.estado==="Usado":!0));const h=t.precio.min!==""?Number(t.precio.min):0,f=t.precio.max!==""?Number(t.precio.max):1/0;u=u.filter(g=>g.precio>=h&&g.precio<=f),i(u)},[t,n]);const a=(u,h)=>{e(f=>({...f,precio:{min:h[0],max:h[1]}}))},c=()=>{e({estado:{nuevo:!1,usado:!1},precio:{min:0,max:1e3}})};return o.jsxs("aside",{className:"hidden xl:block w-56 max-w-[240px] relative z-40",style:{height:"100vh",paddingTop:0,overflow:"hidden",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Filtros",children:[o.jsx(V4,{}),o.jsxs("div",{style:{position:"relative",zIndex:1,height:"100%",overflowY:"auto",padding:"1rem",backgroundColor:"transparent",border:"none",boxShadow:"none"},children:[o.jsx(ae.h2,{className:"text-lg font-semibold mb-4 text-blue-800 dark:text-blue-400",variants:mG,animate:"animate",children:"Filtros"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-medium mb-2 text-gray-800 dark:text-gray-200",children:"Estado"}),o.jsxs("label",{className:"switch-container",children:[o.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.nuevo,onChange:()=>e(u=>({...u,estado:{...u.estado,nuevo:!u.estado.nuevo}}))}),o.jsx("div",{className:"slider"}),o.jsx("span",{className:"ml-2",children:"Nuevo"})]}),o.jsxs("label",{className:"switch-container mt-2",children:[o.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.usado,onChange:()=>e(u=>({...u,estado:{...u.estado,usado:!u.estado.usado}}))}),o.jsx("div",{className:"slider"}),o.jsx("span",{className:"ml-2",children:"Usado"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx(_j,{gutterBottom:!0,className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Precio (RD$)"}),o.jsx(Ej,{sx:{px:1,"& .MuiSlider-thumb":{width:14,height:14,bgcolor:"#1976d2",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 8px rgba(25, 118, 210, 0.16)"}},"& .MuiSlider-rail":{height:6,opacity:.5,bgcolor:"#bfbfbf",borderRadius:3},"& .MuiSlider-track":{height:6,borderRadius:3},"& .MuiSlider-root":{padding:"15px 0"}},children:o.jsx(wj,{value:[typeof t.precio.min=="number"?t.precio.min:0,typeof t.precio.max=="number"?t.precio.max:1e3],onChange:a,valueLabelDisplay:"auto",min:0,max:1e3})}),o.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-700 dark:text-gray-300",children:[o.jsxs("span",{children:["RD$",t.precio.min]}),o.jsxs("span",{children:["RD$",t.precio.max]})]})]}),o.jsx(ae.button,{onClick:c,variants:pG,initial:"initial",whileHover:"hover",whileTap:"tap",className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 text-white text-sm px-3 py-2 rounded w-full",children:"Restablecer filtros"}),o.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-300",children:r.length===0?"No hay productos que coincidan con los filtros.":`Mostrando ${r.length} producto${r.length>1?"s":""}`})]})]})}function Sj({filtros:t,setFiltros:e,onReset:n,visible:r,onClose:i}){var y,v;const[a,c]=T.useState(t);T.useEffect(()=>{var S,b;const w={...t,precio:{min:((S=t.precio)==null?void 0:S.min)??0,max:((b=t.precio)==null?void 0:b.max)??1e3}};c(w)},[t,r]);const u=(w,S)=>{c(b=>({...b,precio:{min:S[0],max:S[1]}}))},h=Number.isFinite((y=a.precio)==null?void 0:y.min)?a.precio.min:0,f=Number.isFinite((v=a.precio)==null?void 0:v.max)?a.precio.max:1e4,g=[h,f];return o.jsxs("div",{className:`fixed top-0 right-0 h-full w-72 bg-white dark:bg-slate-900 border-l border-gray-300 dark:border-gray-700 shadow-lg z-[9999] transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,children:[o.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300 dark:border-gray-700",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Filtros"}),o.jsx("button",{onClick:i,className:"text-blue-600 dark:text-blue-400 font-extrabold text-xl hover:text-blue-800 dark:hover:text-blue-300 transition-colors","aria-label":"Cerrar filtro",children:"✕"})]}),o.jsxs("div",{className:"p-4 pt-6 flex flex-col gap-6 overflow-y-auto text-gray-900 dark:text-gray-100",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3 text-blue-700 dark:text-blue-300",children:"Estado"}),o.jsxs("label",{className:"switch-container mb-2",children:[o.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.nuevo,onChange:()=>c(w=>({...w,estado:{...w.estado,nuevo:!w.estado.nuevo}}))}),o.jsx("div",{className:"slider"}),o.jsx("span",{className:"ml-2 text-gray-800 dark:text-gray-200 font-medium",children:"Nuevo"})]}),o.jsxs("label",{className:"switch-container",children:[o.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.usado,onChange:()=>c(w=>({...w,estado:{...w.estado,usado:!w.estado.usado}}))}),o.jsx("div",{className:"slider"}),o.jsx("span",{className:"ml-2 text-gray-800 dark:text-gray-200 font-medium",children:"Usado"})]})]}),o.jsxs("div",{children:[o.jsx(_j,{gutterBottom:!0,className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Precio (RD$)"}),o.jsx(Ej,{sx:{px:1,"& .MuiSlider-thumb":{width:16,height:16,bgcolor:"#1d4ed8",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 10px rgba(29, 78, 216, 0.2)"}},"& .MuiSlider-rail":{height:8,opacity:.3,bgcolor:"#cbd5e1",borderRadius:4},"& .MuiSlider-track":{height:8,borderRadius:4,bgcolor:"#1d4ed8"},"& .MuiSlider-root":{padding:"20px 0"}},children:o.jsx(wj,{value:g,onChange:u,valueLabelDisplay:"auto",min:0,max:1e4})}),o.jsxs("div",{className:"flex justify-between text-xs text-blue-700 dark:text-blue-300 mt-1 font-semibold",children:[o.jsxs("span",{children:["RD$",g[0]]}),o.jsxs("span",{children:["RD$",g[1]]})]})]})]}),o.jsxs("div",{className:"flex justify-between gap-3 border-t border-gray-300 dark:border-gray-700 p-4 mt-4",children:[o.jsx("button",{onClick:()=>{n(),i()},className:"w-1/2 bg-blue-100 hover:bg-blue-200 text-blue-800 dark:bg-slate-800 dark:hover:bg-slate-700 dark:text-blue-300 font-semibold text-sm py-2 rounded transition-colors",children:"Restablecer"}),o.jsx("button",{onClick:()=>{e(a),i()},className:"w-1/2 bg-blue-600 hover:bg-blue-700 text-white font-semibold text-sm py-2 rounded transition-colors",children:"Aplicar filtros"})]})]})}function Tj({onClick:t}){return o.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-900 dark:bg-slate-800 dark:text-blue-300 rounded-full text-sm font-medium hover:bg-gray-300 dark:hover:bg-slate-700 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Filtros"]})}const ly=t=>t?t.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"",Vf=(t,e,n=.6)=>{if(!t||!e)return!1;const r=t.toLowerCase(),i=e.toLowerCase();if(r===i||r.includes(i)||i.includes(r))return!0;const a=r.length,c=i.length,u=Math.max(a,c);if(u===0)return!1;let h=0;for(let g=0;g<Math.min(a,c);g++)r[g]===i[g]&&h++;return h/u>=n};function gG(){const t=Hs(),{products:e,loading:n}=gL(),[r,i]=T.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[a,c]=T.useState(!1),[u,h]=T.useState(!1),g=new URLSearchParams(t.search).get("q")||"",y=ly(g),v=T.useMemo(()=>(e||[]).filter(b=>{const N=ly(b.nombre),j=ly(b.empresa||"");return y.split(" ").filter(Boolean).some(O=>Vf(N,O)||Vf(j,O))||Vf(N,y)||Vf(j,y)}),[e,y]),w=T.useMemo(()=>v.filter(b=>{const N=r.precio.min===""||b.precio>=Number(r.precio.min),j=r.precio.max===""||b.precio<=Number(r.precio.max),M=!r.estado.nuevo&&!r.estado.usado||r.estado.nuevo&&b.estado==="Nuevo"||r.estado.usado&&b.estado==="Usado";return N&&j&&M}),[v,r]),S=()=>{i({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}})};return o.jsxs("div",{className:"flex flex-col xl:flex-row min-h-screen bg-white dark:bg-gray-900 pt-0",style:{paddingTop:"var(--content-offset, 100px)"},children:[o.jsx("aside",{className:"hidden xl:block w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 sticky h-screen overflow-y-auto",children:o.jsx(Hp,{categoriaActiva:null,setMostrarEnMovil:h})}),o.jsxs("main",{className:"flex-1 p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 xl:hidden",children:[o.jsx("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 dark:bg-slate-800 dark:text-blue-300 rounded-full text-sm font-medium",children:"📂 Categorías"}),o.jsx(Tj,{onClick:()=>c(!0)})]}),o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100",children:"Resultados de búsqueda"}),n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-700"})}):w.length===0?o.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["No se encontraron productos relacionados con"," ",o.jsx("span",{className:"font-bold",children:g}),"."]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-[repeat(auto-fill,minmax(250px,1fr))] gap-2",children:w.map(b=>o.jsx(L4,{producto:b},b.id))})]}),o.jsx("aside",{className:"hidden xl:block w-64 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 sticky h-screen overflow-y-auto",children:o.jsx(kj,{filtros:r,setFiltros:i,productosOriginales:v})}),u&&o.jsx(Hp,{categoriaActiva:null,mostrarEnMovil:u,setMostrarEnMovil:h}),o.jsx("div",{className:"xl:hidden",children:o.jsx(Sj,{filtros:r,setFiltros:i,visible:a,onClose:()=>c(!1),onReset:S})})]})}function ES(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}function kS(){const{categoria:t}=DS(),e=oi(),{categories:n,loading:r}=Hx(),i=t&&t!=="todos"?t:"",{products:a,loading:c}=RC(i),[u,h]=T.useState({precio:{min:0,max:1e4},estado:{nuevo:!1,usado:!1}}),[f,g]=T.useState({norm:"",display:""}),[y,v]=T.useState(!1),[w,S]=T.useState(!1),[b,N]=T.useState("Todos"),[j,M]=T.useState(0);T.useEffect(()=>{function A(){const L=document.querySelector(".shadow-md.px-4.py-2.flex.justify-between.items-center"),F=L?Math.ceil(L.getBoundingClientRect().height):0;M(F),document.documentElement.style.setProperty("--topbar-height",`${F}px`)}A(),window.addEventListener("resize",A);const k=new MutationObserver(A);return k.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",A),k.disconnect()}},[]),T.useEffect(()=>{if(!t||t==="todos")N("Todos");else{const A=n.find(k=>ES(k.ruta)===ES(t));N(A?A.nombre:"Todos")}},[t,n]);const O=T.useMemo(()=>b==="Todos"?a:a.filter(A=>A==null?void 0:A.id),[a,b]),U=T.useMemo(()=>(O||[]).filter(A=>{const k=A.precio>=u.precio.min,L=A.precio<=u.precio.max,F=!u.estado.nuevo&&!u.estado.usado||u.estado.nuevo&&A.estado==="Nuevo"||u.estado.usado&&A.estado==="Usado",D=A.empresaNorm||(A.empresa||"").toString().trim().toLowerCase(),be=!f.norm||D===f.norm;return k&&L&&F&&be}),[O,u,f]),B=(A,k)=>{e(`/productos/${k}`),v(!1),S(!1),g({norm:"",display:""})},K=()=>{h({precio:{min:0,max:1e4},estado:{nuevo:!1,usado:!1}}),g({norm:"",display:""})},R=[{nombre:"PlayStation",norm:"playstation",imagen:"/logos/PlayStation_logo.svg.png"},{nombre:"Xbox",norm:"xbox",imagen:"/logos/xbox-logo.png"},{nombre:"Nintendo",norm:"nintendo",imagen:"/logos/nintendo-logo.png"}],I=r||c;return o.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-gray-900 pb-[96px] transition-colors duration-300",style:{position:"relative",margin:0,paddingTop:"var(--content-offset, 100px)",transition:"padding-top 0.2s",boxSizing:"border-box"},children:[o.jsxs("div",{className:"flex-1 flex flex-col xl:grid xl:grid-cols-[auto_1fr_auto] w-full",style:{margin:0},children:[o.jsx(Hp,{categoriaActiva:b,onCategoriaClick:B,className:"bg-transparent border-none shadow-none xl:row-span-2"}),o.jsxs("main",{className:"flex-1 p-0 xl:p-4 relative pb-32",children:[o.jsxs("div",{className:"flex justify-between items-center px-3 py-2 xl:hidden bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 sticky transition-colors duration-300",style:{top:"var(--content-offset, 100px)",zIndex:40,marginTop:0,paddingTop:0},children:[o.jsx("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium transition-colors duration-300",children:"📂 Categorías"}),o.jsx(Tj,{onClick:()=>v(!0)})]}),o.jsxs("div",{className:"mb-6 mt-4 px-4 xl:px-0",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl xl:text-5xl font-extrabold text-gray-900 dark:text-gray-100 mb-3 tracking-tight leading-tight",children:b==="Todos"?"Todos los productos":b}),b!=="Todos"&&o.jsxs("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-400",children:["Encuentra lo mejor en"," ",o.jsx("span",{className:"font-bold text-blue-700 dark:text-blue-400",children:b})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 px-4 xl:px-0 mb-6 justify-center sm:justify-start",children:[R.map(A=>{const k=f.norm===A.norm;return o.jsxs("button",{onClick:()=>g({norm:A.norm,display:A.nombre}),className:`group relative w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white dark:bg-gray-800 border-4 flex items-center justify-center shadow-xl hover:scale-110 transition-all duration-300 ${k?"border-blue-700 ring-4 ring-offset-2 ring-blue-500 animate-spin-slow":"border-gray-300 hover:border-blue-400"}`,title:A.nombre,children:[o.jsx("img",{src:A.imagen,alt:A.nombre,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain z-10"}),k&&o.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-blue-500 animate-pulse z-0"})]},A.norm)}),o.jsx("button",{onClick:()=>g({norm:"",display:""}),className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 flex items-center justify-center text-lg sm:text-xl font-bold bg-gradient-to-br from-red-100 to-red-300 text-red-700 border-red-600 shadow-lg hover:scale-110 transition-all duration-300",title:"Quitar filtro",children:"❌"})]}),I?null:U.length===0?o.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-10",children:"No hay productos que coincidan con tus filtros."}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-[repeat(auto-fill,minmax(250px,1fr))] gap-2",children:U.map(A=>o.jsx(L4,{producto:A},A.id))})]}),o.jsx(kj,{filtros:u,setFiltros:h,productosOriginales:O,className:"bg-transparent border-none shadow-none xl:row-span-2"})]}),w&&o.jsx(Hp,{categoriaActiva:b,onCategoriaClick:B,mostrarEnMovil:w,setMostrarEnMovil:S,className:"bg-transparent border-none shadow-none"}),o.jsx("div",{className:"xl:hidden",children:o.jsx(Sj,{filtros:u,setFiltros:h,visible:y,onClose:()=>v(!1),onReset:K})})]})}const yG=[{id:0,nombre:"Estafeta Principal (Oficina)",descripcion:"Playcenter Universal",direccion:"Av Estrella Sadhala Nº 55, Frente a la doble vía, Santiago",telefono:"809-582-1212",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'13.2%22N+70%C2%B041'23.3%22W/@19.436998,-70.689812,17z/data=!4m4!3m3!8m2!3d19.437!4d-70.6898056",imagen:"/estafetas/oficina.png"},{id:1,nombre:"Estafeta Villa-Olímpica",descripcion:"Minimarket Los Hermanos",direccion:"Calle Penetración Nº 1, Suburbanización Mare López, La villa-Olímpica, Próximo a la calle 1",telefono:"809-626-3262",ubicacionLink:"https://www.google.com/maps/place/19%C2%B025'43.1%22N+70%C2%B041'12.7%22W/@19.4286338,-70.6894342,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.4286338!4d-70.6868593?hl=es&entry=ttu",imagen:"/estafetas/loshermanos.png"},{id:2,nombre:"Estafeta Nibaje",descripcion:"Cafetería Guido",direccion:"Avenida Franco Vido, Nº 148, Nibaje",telefono:"829-324-2318",ubicacionLink:"https://www.google.com/maps/place//@19.420887,-70.6811611,3857m/data=!3m2!1e3!4b1?entry=ttu",imagen:"/estafetas/cafeteria-guido.png"},{id:3,nombre:"Estafeta El Ensueño",descripcion:"Salón y Cafetería Marais",direccion:"Calle Paseo de los Locutores, Esquina 11, El Ensueño",telefono:"829-755-3636",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'22.4%22N+70%C2%B041'26.1%22W/@19.439565,-70.690574,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.439565!4d-70.690574?entry=ttu",imagen:"/estafetas/salon-y-cafeteria-maraez.png"},{id:4,nombre:"Estafeta La Lotería",descripcion:"Colmado Espinal",direccion:"La Lotería, calle Salcedo, Nº 10",telefono:"829-288-9168",ubicacionLink:"https://www.google.com/maps/place/19.439565,-70.690574/data=!4m6!3m5!1s0!7e2!8m2!3d19.439564999999998!4d-70.690574",imagen:"/estafetas/colmado-espinal.png"},{id:5,nombre:"Estafeta La Villa-Olímpica",descripcion:"Palmatec Solutions",direccion:"Villa-Olímpica, frente Manzana F, al lado del antiguo Colegio Génesis",telefono:"809-785-3354",ubicacionLink:"https://www.google.com/maps/place/19.435309,-70.685961/data=!4m6!3m5!1s0!7e2!8m2!3d19.435309!4d-70.68596099999999",imagen:"/estafetas/palmatech-solution.png"},{id:6,nombre:"Estafeta Ensanche Bermúdez",descripcion:"St Electronics",direccion:"Calle 11, número 27, Ensanche Bermúdez",telefono:"849-437-3100",ubicacionLink:"https://www.google.com/maps/place/Espailla,+51000+Santiago+de+los+Caballeros/@19.4717075,-70.7148707,964m/data=!3m2!1e3!4b1!4m6!3m5!1s0x8eb1c5e2c3c79d7d:0x3a75c6d5f2312708!8m2!3d19.4717075!4d-70.7148707",imagen:"/estafetas/St electronics.png"},{id:7,nombre:"Estafeta Los Guandules",descripcion:"Mini Market El Vecino",direccion:"Estafeta de pago Los Guandules, próximo al puente",telefono:"+1 829 218 1889",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'15.3%22N+70%C2%B041'22.2%22W/@19.4381999,-70.6893169,526m/data=!3m1!1e3!4m4!3m3!8m2!3d19.437576!4d-70.689512?entry=ttu",imagen:"/estafetas/losguandules.png"}],vG=[{banco:"BANRESERVAS",numero:"9600153322",tipo:"Cuenta Corriente",titular:"PLAYCENTER"},{banco:"POPULAR",numero:"0798928750",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"BHD",numero:"18673320016",tipo:"Cuenta Corriente",titular:"FRANKLYN SANTOS"},{banco:"SantaCruz",numero:"11142010011632",tipo:"Cuenta Ahorro",titular:"PLAYCENTER"},{banco:"Scotiabank",numero:"12010008845",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"ASOC. CIBAO",numero:"100090238474",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"}];function xG(){const[t,e]=T.useState(null),n=(r,i)=>{navigator.clipboard.writeText(r),e(i),setTimeout(()=>e(null),2e3)};return o.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 py-10",style:{paddingTop:"var(--content-offset, 100px)"},children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-gray-800 dark:text-gray-100 tracking-tight",children:"Estafetas de Pago y Métodos de Pago"}),o.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 mb-6",children:"Puedes pagar tu factura en cualquiera de nuestros puntos autorizados o mediante transferencia bancaria."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-gray-800 dark:to-gray-900 border border-blue-200 dark:border-gray-700 rounded-2xl p-7 mb-12 shadow-lg",children:[o.jsxs("h2",{className:"text-2xl font-semibold text-blue-700 dark:text-blue-300 flex items-center gap-2 mb-3",children:[o.jsx(fU,{className:"text-blue-500 dark:text-blue-300"}),"Cuentas Bancarias para Transferencias"]}),o.jsxs("p",{className:"text-red-600 dark:text-red-400 font-semibold mb-2",children:["⚠️ Incluye tu ",o.jsx("span",{className:"underline",children:"código de cliente"})," o",o.jsx("span",{className:"underline",children:" nombre completo"})," en la descripción del pago."]}),o.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4 text-[15px]",children:["Es indispensable enviar el comprobante de pago al 809-582-1212 para poder aplicarlo.",o.jsx("br",{}),o.jsx("span",{className:"text-red-500 dark:text-red-400 font-bold",children:"Sin el comprobante no podremos procesar tu pago."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:vG.map((r,i)=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl p-5 flex flex-col shadow group hover:shadow-xl transition",children:[o.jsxs("h3",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-300 flex items-center gap-2 mb-2",children:[o.jsx(yU,{className:"text-indigo-500 dark:text-indigo-300"}),r.banco]}),o.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1 flex items-center",children:[o.jsx("span",{className:"font-semibold mr-1",children:"Número: "}),o.jsxs("span",{className:"text-gray-900 dark:text-gray-100 font-mono flex items-center",children:[r.numero,o.jsx("button",{onClick:()=>n(r.numero,i),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 ml-1",title:"Copiar número",children:t===i?o.jsx(cU,{}):o.jsx(xU,{})})]})]}),o.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Tipo: "}),r.tipo]}),o.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[o.jsx("span",{className:"font-semibold",children:"Titular: "}),r.titular]})]},i))})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:yG.map(r=>o.jsxs("div",{className:"flex flex-col md:flex-row bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-2xl transition",children:[o.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-blue-50 dark:bg-gray-700 flex items-center justify-center p-3",children:o.jsx("img",{src:r.imagen,alt:r.nombre,className:"w-full h-full object-contain rounded-xl"})}),o.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-800 dark:text-blue-300 mb-1",children:r.nombre}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg font-medium mb-1",children:r.descripcion}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:r.direccion}),o.jsxs("p",{className:"text-green-600 dark:text-green-400 flex items-center gap-2 mb-2",children:[o.jsx(Mp,{className:"text-green-500 dark:text-green-300"}),r.telefono]})]}),o.jsxs("a",{href:r.ubicacionLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline mt-3 font-semibold flex items-center gap-2",children:[o.jsx("span",{role:"img","aria-label":"location",children:"📍"}),"Ver Ubicación"]})]})]},r.id))}),o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mt-12 text-lg",children:"¡Agradecemos su preferencia! Estamos para servirle."})]})}function bG({children:t}){const{usuario:e}=Hr();return e?t:o.jsx(jP,{to:"/login",replace:!0})}const SS="https://playcenter-universal.onrender.com";function wG(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function _G(){const[t]=Mv(),e=oi(),{usuario:n,usuarioInfo:r}=Hr(),{carrito:i,vaciarCarrito:a}=Ud(),[c,u]=T.useState(1),[h,f]=T.useState(0);T.useEffect(()=>{const y=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=y}},[]),T.useEffect(()=>{const y=t.get("session"),v=wG(),w=setInterval(()=>{f(j=>j>=90?j:Math.min(90,j+Math.random()*15))},200),S=setTimeout(()=>u(2),900),b=setTimeout(()=>u(3),1600),N=async()=>{var j;try{if(!y){e("/payment/cancel");return}const M=await fetch(`${SS}/cardnet/get-sk/${y}`),{sk:O}=await M.json();if(!O){e(`/payment/cancel?session=${y}`);return}const B=await(await fetch(`${SS}/cardnet/verify/${y}/${O}`)).json(),K=(j=v==null?void 0:v.items)!=null&&j.length?v.items.map(A=>({id:A.id,nombre:A.nombre,precio:Number(A.precio)||0,cantidad:A.cantidad,imagen:A.imagen||"/Productos/default.jpg",empresa:A.empresa||"N/A",subtotal:(Number(A.precio)||0)*A.cantidad})):(i||[]).map(A=>({id:A.id,nombre:A.nombre,precio:Number(A.precio)||0,cantidad:A.cantidad,imagen:A.imagen||"/Productos/default.jpg",empresa:A.empresa||"N/A",subtotal:(Number(A.precio)||0)*A.cantidad})),R=(v==null?void 0:v.total)??(i||[]).reduce((A,k)=>A+(Number(k.precio)||0)*k.cantidad,0),I={userId:(n==null?void 0:n.uid)||null,userEmail:(r==null?void 0:r.email)||(n==null?void 0:n.email)||null,userName:(r==null?void 0:r.displayName)||null,userPhone:(r==null?void 0:r.telefono)||null,productos:K,total:R,subtotal:K.reduce((A,k)=>A+k.subtotal,0),impuestos:0,envio:0,estado:(B==null?void 0:B.ResponseCode)==="00"?"completado":"cancelado",estadoPago:(B==null?void 0:B.ResponseCode)==="00"?"pagado":"fallido",metodoPago:"CardNet",fecha:uC(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(v==null?void 0:v.mode)||(v?"unknown":"cart"),direccionEntrega:(r==null?void 0:r.direccionCompleta)||null,telefonoContacto:(r==null?void 0:r.telefono)||null,notasEspeciales:null,raw:{...B,SESSION:y}};try{await Em(Ft(Re,"orders"),I)}catch(A){console.error("❌ Error guardando orden:",A)}try{sessionStorage.removeItem("checkoutPayload")}catch{}f(100),u(4),setTimeout(()=>{(B==null?void 0:B.ResponseCode)==="00"?(((v==null?void 0:v.mode)||"cart")==="cart"&&a(),e(`/payment/success?session=${y}`)):e(`/payment/cancel?session=${y}`)},900)}catch(M){console.error("❌ Error verificando pago:",M),e("/payment/cancel")}};if(y){const j=setTimeout(N,9e3);return()=>{clearTimeout(j),clearInterval(w),clearTimeout(S),clearTimeout(b)}}else e("/payment/cancel")},[t,e,n,r,i,a]);const g=[{id:1,icon:OU,title:"Conectando con CardNet",description:"Estableciendo conexión segura"},{id:2,icon:Vp,title:"Verificando seguridad",description:"Validando datos de pago"},{id:3,icon:m4,title:"Procesando transacción",description:"Confirmando tu compra"},{id:4,icon:uv,title:"¡Completado!",description:"Redirigiendo..."}];return o.jsxs(ae.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-4 sm:px-6 md:px-8 overflow-auto py-4 sm:py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((y,v)=>o.jsx(ae.div,{className:"absolute w-2 h-2 bg-blue-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*12+12,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},v))}),o.jsxs(ae.div,{className:"bg-white/95 backdrop-blur-xl rounded-xl sm:rounded-2xl md:rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10 lg:p-12 max-w-sm sm:max-w-lg md:max-w-2xl lg:max-w-3xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 rounded-2xl sm:rounded-3xl"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[o.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Progreso"}),o.jsxs("span",{className:"text-xs sm:text-sm font-bold text-blue-600",children:[Math.round(h),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 sm:h-3 overflow-hidden",children:o.jsx(ae.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5,ease:"easeOut"}})})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(fn,{mode:"wait",children:g.map(y=>c>=y.id&&o.jsxs(ae.div,{initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.98},transition:{duration:.35,type:"spring"},className:`flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl sm:rounded-2xl mb-2 sm:mb-3 ${c===y.id?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[o.jsx(ae.div,{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl flex-shrink-0 ${c===y.id?"bg-gradient-to-br from-blue-500 to-purple-600 text-white":"bg-green-100 text-green-600"}`,animate:c===y.id?{scale:[1,1.08,1],rotate:[0,5,-5,0]}:{},transition:{duration:2,repeat:1/0},children:o.jsx(y.icon,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),o.jsxs("div",{className:"text-left flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-gray-800 text-base sm:text-lg",children:y.title}),o.jsx("p",{className:"text-gray-600 text-xs sm:text-sm break-words",children:y.description})]}),c>y.id&&o.jsx(ae.div,{initial:{scale:0},animate:{scale:1},className:"text-green-500 flex-shrink-0",children:o.jsx(uv,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]},y.id))})}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsxs("div",{className:"loader mx-auto",children:[o.jsx("div",{className:"loader__bar"}),o.jsx("div",{className:"loader__bar"}),o.jsx("div",{className:"loader__bar"}),o.jsx("div",{className:"loader__bar"}),o.jsx("div",{className:"loader__bar"}),o.jsx("div",{className:"loader__ball"})]})}),o.jsx(ae.h1,{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3 sm:mb-4",animate:{opacity:[.85,1,.85]},transition:{duration:2,repeat:1/0},children:"Procesando tu pago"}),o.jsxs(ae.p,{className:"text-gray-600 mb-6 sm:mb-8 leading-relaxed text-sm sm:text-base",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:["Estamos verificando tu transacción con CardNet de forma segura.",o.jsx("br",{}),o.jsx("span",{className:"font-semibold text-blue-600",children:"Por favor, no cierres esta ventana."})]}),o.jsxs(ae.div,{className:"flex flex-wrap justify-center items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[o.jsx(Vp,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}),o.jsx("span",{children:"Conexión segura"})]}),o.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full hidden sm:block"}),o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[o.jsx(p4,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500"}),o.jsx("span",{children:"Tiempo real"})]})]})]})]})]})}const TS="https://playcenter-universal.onrender.com";function EG(){var y,v;const[t]=Mv(),[e,n]=T.useState(null),[r,i]=T.useState(null),[a,c]=T.useState(!0),[u,h]=T.useState(!1);T.useEffect(()=>{const w=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=w}},[]),T.useEffect(()=>{const w=t.get("session");w&&(async()=>{try{const N=ln(Ft(Re,"orders"),br("raw.SESSION","==",w),Bs("fecha","desc"),wm(1)),j=await Ir(N);j.empty||n({id:j.docs[0].id,...j.docs[0].data()});const M=await fetch(`${TS}/cardnet/get-sk/${w}`),{sk:O}=await M.json();if(O){const B=await(await fetch(`${TS}/cardnet/verify/${w}/${O}`)).json();i(B)}}catch(N){console.error("Error cargando datos:",N)}})();const b=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(b)},[t]);const f=w=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(w||0),g=w=>{if(!w)return"Fecha no disponible";let S;return typeof w=="object"&&(w!=null&&w.seconds)?S=new Date(w.seconds*1e3):S=new Date(w),S.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return o.jsxs(ae.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 px-4 sm:px-6 md:px-8 overflow-auto py-4 sm:py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[o.jsx(fn,{children:a&&o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map((w,S)=>o.jsx(ae.div,{className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:["#10b981","#059669","#34d399","#6ee7b7","#a7f3d0"][Math.floor(Math.random()*5)],left:Math.random()*100+"%",top:-10},animate:{y:window.innerHeight+50,x:[0,Math.random()*200-100,Math.random()*200-100],rotate:[0,360,720],scale:[1,.5,1]},transition:{duration:Math.random()*3+2,ease:"easeOut",delay:Math.random()*2},exit:{opacity:0}},S))})}),o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((w,S)=>o.jsx(ae.div,{className:"absolute w-2 h-2 bg-green-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},S))}),o.jsxs(ae.div,{className:"bg-white/95 backdrop-blur-xl rounded-xl sm:rounded-2xl md:rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10 lg:p-12 max-w-sm sm:max-w-lg md:max-w-2xl lg:max-w-4xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 rounded-3xl"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(ae.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:16,stiffness:300,delay:.15},children:o.jsxs(ae.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[o.jsx(uv,{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 text-green-500 mx-auto drop-shadow-lg"}),o.jsx(ae.div,{className:"absolute -top-3 -right-3 w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.25,1],rotate:[0,12,-12,0]},transition:{duration:2,repeat:1/0},children:o.jsx(o$,{className:"w-5 h-5 text-yellow-600"})}),o.jsx(ae.div,{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:.5},children:o.jsx(ZU,{className:"w-4 h-4 text-green-600"})})]})}),o.jsxs(ae.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3},children:[o.jsx(ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-3 sm:mb-4",animate:{scale:[1,1.04,1]},transition:{duration:2,repeat:1/0},children:"¡Pago exitoso!"}),o.jsx(ae.div,{className:"flex items-center justify-center gap-2 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[...Array(5)].map((w,S)=>o.jsx(ae.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7+S*.08,type:"spring"},children:o.jsx(t$,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400 fill-current"})},S))}),o.jsxs(ae.p,{className:"text-gray-700 text-sm sm:text-base md:text-lg leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:["Tu transacción fue procesada correctamente.",o.jsx("br",{}),"¡Gracias por tu compra en ",o.jsx("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"PlayCenter Universal"}),"!"]})]}),e?o.jsx(ae.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:1},children:o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 border border-green-200",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[o.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(UU,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),"Resumen de tu compra"]}),o.jsx(ae.div,{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",whileHover:{scale:1.05},children:"✓ Completado"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 text-xs sm:text-sm flex-shrink-0",children:"Orden ID:"}),o.jsx("span",{className:"font-mono text-xs sm:text-sm bg-gray-100 px-2 py-1 rounded break-all",children:e.numeroOrden||((y=e.id)==null?void 0:y.slice(-8))})]}),o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("span",{className:"text-gray-600 text-xs sm:text-sm flex-shrink-0",children:"Email:"}),o.jsx("span",{className:"font-medium text-xs sm:text-sm break-all text-right",children:e.userEmail})]}),o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("span",{className:"text-gray-600 text-xs sm:text-sm flex-shrink-0",children:"Fecha:"}),o.jsx("span",{className:"font-medium text-xs sm:text-sm text-right",children:g(e.fecha)})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("span",{className:"text-gray-600 text-xs sm:text-sm flex-shrink-0",children:"Método de pago:"}),o.jsxs("span",{className:"font-medium text-xs sm:text-sm flex items-center gap-1.5 sm:gap-2",children:[o.jsx(m4,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500"}),"CardNet"]})]}),o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:"Total:"}),o.jsx("span",{className:"text-xl sm:text-2xl font-bold text-green-600",children:f(e.total)})]})]})]}),((v=e.productos)==null?void 0:v.length)>0&&o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>h(w=>!w),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-medium mb-3 sm:mb-4 transition-colors text-sm sm:text-base",type:"button",children:[o.jsxs("span",{children:["Ver productos (",e.productos.length,")"]}),o.jsx(ae.div,{animate:{rotate:u?180:0},transition:{duration:.25},children:"▼"})]}),o.jsx(fn,{children:u&&o.jsx(ae.div,{className:"space-y-2 sm:space-y-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},children:e.productos.map((w,S)=>o.jsxs(ae.div,{className:"flex items-center justify-between bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 border border-green-100 gap-3",initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:S*.06},whileHover:{scale:1.02},children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold flex-shrink-0",children:"🎮"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"font-semibold text-gray-800 text-sm sm:text-base block truncate",children:w.nombre}),o.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:["Cantidad: ",w.cantidad," × ",f(w.precio)]})]})]}),o.jsx("span",{className:"font-bold text-green-600 text-sm sm:text-base flex-shrink-0",children:f((Number(w.precio)||0)*w.cantidad)})]},`${w.id}-${S}`))})})]})]})}):null,o.jsxs(ae.div,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6 sm:mb-8",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:1.2},children:[o.jsx(ae.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:o.jsxs(Nt,{to:"/",className:"inline-flex items-center justify-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg sm:rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base",children:[o.jsx(ud,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Seguir comprando"})]})}),o.jsx(ae.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:o.jsxs(Nt,{to:"/profile",className:"inline-flex items-center justify-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-white text-gray-700 rounded-lg sm:rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300 text-sm sm:text-base",children:[o.jsx(VU,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Ver historial"})]})})]}),r&&o.jsxs(ae.details,{className:"mt-2 text-left",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6},children:[o.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-800 font-medium mb-2 text-xs sm:text-sm",children:"Detalles técnicos de la transacción"}),o.jsx("div",{className:"bg-gray-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 max-h-48 sm:max-h-64 overflow-y-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap text-gray-600 text-xs font-mono",children:JSON.stringify(r,null,2)})})]})]})]})]})}function kG(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function SG(){const[t]=Mv(),{usuarioInfo:e}=Hr(),{carrito:n}=Ud(),[r,i]=T.useState(!1),[a,c]=T.useState(!1);T.useEffect(()=>{const h=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=h}},[]),T.useEffect(()=>{const f=setTimeout(async()=>{var S;if(r)return;const g=t.get("session"),y=kG(),v=(S=y==null?void 0:y.items)!=null&&S.length?y.items:(n||[]).map(b=>({id:b.id,nombre:b.nombre,precio:Number(b.precio)||0,cantidad:b.cantidad})),w=(y==null?void 0:y.total)??(n||[]).reduce((b,N)=>b+(Number(N.precio)||0)*N.cantidad,0);try{if(g){const b=ln(Ft(Re,"orders"),br("raw.SESSION","==",g),wm(1));if(!(await Ir(b)).empty){try{sessionStorage.removeItem("checkoutPayload")}catch{}i(!0);return}}if(e&&(v.length>0||w>=0)){const b=v.map(N=>({id:N.id,nombre:N.nombre,precio:Number(N.precio)||0,cantidad:N.cantidad,imagen:N.imagen||"/Productos/default.jpg",empresa:N.empresa||"N/A",subtotal:(Number(N.precio)||0)*N.cantidad}));await Em(Ft(Re,"orders"),{userId:e.uid,userEmail:e.email,userName:e.displayName,userPhone:(e==null?void 0:e.telefono)||null,productos:b,total:w,subtotal:b.reduce((N,j)=>N+j.subtotal,0),impuestos:0,envio:0,estado:"cancelado",estadoPago:"fallido",metodoPago:"CardNet",fecha:uC(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(y==null?void 0:y.mode)||(y?"unknown":"cart"),direccionEntrega:(e==null?void 0:e.direccionCompleta)||null,telefonoContacto:(e==null?void 0:e.telefono)||null,notasEspeciales:null,raw:{SESSION:g||null}});try{sessionStorage.removeItem("checkoutPayload")}catch{}i(!0)}}catch(b){console.error("Error guardando orden cancelada:",b)}},600);return()=>clearTimeout(f)},[e,n,r,t]);const u=[{icon:Vp,title:"Datos incorrectos",desc:"Verifica la información de tu tarjeta"},{icon:p4,title:"Sesión expirada",desc:"El tiempo límite para el pago se agotó"},{icon:gk,title:"Fondos insuficientes",desc:"Tu tarjeta no tiene saldo disponible"},{icon:Lp,title:"Cancelado por el usuario",desc:"El pago fue cancelado manualmente"}];return o.jsxs(ae.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-rose-50 via-red-50 to-pink-50 px-4 sm:px-6 md:px-8 overflow-auto py-4 sm:py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(16)].map((h,f)=>o.jsx(ae.div,{className:"absolute w-3 h-3 bg-red-200 rounded-full opacity-20",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],rotate:[0,360]},transition:{duration:Math.random()*14+14,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},f))}),o.jsxs(ae.div,{className:"bg-white/95 backdrop-blur-xl rounded-xl sm:rounded-2xl md:rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10 lg:p-12 max-w-sm sm:max-w-lg md:max-w-2xl lg:max-w-3xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 rounded-3xl"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(ae.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:16,stiffness:300,delay:.15},children:o.jsxs(ae.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[o.jsx(Lp,{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 text-red-500 mx-auto drop-shadow-lg"}),o.jsx(ae.div,{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:o.jsx(gk,{className:"w-4 h-4 text-red-600"})})]})}),o.jsx(ae.h1,{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent mb-4 sm:mb-6",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3},children:"Pago cancelado"}),o.jsxs(ae.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.45},children:[o.jsx("p",{className:"text-gray-700 text-base sm:text-lg leading-relaxed mb-4",children:"Tu transacción no pudo ser completada."}),o.jsxs(ae.div,{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full border border-green-200",initial:{scale:0},animate:{scale:1},transition:{delay:.65,type:"spring"},children:[o.jsx(Vp,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:"No se realizó ningún cargo a tu tarjeta"})]})]}),o.jsxs(ae.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsxs("button",{onClick:()=>c(h=>!h),className:"flex items-center gap-2 mx-auto text-gray-600 hover:text-gray-800 transition-colors",type:"button",children:[o.jsx("span",{className:"font-medium",children:"¿Por qué falló mi pago?"}),o.jsx(ae.div,{animate:{rotate:a?180:0},transition:{duration:.25},children:o.jsx(KU,{className:"w-4 h-4"})})]}),o.jsx(fn,{children:a&&o.jsx(ae.div,{className:"mt-4 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},children:u.map((h,f)=>o.jsx(ae.div,{className:"bg-gray-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200",initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:f*.08},whileHover:{scale:1.02,backgroundColor:"#f8fafc"},children:o.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg flex-shrink-0",children:o.jsx(h.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),o.jsxs("div",{className:"text-left flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-1 text-sm sm:text-base",children:h.title}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 break-words",children:h.desc})]})]})},f))})})]}),o.jsxs(ae.div,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.8},children:[o.jsx(ae.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:o.jsxs(Nt,{to:"/carrito",className:"inline-flex items-center justify-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg sm:rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 text-sm sm:text-base",children:[o.jsx(YU,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Intentar de nuevo"})]})}),o.jsx(ae.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:o.jsxs(Nt,{to:"/",className:"inline-flex items-center justify-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-white text-gray-700 rounded-lg sm:rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300 text-sm sm:text-base",children:[o.jsx(ud,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Ir al inicio"})]})})]}),o.jsxs(ae.div,{className:"mt-6 sm:mt-8 p-4 sm:p-5 bg-blue-50 rounded-lg sm:rounded-xl border border-blue-200",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:1},children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2 text-sm sm:text-base",children:"¿Necesitas ayuda?"}),o.jsx("p",{className:"text-blue-700 text-xs sm:text-sm",children:"Si el problema persiste, contacta a nuestro equipo de soporte. Estamos aquí para ayudarte a completar tu compra."}),o.jsx(ae.a,{href:"/contacto",className:"mt-3 inline-block text-blue-600 font-semibold hover:text-blue-800 transition-colors",whileHover:{scale:1.03},children:"Contactar soporte →"})]})]})]})]})}function TG(){const t=Hs();return o.jsx(IC,{children:o.jsx(fn,{mode:"wait",children:o.jsxs(PP,{location:t,children:[o.jsx(or,{path:"/",element:o.jsx(Nr,{children:o.jsx(nB,{})})}),o.jsx(or,{path:"/profile",element:o.jsx(bG,{children:o.jsx(Nr,{children:o.jsx(uB,{})})})}),o.jsx(or,{path:"/admin",element:o.jsx(Qz,{})}),o.jsx(or,{path:"/producto/:id",element:o.jsx(Nr,{children:o.jsx(gB,{})})}),o.jsx(or,{path:"/carrito",element:o.jsx(Nr,{children:o.jsx(bB,{})})}),o.jsx(or,{path:"/contacto",element:o.jsx(Nr,{children:o.jsx(wB,{})})}),o.jsx(or,{path:"/nosotros",element:o.jsx(Nr,{children:o.jsx(SB,{})})}),o.jsx(or,{path:"/buscar",element:o.jsx(Nr,{children:o.jsx(gG,{})})}),o.jsx(or,{path:"/categorias",element:o.jsx(Nr,{children:o.jsx(kS,{})})}),o.jsx(or,{path:"/Productos/:categoria?",element:o.jsx(Nr,{children:o.jsx(kS,{})})}),o.jsx(or,{path:"/estafetas",element:o.jsx(Nr,{children:o.jsx(xG,{})})}),o.jsx(or,{path:"/vender",element:o.jsx(Nr,{children:o.jsx(_B,{})})}),o.jsx(or,{path:"/tiendas",element:o.jsx(Nr,{children:o.jsx(EB,{})})}),o.jsx(or,{path:"/historial",element:o.jsx(Nr,{children:o.jsx(kB,{})})}),o.jsx(or,{path:"/payment/pending",element:o.jsx(Nr,{children:o.jsx(_G,{})})}),o.jsx(or,{path:"/payment/success",element:o.jsx(Nr,{children:o.jsx(EG,{})})}),o.jsx(or,{path:"/payment/cancel",element:o.jsx(Nr,{children:o.jsx(SG,{})})})]},t.pathname)})})}function Nr({children:t}){return o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:t})}function NG(){const{pathname:t}=Hs(),e=oi(),{usuario:n}=Hr(),{abrirModal:r}=Gc(),[i,a]=T.useState(!1),c=h=>t===h,u=h=>{(h==="/profile"||h==="/carrito")&&!n?a(!0):e(h)};return o.jsxs(o.Fragment,{children:[o.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t dark:border-gray-700 shadow-md flex justify-around items-center h-14 text-sm xl:hidden transition-colors duration-300",children:[o.jsx(zu,{onClick:()=>u("/"),icon:o.jsx(hU,{}),label:"Inicio",active:c("/")}),o.jsx(zu,{onClick:()=>u("/tiendas"),icon:o.jsx(mU,{}),label:"Tiendas",active:c("/tiendas")}),o.jsx(zu,{onClick:()=>u("/categorias"),icon:o.jsx(gU,{}),label:"Categorías",active:c("/categorias")}),o.jsx(zu,{onClick:()=>u("/carrito"),icon:o.jsx(lv,{}),label:"Carrito",active:c("/carrito")}),o.jsx(zu,{onClick:()=>u("/profile"),icon:o.jsx(h4,{}),label:"Perfil",active:c("/profile")})]}),o.jsx(Im,{isOpen:i,onClose:()=>a(!1),onIniciarSesion:()=>{a(!1),r()}})]})}function zu({onClick:t,icon:e,label:n,active:r}){return o.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center w-full h-full transition-colors ${r?"text-[#4FC3F7] font-semibold":"text-gray-600 dark:text-gray-300 hover:text-[#4FC3F7] dark:hover:text-[#60a5fa]"}`,"aria-label":n,type:"button",children:[o.jsx("div",{className:"text-lg",children:e}),o.jsx("div",{children:n})]})}function CG(){const{modalAbierto:t,setModalAbierto:e,modo:n,setModo:r}=Gc(),{login:i,signup:a,usuario:c}=Hr(),[u,h]=T.useState(n),[f,g]=T.useState(""),[y,v]=T.useState(""),[w,S]=T.useState(""),[b,N]=T.useState("");T.useEffect(()=>{h(n),N(""),g(""),v(""),S("")},[t,n]);async function j(M){M.preventDefault(),N("");try{if(u==="login")await i(f,y);else{const O=await a(f,y);await Gn(dt(Re,"users",O.uid),{displayName:w||"Usuario",email:f,telefono:"",direccion:"",codigo:"",metodoEntrega:"",admin:!1,createdAt:new Date}),w&&await updateProfile(O,{displayName:w})}e(!1)}catch(O){N("Error: "+O.message)}}return t?o.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-gradient-to-br from-black/90 to-gray-900/90 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:o.jsxs(ae.div,{onClick:M=>M.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40",children:[o.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",children:"×"}),o.jsx("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:u==="login"?o.jsxs(o.Fragment,{children:[o.jsx(h4,{className:"text-[#3b82f6]"})," Iniciar Sesión"]}):o.jsxs(o.Fragment,{children:[o.jsx(vU,{className:"text-[#3b82f6]"})," Registrarse"]})}),b&&o.jsx("p",{className:"text-red-400 mb-4 text-center font-semibold",children:b}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u==="signup"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Nombre de usuario"}),o.jsx("input",{type:"text",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:w,onChange:M=>S(M.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Correo electrónico"}),o.jsx("input",{type:"email",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:f,onChange:M=>g(M.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1",children:"Contraseña"}),o.jsx("input",{type:"password",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:y,onChange:M=>v(M.target.value)})]}),o.jsx("button",{type:"submit",className:"w-full bg-[#3b82f6] hover:bg-[#2563eb] text-white font-semibold py-2 rounded-lg shadow-lg transition transform hover:scale-105",children:u==="login"?"Iniciar sesión":"Registrarse"})]}),o.jsx("p",{className:"mt-4 text-center text-sm cursor-pointer text-[#3b82f6] hover:underline select-none",onClick:()=>{N("");const M=u==="login"?"signup":"login";h(M),r(M)},children:u==="login"?"¿No tienes una cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})]})}):null}const AG=()=>{const{pathname:t}=Hs();return T.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0;const e=document.querySelector("main");e&&(e.scrollTop=0)},[t]),null};function jG(){Hx();const{theme:t,toggleTheme:e}=Tm(),[n,r]=T.useState(0),i=T.useRef(null),[a,c]=T.useState(!0),u=T.useRef(typeof window<"u"?window.scrollY:0),h=T.useRef(!1),[f,g]=T.useState(!0);T.useEffect(()=>{const v=()=>{const b=document.querySelector("header"),N=b?Math.ceil(b.getBoundingClientRect().height):0;r(N);try{const j=i.current,M=j?Math.ceil(j.getBoundingClientRect().height):0;document.documentElement.style.setProperty("--topbar-height",`${M}px`);const O=N+M;document.documentElement.style.setProperty("--content-offset",`${O}px`)}catch{}};v();const w=()=>{try{typeof window<"u"&&g(window.innerWidth>=1280)}catch{}v()};let S=null;try{if(typeof window<"u"&&"ResizeObserver"in window){S=new ResizeObserver(()=>v());const b=document.querySelector("header");b&&S.observe(b),i.current&&S.observe(i.current)}else window.addEventListener("resize",w)}catch{window.addEventListener("resize",w)}return()=>{if(S)try{S.disconnect()}catch{}window.removeEventListener("resize",w)}},[]),T.useEffect(()=>{const v=()=>{h.current||(h.current=!0,requestAnimationFrame(()=>{const w=window.scrollY,S=u.current,b=w-S;w<=0?c(!0):Math.abs(b)<5||(b>0&&w>60?c(!1):b<0&&c(!0)),u.current=w,h.current=!1}))};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[]);const y={position:"fixed",left:0,right:0,top:`${n}px`,zIndex:9990,transform:a?"translateY(0)":"translateY(-110%)",transition:"transform 220ms ease, opacity 220ms ease",pointerEvents:a?"auto":"none",display:"flex",margin:0,padding:0};return o.jsxs("div",{ref:i,style:{...y,padding:"0.25rem 0.5rem",margin:0},className:"flex topbar-base topbar-tech bg-white dark:bg-gradient-to-r dark:from-blue-900 dark:via-blue-800 dark:to-blue-900 shadow-md justify-between items-center transition-colors duration-300",role:"region","aria-label":"Top bar",children:[o.jsx("div",{className:"flex items-center text-[10px] sm:text-xs md:text-sm whitespace-nowrap theme-text text-gray-700 dark:text-gray-200",children:o.jsx("span",{children:"Sitio oficial de las tiendas de videojuegos de RD"})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"theme-toggle",children:[o.jsx("input",{type:"checkbox",checked:t==="dark",onChange:e,className:"theme-toggle__input","aria-label":"Cambiar tema"}),o.jsxs("svg",{className:"theme-toggle__icon theme-toggle__icon--sun",fill:"none",height:"18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"18",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5"}),o.jsx("line",{x1:"12",x2:"12",y1:"1",y2:"3"}),o.jsx("line",{x1:"12",x2:"12",y1:"21",y2:"23"}),o.jsx("line",{x1:"4.22",x2:"5.64",y1:"4.22",y2:"5.64"}),o.jsx("line",{x1:"18.36",x2:"19.78",y1:"18.36",y2:"19.78"}),o.jsx("line",{x1:"1",x2:"3",y1:"12",y2:"12"}),o.jsx("line",{x1:"21",x2:"23",y1:"12",y2:"12"}),o.jsx("line",{x1:"4.22",x2:"5.64",y1:"19.78",y2:"18.36"}),o.jsx("line",{x1:"18.36",x2:"19.78",y1:"5.64",y2:"4.22"})]}),o.jsx("svg",{className:"theme-toggle__icon theme-toggle__icon--moon",viewBox:"0 0 24 24",children:o.jsx("path",{d:"m12.3 4.9c.4-.2.6-.7.5-1.1s-.6-.8-1.1-.8c-4.9.1-8.7 4.1-8.7 9 0 5 4 9 9 9 3.8 0 7.1-2.4 8.4-5.9.2-.4 0-.9-.4-1.2s-.9-.2-1.2.1c-1 .9-2.3 1.4-3.7 1.4-3.1 0-5.7-2.5-5.7-5.7 0-1.9 1.1-3.8 2.9-4.8zm2.8 12.5c.5 0 1 0 1.4-.1-1.2 1.1-2.8 1.7-4.5 1.7-3.9 0-7-3.1-7-7 0-2.5 1.4-4.8 3.5-6-.7 1.1-1 2.4-1 3.8-.1 4.2 3.4 7.6 7.6 7.6z"})})]})})]})}const IG=()=>!0;function PG(){const{theme:t}=Tm();return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white dark:bg-gray-900 transition-colors duration-300",children:[o.jsx(u$,{}),o.jsx(jG,{}),o.jsxs("main",{className:"flex-grow",children:[o.jsx(AG,{}),o.jsx(TG,{})]}),o.jsx(d$,{}),o.jsx(NG,{}),o.jsx(CG,{})]})}function RG(){const[t,e]=T.useState(!1);return T.useEffect(()=>{const n=IG();e(n)},[]),t?o.jsx(mL,{children:o.jsx(PG,{})}):null}FI.createRoot(document.getElementById("root")).render(o.jsx(Br.StrictMode,{children:o.jsx(UP,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(IC,{children:o.jsx(HP,{children:o.jsx(WP,{children:o.jsx(RG,{})})})})})}));
