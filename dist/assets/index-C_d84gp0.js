function ew(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function tv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var od={exports:{}},Na={},ad={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function tw(){if(og)return Ae;og=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function U(O,q,de){this.props=O,this.context=q,this.refs=H,this.updater=de||M}U.prototype.isReactComponent={},U.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ae(){}ae.prototype=U.prototype;function te(O,q,de){this.props=O,this.context=q,this.refs=H,this.updater=de||M}var ne=te.prototype=new ae;ne.constructor=te,$(ne,U.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,Re=Object.prototype.hasOwnProperty,Ie={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function C(O,q,de){var xe,Ce={},be=null,Me=null;if(q!=null)for(xe in q.ref!==void 0&&(Me=q.ref),q.key!==void 0&&(be=""+q.key),q)Re.call(q,xe)&&!b.hasOwnProperty(xe)&&(Ce[xe]=q[xe]);var Fe=arguments.length-2;if(Fe===1)Ce.children=de;else if(1<Fe){for(var He=Array(Fe),wt=0;wt<Fe;wt++)He[wt]=arguments[wt+2];Ce.children=He}if(O&&O.defaultProps)for(xe in Fe=O.defaultProps,Fe)Ce[xe]===void 0&&(Ce[xe]=Fe[xe]);return{$$typeof:r,type:O,key:be,ref:Me,props:Ce,_owner:Ie.current}}function R(O,q){return{$$typeof:r,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function D(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return q[de]})}var V=/\/+/g;function A(O,q){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):q.toString(36)}function it(O,q,de,xe,Ce){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(be){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case r:case e:Me=!0}}if(Me)return Me=O,Ce=Ce(Me),O=xe===""?"."+A(Me,0):xe,he(Ce)?(de="",O!=null&&(de=O.replace(V,"$&/")+"/"),it(Ce,q,de,"",function(wt){return wt})):Ce!=null&&(k(Ce)&&(Ce=R(Ce,de+(!Ce.key||Me&&Me.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+O)),q.push(Ce)),1;if(Me=0,xe=xe===""?".":xe+":",he(O))for(var Fe=0;Fe<O.length;Fe++){be=O[Fe];var He=xe+A(be,Fe);Me+=it(be,q,de,He,Ce)}else if(He=x(O),typeof He=="function")for(O=He.call(O),Fe=0;!(be=O.next()).done;)be=be.value,He=xe+A(be,Fe++),Me+=it(be,q,de,He,Ce);else if(be==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Me}function Ot(O,q,de){if(O==null)return O;var xe=[],Ce=0;return it(O,xe,"","",function(be){return q.call(de,be,Ce++)}),xe}function Vt(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var ze={current:null},ee={transition:null},fe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ie};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Ot,forEach:function(O,q,de){Ot(O,function(){q.apply(this,arguments)},de)},count:function(O){var q=0;return Ot(O,function(){q++}),q},toArray:function(O){return Ot(O,function(q){return q})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=U,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=te,Ae.StrictMode=i,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ae.act=ie,Ae.cloneElement=function(O,q,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var xe=$({},O.props),Ce=O.key,be=O.ref,Me=O._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,Me=Ie.current),q.key!==void 0&&(Ce=""+q.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for(He in q)Re.call(q,He)&&!b.hasOwnProperty(He)&&(xe[He]=q[He]===void 0&&Fe!==void 0?Fe[He]:q[He])}var He=arguments.length-2;if(He===1)xe.children=de;else if(1<He){Fe=Array(He);for(var wt=0;wt<He;wt++)Fe[wt]=arguments[wt+2];xe.children=Fe}return{$$typeof:r,type:O.type,key:Ce,ref:be,props:xe,_owner:Me}},Ae.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ae.createElement=C,Ae.createFactory=function(O){var q=C.bind(null,O);return q.type=O,q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:f,render:O}},Ae.isValidElement=k,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Vt}},Ae.memo=function(O,q){return{$$typeof:v,type:O,compare:q===void 0?null:q}},Ae.startTransition=function(O){var q=ee.transition;ee.transition={};try{O()}finally{ee.transition=q}},Ae.unstable_act=ie,Ae.useCallback=function(O,q){return ze.current.useCallback(O,q)},Ae.useContext=function(O){return ze.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return ze.current.useDeferredValue(O)},Ae.useEffect=function(O,q){return ze.current.useEffect(O,q)},Ae.useId=function(){return ze.current.useId()},Ae.useImperativeHandle=function(O,q,de){return ze.current.useImperativeHandle(O,q,de)},Ae.useInsertionEffect=function(O,q){return ze.current.useInsertionEffect(O,q)},Ae.useLayoutEffect=function(O,q){return ze.current.useLayoutEffect(O,q)},Ae.useMemo=function(O,q){return ze.current.useMemo(O,q)},Ae.useReducer=function(O,q,de){return ze.current.useReducer(O,q,de)},Ae.useRef=function(O){return ze.current.useRef(O)},Ae.useState=function(O){return ze.current.useState(O)},Ae.useSyncExternalStore=function(O,q,de){return ze.current.useSyncExternalStore(O,q,de)},Ae.useTransition=function(){return ze.current.useTransition()},Ae.version="18.3.1",Ae}var ag;function tf(){return ag||(ag=1,ad.exports=tw()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function nw(){if(lg)return Na;lg=1;var r=tf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,I={},x=null,M=null;v!==void 0&&(x=""+v),g.key!==void 0&&(x=""+g.key),g.ref!==void 0&&(M=g.ref);for(E in g)i.call(g,E)&&!l.hasOwnProperty(E)&&(I[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:f,key:x,ref:M,props:I,_owner:o.current}}return Na.Fragment=t,Na.jsx=h,Na.jsxs=h,Na}var ug;function rw(){return ug||(ug=1,od.exports=nw()),od.exports}var _=rw(),K=tf();const Pr=tv(K),iw=ew({__proto__:null,default:Pr},[K]);var Au={},ld={exports:{}},tn={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function sw(){return cg||(cg=1,function(r){function e(ee,fe){var ie=ee.length;ee.push(fe);e:for(;0<ie;){var O=ie-1>>>1,q=ee[O];if(0<o(q,fe))ee[O]=fe,ee[ie]=q,ie=O;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var fe=ee[0],ie=ee.pop();if(ie!==fe){ee[0]=ie;e:for(var O=0,q=ee.length,de=q>>>1;O<de;){var xe=2*(O+1)-1,Ce=ee[xe],be=xe+1,Me=ee[be];if(0>o(Ce,ie))be<q&&0>o(Me,Ce)?(ee[O]=Me,ee[be]=ie,O=be):(ee[O]=Ce,ee[xe]=ie,O=xe);else if(be<q&&0>o(Me,ie))ee[O]=Me,ee[be]=ie,O=be;else break e}}return fe}function o(ee,fe){var ie=ee.sortIndex-fe.sortIndex;return ie!==0?ie:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,I=null,x=3,M=!1,$=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(ee){for(var fe=t(v);fe!==null;){if(fe.callback===null)i(v);else if(fe.startTime<=ee)i(v),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=t(v)}}function he(ee){if(H=!1,ne(ee),!$)if(t(g)!==null)$=!0,Vt(Re);else{var fe=t(v);fe!==null&&ze(he,fe.startTime-ee)}}function Re(ee,fe){$=!1,H&&(H=!1,ae(C),C=-1),M=!0;var ie=x;try{for(ne(fe),I=t(g);I!==null&&(!(I.expirationTime>fe)||ee&&!D());){var O=I.callback;if(typeof O=="function"){I.callback=null,x=I.priorityLevel;var q=O(I.expirationTime<=fe);fe=r.unstable_now(),typeof q=="function"?I.callback=q:I===t(g)&&i(g),ne(fe)}else i(g);I=t(g)}if(I!==null)var de=!0;else{var xe=t(v);xe!==null&&ze(he,xe.startTime-fe),de=!1}return de}finally{I=null,x=ie,M=!1}}var Ie=!1,b=null,C=-1,R=5,k=-1;function D(){return!(r.unstable_now()-k<R)}function V(){if(b!==null){var ee=r.unstable_now();k=ee;var fe=!0;try{fe=b(!0,ee)}finally{fe?A():(Ie=!1,b=null)}}else Ie=!1}var A;if(typeof te=="function")A=function(){te(V)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Ot=it.port2;it.port1.onmessage=V,A=function(){Ot.postMessage(null)}}else A=function(){U(V,0)};function Vt(ee){b=ee,Ie||(Ie=!0,A())}function ze(ee,fe){C=U(function(){ee(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){$||M||($=!0,Vt(Re))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var fe=3;break;default:fe=x}var ie=x;x=fe;try{return ee()}finally{x=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=x;x=ee;try{return fe()}finally{x=ie}},r.unstable_scheduleCallback=function(ee,fe,ie){var O=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?O+ie:O):ie=O,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,ee={id:E++,callback:fe,priorityLevel:ee,startTime:ie,expirationTime:q,sortIndex:-1},ie>O?(ee.sortIndex=ie,e(v,ee),t(g)===null&&ee===t(v)&&(H?(ae(C),C=-1):H=!0,ze(he,ie-O))):(ee.sortIndex=q,e(g,ee),$||M||($=!0,Vt(Re))),ee},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ee){var fe=x;return function(){var ie=x;x=fe;try{return ee.apply(this,arguments)}finally{x=ie}}}}(cd)),cd}var hg;function ow(){return hg||(hg=1,ud.exports=sw()),ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function aw(){if(dg)return tn;dg=1;var r=tf(),e=ow();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function x(n){return g.call(I,n)?!0:g.call(E,n)?!1:v.test(n)?I[n]=!0:(E[n]=!0,!1)}function M(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $(n,s,a,c){if(s===null||typeof s>"u"||M(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(n,s,a,c,d,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];U[s]=new H(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var ae=/[\-:]([a-z])/g;function te(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(ae,te);U[s]=new H(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(ae,te);U[s]=new H(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(ae,te);U[s]=new H(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function ne(n,s,a,c){var d=U.hasOwnProperty(s)?U[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&($(s,a,d,c)&&(a=null),c||d===null?x(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var he=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,O;function q(n){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+n}var de=!1;function xe(n,s){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(n,[],s)}else{try{s.call()}catch(B){c=B}n.call(s.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),w=d.length-1,S=m.length-1;1<=w&&0<=S&&d[w]!==m[S];)S--;for(;1<=w&&0<=S;w--,S--)if(d[w]!==m[S]){if(w!==1||S!==1)do if(w--,S--,0>S||d[w]!==m[S]){var P=`
`+d[w].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=w&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?q(n):""}function Ce(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case Ie:return"Portal";case R:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case it:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ot:return s=n.displayName||null,s!==null?s:be(n.type)||"Memo";case Vt:s=n._payload,n=n._init;try{return be(n(s))}catch{}}return null}function Me(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function He(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(n){var s=He(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ur(n){n._valueTracker||(n._valueTracker=wt(n))}function vs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=He(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Mr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ni(n,s){var a=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function _s(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Lo(n,s){s=s.checked,s!=null&&ne(n,"checked",s,!1)}function Mo(n,s){Lo(n,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ws(n,s.type,a):s.hasOwnProperty("defaultValue")&&ws(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function dl(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ws(n,s,a){(s!=="number"||Mr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var cr=Array.isArray;function hr(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Fo(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Es(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(cr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Fe(a)}}function Ts(n,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Uo(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?dt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var dr,Bo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=dr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Fr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Di=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(n){Di.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),bi[s]=bi[n]})});function zo(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||bi.hasOwnProperty(n)&&bi[n]?(""+s).trim():s+"px"}function $o(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=zo(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ho=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(n,s){if(s){if(Ho[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function qo(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xs=null,pn=null,$n=null;function Ss(n){if(n=ga(n)){if(typeof xs!="function")throw Error(t(280));var s=n.stateNode;s&&(s=zl(s),xs(n.stateNode,n.type,s))}}function Hn(n){pn?$n?$n.push(n):$n=[n]:pn=n}function Go(){if(pn){var n=pn,s=$n;if($n=pn=null,Ss(n),s)for(n=0;n<s.length;n++)Ss(s[n])}}function Vi(n,s){return n(s)}function Ko(){}var fr=!1;function Qo(n,s,a){if(fr)return n(s,a);fr=!0;try{return Vi(n,s,a)}finally{fr=!1,(pn!==null||$n!==null)&&(Ko(),Go())}}function st(n,s){var a=n.stateNode;if(a===null)return null;var c=zl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Cs=!1;if(f)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Cs=!1}function ji(n,s,a,c,d,m,w,S,P){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(Q){this.onError(Q)}}var Li=!1,As=null,An=!1,Xo=null,Oc={onError:function(n){Li=!0,As=n}};function Rs(n,s,a,c,d,m,w,S,P){Li=!1,As=null,ji.apply(Oc,arguments)}function fl(n,s,a,c,d,m,w,S,P){if(Rs.apply(this,arguments),Li){if(Li){var B=As;Li=!1,As=null}else throw Error(t(198));An||(An=!0,Xo=B)}}function Rn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Mi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Pn(n){if(Rn(n)!==n)throw Error(t(188))}function pl(n){var s=n.alternate;if(!s){if(s=Rn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Pn(d),n;if(m===c)return Pn(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var w=!1,S=d.child;S;){if(S===a){w=!0,a=d,c=m;break}if(S===c){w=!0,c=d,a=m;break}S=S.sibling}if(!w){for(S=m.child;S;){if(S===a){w=!0,a=m,c=d;break}if(S===c){w=!0,c=m,a=d;break}S=S.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Yo(n){return n=pl(n),n!==null?Ps(n):null}function Ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ps(n);if(s!==null)return s;n=n.sibling}return null}var ks=e.unstable_scheduleCallback,Jo=e.unstable_cancelCallback,ml=e.unstable_shouldYield,Vc=e.unstable_requestPaint,We=e.unstable_now,gl=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Zo=e.unstable_LowPriority,yl=e.unstable_IdlePriority,Ui=null,sn=null;function vl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ui,n,void 0,(n.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:wl,ea=Math.log,_l=Math.LN2;function wl(n){return n>>>=0,n===0?32:31-(ea(n)/_l|0)|0}var Ns=64,bs=4194304;function Br(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bi(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,w=a&268435455;if(w!==0){var S=w&~d;S!==0?c=Br(S):(m&=w,m!==0&&(c=Br(m)))}else w=a&~d,w!==0?c=Br(w):m!==0&&(c=Br(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Ht(s),d=1<<a,c|=n[a],s&=~d;return c}function jc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var w=31-Ht(m),S=1<<w,P=d[w];P===-1?((S&a)===0||(S&c)!==0)&&(d[w]=jc(S,s)):P<=s&&(n.expiredLanes|=S),m&=~S}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zi(){var n=Ns;return Ns<<=1,(Ns&4194240)===0&&(Ns=64),n}function zr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function $r(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ht(s),n[s]=a}function $e(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Ht(a),m=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Hr(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Ht(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Ne=0;function Wr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var El,Ds,Tl,Il,xl,ta=!1,Wn=[],Ct=null,kn=null,Nn=null,qr=new Map,gn=new Map,qn=[],Lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sl(n,s){switch(n){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(s.pointerId)}}function Kt(n,s,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=ga(s),s!==null&&Ds(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Mc(n,s,a,c,d){switch(s){case"focusin":return Ct=Kt(Ct,n,s,a,c,d),!0;case"dragenter":return kn=Kt(kn,n,s,a,c,d),!0;case"mouseover":return Nn=Kt(Nn,n,s,a,c,d),!0;case"pointerover":var m=d.pointerId;return qr.set(m,Kt(qr.get(m)||null,n,s,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,gn.set(m,Kt(gn.get(m)||null,n,s,a,c,d)),!0}return!1}function Cl(n){var s=Gi(n.target);if(s!==null){var a=Rn(s);if(a!==null){if(s=a.tag,s===13){if(s=Mi(a),s!==null){n.blockedOn=s,xl(n.priority,function(){Tl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Os(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Oi=c,a.target.dispatchEvent(c),Oi=null}else return s=ga(a),s!==null&&Ds(s),n.blockedOn=a,!1;s.shift()}return!0}function $i(n,s,a){mr(n)&&a.delete(s)}function Al(){ta=!1,Ct!==null&&mr(Ct)&&(Ct=null),kn!==null&&mr(kn)&&(kn=null),Nn!==null&&mr(Nn)&&(Nn=null),qr.forEach($i),gn.forEach($i)}function bn(n,s){n.blockedOn===s&&(n.blockedOn=null,ta||(ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Al)))}function Dn(n){function s(d){return bn(d,n)}if(0<Wn.length){bn(Wn[0],n);for(var a=1;a<Wn.length;a++){var c=Wn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Ct!==null&&bn(Ct,n),kn!==null&&bn(kn,n),Nn!==null&&bn(Nn,n),qr.forEach(s),gn.forEach(s),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)Cl(a),a.blockedOn===null&&qn.shift()}var gr=he.ReactCurrentBatchConfig,Gr=!0;function Xe(n,s,a,c){var d=Ne,m=gr.transition;gr.transition=null;try{Ne=1,na(n,s,a,c)}finally{Ne=d,gr.transition=m}}function Fc(n,s,a,c){var d=Ne,m=gr.transition;gr.transition=null;try{Ne=4,na(n,s,a,c)}finally{Ne=d,gr.transition=m}}function na(n,s,a,c){if(Gr){var d=Os(n,s,a,c);if(d===null)Xc(n,s,c,Hi,a),Sl(n,c);else if(Mc(d,n,s,a,c))c.stopPropagation();else if(Sl(n,c),s&4&&-1<Lc.indexOf(n)){for(;d!==null;){var m=ga(d);if(m!==null&&El(m),m=Os(n,s,a,c),m===null&&Xc(n,s,c,Hi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Xc(n,s,c,null,a)}}var Hi=null;function Os(n,s,a,c){if(Hi=null,n=Is(c),n=Gi(n),n!==null)if(s=Rn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Mi(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Hi=n,null}function ra(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gl()){case Fi:return 1;case Ur:return 4;case mn:case Zo:return 16;case yl:return 536870912;default:return 16}default:return 16}}var an=null,Vs=null,Qt=null;function ia(){if(Qt)return Qt;var n,s=Vs,a=s.length,c,d="value"in an?an.value:an.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[m-c];c++);return Qt=d.slice(n,1<c?1-c:void 0)}function js(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Gn(){return!0}function sa(){return!1}function At(n){function s(a,c,d,m,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gn:sa,this.isPropagationStopped=sa,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),s}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=At(On),Kn=ie({},On,{view:0,detail:0}),Uc=At(Kn),Ms,yr,Kr,Wi=ie({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Ms=n.screenX-Kr.screenX,yr=n.screenY-Kr.screenY):yr=Ms=0,Kr=n),Ms)},movementY:function(n){return"movementY"in n?n.movementY:yr}}),Fs=At(Wi),oa=ie({},Wi,{dataTransfer:0}),Rl=At(oa),Us=ie({},Kn,{relatedTarget:0}),Bs=At(Us),Pl=ie({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=At(Pl),kl=ie({},On,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nl=At(kl),bl=ie({},On,{data:0}),aa=At(bl),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Dl[n])?!!s[n]:!1}function Qn(){return Ol}var u=ie({},Kn,{key:function(n){if(n.key){var s=zs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=At(u),y=ie({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=At(y),j=ie({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),z=At(j),Z=ie({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=At(Z),pt=ie({},Wi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),De=At(pt),Et=[9,13,27,32],lt=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var ln=f&&"TextEvent"in window&&!yn,qi=f&&(!lt||yn&&8<yn&&11>=yn),$s=" ",ep=!1;function tp(n,s){switch(n){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function Y0(n,s){switch(n){case"compositionend":return np(s);case"keypress":return s.which!==32?null:(ep=!0,$s);case"textInput":return n=s.data,n===$s&&ep?null:n;default:return null}}function J0(n,s){if(Hs)return n==="compositionend"||!lt&&tp(n,s)?(n=ia(),Qt=Vs=an=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qi&&s.locale!=="ko"?null:s.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Z0[n.type]:s==="textarea"}function ip(n,s,a,c){Hn(c),s=Fl(s,"onChange"),0<s.length&&(a=new Ls("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var la=null,ua=null;function e1(n){Tp(n,0)}function Vl(n){var s=Qs(n);if(vs(s))return n}function t1(n,s){if(n==="change")return s}var sp=!1;if(f){var Bc;if(f){var zc="oninput"in document;if(!zc){var op=document.createElement("div");op.setAttribute("oninput","return;"),zc=typeof op.oninput=="function"}Bc=zc}else Bc=!1;sp=Bc&&(!document.documentMode||9<document.documentMode)}function ap(){la&&(la.detachEvent("onpropertychange",lp),ua=la=null)}function lp(n){if(n.propertyName==="value"&&Vl(ua)){var s=[];ip(s,ua,n,Is(n)),Qo(e1,s)}}function n1(n,s,a){n==="focusin"?(ap(),la=s,ua=a,la.attachEvent("onpropertychange",lp)):n==="focusout"&&ap()}function r1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vl(ua)}function i1(n,s){if(n==="click")return Vl(s)}function s1(n,s){if(n==="input"||n==="change")return Vl(s)}function o1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Vn=typeof Object.is=="function"?Object.is:o1;function ca(n,s){if(Vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!Vn(n[d],s[d]))return!1}return!0}function up(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cp(n,s){var a=up(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=up(a)}}function hp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?hp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function dp(){for(var n=window,s=Mr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Mr(n.document)}return s}function $c(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function a1(n){var s=dp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&hp(a.ownerDocument.documentElement,a)){if(c!==null&&$c(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=cp(a,m);var w=cp(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var l1=f&&"documentMode"in document&&11>=document.documentMode,Ws=null,Hc=null,ha=null,Wc=!1;function fp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||Ws==null||Ws!==Mr(c)||(c=Ws,"selectionStart"in c&&$c(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ha&&ca(ha,c)||(ha=c,c=Fl(Hc,"onSelect"),0<c.length&&(s=new Ls("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Ws)))}function jl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var qs={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},qc={},pp={};f&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ll(n){if(qc[n])return qc[n];if(!qs[n])return n;var s=qs[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in pp)return qc[n]=s[a];return n}var mp=Ll("animationend"),gp=Ll("animationiteration"),yp=Ll("animationstart"),vp=Ll("transitionend"),_p=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,s){_p.set(n,s),l(s,[n])}for(var Gc=0;Gc<wp.length;Gc++){var Kc=wp[Gc],u1=Kc.toLowerCase(),c1=Kc[0].toUpperCase()+Kc.slice(1);Qr(u1,"on"+c1)}Qr(mp,"onAnimationEnd"),Qr(gp,"onAnimationIteration"),Qr(yp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(vp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function Ep(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,fl(c,s,void 0,n),n.currentTarget=null}function Tp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],P=S.instance,B=S.currentTarget;if(S=S.listener,P!==m&&d.isPropagationStopped())break e;Ep(d,S,B),m=P}else for(w=0;w<c.length;w++){if(S=c[w],P=S.instance,B=S.currentTarget,S=S.listener,P!==m&&d.isPropagationStopped())break e;Ep(d,S,B),m=P}}}if(An)throw n=Xo,An=!1,Xo=null,n}function Ge(n,s){var a=s[nh];a===void 0&&(a=s[nh]=new Set);var c=n+"__bubble";a.has(c)||(Ip(s,n,2,!1),a.add(c))}function Qc(n,s,a){var c=0;s&&(c|=4),Ip(a,n,c,s)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function fa(n){if(!n[Ml]){n[Ml]=!0,i.forEach(function(a){a!=="selectionchange"&&(h1.has(a)||Qc(a,!1,n),Qc(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ml]||(s[Ml]=!0,Qc("selectionchange",!1,s))}}function Ip(n,s,a,c){switch(ra(s)){case 1:var d=Xe;break;case 4:d=Fc;break;default:d=na}a=d.bind(null,s,a,n),d=void 0,!Cs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Xc(n,s,a,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;w=w.return}for(;S!==null;){if(w=Gi(S),w===null)return;if(P=w.tag,P===5||P===6){c=m=w;continue e}S=S.parentNode}}c=c.return}Qo(function(){var B=m,Q=Is(a),X=[];e:{var G=_p.get(n);if(G!==void 0){var re=Ls,le=n;switch(n){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":re=p;break;case"focusin":le="focus",re=Bs;break;case"focusout":le="blur",re=Bs;break;case"beforeblur":case"afterblur":re=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=z;break;case mp:case gp:case yp:re=vr;break;case vp:re=Be;break;case"scroll":re=Uc;break;case"wheel":re=De;break;case"copy":case"cut":case"paste":re=Nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=T}var ue=(s&4)!==0,ot=!ue&&n==="scroll",L=ue?G!==null?G+"Capture":null:G;ue=[];for(var N=B,F;N!==null;){F=N;var J=F.stateNode;if(F.tag===5&&J!==null&&(F=J,L!==null&&(J=st(N,L),J!=null&&ue.push(pa(N,J,F)))),ot)break;N=N.return}0<ue.length&&(G=new re(G,le,null,a,Q),X.push({event:G,listeners:ue}))}}if((s&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",G&&a!==Oi&&(le=a.relatedTarget||a.fromElement)&&(Gi(le)||le[_r]))break e;if((re||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,re?(le=a.relatedTarget||a.toElement,re=B,le=le?Gi(le):null,le!==null&&(ot=Rn(le),le!==ot||le.tag!==5&&le.tag!==6)&&(le=null)):(re=null,le=B),re!==le)){if(ue=Fs,J="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ue=T,J="onPointerLeave",L="onPointerEnter",N="pointer"),ot=re==null?G:Qs(re),F=le==null?G:Qs(le),G=new ue(J,N+"leave",re,a,Q),G.target=ot,G.relatedTarget=F,J=null,Gi(Q)===B&&(ue=new ue(L,N+"enter",le,a,Q),ue.target=F,ue.relatedTarget=ot,J=ue),ot=J,re&&le)t:{for(ue=re,L=le,N=0,F=ue;F;F=Gs(F))N++;for(F=0,J=L;J;J=Gs(J))F++;for(;0<N-F;)ue=Gs(ue),N--;for(;0<F-N;)L=Gs(L),F--;for(;N--;){if(ue===L||L!==null&&ue===L.alternate)break t;ue=Gs(ue),L=Gs(L)}ue=null}else ue=null;re!==null&&xp(X,G,re,ue,!1),le!==null&&ot!==null&&xp(X,ot,le,ue,!0)}}e:{if(G=B?Qs(B):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ce=t1;else if(rp(G))if(sp)ce=s1;else{ce=r1;var pe=n1}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ce=i1);if(ce&&(ce=ce(n,B))){ip(X,ce,a,Q);break e}pe&&pe(n,G,B),n==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&ws(G,"number",G.value)}switch(pe=B?Qs(B):window,n){case"focusin":(rp(pe)||pe.contentEditable==="true")&&(Ws=pe,Hc=B,ha=null);break;case"focusout":ha=Hc=Ws=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,fp(X,a,Q);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":fp(X,a,Q)}var me;if(lt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Hs?tp(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(qi&&a.locale!=="ko"&&(Hs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Hs&&(me=ia()):(an=Q,Vs="value"in an?an.value:an.textContent,Hs=!0)),pe=Fl(B,we),0<pe.length&&(we=new aa(we,n,null,a,Q),X.push({event:we,listeners:pe}),me?we.data=me:(me=np(a),me!==null&&(we.data=me)))),(me=ln?Y0(n,a):J0(n,a))&&(B=Fl(B,"onBeforeInput"),0<B.length&&(Q=new aa("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:B}),Q.data=me))}Tp(X,s)})}function pa(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Fl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=st(n,a),m!=null&&c.unshift(pa(n,m,d)),m=st(n,s),m!=null&&c.push(pa(n,m,d))),n=n.return}return c}function Gs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xp(n,s,a,c,d){for(var m=s._reactName,w=[];a!==null&&a!==c;){var S=a,P=S.alternate,B=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&B!==null&&(S=B,d?(P=st(a,m),P!=null&&w.unshift(pa(a,P,S))):d||(P=st(a,m),P!=null&&w.push(pa(a,P,S)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var d1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function Sp(n){return(typeof n=="string"?n:""+n).replace(d1,`
`).replace(f1,"")}function Ul(n,s,a){if(s=Sp(s),Sp(n)!==s&&a)throw Error(t(425))}function Bl(){}var Yc=null,Jc=null;function Zc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(n){return Cp.resolve(null).then(n).catch(g1)}:eh;function g1(n){setTimeout(function(){throw n})}function th(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(s)}function Xr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Ap(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ks,ma="__reactProps$"+Ks,_r="__reactContainer$"+Ks,nh="__reactEvents$"+Ks,y1="__reactListeners$"+Ks,v1="__reactHandles$"+Ks;function Gi(n){var s=n[Xn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[_r]||a[Xn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Ap(n);n!==null;){if(a=n[Xn])return a;n=Ap(n)}return s}n=a,a=n.parentNode}return null}function ga(n){return n=n[Xn]||n[_r],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function zl(n){return n[ma]||null}var rh=[],Xs=-1;function Yr(n){return{current:n}}function Ke(n){0>Xs||(n.current=rh[Xs],rh[Xs]=null,Xs--)}function qe(n,s){Xs++,rh[Xs]=n.current,n.current=s}var Jr={},jt=Yr(Jr),Xt=Yr(!1),Ki=Jr;function Ys(n,s){var a=n.type.contextTypes;if(!a)return Jr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(n){return n=n.childContextTypes,n!=null}function $l(){Ke(Xt),Ke(jt)}function Rp(n,s,a){if(jt.current!==Jr)throw Error(t(168));qe(jt,s),qe(Xt,a)}function Pp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Me(n)||"Unknown",d));return ie({},a,c)}function Hl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Ki=jt.current,qe(jt,n),qe(Xt,Xt.current),!0}function kp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Pp(n,s,Ki),c.__reactInternalMemoizedMergedChildContext=n,Ke(Xt),Ke(jt),qe(jt,n)):Ke(Xt),qe(Xt,a)}var wr=null,Wl=!1,ih=!1;function Np(n){wr===null?wr=[n]:wr.push(n)}function _1(n){Wl=!0,Np(n)}function Zr(){if(!ih&&wr!==null){ih=!0;var n=0,s=Ne;try{var a=wr;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}wr=null,Wl=!1}catch(d){throw wr!==null&&(wr=wr.slice(n+1)),ks(Fi,Zr),d}finally{Ne=s,ih=!1}}return null}var Js=[],Zs=0,ql=null,Gl=0,vn=[],_n=0,Qi=null,Er=1,Tr="";function Xi(n,s){Js[Zs++]=Gl,Js[Zs++]=ql,ql=n,Gl=s}function bp(n,s,a){vn[_n++]=Er,vn[_n++]=Tr,vn[_n++]=Qi,Qi=n;var c=Er;n=Tr;var d=32-Ht(c)-1;c&=~(1<<d),a+=1;var m=32-Ht(s)+d;if(30<m){var w=d-d%5;m=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Er=1<<32-Ht(s)+d|a<<d|c,Tr=m+n}else Er=1<<m|a<<d|c,Tr=n}function sh(n){n.return!==null&&(Xi(n,1),bp(n,1,0))}function oh(n){for(;n===ql;)ql=Js[--Zs],Js[Zs]=null,Gl=Js[--Zs],Js[Zs]=null;for(;n===Qi;)Qi=vn[--_n],vn[_n]=null,Tr=vn[--_n],vn[_n]=null,Er=vn[--_n],vn[_n]=null}var un=null,cn=null,Ye=!1,jn=null;function Dp(n,s){var a=In(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Op(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,un=n,cn=Xr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,un=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Qi!==null?{id:Er,overflow:Tr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=In(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function ah(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lh(n){if(Ye){var s=cn;if(s){var a=s;if(!Op(n,s)){if(ah(n))throw Error(t(418));s=Xr(a.nextSibling);var c=un;s&&Op(n,s)?Dp(c,a):(n.flags=n.flags&-4097|2,Ye=!1,un=n)}}else{if(ah(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,un=n}}}function Vp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function Kl(n){if(n!==un)return!1;if(!Ye)return Vp(n),Ye=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Zc(n.type,n.memoizedProps)),s&&(s=cn)){if(ah(n))throw jp(),Error(t(418));for(;s;)Dp(n,s),s=Xr(s.nextSibling)}if(Vp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){cn=Xr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=un?Xr(n.stateNode.nextSibling):null;return!0}function jp(){for(var n=cn;n;)n=Xr(n.nextSibling)}function eo(){cn=un=null,Ye=!1}function uh(n){jn===null?jn=[n]:jn.push(n)}var w1=he.ReactCurrentBatchConfig;function ya(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var S=d.refs;w===null?delete S[m]:S[m]=w},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Ql(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Lp(n){var s=n._init;return s(n._payload)}function Mp(n){function s(L,N){if(n){var F=L.deletions;F===null?(L.deletions=[N],L.flags|=16):F.push(N)}}function a(L,N){if(!n)return null;for(;N!==null;)s(L,N),N=N.sibling;return null}function c(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function d(L,N){return L=ai(L,N),L.index=0,L.sibling=null,L}function m(L,N,F){return L.index=F,n?(F=L.alternate,F!==null?(F=F.index,F<N?(L.flags|=2,N):F):(L.flags|=2,N)):(L.flags|=1048576,N)}function w(L){return n&&L.alternate===null&&(L.flags|=2),L}function S(L,N,F,J){return N===null||N.tag!==6?(N=ed(F,L.mode,J),N.return=L,N):(N=d(N,F),N.return=L,N)}function P(L,N,F,J){var ce=F.type;return ce===b?Q(L,N,F.props.children,J,F.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Vt&&Lp(ce)===N.type)?(J=d(N,F.props),J.ref=ya(L,N,F),J.return=L,J):(J=_u(F.type,F.key,F.props,null,L.mode,J),J.ref=ya(L,N,F),J.return=L,J)}function B(L,N,F,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=td(F,L.mode,J),N.return=L,N):(N=d(N,F.children||[]),N.return=L,N)}function Q(L,N,F,J,ce){return N===null||N.tag!==7?(N=is(F,L.mode,J,ce),N.return=L,N):(N=d(N,F),N.return=L,N)}function X(L,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ed(""+N,L.mode,F),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Re:return F=_u(N.type,N.key,N.props,null,L.mode,F),F.ref=ya(L,null,N),F.return=L,F;case Ie:return N=td(N,L.mode,F),N.return=L,N;case Vt:var J=N._init;return X(L,J(N._payload),F)}if(cr(N)||fe(N))return N=is(N,L.mode,F,null),N.return=L,N;Ql(L,N)}return null}function G(L,N,F,J){var ce=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:S(L,N,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Re:return F.key===ce?P(L,N,F,J):null;case Ie:return F.key===ce?B(L,N,F,J):null;case Vt:return ce=F._init,G(L,N,ce(F._payload),J)}if(cr(F)||fe(F))return ce!==null?null:Q(L,N,F,J,null);Ql(L,F)}return null}function re(L,N,F,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return L=L.get(F)||null,S(N,L,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Re:return L=L.get(J.key===null?F:J.key)||null,P(N,L,J,ce);case Ie:return L=L.get(J.key===null?F:J.key)||null,B(N,L,J,ce);case Vt:var pe=J._init;return re(L,N,F,pe(J._payload),ce)}if(cr(J)||fe(J))return L=L.get(F)||null,Q(N,L,J,ce,null);Ql(N,J)}return null}function le(L,N,F,J){for(var ce=null,pe=null,me=N,we=N=0,xt=null;me!==null&&we<F.length;we++){me.index>we?(xt=me,me=null):xt=me.sibling;var Le=G(L,me,F[we],J);if(Le===null){me===null&&(me=xt);break}n&&me&&Le.alternate===null&&s(L,me),N=m(Le,N,we),pe===null?ce=Le:pe.sibling=Le,pe=Le,me=xt}if(we===F.length)return a(L,me),Ye&&Xi(L,we),ce;if(me===null){for(;we<F.length;we++)me=X(L,F[we],J),me!==null&&(N=m(me,N,we),pe===null?ce=me:pe.sibling=me,pe=me);return Ye&&Xi(L,we),ce}for(me=c(L,me);we<F.length;we++)xt=re(me,L,we,F[we],J),xt!==null&&(n&&xt.alternate!==null&&me.delete(xt.key===null?we:xt.key),N=m(xt,N,we),pe===null?ce=xt:pe.sibling=xt,pe=xt);return n&&me.forEach(function(li){return s(L,li)}),Ye&&Xi(L,we),ce}function ue(L,N,F,J){var ce=fe(F);if(typeof ce!="function")throw Error(t(150));if(F=ce.call(F),F==null)throw Error(t(151));for(var pe=ce=null,me=N,we=N=0,xt=null,Le=F.next();me!==null&&!Le.done;we++,Le=F.next()){me.index>we?(xt=me,me=null):xt=me.sibling;var li=G(L,me,Le.value,J);if(li===null){me===null&&(me=xt);break}n&&me&&li.alternate===null&&s(L,me),N=m(li,N,we),pe===null?ce=li:pe.sibling=li,pe=li,me=xt}if(Le.done)return a(L,me),Ye&&Xi(L,we),ce;if(me===null){for(;!Le.done;we++,Le=F.next())Le=X(L,Le.value,J),Le!==null&&(N=m(Le,N,we),pe===null?ce=Le:pe.sibling=Le,pe=Le);return Ye&&Xi(L,we),ce}for(me=c(L,me);!Le.done;we++,Le=F.next())Le=re(me,L,we,Le.value,J),Le!==null&&(n&&Le.alternate!==null&&me.delete(Le.key===null?we:Le.key),N=m(Le,N,we),pe===null?ce=Le:pe.sibling=Le,pe=Le);return n&&me.forEach(function(Z1){return s(L,Z1)}),Ye&&Xi(L,we),ce}function ot(L,N,F,J){if(typeof F=="object"&&F!==null&&F.type===b&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Re:e:{for(var ce=F.key,pe=N;pe!==null;){if(pe.key===ce){if(ce=F.type,ce===b){if(pe.tag===7){a(L,pe.sibling),N=d(pe,F.props.children),N.return=L,L=N;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Vt&&Lp(ce)===pe.type){a(L,pe.sibling),N=d(pe,F.props),N.ref=ya(L,pe,F),N.return=L,L=N;break e}a(L,pe);break}else s(L,pe);pe=pe.sibling}F.type===b?(N=is(F.props.children,L.mode,J,F.key),N.return=L,L=N):(J=_u(F.type,F.key,F.props,null,L.mode,J),J.ref=ya(L,N,F),J.return=L,L=J)}return w(L);case Ie:e:{for(pe=F.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){a(L,N.sibling),N=d(N,F.children||[]),N.return=L,L=N;break e}else{a(L,N);break}else s(L,N);N=N.sibling}N=td(F,L.mode,J),N.return=L,L=N}return w(L);case Vt:return pe=F._init,ot(L,N,pe(F._payload),J)}if(cr(F))return le(L,N,F,J);if(fe(F))return ue(L,N,F,J);Ql(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(a(L,N.sibling),N=d(N,F),N.return=L,L=N):(a(L,N),N=ed(F,L.mode,J),N.return=L,L=N),w(L)):a(L,N)}return ot}var to=Mp(!0),Fp=Mp(!1),Xl=Yr(null),Yl=null,no=null,ch=null;function hh(){ch=no=Yl=null}function dh(n){var s=Xl.current;Ke(Xl),n._currentValue=s}function fh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function ro(n,s){Yl=n,ch=no=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Jt=!0),n.firstContext=null)}function wn(n){var s=n._currentValue;if(ch!==n)if(n={context:n,memoizedValue:s,next:null},no===null){if(Yl===null)throw Error(t(308));no=n,Yl.dependencies={lanes:0,firstContext:n}}else no=no.next=n;return s}var Yi=null;function ph(n){Yi===null?Yi=[n]:Yi.push(n)}function Up(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,ph(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ir(n,c)}function Ir(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ei=!1;function mh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function xr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ti(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Ir(n,a)}return d=c.interleaved,d===null?(s.next=s,ph(c)):(s.next=d.next,d.next=s),c.interleaved=s,Ir(n,a)}function Jl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Hr(n,a)}}function zp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Zl(n,s,a,c){var d=n.updateQueue;ei=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,B=P.next;P.next=null,w===null?m=B:w.next=B,w=P;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==w&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=P))}if(m!==null){var X=d.baseState;w=0,Q=B=P=null,S=m;do{var G=S.lane,re=S.eventTime;if((c&G)===G){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=n,ue=S;switch(G=s,re=a,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){X=le.call(re,X,G);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(re,X,G):le,G==null)break e;X=ie({},X,G);break e;case 2:ei=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[S]:G.push(S))}else re={eventTime:re,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=re,P=X):Q=Q.next=re,w|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;G=S,S=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(Q===null&&(P=X),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);es|=w,n.lanes=w,n.memoizedState=X}}function $p(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var va={},Yn=Yr(va),_a=Yr(va),wa=Yr(va);function Ji(n){if(n===va)throw Error(t(174));return n}function gh(n,s){switch(qe(wa,s),qe(_a,n),qe(Yn,va),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ft(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ft(s,n)}Ke(Yn),qe(Yn,s)}function io(){Ke(Yn),Ke(_a),Ke(wa)}function Hp(n){Ji(wa.current);var s=Ji(Yn.current),a=ft(s,n.type);s!==a&&(qe(_a,n),qe(Yn,a))}function yh(n){_a.current===n&&(Ke(Yn),Ke(_a))}var Je=Yr(0);function eu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vh=[];function _h(){for(var n=0;n<vh.length;n++)vh[n]._workInProgressVersionPrimary=null;vh.length=0}var tu=he.ReactCurrentDispatcher,wh=he.ReactCurrentBatchConfig,Zi=0,Ze=null,mt=null,Tt=null,nu=!1,Ea=!1,Ta=0,E1=0;function Lt(){throw Error(t(321))}function Eh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Vn(n[a],s[a]))return!1;return!0}function Th(n,s,a,c,d,m){if(Zi=m,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tu.current=n===null||n.memoizedState===null?S1:C1,n=a(c,d),Ea){m=0;do{if(Ea=!1,Ta=0,25<=m)throw Error(t(301));m+=1,Tt=mt=null,s.updateQueue=null,tu.current=A1,n=a(c,d)}while(Ea)}if(tu.current=su,s=mt!==null&&mt.next!==null,Zi=0,Tt=mt=Ze=null,nu=!1,s)throw Error(t(300));return n}function Ih(){var n=Ta!==0;return Ta=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function En(){if(mt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var s=Tt===null?Ze.memoizedState:Tt.next;if(s!==null)Tt=s,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Ze.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Ia(n,s){return typeof s=="function"?s(n):s}function xh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var S=w=null,P=null,B=m;do{var Q=B.lane;if((Zi&Q)===Q)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var X={lane:Q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(S=P=X,w=c):P=P.next=X,Ze.lanes|=Q,es|=Q}B=B.next}while(B!==null&&B!==m);P===null?w=c:P.next=S,Vn(c,s.memoizedState)||(Jt=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Ze.lanes|=m,es|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Sh(n){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do m=n(m,w.action),w=w.next;while(w!==d);Vn(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Wp(){}function qp(n,s){var a=Ze,c=En(),d=s(),m=!Vn(c.memoizedState,d);if(m&&(c.memoizedState=d,Jt=!0),c=c.queue,Ch(Qp.bind(null,a,c,n),[n]),c.getSnapshot!==s||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,xa(9,Kp.bind(null,a,c,d,s),void 0,null),It===null)throw Error(t(349));(Zi&30)!==0||Gp(a,s,d)}return d}function Gp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Kp(n,s,a,c){s.value=a,s.getSnapshot=c,Xp(s)&&Yp(n)}function Qp(n,s,a){return a(function(){Xp(s)&&Yp(n)})}function Xp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Vn(n,a)}catch{return!0}}function Yp(n){var s=Ir(n,1);s!==null&&Un(s,n,1,-1)}function Jp(n){var s=Jn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:n},s.queue=n,n=n.dispatch=x1.bind(null,Ze,n),[s.memoizedState,n]}function xa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Zp(){return En().memoizedState}function ru(n,s,a,c){var d=Jn();Ze.flags|=n,d.memoizedState=xa(1|s,a,void 0,c===void 0?null:c)}function iu(n,s,a,c){var d=En();c=c===void 0?null:c;var m=void 0;if(mt!==null){var w=mt.memoizedState;if(m=w.destroy,c!==null&&Eh(c,w.deps)){d.memoizedState=xa(s,a,m,c);return}}Ze.flags|=n,d.memoizedState=xa(1|s,a,m,c)}function em(n,s){return ru(8390656,8,n,s)}function Ch(n,s){return iu(2048,8,n,s)}function tm(n,s){return iu(4,2,n,s)}function nm(n,s){return iu(4,4,n,s)}function rm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function im(n,s,a){return a=a!=null?a.concat([n]):null,iu(4,4,rm.bind(null,s,n),a)}function Ah(){}function sm(n,s){var a=En();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function om(n,s){var a=En();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function am(n,s,a){return(Zi&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(Vn(a,s)||(a=zi(),Ze.lanes|=a,es|=a,n.baseState=!0),s)}function T1(n,s){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=wh.transition;wh.transition={};try{n(!1),s()}finally{Ne=a,wh.transition=c}}function lm(){return En().memoizedState}function I1(n,s,a){var c=si(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},um(n))cm(s,a);else if(a=Up(n,s,a,c),a!==null){var d=Gt();Un(a,n,c,d),hm(a,s,c)}}function x1(n,s,a){var c=si(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(um(n))cm(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,S=m(w,a);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,w)){var P=s.interleaved;P===null?(d.next=d,ph(s)):(d.next=P.next,P.next=d),s.interleaved=d;return}}catch{}finally{}a=Up(n,s,d,c),a!==null&&(d=Gt(),Un(a,n,c,d),hm(a,s,c))}}function um(n){var s=n.alternate;return n===Ze||s!==null&&s===Ze}function cm(n,s){Ea=nu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function hm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Hr(n,a)}}var su={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},S1={readContext:wn,useCallback:function(n,s){return Jn().memoizedState=[n,s===void 0?null:s],n},useContext:wn,useEffect:em,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,ru(4194308,4,rm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return ru(4194308,4,n,s)},useInsertionEffect:function(n,s){return ru(4,2,n,s)},useMemo:function(n,s){var a=Jn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Jn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=I1.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var s=Jn();return n={current:n},s.memoizedState=n},useState:Jp,useDebugValue:Ah,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=Jp(!1),s=n[0];return n=T1.bind(null,n[1]),Jn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Ze,d=Jn();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));(Zi&30)!==0||Gp(c,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,em(Qp.bind(null,c,m,n),[n]),c.flags|=2048,xa(9,Kp.bind(null,c,m,a,s),void 0,null),a},useId:function(){var n=Jn(),s=It.identifierPrefix;if(Ye){var a=Tr,c=Er;a=(c&~(1<<32-Ht(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ta++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=E1++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},C1={readContext:wn,useCallback:sm,useContext:wn,useEffect:Ch,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:xh,useRef:Zp,useState:function(){return xh(Ia)},useDebugValue:Ah,useDeferredValue:function(n){var s=En();return am(s,mt.memoizedState,n)},useTransition:function(){var n=xh(Ia)[0],s=En().memoizedState;return[n,s]},useMutableSource:Wp,useSyncExternalStore:qp,useId:lm,unstable_isNewReconciler:!1},A1={readContext:wn,useCallback:sm,useContext:wn,useEffect:Ch,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:Sh,useRef:Zp,useState:function(){return Sh(Ia)},useDebugValue:Ah,useDeferredValue:function(n){var s=En();return mt===null?s.memoizedState=n:am(s,mt.memoizedState,n)},useTransition:function(){var n=Sh(Ia)[0],s=En().memoizedState;return[n,s]},useMutableSource:Wp,useSyncExternalStore:qp,useId:lm,unstable_isNewReconciler:!1};function Ln(n,s){if(n&&n.defaultProps){s=ie({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Rh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ie({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ou={isMounted:function(n){return(n=n._reactInternals)?Rn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Gt(),d=si(n),m=xr(c,d);m.payload=s,a!=null&&(m.callback=a),s=ti(n,m,d),s!==null&&(Un(s,n,d,c),Jl(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Gt(),d=si(n),m=xr(c,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=ti(n,m,d),s!==null&&(Un(s,n,d,c),Jl(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Gt(),c=si(n),d=xr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ti(n,d,c),s!==null&&(Un(s,n,c,a),Jl(s,n,c))}};function dm(n,s,a,c,d,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):s.prototype&&s.prototype.isPureReactComponent?!ca(a,c)||!ca(d,m):!0}function fm(n,s,a){var c=!1,d=Jr,m=s.contextType;return typeof m=="object"&&m!==null?m=wn(m):(d=Yt(s)?Ki:jt.current,c=s.contextTypes,m=(c=c!=null)?Ys(n,d):Jr),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ou,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),s}function pm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&ou.enqueueReplaceState(s,s.state,null)}function Ph(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},mh(n);var m=s.contextType;typeof m=="object"&&m!==null?d.context=wn(m):(m=Yt(s)?Ki:jt.current,d.context=Ys(n,m)),d.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Rh(n,s,m,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ou.enqueueReplaceState(d,d.state,null),Zl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function so(n,s){try{var a="",c=s;do a+=Ce(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:d,digest:null}}function kh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Nh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function mm(n,s,a){a=xr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){fu||(fu=!0,qh=c),Nh(n,s)},a}function gm(n,s,a){a=xr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Nh(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Nh(n,s),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function ym(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new R1;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=z1.bind(null,n,s,a),s.then(n,n))}function vm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function _m(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=xr(-1,1),s.tag=2,ti(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var P1=he.ReactCurrentOwner,Jt=!1;function qt(n,s,a,c){s.child=n===null?Fp(s,null,a,c):to(s,n.child,a,c)}function wm(n,s,a,c,d){a=a.render;var m=s.ref;return ro(s,d),c=Th(n,s,a,c,m,d),a=Ih(),n!==null&&!Jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Sr(n,s,d)):(Ye&&a&&sh(s),s.flags|=1,qt(n,s,c,d),s.child)}function Em(n,s,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Zh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Tm(n,s,m,c,d)):(n=_u(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&d)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:ca,a(w,c)&&n.ref===s.ref)return Sr(n,s,d)}return s.flags|=1,n=ai(m,c),n.ref=s.ref,n.return=s,s.child=n}function Tm(n,s,a,c,d){if(n!==null){var m=n.memoizedProps;if(ca(m,c)&&n.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return s.lanes=n.lanes,Sr(n,s,d)}return bh(n,s,a,c,d)}function Im(n,s,a){var c=s.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ao,hn),hn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,qe(ao,hn),hn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(ao,hn),hn|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,qe(ao,hn),hn|=c;return qt(n,s,d,a),s.child}function xm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function bh(n,s,a,c,d){var m=Yt(a)?Ki:jt.current;return m=Ys(s,m),ro(s,d),a=Th(n,s,a,c,m,d),c=Ih(),n!==null&&!Jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Sr(n,s,d)):(Ye&&c&&sh(s),s.flags|=1,qt(n,s,a,d),s.child)}function Sm(n,s,a,c,d){if(Yt(a)){var m=!0;Hl(s)}else m=!1;if(ro(s,d),s.stateNode===null)lu(n,s),fm(s,a,c),Ph(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,S=s.memoizedProps;w.props=S;var P=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=wn(B):(B=Yt(a)?Ki:jt.current,B=Ys(s,B));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==c||P!==B)&&pm(s,w,c,B),ei=!1;var G=s.memoizedState;w.state=G,Zl(s,c,w,d),P=s.memoizedState,S!==c||G!==P||Xt.current||ei?(typeof Q=="function"&&(Rh(s,a,Q,c),P=s.memoizedState),(S=ei||dm(s,a,S,c,G,P,B))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),w.props=c,w.state=P,w.context=B,c=S):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Bp(n,s),S=s.memoizedProps,B=s.type===s.elementType?S:Ln(s.type,S),w.props=B,X=s.pendingProps,G=w.context,P=a.contextType,typeof P=="object"&&P!==null?P=wn(P):(P=Yt(a)?Ki:jt.current,P=Ys(s,P));var re=a.getDerivedStateFromProps;(Q=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==X||G!==P)&&pm(s,w,c,P),ei=!1,G=s.memoizedState,w.state=G,Zl(s,c,w,d);var le=s.memoizedState;S!==X||G!==le||Xt.current||ei?(typeof re=="function"&&(Rh(s,a,re,c),le=s.memoizedState),(B=ei||dm(s,a,B,c,G,le,P)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,le,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,le,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=le),w.props=c,w.state=le,w.context=P,c=B):(typeof w.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),c=!1)}return Dh(n,s,a,c,m,d)}function Dh(n,s,a,c,d,m){xm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&kp(s,a,!1),Sr(n,s,m);c=s.stateNode,P1.current=s;var S=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=to(s,n.child,null,m),s.child=to(s,null,S,m)):qt(n,s,S,m),s.memoizedState=c.state,d&&kp(s,a,!0),s.child}function Cm(n){var s=n.stateNode;s.pendingContext?Rp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Rp(n,s.context,!1),gh(n,s.containerInfo)}function Am(n,s,a,c,d){return eo(),uh(d),s.flags|=256,qt(n,s,a,c),s.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Vh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Rm(n,s,a){var c=s.pendingProps,d=Je.current,m=!1,w=(s.flags&128)!==0,S;if((S=w)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Je,d&1),n===null)return lh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,m?(c=s.mode,m=s.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=wu(w,c,0,null),n=is(n,c,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=Vh(a),s.memoizedState=Oh,n):jh(s,w));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return k1(n,s,w,c,S,d,a);if(m){m=c.fallback,w=s.mode,d=n.child,S=d.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=ai(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=ai(S,m):(m=is(m,w,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,w=n.child.memoizedState,w=w===null?Vh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=n.childLanes&~a,s.memoizedState=Oh,c}return m=n.child,n=m.sibling,c=ai(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function jh(n,s){return s=wu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function au(n,s,a,c){return c!==null&&uh(c),to(s,n.child,null,a),n=jh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function k1(n,s,a,c,d,m,w){if(a)return s.flags&256?(s.flags&=-257,c=kh(Error(t(422))),au(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=wu({mode:"visible",children:c.children},d,0,null),m=is(m,d,w,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&to(s,n.child,null,w),s.child.memoizedState=Vh(w),s.memoizedState=Oh,m);if((s.mode&1)===0)return au(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(t(419)),c=kh(m,c,void 0),au(n,s,w,c)}if(S=(w&n.childLanes)!==0,Jt||S){if(c=It,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Ir(n,d),Un(c,n,d,-1))}return Jh(),c=kh(Error(t(421))),au(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=$1.bind(null,n),d._reactRetry=s,null):(n=m.treeContext,cn=Xr(d.nextSibling),un=s,Ye=!0,jn=null,n!==null&&(vn[_n++]=Er,vn[_n++]=Tr,vn[_n++]=Qi,Er=n.id,Tr=n.overflow,Qi=s),s=jh(s,c.children),s.flags|=4096,s)}function Pm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),fh(n.return,s,a)}function Lh(n,s,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function km(n,s,a){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(qt(n,s,c.children,a),c=Je.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pm(n,a,s);else if(n.tag===19)Pm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Je,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&eu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Lh(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&eu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Lh(s,!0,a,null,m);break;case"together":Lh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function lu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Sr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),es|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=ai(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ai(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function N1(n,s,a){switch(s.tag){case 3:Cm(s),eo();break;case 5:Hp(s);break;case 1:Yt(s.type)&&Hl(s);break;case 4:gh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;qe(Xl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(qe(Je,Je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Rm(n,s,a):(qe(Je,Je.current&1),n=Sr(n,s,a),n!==null?n.sibling:null);qe(Je,Je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return km(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Je,Je.current),c)break;return null;case 22:case 23:return s.lanes=0,Im(n,s,a)}return Sr(n,s,a)}var Nm,Mh,bm,Dm;Nm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Mh=function(){},bm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Ji(Yn.current);var m=null;switch(a){case"input":d=Ni(n,d),c=Ni(n,c),m=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),m=[];break;case"textarea":d=Fo(n,d),c=Fo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Bl)}Wo(a,c);var w;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var S=d[B];for(w in S)S.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var P=c[B];if(S=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&P!==S&&(P!=null||S!=null))if(B==="style")if(S){for(w in S)!S.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in P)P.hasOwnProperty(w)&&S[w]!==P[w]&&(a||(a={}),a[w]=P[w])}else a||(m||(m=[]),m.push(B,a)),a=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(m=m||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&Ge("scroll",n),m||S===P||(m=[])):(m=m||[]).push(B,P))}a&&(m=m||[]).push("style",a);var B=m;(s.updateQueue=B)&&(s.flags|=4)}},Dm=function(n,s,a,c){a!==c&&(s.flags|=4)};function Sa(n,s){if(!Ye)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function b1(n,s,a){var c=s.pendingProps;switch(oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Yt(s.type)&&$l(),Mt(s),null;case 3:return c=s.stateNode,io(),Ke(Xt),Ke(jt),_h(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Kl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jn!==null&&(Qh(jn),jn=null))),Mh(n,s),Mt(s),null;case 5:yh(s);var d=Ji(wa.current);if(a=s.type,n!==null&&s.stateNode!=null)bm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(n=Ji(Yn.current),Kl(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[Xn]=s,c[ma]=m,n=(s.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<da.length;d++)Ge(da[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":_s(c,m),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ge("invalid",c);break;case"textarea":Es(c,m),Ge("invalid",c)}Wo(a,m),d=null;for(var w in m)if(m.hasOwnProperty(w)){var S=m[w];w==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&Ul(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Ul(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(w)&&S!=null&&w==="onScroll"&&Ge("scroll",c)}switch(a){case"input":ur(c),dl(c,m,!0);break;case"textarea":ur(c),Uo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Bl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Xn]=s,n[ma]=c,Nm(n,s,!1,!1),s.stateNode=n;e:{switch(w=qo(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),d=c;break;case"iframe":case"object":case"embed":Ge("load",n),d=c;break;case"video":case"audio":for(d=0;d<da.length;d++)Ge(da[d],n);d=c;break;case"source":Ge("error",n),d=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=c;break;case"details":Ge("toggle",n),d=c;break;case"input":_s(n,c),d=Ni(n,c),Ge("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":Es(n,c),d=Fo(n,c),Ge("invalid",n);break;default:d=c}Wo(a,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var P=S[m];m==="style"?$o(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Bo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Fr(n,P):typeof P=="number"&&Fr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ge("scroll",n):P!=null&&ne(n,m,P,w))}switch(a){case"input":ur(n),dl(n,c,!1);break;case"textarea":ur(n),Uo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?hr(n,!!c.multiple,m,!1):c.defaultValue!=null&&hr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Bl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(n&&s.stateNode!=null)Dm(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ji(wa.current),Ji(Yn.current),Kl(s)){if(c=s.stateNode,a=s.memoizedProps,c[Xn]=s,(m=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:Ul(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ul(c.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=s,s.stateNode=c}return Mt(s),null;case 13:if(Ke(Je),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)jp(),eo(),s.flags|=98560,m=!1;else if(m=Kl(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Xn]=s}else eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),m=!1}else jn!==null&&(Qh(jn),jn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Je.current&1)!==0?gt===0&&(gt=3):Jh())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return io(),Mh(n,s),n===null&&fa(s.stateNode.containerInfo),Mt(s),null;case 10:return dh(s.type._context),Mt(s),null;case 17:return Yt(s.type)&&$l(),Mt(s),null;case 19:if(Ke(Je),m=s.memoizedState,m===null)return Mt(s),null;if(c=(s.flags&128)!==0,w=m.rendering,w===null)if(c)Sa(m,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=eu(n),w!==null){for(s.flags|=128,Sa(m,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,n=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,n=w.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Je,Je.current&1|2),s.child}n=n.sibling}m.tail!==null&&We()>lo&&(s.flags|=128,c=!0,Sa(m,!1),s.lanes=4194304)}else{if(!c)if(n=eu(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Sa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ye)return Mt(s),null}else 2*We()-m.renderingStartTime>lo&&a!==1073741824&&(s.flags|=128,c=!0,Sa(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(a=m.last,a!==null?a.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=We(),s.sibling=null,a=Je.current,qe(Je,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Yh(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function D1(n,s){switch(oh(s),s.tag){case 1:return Yt(s.type)&&$l(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return io(),Ke(Xt),Ke(jt),_h(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return yh(s),null;case 13:if(Ke(Je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));eo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ke(Je),null;case 4:return io(),null;case 10:return dh(s.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var uu=!1,Ft=!1,O1=typeof WeakSet=="function"?WeakSet:Set,oe=null;function oo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){tt(n,s,c)}else a.current=null}function Fh(n,s,a){try{a()}catch(c){tt(n,s,c)}}var Om=!1;function V1(n,s){if(Yc=Gr,n=dp(),$c(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,S=-1,P=-1,B=0,Q=0,X=n,G=null;t:for(;;){for(var re;X!==a||d!==0&&X.nodeType!==3||(S=w+d),X!==m||c!==0&&X.nodeType!==3||(P=w+c),X.nodeType===3&&(w+=X.nodeValue.length),(re=X.firstChild)!==null;)G=X,X=re;for(;;){if(X===n)break t;if(G===a&&++B===d&&(S=w),G===m&&++Q===c&&(P=w),(re=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=re}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jc={focusedElem:n,selectionRange:a},Gr=!1,oe=s;oe!==null;)if(s=oe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,oe=n;else for(;oe!==null;){s=oe;try{var le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,ot=le.memoizedState,L=s.stateNode,N=L.getSnapshotBeforeUpdate(s.elementType===s.type?ue:Ln(s.type,ue),ot);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){tt(s,s.return,J)}if(n=s.sibling,n!==null){n.return=s.return,oe=n;break}oe=s.return}return le=Om,Om=!1,le}function Ca(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Fh(s,a,m)}d=d.next}while(d!==c)}}function cu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Uh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Vm(n){var s=n.alternate;s!==null&&(n.alternate=null,Vm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Xn],delete s[ma],delete s[nh],delete s[y1],delete s[v1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jm(n){return n.tag===5||n.tag===3||n.tag===4}function Lm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bl));else if(c!==4&&(n=n.child,n!==null))for(Bh(n,s,a),n=n.sibling;n!==null;)Bh(n,s,a),n=n.sibling}function zh(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(zh(n,s,a),n=n.sibling;n!==null;)zh(n,s,a),n=n.sibling}var Rt=null,Mn=!1;function ni(n,s,a){for(a=a.child;a!==null;)Mm(n,s,a),a=a.sibling}function Mm(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 5:Ft||oo(a,s);case 6:var c=Rt,d=Mn;Rt=null,ni(n,s,a),Rt=c,Mn=d,Rt!==null&&(Mn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Mn?(n=Rt,a=a.stateNode,n.nodeType===8?th(n.parentNode,a):n.nodeType===1&&th(n,a),Dn(n)):th(Rt,a.stateNode));break;case 4:c=Rt,d=Mn,Rt=a.stateNode.containerInfo,Mn=!0,ni(n,s,a),Rt=c,Mn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&Fh(a,s,w),d=d.next}while(d!==c)}ni(n,s,a);break;case 1:if(!Ft&&(oo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){tt(a,s,S)}ni(n,s,a);break;case 21:ni(n,s,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,ni(n,s,a),Ft=c):ni(n,s,a);break;default:ni(n,s,a)}}function Fm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new O1),s.forEach(function(c){var d=H1.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Fn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,Mn=!1;break e;case 3:Rt=S.stateNode.containerInfo,Mn=!0;break e;case 4:Rt=S.stateNode.containerInfo,Mn=!0;break e}S=S.return}if(Rt===null)throw Error(t(160));Mm(m,w,d),Rt=null,Mn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){tt(d,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Um(s,n),s=s.sibling}function Um(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fn(s,n),Zn(n),c&4){try{Ca(3,n,n.return),cu(3,n)}catch(ue){tt(n,n.return,ue)}try{Ca(5,n,n.return)}catch(ue){tt(n,n.return,ue)}}break;case 1:Fn(s,n),Zn(n),c&512&&a!==null&&oo(a,a.return);break;case 5:if(Fn(s,n),Zn(n),c&512&&a!==null&&oo(a,a.return),n.flags&32){var d=n.stateNode;try{Fr(d,"")}catch(ue){tt(n,n.return,ue)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,w=a!==null?a.memoizedProps:m,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Lo(d,m),qo(S,w);var B=qo(S,m);for(w=0;w<P.length;w+=2){var Q=P[w],X=P[w+1];Q==="style"?$o(d,X):Q==="dangerouslySetInnerHTML"?Bo(d,X):Q==="children"?Fr(d,X):ne(d,Q,X,B)}switch(S){case"input":Mo(d,m);break;case"textarea":Ts(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var re=m.value;re!=null?hr(d,!!m.multiple,re,!1):G!==!!m.multiple&&(m.defaultValue!=null?hr(d,!!m.multiple,m.defaultValue,!0):hr(d,!!m.multiple,m.multiple?[]:"",!1))}d[ma]=m}catch(ue){tt(n,n.return,ue)}}break;case 6:if(Fn(s,n),Zn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ue){tt(n,n.return,ue)}}break;case 3:if(Fn(s,n),Zn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(s.containerInfo)}catch(ue){tt(n,n.return,ue)}break;case 4:Fn(s,n),Zn(n);break;case 13:Fn(s,n),Zn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Wh=We())),c&4&&Fm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(B=Ft)||Q,Fn(s,n),Ft=B):Fn(s,n),Zn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!Q&&(n.mode&1)!==0)for(oe=n,Q=n.child;Q!==null;){for(X=oe=Q;oe!==null;){switch(G=oe,re=G.child,G.tag){case 0:case 11:case 14:case 15:Ca(4,G,G.return);break;case 1:oo(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){c=G,a=G.return;try{s=c,le.props=s.memoizedProps,le.state=s.memoizedState,le.componentWillUnmount()}catch(ue){tt(c,a,ue)}}break;case 5:oo(G,G.return);break;case 22:if(G.memoizedState!==null){$m(X);continue}}re!==null?(re.return=G,oe=re):$m(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{d=X.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=X.stateNode,P=X.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=zo("display",w))}catch(ue){tt(n,n.return,ue)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(ue){tt(n,n.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Fn(s,n),Zn(n),c&4&&Fm(n);break;case 21:break;default:Fn(s,n),Zn(n)}}function Zn(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(jm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Fr(d,""),c.flags&=-33);var m=Lm(n);zh(n,m,d);break;case 3:case 4:var w=c.stateNode.containerInfo,S=Lm(n);Bh(n,S,w);break;default:throw Error(t(161))}}catch(P){tt(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function j1(n,s,a){oe=n,Bm(n)}function Bm(n,s,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,m=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||uu;if(!w){var S=d.alternate,P=S!==null&&S.memoizedState!==null||Ft;S=uu;var B=Ft;if(uu=w,(Ft=P)&&!B)for(oe=d;oe!==null;)w=oe,P=w.child,w.tag===22&&w.memoizedState!==null?Hm(d):P!==null?(P.return=w,oe=P):Hm(d);for(;m!==null;)oe=m,Bm(m),m=m.sibling;oe=d,uu=S,Ft=B}zm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,oe=m):zm(n)}}function zm(n){for(;oe!==null;){var s=oe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||cu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Ln(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&$p(s,m,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}$p(s,w,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var Q=B.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Dn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&Uh(s)}catch(G){tt(s,s.return,G)}}if(s===n){oe=null;break}if(a=s.sibling,a!==null){a.return=s.return,oe=a;break}oe=s.return}}function $m(n){for(;oe!==null;){var s=oe;if(s===n){oe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,oe=a;break}oe=s.return}}function Hm(n){for(;oe!==null;){var s=oe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{cu(4,s)}catch(P){tt(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(P){tt(s,d,P)}}var m=s.return;try{Uh(s)}catch(P){tt(s,m,P)}break;case 5:var w=s.return;try{Uh(s)}catch(P){tt(s,w,P)}}}catch(P){tt(s,s.return,P)}if(s===n){oe=null;break}var S=s.sibling;if(S!==null){S.return=s.return,oe=S;break}oe=s.return}}var L1=Math.ceil,hu=he.ReactCurrentDispatcher,$h=he.ReactCurrentOwner,Tn=he.ReactCurrentBatchConfig,je=0,It=null,ut=null,Pt=0,hn=0,ao=Yr(0),gt=0,Aa=null,es=0,du=0,Hh=0,Ra=null,Zt=null,Wh=0,lo=1/0,Cr=null,fu=!1,qh=null,ri=null,pu=!1,ii=null,mu=0,Pa=0,Gh=null,gu=-1,yu=0;function Gt(){return(je&6)!==0?We():gu!==-1?gu:gu=We()}function si(n){return(n.mode&1)===0?1:(je&2)!==0&&Pt!==0?Pt&-Pt:w1.transition!==null?(yu===0&&(yu=zi()),yu):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:ra(n.type)),n)}function Un(n,s,a,c){if(50<Pa)throw Pa=0,Gh=null,Error(t(185));$r(n,a,c),((je&2)===0||n!==It)&&(n===It&&((je&2)===0&&(du|=a),gt===4&&oi(n,Pt)),en(n,c),a===1&&je===0&&(s.mode&1)===0&&(lo=We()+500,Wl&&Zr()))}function en(n,s){var a=n.callbackNode;pr(n,s);var c=Bi(n,n===It?Pt:0);if(c===0)a!==null&&Jo(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Jo(a),s===1)n.tag===0?_1(qm.bind(null,n)):Np(qm.bind(null,n)),m1(function(){(je&6)===0&&Zr()}),a=null;else{switch(Wr(c)){case 1:a=Fi;break;case 4:a=Ur;break;case 16:a=mn;break;case 536870912:a=yl;break;default:a=mn}a=eg(a,Wm.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Wm(n,s){if(gu=-1,yu=0,(je&6)!==0)throw Error(t(327));var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var c=Bi(n,n===It?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=vu(n,c);else{s=c;var d=je;je|=2;var m=Km();(It!==n||Pt!==s)&&(Cr=null,lo=We()+500,ns(n,s));do try{U1();break}catch(S){Gm(n,S)}while(!0);hh(),hu.current=m,je=d,ut!==null?s=0:(It=null,Pt=0,s=gt)}if(s!==0){if(s===2&&(d=on(n),d!==0&&(c=d,s=Kh(n,d))),s===1)throw a=Aa,ns(n,0),oi(n,c),en(n,We()),a;if(s===6)oi(n,c);else{if(d=n.current.alternate,(c&30)===0&&!M1(d)&&(s=vu(n,c),s===2&&(m=on(n),m!==0&&(c=m,s=Kh(n,m))),s===1))throw a=Aa,ns(n,0),oi(n,c),en(n,We()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:rs(n,Zt,Cr);break;case 3:if(oi(n,c),(c&130023424)===c&&(s=Wh+500-We(),10<s)){if(Bi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Gt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=eh(rs.bind(null,n,Zt,Cr),s);break}rs(n,Zt,Cr);break;case 4:if(oi(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-Ht(c);m=1<<w,w=s[w],w>d&&(d=w),c&=~m}if(c=d,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*L1(c/1960))-c,10<c){n.timeoutHandle=eh(rs.bind(null,n,Zt,Cr),c);break}rs(n,Zt,Cr);break;case 5:rs(n,Zt,Cr);break;default:throw Error(t(329))}}}return en(n,We()),n.callbackNode===a?Wm.bind(null,n):null}function Kh(n,s){var a=Ra;return n.current.memoizedState.isDehydrated&&(ns(n,s).flags|=256),n=vu(n,s),n!==2&&(s=Zt,Zt=a,s!==null&&Qh(s)),n}function Qh(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function M1(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Vn(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oi(n,s){for(s&=~Hh,s&=~du,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Ht(s),c=1<<a;n[a]=-1,s&=~c}}function qm(n){if((je&6)!==0)throw Error(t(327));uo();var s=Bi(n,0);if((s&1)===0)return en(n,We()),null;var a=vu(n,s);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(s=c,a=Kh(n,c))}if(a===1)throw a=Aa,ns(n,0),oi(n,s),en(n,We()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,rs(n,Zt,Cr),en(n,We()),null}function Xh(n,s){var a=je;je|=1;try{return n(s)}finally{je=a,je===0&&(lo=We()+500,Wl&&Zr())}}function ts(n){ii!==null&&ii.tag===0&&(je&6)===0&&uo();var s=je;je|=1;var a=Tn.transition,c=Ne;try{if(Tn.transition=null,Ne=1,n)return n()}finally{Ne=c,Tn.transition=a,je=s,(je&6)===0&&Zr()}}function Yh(){hn=ao.current,Ke(ao)}function ns(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,p1(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$l();break;case 3:io(),Ke(Xt),Ke(jt),_h();break;case 5:yh(c);break;case 4:io();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:dh(c.type._context);break;case 22:case 23:Yh()}a=a.return}if(It=n,ut=n=ai(n.current,null),Pt=hn=s,gt=0,Aa=null,Hh=du=es=0,Zt=Ra=null,Yi!==null){for(s=0;s<Yi.length;s++)if(a=Yi[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var w=m.next;m.next=d,c.next=w}a.pending=c}Yi=null}return n}function Gm(n,s){do{var a=ut;try{if(hh(),tu.current=su,nu){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}nu=!1}if(Zi=0,Tt=mt=Ze=null,Ea=!1,Ta=0,$h.current=null,a===null||a.return===null){gt=1,Aa=s,ut=null;break}e:{var m=n,w=a.return,S=a,P=s;if(s=Pt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,Q=S,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var G=Q.alternate;G?(Q.updateQueue=G.updateQueue,Q.memoizedState=G.memoizedState,Q.lanes=G.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=vm(w);if(re!==null){re.flags&=-257,_m(re,w,S,m,s),re.mode&1&&ym(m,B,s),s=re,P=B;var le=s.updateQueue;if(le===null){var ue=new Set;ue.add(P),s.updateQueue=ue}else le.add(P);break e}else{if((s&1)===0){ym(m,B,s),Jh();break e}P=Error(t(426))}}else if(Ye&&S.mode&1){var ot=vm(w);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),_m(ot,w,S,m,s),uh(so(P,S));break e}}m=P=so(P,S),gt!==4&&(gt=2),Ra===null?Ra=[m]:Ra.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var L=mm(m,P,s);zp(m,L);break e;case 1:S=P;var N=m.type,F=m.stateNode;if((m.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ri===null||!ri.has(F)))){m.flags|=65536,s&=-s,m.lanes|=s;var J=gm(m,S,s);zp(m,J);break e}}m=m.return}while(m!==null)}Xm(a)}catch(ce){s=ce,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Km(){var n=hu.current;return hu.current=su,n===null?su:n}function Jh(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||(es&268435455)===0&&(du&268435455)===0||oi(It,Pt)}function vu(n,s){var a=je;je|=2;var c=Km();(It!==n||Pt!==s)&&(Cr=null,ns(n,s));do try{F1();break}catch(d){Gm(n,d)}while(!0);if(hh(),je=a,hu.current=c,ut!==null)throw Error(t(261));return It=null,Pt=0,gt}function F1(){for(;ut!==null;)Qm(ut)}function U1(){for(;ut!==null&&!ml();)Qm(ut)}function Qm(n){var s=Zm(n.alternate,n,hn);n.memoizedProps=n.pendingProps,s===null?Xm(n):ut=s,$h.current=null}function Xm(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=b1(a,s,hn),a!==null){ut=a;return}}else{if(a=D1(a,s),a!==null){a.flags&=32767,ut=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ut=null;return}}if(s=s.sibling,s!==null){ut=s;return}ut=s=n}while(s!==null);gt===0&&(gt=5)}function rs(n,s,a){var c=Ne,d=Tn.transition;try{Tn.transition=null,Ne=1,B1(n,s,a,c)}finally{Tn.transition=d,Ne=c}return null}function B1(n,s,a,c){do uo();while(ii!==null);if((je&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if($e(n,m),n===It&&(ut=It=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||pu||(pu=!0,eg(mn,function(){return uo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Tn.transition,Tn.transition=null;var w=Ne;Ne=1;var S=je;je|=4,$h.current=null,V1(n,a),Um(a,n),a1(Jc),Gr=!!Yc,Jc=Yc=null,n.current=a,j1(a),Vc(),je=S,Ne=w,Tn.transition=m}else n.current=a;if(pu&&(pu=!1,ii=n,mu=d),m=n.pendingLanes,m===0&&(ri=null),vl(a.stateNode),en(n,We()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(fu)throw fu=!1,n=qh,qh=null,n;return(mu&1)!==0&&n.tag!==0&&uo(),m=n.pendingLanes,(m&1)!==0?n===Gh?Pa++:(Pa=0,Gh=n):Pa=0,Zr(),null}function uo(){if(ii!==null){var n=Wr(mu),s=Tn.transition,a=Ne;try{if(Tn.transition=null,Ne=16>n?16:n,ii===null)var c=!1;else{if(n=ii,ii=null,mu=0,(je&6)!==0)throw Error(t(331));var d=je;for(je|=4,oe=n.current;oe!==null;){var m=oe,w=m.child;if((oe.flags&16)!==0){var S=m.deletions;if(S!==null){for(var P=0;P<S.length;P++){var B=S[P];for(oe=B;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:Ca(8,Q,m)}var X=Q.child;if(X!==null)X.return=Q,oe=X;else for(;oe!==null;){Q=oe;var G=Q.sibling,re=Q.return;if(Vm(Q),Q===B){oe=null;break}if(G!==null){G.return=re,oe=G;break}oe=re}}}var le=m.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var ot=ue.sibling;ue.sibling=null,ue=ot}while(ue!==null)}}oe=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,oe=w;else e:for(;oe!==null;){if(m=oe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ca(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,oe=L;break e}oe=m.return}}var N=n.current;for(oe=N;oe!==null;){w=oe;var F=w.child;if((w.subtreeFlags&2064)!==0&&F!==null)F.return=w,oe=F;else e:for(w=N;oe!==null;){if(S=oe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:cu(9,S)}}catch(ce){tt(S,S.return,ce)}if(S===w){oe=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,oe=J;break e}oe=S.return}}if(je=d,Zr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ui,n)}catch{}c=!0}return c}finally{Ne=a,Tn.transition=s}}return!1}function Ym(n,s,a){s=so(a,s),s=mm(n,s,1),n=ti(n,s,1),s=Gt(),n!==null&&($r(n,1,s),en(n,s))}function tt(n,s,a){if(n.tag===3)Ym(n,n,a);else for(;s!==null;){if(s.tag===3){Ym(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ri===null||!ri.has(c))){n=so(a,n),n=gm(s,n,1),s=ti(s,n,1),n=Gt(),s!==null&&($r(s,1,n),en(s,n));break}}s=s.return}}function z1(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Gt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Pt&a)===a&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>We()-Wh?ns(n,0):Hh|=a),en(n,s)}function Jm(n,s){s===0&&((n.mode&1)===0?s=1:(s=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var a=Gt();n=Ir(n,s),n!==null&&($r(n,s,a),en(n,a))}function $1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Jm(n,a)}function H1(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Jm(n,a)}var Zm;Zm=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Xt.current)Jt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Jt=!1,N1(n,s,a);Jt=(n.flags&131072)!==0}else Jt=!1,Ye&&(s.flags&1048576)!==0&&bp(s,Gl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;lu(n,s),n=s.pendingProps;var d=Ys(s,jt.current);ro(s,a),d=Th(null,s,c,n,d,a);var m=Ih();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(c)?(m=!0,Hl(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,mh(s),d.updater=ou,s.stateNode=d,d._reactInternals=s,Ph(s,c,n,a),s=Dh(null,s,c,!0,m,a)):(s.tag=0,Ye&&m&&sh(s),qt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(lu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=q1(c),n=Ln(c,n),d){case 0:s=bh(null,s,c,n,a);break e;case 1:s=Sm(null,s,c,n,a);break e;case 11:s=wm(null,s,c,n,a);break e;case 14:s=Em(null,s,c,Ln(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),bh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),Sm(n,s,c,d,a);case 3:e:{if(Cm(s),n===null)throw Error(t(387));c=s.pendingProps,m=s.memoizedState,d=m.element,Bp(n,s),Zl(s,c,null,a);var w=s.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=so(Error(t(423)),s),s=Am(n,s,c,a,d);break e}else if(c!==d){d=so(Error(t(424)),s),s=Am(n,s,c,a,d);break e}else for(cn=Xr(s.stateNode.containerInfo.firstChild),un=s,Ye=!0,jn=null,a=Fp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(eo(),c===d){s=Sr(n,s,a);break e}qt(n,s,c,a)}s=s.child}return s;case 5:return Hp(s),n===null&&lh(s),c=s.type,d=s.pendingProps,m=n!==null?n.memoizedProps:null,w=d.children,Zc(c,d)?w=null:m!==null&&Zc(c,m)&&(s.flags|=32),xm(n,s),qt(n,s,w,a),s.child;case 6:return n===null&&lh(s),null;case 13:return Rm(n,s,a);case 4:return gh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=to(s,null,c,a):qt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),wm(n,s,c,d,a);case 7:return qt(n,s,s.pendingProps,a),s.child;case 8:return qt(n,s,s.pendingProps.children,a),s.child;case 12:return qt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,w=d.value,qe(Xl,c._currentValue),c._currentValue=w,m!==null)if(Vn(m.value,w)){if(m.children===d.children&&!Xt.current){s=Sr(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var S=m.dependencies;if(S!==null){w=m.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=xr(-1,a&-a),P.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var Q=B.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),B.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),fh(m.return,a,s),S.lanes|=a;break}P=P.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,S=w.alternate,S!==null&&(S.lanes|=a),fh(w,a,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}qt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,ro(s,a),d=wn(d),c=c(d),s.flags|=1,qt(n,s,c,a),s.child;case 14:return c=s.type,d=Ln(c,s.pendingProps),d=Ln(c.type,d),Em(n,s,c,d,a);case 15:return Tm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),lu(n,s),s.tag=1,Yt(c)?(n=!0,Hl(s)):n=!1,ro(s,a),fm(s,c,d),Ph(s,c,d,a),Dh(null,s,c,!0,n,a);case 19:return km(n,s,a);case 22:return Im(n,s,a)}throw Error(t(156,s.tag))};function eg(n,s){return ks(n,s)}function W1(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,s,a,c){return new W1(n,s,a,c)}function Zh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function q1(n){if(typeof n=="function")return Zh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===Ot)return 14}return 2}function ai(n,s){var a=n.alternate;return a===null?(a=In(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function _u(n,s,a,c,d,m){var w=2;if(c=n,typeof n=="function")Zh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case b:return is(a.children,d,m,s);case C:w=8,d|=8;break;case R:return n=In(12,a,s,d|2),n.elementType=R,n.lanes=m,n;case A:return n=In(13,a,s,d),n.elementType=A,n.lanes=m,n;case it:return n=In(19,a,s,d),n.elementType=it,n.lanes=m,n;case ze:return wu(a,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:w=10;break e;case D:w=9;break e;case V:w=11;break e;case Ot:w=14;break e;case Vt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=In(w,a,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function is(n,s,a,c){return n=In(7,n,c,s),n.lanes=a,n}function wu(n,s,a,c){return n=In(22,n,c,s),n.elementType=ze,n.lanes=a,n.stateNode={isHidden:!1},n}function ed(n,s,a){return n=In(6,n,null,s),n.lanes=a,n}function td(n,s,a){return s=In(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function G1(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function nd(n,s,a,c,d,m,w,S,P){return n=new G1(n,s,a,S,P),s===1?(s=1,m===!0&&(s|=8)):s=0,m=In(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(m),n}function K1(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function tg(n){if(!n)return Jr;n=n._reactInternals;e:{if(Rn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Yt(a))return Pp(n,a,s)}return s}function ng(n,s,a,c,d,m,w,S,P){return n=nd(a,c,!0,n,d,m,w,S,P),n.context=tg(null),a=n.current,c=Gt(),d=si(a),m=xr(c,d),m.callback=s??null,ti(a,m,d),n.current.lanes=d,$r(n,d,c),en(n,c),n}function Eu(n,s,a,c){var d=s.current,m=Gt(),w=si(d);return a=tg(a),s.context===null?s.context=a:s.pendingContext=a,s=xr(m,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ti(d,s,w),n!==null&&(Un(n,d,w,m),Jl(n,d,w)),w}function Tu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function rd(n,s){rg(n,s),(n=n.alternate)&&rg(n,s)}function Q1(){return null}var ig=typeof reportError=="function"?reportError:function(n){console.error(n)};function id(n){this._internalRoot=n}Iu.prototype.render=id.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Eu(n,s,null,null)},Iu.prototype.unmount=id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ts(function(){Eu(null,n,null,null)}),s[_r]=null}};function Iu(n){this._internalRoot=n}Iu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Il();n={blockedOn:null,target:n,priority:s};for(var a=0;a<qn.length&&s!==0&&s<qn[a].priority;a++);qn.splice(a,0,n),a===0&&Cl(n)}};function sd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sg(){}function X1(n,s,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=Tu(w);m.call(B)}}var w=ng(s,c,n,0,null,!1,!1,"",sg);return n._reactRootContainer=w,n[_r]=w.current,fa(n.nodeType===8?n.parentNode:n),ts(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var B=Tu(P);S.call(B)}}var P=nd(n,0,!1,null,null,!1,!1,"",sg);return n._reactRootContainer=P,n[_r]=P.current,fa(n.nodeType===8?n.parentNode:n),ts(function(){Eu(s,P,a,c)}),P}function Su(n,s,a,c,d){var m=a._reactRootContainer;if(m){var w=m;if(typeof d=="function"){var S=d;d=function(){var P=Tu(w);S.call(P)}}Eu(s,w,n,d)}else w=X1(a,s,n,d,c);return Tu(w)}El=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Br(s.pendingLanes);a!==0&&(Hr(s,a|1),en(s,We()),(je&6)===0&&(lo=We()+500,Zr()))}break;case 13:ts(function(){var c=Ir(n,1);if(c!==null){var d=Gt();Un(c,n,1,d)}}),rd(n,1)}},Ds=function(n){if(n.tag===13){var s=Ir(n,134217728);if(s!==null){var a=Gt();Un(s,n,134217728,a)}rd(n,134217728)}},Tl=function(n){if(n.tag===13){var s=si(n),a=Ir(n,s);if(a!==null){var c=Gt();Un(a,n,s,c)}rd(n,s)}},Il=function(){return Ne},xl=function(n,s){var a=Ne;try{return Ne=n,s()}finally{Ne=a}},xs=function(n,s,a){switch(s){case"input":if(Mo(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=zl(c);if(!d)throw Error(t(90));vs(c),Mo(c,d)}}}break;case"textarea":Ts(n,a);break;case"select":s=a.value,s!=null&&hr(n,!!a.multiple,s,!1)}},Vi=Xh,Ko=ts;var Y1={usingClientEntryPoint:!1,Events:[ga,Qs,zl,Hn,Go,Xh]},ka={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J1={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Yo(n),n===null?null:n.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Ui=Cu.inject(J1),sn=Cu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y1,tn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(s))throw Error(t(200));return K1(n,s,null,a)},tn.createRoot=function(n,s){if(!sd(n))throw Error(t(299));var a=!1,c="",d=ig;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=nd(n,1,!1,null,null,a,!1,c,d),n[_r]=s.current,fa(n.nodeType===8?n.parentNode:n),new id(s)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Yo(s),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return ts(n)},tn.hydrate=function(n,s,a){if(!xu(s))throw Error(t(200));return Su(null,n,s,!0,a)},tn.hydrateRoot=function(n,s,a){if(!sd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",w=ig;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=ng(s,null,n,1,a??null,d,!1,m,w),n[_r]=s.current,fa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Iu(s)},tn.render=function(n,s,a){if(!xu(s))throw Error(t(200));return Su(null,n,s,!1,a)},tn.unmountComponentAtNode=function(n){if(!xu(n))throw Error(t(40));return n._reactRootContainer?(ts(function(){Su(null,null,n,!1,function(){n._reactRootContainer=null,n[_r]=null})}),!0):!1},tn.unstable_batchedUpdates=Xh,tn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Su(n,s,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var fg;function nv(){if(fg)return ld.exports;fg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=aw(),ld.exports}var pg;function lw(){if(pg)return Au;pg=1;var r=nv();return Au.createRoot=r.createRoot,Au.hydrateRoot=r.hydrateRoot,Au}var uw=lw();const cw=tv(uw);nv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},$a.apply(this,arguments)}var pi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(pi||(pi={}));const mg="popstate";function hw(r){r===void 0&&(r={});function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Cd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Hu(o)}return fw(e,t,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rv(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dw(){return Math.random().toString(36).substr(2,8)}function gg(r,e){return{usr:r.state,key:r.key,idx:e}}function Cd(r,e,t,i){return t===void 0&&(t=null),$a({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Po(e):e,{state:t,key:e&&e.key||i||dw()})}function Hu(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Po(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function fw(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=pi.Pop,g=null,v=E();v==null&&(v=0,h.replaceState($a({},h.state,{idx:v}),""));function E(){return(h.state||{idx:null}).idx}function I(){f=pi.Pop;let U=E(),ae=U==null?null:U-v;v=U,g&&g({action:f,location:H.location,delta:ae})}function x(U,ae){f=pi.Push;let te=Cd(H.location,U,ae);v=E()+1;let ne=gg(te,v),he=H.createHref(te);try{h.pushState(ne,"",he)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(he)}l&&g&&g({action:f,location:H.location,delta:1})}function M(U,ae){f=pi.Replace;let te=Cd(H.location,U,ae);v=E();let ne=gg(te,v),he=H.createHref(te);h.replaceState(ne,"",he),l&&g&&g({action:f,location:H.location,delta:0})}function $(U){let ae=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof U=="string"?U:Hu(U);return te=te.replace(/ $/,"%20"),ht(ae,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,ae)}let H={get action(){return f},get location(){return r(o,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(mg,I),g=U,()=>{o.removeEventListener(mg,I),g=null}},createHref(U){return e(o,U)},createURL:$,encodeLocation(U){let ae=$(U);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:x,replace:M,go(U){return h.go(U)}};return H}var yg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(yg||(yg={}));function pw(r,e,t){return t===void 0&&(t="/"),mw(r,e,t)}function mw(r,e,t,i){let o=typeof e=="string"?Po(e):e,l=nf(o.pathname||"/",t);if(l==null)return null;let h=iv(r);gw(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=Rw(l);f=Sw(h[g],v)}return f}function iv(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(ht(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let v=gi([i,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&(ht(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),iv(l.children,e,E,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:Iw(v,l.index),routesMeta:E})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let g of sv(l.path))o(l,h,g)}),e}function sv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=sv(i.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function gw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:xw(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const yw=/^:[\w-]+$/,vw=3,_w=2,ww=1,Ew=10,Tw=-2,vg=r=>r==="*";function Iw(r,e){let t=r.split("/"),i=t.length;return t.some(vg)&&(i+=Tw),e&&(i+=_w),t.filter(o=>!vg(o)).reduce((o,l)=>o+(yw.test(l)?vw:l===""?ww:Ew),i)}function xw(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function Sw(r,e,t){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let g=i[f],v=f===i.length-1,E=l==="/"?e:e.slice(l.length)||"/",I=Cw({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),x=g.route;if(!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:gi([l,I.pathname]),pathnameBase:bw(gi([l,I.pathnameBase])),route:x}),I.pathnameBase!=="/"&&(l=gi([l,I.pathnameBase]))}return h}function Cw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Aw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,E,I)=>{let{paramName:x,isOptional:M}=E;if(x==="*"){let H=f[I]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const $=f[I];return M&&!$?v[x]=void 0:v[x]=($||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function Aw(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),rv(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rv(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function nf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function Pw(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Po(r):r;return{pathname:t?t.startsWith("/")?t:kw(t,e):e,search:Dw(i),hash:Ow(o)}}function kw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function hd(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ov(r,e){let t=Nw(r);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function av(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Po(r):(o=$a({},r),ht(!o.pathname||!o.pathname.includes("?"),hd("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),hd("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),hd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!i&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),I-=1;o.pathname=x.join("/")}f=I>=0?e[I]:"/"}let g=Pw(o,f),v=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}const gi=r=>r.join("/").replace(/\/\/+/g,"/"),bw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ow=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const lv=["post","put","patch","delete"];new Set(lv);const jw=["get",...lv];new Set(jw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ha.apply(this,arguments)}const rf=K.createContext(null),Lw=K.createContext(null),ps=K.createContext(null),fc=K.createContext(null),Vr=K.createContext({outlet:null,matches:[],isDataRoute:!1}),uv=K.createContext(null);function Mw(r,e){let{relative:t}=e===void 0?{}:e;el()||ht(!1);let{basename:i,navigator:o}=K.useContext(ps),{hash:l,pathname:h,search:f}=dv(r,{relative:t}),g=h;return i!=="/"&&(g=h==="/"?i:gi([i,h])),o.createHref({pathname:g,search:f,hash:l})}function el(){return K.useContext(fc)!=null}function tl(){return el()||ht(!1),K.useContext(fc).location}function cv(r){K.useContext(ps).static||K.useLayoutEffect(r)}function hv(){let{isDataRoute:r}=K.useContext(Vr);return r?eE():Fw()}function Fw(){el()||ht(!1);let r=K.useContext(rf),{basename:e,future:t,navigator:i}=K.useContext(ps),{matches:o}=K.useContext(Vr),{pathname:l}=tl(),h=JSON.stringify(ov(o,t.v7_relativeSplatPath)),f=K.useRef(!1);return cv(()=>{f.current=!0}),K.useCallback(function(v,E){if(E===void 0&&(E={}),!f.current)return;if(typeof v=="number"){i.go(v);return}let I=av(v,JSON.parse(h),l,E.relative==="path");r==null&&e!=="/"&&(I.pathname=I.pathname==="/"?e:gi([e,I.pathname])),(E.replace?i.replace:i.push)(I,E.state,E)},[e,i,h,l,r])}const Uw=K.createContext(null);function Bw(r){let e=K.useContext(Vr).outlet;return e&&K.createElement(Uw.Provider,{value:r},e)}function zw(){let{matches:r}=K.useContext(Vr),e=r[r.length-1];return e?e.params:{}}function dv(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=K.useContext(ps),{matches:o}=K.useContext(Vr),{pathname:l}=tl(),h=JSON.stringify(ov(o,i.v7_relativeSplatPath));return K.useMemo(()=>av(r,JSON.parse(h),l,t==="path"),[r,h,l,t])}function $w(r,e){return Hw(r,e)}function Hw(r,e,t,i){el()||ht(!1);let{navigator:o}=K.useContext(ps),{matches:l}=K.useContext(Vr),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=tl(),E;if(e){var I;let U=typeof e=="string"?Po(e):e;g==="/"||(I=U.pathname)!=null&&I.startsWith(g)||ht(!1),E=U}else E=v;let x=E.pathname||"/",M=x;if(g!=="/"){let U=g.replace(/^\//,"").split("/");M="/"+x.replace(/^\//,"").split("/").slice(U.length).join("/")}let $=pw(r,{pathname:M}),H=Qw($&&$.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:gi([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:gi([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&H?K.createElement(fc.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:pi.Pop}},H):H}function Ww(){let r=Zw(),e=Vw(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,null)}const qw=K.createElement(Ww,null);class Gw extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?K.createElement(Vr.Provider,{value:this.props.routeContext},K.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kw(r){let{routeContext:e,match:t,children:i}=r,o=K.useContext(rf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Vr.Provider,{value:e},i)}function Qw(r,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,f=(o=t)==null?void 0:o.errors;if(f!=null){let E=h.findIndex(I=>I.route.id&&(f==null?void 0:f[I.route.id])!==void 0);E>=0||ht(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,v=-1;if(t&&i&&i.v7_partialHydration)for(let E=0;E<h.length;E++){let I=h[E];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(v=E),I.route.id){let{loaderData:x,errors:M}=t,$=I.route.loader&&x[I.route.id]===void 0&&(!M||M[I.route.id]===void 0);if(I.route.lazy||$){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((E,I,x)=>{let M,$=!1,H=null,U=null;t&&(M=f&&I.route.id?f[I.route.id]:void 0,H=I.route.errorElement||qw,g&&(v<0&&x===0?(tE("route-fallback"),$=!0,U=null):v===x&&($=!0,U=I.route.hydrateFallbackElement||null)));let ae=e.concat(h.slice(0,x+1)),te=()=>{let ne;return M?ne=H:$?ne=U:I.route.Component?ne=K.createElement(I.route.Component,null):I.route.element?ne=I.route.element:ne=E,K.createElement(Kw,{match:I,routeContext:{outlet:E,matches:ae,isDataRoute:t!=null},children:ne})};return t&&(I.route.ErrorBoundary||I.route.errorElement||x===0)?K.createElement(Gw,{location:t.location,revalidation:t.revalidation,component:H,error:M,children:te(),routeContext:{outlet:null,matches:ae,isDataRoute:!0}}):te()},null)}var fv=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(fv||{}),pv=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(pv||{});function Xw(r){let e=K.useContext(rf);return e||ht(!1),e}function Yw(r){let e=K.useContext(Lw);return e||ht(!1),e}function Jw(r){let e=K.useContext(Vr);return e||ht(!1),e}function mv(r){let e=Jw(),t=e.matches[e.matches.length-1];return t.route.id||ht(!1),t.route.id}function Zw(){var r;let e=K.useContext(uv),t=Yw(),i=mv();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function eE(){let{router:r}=Xw(fv.UseNavigateStable),e=mv(pv.UseNavigateStable),t=K.useRef(!1);return cv(()=>{t.current=!0}),K.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Ha({fromRouteId:e},l)))},[r,e])}const _g={};function tE(r,e,t){_g[r]||(_g[r]=!0)}function nE(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function rE(r){return Bw(r.context)}function Ve(r){ht(!1)}function iE(r){let{basename:e="/",children:t=null,location:i,navigationType:o=pi.Pop,navigator:l,static:h=!1,future:f}=r;el()&&ht(!1);let g=e.replace(/^\/*/,"/"),v=K.useMemo(()=>({basename:g,navigator:l,static:h,future:Ha({v7_relativeSplatPath:!1},f)}),[g,f,l,h]);typeof i=="string"&&(i=Po(i));let{pathname:E="/",search:I="",hash:x="",state:M=null,key:$="default"}=i,H=K.useMemo(()=>{let U=nf(E,g);return U==null?null:{location:{pathname:U,search:I,hash:x,state:M,key:$},navigationType:o}},[g,E,I,x,M,$,o]);return H==null?null:K.createElement(ps.Provider,{value:v},K.createElement(fc.Provider,{children:t,value:H}))}function sE(r){let{children:e,location:t}=r;return $w(Ad(e),t)}new Promise(()=>{});function Ad(r,e){e===void 0&&(e=[]);let t=[];return K.Children.forEach(r,(i,o)=>{if(!K.isValidElement(i))return;let l=[...e,o];if(i.type===K.Fragment){t.push.apply(t,Ad(i.props.children,l));return}i.type!==Ve&&ht(!1),!i.props.index||!i.props.children||ht(!1);let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Ad(i.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Rd.apply(this,arguments)}function oE(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function aE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lE(r,e){return r.button===0&&(!e||e==="_self")&&!aE(r)}const uE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cE="6";try{window.__reactRouterVersion=cE}catch{}const hE="startTransition",wg=iw[hE];function dE(r){let{basename:e,children:t,future:i,window:o}=r,l=K.useRef();l.current==null&&(l.current=hw({window:o,v5Compat:!0}));let h=l.current,[f,g]=K.useState({action:h.action,location:h.location}),{v7_startTransition:v}=i||{},E=K.useCallback(I=>{v&&wg?wg(()=>g(I)):g(I)},[g,v]);return K.useLayoutEffect(()=>h.listen(E),[h,E]),K.useEffect(()=>nE(i),[i]),K.createElement(iE,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,future:i})}const fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=K.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:g,to:v,preventScrollReset:E,viewTransition:I}=e,x=oE(e,uE),{basename:M}=K.useContext(ps),$,H=!1;if(typeof v=="string"&&pE.test(v)&&($=v,fE))try{let ne=new URL(window.location.href),he=v.startsWith("//")?new URL(ne.protocol+v):new URL(v),Re=nf(he.pathname,M);he.origin===ne.origin&&Re!=null?v=Re+he.search+he.hash:H=!0}catch{}let U=Mw(v,{relative:o}),ae=mE(v,{replace:h,state:f,target:g,preventScrollReset:E,relative:o,viewTransition:I});function te(ne){i&&i(ne),ne.defaultPrevented||ae(ne)}return K.createElement("a",Rd({},x,{href:$||U,onClick:H||l?i:te,ref:t,target:g}))});var Eg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Eg||(Eg={}));var Tg;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Tg||(Tg={}));function mE(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,g=hv(),v=tl(),E=dv(r,{relative:h});return K.useCallback(I=>{if(lE(I,t)){I.preventDefault();let x=i!==void 0?i:Hu(v)===Hu(E);g(r,{replace:x,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[v,g,E,i,o,t,r,l,h,f])}const gE=()=>{};var Ig={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yE=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,E=l>>2,I=(l&3)<<4|f>>4;let x=(f&15)<<2|v>>6,M=v&63;g||(M=64,h||(x=64)),i.push(t[E],t[I],t[x],t[M])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||I==null)throw new vE;const x=l<<2|f>>4;if(i.push(x),v!==64){const M=f<<4&240|v>>2;if(i.push(M),I!==64){const $=v<<6&192|I;i.push($)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _E=function(r){const e=gv(r);return yv.encodeByteArray(e,!0)},Wu=function(r){return _E(r).replace(/\./g,"")},vv=function(r){try{return yv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>wE().__FIREBASE_DEFAULTS__,TE=()=>{if(typeof process>"u"||typeof Ig>"u")return;const r=Ig.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vv(r[1]);return e&&JSON.parse(e)},pc=()=>{try{return gE()||EE()||TE()||IE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_v=r=>{var e,t;return(t=(e=pc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},xE=r=>{const e=_v(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},wv=()=>{var r;return(r=pc())===null||r===void 0?void 0:r.config},Ev=r=>{var e;return(e=pc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){return r.endsWith(".cloudworkstations.dev")}async function Tv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wu(JSON.stringify(t)),Wu(JSON.stringify(h)),""].join(".")}const La={};function AE(){const r={prod:[],emulator:[]};for(const e of Object.keys(La))La[e]?r.emulator.push(e):r.prod.push(e);return r}function RE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let xg=!1;function Iv(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||La[r]===e||La[r]||xg)return;La[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=AE().prod.length>0;function h(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{xg=!0,h()},x}function E(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function I(){const x=RE(i),M=t("text"),$=document.getElementById(M)||document.createElement("span"),H=t("learnmore"),U=document.getElementById(H)||document.createElement("a"),ae=t("preprendIcon"),te=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ne=x.element;f(ne),E(U,H);const he=v();g(te,ae),ne.append(te,$,U,he),document.body.appendChild(ne)}l?($.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function kE(){var r;const e=(r=pc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OE(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function VE(){return!kE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ME,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?FE(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new jr(o,f,i)}}function FE(r,e){return r.replace(UE,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const UE=/\{\$([^}]+)}/g;function BE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function as(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(Sg(l)&&Sg(h)){if(!as(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Sg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ba(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Da(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function zE(r,e){const t=new $E(r,e);return t.subscribe.bind(t)}class $E{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");HE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=dd),o.error===void 0&&(o.error=dd),o.complete===void 0&&(o.complete=dd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r){return r&&r._delegate?r._delegate:r}class ls{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new SE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GE(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qE(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qE(r){return r===ss?void 0:r}function GE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const QE={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},XE=Pe.INFO,YE={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},JE=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=YE[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=XE,this._logHandler=JE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const ZE=(r,e)=>e.some(t=>r instanceof t);let Cg,Ag;function eT(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tT(){return Ag||(Ag=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,Pd=new WeakMap,Sv=new WeakMap,fd=new WeakMap,of=new WeakMap;function nT(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(yi(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&xv.set(t,r)}).catch(()=>{}),of.set(e,r),e}function rT(r){if(Pd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Pd.set(r,e)}let kd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Pd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Sv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iT(r){kd=r(kd)}function sT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(pd(this),e,...t);return Sv.set(i,e.sort?e.sort():[e]),yi(i)}:tT().includes(r)?function(...e){return r.apply(pd(this),e),yi(xv.get(this))}:function(...e){return yi(r.apply(pd(this),e))}}function oT(r){return typeof r=="function"?sT(r):(r instanceof IDBTransaction&&rT(r),ZE(r,eT())?new Proxy(r,kd):r)}function yi(r){if(r instanceof IDBRequest)return nT(r);if(fd.has(r))return fd.get(r);const e=oT(r);return e!==r&&(fd.set(r,e),of.set(e,r)),e}const pd=r=>of.get(r);function aT(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=yi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(yi(h.result),g.oldVersion,g.newVersion,yi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const lT=["get","getKey","getAll","getAllKeys","count"],uT=["put","add","delete","clear"],md=new Map;function Rg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=uT.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||lT.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return md.set(e,l),l}iT(r=>({...r,get:(e,t,i)=>Rg(e,t)||r.get(e,t,i),has:(e,t)=>!!Rg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function hT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nd="@firebase/app",Pg="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new sf("@firebase/app"),dT="@firebase/app-compat",fT="@firebase/analytics-compat",pT="@firebase/analytics",mT="@firebase/app-check-compat",gT="@firebase/app-check",yT="@firebase/auth",vT="@firebase/auth-compat",_T="@firebase/database",wT="@firebase/data-connect",ET="@firebase/database-compat",TT="@firebase/functions",IT="@firebase/functions-compat",xT="@firebase/installations",ST="@firebase/installations-compat",CT="@firebase/messaging",AT="@firebase/messaging-compat",RT="@firebase/performance",PT="@firebase/performance-compat",kT="@firebase/remote-config",NT="@firebase/remote-config-compat",bT="@firebase/storage",DT="@firebase/storage-compat",OT="@firebase/firestore",VT="@firebase/ai",jT="@firebase/firestore-compat",LT="firebase",MT="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",FT={[Nd]:"fire-core",[dT]:"fire-core-compat",[pT]:"fire-analytics",[fT]:"fire-analytics-compat",[gT]:"fire-app-check",[mT]:"fire-app-check-compat",[yT]:"fire-auth",[vT]:"fire-auth-compat",[_T]:"fire-rtdb",[wT]:"fire-data-connect",[ET]:"fire-rtdb-compat",[TT]:"fire-fn",[IT]:"fire-fn-compat",[xT]:"fire-iid",[ST]:"fire-iid-compat",[CT]:"fire-fcm",[AT]:"fire-fcm-compat",[RT]:"fire-perf",[PT]:"fire-perf-compat",[kT]:"fire-rc",[NT]:"fire-rc-compat",[bT]:"fire-gcs",[DT]:"fire-gcs-compat",[OT]:"fire-fst",[jT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[LT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,UT=new Map,Dd=new Map;function kg(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function wo(r){const e=r.name;if(Dd.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,r);for(const t of qu.values())kg(t,r);for(const t of UT.values())kg(t,r);return!0}function af(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new nl("app","Firebase",BT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=MT;function Cv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:bd,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=wv()),!t)throw vi.create("no-options");const l=qu.get(o);if(l){if(as(t,l.options)&&as(i,l.config))return l;throw vi.create("duplicate-app",{appName:o})}const h=new KE(o);for(const g of Dd.values())h.addComponent(g);const f=new zT(t,i,h);return qu.set(o,f),f}function Av(r=bd){const e=qu.get(r);if(!e&&r===bd&&wv())return Cv();if(!e)throw vi.create("no-app",{appName:r});return e}function _i(r,e,t){var i;let o=(i=FT[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}wo(new ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebase-heartbeat-database",HT=1,Wa="firebase-heartbeat-store";let gd=null;function Rv(){return gd||(gd=aT($T,HT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wa)}catch(t){console.warn(t)}}}}).catch(r=>{throw vi.create("idb-open",{originalErrorMessage:r.message})})),gd}async function WT(r){try{const t=(await Rv()).transaction(Wa),i=await t.objectStore(Wa).get(Pv(r));return await t.done,i}catch(e){if(e instanceof jr)Nr.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function Ng(r,e){try{const i=(await Rv()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,Pv(r)),await i.done}catch(t){if(t instanceof jr)Nr.warn(t.message);else{const i=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(i.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=1024,GT=30;class KT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=bg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>GT){const h=YT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Nr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bg(),{heartbeatsToSend:i,unsentEntries:o}=QT(this._heartbeatsCache.heartbeats),l=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function bg(){return new Date().toISOString().substring(0,10)}function QT(r,e=qT){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Dg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Dg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dg(r){return Wu(JSON.stringify({version:2,heartbeats:r})).length}function YT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r){wo(new ls("platform-logger",e=>new cT(e),"PRIVATE")),wo(new ls("heartbeat",e=>new KT(e),"PRIVATE")),_i(Nd,Pg,r),_i(Nd,Pg,"esm2017"),_i("fire-js","")}JT("");var ZT="firebase",eI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(ZT,eI,"app");function lf(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=kv,Nv=new nl("auth","Firebase",kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new sf("@firebase/auth");function nI(r,...e){Gu.logLevel<=Pe.WARN&&Gu.warn(`Auth (${No}): ${r}`,...e)}function Vu(r,...e){Gu.logLevel<=Pe.ERROR&&Gu.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r,...e){throw uf(r,...e)}function nr(r,...e){return uf(r,...e)}function bv(r,e,t){const i=Object.assign(Object.assign({},tI()),{[e]:t});return new nl("auth","Firebase",i).create(e,{appName:r.name})}function kr(r){return bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return Nv.create(r,...e)}function ve(r,e,...t){if(!r)throw uf(e,...t)}function Ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vu(e),new Error(e)}function br(r,e){r||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function rI(){return Og()==="http:"||Og()==="https:"}function Og(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rI()||bE()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){this.shortDelay=e,this.longDelay=t,br(t>e,"Short delay should be less than long delay!"),this.isMobile=PE()||DE()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r,e){br(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new il(3e4,6e4);function Ri(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Lr(r,e,t,i,o={}){return Ov(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=rl(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:g},l);return NE()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(v.credentials="include"),Dv.fetch()(await Vv(r,r.config.apiHost,t,f),v)})}async function Ov(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},oI),e);try{const o=new cI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ru(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ru(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ru(r,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw bv(r,E,v);zn(r,E)}}catch(o){if(o instanceof jr)throw o;zn(r,"network-request-failed",{message:String(o)})}}async function sl(r,e,t,i,o={}){const l=await Lr(r,e,t,i,o);return"mfaPendingCredential"in l&&zn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Vv(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?cf(r.config,o):`${r.config.apiScheme}://${o}`;return aI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function uI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nr(this.auth,"network-request-failed")),lI.get())})}}function Ru(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=nr(r,e,i);return o.customData._tokenResponse=t,o}function Vg(r){return r!==void 0&&r.enterprise!==void 0}class hI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dI(r,e){return Lr(r,"GET","/v2/recaptchaConfig",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,e){return Lr(r,"POST","/v1/accounts:delete",e)}async function Ku(r,e){return Lr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(r,e=!1){const t=bt(r),i=await t.getIdToken(e),o=hf(i);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Ma(yd(o.auth_time)),issuedAtTime:Ma(yd(o.iat)),expirationTime:Ma(yd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yd(r){return Number(r)*1e3}function hf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const o=vv(t);return o?JSON.parse(o):(Vu("Failed to decode base64 JWT payload"),null)}catch(o){return Vu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jg(r){const e=hf(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&mI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function mI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Eo(r,Ku(t,{idToken:i}));ve(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?jv(l.providerUserInfo):[],f=vI(r.providerData,h),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),E=g?v:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Vd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function yI(r){const e=bt(r);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vI(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function jv(r){return r.map(e=>{var{providerId:t}=e,i=lf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(r,e){const t=await Ov(r,{},async()=>{const i=rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await Vv(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),Dv.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wI(r,e){return Lr(r,"POST","/v2/accounts:revokeToken",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=jg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await _I(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new go;return i&&(ve(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ve(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pI(this,e)}reload(){return yI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Eo(this,fI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,g,v,E;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,$=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,U=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ae=(v=t.createdAt)!==null&&v!==void 0?v:void 0,te=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:he,isAnonymous:Re,providerData:Ie,stsTokenManager:b}=t;ve(ne&&b,e,"internal-error");const C=go.fromJSON(this.name,b);ve(typeof ne=="string",e,"internal-error"),ui(I,e.name),ui(x,e.name),ve(typeof he=="boolean",e,"internal-error"),ve(typeof Re=="boolean",e,"internal-error"),ui(M,e.name),ui($,e.name),ui(H,e.name),ui(U,e.name),ui(ae,e.name),ui(te,e.name);const R=new Bn({uid:ne,auth:e,email:x,emailVerified:he,displayName:I,isAnonymous:Re,photoURL:$,phoneNumber:M,tenantId:H,stsTokenManager:C,createdAt:ae,lastLoginAt:te});return Ie&&Array.isArray(Ie)&&(R.providerData=Ie.map(k=>Object.assign({},k))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new go;o.updateFromServerResponse(t);const l=new Bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qu(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?jv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new go;f.updateFromIdToken(i);const g=new Bn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Vd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new Map;function Rr(r){br(r instanceof Function,"Expected a class definition");let e=Lg.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Lg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lv.type="NONE";const Mg=Lv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(r,e,t){return`firebase:${r}:${e}:${t}`}class yo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ju(this.userKey,o.apiKey,l),this.fullPersistenceKey=ju("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ku(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new yo(Rr(Mg),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Rr(Mg);const h=ju(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const E=await v._get(h);if(E){let I;if(typeof E=="string"){const x=await Ku(e,{idToken:E}).catch(()=>{});if(!x)break;I=await Bn._fromGetAccountInfoResponse(e,x,E)}else I=Bn._fromJSON(e,E);v!==l&&(f=I),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new yo(l,e,i):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new yo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($v(e))return"Blackberry";if(Hv(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||Uv(e))&&!e.includes("edge/"))return"Chrome";if(zv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Mv(r=$t()){return/firefox\//i.test(r)}function Fv(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uv(r=$t()){return/crios\//i.test(r)}function Bv(r=$t()){return/iemobile/i.test(r)}function zv(r=$t()){return/android/i.test(r)}function $v(r=$t()){return/blackberry/i.test(r)}function Hv(r=$t()){return/webos/i.test(r)}function df(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EI(r=$t()){var e;return df(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return OE()&&document.documentMode===10}function Wv(r=$t()){return df(r)||zv(r)||Hv(r)||$v(r)||/windows phone/i.test(r)||Bv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r,e=[]){let t;switch(r){case"Browser":t=Fg($t());break;case"Worker":t=`${Fg($t())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e={}){return Lr(r,"GET","/v2/passwordPolicy",Ri(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=6;class CI{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:SI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ug(this),this.idTokenSubscription=new Ug(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ku(this,{idToken:e}),i=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(kr(this));const t=e?bt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xI(this),t=new CI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ms(r){return bt(r)}class Ug{constructor(e){this.auth=e,this.observer=null,this.addObserver=zE(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(r){mc=r}function Gv(r){return mc.loadJS(r)}function PI(){return mc.recaptchaEnterpriseScript}function kI(){return mc.gapiScript}function NI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bI{constructor(){this.enterprise=new DI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OI="recaptcha-enterprise",Kv="NO_RECAPTCHA";class VI{constructor(e){this.type=OI,this.auth=ms(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{dI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new hI(g);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(g=>{f(g)})})}function o(l,h,f){const g=window.grecaptcha;Vg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(v=>{h(v)}).catch(()=>{h(Kv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&Vg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PI();g.length!==0&&(g+=f),Gv(g).then(()=>{o(f,l,h)}).catch(v=>{h(v)})}}).catch(f=>{h(f)})})}}async function Bg(r,e,t,i=!1,o=!1){const l=new VI(r);let h;if(o)h=Kv;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function jd(r,e,t,i,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Bg(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Bg(r,e,t,t==="getOobCode");return i(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r,e){const t=af(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(as(l,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function LI(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MI(r,e,t){const i=ms(r);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Qv(e),{host:h,port:f}=FI(e),g=f===null?"":`:${f}`,v={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(as(v,i.config.emulator)&&as(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,ko(h)?(Tv(`${l}//${h}${g}`),Iv("Auth",!0)):UI()}function Qv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FI(r){const e=Qv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:zg(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:zg(h)}}}function zg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function BI(r,e){return Lr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,e){return sl(r,"POST","/v1/accounts:signInWithPassword",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e){return sl(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,e))}async function HI(r,e){return sl(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends ff{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new qa(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qa(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(e,t,"signInWithPassword",zI);case"emailLink":return $I(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(e,i,"signUpPassword",BI);case"emailLink":return HI(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e){return sl(r,"POST","/v1/accounts:signInWithIdp",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="http://localhost";class us extends ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=lf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new us(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:WI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GI(r){const e=ba(Da(r)).link,t=e?ba(Da(e)).deep_link_id:null,i=ba(Da(r)).deep_link_id;return(i?ba(Da(i)).link:null)||i||t||e||r}class pf{constructor(e){var t,i,o,l,h,f;const g=ba(Da(e)),v=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(i=g.oobCode)!==null&&i!==void 0?i:null,I=qI((o=g.mode)!==null&&o!==void 0?o:null);ve(v&&E&&I,"argument-error"),this.apiKey=v,this.operation=I,this.code=E,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=GI(e);try{return new pf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return qa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=pf.parseLink(t);return ve(i,"argument-error"),qa._fromEmailAndCode(e,i.code,i.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ol{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return us._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return hi.credential(t,i)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ol{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ol{constructor(){super("twitter.com")}static credential(e,t){return us._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return fi.credential(t,i)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return sl(r,"POST","/v1/accounts:signUp",Ri(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Bn._fromIdTokenResponse(e,i,o),h=$g(i);return new cs({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=$g(i);return new cs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function $g(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends jr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xu(e,t,i,o)}}function Yv(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(r,l,e,i):l})}async function QI(r,e,t=!1){const i=await Eo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return cs._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e,t=!1){const{auth:i}=r;if(xn(i.app))return Promise.reject(kr(i));const o="reauthenticate";try{const l=await Eo(r,Yv(i,o,e,r),t);ve(l.idToken,i,"internal-error");const h=hf(l.idToken);ve(h,i,"internal-error");const{sub:f}=h;return ve(r.uid===f,i,"user-mismatch"),cs._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(r,e,t=!1){if(xn(r.app))return Promise.reject(kr(r));const i="signIn",o=await Yv(r,i,e),l=await cs._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}async function YI(r,e){return Jv(ms(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(r){const e=ms(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JI(r,e,t){if(xn(r.app))return Promise.reject(kr(r));const i=ms(r),h=await jd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Zv(r),g}),f=await cs._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function ZI(r,e,t){return xn(r.app)?Promise.reject(kr(r)):YI(bt(r),bo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Zv(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,e){return Lr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=bt(r),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Eo(i,e2(i.auth,l));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const f=i.providerData.find(({providerId:g})=>g==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function n2(r,e,t,i){return bt(r).onIdTokenChanged(e,t,i)}function r2(r,e,t){return bt(r).beforeAuthStateChanged(e,t)}function i2(r,e,t,i){return bt(r).onAuthStateChanged(e,t,i)}function s2(r){return bt(r).signOut()}const Yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1e3,a2=10;class t_ extends e_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);TI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t_.type="LOCAL";const l2=t_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends e_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n_.type="SESSION";const r_=n_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new gc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),g=await u2(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=mf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const x=I;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function h2(r){rr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function d2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function p2(){return i_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firebaseLocalStorageDb",m2=1,Ju="firebaseLocalStorage",o_="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yc(r,e){return r.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function g2(){const r=indexedDB.deleteDatabase(s_);return new al(r).toPromise()}function Ld(){const r=indexedDB.open(s_,m2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Ju,{keyPath:o_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Ju)?e(i):(i.close(),await g2(),e(await Ld()))})})}async function Hg(r,e,t){const i=yc(r,!0).put({[o_]:e,value:t});return new al(i).toPromise()}async function y2(r,e){const t=yc(r,!1).get(e),i=await new al(t).toPromise();return i===void 0?null:i.value}function Wg(r,e){const t=yc(r,!0).delete(e);return new al(t).toPromise()}const v2=800,_2=3;class a_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ld(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(p2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ld();return await Hg(e,Yu,"1"),await Wg(e,Yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>y2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yc(o,!1).getAll();return new al(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a_.type="LOCAL";const w2=a_;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r,e){return e?Rr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T2(r){return Jv(r.auth,new gf(r),r.bypassAuthState)}function I2(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),XI(t,new gf(r),r.bypassAuthState)}async function x2(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),QI(t,new gf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:zn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new il(2e3,1e4);class mo extends l_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="pendingRedirect",Lu=new Map;class A2 extends l_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const i=await R2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R2(r,e){const t=N2(e),i=k2(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function P2(r,e){Lu.set(r._key(),e)}function k2(r){return Rr(r._redirectPersistence)}function N2(r){return ju(C2,r.config.apiKey,r.name)}async function b2(r,e,t=!1){if(xn(r.app))return Promise.reject(kr(r));const i=ms(r),o=E2(i,e),h=await new A2(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=10*60*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!u_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D2&&this.cachedEventUids.clear(),this.cachedEventUids.has(qg(e))}saveEventToCache(e){this.cachedEventUids.add(qg(e)),this.lastProcessedEventTime=Date.now()}}function qg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function u_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e={}){return Lr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function F2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await j2(r);for(const t of e)try{if(U2(t))return}catch{}zn(r,"unauthorized-domain")}function U2(r){const e=Od(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!M2.test(t))return!1;if(L2.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new il(3e4,6e4);function Gg(){const r=rr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function z2(r){return new Promise((e,t)=>{var i,o,l;function h(){Gg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gg(),t(nr(r,"network-request-failed"))},timeout:B2.get()})}if(!((o=(i=rr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=rr().gapi)===null||l===void 0)&&l.load)h();else{const f=NI("iframefcb");return rr()[f]=()=>{gapi.load?h():t(nr(r,"network-request-failed"))},Gv(`${kI()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function $2(r){return Mu=Mu||z2(r),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new il(5e3,15e3),W2="__/auth/iframe",q2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?cf(e,q2):`https://${r.config.authDomain}/${W2}`,i={apiKey:e.apiKey,appName:r.name,v:No},o=K2.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${rl(i).slice(1)}`}async function X2(r){const e=await $2(r),t=rr().gapi;return ve(t,r,"internal-error"),e.open({where:document.body,url:Q2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=nr(r,"network-request-failed"),f=rr().setTimeout(()=>{l(h)},H2.get());function g(){rr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,ex="_blank",tx="http://localhost";class Kg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nx(r,e,t,i=J2,o=Z2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g=Object.assign(Object.assign({},Y2),{width:i.toString(),height:o.toString(),top:l,left:h}),v=$t().toLowerCase();t&&(f=Uv(v)?ex:t),Mv(v)&&(e=e||tx,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[M,$])=>`${x}${M}=${$},`,"");if(EI(v)&&f!=="_self")return rx(e||"",f),new Kg(null);const I=window.open(e||"",f,E);ve(I,r,"popup-blocked");try{I.focus()}catch{}return new Kg(I)}function rx(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__/auth/handler",sx="emulator/auth/handler",ox=encodeURIComponent("fac");async function Qg(r,e,t,i,o,l){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:No,eventId:o};if(e instanceof Xv){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",BE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))h[E]=I}if(e instanceof ol){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const g=await r._getAppCheckToken(),v=g?`#${ox}=${encodeURIComponent(g)}`:"";return`${ax(r)}?${rl(f).slice(1)}${v}`}function ax({config:r}){return r.emulator?cf(r,sx):`https://${r.authDomain}/${ix}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="webStorageSupport";class lx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=b2,this._overrideRedirectResult=P2}async _openPopup(e,t,i,o){var l;br((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Qg(e,t,i,Od(),o);return nx(e,h,mf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Qg(e,t,i,Od(),o);return h2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(br(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await X2(e),i=new O2(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vd,{type:vd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[vd];h!==void 0&&t(!!h),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wv()||Fv()||df()}}const ux=lx;var Xg="@firebase/auth",Yg="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dx(r){wo(new ls("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qv(r)},v=new AI(i,o,l,g);return LI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wo(new ls("auth-internal",e=>{const t=ms(e.getProvider("auth").getImmediate());return(i=>new cx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Xg,Yg,hx(r)),_i(Xg,Yg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=5*60,px=Ev("authIdTokenMaxAge")||fx;let Jg=null;const mx=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>px)return;const o=t==null?void 0:t.token;Jg!==o&&(Jg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gx(r=Av()){const e=af(r,"auth");if(e.isInitialized())return e.getImmediate();const t=jI(r,{popupRedirectResolver:ux,persistence:[w2,l2,r_]}),i=Ev("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=mx(l.toString());r2(t,h,()=>h(t.currentUser)),n2(t,f=>h(f))}}const o=_v("auth");return o&&MI(t,`http://${o}`),t}function yx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}RI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=nr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",yx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dx("Browser");var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,c_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function R(){}R.prototype=C.prototype,b.D=C.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(k,D,V){for(var A=Array(arguments.length-2),it=2;it<arguments.length;it++)A[it-2]=arguments[it];return C.prototype[D].apply(k,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,C,R){R||(R=0);var k=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)k[D]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(D=0;16>D;++D)k[D]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=b.g[0],R=b.g[1],D=b.g[2];var V=b.g[3],A=C+(V^R&(D^V))+k[0]+3614090360&4294967295;C=R+(A<<7&4294967295|A>>>25),A=V+(D^C&(R^D))+k[1]+3905402710&4294967295,V=C+(A<<12&4294967295|A>>>20),A=D+(R^V&(C^R))+k[2]+606105819&4294967295,D=V+(A<<17&4294967295|A>>>15),A=R+(C^D&(V^C))+k[3]+3250441966&4294967295,R=D+(A<<22&4294967295|A>>>10),A=C+(V^R&(D^V))+k[4]+4118548399&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(D^C&(R^D))+k[5]+1200080426&4294967295,V=C+(A<<12&4294967295|A>>>20),A=D+(R^V&(C^R))+k[6]+2821735955&4294967295,D=V+(A<<17&4294967295|A>>>15),A=R+(C^D&(V^C))+k[7]+4249261313&4294967295,R=D+(A<<22&4294967295|A>>>10),A=C+(V^R&(D^V))+k[8]+1770035416&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(D^C&(R^D))+k[9]+2336552879&4294967295,V=C+(A<<12&4294967295|A>>>20),A=D+(R^V&(C^R))+k[10]+4294925233&4294967295,D=V+(A<<17&4294967295|A>>>15),A=R+(C^D&(V^C))+k[11]+2304563134&4294967295,R=D+(A<<22&4294967295|A>>>10),A=C+(V^R&(D^V))+k[12]+1804603682&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(D^C&(R^D))+k[13]+4254626195&4294967295,V=C+(A<<12&4294967295|A>>>20),A=D+(R^V&(C^R))+k[14]+2792965006&4294967295,D=V+(A<<17&4294967295|A>>>15),A=R+(C^D&(V^C))+k[15]+1236535329&4294967295,R=D+(A<<22&4294967295|A>>>10),A=C+(D^V&(R^D))+k[1]+4129170786&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^D&(C^R))+k[6]+3225465664&4294967295,V=C+(A<<9&4294967295|A>>>23),A=D+(C^R&(V^C))+k[11]+643717713&4294967295,D=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(D^V))+k[0]+3921069994&4294967295,R=D+(A<<20&4294967295|A>>>12),A=C+(D^V&(R^D))+k[5]+3593408605&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^D&(C^R))+k[10]+38016083&4294967295,V=C+(A<<9&4294967295|A>>>23),A=D+(C^R&(V^C))+k[15]+3634488961&4294967295,D=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(D^V))+k[4]+3889429448&4294967295,R=D+(A<<20&4294967295|A>>>12),A=C+(D^V&(R^D))+k[9]+568446438&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^D&(C^R))+k[14]+3275163606&4294967295,V=C+(A<<9&4294967295|A>>>23),A=D+(C^R&(V^C))+k[3]+4107603335&4294967295,D=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(D^V))+k[8]+1163531501&4294967295,R=D+(A<<20&4294967295|A>>>12),A=C+(D^V&(R^D))+k[13]+2850285829&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^D&(C^R))+k[2]+4243563512&4294967295,V=C+(A<<9&4294967295|A>>>23),A=D+(C^R&(V^C))+k[7]+1735328473&4294967295,D=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(D^V))+k[12]+2368359562&4294967295,R=D+(A<<20&4294967295|A>>>12),A=C+(R^D^V)+k[5]+4294588738&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^D)+k[8]+2272392833&4294967295,V=C+(A<<11&4294967295|A>>>21),A=D+(V^C^R)+k[11]+1839030562&4294967295,D=V+(A<<16&4294967295|A>>>16),A=R+(D^V^C)+k[14]+4259657740&4294967295,R=D+(A<<23&4294967295|A>>>9),A=C+(R^D^V)+k[1]+2763975236&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^D)+k[4]+1272893353&4294967295,V=C+(A<<11&4294967295|A>>>21),A=D+(V^C^R)+k[7]+4139469664&4294967295,D=V+(A<<16&4294967295|A>>>16),A=R+(D^V^C)+k[10]+3200236656&4294967295,R=D+(A<<23&4294967295|A>>>9),A=C+(R^D^V)+k[13]+681279174&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^D)+k[0]+3936430074&4294967295,V=C+(A<<11&4294967295|A>>>21),A=D+(V^C^R)+k[3]+3572445317&4294967295,D=V+(A<<16&4294967295|A>>>16),A=R+(D^V^C)+k[6]+76029189&4294967295,R=D+(A<<23&4294967295|A>>>9),A=C+(R^D^V)+k[9]+3654602809&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^D)+k[12]+3873151461&4294967295,V=C+(A<<11&4294967295|A>>>21),A=D+(V^C^R)+k[15]+530742520&4294967295,D=V+(A<<16&4294967295|A>>>16),A=R+(D^V^C)+k[2]+3299628645&4294967295,R=D+(A<<23&4294967295|A>>>9),A=C+(D^(R|~V))+k[0]+4096336452&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~D))+k[7]+1126891415&4294967295,V=C+(A<<10&4294967295|A>>>22),A=D+(C^(V|~R))+k[14]+2878612391&4294967295,D=V+(A<<15&4294967295|A>>>17),A=R+(V^(D|~C))+k[5]+4237533241&4294967295,R=D+(A<<21&4294967295|A>>>11),A=C+(D^(R|~V))+k[12]+1700485571&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~D))+k[3]+2399980690&4294967295,V=C+(A<<10&4294967295|A>>>22),A=D+(C^(V|~R))+k[10]+4293915773&4294967295,D=V+(A<<15&4294967295|A>>>17),A=R+(V^(D|~C))+k[1]+2240044497&4294967295,R=D+(A<<21&4294967295|A>>>11),A=C+(D^(R|~V))+k[8]+1873313359&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~D))+k[15]+4264355552&4294967295,V=C+(A<<10&4294967295|A>>>22),A=D+(C^(V|~R))+k[6]+2734768916&4294967295,D=V+(A<<15&4294967295|A>>>17),A=R+(V^(D|~C))+k[13]+1309151649&4294967295,R=D+(A<<21&4294967295|A>>>11),A=C+(D^(R|~V))+k[4]+4149444226&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~D))+k[11]+3174756917&4294967295,V=C+(A<<10&4294967295|A>>>22),A=D+(C^(V|~R))+k[2]+718787259&4294967295,D=V+(A<<15&4294967295|A>>>17),A=R+(V^(D|~C))+k[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+V&4294967295}i.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var R=C-this.blockSize,k=this.B,D=this.h,V=0;V<C;){if(D==0)for(;V<=R;)o(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<C;)if(k[D++]=b.charCodeAt(V++),D==this.blockSize){o(this,k),D=0;break}}else for(;V<C;)if(k[D++]=b[V++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=C},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var R=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=R&255,R/=256;for(this.u(b),b=Array(16),C=R=0;4>C;++C)for(var k=0;32>k;k+=8)b[R++]=this.g[C]>>>k&255;return b};function l(b,C){var R=f;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=C(b)}function h(b,C){this.h=C;for(var R=[],k=!0,D=b.length-1;0<=D;D--){var V=b[D]|0;k&&V==C||(R[D]=V,k=!1)}this.g=R}var f={};function g(b){return-128<=b&&128>b?l(b,function(C){return new h([C|0],0>C?-1:0)}):new h([b|0],0>b?-1:0)}function v(b){if(isNaN(b)||!isFinite(b))return I;if(0>b)return U(v(-b));for(var C=[],R=1,k=0;b>=R;k++)C[k]=b/R|0,R*=4294967296;return new h(C,0)}function E(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return U(E(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(C,8)),k=I,D=0;D<b.length;D+=8){var V=Math.min(8,b.length-D),A=parseInt(b.substring(D,D+V),C);8>V?(V=v(Math.pow(C,V)),k=k.j(V).add(v(A))):(k=k.j(R),k=k.add(v(A)))}return k}var I=g(0),x=g(1),M=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-U(this).m();for(var b=0,C=1,R=0;R<this.g.length;R++){var k=this.i(R);b+=(0<=k?k:4294967296+k)*C,C*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if($(this))return"0";if(H(this))return"-"+U(this).toString(b);for(var C=v(Math.pow(b,6)),R=this,k="";;){var D=he(R,C).g;R=ae(R,D.j(C));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=D,$(R))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function $(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function H(b){return b.h==-1}r.l=function(b){return b=ae(this,b),H(b)?-1:$(b)?0:1};function U(b){for(var C=b.g.length,R=[],k=0;k<C;k++)R[k]=~b.g[k];return new h(R,~b.h).add(x)}r.abs=function(){return H(this)?U(this):this},r.add=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],k=0,D=0;D<=C;D++){var V=k+(this.i(D)&65535)+(b.i(D)&65535),A=(V>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);k=A>>>16,V&=65535,A&=65535,R[D]=A<<16|V}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ae(b,C){return b.add(U(C))}r.j=function(b){if($(this)||$(b))return I;if(H(this))return H(b)?U(this).j(U(b)):U(U(this).j(b));if(H(b))return U(this.j(U(b)));if(0>this.l(M)&&0>b.l(M))return v(this.m()*b.m());for(var C=this.g.length+b.g.length,R=[],k=0;k<2*C;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<b.g.length;D++){var V=this.i(k)>>>16,A=this.i(k)&65535,it=b.i(D)>>>16,Ot=b.i(D)&65535;R[2*k+2*D]+=A*Ot,te(R,2*k+2*D),R[2*k+2*D+1]+=V*Ot,te(R,2*k+2*D+1),R[2*k+2*D+1]+=A*it,te(R,2*k+2*D+1),R[2*k+2*D+2]+=V*it,te(R,2*k+2*D+2)}for(k=0;k<C;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=C;k<2*C;k++)R[k]=0;return new h(R,0)};function te(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function ne(b,C){this.g=b,this.h=C}function he(b,C){if($(C))throw Error("division by zero");if($(b))return new ne(I,I);if(H(b))return C=he(U(b),C),new ne(U(C.g),U(C.h));if(H(C))return C=he(b,U(C)),new ne(U(C.g),C.h);if(30<b.g.length){if(H(b)||H(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,k=C;0>=k.l(b);)R=Re(R),k=Re(k);var D=Ie(R,1),V=Ie(k,1);for(k=Ie(k,2),R=Ie(R,2);!$(k);){var A=V.add(k);0>=A.l(b)&&(D=D.add(R),V=A),k=Ie(k,1),R=Ie(R,1)}return C=ae(b,D.j(C)),new ne(D,C)}for(D=I;0<=b.l(C);){for(R=Math.max(1,Math.floor(b.m()/C.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=v(R),A=V.j(C);H(A)||0<A.l(b);)R-=k,V=v(R),A=V.j(C);$(V)&&(V=x),D=D.add(V),b=ae(b,A)}return new ne(D,b)}r.A=function(b){return he(this,b).h},r.and=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)&b.i(k);return new h(R,this.h&b.h)},r.or=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)|b.i(k);return new h(R,this.h|b.h)},r.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),R=[],k=0;k<C;k++)R[k]=this.i(k)^b.i(k);return new h(R,this.h^b.h)};function Re(b){for(var C=b.g.length+1,R=[],k=0;k<C;k++)R[k]=b.i(k)<<1|b.i(k-1)>>>31;return new h(R,b.h)}function Ie(b,C){var R=C>>5;C%=32;for(var k=b.g.length-R,D=[],V=0;V<k;V++)D[V]=0<C?b.i(V+R)>>>C|b.i(V+R+1)<<32-C:b.i(V+R);return new h(D,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,wi=h}).apply(typeof Zg<"u"?Zg:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h_,Oa,d_,Fu,Md,f_,p_,m_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in y))break e;y=y[j]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,T=!1,j={next:function(){if(!T&&y<u.length){var z=y++;return{value:p(z,u[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,y){return u.call.apply(u.bind,arguments)}function I(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function x(u,p,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,x.apply(null,arguments)}function M(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,j,z){for(var Z=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Z[Be-2]=arguments[Be];return p.prototype[j].apply(T,Z)}}function H(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function U(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const j=u.length||0,z=T.length||0;u.length=j+z;for(let Z=0;Z<z;Z++)u[j+Z]=T[Z]}else u.push(T)}}class ae{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var Re=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ie(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function b(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function C(u){const p={};for(const y in u)p[y]=u[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let y,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(y in T)u[y]=T[y];for(let z=0;z<R.length;z++)y=R[z],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function D(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function V(u){f.setTimeout(()=>{throw u},0)}function A(){var u=fe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class it{constructor(){this.h=this.g=null}add(p,y){const T=Ot.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Ot=new ae(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ee=!1,fe=new it,ie=()=>{const u=f.Promise.resolve(void 0);ze=()=>{u.then(O)}};var O=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){V(y)}var p=Ot;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u}();function Ce(u,p){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Re){e:{try{he(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}$(Ce,de);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function He(u,p,y,T,j){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=j,this.key=++Fe,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ur(u){this.src=u,this.g={},this.h=0}ur.prototype.add=function(u,p,y,T,j){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var Z=Mr(u,p,T,j);return-1<Z?(p=u[Z],y||(p.fa=!1)):(p=new He(p,this.src,z,!!T,j),p.fa=y,u.push(p)),p};function vs(u,p){var y=p.type;if(y in u.g){var T=u.g[y],j=Array.prototype.indexOf.call(T,p,void 0),z;(z=0<=j)&&Array.prototype.splice.call(T,j,1),z&&(wt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Mr(u,p,y,T){for(var j=0;j<u.length;++j){var z=u[j];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==T)return j}return-1}var Ni="closure_lm_"+(1e6*Math.random()|0),_s={};function Lo(u,p,y,T,j){if(Array.isArray(p)){for(var z=0;z<p.length;z++)Lo(u,p[z],y,T,j);return null}return y=Uo(y),u&&u[Me]?u.K(p,y,v(T)?!!T.capture:!1,j):Mo(u,p,y,!1,T,j)}function Mo(u,p,y,T,j,z){if(!p)throw Error("Invalid event type");var Z=v(j)?!!j.capture:!!j,Be=Es(u);if(Be||(u[Ni]=Be=new ur(u)),y=Be.add(p,y,T,Z,z),y.proxy)return y;if(T=dl(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)xe||(j=Z),j===void 0&&(j=!1),u.addEventListener(p.toString(),T,j);else if(u.attachEvent)u.attachEvent(hr(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function dl(){function u(y){return p.call(u.src,u.listener,y)}const p=Fo;return u}function ws(u,p,y,T,j){if(Array.isArray(p))for(var z=0;z<p.length;z++)ws(u,p[z],y,T,j);else T=v(T)?!!T.capture:!!T,y=Uo(y),u&&u[Me]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],y=Mr(z,y,T,j),-1<y&&(wt(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=Es(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Mr(p,y,T,j)),(y=-1<u?p[u]:null)&&cr(y))}function cr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Me])vs(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(hr(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=Es(p))?(vs(y,u),y.h==0&&(y.src=null,p[Ni]=null)):wt(u)}}}function hr(u){return u in _s?_s[u]:_s[u]="on"+u}function Fo(u,p){if(u.da)u=!0;else{p=new Ce(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&cr(u),u=y.call(T,p)}return u}function Es(u){return u=u[Ni],u instanceof ur?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uo(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(p){return u.handleEvent(p)}),u[Ts])}function dt(){q.call(this),this.i=new ur(this),this.M=this,this.F=null}$(dt,q),dt.prototype[Me]=!0,dt.prototype.removeEventListener=function(u,p,y,T){ws(this,u,p,y,T)};function ft(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new de(p,u);else if(p instanceof de)p.target=p.target||u;else{var j=p;p=new de(T,u),k(p,j)}if(j=!0,y)for(var z=y.length-1;0<=z;z--){var Z=p.g=y[z];j=dr(Z,T,!0,p)&&j}if(Z=p.g=u,j=dr(Z,T,!0,p)&&j,j=dr(Z,T,!1,p)&&j,y)for(z=0;z<y.length;z++)Z=p.g=y[z],j=dr(Z,T,!1,p)&&j}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)wt(y[T]);delete u.g[p],u.h--}}this.F=null},dt.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},dt.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function dr(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,z=0;z<p.length;++z){var Z=p[z];if(Z&&!Z.da&&Z.capture==y){var Be=Z.listener,pt=Z.ha||Z.src;Z.fa&&vs(u.i,Z),j=Be.call(pt,T)!==!1&&j}}return j&&!T.defaultPrevented}function Bo(u,p,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Fr(u){u.g=Bo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class bi extends q{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(u){q.call(this),this.h=u,this.g={}}$(Di,q);var zo=[];function $o(u){Ie(u.g,function(p,y){this.g.hasOwnProperty(y)&&cr(p)},u),u.g={}}Di.prototype.N=function(){Di.aa.N.call(this),$o(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=f.JSON.stringify,Wo=f.JSON.parse,qo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Oi(){}Oi.prototype.h=null;function Is(u){return u.h||(u.h=u.i())}function xs(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){de.call(this,"d")}$($n,de);function Ss(){de.call(this,"c")}$(Ss,de);var Hn={},Go=null;function Vi(){return Go=Go||new dt}Hn.La="serverreachability";function Ko(u){de.call(this,Hn.La,u)}$(Ko,de);function fr(u){const p=Vi();ft(p,new Ko(p))}Hn.STAT_EVENT="statevent";function Qo(u,p){de.call(this,Hn.STAT_EVENT,u),this.stat=p}$(Qo,de);function st(u){const p=Vi();ft(p,new Qo(p,u))}Hn.Ma="timingevent";function Cs(u,p){de.call(this,Hn.Ma,u),this.size=p}$(Cs,de);function Cn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function ji(){this.g=!0}ji.prototype.xa=function(){this.g=!1};function Li(u,p,y,T,j,z){u.info(function(){if(u.g)if(z)for(var Z="",Be=z.split("&"),pt=0;pt<Be.length;pt++){var De=Be[pt].split("=");if(1<De.length){var Et=De[0];De=De[1];var lt=Et.split("_");Z=2<=lt.length&&lt[1]=="type"?Z+(Et+"="+De+"&"):Z+(Et+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+p+`
`+y+`
`+Z})}function As(u,p,y,T,j,z,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+p+`
`+y+`
`+z+" "+Z})}function An(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Oc(u,y)+(T?" "+T:"")})}function Xo(u,p){u.info(function(){return"TIMEOUT: "+p})}ji.prototype.info=function(){};function Oc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var z=j[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<j.length;Z++)j[Z]=""}}}}return Ho(y)}catch{return p}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Mi(){}$(Mi,Oi),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},Rn=new Mi;function Pn(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}var Yo={},Ps={};function ks(u,p,y){u.L=1,u.v=Hr(on(p)),u.m=y,u.P=!0,Jo(u,null)}function Jo(u,p){u.F=Date.now(),We(u),u.A=on(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),qr(y.i,"t",T),u.C=0,y=u.j.J,u.h=new pl,u.g=bl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new bi(x(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(zo[0]=j.toString()),j=zo);for(var z=0;z<j.length;z++){var Z=Lo(y,j[z],T||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),fr(),Li(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Qt(u)==3?p.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Qt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ia(this.g)))){this.J||lt!=4||p==7||(p==8||0>=yn?fr(3):fr(2)),Fi(this);var y=this.g.Z();this.X=y;t:if(ml(this)){var T=ia(this.g);u="";var j=T.length,z=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Ur(this);var Z="";break t}this.h.i=new f.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(z&&p==j-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,As(this.i,this.u,this.A,this.l,this.R,lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,pt=this.g;if((Be=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Be)){var De=Be;break t}}De=null}if(y=De)An(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,y);else{this.o=!1,this.s=3,st(12),mn(this),Ur(this);break e}}if(this.P){y=!0;let ln;for(;!this.J&&this.C<Z.length;)if(ln=Vc(this,Z),ln==Ps){lt==4&&(this.s=4,st(14),y=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Yo){this.s=4,st(15),An(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else An(this.i,this.l,ln,null),Zo(this,ln);if(ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||Z.length!=0||this.h.h||(this.s=1,st(16),y=!1),this.o=this.o&&y,!y)An(this.i,this.l,Z,"[Invalid Chunked Response]"),mn(this),Ur(this);else if(0<Z.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),oa(Et),Et.M=!0,st(11))}}else An(this.i,this.l,Z,null),Zo(this,Z);lt==4&&mn(this),this.o&&!this.J&&(lt==4?Bs(this.j,this):(this.o=!1,We(this)))}else js(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),mn(this),Ur(this)}}}catch{}finally{}};function ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vc(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?Ps:(y=Number(p.substring(y,T)),isNaN(y)?Yo:(T+=1,T+y>p.length?Ps:(p=p.slice(T,T+y),u.C=T+y,p)))}Pn.prototype.cancel=function(){this.J=!0,mn(this)};function We(u){u.S=Date.now()+u.I,gl(u,u.I)}function gl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Cn(x(u.ba,u),p)}function Fi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xo(this.i,this.A),this.L!=2&&(fr(),st(17)),mn(this),this.s=2,Ur(this)):gl(this,this.S-u)};function Ur(u){u.j.G==0||u.J||Bs(u.j,u)}function mn(u){Fi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,$o(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Zo(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Ht(y.h,u))){if(!u.K&&Ht(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Us(y),On(y);else break e;Fs(y),st(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=Cn(x(y.Za,y),6e3));if(1>=vl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vr(y,11)}else if((u.K||y.g==u)&&Us(y),!te(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let De=j[p];if(y.T=De[0],De=De[1],y.G==2)if(De[0]=="c"){y.K=De[1],y.ia=De[2];const Et=De[3];Et!=null&&(y.la=Et,y.j.info("VER="+y.la));const lt=De[4];lt!=null&&(y.Aa=lt,y.j.info("SVER="+y.Aa));const yn=De[5];yn!=null&&typeof yn=="number"&&0<yn&&(T=1.5*yn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ln=u.g;if(ln){const qi=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var z=T.h;z.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ea(z,z.h),z.h=null))}if(T.D){const $s=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,$e(T.I,T.D,$s))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var Z=u;if(T.qa=Nl(T,T.J?T.ia:null,T.W),Z.K){_l(T.h,Z);var Be=Z,pt=T.L;pt&&(Be.I=pt),Be.B&&(Fi(Be),We(Be)),T.g=Z}else Wi(T);0<y.i.length&&Kn(y)}else De[0]!="stop"&&De[0]!="close"||vr(y,7);else y.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?vr(y,7):At(y):De[0]!="noop"&&y.l&&y.l.ta(De),y.v=0)}}fr(4)}catch{}}var yl=class{constructor(u,p){this.g=u,this.map=p}};function Ui(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vl(u){return u.h?1:u.g?u.g.size:0}function Ht(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ea(u,p){u.g?u.g.add(p):u.h=p}function _l(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ui.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return H(u.i)}function Ns(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function Br(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=bs(u),T=Ns(u),j=T.length,z=0;z<j;z++)p.call(void 0,T[z],y&&y[z],u)}var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),j=null;if(0<=T){var z=u[y].substring(0,T);j=u[y].substring(T+1)}else z=u[y];p(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pr){this.h=u.h,zi(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var p=u.i,y=new Wn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),$r(this,y),this.m=u.m}else u&&(p=String(u).match(Bi))?(this.h=!1,zi(this,p[1]||"",!0),this.o=Ne(p[2]||""),this.g=Ne(p[3]||"",!0),zr(this,p[4]),this.l=Ne(p[5]||"",!0),$r(this,p[6]||"",!0),this.m=Ne(p[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}pr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Wr(p,Ds,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Wr(p,Ds,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Wr(y,y.charAt(0)=="/"?Il:Tl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Wr(y,ta)),u.join("")};function on(u){return new pr(u)}function zi(u,p,y){u.j=y?Ne(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function $r(u,p,y){p instanceof Wn?(u.i=p,qn(u.i,u.h)):(y||(p=Wr(p,xl)),u.i=new Wn(p,u.h))}function $e(u,p,y){u.i.set(p,y)}function Hr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,El),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function El(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ds=/[#\/\?@]/g,Tl=/[#\?:]/g,Il=/[#\?]/g,xl=/[#\?@]/g,ta=/#/g;function Wn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Wn.prototype,r.add=function(u,p){Ct(this),this.i=null,u=gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function kn(u,p){Ct(u),p=gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Nn(u,p){return Ct(u),p=gn(u,p),u.g.has(p)}r.forEach=function(u,p){Ct(this),this.g.forEach(function(y,T){y.forEach(function(j){u.call(p,j,T,this)},this)},this)},r.na=function(){Ct(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const j=u[T];for(let z=0;z<j.length;z++)y.push(p[T])}return y},r.V=function(u){Ct(this);let p=[];if(typeof u=="string")Nn(this,u)&&(p=p.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return Ct(this),this.i=null,u=gn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function qr(u,p,y){kn(u,p),0<y.length&&(u.i=null,u.g.set(gn(u,p),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const z=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var j=z;Z[T]!==""&&(j+="="+encodeURIComponent(String(Z[T]))),u.push(j)}}return this.i=u.join("&")};function gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function qn(u,p){p&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(y,T){var j=T.toLowerCase();T!=j&&(kn(this,T),qr(this,j,y))},u)),u.j=p}function Lc(u,p){const y=new ji;if(f.Image){const T=new Image;T.onload=M(Kt,y,"TestLoadImage: loaded",!0,p,T),T.onerror=M(Kt,y,"TestLoadImage: error",!1,p,T),T.onabort=M(Kt,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=M(Kt,y,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Sl(u,p){const y=new ji,T=new AbortController,j=setTimeout(()=>{T.abort(),Kt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(j),z.ok?Kt(y,"TestPingServer: ok",!0,p):Kt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Kt(y,"TestPingServer: error",!1,p)})}function Kt(u,p,y,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(y)}catch{}}function Mc(){this.g=new qo}function Cl(u,p,y){const T=y||"";try{Br(u,function(j,z){let Z=j;v(j)&&(Z=Ho(j)),p.push(T+z+"="+encodeURIComponent(Z))})}catch(j){throw p.push(T+"type="+encodeURIComponent("_badmap")),j}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(mr,Oi),mr.prototype.g=function(){return new $i(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function $i(u,p){dt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$($i,dt),r=$i.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?bn(this):Dn(this),this.readyState==3&&Al(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},r.Qa=function(u){this.g&&(this.response=u,bn(this))},r.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gr(u){let p="";return Ie(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function Gr(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=gr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):$e(u,p,y))}function Xe(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Xe,dt);var Fc=/^https?$/i,na=["POST","PUT"];r=Xe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Is(this.o):Is(Rn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){Hi(this,z);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)y.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())y.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(na,p,void 0))||T||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of y)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Hi(this,z)}};function Hi(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Os(u),an(u)}function Os(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)Bo(u.Ea,0,u);else if(ft(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=Z===0){var j=String(u.D).match(Bi)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),T=!Fc.test(j?j.toLowerCase():"")}y=T}if(y)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var z=2<Qt(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Os(u)}}finally{an(u)}}}}function an(u,p){if(u.g){Vs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ft(u,"ready");try{y.onreadystatechange=T}catch{}}}function Vs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Wo(p)}};function ia(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function js(u){const p={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var y=D(u[T]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=p[j]||[];p[j]=z,z.push(y)}b(p,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function sa(u){this.Aa=0,this.i=[],this.j=new ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,u),this.cb=Gn("retryDelaySeedMs",1e4,u),this.Wa=Gn("forwardChannelMaxRetries",2,u),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new Mc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,T){st(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Nl(this,null,this.W),Kn(this)};function At(u){if(Ls(u),u.G==3){var p=u.U++,y=on(u.I);if($e(y,"SID",u.K),$e(y,"RID",p),$e(y,"TYPE","terminate"),yr(u,y),p=new Pn(u,u.j,p),p.L=2,p.v=Hr(on(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=bl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),We(p)}kl(u)}function On(u){u.g&&(oa(u),u.g.cancel(),u.g=null)}function Ls(u){On(u),u.u&&(f.clearTimeout(u.u),u.u=null),Us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Kn(u){if(!sn(u.h)&&!u.s){u.s=!0;var p=u.Ga;ze||ie(),ee||(ze(),ee=!0),fe.add(p,u),u.B=0}}function Uc(u,p){return vl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Cn(x(u.Ga,u,p),Pl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Pn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=C(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(j.H=z,z=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Kr(this,j,p),y=on(this.I),$e(y,"RID",u),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),yr(this,y),z&&(this.O?p="headers="+encodeURIComponent(String(gr(z)))+"&"+p:this.m&&Gr(y,this.m,z)),ea(this.h,j),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",p),$e(y,"SID","null"),j.T=!0,ks(j,y,null)):ks(j,y,p),this.G=2}}else this.G==3&&(u?Ms(this,u):this.i.length==0||sn(this.h)||Ms(this))};function Ms(u,p){var y;p?y=p.l:y=u.U++;const T=on(u.I);$e(T,"SID",u.K),$e(T,"RID",y),$e(T,"AID",u.T),yr(u,T),u.m&&u.o&&Gr(T,u.m,u.o),y=new Pn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Kr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ea(u.h,y),ks(y,T,p)}function yr(u,p){u.H&&Ie(u.H,function(y,T){$e(p,T,y)}),u.l&&Br({},function(y,T){$e(p,T,y)})}function Kr(u,p,y){y=Math.min(u.i.length,y);var T=u.l?x(u.l.Na,u.l,u):null;e:{var j=u.i;let z=-1;for(;;){const Z=["count="+y];z==-1?0<y?(z=j[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Be=!0;for(let pt=0;pt<y;pt++){let De=j[pt].g;const Et=j[pt].map;if(De-=z,0>De)z=Math.max(0,j[pt].g-100),Be=!1;else try{Cl(Et,Z,"req"+De+"_")}catch{T&&T(Et)}}if(Be){T=Z.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function Wi(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ze||ie(),ee||(ze(),ee=!0),fe.add(p,u),u.v=0}}function Fs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Cn(x(u.Fa,u),Pl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Cn(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),On(this),Rl(this))};function oa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Rl(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);$e(p,"RID","rpc"),$e(p,"SID",u.K),$e(p,"AID",u.T),$e(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(p,"TO",u.ja),$e(p,"TYPE","xmlhttp"),yr(u,p),u.m&&u.o&&Gr(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Hr(on(p)),y.m=null,y.P=!0,Jo(y,u)}r.Za=function(){this.C!=null&&(this.C=null,On(this),Fs(this),st(19))};function Us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Bs(u,p){var y=null;if(u.g==p){Us(u),oa(u),u.g=null;var T=2}else if(Ht(u.h,p))y=p.D,_l(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;T=Vi(),ft(T,new Cs(T,y)),Kn(u)}else Wi(u);else if(j=p.s,j==3||j==0&&0<p.X||!(T==1&&Uc(u,p)||T==2&&Fs(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),j){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function Pl(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function vr(u,p){if(u.j.info("Error code "+p),p==2){var y=x(u.fb,u),T=u.Xa;const j=!T;T=new pr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zi(T,"https"),Hr(T),j?Lc(T.toString(),y):Sl(T.toString(),y)}else st(2);u.G=0,u.l&&u.l.sa(p),kl(u),Ls(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function kl(u){if(u.G=0,u.ka=[],u.l){const p=wl(u.h);(p.length!=0||u.i.length!=0)&&(U(u.ka,p),U(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function Nl(u,p,y){var T=y instanceof pr?on(y):new pr(y);if(T.g!="")p&&(T.g=p+"."+T.g),zr(T,T.s);else{var j=f.location;T=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var z=new pr(null);T&&zi(z,T),p&&(z.g=p),j&&zr(z,j),y&&(z.l=y),T=z}return y=u.D,p=u.ya,y&&p&&$e(T,y,p),$e(T,"VER",u.la),yr(u,T),T}function bl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Xe(new mr({eb:y})):new Xe(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function aa(){}r=aa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function zs(){}zs.prototype.g=function(u,p){return new Wt(u,p)};function Wt(u,p){dt.call(this),this.g=new sa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!te(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qn(this)}$(Wt,dt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){At(this.g)},Wt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ho(u),u=y);p.i.push(new yl(p.Ya++,u)),p.G==3&&Kn(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Wt.aa.N.call(this)};function Dl(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}$(Dl,$n);function Ol(){Ss.call(this),this.status=1}$(Ol,Ss);function Qn(u){this.g=u}$(Qn,aa),Qn.prototype.ua=function(){ft(this.g,"a")},Qn.prototype.ta=function(u){ft(this.g,new Dl(u))},Qn.prototype.sa=function(u){ft(this.g,new Ol)},Qn.prototype.ra=function(){ft(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,m_=function(){return new zs},p_=function(){return Vi()},f_=Hn,Md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,Fu=Rs,fl.COMPLETE="complete",d_=fl,xs.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Oa=xs,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,h_=Xe}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore",ty="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new sf("@firebase/firestore");function co(){return hs.logLevel}function se(r,...e){if(hs.logLevel<=Pe.DEBUG){const t=e.map(yf);hs.debug(`Firestore (${Do}): ${r}`,...t)}}function Dr(r,...e){if(hs.logLevel<=Pe.ERROR){const t=e.map(yf);hs.error(`Firestore (${Do}): ${r}`,...t)}}function To(r,...e){if(hs.logLevel<=Pe.WARN){const t=e.map(yf);hs.warn(`Firestore (${Do}): ${r}`,...t)}}function yf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,g_(r,i,t)}function g_(r,e,t){let i=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Dr(i),new Error(i)}function Ue(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||g_(e,o,i)}function Te(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class _x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wx{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ei,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ei)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string",31837,{l:i}),new y_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class Ex{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tx{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ex(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ny{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const i=l=>{l.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ny(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ny(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=xx(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Se(r,e){return r<e?-1:r>e?1:0}function Fd(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=r.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Se(i,o);{const l=v_(),h=Sx(l.encode(ry(r,t)),l.encode(ry(e,t)));return h!==0?h:Se(i,o)}}t+=i>65535?2:1}return Se(r.length,e.length)}function ry(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Sx(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Se(r[t],e[t]);return Se(r.length,e.length)}function Io(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-62135596800,sy=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*sy);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iy)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sy}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new vt(0,0))}static max(){return new Ee(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="__name__";class tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&_e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=tr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const i=tr.isNumericId(e),o=tr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?tr.extractNumericId(e).compare(tr.extractNumericId(t)):Fd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class rt extends tr{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const Cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends tr{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return Cx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oy}static keyField(){return new Nt([oy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=-1;function Ax(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Ti(o,ye.empty(),e)}function Rx(r){return new Ti(r.readTime,r.key,Ga)}class Ti{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ti(Ee.min(),ye.empty(),Ga)}static max(){return new Ti(Ee.max(),ye.empty(),Ga)}}function Px(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(r.documentKey,e.documentKey),t!==0?t:Se(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==kx)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,i)=>{t(e)})}static reject(e){return new W((t,i)=>{i(e)})}static waitFor(e){return new W((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},g=>i(g))}),h=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const i of e)t=t.next(o=>o?W.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new W((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next(E=>{h[v]=E,++f,f===l&&i(h)},E=>o(E))}})}static doWhile(e,t){return new W((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function bx(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=-1;function _c(r){return r==null}function Zu(r){return r===0&&1/r==-1/0}function Dx(r){return typeof r=="number"&&Number.isInteger(r)&&!Zu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="";function Ox(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ay(e)),e=Vx(r.get(t),e);return ay(e)}function Vx(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case w_:t+="";break;default:t+=l}}return t}function ay(r){return r+w_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Pi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function E_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new kt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new _t(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T_("Invalid base64 string: "+l):l}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(r){if(Ue(!!r,39018),typeof r=="string"){let e=0;const t=jx.exec(r);if(Ue(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xi(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",x_="__type__",S_="__previous_value__",C_="__local_write_time__";function _f(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[x_])===null||t===void 0?void 0:t.stringValue)===I_}function wc(r){const e=r.mapValue.fields[S_];return _f(e)?wc(e):e}function Ka(r){const e=Ii(r.mapValue.fields[C_].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t,i,o,l,h,f,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const ec="(default)";class Qa{constructor(e,t){this.projectId=e,this.database=t||ec}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",Mx="__max__",Nu={mapValue:{}},R_="__vector__",tc="value";function Si(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_f(r)?4:Ux(r)?9007199254740991:Fx(r)?10:11:_e(28295,{value:r})}function ar(r,e){if(r===e)return!0;const t=Si(r);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ka(r).isEqual(Ka(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ii(o.timestampValue),f=Ii(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return xi(o.bytesValue).isEqual(xi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),f=at(l.doubleValue);return h===f?Zu(h)===Zu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ly(h)!==ly(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!ar(h[g],f[g])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function Xa(r,e){return(r.values||[]).find(t=>ar(t,e))!==void 0}function xo(r,e){if(r===e)return 0;const t=Si(r),i=Si(e);if(t!==i)return Se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=at(l.integerValue||l.doubleValue),g=at(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return cy(r.timestampValue,e.timestampValue);case 4:return cy(Ka(r),Ka(e));case 5:return Fd(r.stringValue,e.stringValue);case 6:return function(l,h){const f=xi(l),g=xi(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const E=Se(f[v],g[v]);if(E!==0)return E}return Se(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Se(at(l.latitude),at(h.latitude));return f!==0?f:Se(at(l.longitude),at(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,g,v,E;const I=l.fields||{},x=h.fields||{},M=(f=I[tc])===null||f===void 0?void 0:f.arrayValue,$=(g=x[tc])===null||g===void 0?void 0:g.arrayValue,H=Se(((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0,((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:hy(M,$)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Nu.mapValue&&h===Nu.mapValue)return 0;if(l===Nu.mapValue)return 1;if(h===Nu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const x=Fd(g[I],E[I]);if(x!==0)return x;const M=xo(f[g[I]],v[E[I]]);if(M!==0)return M}return Se(g.length,E.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{Pe:t})}}function cy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Se(r,e);const t=Ii(r),i=Ii(e),o=Se(t.seconds,i.seconds);return o!==0?o:Se(t.nanos,i.nanos)}function hy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=xo(t[o],i[o]);if(l)return l}return Se(t.length,i.length)}function So(r){return Ud(r)}function Ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Ii(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return xi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ye.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Ud(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Ud(t.fields[h])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function Uu(r){switch(Si(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(r);return e?16+Uu(e):16;case 5:return 2*r.stringValue.length;case 6:return xi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Uu(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Pi(i.fields,(l,h)=>{o+=l.length+Uu(h)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function Bd(r){return!!r&&"integerValue"in r}function wf(r){return!!r&&"arrayValue"in r}function dy(r){return!!r&&"nullValue"in r}function fy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bu(r){return!!r&&"mapValue"in r}function Fx(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||t===void 0?void 0:t.stringValue)===R_}function Fa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Pi(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fa(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ux(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Mx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Fa(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Bu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Pi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new rn(Fa(this.value))}}function P_(r){const e=[];return Pi(r.fields,(t,i)=>{const o=new Nt([t]);if(Bu(i)){const l=P_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Ee.min(),Ee.min(),Ee.min(),rn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ee.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ee.min(),Ee.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ee.min(),Ee.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.position=e,this.inclusive=t}}function py(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(h.referenceValue),t.key):i=xo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function my(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ar(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{}class yt extends k_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $x(e,t,i):t==="array-contains"?new qx(e,i):t==="in"?new Gx(e,i):t==="not-in"?new Kx(e,i):t==="array-contains-any"?new Qx(e,i):new yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Hx(e,i):new Wx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends k_{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lr(e,t)}matches(e){return N_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function N_(r){return r.op==="and"}function b_(r){return zx(r)&&N_(r)}function zx(r){for(const e of r.filters)if(e instanceof lr)return!1;return!0}function zd(r){if(r instanceof yt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(b_(r))return r.filters.map(e=>zd(e)).join(",");{const e=r.filters.map(t=>zd(t)).join(",");return`${r.op}(${e})`}}function D_(r,e){return r instanceof yt?function(i,o){return o instanceof yt&&i.op===o.op&&i.field.isEqual(o.field)&&ar(i.value,o.value)}(r,e):r instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&D_(h,o.filters[f]),!0):!1}(r,e):void _e(19439)}function O_(r){return r instanceof yt?function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`}(r):r instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(O_).join(" ,")+"}"}(r):"Filter"}class $x extends yt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hx extends yt{constructor(e,t){super(e,"in",t),this.keys=V_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wx extends yt{constructor(e,t){super(e,"not-in",t),this.keys=V_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function V_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class qx extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wf(t)&&Xa(t.arrayValue,this.value)}}class Gx extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xa(this.value.arrayValue,t)}}class Kx extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xa(this.value.arrayValue,t)}}class Qx extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Xa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Ie=null}}function gy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new Xx(r,e,t,i,o,l,h)}function Ef(r){const e=Te(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),_c(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>So(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>So(i)).join(",")),e.Ie=t}return e.Ie}function Tf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Bx(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!D_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!my(r.startAt,e.startAt)&&my(r.endAt,e.endAt)}function $d(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yx(r,e,t,i,o,l,h,f){return new Ec(r,e,t,i,o,l,h,f)}function If(r){return new Ec(r)}function yy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Jx(r){return r.collectionGroup!==null}function Ua(r){const e=Te(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(Nt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new rc(l,i))}),t.has(Nt.keyField().canonicalString())||e.Ee.push(new rc(Nt.keyField(),i))}return e.Ee}function ir(r){const e=Te(r);return e.de||(e.de=Zx(e,Ua(r))),e.de}function Zx(r,e){if(r.limitType==="F")return gy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new rc(o.field,l)});const t=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return gy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Hd(r,e,t){return new Ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Tc(r,e){return Tf(ir(r),ir(e))&&r.limitType===e.limitType}function j_(r){return`${Ef(ir(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>O_(o)).join(", ")}]`),_c(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>So(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>So(o)).join(",")),`Target(${i})`}(ir(r))}; limitType=${r.limitType})`}function Ic(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of Ua(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,f,g){const v=py(h,f,g);return h.inclusive?v<=0:v<0}(i.startAt,Ua(i),o)||i.endAt&&!function(h,f,g){const v=py(h,f,g);return h.inclusive?v>=0:v>0}(i.endAt,Ua(i),o))}(r,e)}function eS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L_(r){return(e,t)=>{let i=!1;for(const o of Ua(r)){const l=tS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function tS(r,e,t){const i=r.field.isKeyField()?ye.comparator(e.key,t.key):function(l,h,f){const g=h.data.field(l),v=f.data.field(l);return g!==null&&v!==null?xo(g,v):_e(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return E_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new et(ye.comparator);function Or(){return nS}const M_=new et(ye.comparator);function Va(...r){let e=M_;for(const t of r)e=e.insert(t.key,t);return e}function F_(r){let e=M_;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function os(){return Ba()}function U_(){return Ba()}function Ba(){return new gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const rS=new et(ye.comparator),iS=new _t(ye.comparator);function ke(...r){let e=iS;for(const t of r)e=e.add(t);return e}const sS=new _t(Se);function oS(){return sS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function B_(r){return{integerValue:""+r}}function aS(r,e){return Dx(e)?B_(e):xf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this._=void 0}}function lS(r,e,t){return r instanceof ic?function(o,l){const h={fields:{[x_]:{stringValue:I_},[C_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_f(l)&&(l=wc(l)),l&&(h.fields[S_]=l),{mapValue:h}}(t,e):r instanceof Ya?$_(r,e):r instanceof Ja?H_(r,e):function(o,l){const h=z_(o,l),f=vy(h)+vy(o.Re);return Bd(h)&&Bd(o.Re)?B_(f):xf(o.serializer,f)}(r,e)}function uS(r,e,t){return r instanceof Ya?$_(r,e):r instanceof Ja?H_(r,e):t}function z_(r,e){return r instanceof sc?function(i){return Bd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ic extends xc{}class Ya extends xc{constructor(e){super(),this.elements=e}}function $_(r,e){const t=W_(e);for(const i of r.elements)t.some(o=>ar(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ja extends xc{constructor(e){super(),this.elements=e}}function H_(r,e){let t=W_(e);for(const i of r.elements)t=t.filter(o=>!ar(o,i));return{arrayValue:{values:t}}}class sc extends xc{constructor(e,t){super(),this.serializer=e,this.Re=t}}function vy(r){return at(r.integerValue||r.doubleValue)}function W_(r){return wf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cS(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof Ya&&o instanceof Ya||i instanceof Ja&&o instanceof Ja?Io(i.elements,o.elements,ar):i instanceof sc&&o instanceof sc?ar(i.Re,o.Re):i instanceof ic&&o instanceof ic}(r.transform,e.transform)}class hS{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sc{}function q_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new K_(r.key,sr.none()):new ll(r.key,r.data,sr.none());{const t=r.data,i=rn.empty();let o=new _t(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new ki(r.key,i,new dn(o.toArray()),sr.none())}}function dS(r,e,t){r instanceof ll?function(o,l,h){const f=o.value.clone(),g=wy(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ki?function(o,l,h){if(!zu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=wy(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(G_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function za(r,e,t,i){return r instanceof ll?function(l,h,f,g){if(!zu(l.precondition,h))return f;const v=l.value.clone(),E=Ey(l.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,i):r instanceof ki?function(l,h,f,g){if(!zu(l.precondition,h))return f;const v=Ey(l.fieldTransforms,g,h),E=h.data;return E.setAll(G_(l)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(r,e,t,i):function(l,h,f){return zu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function fS(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=z_(i.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(i.field,l))}return t||null}function _y(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Io(i,o,(l,h)=>cS(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ll extends Sc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends Sc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function wy(r,e,t){const i=new Map;Ue(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,uS(h,f,t[o]))}return i}function Ey(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,lS(l,h,e))}return i}class K_ extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pS extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&dS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=za(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=za(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=U_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=q_(h,f);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,i)=>_y(t,i))&&Io(this.baseMutations,e.baseMutations,(t,i)=>_y(t,i))}}class Sf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ue(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return rS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Sf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Oe;function vS(r){switch(r){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function Q_(r){if(r===void 0)return Dr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ct.OK:return Y.OK;case ct.CANCELLED:return Y.CANCELLED;case ct.UNKNOWN:return Y.UNKNOWN;case ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ct.INTERNAL:return Y.INTERNAL;case ct.UNAVAILABLE:return Y.UNAVAILABLE;case ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ct.NOT_FOUND:return Y.NOT_FOUND;case ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ct.ABORTED:return Y.ABORTED;case ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ct.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:r})}}(Oe=ct||(ct={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new wi([4294967295,4294967295],0);function Ty(r){const e=v_().encode(r),t=new c_;return t.update(e),new Uint8Array(t.digest())}function Iy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new wi([t,i],0),new wi([o,l],0)]}class Cf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ja(`Invalid padding: ${t}`);if(i<0)throw new ja(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ja(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=wi.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(wi.fromNumber(i)));return o.compare(_S)===1&&(o=new wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Ty(e),[i,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const h=this.we(i,o,l);if(!this.be(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Cf(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.pe===0)return;const t=Ty(e),[i,o]=Iy(t);for(let l=0;l<this.hashCount;l++){const h=this.we(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cc(Ee.min(),o,new et(Se),Or(),ke())}}class ul{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ul(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class X_{constructor(e,t){this.targetId=e,this.Ce=t}}class Y_{constructor(e,t,i=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class xy{constructor(){this.Fe=0,this.Me=Sy(),this.xe=Dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),i=ke();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:l})}}),new ul(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Sy()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wS{constructor(e){this.ze=e,this.je=new Map,this.He=Or(),this.Je=bu(),this.Ye=bu(),this.Ze=new et(Se)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const l=o.target;if($d(l))if(i===0){const h=new ye(l.path);this.tt(t,h,zt.newNoDocument(h,Ee.min()))}else Ue(i===1,20013,{expectedCount:i});else{const h=this.ut(t);if(h!==i){const f=this.ct(e),g=f?this.lt(f,e,h):1;if(g!==0){this.st(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=xi(i).toUint8Array()}catch(g){if(g instanceof T_)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Cf(h,o,l)}catch(g){return To(g instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.ze.Pt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,h)=>{const f=this._t(h);if(f){if(l.current&&$d(f.target)){const g=new ye(f.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,zt.newNoDocument(g,e))}l.Le&&(t.set(h,l.qe()),l.Qe())}});let i=ke();this.Ye.forEach((l,h)=>{let f=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,h)=>h.setReadTime(e));const o=new Cc(e,t,this.Ze,this.He,i);return this.He=Or(),this.Je=bu(),this.Ye=bu(),this.Ze=new et(Se),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new xy,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _t(Se),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _t(Se),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xy),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function bu(){return new et(ye.comparator)}function Sy(){return new et(ye.comparator)}const ES={asc:"ASCENDING",desc:"DESCENDING"},TS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IS={and:"AND",or:"OR"};class xS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wd(r,e){return r.useProto3Json||_c(e)?e:{value:e}}function oc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SS(r,e){return oc(r,e.toTimestamp())}function or(r){return Ue(!!r,49232),Ee.fromTimestamp(function(t){const i=Ii(t);return new vt(i.seconds,i.nanos)}(r))}function Af(r,e){return qd(r,e).canonicalString()}function qd(r,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Z_(r){const e=rt.fromString(r);return Ue(i0(e),10190,{key:e.toString()}),e}function Gd(r,e){return Af(r.databaseId,e.path)}function _d(r,e){const t=Z_(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(t0(t))}function e0(r,e){return Af(r.databaseId,e)}function CS(r){const e=Z_(r);return e.length===4?rt.emptyPath():t0(e)}function Kd(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t0(r){return Ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Cy(r,e,t){return{name:Gd(r,e),fields:t.value.mapValue.fields}}function AS(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_e(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,E){return v.useProto3Json?(Ue(E===void 0||typeof E=="string",58123),Dt.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Dt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const E=v.code===void 0?Y.UNKNOWN:Q_(v.code);return new ge(E,v.message||"")}(h);t=new Y_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=_d(r,i.document.name),l=or(i.document.updateTime),h=i.document.createTime?or(i.document.createTime):Ee.min(),f=new rn({mapValue:{fields:i.document.fields}}),g=zt.newFoundDocument(o,l,h,f),v=i.targetIds||[],E=i.removedTargetIds||[];t=new $u(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=_d(r,i.document),l=i.readTime?or(i.readTime):Ee.min(),h=zt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new $u([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=_d(r,i.document),l=i.removedTargetIds||[];t=new $u([],l,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new yS(o,l),f=i.targetId;t=new X_(f,h)}}return t}function RS(r,e){let t;if(e instanceof ll)t={update:Cy(r,e.key,e.value)};else if(e instanceof K_)t={delete:Gd(r,e.key)};else if(e instanceof ki)t={update:Cy(r,e.key,e.data),updateMask:LS(e.fieldMask)};else{if(!(e instanceof pS))return _e(16599,{ft:e.type});t={verify:Gd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof ic)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ya)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ja)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sc)return{fieldPath:h.field.canonicalString(),increment:f.Re};throw _e(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:SS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)}(r,e.precondition)),t}function PS(r,e){return r&&r.length>0?(Ue(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?or(o.updateTime):or(l);return h.isEqual(Ee.min())&&(h=or(l)),new hS(h,o.transformResults||[])}(t,e))):[]}function kS(r,e){return{documents:[e0(r,e.path)]}}function NS(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=e0(r,o);const l=function(v){if(v.length!==0)return r0(lr.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(E=>function(x){return{field:fo(x.field),direction:OS(x.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Wd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:t,parent:o}}function bS(r){let e=CS(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ue(i===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(I){const x=n0(I);return x instanceof lr&&b_(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(x=>function($){return new rc(po($.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(x))}(t.orderBy));let f=null;t.limit&&(f=function(I){let x;return x=typeof I=="object"?I.value:I,_c(x)?null:x}(t.limit));let g=null;t.startAt&&(g=function(I){const x=!!I.before,M=I.values||[];return new nc(M,x)}(t.startAt));let v=null;return t.endAt&&(v=function(I){const x=!I.before,M=I.values||[];return new nc(M,x)}(t.endAt)),Yx(e,o,h,l,f,"F",g,v)}function DS(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n0(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=po(t.unaryFilter.field);return yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=po(t.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(t.unaryFilter.field);return yt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(t){return yt.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(i=>n0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(r):_e(30097,{filter:r})}function OS(r){return ES[r]}function VS(r){return TS[r]}function jS(r){return IS[r]}function fo(r){return{fieldPath:r.canonicalString()}}function po(r){return Nt.fromServerFormat(r.fieldPath)}function r0(r){return r instanceof yt?function(t){if(t.op==="=="){if(fy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(dy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(dy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:VS(t.op),value:t.value}}}(r):r instanceof lr?function(t){const i=t.getFilters().map(o=>r0(o));return i.length===1?i[0]:{compositeFilter:{op:jS(t.op),filters:i}}}(r):_e(54877,{filter:r})}function LS(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,i,o,l=Ee.min(),h=Ee.min(),f=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.wt=e}}function FS(r){const e=bS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.Cn=new BS}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Ti.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class BS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new _t(rt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new _t(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(s0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Co(0)}static lr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LruGarbageCollector",zS=1048576;function Py([r,e],[t,i]){const o=Se(r,t);return o===0?Se(e,i):o}class $S{constructor(e){this.Er=e,this.buffer=new _t(Py),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Py(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){se(Ry,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?se(Ry,"Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.mr(3e5)})}}class WS{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(vc.le);const i=new $S(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Ay)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,l,h,f,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(v=Date.now(),co()<=Pe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${I} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function qS(r,e){return new WS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.changes=new gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&za(i.mutation,o,dn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Va();return l.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=Or();const h=Ba(),f=function(){return Ba()}();return t.forEach((g,v)=>{const E=i.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof ki)?l=l.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),za(E.mutation,v,E.mutation.getFieldMask(),vt.now())):h.set(v.key,dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((v,E)=>h.set(v,E)),t.forEach((v,E)=>{var I;return f.set(v,new KS(E,(I=h.get(v))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ba();let o=new et((h,f)=>h-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||dn.empty();E=f.applyToLocalView(v,E),i.set(g,E);const I=(o.get(f.batchId)||ke()).add(g);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,E=g.value,I=U_();E.forEach(x=>{if(!l.has(x)){const M=q_(t.get(x),i.get(x));M!==null&&I.set(x,M),l=l.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,I))}return W.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):W.resolve(os());let f=Ga,g=l;return h.next(v=>W.forEach(v,(E,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{g=g.insert(E,x)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,g,v,ke())).next(E=>({batchId:f,changes:F_(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Va();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Va();return this.indexManager.getCollectionParents(e,l).next(f=>W.forEach(f,g=>{const v=function(I,x){return new Ec(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(E=>{E.forEach((I,x)=>{h=h.insert(I,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,zt.newInvalidDocument(E)))});let f=Va();return h.forEach((g,v)=>{const E=l.get(g);E!==void 0&&za(E.mutation,v,dn.empty(),vt.now()),Ic(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return W.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:or(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:FS(o.bundledQuery),readTime:or(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.overlays=new et(ye.comparator),this.Qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const i=os();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){const o=os(),l=t.length+1,h=new ye(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new et((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=l.get(v.largestBatchId);E===null&&(E=os(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=os(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=o)););return W.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new gS(t,i));let l=this.Qr.get(t);l===void 0&&(l=ke(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.$r=new _t(St.Ur),this.Kr=new _t(St.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new St(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new St(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ye(new rt([])),i=new St(t,e),o=new St(t,e+1),l=[];return this.Kr.forEachInRange([i,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ye(new rt([])),i=new St(t,e),o=new St(t,e+1);let l=ke();return this.Kr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new St(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ye.comparator(e.key,t.key)||Se(e.Zr,t.Zr)}static Wr(e,t){return Se(e.Zr,t.Zr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new _t(St.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mS(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Xr=this.Xr.add(new St(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?vf:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,o],h=>{const f=this.ei(h.Zr);l.push(f)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _t(Se);return t.forEach(o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],f=>{i=i.add(f.Zr)})}),W.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const h=new St(new ye(l),0);let f=new _t(Se);return this.Xr.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Zr)),!0)},h),W.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ue(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return W.forEach(t.mutations,o=>{const l=new St(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new St(t,0),o=this.Xr.firstAfterOrEqual(i);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.ii=e,this.docs=function(){return new et(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=Or();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Or();const h=t.path,f=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||Px(Rx(E),i)<=0||(o.has(E.key)||Ic(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,i,o){_e(9500)}si(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tC(this)}getSize(e){return W.resolve(this.size)}}class tC extends GS{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.persistence=e,this.oi=new gs(t=>Ef(t),Tf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Rf,this.targetCount=0,this.ui=Co.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),W.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Co(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Tr(t),W.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.oi.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.ci={},this.overlays={},this.li=new vc(0),this.hi=!1,this.hi=!0,this.Pi=new JS,this.referenceDelegate=e(this),this.Ti=new nC(this),this.indexManager=new US,this.remoteDocumentCache=function(o){return new eC(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new MS(t),this.Ei=new XS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new ZS(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const o=new rC(this.li.next());return this.referenceDelegate.di(),i(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return W.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class rC extends Nx{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.Vi=new Rf,this.mi=null}static fi(e){return new Pf(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,i=>{const o=ye.fromPath(i);return this.pi(e,o).next(l=>{l||t.removeEntry(o,Ee.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return W.or([()=>W.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ac{constructor(e,t){this.persistence=e,this.yi=new gs(i=>Ox(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=qS(this,t)}static fi(e,t){return new ac(e,t)}di(){}Ai(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return W.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(f=>{f||(i++,l.removeEntry(h,Ee.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),W.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uu(e.data.value)),t}Dr(e,t,i){return W.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VE()?8:bx($t())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ws(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new iC;return this.Ss(e,t,h).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,h,f.size)})}).next(()=>l.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(co()<=Pe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(co()<=Pe.DEBUG&&se("QueryEngine","Query:",ho(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(co()<=Pe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):W.resolve())}ws(e,t){if(yy(t))return W.resolve(null);let i=ir(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Hd(t,null,"F"),i=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=ke(...l);return this.ys.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.vs(t,f);return this.Cs(t,v,h,g.readTime)?this.ws(e,Hd(t,null,"F")):this.Fs(e,v,t,g)}))})))}bs(e,t,i,o){return yy(t)||o.isEqual(Ee.min())?W.resolve(null):this.ys.getDocuments(e,i).next(l=>{const h=this.vs(t,l);return this.Cs(t,h,i,o)?W.resolve(null):(co()<=Pe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.Fs(e,h,t,Ax(o,Ga)).next(f=>f))})}vs(e,t){let i=new _t(L_(e));return t.forEach((o,l)=>{Ic(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return co()<=Pe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ho(t)),this.ys.getDocumentsMatchingQuery(e,t,Ti.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="LocalStore",oC=3e8;class aC{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new et(Se),this.Os=new gs(l=>Ef(l),Tf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function lC(r,e,t,i){return new aC(r,e,t,i)}async function a0(r,e){const t=Te(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let g=ke();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of l){f.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:f}))})})}function uC(r,e){const t=Te(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,g,v,E){const I=v.batch,x=I.keys();let M=W.resolve();return x.forEach($=>{M=M.next(()=>E.getEntry(g,$)).next(H=>{const U=v.docVersions.get($);Ue(U!==null,48541),H.version.compareTo(U)<0&&(I.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))})}),M.next(()=>f.mutationQueue.removeMutationBatch(g,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let g=ke();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function l0(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function cC(r,e){const t=Te(r),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((E,I)=>{const x=o.get(I);if(!x)return;f.push(t.Ti.removeMatchingKeys(l,E.removedDocuments,I).next(()=>t.Ti.addMatchingKeys(l,E.addedDocuments,I)));let M=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?M=M.withResumeToken(Dt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,i)),o=o.insert(I,M),function(H,U,ae){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=oC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0}(x,M,E)&&f.push(t.Ti.updateTargetData(l,M))});let g=Or(),v=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(hC(l,h,e.documentUpdates).next(E=>{g=E.qs,v=E.Qs})),!i.isEqual(Ee.min())){const E=t.Ti.getLastRemoteSnapshotVersion(l).next(I=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(E)}return W.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(t.xs=o,l))}function hC(r,e,t){let i=ke(),o=ke();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let h=Or();return t.forEach((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):se(Nf,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{qs:h,Qs:o}})}function dC(r,e){const t=Te(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fC(r,e){const t=Te(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(l=>l?(o=l,W.resolve(o)):t.Ti.allocateTargetId(i).next(h=>(o=new mi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Qd(r,e,t){const i=Te(r),o=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;se(Nf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function ky(r,e,t){const i=Te(r);let o=Ee.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const I=Te(g),x=I.Os.get(E);return x!==void 0?W.resolve(I.xs.get(x)):I.Ti.getTargetData(v,E)}(i,h,ir(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,f.targetId).next(g=>{l=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:ke())).next(f=>(pC(i,eS(e),f),{documents:f,$s:l})))}function pC(r,e,t){let i=r.Ns.get(e)||Ee.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.Ns.set(e,i)}class Ny{constructor(){this.activeTargetIds=oS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mC{constructor(){this.xo=new Ny,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ny,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="ConnectivityMonitor";class Dy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){se(by,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){se(by,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Xd(){return Du===null?Du=function(){return 268435456+Math.round(2147483648*Math.random())}():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===ec?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,l){const h=Xd(),f=this.jo(e,t.toUriEncodedString());se(wd,`Sending RPC '${e}' ${h}:`,f,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,l);const{host:v}=new URL(f),E=ko(v);return this.Jo(e,f,g,i,E).then(I=>(se(wd,`Received RPC '${e}' ${h}: `,I),I),I=>{throw To(wd,`RPC '${e}' ${h} failed with error: `,I,"url: ",f,"request:",i),I})}Yo(e,t,i,o,l,h){return this.zo(e,t,i,o,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const i=yC[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class wC extends vC{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=Xd();return new Promise((f,g)=>{const v=new h_;v.setWithCredentials(!0),v.listenOnce(d_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Fu.NO_ERROR:const I=v.getResponseJson();se(Ut,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(I)),f(I);break;case Fu.TIMEOUT:se(Ut,`RPC '${e}' ${h} timed out`),g(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const x=v.getStatus();if(se(Ut,`RPC '${e}' ${h} failed with status:`,x,"response text:",v.getResponseText()),x>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const $=M==null?void 0:M.error;if($&&$.status&&$.message){const H=function(ae){const te=ae.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(te)>=0?te:Y.UNKNOWN}($.status);g(new ge(H,$.message))}else g(new ge(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{se(Ut,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);se(Ut,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",E,i,15)})}I_(e,t,i){const o=Xd(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=m_(),f=p_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=l.join("");se(Ut,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=h.createWebChannel(E,g);this.E_(I);let x=!1,M=!1;const $=new _C({Zo:U=>{M?se(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(x||(se(Ut,`Opening RPC '${e}' stream ${o} transport.`),I.open(),x=!0),se(Ut,`RPC '${e}' stream ${o} sending:`,U),I.send(U))},Xo:()=>I.close()}),H=(U,ae,te)=>{U.listen(ae,ne=>{try{te(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return H(I,Oa.EventType.OPEN,()=>{M||(se(Ut,`RPC '${e}' stream ${o} transport opened.`),$.__())}),H(I,Oa.EventType.CLOSE,()=>{M||(M=!0,se(Ut,`RPC '${e}' stream ${o} transport closed`),$.u_(),this.d_(I))}),H(I,Oa.EventType.ERROR,U=>{M||(M=!0,To(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),$.u_(new ge(Y.UNAVAILABLE,"The operation could not be completed")))}),H(I,Oa.EventType.MESSAGE,U=>{var ae;if(!M){const te=U.data[0];Ue(!!te,16349);const ne=te,he=(ne==null?void 0:ne.error)||((ae=ne[0])===null||ae===void 0?void 0:ae.error);if(he){se(Ut,`RPC '${e}' stream ${o} received error:`,he);const Re=he.status;let Ie=function(R){const k=ct[R];if(k!==void 0)return Q_(k)}(Re),b=he.message;Ie===void 0&&(Ie=Y.INTERNAL,b="Unknown error status: "+Re+" with message "+he.message),M=!0,$.u_(new ge(Ie,b)),I.close()}else se(Ut,`RPC '${e}' stream ${o} received:`,te),$.c_(te)}}),H(f,f_.STAT_EVENT,U=>{U.stat===Md.PROXY?se(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Md.NOPROXY&&se(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new xS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="PersistentStream";class c0{constructor(e,t,i,o,l,h,f,g){this.xi=e,this.S_=i,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new u0(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return se(Oy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(se(Oy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EC extends c0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=AS(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?or(h.readTime):Ee.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=Kd(this.serializer),t.addTarget=function(l,h){let f;const g=h.target;if(f=$d(g)?{documents:kS(l,g)}:{query:NS(l,g).gt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=J_(l,h.resumeToken);const v=Wd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){f.readTime=oc(l,h.snapshotVersion.toTimestamp());const v=Wd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const i=DS(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=Kd(this.serializer),t.removeTarget=e,this.Q_(t)}}class TC extends c0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=PS(e.writeResults,e.commitTime),i=or(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=Kd(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>RS(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class xC extends IC{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(e,qd(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(Y.UNKNOWN,l.toString())})}Yo(e,t,i,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Yo(e,qd(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Y.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class SC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Dr(t),this.ua=!1):se("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class CC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{i.enqueueAndForget(async()=>{ys(this)&&(se(ds,"Restarting streams for network reachability change."),await async function(g){const v=Te(g);v.da.add(4),await cl(v),v.Va.set("Unknown"),v.da.delete(4),await Rc(v)}(this))})}),this.Va=new SC(i,o)}}async function Rc(r){if(ys(r))for(const e of r.Aa)await e(!0)}async function cl(r){for(const e of r.Aa)await e(!1)}function h0(r,e){const t=Te(r);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Vf(t)?Of(t):jo(t).N_()&&Df(t,e))}function bf(r,e){const t=Te(r),i=jo(t);t.Ea.delete(e),i.N_()&&d0(t,e),t.Ea.size===0&&(i.N_()?i.k_():ys(t)&&t.Va.set("Unknown"))}function Df(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(r).Z_(e)}function d0(r,e){r.ma.Ke(e),jo(r).X_(e)}function Of(r){r.ma=new wS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.Va.ca()}function Vf(r){return ys(r)&&!jo(r).O_()&&r.Ea.size>0}function ys(r){return Te(r).da.size===0}function f0(r){r.ma=void 0}async function AC(r){r.Va.set("Online")}async function RC(r){r.Ea.forEach((e,t)=>{Df(r,e)})}async function PC(r,e){f0(r),Vf(r)?(r.Va.Pa(e),Of(r)):r.Va.set("Unknown")}async function kC(r,e,t){if(r.Va.set("Online"),e instanceof Y_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ea.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ea.delete(f),o.ma.removeTarget(f))}(r,e)}catch(i){se(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lc(r,i)}else if(e instanceof $u?r.ma.Xe(e):e instanceof X_?r.ma.ot(e):r.ma.nt(e),!t.isEqual(Ee.min()))try{const i=await l0(r.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.ma.It(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ea.get(v);E&&l.Ea.set(v,E.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const E=l.Ea.get(g);if(!E)return;l.Ea.set(g,E.withResumeToken(Dt.EMPTY_BYTE_STRING,E.snapshotVersion)),d0(l,g);const I=new mi(E.target,g,v,E.sequenceNumber);Df(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){se(ds,"Failed to raise snapshot:",i),await lc(r,i)}}async function lc(r,e,t){if(!Vo(e))throw e;r.da.add(1),await cl(r),r.Va.set("Offline"),t||(t=()=>l0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{se(ds,"Retrying IndexedDB access"),await t(),r.da.delete(1),await Rc(r)})}function p0(r,e){return e().catch(t=>lc(r,t,e))}async function Pc(r){const e=Te(r),t=Ci(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vf;for(;NC(e);)try{const o=await dC(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,bC(e,o)}catch(o){await lc(e,o)}m0(e)&&g0(e)}function NC(r){return ys(r)&&r.Ia.length<10}function bC(r,e){r.Ia.push(e);const t=Ci(r);t.N_()&&t.ea&&t.ta(e.mutations)}function m0(r){return ys(r)&&!Ci(r).O_()&&r.Ia.length>0}function g0(r){Ci(r).start()}async function DC(r){Ci(r).ia()}async function OC(r){const e=Ci(r);for(const t of r.Ia)e.ta(t.mutations)}async function VC(r,e,t){const i=r.Ia.shift(),o=Sf.from(i,e,t);await p0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Pc(r)}async function jC(r,e){e&&Ci(r).ea&&await async function(i,o){if(function(h){return vS(h)&&h!==Y.ABORTED}(o.code)){const l=i.Ia.shift();Ci(i).L_(),await p0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Pc(i)}}(r,e),m0(r)&&g0(r)}async function Vy(r,e){const t=Te(r);t.asyncQueue.verifyOperationInProgress(),se(ds,"RemoteStore received new credentials");const i=ys(t);t.da.add(3),await cl(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Rc(t)}async function LC(r,e){const t=Te(r);e?(t.da.delete(2),await Rc(t)):e||(t.da.add(2),await cl(t),t.Va.set("Unknown"))}function jo(r){return r.fa||(r.fa=function(t,i,o){const l=Te(t);return l.oa(),new EC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:AC.bind(null,r),n_:RC.bind(null,r),i_:PC.bind(null,r),Y_:kC.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Vf(r)?Of(r):r.Va.set("Unknown")):(await r.fa.stop(),f0(r))})),r.fa}function Ci(r){return r.ga||(r.ga=function(t,i,o){const l=Te(t);return l.oa(),new TC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:DC.bind(null,r),i_:jC.bind(null,r),na:OC.bind(null,r),ra:VC.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Pc(r)):(await r.ga.stop(),r.Ia.length>0&&(se(ds,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new jf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(r,e){if(Dr("AsyncQueue",`${e}: ${r}`),Vo(r))return new ge(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Va(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new _o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.pa=new et(ye.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ao{constructor(e,t,i,o,l,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Ao(e,t,_o.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class FC{constructor(){this.queries=Ly(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Te(t),l=o.queries;o.queries=Ly(),l.forEach((h,f)=>{for(const g of f.Sa)g.onError(i)})})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function Ly(){return new gs(r=>j_(r),Tc)}async function UC(r,e){const t=Te(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(i=2):(l=new MC,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Lf(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Mf(t)}async function BC(r,e){const t=Te(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function zC(r,e){const t=Te(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Ma(o)&&(i=!0);h.ba=o}}i&&Mf(t)}function $C(r,e,t){const i=Te(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Mf(r){r.Ca.forEach(e=>{e.next()})}var Yd,My;(My=Yd||(Yd={})).xa="default",My.Cache="cache";class HC{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ao(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class WC{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.Za=L_(e),this.Xa=new _o(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new jy,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const x=o.get(E),M=Ic(this.query,I)?I:null,$=!!x&&this.mutatedKeys.has(x.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;x&&M?x.data.isEqual(M.data)?$!==H&&(i.track({type:3,doc:M}),U=!0):this.ru(x,M)||(i.track({type:2,doc:M}),U=!0,(g&&this.Za(M,g)>0||v&&this.Za(M,v)<0)&&(f=!0)):!x&&M?(i.track({type:0,doc:M}),U=!0):x&&!M&&(i.track({type:1,doc:x}),U=!0,(g||v)&&(f=!0)),U&&(M?(h=h.add(M),l=H?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{Xa:h,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((E,I)=>function(M,$){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:U})}};return H(M)-H($)}(E.type,I.type)||this.Za(E.doc,I.doc)),this.iu(i),o=o!=null&&o;const f=t&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Ja;return this.Ja=g,h.length!==0||v?{snapshot:new Ao(this.query,e.Xa,l,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new jy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new v0(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new y0(i))}),t}au(e){this.Ha=e.$s,this.Ya=ke();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ao.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ff="SyncEngine";class qC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class GC{constructor(e){this.key=e,this.cu=!1}}class KC{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new gs(f=>j_(f),Tc),this.Pu=new Map,this.Tu=new Set,this.Iu=new et(ye.comparator),this.Eu=new Map,this.du=new Rf,this.Au={},this.Ru=new Map,this.Vu=Co.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QC(r,e,t=!0){const i=x0(r);let o;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await _0(i,e,t,!0),o}async function XC(r,e){const t=x0(r);await _0(t,e,!0,!1)}async function _0(r,e,t,i){const o=await fC(r.localStore,ir(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await YC(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&h0(r.remoteStore,o),f}async function YC(r,e,t,i,o){r.fu=(I,x,M)=>async function(H,U,ae,te){let ne=U.view.tu(ae);ne.Cs&&(ne=await ky(H.localStore,U.query,!1).then(({documents:b})=>U.view.tu(b,ne)));const he=te&&te.targetChanges.get(U.targetId),Re=te&&te.targetMismatches.get(U.targetId)!=null,Ie=U.view.applyChanges(ne,H.isPrimaryClient,he,Re);return Uy(H,U.targetId,Ie.ou),Ie.snapshot}(r,I,x,M);const l=await ky(r.localStore,e,!0),h=new WC(e,l.$s),f=h.tu(l.documents),g=ul.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);Uy(r,t,v.ou);const E=new qC(e,t,h);return r.hu.set(e,E),r.Pu.has(t)?r.Pu.get(t).push(e):r.Pu.set(t,[e]),v.snapshot}async function JC(r,e,t){const i=Te(r),o=i.hu.get(e),l=i.Pu.get(o.targetId);if(l.length>1)return i.Pu.set(o.targetId,l.filter(h=>!Tc(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Qd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&bf(i.remoteStore,o.targetId),Jd(i,o.targetId)}).catch(Oo)):(Jd(i,o.targetId),await Qd(i.localStore,o.targetId,!0))}async function ZC(r,e){const t=Te(r),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),bf(t.remoteStore,i.targetId))}async function eA(r,e,t){const i=aA(r);try{const o=await function(h,f){const g=Te(h),v=vt.now(),E=f.reduce((M,$)=>M.add($.key),ke());let I,x;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let $=Or(),H=ke();return g.Bs.getEntries(M,E).next(U=>{$=U,$.forEach((ae,te)=>{te.isValidDocument()||(H=H.add(ae))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,$)).next(U=>{I=U;const ae=[];for(const te of f){const ne=fS(te,I.get(te.key).overlayedDocument);ne!=null&&ae.push(new ki(te.key,ne,P_(ne.value.mapValue),sr.exists(!0)))}return g.mutationQueue.addMutationBatch(M,v,ae,f)}).next(U=>{x=U;const ae=U.applyToLocalDocumentSet(I,H);return g.documentOverlayCache.saveOverlays(M,U.batchId,ae)})}).then(()=>({batchId:x.batchId,changes:F_(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.Au[h.currentUser.toKey()];v||(v=new et(Se)),v=v.insert(f,g),h.Au[h.currentUser.toKey()]=v}(i,o.batchId,t),await hl(i,o.changes),await Pc(i.remoteStore)}catch(o){const l=Lf(o,"Failed to persist write");t.reject(l)}}async function w0(r,e){const t=Te(r);try{const i=await cC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?Ue(h.cu,14607):o.removedDocuments.size>0&&(Ue(h.cu,42227),h.cu=!1))}),await hl(t,i,e)}catch(i){await Oo(i)}}function Fy(r,e,t){const i=Te(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((l,h)=>{const f=h.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Te(h);g.onlineState=f;let v=!1;g.queries.forEach((E,I)=>{for(const x of I.Sa)x.Fa(f)&&(v=!0)}),v&&Mf(g)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tA(r,e,t){const i=Te(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let h=new et(ye.comparator);h=h.insert(l,zt.newNoDocument(l,Ee.min()));const f=ke().add(l),g=new Cc(Ee.min(),new Map,new et(Se),h,f);await w0(i,g),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Uf(i)}else await Qd(i.localStore,e,!1).then(()=>Jd(i,e,t)).catch(Oo)}async function nA(r,e){const t=Te(r),i=e.batch.batchId;try{const o=await uC(t.localStore,e);T0(t,i,null),E0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await hl(t,o)}catch(o){await Oo(o)}}async function rA(r,e,t){const i=Te(r);try{const o=await function(h,f){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,f).next(I=>(Ue(I!==null,37113),E=I.keys(),g.mutationQueue.removeMutationBatch(v,I))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(i.localStore,e);T0(i,e,t),E0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await hl(i,o)}catch(o){await Oo(o)}}function E0(r,e){(r.Ru.get(e)||[]).forEach(t=>{t.resolve()}),r.Ru.delete(e)}function T0(r,e,t){const i=Te(r);let o=i.Au[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function Jd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Pu.get(e))r.hu.delete(i),t&&r.lu.gu(i,t);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(i=>{r.du.containsKey(i)||I0(r,i)})}function I0(r,e){r.Tu.delete(e.path.canonicalString());const t=r.Iu.get(e);t!==null&&(bf(r.remoteStore,t),r.Iu=r.Iu.remove(e),r.Eu.delete(t),Uf(r))}function Uy(r,e,t){for(const i of t)i instanceof y0?(r.du.addReference(i.key,e),iA(r,i)):i instanceof v0?(se(Ff,"Document no longer in limbo: "+i.key),r.du.removeReference(i.key,e),r.du.containsKey(i.key)||I0(r,i.key)):_e(19791,{pu:i})}function iA(r,e){const t=e.key,i=t.path.canonicalString();r.Iu.get(t)||r.Tu.has(i)||(se(Ff,"New document in limbo: "+t),r.Tu.add(i),Uf(r))}function Uf(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const t=new ye(rt.fromString(e)),i=r.Vu.next();r.Eu.set(i,new GC(t)),r.Iu=r.Iu.insert(t,i),h0(r.remoteStore,new mi(ir(If(t.path)),i,"TargetPurposeLimboResolution",vc.le))}}async function hl(r,e,t){const i=Te(r),o=[],l=[],h=[];i.hu.isEmpty()||(i.hu.forEach((f,g)=>{h.push(i.fu(g,e,t).then(v=>{var E;if((v||t)&&i.isPrimaryClient){const I=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(v){o.push(v);const I=kf.Rs(g.targetId,v);l.push(I)}}))}),await Promise.all(h),i.lu.Y_(o),await async function(g,v){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>W.forEach(v,x=>W.forEach(x.ds,M=>E.persistence.referenceDelegate.addReference(I,x.targetId,M)).next(()=>W.forEach(x.As,M=>E.persistence.referenceDelegate.removeReference(I,x.targetId,M)))))}catch(I){if(!Vo(I))throw I;se(Nf,"Failed to update sequence numbers: "+I)}for(const I of v){const x=I.targetId;if(!I.fromCache){const M=E.xs.get(x),$=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion($);E.xs=E.xs.insert(x,H)}}}(i.localStore,l))}async function sA(r,e){const t=Te(r);if(!t.currentUser.isEqual(e)){se(Ff,"User change. New user:",e.toKey());const i=await a0(t.localStore,e);t.currentUser=e,function(l,h){l.Ru.forEach(f=>{f.forEach(g=>{g.reject(new ge(Y.CANCELLED,h))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await hl(t,i.ks)}}function oA(r,e){const t=Te(r),i=t.Eu.get(e);if(i&&i.cu)return ke().add(i.key);{let o=ke();const l=t.Pu.get(e);if(!l)return o;for(const h of l){const f=t.hu.get(h);o=o.unionWith(f.view.eu)}return o}}function x0(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tA.bind(null,e),e.lu.Y_=zC.bind(null,e.eventManager),e.lu.gu=$C.bind(null,e.eventManager),e}function aA(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rA.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return lC(this.persistence,new sC,e.initialUser,this.serializer)}Su(e){return new o0(Pf.fi,this.serializer)}bu(e){return new mC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class lA extends uc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ue(this.persistence.referenceDelegate instanceof ac,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HS(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new o0(i=>ac.fi(i,t),this.serializer)}}class Zd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sA.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FC}()}createDatastore(e){const t=Ac(e.databaseInfo.databaseId),i=function(l){return new wC(l)}(e.databaseInfo);return function(l,h,f,g){return new xC(l,h,f,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new CC(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Fy(this.syncEngine,t,0),function(){return Dy.C()?new Dy:new gC}())}createSyncEngine(e,t){return function(o,l,h,f,g,v,E){const I=new KC(o,l,h,f,g,v);return E&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Te(o);se(ds,"RemoteStore shutting down."),l.da.add(5),await cl(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class cA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{se(Ai,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(se(Ai,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lf(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),se(Ai,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await a0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function By(r,e){r.asyncQueue.verifyOperationInProgress();const t=await hA(r);se(Ai,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>Vy(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>Vy(e.remoteStore,o)),r._onlineComponents=e}async function hA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Ai,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),await Td(r,new uc)}}else se(Ai,"Using default OfflineComponentProvider"),await Td(r,new lA(void 0));return r._offlineComponents}async function S0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Ai,"Using user provided OnlineComponentProvider"),await By(r,r._uninitializedComponentsProvider._online)):(se(Ai,"Using default OnlineComponentProvider"),await By(r,new Zd))),r._onlineComponents}function dA(r){return S0(r).then(e=>e.syncEngine)}async function fA(r){const e=await S0(r),t=e.eventManager;return t.onListen=QC.bind(null,e.syncEngine),t.onUnlisten=JC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZC.bind(null,e.syncEngine),t}function pA(r,e,t={}){const i=new Ei;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,v){const E=new uA({next:x=>{E.xu(),h.enqueueAndForget(()=>BC(l,I));const M=x.docs.has(f);!M&&x.fromCache?v.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&g&&g.source==="server"?v.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),I=new HC(If(f.path),E,{includeMetadataChanges:!0,Qa:!0});return UC(l,I)}(await fA(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(r,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gA(r,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $y(r){if(!ye.isDocumentKey(r))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function fs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(r);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",Hy=!0;class Wy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=Hy}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Hy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zS)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vx;switch(i.type){case"firstParty":return new Tx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=zy.get(t);i&&(se("ComponentProvider","Removing Datastore"),zy.delete(t),i.terminate())}(this),Promise.resolve()}}function yA(r,e,t,i={}){var o;r=fs(r,zf);const l=ko(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;l&&(Tv(`https://${g}`),Iv("Firestore",!0)),h.host!==A0&&h.host!==g&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:i});if(!as(v,f)&&(r._setSettings(v),i.mockUserToken)){let E,I;if(typeof i.mockUserToken=="string")E=i.mockUserToken,I=Bt.MOCK_USER;else{E=CE(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Bt(x)}r._authCredentials=new _x(new y_(E,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $f(this.firestore,e,this._query)}}class fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Za extends $f{constructor(e,t,i){super(e,t,If(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ye(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function Id(r,e,...t){if(r=bt(r),arguments.length===1&&(e=__.newId()),mA("doc","path",e),r instanceof zf){const i=rt.fromString(e,...t);return $y(i),new fn(r,null,new ye(i))}{if(!(r instanceof fn||r instanceof Za))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(rt.fromString(e,...t));return $y(i),new fn(r.firestore,r instanceof Za?r.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="AsyncQueue";class Gy{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new u0(this,"async_queue_retry"),this.rc=()=>{const i=Ed();i&&se(qy,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ed();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ed();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ei;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Vo(e))throw e;se(qy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Dr("INTERNAL UNHANDLED ERROR: ",Ky(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=jf.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&_e(47125,{cc:Ky(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Ky(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class kc extends zf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Gy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,await e}}}function vA(r,e){const t=typeof r=="object"?r:Av(),i=typeof r=="string"?r:ec,o=af(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=xE("firestore");l&&yA(o,...l)}return o}function R0(r){if(r._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_A(r),r._firestoreClient}function _A(r){var e,t,i;const o=r._freezeSettings(),l=function(f,g,v,E){return new Lx(f,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,C0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new cA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Dt.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ro(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^__.*__$/;class EA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new ll(e,this.data,t,this.fieldTransforms)}}class P0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function k0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ic:r})}}class Gf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return cc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(k0(this.Ic)&&wA.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class TA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ac(e)}bc(e,t,i,o=!1){return new Gf({Ic:e,methodName:t,wc:i,path:Nt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(r){const e=r._freezeSettings(),t=Ac(r._databaseId);return new TA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function IA(r,e,t,i,o,l={}){const h=r.bc(l.merge||l.mergeFields?2:0,e,t,o);Kf("Data must be an object, but it was:",h,i);const f=b0(i,h);let g,v;if(l.merge)g=new dn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const I of l.mergeFields){const x=ef(e,I,t);if(!h.contains(x))throw new ge(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);O0(E,x)||E.push(x)}g=new dn(E),v=h.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=h.fieldTransforms;return new EA(new rn(f),g,v)}class bc extends Hf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}function xA(r,e,t,i){const o=r.bc(1,e,t);Kf("Data must be an object, but it was:",o,i);const l=[],h=rn.empty();Pi(i,(g,v)=>{const E=Qf(e,g,t);v=bt(v);const I=o.mc(E);if(v instanceof bc)l.push(E);else{const x=Dc(v,I);x!=null&&(l.push(E),h.set(E,x))}});const f=new dn(l);return new P0(h,f,o.fieldTransforms)}function SA(r,e,t,i,o,l){const h=r.bc(1,e,t),f=[ef(e,i,t)],g=[o];if(l.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(ef(e,l[x])),g.push(l[x+1]);const v=[],E=rn.empty();for(let x=f.length-1;x>=0;--x)if(!O0(v,f[x])){const M=f[x];let $=g[x];$=bt($);const H=h.mc(M);if($ instanceof bc)v.push(M);else{const U=Dc($,H);U!=null&&(v.push(M),E.set(M,U))}}const I=new dn(v);return new P0(E,I,h.fieldTransforms)}function Dc(r,e){if(D0(r=bt(r)))return Kf("Unsupported field value:",e,r),b0(r,e);if(r instanceof Hf)return function(i,o){if(!k0(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let g=Dc(f,o.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=vt.fromDate(i);return{timestampValue:oc(o.serializer,l)}}if(i instanceof vt){const l=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:oc(o.serializer,l)}}if(i instanceof Wf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ro)return{bytesValue:J_(o.serializer,i._byteString)};if(i instanceof fn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Af(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof qf)return function(h,f){return{mapValue:{fields:{[A_]:{stringValue:R_},[tc]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.gc("VectorValues must only contain numeric values.");return xf(f.serializer,v)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${Bf(i)}`)}(r,e)}function b0(r,e){const t={};return E_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(r,(i,o)=>{const l=Dc(o,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function D0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof Wf||r instanceof Ro||r instanceof fn||r instanceof Hf||r instanceof qf)}function Kf(r,e,t){if(!D0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Bf(t);throw i==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+i)}}function ef(r,e,t){if((e=bt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return Qf(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,t)}const CA=new RegExp("[~\\*/\\[\\]]");function Qf(r,e,t){if(e.search(CA)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function cc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ge(Y.INVALID_ARGUMENT,f+r+g)}function O0(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AA extends V0{data(){return super.data()}}function j0(r,e){return typeof e=="string"?Qf(r,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}class RA{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[tc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new qf(l)}convertGeoPoint(e){return new Wf(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ue(i0(i),9688,{name:e});const o=new Qa(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Dr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L0 extends V0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new NA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(j0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class NA extends L0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r){r=fs(r,fn);const e=fs(r.firestore,kc);return pA(R0(e),r._key).then(t=>VA(e,r,t))}class DA extends RA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function Qy(r,e,t){r=fs(r,fn);const i=fs(r.firestore,kc),o=PA(r.converter,e);return M0(i,[IA(N0(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,sr.none())])}function OA(r,e,t,...i){r=fs(r,fn);const o=fs(r.firestore,kc),l=N0(o);let h;return h=typeof(e=bt(e))=="string"||e instanceof Nc?SA(l,"updateDoc",r._key,e,t,i):xA(l,"updateDoc",r._key,e),M0(o,[h.toMutation(r._key,sr.exists(!0))])}function M0(r,e){return function(i,o){const l=new Ei;return i.asyncQueue.enqueueAndForget(async()=>eA(await dA(i),o,l)),l.promise}(R0(r),e)}function VA(r,e,t){const i=t.docs.get(e._key),o=new DA(r);return new L0(r,o,e._key,i,new kA(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Do=o})(No),wo(new ls("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new kc(new wx(i.getProvider("auth-internal")),new Ix(h,i.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(v.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),_i(ey,ty,e),_i(ey,ty,"esm2017")})();const jA={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.appspot.com",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},F0=Cv(jA),Ou=gx(F0),xd=vA(F0),U0=K.createContext();function B0(){return K.useContext(U0)}function z0({children:r}){const[e,t]=K.useState(null),[i,o]=K.useState(null),[l,h]=K.useState(!0);K.useEffect(()=>i2(Ou,async M=>{if(t(M),M){const $=Id(xd,"users",M.uid),H=await bA($);H.exists()?o(H.data()):(await Qy($,{telefono:"",direccion:""}),o({telefono:"",direccion:""}))}else o(null);h(!1)}),[]);function f(x,M){return ZI(Ou,x,M)}async function g(x,M,$){const H=await JI(Ou,x,M);await t2(H.user,{displayName:$}),await Qy(Id(xd,"users",H.user.uid),{telefono:"",direccion:""}),t(H.user),o({telefono:"",direccion:""})}function v(){return s2(Ou)}async function E(x){if(!e)throw new Error("No user logged in");const M=Id(xd,"users",e.uid);await OA(M,x),o($=>({...$,...x}))}const I={usuario:e,usuarioInfo:i,login:f,signup:g,logout:v,actualizarUsuarioInfo:E};return _.jsx(U0.Provider,{value:I,children:!l&&r})}function LA(){var te,ne;const{usuario:r,usuarioInfo:e,actualizarUsuarioInfo:t}=B0(),[i,o]=K.useState({nombre:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",telefono:(e==null?void 0:e.telefono)||"",direccion:(e==null?void 0:e.direccion)||"",fotoURL:(r==null?void 0:r.photoURL)||""}),[l,h]=K.useState(!1),[f,g]=K.useState(!1),[v,E]=K.useState(""),[I,x]=K.useState(i.fotoURL),[M,$]=K.useState(null);K.useEffect(()=>{x(i.fotoURL)},[i.fotoURL]);const H=he=>{const{name:Re,value:Ie}=he.target;o(b=>({...b,[Re]:Ie}))},U=he=>{const Re=he.target.files[0];if(!Re)return;$(Re);const Ie=new FileReader;Ie.onloadend=()=>{x(Ie.result)},Ie.readAsDataURL(Re)},ae=async()=>{g(!0),E("");try{await t({telefono:i.telefono,direccion:i.direccion}),r.displayName!==i.nombre&&await r.updateProfile({displayName:i.nombre}),r.email!==i.email&&alert("Para cambiar el email, usa la opción de cambiar correo en configuración avanzada."),M&&alert("Subir foto aún no implementado. Si quieres, te armo la subida a Firebase Storage."),E("✅ Perfil actualizado con éxito."),h(!1)}catch(he){E("❌ Error guardando perfil."),console.error(he)}finally{g(!1)}};return r?_.jsx("main",{className:"min-h-screen bg-[#0F1117] text-gray-300 flex flex-col items-center py-16 px-6",children:_.jsxs("section",{className:"max-w-3xl w-full bg-[#1E222A] rounded-2xl shadow-lg p-10 ring-1 ring-[#4FC3F7] animate-slideUp",children:[_.jsx("h1",{className:"text-4xl font-extrabold text-[#4FC3F7] mb-8 tracking-wide",children:"Mi Cuenta"}),l?_.jsxs("form",{onSubmit:he=>{he.preventDefault(),ae()},className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[_.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-[#4FC3F7] relative cursor-pointer hover:brightness-110 transition",children:[I?_.jsx("img",{src:I,alt:"Preview",className:"object-cover w-full h-full"}):_.jsx("div",{className:"flex items-center justify-center w-full h-full bg-[#292E3B] text-[#4FC3F7] font-bold text-3xl",children:((ne=i.nombre[0])==null?void 0:ne.toUpperCase())||"U"}),_.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"Subir nueva foto"})]}),_.jsx("small",{className:"text-[#5A90B2]",children:"Haz click en la imagen para cambiarla"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"nombre",className:"block text-[#75D6FF] font-semibold mb-2",children:"Nombre"}),_.jsx("input",{id:"nombre",name:"nombre",type:"text",value:i.nombre,onChange:H,className:"w-full bg-[#292E3B] border border-[#4FC3F7] rounded-lg px-4 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",required:!0,autoComplete:"off"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-[#75D6FF] font-semibold mb-2",children:"Correo electrónico"}),_.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:H,className:"w-full bg-[#292E3B] border border-[#4FC3F7] rounded-lg px-4 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",required:!0,autoComplete:"off"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"telefono",className:"block text-[#75D6FF] font-semibold mb-2",children:"Teléfono"}),_.jsx("input",{id:"telefono",name:"telefono",type:"text",value:i.telefono,onChange:H,placeholder:"+1 809 123 4567",className:"w-full bg-[#292E3B] border border-[#4FC3F7] rounded-lg px-4 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"direccion",className:"block text-[#75D6FF] font-semibold mb-2",children:"Dirección"}),_.jsx("input",{id:"direccion",name:"direccion",type:"text",value:i.direccion,onChange:H,placeholder:"Calle, Ciudad, País",className:"w-full bg-[#292E3B] border border-[#4FC3F7] rounded-lg px-4 py-2 text-gray-300 focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",required:!0})]}),v&&_.jsx("p",{className:`text-sm font-semibold ${v.includes("Error")?"text-red-500":"text-green-400"}`,children:v}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{type:"submit",disabled:f,className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] transition rounded-full px-6 py-3 font-semibold text-black shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-60",children:f?"Guardando...":"Guardar Cambios"}),_.jsx("button",{type:"button",disabled:f,onClick:()=>{h(!1),E(""),x(i.fotoURL),$(null)},className:"bg-[#2C313C] hover:bg-[#414A5A] transition rounded-full px-6 py-3 font-semibold text-gray-300",children:"Cancelar"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 mb-8 items-center",children:[_.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-[#4FC3F7]",children:I?_.jsx("img",{src:I,alt:"Foto de perfil",className:"object-cover w-full h-full"}):_.jsx("div",{className:"flex items-center justify-center w-full h-full bg-[#292E3B] text-[#4FC3F7] font-bold text-3xl",children:((te=i.nombre[0])==null?void 0:te.toUpperCase())||"U"})}),_.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Nombre"}),_.jsx("p",{className:"text-lg",children:i.nombre})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Correo"}),_.jsx("p",{className:"text-lg",children:i.email})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Teléfono"}),_.jsx("p",{className:"text-lg",children:i.telefono||"No definido"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Dirección"}),_.jsx("p",{className:"text-lg",children:i.direccion||"No definida"})]})]})]}),_.jsx("button",{onClick:()=>h(!0),className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] transition rounded-full px-8 py-3 font-semibold text-black shadow-lg hover:shadow-xl transform hover:scale-105",children:"Editar Perfil"})]}),_.jsxs("footer",{className:"mt-12 text-center text-gray-500 text-sm select-none",children:[_.jsx("p",{children:"Playcenter Universal"}),_.jsx("p",{children:"Tu universo de tecnología, estilo e innovación en Santiago, R.D."}),_.jsx("p",{children:"+1 (809) 582-1212"}),_.jsx("p",{children:"info@playcenteruniversal.com"})]})]})}):_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#121212] text-white text-xl font-semibold",children:"Por favor inicia sesión para ver tu perfil."})}function MA(){return _.jsxs("form",{className:"search-form",children:[_.jsx("button",{type:"submit",children:_.jsx("svg",{width:"17",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})}),_.jsx("input",{className:"input",placeholder:"Buscar",required:!0,type:"text"})]})}function FA({isOpen:r,onClose:e}){return _.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"}`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Menú"}),_.jsx("button",{onClick:e,className:"text-2xl font-bold",children:"✖"})]}),_.jsxs("nav",{className:"flex flex-col gap-4 p-4 text-lg",children:[_.jsx(nt,{to:"/",onClick:e,className:"hover:text-pink-600",children:"Inicio"}),_.jsx(nt,{to:"/categorias",onClick:e,className:"hover:text-pink-600",children:"Categorías"}),_.jsx(nt,{to:"/nosotros",onClick:e,className:"hover:text-pink-600",children:"Nosotros"}),_.jsx(nt,{to:"/contacto",onClick:e,className:"hover:text-pink-600",children:"Contáctanos"}),_.jsx(nt,{to:"/favoritos",onClick:e,className:"hover:text-pink-600",children:"❤️ Favoritos"}),_.jsx(nt,{to:"/carrito",onClick:e,className:"hover:text-pink-600",children:"🛒 Mi carrito"})]})]})}function UA({onClose:r,onLogin:e,onSignup:t}){const[i,o]=K.useState(!0),[l,h]=K.useState(""),[f,g]=K.useState(""),[v,E]=K.useState(""),I=async x=>{if(x.preventDefault(),!l||!f||!i&&!v){alert("Completa todos los campos");return}try{i?await e(l,f):await t(l,f,v),r()}catch(M){console.error("🔥 Firebase error:",M),alert(M.message||"Ocurrió un error")}};return _.jsx("div",{className:"modal-overlay",onClick:r,children:_.jsxs("div",{className:"form-container",onClick:x=>x.stopPropagation(),children:[_.jsx("button",{className:"close-button",onClick:r,"aria-label":"Cerrar modal",children:"×"}),i?_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"title",children:"Welcome back"}),_.jsxs("form",{className:"form",onSubmit:I,children:[_.jsx("input",{type:"email",className:"input",placeholder:"Email",value:l,onChange:x=>h(x.target.value),required:!0}),_.jsx("input",{type:"password",className:"input",placeholder:"Password",value:f,onChange:x=>g(x.target.value),required:!0}),_.jsx("p",{className:"page-link",children:_.jsx("span",{className:"page-link-label",children:"Forgot Password?"})}),_.jsx("button",{type:"submit",className:"form-btn",children:"Log in"})]}),_.jsxs("p",{className:"sign-up-label",children:["Don't have an account?"," ",_.jsx("span",{className:"sign-up-link",onClick:()=>o(!1),children:"Sign up"})]})]}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"title",children:"Create account"}),_.jsx("p",{className:"sub-title",children:"Let's get started with your 30 days free trial"}),_.jsxs("form",{className:"form",onSubmit:I,children:[_.jsx("input",{type:"text",className:"input",placeholder:"Name",value:v,onChange:x=>E(x.target.value),required:!0}),_.jsx("input",{type:"email",className:"input",placeholder:"Email",value:l,onChange:x=>h(x.target.value),required:!0}),_.jsx("input",{type:"password",className:"input",placeholder:"Password",value:f,onChange:x=>g(x.target.value),required:!0}),_.jsx("button",{type:"submit",className:"form-btn",children:"Create account"})]}),_.jsxs("p",{className:"sign-up-label",children:["Already have an account?"," ",_.jsx("span",{className:"sign-up-link",onClick:()=>o(!0),children:"Log in"})]})]})]})})}function BA(){const[r,e]=K.useState(!1),[t,i]=K.useState(!1),[o,l]=K.useState(!1),{usuario:h,logout:f,login:g,signup:v}=B0(),E=K.useRef(null),I=async(M,$)=>{try{await g(M,$),i(!1)}catch(H){console.error("Error al iniciar sesión:",H),alert("Correo o contraseña incorrectos.")}},x=async(M,$,H)=>{try{await v(M,$,H),i(!1)}catch(U){console.error("Error al registrarse:",U),alert("Error al crear la cuenta.")}};return K.useEffect(()=>{function M($){E.current&&!E.current.contains($.target)&&l(!1)}return o&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[o]),_.jsxs(_.Fragment,{children:[_.jsxs("header",{className:"fixed top-0 left-0 w-full bg-white shadow-md z-[9999] flex flex-col md:flex-row items-center justify-between px-6 py-3 gap-4 md:gap-8",children:[_.jsx(nt,{to:"/",className:"flex items-center",children:_.jsx("img",{src:"/playcenter.jpeg",alt:"Playcenter Universal",className:"h-14 sm:h-16 object-contain cursor-pointer"})}),_.jsx("div",{className:"w-full md:w-auto flex-1 max-w-md",children:_.jsx(MA,{})}),_.jsx("button",{className:"md:hidden text-3xl",onClick:()=>e(!0),"aria-label":"Abrir menú",children:"☰"}),_.jsxs("nav",{className:"hidden md:flex gap-4 items-center",children:[_.jsx(nt,{to:"/",className:"nav-link",children:"Inicio"}),_.jsx(nt,{to:"/productos",className:"nav-link",children:"Categorías"}),_.jsx(nt,{to:"/nosotros",className:"nav-link",children:"Nosotros"}),_.jsx(nt,{to:"/contacto",className:"nav-link",children:"Contáctanos"}),_.jsx(nt,{to:"/favoritos",className:"link hover-animate",children:"❤️ Favoritos"}),_.jsx(nt,{to:"/carrito",className:"link hover-animate",children:"🛒 Mi carrito"}),h?_.jsx(nt,{to:"/profile",className:"relative ml-4 w-10 h-10 rounded-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-lg hover:scale-105 transition-transform",title:"Ir a perfil",children:h.displayName?h.displayName[0].toUpperCase():h.email[0].toUpperCase()}):_.jsx("button",{onClick:()=>i(!0),className:"ml-4 px-4 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white font-semibold rounded-lg transition",children:"Iniciar sesión"})]})]}),_.jsx(FA,{isOpen:r,onClose:()=>e(!1)}),t&&_.jsx(UA,{onClose:()=>i(!1),onLogin:I,onSignup:x})]})}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$A=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Xy=r=>{const e=$A(r);return e.charAt(0).toUpperCase()+e.slice(1)},$0=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),HA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=K.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:h,...f},g)=>K.createElement("svg",{ref:g,...WA,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:$0("lucide",o),...!l&&!HA(f)&&{"aria-hidden":"true"},...f},[...h.map(([v,E])=>K.createElement(v,E)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=(r,e)=>{const t=K.forwardRef(({className:i,...o},l)=>K.createElement(qA,{ref:l,iconNode:e,className:$0(`lucide-${zA(Xy(r))}`,`lucide-${r}`,i),...o}));return t.displayName=Xy(r),t};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KA=H0("chevron-left",GA);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XA=H0("chevron-right",QA),er=[{id:1,img:"/ads/consolas.png",link:"/productos/consolas",isExternal:!1},{id:2,img:"/ads/ubicacion.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/videojuegos.png",link:"/productos/videojuegos",isExternal:!1},{id:4,img:"/ads/verofertas.png",link:"/productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/productos.png",link:"/productos",isExternal:!1}];function YA(){const[r,e]=K.useState(0),t=K.useRef(null),i=4e3;K.useEffect(()=>(t.current=setTimeout(()=>{e(h=>h===er.length-1?0:h+1)},i),()=>clearTimeout(t.current)),[r]);const o=()=>{clearTimeout(t.current),e(h=>h===0?er.length-1:h-1)},l=()=>{clearTimeout(t.current),e(h=>h===er.length-1?0:h+1)};return _.jsxs("div",{className:"relative max-w-[1280px] mx-auto rounded-xl shadow-lg overflow-hidden",style:{aspectRatio:"16 / 9",maxHeight:"720px"},onMouseEnter:()=>clearTimeout(t.current),onMouseLeave:()=>{t.current=setTimeout(()=>{e(h=>h===er.length-1?0:h+1)},i)},children:[_.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${er.length*100}%`,transform:`translateX(-${r*(100/er.length)}%)`},children:er.map(h=>h.isExternal?_.jsx("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0",style:{width:`${100/er.length}%`},children:_.jsx("img",{src:h.img,alt:`Anuncio ${h.id}`,className:"w-full h-full object-contain rounded-xl bg-white",loading:"lazy"})},h.id):_.jsx(nt,{to:h.link,className:"flex-shrink-0",style:{width:`${100/er.length}%`},children:_.jsx("img",{src:h.img,alt:`Anuncio ${h.id}`,className:"w-full h-full object-contain rounded-xl bg-white",loading:"lazy"})},h.id))}),_.jsx("button",{onClick:o,className:"absolute top-1/2 left-4 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg z-10","aria-label":"Anterior",children:_.jsx(KA,{className:"text-gray-700 w-8 h-8"})}),_.jsx("button",{onClick:l,className:"absolute top-1/2 right-4 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg z-10","aria-label":"Siguiente",children:_.jsx(XA,{className:"text-gray-700 w-8 h-8"})}),_.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:er.map((h,f)=>_.jsx("button",{className:`w-3 h-3 rounded-full ${f===r?"bg-gray-800":"bg-gray-400"}`,"aria-label":`Ir al slide ${f+1}`,onClick:()=>{clearTimeout(t.current),e(f)}},f))})]})}var W0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yy=Pr.createContext&&Pr.createContext(W0),JA=["attr","size","title"];function ZA(r,e){if(r==null)return{};var t=eR(r,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function eR(r,e){if(r==null)return{};var t={};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(e.indexOf(i)>=0)continue;t[i]=r[i]}return t}function hc(){return hc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},hc.apply(this,arguments)}function Jy(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function dc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jy(Object(t),!0).forEach(function(i){tR(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Jy(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function tR(r,e,t){return e=nR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nR(r){var e=rR(r,"string");return typeof e=="symbol"?e:e+""}function rR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function q0(r){return r&&r.map((e,t)=>Pr.createElement(e.tag,dc({key:t},e.attr),q0(e.child)))}function Sn(r){return e=>Pr.createElement(iR,hc({attr:dc({},r.attr)},e),q0(r.child))}function iR(r){var e=t=>{var{attr:i,size:o,title:l}=r,h=ZA(r,JA),f=o||t.size||"1em",g;return t.className&&(g=t.className),r.className&&(g=(g?g+" ":"")+r.className),Pr.createElement("svg",hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:g,style:dc(dc({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Pr.createElement("title",null,l),r.children)};return Yy!==void 0?Pr.createElement(Yy.Consumer,null,t=>e(t)):e(W0)}function sR(r){return Sn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function oR(r){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function aR(r){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(r)}function G0(r){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function lR(r){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function uR(r){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(r)}function Xf(r){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function cR(r){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(r)}function Yf(r){return Sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function K0(r){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(r)}function Q0(r){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(r)}function hR(r){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(r)}const X0=K.createContext(),dR=({children:r})=>{const[e,t]=K.useState(()=>{const v=localStorage.getItem("carrito");return v?JSON.parse(v):[]}),[i,o]=K.useState(()=>{const v=localStorage.getItem("favoritos");return v?JSON.parse(v):[]});K.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),K.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(i))},[i]);const l=v=>{t(E=>E.find(x=>x.id===v.id)?E.map(x=>x.id===v.id?{...x,cantidad:x.cantidad+1}:x):[...E,{...v,cantidad:1}])},h=v=>{t(E=>E.map(I=>I.id===v.id?{...I,cantidad:I.cantidad-1}:I).filter(I=>I.cantidad>0))},f=v=>{o(E=>E.find(I=>I.id===v.id)?E:[...E,v])},g=v=>{o(E=>E.filter(I=>I.id!==v))};return _.jsx(X0.Provider,{value:{carrito:e,favoritos:i,agregarAlCarrito:l,agregarAFavoritos:f,eliminarDelCarrito:h,eliminarDeFavoritos:g},children:r})},Jf=()=>K.useContext(X0);function Qe({producto:r}){const{agregarAlCarrito:e,favoritos:t,carrito:i,agregarAFavoritos:o,eliminarDeFavoritos:l}=Jf(),h=hv(),f=t.some(x=>x.id===r.id),g=i.some(x=>x.id===r.id),v=x=>{x.stopPropagation(),f?l(r.id):o(r)},E=x=>{x.stopPropagation(),e(r)},I=()=>{h(`/producto/${r.id}`,{state:{producto:r}})};return _.jsxs("div",{onClick:I,className:"card",title:r.nombre,children:[_.jsx("div",{className:"flex justify-center items-center h-40 bg-gray-900 rounded-xl mb-4",children:_.jsx("img",{src:r.imagen,alt:r.nombre,className:"w-40 h-40 object-contain rounded-lg shadow-lg"})}),_.jsx("h2",{children:r.nombre}),_.jsxs("p",{children:["$",r.precio.toFixed(2)]}),_.jsxs("div",{className:"actions",children:[_.jsx("button",{onClick:v,className:"p-2 rounded-full bg-gray-800 shadow hover:scale-110 transition","aria-label":f?"Eliminar de favoritos":"Agregar a favoritos",children:_.jsx(cR,{className:`text-xl ${f?"text-red-500 animate-pulse":"text-gray-400 hover:text-red-400"}`})}),_.jsxs("button",{onClick:E,className:`px-5 py-2 rounded-full text-sm font-semibold transition-colors duration-300 shadow ${g?"bg-green-600 text-white hover:bg-green-700":"bg-pink-600 text-white hover:bg-pink-700"}`,children:["🛒 ",g?"Agregado":"Agregar"]})]})]})}function Sd({productos:r}){return _.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:_.jsx("div",{className:"flex gap-6 px-6 pb-6",children:r.map((e,t)=>_.jsx("div",{className:"min-w-[220px] flex-shrink-0",children:_.jsx(Qe,{producto:e})},t))})})}const Zf=[{categoria:"AccesoriosVideojuegos",productos:[{id:1,nombre:"Soporte de control PS5 doble carga",imagen:"/products/soporte-controles.jpg",precio:25.99},{id:2,nombre:"Base refrigeradora para consola Xbox",imagen:"/products/base-refrigeracion.jpg",precio:34.99},{id:3,nombre:"Auriculares Gaming con micrófono",imagen:"/products/auriculares-gamer.jpg",precio:44.99},{id:4,nombre:"Grip antideslizante para Nintendo Switch",imagen:"/products/grip-switch.jpg",precio:14.99}]},{categoria:"Audifonos",productos:[{id:101,nombre:"Audífonos Bluetooth",imagen:"/products/audifonos-bluetooth.jpg",precio:999},{id:102,nombre:"Audífonos Gamer RGB",imagen:"/products/audifonos-gamer.jpg",precio:1299}]},{categoria:"Cables",productos:[{id:1901,nombre:"Cable USB-C a Lightning (1m)",imagen:"/products/cable-usb-c-lightning.jpg",precio:14.99},{id:1902,nombre:"Cable HDMI 4K 2m",imagen:"/products/cable-hdmi.jpg",precio:12.99}]},{categoria:"Camaras",productos:[{id:401,nombre:"Cámara Canon EOS 2000D",imagen:"/products/canon-eos.jpg",precio:499.99},{id:402,nombre:"Cámara GoPro Hero 10",imagen:"/products/gopro-hero10.jpg",precio:399.99}]},{categoria:"Cargadores",productos:[{id:201,nombre:"Cargador rápido USB-C",imagen:"/products/cargador-rapido.jpg",precio:499},{id:202,nombre:"Cargador inalámbrico",imagen:"/products/cargador-inalambrico.jpg",precio:599}]},{categoria:"Celulares",productos:[{id:301,nombre:"iPhone 14 Pro",imagen:"/products/iphone14pro.jpg",precio:999.99},{id:302,nombre:"Samsung Galaxy S22",imagen:"/products/galaxy-s22.jpg",precio:899.99}]},{categoria:"Consolas",productos:[{id:501,nombre:"PlayStation 5",imagen:"/products/ps5.jpg",precio:499.99},{id:502,nombre:"Xbox Series X",imagen:"/products/xbox-series-x.jpg",precio:499.99}]},{categoria:"DiscosDuros",productos:[{id:2001,nombre:"Disco duro externo Seagate 1TB",imagen:"/products/disco-seagate.jpg",precio:59.99},{id:2002,nombre:"SSD Samsung 500GB",imagen:"/products/ssd-samsung.jpg",precio:89.99}]},{categoria:"Electrodomesticos",productos:[{id:601,nombre:"Licuadora Oster",imagen:"/products/licuadora-oster.jpg",precio:69.99},{id:602,nombre:"Microondas Samsung 1000W",imagen:"/products/microondas.jpg",precio:129.99}]},{categoria:"GamingChairs",productos:[{id:701,nombre:"Silla Gamer Reclinable RGB",imagen:"/products/silla-gamer-rgb.jpg",precio:229.99},{id:702,nombre:"Silla ergonómica con soporte lumbar",imagen:"/products/silla-ergonomica.jpg",precio:189.99}]},{categoria:"HogarInteligente",productos:[{id:801,nombre:"Bombillo Wi-Fi inteligente",imagen:"/products/bombillo-wifi.jpg",precio:19.99},{id:802,nombre:"Enchufe inteligente Alexa",imagen:"/products/enchufe-inteligente.jpg",precio:24.99}]},{categoria:"Impresoras",productos:[{id:901,nombre:"Impresora HP DeskJet",imagen:"/products/hp-deskjet.jpg",precio:79.99},{id:902,nombre:"Impresora multifunción Epson",imagen:"/products/epson-multifuncion.jpg",precio:129.99}]},{categoria:"Laptops",productos:[{id:1001,nombre:"Laptop Lenovo IdeaPad 3",imagen:"/products/lenovo-ideapad.jpg",precio:599.99},{id:1002,nombre:"MacBook Air M1",imagen:"/products/macbook-air-m1.jpg",precio:999.99}]},{categoria:"MemoriasUSB",productos:[{id:1101,nombre:"USB Kingston 32GB",imagen:"/products/usb-kingston.jpg",precio:9.99},{id:1102,nombre:"USB SanDisk 64GB",imagen:"/products/usb-sandisk.jpg",precio:14.99}]},{categoria:"Monitores",productos:[{id:1201,nombre:"Monitor LG 24'' FHD",imagen:"/products/monitor-lg.jpg",precio:169.99},{id:1202,nombre:"Monitor Samsung Curvo 27''",imagen:"/products/monitor-samsung.jpg",precio:219.99}]},{categoria:"Mouses",productos:[{id:1301,nombre:"Mouse Logitech G203 RGB",imagen:"/products/logitech-g203.jpg",precio:39.99},{id:1302,nombre:"Mouse inalámbrico Xiaomi",imagen:"/products/mouse-xiaomi.jpg",precio:19.99}]},{categoria:"NuevosLanzamiento",productos:[{id:1401,nombre:"PlayStation Portal",imagen:"/products/playstation-portal.jpg",precio:299.99},{id:1402,nombre:"Apple Vision Pro",imagen:"/products/vision-pro.jpg",precio:3499.99}]},{categoria:"OfertasEspeciales",productos:[{id:1501,nombre:"Combo Teclado + Mouse RGB",imagen:"/products/combo-rgb.jpg",precio:49.99},{id:1502,nombre:"TV LG 50'' con 20% OFF",imagen:"/products/tv-lg-oferta.jpg",precio:399.99}]},{categoria:"RelojesInteligentes",productos:[{id:1601,nombre:"Apple Watch Series 8",imagen:"/products/apple-watch.jpg",precio:399.99},{id:1602,nombre:"Xiaomi Watch S1 Active",imagen:"/products/xiaomi-watch.jpg",precio:199.99}]},{categoria:"SmartTV",productos:[{id:1701,nombre:"Samsung 55'' QLED Smart TV",imagen:"/products/samsung-qled.jpg",precio:799.99},{id:1702,nombre:"LG 50'' UHD Smart TV",imagen:"/products/lg-uhd.jpg",precio:599.99}]},{categoria:"Tablets",productos:[{id:1801,nombre:"iPad 9na generación",imagen:"/products/ipad9.jpg",precio:329.99},{id:1802,nombre:"Samsung Galaxy Tab S8",imagen:"/products/galaxy-tab.jpg",precio:699.99}]},{categoria:"Teclados",productos:[{id:2101,nombre:"Teclado mecánico Redragon RGB",imagen:"/products/teclado-redragon.jpg",precio:49.99},{id:2102,nombre:"Teclado inalámbrico Logitech",imagen:"/products/teclado-logitech.jpg",precio:39.99}]},{categoria:"Videojuegos",productos:[{id:2201,nombre:"The Legend of Zelda: Tears of the Kingdom",imagen:"/products/zelda-tears.jpg",precio:69.99},{id:2202,nombre:"God of War Ragnarök PS5",imagen:"/products/god-of-war.jpg",precio:59.99}]}],fR=Zf.flatMap(r=>r.productos),Zy=Zf.find(r=>r.categoria==="Consolas"),pR=Zy?Zy.productos:[],mR=[{id:1,nombre:"PlayStation 5",imagen:"/products/ps5.jpg",precio:499.99},{id:2,nombre:"Nintendo Switch",imagen:"/products/nintendo_switch.png",precio:299.99},{id:3,nombre:"Xbox Series X",imagen:"/products/xbox_series_x.png",precio:499.99},{id:4,nombre:"Tablet Samsung Galaxy",imagen:"/products/tablet.jpg",precio:179.99},{id:5,nombre:"Audífonos Bluetooth Sony",imagen:"/products/audifonos-sony.jpg",precio:89.99},{id:6,nombre:"Control PS5 Edición Especial",imagen:"/products/control-ps5.jpg",precio:64.99}];function ev(){return _.jsxs("div",{className:"min-h-screen pt-24 bg-white text-gray-800 font-sans px-4",children:[_.jsxs("section",{className:"text-center max-w-4xl mx-auto mb-12 animate-fade-in",children:[_.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 bg-gradient-to-r from-blue-600 via-indigo-500 to-cyan-500 text-transparent bg-clip-text animate-pulse",children:"Bienvenidos a Playcenter Universal"}),_.jsx("p",{className:"text-lg md:text-xl mb-6 animate-fade-in-up",children:"Tu universo de tecnología, innovación y estilo. Donde cada clic es una aventura."}),_.jsxs("div",{className:"flex justify-center gap-6 flex-wrap mb-10 animate-fade-in-up",children:[_.jsx(nt,{to:"/productos",className:"bg-gradient-to-r from-blue-600 to-indigo-500 text-white px-8 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition duration-300",children:"Explorar Productos"}),_.jsx(nt,{to:"/productos/ofertas-especiales",className:"bg-gradient-to-r from-cyan-500 to-teal-400 text-white px-8 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition duration-300",children:"Ver Ofertas"})]})]}),_.jsx(YA,{}),_.jsxs("section",{className:"max-w-7xl mx-auto mb-12 animate-fade-in-up",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recomendaciones para ti"}),_.jsx(Sd,{productos:fR.slice(0,10)}),_.jsx("div",{className:"text-right mt-2",children:_.jsx(nt,{to:"/productos",className:"text-blue-600 hover:underline font-semibold",children:"Ver todos los productos →"})})]}),_.jsxs("section",{className:"max-w-7xl mx-auto mb-12 animate-fade-in-up",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Consolas populares"}),_.jsx(Sd,{productos:pR.slice(0,10)}),_.jsx("div",{className:"text-right mt-2",children:_.jsx(nt,{to:"/categorias/consolas",className:"text-blue-600 hover:underline font-semibold",children:"Ver todas las consolas →"})})]}),_.jsxs("section",{className:"max-w-7xl mx-auto mb-12 animate-fade-in-up",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ofertas Especiales"}),_.jsx(Sd,{productos:mR.slice(0,10)}),_.jsx("div",{className:"text-right mt-2",children:_.jsx(nt,{to:"/productos/ofertas-especiales",className:"text-blue-600 hover:underline font-semibold",children:"Seguir viendo ofertas →"})})]}),_.jsxs("section",{className:"pt-16 px-4 sm:px-8 lg:px-24 pb-24 bg-white text-gray-800 animate-fade-in-up",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-10 text-red-600",children:"Contáctanos"}),_.jsxs("div",{className:"max-w-3xl mx-auto bg-red-50 p-6 rounded-2xl shadow-md",children:[_.jsx("h3",{className:"text-2xl font-semibold mb-4 text-red-700",children:"Playcenter Universal"}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Yf,{className:"mr-2 text-red-600"}),"Av. Estrella Sadhalá, Santiago, República Dominicana"]}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Q0,{className:"mr-2 text-red-600"}),"+1 (809) 582-1212"]}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Xf,{className:"mr-2 text-red-600"}),"playcenter121@gmail.com"]}),_.jsxs("a",{href:"https://wa.me/18095821212",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-5 bg-green-500 text-white px-4 py-2 rounded-xl hover:bg-green-600 transition",children:[_.jsx(G0,{className:"mr-2"}),"Escríbenos por WhatsApp"]})]})]})]})}const gR=[{nombre:"Todos los productos",ruta:""},{nombre:"Accesorios Videojuegos",ruta:"accesorios-videojuegos"},{nombre:"Audífonos",ruta:"audifonos"},{nombre:"Cables",ruta:"cables"},{nombre:"Cámaras",ruta:"camaras"},{nombre:"Cargadores",ruta:"cargadores"},{nombre:"Celulares",ruta:"celulares"},{nombre:"Consolas",ruta:"consolas"},{nombre:"Discos Duros",ruta:"discos-duros"},{nombre:"Electrodomésticos",ruta:"electrodomesticos"},{nombre:"Gaming Chairs",ruta:"gaming-chairs"},{nombre:"Hogar Inteligente",ruta:"hogar-inteligente"},{nombre:"Impresoras",ruta:"impresoras"},{nombre:"Laptops",ruta:"laptops"},{nombre:"Memorias USB",ruta:"memorias-usb"},{nombre:"Monitores",ruta:"monitores"},{nombre:"Mouses",ruta:"mouses"},{nombre:"Nuevos Lanzamientos",ruta:"nuevos-lanzamientos"},{nombre:"Ofertas Especiales",ruta:"ofertas-especiales"},{nombre:"Relojes Inteligentes",ruta:"relojes-inteligentes"},{nombre:"Smart TV",ruta:"smart-tv"},{nombre:"Tablets",ruta:"tablets"},{nombre:"Teclados",ruta:"teclados"},{nombre:"Videojuegos",ruta:"videojuegos"}];function yR(){const r=tl();return _.jsxs("aside",{className:"w-40 sm:w-44 md:w-48 bg-white border-r border-gray-200 shadow-md p-3 sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto z-30",children:[_.jsx("h2",{className:"text-lg sm:text-xl font-bold text-blue-800 mb-4",children:"Categorías"}),_.jsx("ul",{className:"space-y-2 text-sm sm:text-base",children:gR.map((e,t)=>{const i=`/productos/${e.ruta}`,o=r.pathname===i||e.ruta===""&&r.pathname==="/productos";return _.jsx("li",{children:_.jsx(nt,{to:i,className:`block px-3 py-2 rounded-md font-medium transition-all duration-200 ${o?"bg-blue-600 text-white":"text-gray-700 hover:bg-blue-100 hover:text-blue-800"}`,children:e.nombre})},t)})})]})}function vR(){return _.jsxs("div",{className:"flex flex-col sm:flex-row min-h-screen bg-white pt-[90px]",children:[_.jsx(yR,{}),_.jsx("main",{className:"flex-1 p-2 sm:p-4 relative z-[1]",children:_.jsx(rE,{})})]})}function _R(){const r=Zf.flatMap(e=>e.productos.map(t=>({...t,categoria:e.categoria})));return _.jsxs("div",{className:"p-6 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Todos los Productos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function wR(){const{carrito:r,eliminarDelCarrito:e}=Jf(),t=r.reduce((i,o)=>i+o.precio*o.cantidad,0);return _.jsxs("main",{className:"pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-white text-[#1E2A47]",children:[_.jsx("h1",{className:`text-3xl sm:text-4xl font-bold text-center mb-10
                    bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 
                    bg-clip-text text-transparent animate-text-glow`,children:"Mi Carrito"}),r.length===0?_.jsx("p",{className:"text-center text-[#4B5563] text-lg",children:"Tu carrito está vacío."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((i,o)=>_.jsxs("div",{className:`flex gap-4 p-4 rounded-xl bg-white shadow-md
                            border border-[#3B82F6] hover:shadow-xl transition-all`,children:[_.jsx("img",{src:i.imagen,alt:i.nombre,className:"w-24 h-24 object-cover rounded-md shadow-sm bg-[#F0F9FF]"}),_.jsxs("div",{className:"flex flex-col justify-between",children:[_.jsx("h2",{className:"text-base sm:text-lg font-semibold text-[#1E2A47]",children:i.nombre}),_.jsxs("p",{className:"text-[#2563EB]",children:["Cantidad: ",i.cantidad]}),_.jsxs("p",{className:"text-[#2563EB] font-bold",children:["$",(i.precio*i.cantidad).toFixed(2)]}),_.jsx("button",{onClick:()=>e(i),className:"text-sm text-[#EF4444] mt-2 hover:underline",children:"Eliminar"})]})]},o))}),r.length>0&&_.jsxs("div",{className:"mt-10 text-center",children:[_.jsxs("p",{className:"text-lg font-semibold mb-3 text-[#2563EB]",children:["Total: $",t.toFixed(2)]}),_.jsx("button",{className:`mt-4 bg-[#2563EB] hover:bg-[#1E40AF] text-white
                        font-medium px-6 py-3 rounded-lg transition-all`,children:"Finalizar compra"})]})]})}function ER(){const{favoritos:r,eliminarDeFavoritos:e}=Jf();return _.jsxs("main",{className:"pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-white text-[#1E2A47]",children:[_.jsx("h1",{className:`text-3xl sm:text-4xl font-bold text-center mb-10
                    bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 
                    bg-clip-text text-transparent animate-text-glow`,children:"Favoritos"}),r.length===0?_.jsx("p",{className:"text-center text-[#4B5563] text-lg",children:"No tienes productos favoritos."}):_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(t=>_.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all hover:scale-[1.03] p-3 border border-[#3B82F6]",children:[_.jsx("img",{src:t.imagen,alt:t.nombre,className:"w-full h-40 object-contain rounded-md mb-3 bg-[#F0F9FF]"}),_.jsx("h2",{className:"text-sm sm:text-base font-semibold truncate text-[#1E2A47]",children:t.nombre}),_.jsxs("p",{className:"text-[#2563EB] font-bold",children:["$",t.precio]}),_.jsx("button",{onClick:()=>e(t.id),className:"mt-2 w-full bg-[#2563EB] hover:bg-[#1E40AF] text-white font-medium py-2 rounded-lg transition-all",children:"Quitar de favoritos"})]},t.id))})]})}function TR(){return _.jsxs("div",{className:"pt-24 px-4 sm:px-8 lg:px-24 pb-16 bg-white min-h-screen text-gray-800",children:[_.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mb-10 text-red-600",children:"Contáctanos"}),_.jsxs("div",{className:"max-w-3xl mx-auto bg-red-50 p-6 rounded-2xl shadow-md",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-red-700",children:"Playcenter Universal"}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Yf,{className:"mr-2 text-red-600"}),"Av. Estrella Sadhalá, Santiago, República Dominicana"]}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Q0,{className:"mr-2 text-red-600"}),"+1 (809) 582-1212"]}),_.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[_.jsx(Xf,{className:"mr-2 text-red-600"}),"playcenter121@gmail.com"]}),_.jsxs("a",{href:"https://wa.me/18095821212",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-5 bg-green-500 text-white px-4 py-2 rounded-xl hover:bg-green-600 transition",children:[_.jsx(G0,{className:"mr-2"}),"Escríbenos por WhatsApp"]})]})]})}const IR=[{id:1,nombre:"Audífonos Sony WH-1000XM5",imagen:"/products/sony-wh1000xm5.png",precio:349.99,descripcion:"Cancelación de ruido líder, hasta 30h de batería, diseño premium."},{id:2,nombre:"AirPods Pro 2da Gen",imagen:"/products/airpods-pro-2.png",precio:249.99,descripcion:"Audio espacial personalizado, chip H2 de Apple, resistente al agua."}];function xR(){const{id:r}=zw(),e=IR.find(t=>t.id===parseInt(r));return e?_.jsxs("div",{className:"pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",children:[_.jsx("div",{className:"w-full lg:w-1/2 flex justify-center",children:_.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow"})}),_.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.nombre}),_.jsx("p",{className:"text-gray-700 text-lg",children:e.descripcion}),_.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",e.precio]}),_.jsxs("div",{className:"flex gap-4 mt-6",children:[_.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",children:"Agregar al carrito"}),_.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",children:"Añadir a favoritos ❤️"})]})]})]}):_.jsx("div",{className:"pt-24 text-center text-red-600 font-semibold",children:"Producto no encontrado"})}function SR(){return _.jsxs("div",{className:"nosotros-container pt-28 min-h-screen px-6 pb-20",children:[_.jsxs("div",{className:"max-w-5xl mx-auto text-center z-10 relative",children:[_.jsx("h1",{className:"text-5xl font-extrabold bg-gradient-to-r from-blue-800 via-cyan-400 to-yellow-400 text-transparent bg-clip-text animate-pulse mb-6 drop-shadow-lg",children:"Conoce Playcenter Universal"}),_.jsxs("p",{className:"text-xl text-gray-900 font-medium mb-6 leading-relaxed",children:[_.jsx(uR,{className:"inline-block mr-2 text-yellow-400"}),"Somos una empresa dominicana ubicada en ",_.jsx("strong",{className:"text-blue-800",children:"Santiago"}),", especializada en brindar lo último en tecnología, innovación y productos para el estilo de vida moderno."]}),_.jsxs("p",{className:"text-lg text-gray-800 mb-6 leading-loose",children:[_.jsx(hR,{className:"inline-block mr-2 text-cyan-500"}),"Nuestra misión es superar las expectativas de nuestros clientes ofreciendo artículos de calidad como consolas, videojuegos, tablets, móviles, accesorios y más, con un servicio humano, eficiente y profesional."]}),_.jsxs("p",{className:"text-lg text-gray-800 mb-10 leading-loose",children:[_.jsx(Yf,{className:"inline-block mr-2 text-green-500"}),"¡Gracias por confiar en nosotros! Playcenter Universal no solo vende productos, crea experiencias memorables con cada compra."]}),_.jsxs(nt,{to:"/contacto",className:"contacto-btn bg-gradient-to-r from-blue-700 via-cyan-500 to-yellow-400 text-white font-bold py-3 px-6 rounded-full shadow-xl hover:scale-105 transition-all duration-300",children:[_.jsx(K0,{className:"inline-block mr-2"}),"Contáctanos"]})]}),_.jsx("div",{className:"animated-bg"})]})}function CR(){return _.jsxs("footer",{className:"bg-gray-900 text-gray-300 px-6 py-12 mt-20",children:[_.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Playcenter Universal"}),_.jsx("p",{children:"Tu universo de tecnología, estilo e innovación en Santiago, R.D."}),_.jsxs("p",{className:"mt-2 flex items-center gap-2",children:[_.jsx(K0,{})," +1 (809) 582-1212"]}),_.jsxs("p",{className:"flex items-center gap-2",children:[_.jsx(Xf,{})," info@playcenteruniversal.com"]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Enlaces útiles"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"/productos",className:"hover:text-white transition",children:"Productos"})}),_.jsx("li",{children:_.jsx("a",{href:"/productos/ofertas-especiales",className:"hover:text-white transition",children:"Ofertas Especiales"})}),_.jsx("li",{children:_.jsx("a",{href:"/favoritos",className:"hover:text-white transition",children:"Favoritos"})}),_.jsx("li",{children:_.jsx("a",{href:"/contacto",className:"hover:text-white transition",children:"Contáctanos"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Horario"}),_.jsx("p",{children:"Lunes a Viernes: 9:00am - 6:00pm"}),_.jsx("p",{children:"Sábados: 10:00am - 2:00pm"}),_.jsx("p",{children:"Domingo: Cerrado"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Síguenos"}),_.jsxs("div",{className:"flex flex-col gap-3 text-base",children:[_.jsxs("a",{href:"https://www.facebook.com/pcu12",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-blue-500 transition",children:[_.jsx(sR,{className:"text-xl"}),"Facebook"]}),_.jsxs("a",{href:"https://www.instagram.com/playcenter_universal/?hl=es",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-pink-500 transition",children:[_.jsx(oR,{className:"text-xl"}),"Instagram"]}),_.jsxs("a",{href:"https://www.tiktok.com/@playcenter_universal?lang=es",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-gray-100 transition",children:[_.jsx(aR,{className:"text-xl"}),"TikTok"]}),_.jsxs("a",{href:"https://youtube.com/@playcenteruniversal1916?si=MNDwY6v_iW2SowkB",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-red-500 transition",children:[_.jsx(lR,{className:"text-xl"}),"YouTube"]})]})]})]}),_.jsxs("p",{className:"text-center text-gray-500 text-sm mt-10",children:["© ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]})]})}function AR(){const r=[{id:1,nombre:"Soporte de control PS5 doble carga",imagen:"/products/soporte-controles.jpg",precio:25.99},{id:2,nombre:"Base refrigeradora para consola Xbox",imagen:"/products/base-refrigeracion.jpg",precio:34.99},{id:3,nombre:"Auriculares Gaming con micrófono",imagen:"/products/auriculares-gamer.jpg",precio:44.99},{id:4,nombre:"Grip antideslizante para Nintendo Switch",imagen:"/products/grip-switch.jpg",precio:14.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Accesorios para Videojuegos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function RR(){const r=[{id:101,nombre:"Audífonos Bluetooth",imagen:"/products/audifonos-bluetooth.jpg",precio:999},{id:102,nombre:"Audífonos Gamer RGB",imagen:"/products/audifonos-gamer.jpg",precio:1299}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Audífonos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function PR(){const r=[{id:201,nombre:"Cable USB-C 1m",imagen:"/products/cable-usbc.jpg",precio:299},{id:202,nombre:"Cable HDMI 2.0",imagen:"/products/cable-hdmi.jpg",precio:499}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cables"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function kR(){const r=[{id:301,nombre:"Cámara DSLR Canon EOS",imagen:"/products/camara-canon.jpg",precio:499.99},{id:302,nombre:"Cámara de Seguridad Wifi",imagen:"/products/camara-seguridad.jpg",precio:89.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cámaras"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function NR(){const r=[{id:401,nombre:"Cargador Rápido USB-C",imagen:"/products/cargador-usbc.jpg",precio:24.99},{id:402,nombre:"Cargador Inalámbrico Qi",imagen:"/products/cargador-inalambrico.jpg",precio:29.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cargadores"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function bR(){const r=[{id:501,nombre:"iPhone 14 Pro Max",imagen:"/products/iphone14.jpg",precio:1199.99},{id:502,nombre:"Samsung Galaxy S23",imagen:"/products/samsung-s23.jpg",precio:1099.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Celulares"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function DR(){const r=[{id:401,nombre:"PlayStation 5",imagen:"/products/ps5.jpg",precio:599.99},{id:402,nombre:"Xbox Series X",imagen:"/products/xbox-series-x.jpg",precio:549.99},{id:403,nombre:"Nintendo Switch OLED",imagen:"/products/nintendo-switch-oled.jpg",precio:349.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Consolas"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function OR(){const r=[{id:601,nombre:"Disco Duro Externo 1TB",imagen:"/products/disco-1tb.jpg",precio:1899},{id:602,nombre:"SSD Interno 500GB",imagen:"/products/ssd-500gb.jpg",precio:1499}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Discos Duros"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function VR(){const r=[{id:701,nombre:"Microondas Digital",imagen:"/products/microondas.jpg",precio:2499},{id:702,nombre:"Refrigerador 2 Puertas",imagen:"/products/refrigerador.jpg",precio:7899}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Electrodomésticos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function jR(){const r=[{id:801,nombre:"Silla Gamer Ergonómica",imagen:"/products/silla-gamer.jpg",precio:3299},{id:802,nombre:"Silla Gamer con Luces LED",imagen:"/products/silla-led.jpg",precio:3999}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Sillas Gamer"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function LR(){const r=[{id:170,nombre:"Bombillo Inteligente RGB",imagen:"/products/bombillo-inteligente.jpg",precio:18.99},{id:171,nombre:"Enchufe WiFi con control remoto",imagen:"/products/enchufe-wifi.jpg",precio:22.49},{id:172,nombre:"Cámara de seguridad inteligente",imagen:"/products/camara-inteligente.jpg",precio:45},{id:173,nombre:"Controlador de voz Alexa",imagen:"/products/control-voz-alexa.jpg",precio:32}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Hogar Inteligente"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function MR(){const r=[{id:160,nombre:"Impresora Multifuncional HP",imagen:"/products/impresora-hp.jpg",precio:139.99},{id:161,nombre:"Impresora Canon WiFi",imagen:"/products/impresora-canon.jpg",precio:159.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Impresoras"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function FR(){const r=[{id:170,nombre:"Laptop ASUS Gaming 16GB RAM",imagen:"/products/laptop-asus.jpg",precio:849.99},{id:171,nombre:"MacBook Air M2",imagen:"/products/macbook-air.jpg",precio:999.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Laptops"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function UR(){const r=[{id:180,nombre:"USB 3.0 Kingston 64GB",imagen:"/products/usb-kingston.jpg",precio:14.99},{id:181,nombre:"USB SanDisk 128GB",imagen:"/products/usb-sandisk.jpg",precio:22.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Memorias USB"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function BR(){const r=[{id:210,nombre:"Monitor LED Samsung 24''",imagen:"/products/monitor-samsung.jpg",precio:149.99},{id:211,nombre:"Monitor Curvo LG UltraWide",imagen:"/products/monitor-lg.jpg",precio:219.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Monitores"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function zR(){const r=[{id:220,nombre:"Mouse Logitech Inalámbrico",imagen:"/products/mouse-logitech.jpg",precio:19.99},{id:221,nombre:"Mouse Gamer RGB",imagen:"/products/mouse-gamer.jpg",precio:29.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Mouses"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function $R(){const r=[{id:230,nombre:"Tablet Galaxy S9 Ultra",imagen:"/products/galaxy-s9-ultra.jpg",precio:999.99},{id:231,nombre:"PlayStation 6 - Próximamente",imagen:"/products/ps6.jpg",precio:799.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Nuevos Lanzamientos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function HR(){const r=[{id:240,nombre:"Combo Gamer: Teclado + Mouse + Audífonos",imagen:"/products/combo-gamer.jpg",precio:59.99},{id:241,nombre:"TV 4K con Descuento",imagen:"/products/tv-4k-descuento.jpg",precio:299.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Ofertas Especiales"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function WR(){const r=[{id:250,nombre:"Apple Watch Series 8",imagen:"/products/apple-watch.jpg",precio:399.99},{id:251,nombre:"Samsung Galaxy Watch 5",imagen:"/products/galaxy-watch.jpg",precio:349.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Relojes Inteligentes"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function qR(){const r=[{id:260,nombre:"Smart TV LG 55'' 4K UHD",imagen:"/products/smarttv-lg.jpg",precio:479.99},{id:261,nombre:"Smart TV Samsung QLED",imagen:"/products/smarttv-samsung.jpg",precio:599.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Smart TV"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function GR(){const r=[{id:270,nombre:"iPad 10ª Generación",imagen:"/products/ipad.jpg",precio:429.99},{id:271,nombre:"Samsung Galaxy Tab S8",imagen:"/products/galaxy-tab.jpg",precio:499.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Tablets"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function KR(){const r=[{id:280,nombre:"Teclado Mecánico RGB",imagen:"/products/teclado-rgb.jpg",precio:89.99},{id:281,nombre:"Teclado Inalámbrico",imagen:"/products/teclado-wireless.jpg",precio:49.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Teclados"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function QR(){const r=[{id:290,nombre:"FIFA 24 - PS5",imagen:"/products/fifa24.jpg",precio:69.99},{id:291,nombre:"The Legend of Zelda: TOTK - Switch",imagen:"/products/zelda.jpg",precio:59.99}];return _.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[_.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Videojuegos"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.map(e=>_.jsx(Qe,{producto:e},e.id))})]})}function XR(){return _.jsxs(z0,{children:[_.jsx(BA,{}),_.jsxs("div",{className:"min-h-screen flex flex-col",children:[_.jsx("main",{className:"flex-grow",children:_.jsxs(sE,{children:[_.jsx(Ve,{path:"/",element:_.jsx(ev,{})}),_.jsx(Ve,{path:"/profile",element:_.jsx(LA,{})}),_.jsxs(Ve,{path:"/productos",element:_.jsx(vR,{}),children:[_.jsx(Ve,{index:!0,element:_.jsx(_R,{})}),_.jsx(Ve,{path:"accesorios-videojuegos",element:_.jsx(AR,{})}),_.jsx(Ve,{path:"audifonos",element:_.jsx(RR,{})}),_.jsx(Ve,{path:"cables",element:_.jsx(PR,{})}),_.jsx(Ve,{path:"camaras",element:_.jsx(kR,{})}),_.jsx(Ve,{path:"cargadores",element:_.jsx(NR,{})}),_.jsx(Ve,{path:"celulares",element:_.jsx(bR,{})}),_.jsx(Ve,{path:"consolas",element:_.jsx(DR,{})}),_.jsx(Ve,{path:"discos-duros",element:_.jsx(OR,{})}),_.jsx(Ve,{path:"electrodomesticos",element:_.jsx(VR,{})}),_.jsx(Ve,{path:"gaming-chairs",element:_.jsx(jR,{})}),_.jsx(Ve,{path:"hogar-inteligente",element:_.jsx(LR,{})}),_.jsx(Ve,{path:"impresoras",element:_.jsx(MR,{})}),_.jsx(Ve,{path:"laptops",element:_.jsx(FR,{})}),_.jsx(Ve,{path:"memorias-usb",element:_.jsx(UR,{})}),_.jsx(Ve,{path:"monitores",element:_.jsx(BR,{})}),_.jsx(Ve,{path:"mouses",element:_.jsx(zR,{})}),_.jsx(Ve,{path:"nuevos-lanzamientos",element:_.jsx($R,{})}),_.jsx(Ve,{path:"ofertas-especiales",element:_.jsx(HR,{})}),_.jsx(Ve,{path:"relojes-inteligentes",element:_.jsx(WR,{})}),_.jsx(Ve,{path:"smart-tv",element:_.jsx(qR,{})}),_.jsx(Ve,{path:"tablets",element:_.jsx(GR,{})}),_.jsx(Ve,{path:"teclados",element:_.jsx(KR,{})}),_.jsx(Ve,{path:"videojuegos",element:_.jsx(QR,{})})]}),_.jsx(Ve,{path:"/",element:_.jsx(ev,{})}),_.jsx(Ve,{path:"/carrito",element:_.jsx(wR,{})}),_.jsx(Ve,{path:"/favoritos",element:_.jsx(ER,{})}),_.jsx(Ve,{path:"/contacto",element:_.jsx(TR,{})}),_.jsx(Ve,{path:"/nosotros",element:_.jsx(SR,{})}),_.jsx(Ve,{path:"/producto/:id",element:_.jsx(xR,{})})]})}),_.jsx(CR,{})]})]})}cw.createRoot(document.getElementById("root")).render(_.jsx(Pr.StrictMode,{children:_.jsx(dE,{children:_.jsx(z0,{children:_.jsx(dR,{children:_.jsx(XR,{})})})})}));
