function DA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Sy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tg={exports:{}},Qc={},Pg={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function VA(){if(Fw)return Ke;Fw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function k(z,Z,we){this.props=z,this.context=Z,this.refs=E,this.updater=we||_}k.prototype.isReactComponent={},k.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=k.prototype;function F(z,Z,we){this.props=z,this.context=Z,this.refs=E,this.updater=we||_}var O=F.prototype=new D;O.constructor=F,P(O,k.prototype),O.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function N(z,Z,we){var De,Ce={},Ue=null,Ie=null;if(Z!=null)for(De in Z.ref!==void 0&&(Ie=Z.ref),Z.key!==void 0&&(Ue=""+Z.key),Z)K.call(Z,De)&&!R.hasOwnProperty(De)&&(Ce[De]=Z[De]);var Le=arguments.length-2;if(Le===1)Ce.children=we;else if(1<Le){for(var We=Array(Le),it=0;it<Le;it++)We[it]=arguments[it+2];Ce.children=We}if(z&&z.defaultProps)for(De in Le=z.defaultProps,Le)Ce[De]===void 0&&(Ce[De]=Le[De]);return{$$typeof:t,type:z,key:Ue,ref:Ie,props:Ce,_owner:X.current}}function V(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function S(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(we){return Z[we]})}var U=/\/+/g;function j(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Z.toString(36)}function oe(z,Z,we,De,Ce){var Ue=typeof z;(Ue==="undefined"||Ue==="boolean")&&(z=null);var Ie=!1;if(z===null)Ie=!0;else switch(Ue){case"string":case"number":Ie=!0;break;case"object":switch(z.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=z,Ce=Ce(Ie),z=De===""?"."+j(Ie,0):De,B(Ce)?(we="",z!=null&&(we=z.replace(U,"$&/")+"/"),oe(Ce,Z,we,"",function(it){return it})):Ce!=null&&(S(Ce)&&(Ce=V(Ce,we+(!Ce.key||Ie&&Ie.key===Ce.key?"":(""+Ce.key).replace(U,"$&/")+"/")+z)),Z.push(Ce)),1;if(Ie=0,De=De===""?".":De+":",B(z))for(var Le=0;Le<z.length;Le++){Ue=z[Le];var We=De+j(Ue,Le);Ie+=oe(Ue,Z,we,We,Ce)}else if(We=x(z),typeof We=="function")for(z=We.call(z),Le=0;!(Ue=z.next()).done;)Ue=Ue.value,We=De+j(Ue,Le++),Ie+=oe(Ue,Z,we,We,Ce);else if(Ue==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Pe(z,Z,we){if(z==null)return z;var De=[],Ce=0;return oe(z,De,"","",function(Ue){return Z.call(we,Ue,Ce++)}),De}function Ae(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(we){(z._status===0||z._status===-1)&&(z._status=1,z._result=we)},function(we){(z._status===0||z._status===-1)&&(z._status=2,z._result=we)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Ee={current:null},te={transition:null},pe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:te,ReactCurrentOwner:X};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Pe,forEach:function(z,Z,we){Pe(z,function(){Z.apply(this,arguments)},we)},count:function(z){var Z=0;return Pe(z,function(){Z++}),Z},toArray:function(z){return Pe(z,function(Z){return Z})||[]},only:function(z){if(!S(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=k,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=F,Ke.StrictMode=r,Ke.Suspense=h,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ke.act=ue,Ke.cloneElement=function(z,Z,we){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var De=P({},z.props),Ce=z.key,Ue=z.ref,Ie=z._owner;if(Z!=null){if(Z.ref!==void 0&&(Ue=Z.ref,Ie=X.current),Z.key!==void 0&&(Ce=""+Z.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(We in Z)K.call(Z,We)&&!R.hasOwnProperty(We)&&(De[We]=Z[We]===void 0&&Le!==void 0?Le[We]:Z[We])}var We=arguments.length-2;if(We===1)De.children=we;else if(1<We){Le=Array(We);for(var it=0;it<We;it++)Le[it]=arguments[it+2];De.children=Le}return{$$typeof:t,type:z.type,key:Ce,ref:Ue,props:De,_owner:Ie}},Ke.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ke.createElement=N,Ke.createFactory=function(z){var Z=N.bind(null,z);return Z.type=z,Z},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:u,render:z}},Ke.isValidElement=S,Ke.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Ae}},Ke.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},Ke.startTransition=function(z){var Z=te.transition;te.transition={};try{z()}finally{te.transition=Z}},Ke.unstable_act=ue,Ke.useCallback=function(z,Z){return Ee.current.useCallback(z,Z)},Ke.useContext=function(z){return Ee.current.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z){return Ee.current.useDeferredValue(z)},Ke.useEffect=function(z,Z){return Ee.current.useEffect(z,Z)},Ke.useId=function(){return Ee.current.useId()},Ke.useImperativeHandle=function(z,Z,we){return Ee.current.useImperativeHandle(z,Z,we)},Ke.useInsertionEffect=function(z,Z){return Ee.current.useInsertionEffect(z,Z)},Ke.useLayoutEffect=function(z,Z){return Ee.current.useLayoutEffect(z,Z)},Ke.useMemo=function(z,Z){return Ee.current.useMemo(z,Z)},Ke.useReducer=function(z,Z,we){return Ee.current.useReducer(z,Z,we)},Ke.useRef=function(z){return Ee.current.useRef(z)},Ke.useState=function(z){return Ee.current.useState(z)},Ke.useSyncExternalStore=function(z,Z,we){return Ee.current.useSyncExternalStore(z,Z,we)},Ke.useTransition=function(){return Ee.current.useTransition()},Ke.version="18.3.1",Ke}var Uw;function Ty(){return Uw||(Uw=1,Pg.exports=VA()),Pg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function OA(){if(Bw)return Qc;Bw=1;var t=Ty(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,m){var g,y={},x=null,_=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:x,ref:_,props:y,_owner:i.current}}return Qc.Fragment=n,Qc.jsx=l,Qc.jsxs=l,Qc}var $w;function MA(){return $w||($w=1,Tg.exports=OA()),Tg.exports}var d=MA(),A=Ty();const Di=Sy(A),m0=DA({__proto__:null,default:Di},[A]);var Dh={},Cg={exports:{}},ir={},kg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function LA(){return zw||(zw=1,function(t){function e(te,pe){var ue=te.length;te.push(pe);e:for(;0<ue;){var z=ue-1>>>1,Z=te[z];if(0<i(Z,pe))te[z]=pe,te[ue]=Z,ue=z;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var pe=te[0],ue=te.pop();if(ue!==pe){te[0]=ue;e:for(var z=0,Z=te.length,we=Z>>>1;z<we;){var De=2*(z+1)-1,Ce=te[De],Ue=De+1,Ie=te[Ue];if(0>i(Ce,ue))Ue<Z&&0>i(Ie,Ce)?(te[z]=Ie,te[Ue]=ue,z=Ue):(te[z]=Ce,te[De]=ue,z=De);else if(Ue<Z&&0>i(Ie,ue))te[z]=Ie,te[Ue]=ue,z=Ue;else break e}}return pe}function i(te,pe){var ue=te.sortIndex-pe.sortIndex;return ue!==0?ue:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,y=null,x=3,_=!1,P=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(te){for(var pe=n(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=te)r(m),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=n(m)}}function B(te){if(E=!1,O(te),!P)if(n(h)!==null)P=!0,Ae(K);else{var pe=n(m);pe!==null&&Ee(B,pe.startTime-te)}}function K(te,pe){P=!1,E&&(E=!1,D(N),N=-1),_=!0;var ue=x;try{for(O(pe),y=n(h);y!==null&&(!(y.expirationTime>pe)||te&&!M());){var z=y.callback;if(typeof z=="function"){y.callback=null,x=y.priorityLevel;var Z=z(y.expirationTime<=pe);pe=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===n(h)&&r(h),O(pe)}else r(h);y=n(h)}if(y!==null)var we=!0;else{var De=n(m);De!==null&&Ee(B,De.startTime-pe),we=!1}return we}finally{y=null,x=ue,_=!1}}var X=!1,R=null,N=-1,V=5,S=-1;function M(){return!(t.unstable_now()-S<V)}function U(){if(R!==null){var te=t.unstable_now();S=te;var pe=!0;try{pe=R(!0,te)}finally{pe?j():(X=!1,R=null)}}else X=!1}var j;if(typeof F=="function")j=function(){F(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Pe=oe.port2;oe.port1.onmessage=U,j=function(){Pe.postMessage(null)}}else j=function(){k(U,0)};function Ae(te){R=te,X||(X=!0,j())}function Ee(te,pe){N=k(function(){te(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){P||_||(P=!0,Ae(K))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(te){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var ue=x;x=pe;try{return te()}finally{x=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=x;x=te;try{return pe()}finally{x=ue}},t.unstable_scheduleCallback=function(te,pe,ue){var z=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?z+ue:z):ue=z,te){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,te={id:g++,callback:pe,priorityLevel:te,startTime:ue,expirationTime:Z,sortIndex:-1},ue>z?(te.sortIndex=ue,e(m,te),n(h)===null&&te===n(m)&&(E?(D(N),N=-1):E=!0,Ee(B,ue-z))):(te.sortIndex=Z,e(h,te),P||_||(P=!0,Ae(K))),te},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(te){var pe=x;return function(){var ue=x;x=pe;try{return te.apply(this,arguments)}finally{x=ue}}}}(Ng)),Ng}var Ww;function FA(){return Ww||(Ww=1,kg.exports=LA()),kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function UA(){if(Hw)return ir;Hw=1;var t=Ty(),e=FA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(s){return h.call(y,s)?!0:h.call(g,s)?!1:m.test(s)?y[s]=!0:(g[s]=!0,!1)}function _(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,c,p){if(o===null||typeof o>"u"||_(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function E(s,o,c,p,v,b,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=b,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new E(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(D,F);k[o]=new E(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(D,F);k[o]=new E(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(D,F);k[o]=new E(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,c,p){var v=k.hasOwnProperty(o)?k[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,c,v,p)&&(c=null),p||v===null?x(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(o=v.attributeName,p=v.attributeNamespace,c===null?s.removeAttribute(o):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var we=!1;function De(s,o){if(!s||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){p=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),b=p.stack.split(`
`),C=v.length-1,L=b.length-1;1<=C&&0<=L&&v[C]!==b[L];)L--;for(;1<=C&&0<=L;C--,L--)if(v[C]!==b[L]){if(C!==1||L!==1)do if(C--,L--,0>L||v[C]!==b[L]){var $=`
`+v[C].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=C&&0<=L);break}}}finally{we=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ce(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=De(s.type,!1),s;case 11:return s=De(s.type.render,!1),s;case 1:return s=De(s.type,!0),s;default:return""}}function Ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case X:return"Portal";case V:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case S:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Pe:return o=s.displayName||null,o!==null?o:Ue(s.type)||"Memo";case Ae:o=s._payload,s=s._init;try{return Ue(s(o))}catch{}}return null}function Ie(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function We(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function it(s){var o=We(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,b=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){p=""+C,b.call(this,C)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Gt(s){s._valueTracker||(s._valueTracker=it(s))}function Pt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=We(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function st(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function en(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function wn(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=Le(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Kn(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function gt(s,o){Kn(s,o);var c=Le(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?qe(s,o.type,c):o.hasOwnProperty("defaultValue")&&qe(s,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function de(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function qe(s,o,c){(o!=="number"||st(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var tt=Array.isArray;function Lt(s,o,c,p){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Le(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function yt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fn(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(tt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Le(c)}}function pr(s,o){var c=Le(o.value),p=Le(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function le(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function H(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?H(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ke,Be=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,v){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,v)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ke.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function be(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var $e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];Object.keys($e).forEach(function(s){vt.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),$e[o]=$e[s]})});function _t(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||$e.hasOwnProperty(s)&&$e[s]?(""+o).trim():o+"px"}function pn(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,v=_t(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,v):s[c]=v}}var Kr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(s,o){if(o){if(Kr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Yi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yi=null,Qn=null,at=null;function Ct(s){if(s=Dc(s)){if(typeof yi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Qd(o),yi(s.stateNode,s.type,o))}}function Xn(s){Qn?at?at.push(s):at=[s]:Qn=s}function vi(){if(Qn){var s=Qn,o=at;if(at=Qn=null,Ct(s),o)for(s=0;s<o.length;s++)Ct(o[s])}}function bn(s,o){return s(o)}function hc(){}var Zi=!1;function fc(s,o,c){if(Zi)return s(o,c);Zi=!0;try{return bn(s,o,c)}finally{Zi=!1,(Qn!==null||at!==null)&&(hc(),vi())}}function Kt(s,o){var c=s.stateNode;if(c===null)return null;var p=Qd(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Da=!1;if(u)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Da=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Da=!1}function Mo(s,o,c,p,v,b,C,L,$){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(ae){this.onError(ae)}}var Lo=!1,Va=null,Xr=!1,pc=null,Zp={onError:function(s){Lo=!0,Va=s}};function Oa(s,o,c,p,v,b,C,L,$){Lo=!1,Va=null,Mo.apply(Zp,arguments)}function wd(s,o,c,p,v,b,C,L,$){if(Oa.apply(this,arguments),Lo){if(Lo){var Y=Va;Lo=!1,Va=null}else throw Error(n(198));Xr||(Xr=!0,pc=Y)}}function Yr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Fo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Jr(s){if(Yr(s)!==s)throw Error(n(188))}function bd(s){var o=s.alternate;if(!o){if(o=Yr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(p=v.return,p!==null){c=p;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return Jr(v),s;if(b===p)return Jr(v),o;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=v,p=b;else{for(var C=!1,L=v.child;L;){if(L===c){C=!0,c=v,p=b;break}if(L===p){C=!0,p=v,c=b;break}L=L.sibling}if(!C){for(L=b.child;L;){if(L===c){C=!0,c=b,p=v;break}if(L===p){C=!0,p=b,c=v;break}L=L.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function mc(s){return s=bd(s),s!==null?Ma(s):null}function Ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ma(s);if(o!==null)return o;s=s.sibling}return null}var La=e.unstable_scheduleCallback,gc=e.unstable_cancelCallback,_d=e.unstable_shouldYield,em=e.unstable_requestPaint,xt=e.unstable_now,Ed=e.unstable_getCurrentPriorityLevel,Uo=e.unstable_ImmediatePriority,Is=e.unstable_UserBlockingPriority,Ir=e.unstable_NormalPriority,yc=e.unstable_LowPriority,Sd=e.unstable_IdlePriority,Bo=null,mr=null;function Td(s){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(Bo,s,void 0,(s.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:Cd,vc=Math.log,Pd=Math.LN2;function Cd(s){return s>>>=0,s===0?32:31-(vc(s)/Pd|0)|0}var Fa=64,Ua=4194304;function js(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $o(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,v=s.suspendedLanes,b=s.pingedLanes,C=c&268435455;if(C!==0){var L=C&~v;L!==0?p=js(L):(b&=C,b!==0&&(p=js(b)))}else C=c&~v,C!==0?p=js(C):b!==0&&(p=js(b));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,b=o&-o,v>=b||v===16&&(b&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-$n(o),v=1<<c,p|=s[c],o&=~v;return p}function tm(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes;0<b;){var C=31-$n(b),L=1<<C,$=v[C];$===-1?((L&c)===0||(L&p)!==0)&&(v[C]=tm(L,o)):$<=o&&(s.expiredLanes|=L),b&=~L}}function gr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function zo(){var s=Fa;return Fa<<=1,(Fa&4194240)===0&&(Fa=64),s}function Rs(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ds(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-$n(o),s[o]=c}function ft(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-$n(c),b=1<<v;o[v]=0,p[v]=-1,s[v]=-1,c&=~b}}function Vs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-$n(c),v=1<<p;v&o|s[p]&o&&(s[p]|=o),c&=~v}}var Je=0;function Os(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var kd,Ba,Nd,Ad,Id,xc=!1,xi=[],_n=null,Zr=null,ei=null,Ms=new Map,jr=new Map,wi=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jd(s,o){switch(s){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Ms.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(o.pointerId)}}function Yn(s,o,c,p,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Dc(o),o!==null&&Ba(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function rm(s,o,c,p,v){switch(o){case"focusin":return _n=Yn(_n,s,o,c,p,v),!0;case"dragenter":return Zr=Yn(Zr,s,o,c,p,v),!0;case"mouseover":return ei=Yn(ei,s,o,c,p,v),!0;case"pointerover":var b=v.pointerId;return Ms.set(b,Yn(Ms.get(b)||null,s,o,c,p,v)),!0;case"gotpointercapture":return b=v.pointerId,jr.set(b,Yn(jr.get(b)||null,s,o,c,p,v)),!0}return!1}function Rd(s){var o=Ko(s.target);if(o!==null){var c=Yr(o);if(c!==null){if(o=c.tag,o===13){if(o=Fo(c),o!==null){s.blockedOn=o,Id(s.priority,function(){Nd(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ts(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=$a(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Ji=p,c.target.dispatchEvent(p),Ji=null}else return o=Dc(c),o!==null&&Ba(o),s.blockedOn=c,!1;o.shift()}return!0}function Wo(s,o,c){ts(s)&&c.delete(o)}function Dd(){xc=!1,_n!==null&&ts(_n)&&(_n=null),Zr!==null&&ts(Zr)&&(Zr=null),ei!==null&&ts(ei)&&(ei=null),Ms.forEach(Wo),jr.forEach(Wo)}function ti(s,o){s.blockedOn===o&&(s.blockedOn=null,xc||(xc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dd)))}function ni(s){function o(v){return ti(v,s)}if(0<xi.length){ti(xi[0],s);for(var c=1;c<xi.length;c++){var p=xi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(_n!==null&&ti(_n,s),Zr!==null&&ti(Zr,s),ei!==null&&ti(ei,s),Ms.forEach(o),jr.forEach(o),c=0;c<wi.length;c++)p=wi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<wi.length&&(c=wi[0],c.blockedOn===null);)Rd(c),c.blockedOn===null&&wi.shift()}var ns=B.ReactCurrentBatchConfig,Ls=!0;function kt(s,o,c,p){var v=Je,b=ns.transition;ns.transition=null;try{Je=1,wc(s,o,c,p)}finally{Je=v,ns.transition=b}}function im(s,o,c,p){var v=Je,b=ns.transition;ns.transition=null;try{Je=4,wc(s,o,c,p)}finally{Je=v,ns.transition=b}}function wc(s,o,c,p){if(Ls){var v=$a(s,o,c,p);if(v===null)mm(s,o,p,Ho,c),jd(s,p);else if(rm(v,s,o,c,p))p.stopPropagation();else if(jd(s,p),o&4&&-1<nm.indexOf(s)){for(;v!==null;){var b=Dc(v);if(b!==null&&kd(b),b=$a(s,o,c,p),b===null&&mm(s,o,p,Ho,c),b===v)break;v=b}v!==null&&p.stopPropagation()}else mm(s,o,p,null,c)}}var Ho=null;function $a(s,o,c,p){if(Ho=null,s=gi(p),s=Ko(s),s!==null)if(o=Yr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Fo(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ho=s,null}function bc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ed()){case Uo:return 1;case Is:return 4;case Ir:case yc:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var yr=null,za=null,Jn=null;function _c(){if(Jn)return Jn;var s,o=za,c=o.length,p,v="value"in yr?yr.value:yr.textContent,b=v.length;for(s=0;s<c&&o[s]===v[s];s++);var C=c-s;for(p=1;p<=C&&o[c-p]===v[b-p];p++);return Jn=v.slice(s,1<p?1-p:void 0)}function Wa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function bi(){return!0}function Ec(){return!1}function En(s){function o(c,p,v,b,C){this._reactName=c,this._targetInst=v,this.type=p,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(c=s[L],this[L]=c?c(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bi:Ec,this.isPropagationStopped=Ec,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),o}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=En(ri),_i=ue({},ri,{view:0,detail:0}),sm=En(_i),qa,rs,Fs,qo=ue({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fs&&(Fs&&s.type==="mousemove"?(qa=s.screenX-Fs.screenX,rs=s.screenY-Fs.screenY):rs=qa=0,Fs=s),qa)},movementY:function(s){return"movementY"in s?s.movementY:rs}}),Ga=En(qo),Sc=ue({},qo,{dataTransfer:0}),Vd=En(Sc),Ka=ue({},_i,{relatedTarget:0}),Qa=En(Ka),Od=ue({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),is=En(Od),Md=ue({},ri,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ld=En(Md),Fd=ue({},ri,{data:0}),Tc=En(Fd),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ud[s])?!!o[s]:!1}function Ei(){return Bd}var f=ue({},_i,{key:function(s){if(s.key){var o=Xa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(s){return s.type==="keypress"?Wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=En(f),T=ue({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=En(T),q=ue({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),J=En(q),fe=ue({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=En(fe),cn=ue({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=En(cn),mn=[9,13,27,32],tn=u&&"CompositionEvent"in window,Rr=null;u&&"documentMode"in document&&(Rr=document.documentMode);var vr=u&&"TextEvent"in window&&!Rr,Go=u&&(!tn||Rr&&8<Rr&&11>=Rr),Ya=" ",R1=!1;function D1(s,o){switch(s){case"keyup":return mn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ja=!1;function IN(s,o){switch(s){case"compositionend":return V1(o);case"keypress":return o.which!==32?null:(R1=!0,Ya);case"textInput":return s=o.data,s===Ya&&R1?null:s;default:return null}}function jN(s,o){if(Ja)return s==="compositionend"||!tn&&D1(s,o)?(s=_c(),Jn=za=yr=null,Ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Go&&o.locale!=="ko"?null:o.data;default:return null}}var RN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!RN[s.type]:o==="textarea"}function M1(s,o,c,p){Xn(p),o=qd(o,"onChange"),0<o.length&&(c=new Ha("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var Pc=null,Cc=null;function DN(s){tx(s,0)}function $d(s){var o=rl(s);if(Pt(o))return s}function VN(s,o){if(s==="change")return o}var L1=!1;if(u){var om;if(u){var am="oninput"in document;if(!am){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),am=typeof F1.oninput=="function"}om=am}else om=!1;L1=om&&(!document.documentMode||9<document.documentMode)}function U1(){Pc&&(Pc.detachEvent("onpropertychange",B1),Cc=Pc=null)}function B1(s){if(s.propertyName==="value"&&$d(Cc)){var o=[];M1(o,Cc,s,gi(s)),fc(DN,o)}}function ON(s,o,c){s==="focusin"?(U1(),Pc=o,Cc=c,Pc.attachEvent("onpropertychange",B1)):s==="focusout"&&U1()}function MN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $d(Cc)}function LN(s,o){if(s==="click")return $d(o)}function FN(s,o){if(s==="input"||s==="change")return $d(o)}function UN(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ii=typeof Object.is=="function"?Object.is:UN;function kc(s,o){if(ii(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var v=c[p];if(!h.call(o,v)||!ii(s[v],o[v]))return!1}return!0}function $1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function z1(s,o){var c=$1(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=$1(c)}}function W1(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?W1(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function H1(){for(var s=window,o=st();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=st(s.document)}return o}function lm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function BN(s){var o=H1(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&W1(c.ownerDocument.documentElement,c)){if(p!==null&&lm(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,b=Math.min(p.start,v);p=p.end===void 0?b:Math.min(p.end,v),!s.extend&&b>p&&(v=p,p=b,b=v),v=z1(c,b);var C=z1(c,p);v&&C&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),b>p?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $N=u&&"documentMode"in document&&11>=document.documentMode,Za=null,cm=null,Nc=null,um=!1;function q1(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;um||Za==null||Za!==st(p)||(p=Za,"selectionStart"in p&&lm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Nc&&kc(Nc,p)||(Nc=p,p=qd(cm,"onSelect"),0<p.length&&(o=new Ha("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=Za)))}function zd(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var el={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},dm={},G1={};u&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Wd(s){if(dm[s])return dm[s];if(!el[s])return s;var o=el[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in G1)return dm[s]=o[c];return s}var K1=Wd("animationend"),Q1=Wd("animationiteration"),X1=Wd("animationstart"),Y1=Wd("transitionend"),J1=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(s,o){J1.set(s,o),a(o,[s])}for(var hm=0;hm<Z1.length;hm++){var fm=Z1[hm],zN=fm.toLowerCase(),WN=fm[0].toUpperCase()+fm.slice(1);Us(zN,"on"+WN)}Us(K1,"onAnimationEnd"),Us(Q1,"onAnimationIteration"),Us(X1,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(Y1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function ex(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,wd(p,o,void 0,s),s.currentTarget=null}function tx(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],v=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var C=p.length-1;0<=C;C--){var L=p[C],$=L.instance,Y=L.currentTarget;if(L=L.listener,$!==b&&v.isPropagationStopped())break e;ex(v,L,Y),b=$}else for(C=0;C<p.length;C++){if(L=p[C],$=L.instance,Y=L.currentTarget,L=L.listener,$!==b&&v.isPropagationStopped())break e;ex(v,L,Y),b=$}}}if(Xr)throw s=pc,Xr=!1,pc=null,s}function Et(s,o){var c=o[bm];c===void 0&&(c=o[bm]=new Set);var p=s+"__bubble";c.has(p)||(nx(o,s,2,!1),c.add(p))}function pm(s,o,c){var p=0;o&&(p|=4),nx(c,s,p,o)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function Ic(s){if(!s[Hd]){s[Hd]=!0,r.forEach(function(c){c!=="selectionchange"&&(HN.has(c)||pm(c,!1,s),pm(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Hd]||(o[Hd]=!0,pm("selectionchange",!1,o))}}function nx(s,o,c,p){switch(bc(o)){case 1:var v=kt;break;case 4:v=im;break;default:v=wc}c=v.bind(null,o,c,s),v=void 0,!Da||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function mm(s,o,c,p,v){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var L=p.stateNode.containerInfo;if(L===v||L.nodeType===8&&L.parentNode===v)break;if(C===4)for(C=p.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;C=C.return}for(;L!==null;){if(C=Ko(L),C===null)return;if($=C.tag,$===5||$===6){p=b=C;continue e}L=L.parentNode}}p=p.return}fc(function(){var Y=b,ae=gi(c),ce=[];e:{var se=J1.get(s);if(se!==void 0){var ge=Ha,_e=s;switch(s){case"keypress":if(Wa(c)===0)break e;case"keydown":case"keyup":ge=w;break;case"focusin":_e="focus",ge=Qa;break;case"focusout":_e="blur",ge=Qa;break;case"beforeblur":case"afterblur":ge=Qa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=J;break;case K1:case Q1:case X1:ge=is;break;case Y1:ge=dt;break;case"scroll":ge=sm;break;case"wheel":ge=Ze;break;case"copy":case"cut":case"paste":ge=Ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=I}var Se=(o&4)!==0,Qt=!Se&&s==="scroll",G=Se?se!==null?se+"Capture":null:se;Se=[];for(var W=Y,Q;W!==null;){Q=W;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,G!==null&&(he=Kt(W,G),he!=null&&Se.push(jc(W,he,Q)))),Qt)break;W=W.return}0<Se.length&&(se=new ge(se,_e,null,c,ae),ce.push({event:se,listeners:Se}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",se&&c!==Ji&&(_e=c.relatedTarget||c.fromElement)&&(Ko(_e)||_e[ss]))break e;if((ge||se)&&(se=ae.window===ae?ae:(se=ae.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(_e=c.relatedTarget||c.toElement,ge=Y,_e=_e?Ko(_e):null,_e!==null&&(Qt=Yr(_e),_e!==Qt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=Y),ge!==_e)){if(Se=Ga,he="onMouseLeave",G="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Se=I,he="onPointerLeave",G="onPointerEnter",W="pointer"),Qt=ge==null?se:rl(ge),Q=_e==null?se:rl(_e),se=new Se(he,W+"leave",ge,c,ae),se.target=Qt,se.relatedTarget=Q,he=null,Ko(ae)===Y&&(Se=new Se(G,W+"enter",_e,c,ae),Se.target=Q,Se.relatedTarget=Qt,he=Se),Qt=he,ge&&_e)t:{for(Se=ge,G=_e,W=0,Q=Se;Q;Q=tl(Q))W++;for(Q=0,he=G;he;he=tl(he))Q++;for(;0<W-Q;)Se=tl(Se),W--;for(;0<Q-W;)G=tl(G),Q--;for(;W--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=tl(Se),G=tl(G)}Se=null}else Se=null;ge!==null&&rx(ce,se,ge,Se,!1),_e!==null&&Qt!==null&&rx(ce,Qt,_e,Se,!0)}}e:{if(se=Y?rl(Y):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var Te=VN;else if(O1(se))if(L1)Te=FN;else{Te=MN;var je=ON}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=LN);if(Te&&(Te=Te(s,Y))){M1(ce,Te,c,ae);break e}je&&je(s,se,Y),s==="focusout"&&(je=se._wrapperState)&&je.controlled&&se.type==="number"&&qe(se,"number",se.value)}switch(je=Y?rl(Y):window,s){case"focusin":(O1(je)||je.contentEditable==="true")&&(Za=je,cm=Y,Nc=null);break;case"focusout":Nc=cm=Za=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,q1(ce,c,ae);break;case"selectionchange":if($N)break;case"keydown":case"keyup":q1(ce,c,ae)}var Re;if(tn)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ja?D1(s,c)&&(Fe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(Go&&c.locale!=="ko"&&(Ja||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ja&&(Re=_c()):(yr=ae,za="value"in yr?yr.value:yr.textContent,Ja=!0)),je=qd(Y,Fe),0<je.length&&(Fe=new Tc(Fe,s,null,c,ae),ce.push({event:Fe,listeners:je}),Re?Fe.data=Re:(Re=V1(c),Re!==null&&(Fe.data=Re)))),(Re=vr?IN(s,c):jN(s,c))&&(Y=qd(Y,"onBeforeInput"),0<Y.length&&(ae=new Tc("onBeforeInput","beforeinput",null,c,ae),ce.push({event:ae,listeners:Y}),ae.data=Re))}tx(ce,o)})}function jc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function qd(s,o){for(var c=o+"Capture",p=[];s!==null;){var v=s,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Kt(s,c),b!=null&&p.unshift(jc(s,b,v)),b=Kt(s,o),b!=null&&p.push(jc(s,b,v))),s=s.return}return p}function tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rx(s,o,c,p,v){for(var b=o._reactName,C=[];c!==null&&c!==p;){var L=c,$=L.alternate,Y=L.stateNode;if($!==null&&$===p)break;L.tag===5&&Y!==null&&(L=Y,v?($=Kt(c,b),$!=null&&C.unshift(jc(c,$,L))):v||($=Kt(c,b),$!=null&&C.push(jc(c,$,L)))),c=c.return}C.length!==0&&s.push({event:o,listeners:C})}var qN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function ix(s){return(typeof s=="string"?s:""+s).replace(qN,`
`).replace(GN,"")}function Gd(s,o,c){if(o=ix(o),ix(s)!==o&&c)throw Error(n(425))}function Kd(){}var gm=null,ym=null;function vm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(s){return sx.resolve(null).then(s).catch(XN)}:xm;function XN(s){setTimeout(function(){throw s})}function wm(s,o){var c=o,p=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(p===0){s.removeChild(v),ni(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=v}while(c);ni(o)}function Bs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function ox(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Si="__reactFiber$"+nl,Rc="__reactProps$"+nl,ss="__reactContainer$"+nl,bm="__reactEvents$"+nl,YN="__reactListeners$"+nl,JN="__reactHandles$"+nl;function Ko(s){var o=s[Si];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ss]||c[Si]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=ox(s);s!==null;){if(c=s[Si])return c;s=ox(s)}return o}s=c,c=s.parentNode}return null}function Dc(s){return s=s[Si]||s[ss],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function rl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Qd(s){return s[Rc]||null}var _m=[],il=-1;function $s(s){return{current:s}}function St(s){0>il||(s.current=_m[il],_m[il]=null,il--)}function wt(s,o){il++,_m[il]=s.current,s.current=o}var zs={},In=$s(zs),Zn=$s(!1),Qo=zs;function sl(s,o){var c=s.type.contextTypes;if(!c)return zs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in c)v[b]=o[b];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function er(s){return s=s.childContextTypes,s!=null}function Xd(){St(Zn),St(In)}function ax(s,o,c){if(In.current!==zs)throw Error(n(168));wt(In,o),wt(Zn,c)}function lx(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(n(108,Ie(s)||"Unknown",v));return ue({},c,p)}function Yd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zs,Qo=In.current,wt(In,s),wt(Zn,Zn.current),!0}function cx(s,o,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=lx(s,o,Qo),p.__reactInternalMemoizedMergedChildContext=s,St(Zn),St(In),wt(In,s)):St(Zn),wt(Zn,c)}var os=null,Jd=!1,Em=!1;function ux(s){os===null?os=[s]:os.push(s)}function ZN(s){Jd=!0,ux(s)}function Ws(){if(!Em&&os!==null){Em=!0;var s=0,o=Je;try{var c=os;for(Je=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}os=null,Jd=!1}catch(v){throw os!==null&&(os=os.slice(s+1)),La(Uo,Ws),v}finally{Je=o,Em=!1}}return null}var ol=[],al=0,Zd=null,eh=0,Dr=[],Vr=0,Xo=null,as=1,ls="";function Yo(s,o){ol[al++]=eh,ol[al++]=Zd,Zd=s,eh=o}function dx(s,o,c){Dr[Vr++]=as,Dr[Vr++]=ls,Dr[Vr++]=Xo,Xo=s;var p=as;s=ls;var v=32-$n(p)-1;p&=~(1<<v),c+=1;var b=32-$n(o)+v;if(30<b){var C=v-v%5;b=(p&(1<<C)-1).toString(32),p>>=C,v-=C,as=1<<32-$n(o)+v|c<<v|p,ls=b+s}else as=1<<b|c<<v|p,ls=s}function Sm(s){s.return!==null&&(Yo(s,1),dx(s,1,0))}function Tm(s){for(;s===Zd;)Zd=ol[--al],ol[al]=null,eh=ol[--al],ol[al]=null;for(;s===Xo;)Xo=Dr[--Vr],Dr[Vr]=null,ls=Dr[--Vr],Dr[Vr]=null,as=Dr[--Vr],Dr[Vr]=null}var xr=null,wr=null,Nt=!1,si=null;function hx(s,o){var c=Fr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function fx(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,xr=s,wr=Bs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,xr=s,wr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Xo!==null?{id:as,overflow:ls}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Fr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,xr=s,wr=null,!0):!1;default:return!1}}function Pm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cm(s){if(Nt){var o=wr;if(o){var c=o;if(!fx(s,o)){if(Pm(s))throw Error(n(418));o=Bs(c.nextSibling);var p=xr;o&&fx(s,o)?hx(p,c):(s.flags=s.flags&-4097|2,Nt=!1,xr=s)}}else{if(Pm(s))throw Error(n(418));s.flags=s.flags&-4097|2,Nt=!1,xr=s}}}function px(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xr=s}function th(s){if(s!==xr)return!1;if(!Nt)return px(s),Nt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!vm(s.type,s.memoizedProps)),o&&(o=wr)){if(Pm(s))throw mx(),Error(n(418));for(;o;)hx(s,o),o=Bs(o.nextSibling)}if(px(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){wr=Bs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}wr=null}}else wr=xr?Bs(s.stateNode.nextSibling):null;return!0}function mx(){for(var s=wr;s;)s=Bs(s.nextSibling)}function ll(){wr=xr=null,Nt=!1}function km(s){si===null?si=[s]:si.push(s)}var eA=B.ReactCurrentBatchConfig;function Vc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var v=p,b=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(C){var L=v.refs;C===null?delete L[b]:L[b]=C},o._stringRef=b,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function nh(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function gx(s){var o=s._init;return o(s._payload)}function yx(s){function o(G,W){if(s){var Q=G.deletions;Q===null?(G.deletions=[W],G.flags|=16):Q.push(W)}}function c(G,W){if(!s)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function p(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function v(G,W){return G=Js(G,W),G.index=0,G.sibling=null,G}function b(G,W,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<W?(G.flags|=2,W):Q):(G.flags|=2,W)):(G.flags|=1048576,W)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function L(G,W,Q,he){return W===null||W.tag!==6?(W=xg(Q,G.mode,he),W.return=G,W):(W=v(W,Q),W.return=G,W)}function $(G,W,Q,he){var Te=Q.type;return Te===R?ae(G,W,Q.props.children,he,Q.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ae&&gx(Te)===W.type)?(he=v(W,Q.props),he.ref=Vc(G,W,Q),he.return=G,he):(he=Ph(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=Vc(G,W,Q),he.return=G,he)}function Y(G,W,Q,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=wg(Q,G.mode,he),W.return=G,W):(W=v(W,Q.children||[]),W.return=G,W)}function ae(G,W,Q,he,Te){return W===null||W.tag!==7?(W=sa(Q,G.mode,he,Te),W.return=G,W):(W=v(W,Q),W.return=G,W)}function ce(G,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=xg(""+W,G.mode,Q),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case K:return Q=Ph(W.type,W.key,W.props,null,G.mode,Q),Q.ref=Vc(G,null,W),Q.return=G,Q;case X:return W=wg(W,G.mode,Q),W.return=G,W;case Ae:var he=W._init;return ce(G,he(W._payload),Q)}if(tt(W)||pe(W))return W=sa(W,G.mode,Q,null),W.return=G,W;nh(G,W)}return null}function se(G,W,Q,he){var Te=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:L(G,W,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return Q.key===Te?$(G,W,Q,he):null;case X:return Q.key===Te?Y(G,W,Q,he):null;case Ae:return Te=Q._init,se(G,W,Te(Q._payload),he)}if(tt(Q)||pe(Q))return Te!==null?null:ae(G,W,Q,he,null);nh(G,Q)}return null}function ge(G,W,Q,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return G=G.get(Q)||null,L(W,G,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case K:return G=G.get(he.key===null?Q:he.key)||null,$(W,G,he,Te);case X:return G=G.get(he.key===null?Q:he.key)||null,Y(W,G,he,Te);case Ae:var je=he._init;return ge(G,W,Q,je(he._payload),Te)}if(tt(he)||pe(he))return G=G.get(Q)||null,ae(W,G,he,Te,null);nh(W,he)}return null}function _e(G,W,Q,he){for(var Te=null,je=null,Re=W,Fe=W=0,vn=null;Re!==null&&Fe<Q.length;Fe++){Re.index>Fe?(vn=Re,Re=null):vn=Re.sibling;var ot=se(G,Re,Q[Fe],he);if(ot===null){Re===null&&(Re=vn);break}s&&Re&&ot.alternate===null&&o(G,Re),W=b(ot,W,Fe),je===null?Te=ot:je.sibling=ot,je=ot,Re=vn}if(Fe===Q.length)return c(G,Re),Nt&&Yo(G,Fe),Te;if(Re===null){for(;Fe<Q.length;Fe++)Re=ce(G,Q[Fe],he),Re!==null&&(W=b(Re,W,Fe),je===null?Te=Re:je.sibling=Re,je=Re);return Nt&&Yo(G,Fe),Te}for(Re=p(G,Re);Fe<Q.length;Fe++)vn=ge(Re,G,Fe,Q[Fe],he),vn!==null&&(s&&vn.alternate!==null&&Re.delete(vn.key===null?Fe:vn.key),W=b(vn,W,Fe),je===null?Te=vn:je.sibling=vn,je=vn);return s&&Re.forEach(function(Zs){return o(G,Zs)}),Nt&&Yo(G,Fe),Te}function Se(G,W,Q,he){var Te=pe(Q);if(typeof Te!="function")throw Error(n(150));if(Q=Te.call(Q),Q==null)throw Error(n(151));for(var je=Te=null,Re=W,Fe=W=0,vn=null,ot=Q.next();Re!==null&&!ot.done;Fe++,ot=Q.next()){Re.index>Fe?(vn=Re,Re=null):vn=Re.sibling;var Zs=se(G,Re,ot.value,he);if(Zs===null){Re===null&&(Re=vn);break}s&&Re&&Zs.alternate===null&&o(G,Re),W=b(Zs,W,Fe),je===null?Te=Zs:je.sibling=Zs,je=Zs,Re=vn}if(ot.done)return c(G,Re),Nt&&Yo(G,Fe),Te;if(Re===null){for(;!ot.done;Fe++,ot=Q.next())ot=ce(G,ot.value,he),ot!==null&&(W=b(ot,W,Fe),je===null?Te=ot:je.sibling=ot,je=ot);return Nt&&Yo(G,Fe),Te}for(Re=p(G,Re);!ot.done;Fe++,ot=Q.next())ot=ge(Re,G,Fe,ot.value,he),ot!==null&&(s&&ot.alternate!==null&&Re.delete(ot.key===null?Fe:ot.key),W=b(ot,W,Fe),je===null?Te=ot:je.sibling=ot,je=ot);return s&&Re.forEach(function(RA){return o(G,RA)}),Nt&&Yo(G,Fe),Te}function Qt(G,W,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:e:{for(var Te=Q.key,je=W;je!==null;){if(je.key===Te){if(Te=Q.type,Te===R){if(je.tag===7){c(G,je.sibling),W=v(je,Q.props.children),W.return=G,G=W;break e}}else if(je.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ae&&gx(Te)===je.type){c(G,je.sibling),W=v(je,Q.props),W.ref=Vc(G,je,Q),W.return=G,G=W;break e}c(G,je);break}else o(G,je);je=je.sibling}Q.type===R?(W=sa(Q.props.children,G.mode,he,Q.key),W.return=G,G=W):(he=Ph(Q.type,Q.key,Q.props,null,G.mode,he),he.ref=Vc(G,W,Q),he.return=G,G=he)}return C(G);case X:e:{for(je=Q.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){c(G,W.sibling),W=v(W,Q.children||[]),W.return=G,G=W;break e}else{c(G,W);break}else o(G,W);W=W.sibling}W=wg(Q,G.mode,he),W.return=G,G=W}return C(G);case Ae:return je=Q._init,Qt(G,W,je(Q._payload),he)}if(tt(Q))return _e(G,W,Q,he);if(pe(Q))return Se(G,W,Q,he);nh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(c(G,W.sibling),W=v(W,Q),W.return=G,G=W):(c(G,W),W=xg(Q,G.mode,he),W.return=G,G=W),C(G)):c(G,W)}return Qt}var cl=yx(!0),vx=yx(!1),rh=$s(null),ih=null,ul=null,Nm=null;function Am(){Nm=ul=ih=null}function Im(s){var o=rh.current;St(rh),s._currentValue=o}function jm(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function dl(s,o){ih=s,Nm=ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(tr=!0),s.firstContext=null)}function Or(s){var o=s._currentValue;if(Nm!==s)if(s={context:s,memoizedValue:o,next:null},ul===null){if(ih===null)throw Error(n(308));ul=s,ih.dependencies={lanes:0,firstContext:s}}else ul=ul.next=s;return o}var Jo=null;function Rm(s){Jo===null?Jo=[s]:Jo.push(s)}function xx(s,o,c,p){var v=o.interleaved;return v===null?(c.next=c,Rm(o)):(c.next=v.next,v.next=c),o.interleaved=c,cs(s,p)}function cs(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Hs=!1;function Dm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wx(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function us(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(nt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,cs(s,c)}return v=p.interleaved,v===null?(o.next=o,Rm(p)):(o.next=v.next,v.next=o),p.interleaved=o,cs(s,c)}function sh(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}function bx(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?v=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?v=b=o:b=b.next=o}else v=b=o;c={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function oh(s,o,c,p){var v=s.updateQueue;Hs=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var $=L,Y=$.next;$.next=null,C===null?b=Y:C.next=Y,C=$;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==C&&(L===null?ae.firstBaseUpdate=Y:L.next=Y,ae.lastBaseUpdate=$))}if(b!==null){var ce=v.baseState;C=0,ae=Y=$=null,L=b;do{var se=L.lane,ge=L.eventTime;if((p&se)===se){ae!==null&&(ae=ae.next={eventTime:ge,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var _e=s,Se=L;switch(se=o,ge=c,Se.tag){case 1:if(_e=Se.payload,typeof _e=="function"){ce=_e.call(ge,ce,se);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Se.payload,se=typeof _e=="function"?_e.call(ge,ce,se):_e,se==null)break e;ce=ue({},ce,se);break e;case 2:Hs=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,se=v.effects,se===null?v.effects=[L]:se.push(L))}else ge={eventTime:ge,lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(Y=ae=ge,$=ce):ae=ae.next=ge,C|=se;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;se=L,L=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(ae===null&&($=ce),v.baseState=$,v.firstBaseUpdate=Y,v.lastBaseUpdate=ae,o=v.shared.interleaved,o!==null){v=o;do C|=v.lane,v=v.next;while(v!==o)}else b===null&&(v.shared.lanes=0);ta|=C,s.lanes=C,s.memoizedState=ce}}function _x(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],v=p.callback;if(v!==null){if(p.callback=null,p=c,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var Oc={},Ti=$s(Oc),Mc=$s(Oc),Lc=$s(Oc);function Zo(s){if(s===Oc)throw Error(n(174));return s}function Vm(s,o){switch(wt(Lc,o),wt(Mc,s),wt(Ti,Oc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ie(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=ie(o,s)}St(Ti),wt(Ti,o)}function hl(){St(Ti),St(Mc),St(Lc)}function Ex(s){Zo(Lc.current);var o=Zo(Ti.current),c=ie(o,s.type);o!==c&&(wt(Mc,s),wt(Ti,c))}function Om(s){Mc.current===s&&(St(Ti),St(Mc))}var Rt=$s(0);function ah(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Mm=[];function Lm(){for(var s=0;s<Mm.length;s++)Mm[s]._workInProgressVersionPrimary=null;Mm.length=0}var lh=B.ReactCurrentDispatcher,Fm=B.ReactCurrentBatchConfig,ea=0,Dt=null,un=null,gn=null,ch=!1,Fc=!1,Uc=0,tA=0;function jn(){throw Error(n(321))}function Um(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!ii(s[c],o[c]))return!1;return!0}function Bm(s,o,c,p,v,b){if(ea=b,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,lh.current=s===null||s.memoizedState===null?sA:oA,s=c(p,v),Fc){b=0;do{if(Fc=!1,Uc=0,25<=b)throw Error(n(301));b+=1,gn=un=null,o.updateQueue=null,lh.current=aA,s=c(p,v)}while(Fc)}if(lh.current=hh,o=un!==null&&un.next!==null,ea=0,gn=un=Dt=null,ch=!1,o)throw Error(n(300));return s}function $m(){var s=Uc!==0;return Uc=0,s}function Pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Dt.memoizedState=gn=s:gn=gn.next=s,gn}function Mr(){if(un===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var o=gn===null?Dt.memoizedState:gn.next;if(o!==null)gn=o,un=s;else{if(s===null)throw Error(n(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gn===null?Dt.memoizedState=gn=s:gn=gn.next=s}return gn}function Bc(s,o){return typeof o=="function"?o(s):o}function zm(s){var o=Mr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=un,v=p.baseQueue,b=c.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}p.baseQueue=v=b,c.pending=null}if(v!==null){b=v.next,p=p.baseState;var L=C=null,$=null,Y=b;do{var ae=Y.lane;if((ea&ae)===ae)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ce={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(L=$=ce,C=p):$=$.next=ce,Dt.lanes|=ae,ta|=ae}Y=Y.next}while(Y!==null&&Y!==b);$===null?C=p:$.next=L,ii(p,o.memoizedState)||(tr=!0),o.memoizedState=p,o.baseState=C,o.baseQueue=$,c.lastRenderedState=p}if(s=c.interleaved,s!==null){v=s;do b=v.lane,Dt.lanes|=b,ta|=b,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Wm(s){var o=Mr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,v=c.pending,b=o.memoizedState;if(v!==null){c.pending=null;var C=v=v.next;do b=s(b,C.action),C=C.next;while(C!==v);ii(b,o.memoizedState)||(tr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function Sx(){}function Tx(s,o){var c=Dt,p=Mr(),v=o(),b=!ii(p.memoizedState,v);if(b&&(p.memoizedState=v,tr=!0),p=p.queue,Hm(kx.bind(null,c,p,s),[s]),p.getSnapshot!==o||b||gn!==null&&gn.memoizedState.tag&1){if(c.flags|=2048,$c(9,Cx.bind(null,c,p,v,o),void 0,null),yn===null)throw Error(n(349));(ea&30)!==0||Px(c,o,v)}return v}function Px(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Cx(s,o,c,p){o.value=c,o.getSnapshot=p,Nx(o)&&Ax(s)}function kx(s,o,c){return c(function(){Nx(o)&&Ax(s)})}function Nx(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!ii(s,c)}catch{return!0}}function Ax(s){var o=cs(s,1);o!==null&&ci(o,s,1,-1)}function Ix(s){var o=Pi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:s},o.queue=s,s=s.dispatch=iA.bind(null,Dt,s),[o.memoizedState,s]}function $c(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function jx(){return Mr().memoizedState}function uh(s,o,c,p){var v=Pi();Dt.flags|=s,v.memoizedState=$c(1|o,c,void 0,p===void 0?null:p)}function dh(s,o,c,p){var v=Mr();p=p===void 0?null:p;var b=void 0;if(un!==null){var C=un.memoizedState;if(b=C.destroy,p!==null&&Um(p,C.deps)){v.memoizedState=$c(o,c,b,p);return}}Dt.flags|=s,v.memoizedState=$c(1|o,c,b,p)}function Rx(s,o){return uh(8390656,8,s,o)}function Hm(s,o){return dh(2048,8,s,o)}function Dx(s,o){return dh(4,2,s,o)}function Vx(s,o){return dh(4,4,s,o)}function Ox(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Mx(s,o,c){return c=c!=null?c.concat([s]):null,dh(4,4,Ox.bind(null,o,s),c)}function qm(){}function Lx(s,o){var c=Mr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Um(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function Fx(s,o){var c=Mr();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Um(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function Ux(s,o,c){return(ea&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=c):(ii(c,o)||(c=zo(),Dt.lanes|=c,ta|=c,s.baseState=!0),o)}function nA(s,o){var c=Je;Je=c!==0&&4>c?c:4,s(!0);var p=Fm.transition;Fm.transition={};try{s(!1),o()}finally{Je=c,Fm.transition=p}}function Bx(){return Mr().memoizedState}function rA(s,o,c){var p=Xs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},$x(s))zx(o,c);else if(c=xx(s,o,c,p),c!==null){var v=Hn();ci(c,s,p,v),Wx(c,o,p)}}function iA(s,o,c){var p=Xs(s),v={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if($x(s))zx(o,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,L=b(C,c);if(v.hasEagerState=!0,v.eagerState=L,ii(L,C)){var $=o.interleaved;$===null?(v.next=v,Rm(o)):(v.next=$.next,$.next=v),o.interleaved=v;return}}catch{}finally{}c=xx(s,o,v,p),c!==null&&(v=Hn(),ci(c,s,p,v),Wx(c,o,p))}}function $x(s){var o=s.alternate;return s===Dt||o!==null&&o===Dt}function zx(s,o){Fc=ch=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Wx(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}var hh={readContext:Or,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},sA={readContext:Or,useCallback:function(s,o){return Pi().memoizedState=[s,o===void 0?null:o],s},useContext:Or,useEffect:Rx,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,uh(4194308,4,Ox.bind(null,o,s),c)},useLayoutEffect:function(s,o){return uh(4194308,4,s,o)},useInsertionEffect:function(s,o){return uh(4,2,s,o)},useMemo:function(s,o){var c=Pi();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Pi();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=rA.bind(null,Dt,s),[p.memoizedState,s]},useRef:function(s){var o=Pi();return s={current:s},o.memoizedState=s},useState:Ix,useDebugValue:qm,useDeferredValue:function(s){return Pi().memoizedState=s},useTransition:function(){var s=Ix(!1),o=s[0];return s=nA.bind(null,s[1]),Pi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=Dt,v=Pi();if(Nt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),yn===null)throw Error(n(349));(ea&30)!==0||Px(p,o,c)}v.memoizedState=c;var b={value:c,getSnapshot:o};return v.queue=b,Rx(kx.bind(null,p,b,s),[s]),p.flags|=2048,$c(9,Cx.bind(null,p,b,c,o),void 0,null),c},useId:function(){var s=Pi(),o=yn.identifierPrefix;if(Nt){var c=ls,p=as;c=(p&~(1<<32-$n(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=Uc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=tA++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},oA={readContext:Or,useCallback:Lx,useContext:Or,useEffect:Hm,useImperativeHandle:Mx,useInsertionEffect:Dx,useLayoutEffect:Vx,useMemo:Fx,useReducer:zm,useRef:jx,useState:function(){return zm(Bc)},useDebugValue:qm,useDeferredValue:function(s){var o=Mr();return Ux(o,un.memoizedState,s)},useTransition:function(){var s=zm(Bc)[0],o=Mr().memoizedState;return[s,o]},useMutableSource:Sx,useSyncExternalStore:Tx,useId:Bx,unstable_isNewReconciler:!1},aA={readContext:Or,useCallback:Lx,useContext:Or,useEffect:Hm,useImperativeHandle:Mx,useInsertionEffect:Dx,useLayoutEffect:Vx,useMemo:Fx,useReducer:Wm,useRef:jx,useState:function(){return Wm(Bc)},useDebugValue:qm,useDeferredValue:function(s){var o=Mr();return un===null?o.memoizedState=s:Ux(o,un.memoizedState,s)},useTransition:function(){var s=Wm(Bc)[0],o=Mr().memoizedState;return[s,o]},useMutableSource:Sx,useSyncExternalStore:Tx,useId:Bx,unstable_isNewReconciler:!1};function oi(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Gm(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var fh={isMounted:function(s){return(s=s._reactInternals)?Yr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=Hn(),v=Xs(s),b=us(p,v);b.payload=o,c!=null&&(b.callback=c),o=qs(s,b,v),o!==null&&(ci(o,s,v,p),sh(o,s,v))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=Hn(),v=Xs(s),b=us(p,v);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=qs(s,b,v),o!==null&&(ci(o,s,v,p),sh(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Hn(),p=Xs(s),v=us(c,p);v.tag=2,o!=null&&(v.callback=o),o=qs(s,v,p),o!==null&&(ci(o,s,p,c),sh(o,s,p))}};function Hx(s,o,c,p,v,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,b,C):o.prototype&&o.prototype.isPureReactComponent?!kc(c,p)||!kc(v,b):!0}function qx(s,o,c){var p=!1,v=zs,b=o.contextType;return typeof b=="object"&&b!==null?b=Or(b):(v=er(o)?Qo:In.current,p=o.contextTypes,b=(p=p!=null)?sl(s,v):zs),o=new o(c,b),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fh,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=b),o}function Gx(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&fh.enqueueReplaceState(o,o.state,null)}function Km(s,o,c,p){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},Dm(s);var b=o.contextType;typeof b=="object"&&b!==null?v.context=Or(b):(b=er(o)?Qo:In.current,v.context=sl(s,b)),v.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Gm(s,o,b,c),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&fh.enqueueReplaceState(v,v.state,null),oh(s,c,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function fl(s,o){try{var c="",p=o;do c+=Ce(p),p=p.return;while(p);var v=c}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:o,stack:v,digest:null}}function Qm(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Xm(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var lA=typeof WeakMap=="function"?WeakMap:Map;function Kx(s,o,c){c=us(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){wh||(wh=!0,dg=p),Xm(s,o)},c}function Qx(s,o,c){c=us(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;c.payload=function(){return p(v)},c.callback=function(){Xm(s,o)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){Xm(s,o),typeof p!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function Xx(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new lA;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(c)||(v.add(c),s=_A.bind(null,s,o,c),o.then(s,s))}function Yx(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Jx(s,o,c,p,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=us(-1,1),o.tag=2,qs(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var cA=B.ReactCurrentOwner,tr=!1;function Wn(s,o,c,p){o.child=s===null?vx(o,null,c,p):cl(o,s.child,c,p)}function Zx(s,o,c,p,v){c=c.render;var b=o.ref;return dl(o,v),p=Bm(s,o,c,p,b,v),c=$m(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ds(s,o,v)):(Nt&&c&&Sm(o),o.flags|=1,Wn(s,o,p,v),o.child)}function ew(s,o,c,p,v){if(s===null){var b=c.type;return typeof b=="function"&&!vg(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=b,tw(s,o,b,p,v)):(s=Ph(c.type,null,p,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,(s.lanes&v)===0){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:kc,c(C,p)&&s.ref===o.ref)return ds(s,o,v)}return o.flags|=1,s=Js(b,p),s.ref=o.ref,s.return=o,o.child=s}function tw(s,o,c,p,v){if(s!==null){var b=s.memoizedProps;if(kc(b,p)&&s.ref===o.ref)if(tr=!1,o.pendingProps=p=b,(s.lanes&v)!==0)(s.flags&131072)!==0&&(tr=!0);else return o.lanes=s.lanes,ds(s,o,v)}return Ym(s,o,c,p,v)}function nw(s,o,c){var p=o.pendingProps,v=p.children,b=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ml,br),br|=c;else{if((c&1073741824)===0)return s=b!==null?b.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,wt(ml,br),br|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:c,wt(ml,br),br|=p}else b!==null?(p=b.baseLanes|c,o.memoizedState=null):p=c,wt(ml,br),br|=p;return Wn(s,o,v,c),o.child}function rw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Ym(s,o,c,p,v){var b=er(c)?Qo:In.current;return b=sl(o,b),dl(o,v),c=Bm(s,o,c,p,b,v),p=$m(),s!==null&&!tr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,ds(s,o,v)):(Nt&&p&&Sm(o),o.flags|=1,Wn(s,o,c,v),o.child)}function iw(s,o,c,p,v){if(er(c)){var b=!0;Yd(o)}else b=!1;if(dl(o,v),o.stateNode===null)mh(s,o),qx(o,c,p),Km(o,c,p,v),p=!0;else if(s===null){var C=o.stateNode,L=o.memoizedProps;C.props=L;var $=C.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Or(Y):(Y=er(c)?Qo:In.current,Y=sl(o,Y));var ae=c.getDerivedStateFromProps,ce=typeof ae=="function"||typeof C.getSnapshotBeforeUpdate=="function";ce||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==p||$!==Y)&&Gx(o,C,p,Y),Hs=!1;var se=o.memoizedState;C.state=se,oh(o,p,C,v),$=o.memoizedState,L!==p||se!==$||Zn.current||Hs?(typeof ae=="function"&&(Gm(o,c,ae,p),$=o.memoizedState),(L=Hs||Hx(o,c,L,p,se,$,Y))?(ce||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=$),C.props=p,C.state=$,C.context=Y,p=L):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,wx(s,o),L=o.memoizedProps,Y=o.type===o.elementType?L:oi(o.type,L),C.props=Y,ce=o.pendingProps,se=C.context,$=c.contextType,typeof $=="object"&&$!==null?$=Or($):($=er(c)?Qo:In.current,$=sl(o,$));var ge=c.getDerivedStateFromProps;(ae=typeof ge=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==ce||se!==$)&&Gx(o,C,p,$),Hs=!1,se=o.memoizedState,C.state=se,oh(o,p,C,v);var _e=o.memoizedState;L!==ce||se!==_e||Zn.current||Hs?(typeof ge=="function"&&(Gm(o,c,ge,p),_e=o.memoizedState),(Y=Hs||Hx(o,c,Y,p,se,_e,$)||!1)?(ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,_e,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,_e,$)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=_e),C.props=p,C.state=_e,C.context=$,p=Y):(typeof C.componentDidUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),p=!1)}return Jm(s,o,c,p,b,v)}function Jm(s,o,c,p,v,b){rw(s,o);var C=(o.flags&128)!==0;if(!p&&!C)return v&&cx(o,c,!1),ds(s,o,b);p=o.stateNode,cA.current=o;var L=C&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&C?(o.child=cl(o,s.child,null,b),o.child=cl(o,null,L,b)):Wn(s,o,L,b),o.memoizedState=p.state,v&&cx(o,c,!0),o.child}function sw(s){var o=s.stateNode;o.pendingContext?ax(s,o.pendingContext,o.pendingContext!==o.context):o.context&&ax(s,o.context,!1),Vm(s,o.containerInfo)}function ow(s,o,c,p,v){return ll(),km(v),o.flags|=256,Wn(s,o,c,p),o.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function eg(s){return{baseLanes:s,cachePool:null,transitions:null}}function aw(s,o,c){var p=o.pendingProps,v=Rt.current,b=!1,C=(o.flags&128)!==0,L;if((L=C)||(L=s!==null&&s.memoizedState===null?!1:(v&2)!==0),L?(b=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),wt(Rt,v&1),s===null)return Cm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=p.children,s=p.fallback,b?(p=o.mode,b=o.child,C={mode:"hidden",children:C},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=C):b=Ch(C,p,0,null),s=sa(s,p,c,null),b.return=o,s.return=o,b.sibling=s,o.child=b,o.child.memoizedState=eg(c),o.memoizedState=Zm,s):tg(o,C));if(v=s.memoizedState,v!==null&&(L=v.dehydrated,L!==null))return uA(s,o,C,p,L,v,c);if(b){b=p.fallback,C=o.mode,v=s.child,L=v.sibling;var $={mode:"hidden",children:p.children};return(C&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=$,o.deletions=null):(p=Js(v,$),p.subtreeFlags=v.subtreeFlags&14680064),L!==null?b=Js(L,b):(b=sa(b,C,c,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,C=s.child.memoizedState,C=C===null?eg(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},b.memoizedState=C,b.childLanes=s.childLanes&~c,o.memoizedState=Zm,p}return b=s.child,s=b.sibling,p=Js(b,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function tg(s,o){return o=Ch({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ph(s,o,c,p){return p!==null&&km(p),cl(o,s.child,null,c),s=tg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function uA(s,o,c,p,v,b,C){if(c)return o.flags&256?(o.flags&=-257,p=Qm(Error(n(422))),ph(s,o,C,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(b=p.fallback,v=o.mode,p=Ch({mode:"visible",children:p.children},v,0,null),b=sa(b,v,C,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,(o.mode&1)!==0&&cl(o,s.child,null,C),o.child.memoizedState=eg(C),o.memoizedState=Zm,b);if((o.mode&1)===0)return ph(s,o,C,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var L=p.dgst;return p=L,b=Error(n(419)),p=Qm(b,p,void 0),ph(s,o,C,p)}if(L=(C&s.childLanes)!==0,tr||L){if(p=yn,p!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|C))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,cs(s,v),ci(p,s,v,-1))}return yg(),p=Qm(Error(n(421))),ph(s,o,C,p)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=EA.bind(null,s),v._reactRetry=o,null):(s=b.treeContext,wr=Bs(v.nextSibling),xr=o,Nt=!0,si=null,s!==null&&(Dr[Vr++]=as,Dr[Vr++]=ls,Dr[Vr++]=Xo,as=s.id,ls=s.overflow,Xo=o),o=tg(o,p.children),o.flags|=4096,o)}function lw(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),jm(s.return,o,c)}function ng(s,o,c,p,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:v}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=v)}function cw(s,o,c){var p=o.pendingProps,v=p.revealOrder,b=p.tail;if(Wn(s,o,p.children,c),p=Rt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lw(s,c,o);else if(s.tag===19)lw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(wt(Rt,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&ah(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),ng(o,!1,v,c,b);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&ah(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}ng(o,!0,c,null,b);break;case"together":ng(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function mh(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ds(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ta|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=Js(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Js(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function dA(s,o,c){switch(o.tag){case 3:sw(o),ll();break;case 5:Ex(o);break;case 1:er(o.type)&&Yd(o);break;case 4:Vm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;wt(rh,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(wt(Rt,Rt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?aw(s,o,c):(wt(Rt,Rt.current&1),s=ds(s,o,c),s!==null?s.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return cw(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),wt(Rt,Rt.current),p)break;return null;case 22:case 23:return o.lanes=0,nw(s,o,c)}return ds(s,o,c)}var uw,rg,dw,hw;uw=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},rg=function(){},dw=function(s,o,c,p){var v=s.memoizedProps;if(v!==p){s=o.stateNode,Zo(Ti.current);var b=null;switch(c){case"input":v=en(s,v),p=en(s,p),b=[];break;case"select":v=ue({},v,{value:void 0}),p=ue({},p,{value:void 0}),b=[];break;case"textarea":v=yt(s,v),p=yt(s,p),b=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Kd)}Oo(c,p);var C;c=null;for(Y in v)if(!p.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var L=v[Y];for(C in L)L.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?b||(b=[]):(b=b||[]).push(Y,null));for(Y in p){var $=p[Y];if(L=v!=null?v[Y]:void 0,p.hasOwnProperty(Y)&&$!==L&&($!=null||L!=null))if(Y==="style")if(L){for(C in L)!L.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in $)$.hasOwnProperty(C)&&L[C]!==$[C]&&(c||(c={}),c[C]=$[C])}else c||(b||(b=[]),b.push(Y,c)),c=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,L=L?L.__html:void 0,$!=null&&L!==$&&(b=b||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(b=b||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&Et("scroll",s),b||L===$||(b=[])):(b=b||[]).push(Y,$))}c&&(b=b||[]).push("style",c);var Y=b;(o.updateQueue=Y)&&(o.flags|=4)}},hw=function(s,o,c,p){c!==p&&(o.flags|=4)};function zc(s,o){if(!Nt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Rn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function hA(s,o,c){var p=o.pendingProps;switch(Tm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(o),null;case 1:return er(o.type)&&Xd(),Rn(o),null;case 3:return p=o.stateNode,hl(),St(Zn),St(In),Lm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(th(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,si!==null&&(pg(si),si=null))),rg(s,o),Rn(o),null;case 5:Om(o);var v=Zo(Lc.current);if(c=o.type,s!==null&&o.stateNode!=null)dw(s,o,c,p,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Rn(o),null}if(s=Zo(Ti.current),th(o)){p=o.stateNode,c=o.type;var b=o.memoizedProps;switch(p[Si]=o,p[Rc]=b,s=(o.mode&1)!==0,c){case"dialog":Et("cancel",p),Et("close",p);break;case"iframe":case"object":case"embed":Et("load",p);break;case"video":case"audio":for(v=0;v<Ac.length;v++)Et(Ac[v],p);break;case"source":Et("error",p);break;case"img":case"image":case"link":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"input":wn(p,b),Et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},Et("invalid",p);break;case"textarea":fn(p,b),Et("invalid",p)}Oo(c,b),v=null;for(var C in b)if(b.hasOwnProperty(C)){var L=b[C];C==="children"?typeof L=="string"?p.textContent!==L&&(b.suppressHydrationWarning!==!0&&Gd(p.textContent,L,s),v=["children",L]):typeof L=="number"&&p.textContent!==""+L&&(b.suppressHydrationWarning!==!0&&Gd(p.textContent,L,s),v=["children",""+L]):i.hasOwnProperty(C)&&L!=null&&C==="onScroll"&&Et("scroll",p)}switch(c){case"input":Gt(p),de(p,b,!0);break;case"textarea":Gt(p),le(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Kd)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=H(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(c,{is:p.is}):(s=C.createElement(c),c==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,c),s[Si]=o,s[Rc]=p,uw(s,o,!1,!1),o.stateNode=s;e:{switch(C=Yi(c,p),c){case"dialog":Et("cancel",s),Et("close",s),v=p;break;case"iframe":case"object":case"embed":Et("load",s),v=p;break;case"video":case"audio":for(v=0;v<Ac.length;v++)Et(Ac[v],s);v=p;break;case"source":Et("error",s),v=p;break;case"img":case"image":case"link":Et("error",s),Et("load",s),v=p;break;case"details":Et("toggle",s),v=p;break;case"input":wn(s,p),v=en(s,p),Et("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ue({},p,{value:void 0}),Et("invalid",s);break;case"textarea":fn(s,p),v=yt(s,p),Et("invalid",s);break;default:v=p}Oo(c,v),L=v;for(b in L)if(L.hasOwnProperty(b)){var $=L[b];b==="style"?pn(s,$):b==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Be(s,$)):b==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&be(s,$):typeof $=="number"&&be(s,""+$):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?$!=null&&b==="onScroll"&&Et("scroll",s):$!=null&&O(s,b,$,C))}switch(c){case"input":Gt(s),de(s,p,!1);break;case"textarea":Gt(s),le(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Le(p.value));break;case"select":s.multiple=!!p.multiple,b=p.value,b!=null?Lt(s,!!p.multiple,b,!1):p.defaultValue!=null&&Lt(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Kd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Rn(o),null;case 6:if(s&&o.stateNode!=null)hw(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Zo(Lc.current),Zo(Ti.current),th(o)){if(p=o.stateNode,c=o.memoizedProps,p[Si]=o,(b=p.nodeValue!==c)&&(s=xr,s!==null))switch(s.tag){case 3:Gd(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Gd(p.nodeValue,c,(s.mode&1)!==0)}b&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Si]=o,o.stateNode=p}return Rn(o),null;case 13:if(St(Rt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Nt&&wr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)mx(),ll(),o.flags|=98560,b=!1;else if(b=th(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Si]=o}else ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rn(o),b=!1}else si!==null&&(pg(si),si=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Rt.current&1)!==0?dn===0&&(dn=3):yg())),o.updateQueue!==null&&(o.flags|=4),Rn(o),null);case 4:return hl(),rg(s,o),s===null&&Ic(o.stateNode.containerInfo),Rn(o),null;case 10:return Im(o.type._context),Rn(o),null;case 17:return er(o.type)&&Xd(),Rn(o),null;case 19:if(St(Rt),b=o.memoizedState,b===null)return Rn(o),null;if(p=(o.flags&128)!==0,C=b.rendering,C===null)if(p)zc(b,!1);else{if(dn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=ah(s),C!==null){for(o.flags|=128,zc(b,!1),p=C.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)b=c,s=p,b.flags&=14680066,C=b.alternate,C===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=C.childLanes,b.lanes=C.lanes,b.child=C.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=C.memoizedProps,b.memoizedState=C.memoizedState,b.updateQueue=C.updateQueue,b.type=C.type,s=C.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return wt(Rt,Rt.current&1|2),o.child}s=s.sibling}b.tail!==null&&xt()>gl&&(o.flags|=128,p=!0,zc(b,!1),o.lanes=4194304)}else{if(!p)if(s=ah(C),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),zc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Nt)return Rn(o),null}else 2*xt()-b.renderingStartTime>gl&&c!==1073741824&&(o.flags|=128,p=!0,zc(b,!1),o.lanes=4194304);b.isBackwards?(C.sibling=o.child,o.child=C):(c=b.last,c!==null?c.sibling=C:o.child=C,b.last=C)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=xt(),o.sibling=null,c=Rt.current,wt(Rt,p?c&1|2:c&1),o):(Rn(o),null);case 22:case 23:return gg(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(br&1073741824)!==0&&(Rn(o),o.subtreeFlags&6&&(o.flags|=8192)):Rn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function fA(s,o){switch(Tm(o),o.tag){case 1:return er(o.type)&&Xd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return hl(),St(Zn),St(In),Lm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Om(o),null;case 13:if(St(Rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ll()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return St(Rt),null;case 4:return hl(),null;case 10:return Im(o.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var gh=!1,Dn=!1,pA=typeof WeakSet=="function"?WeakSet:Set,xe=null;function pl(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ft(s,o,p)}else c.current=null}function ig(s,o,c){try{c()}catch(p){Ft(s,o,p)}}var fw=!1;function mA(s,o){if(gm=Ls,s=H1(),lm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,L=-1,$=-1,Y=0,ae=0,ce=s,se=null;t:for(;;){for(var ge;ce!==c||v!==0&&ce.nodeType!==3||(L=C+v),ce!==b||p!==0&&ce.nodeType!==3||($=C+p),ce.nodeType===3&&(C+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)se=ce,ce=ge;for(;;){if(ce===s)break t;if(se===c&&++Y===v&&(L=C),se===b&&++ae===p&&($=C),(ge=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ge}c=L===-1||$===-1?null:{start:L,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(ym={focusedElem:s,selectionRange:c},Ls=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Se=_e.memoizedProps,Qt=_e.memoizedState,G=o.stateNode,W=G.getSnapshotBeforeUpdate(o.elementType===o.type?Se:oi(o.type,Se),Qt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Ft(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return _e=fw,fw=!1,_e}function Wc(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var b=v.destroy;v.destroy=void 0,b!==void 0&&ig(o,c,b)}v=v.next}while(v!==p)}}function yh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function sg(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function pw(s){var o=s.alternate;o!==null&&(s.alternate=null,pw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Si],delete o[Rc],delete o[bm],delete o[YN],delete o[JN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function mw(s){return s.tag===5||s.tag===3||s.tag===4}function gw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function og(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Kd));else if(p!==4&&(s=s.child,s!==null))for(og(s,o,c),s=s.sibling;s!==null;)og(s,o,c),s=s.sibling}function ag(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(ag(s,o,c),s=s.sibling;s!==null;)ag(s,o,c),s=s.sibling}var Sn=null,ai=!1;function Gs(s,o,c){for(c=c.child;c!==null;)yw(s,o,c),c=c.sibling}function yw(s,o,c){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(Bo,c)}catch{}switch(c.tag){case 5:Dn||pl(c,o);case 6:var p=Sn,v=ai;Sn=null,Gs(s,o,c),Sn=p,ai=v,Sn!==null&&(ai?(s=Sn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Sn.removeChild(c.stateNode));break;case 18:Sn!==null&&(ai?(s=Sn,c=c.stateNode,s.nodeType===8?wm(s.parentNode,c):s.nodeType===1&&wm(s,c),ni(s)):wm(Sn,c.stateNode));break;case 4:p=Sn,v=ai,Sn=c.stateNode.containerInfo,ai=!0,Gs(s,o,c),Sn=p,ai=v;break;case 0:case 11:case 14:case 15:if(!Dn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var b=v,C=b.destroy;b=b.tag,C!==void 0&&((b&2)!==0||(b&4)!==0)&&ig(c,o,C),v=v.next}while(v!==p)}Gs(s,o,c);break;case 1:if(!Dn&&(pl(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(L){Ft(c,o,L)}Gs(s,o,c);break;case 21:Gs(s,o,c);break;case 22:c.mode&1?(Dn=(p=Dn)||c.memoizedState!==null,Gs(s,o,c),Dn=p):Gs(s,o,c);break;default:Gs(s,o,c)}}function vw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new pA),o.forEach(function(p){var v=SA.bind(null,s,p);c.has(p)||(c.add(p),p.then(v,v))})}}function li(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];try{var b=s,C=o,L=C;e:for(;L!==null;){switch(L.tag){case 5:Sn=L.stateNode,ai=!1;break e;case 3:Sn=L.stateNode.containerInfo,ai=!0;break e;case 4:Sn=L.stateNode.containerInfo,ai=!0;break e}L=L.return}if(Sn===null)throw Error(n(160));yw(b,C,v),Sn=null,ai=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(Y){Ft(v,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xw(o,s),o=o.sibling}function xw(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(li(o,s),Ci(s),p&4){try{Wc(3,s,s.return),yh(3,s)}catch(Se){Ft(s,s.return,Se)}try{Wc(5,s,s.return)}catch(Se){Ft(s,s.return,Se)}}break;case 1:li(o,s),Ci(s),p&512&&c!==null&&pl(c,c.return);break;case 5:if(li(o,s),Ci(s),p&512&&c!==null&&pl(c,c.return),s.flags&32){var v=s.stateNode;try{be(v,"")}catch(Se){Ft(s,s.return,Se)}}if(p&4&&(v=s.stateNode,v!=null)){var b=s.memoizedProps,C=c!==null?c.memoizedProps:b,L=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{L==="input"&&b.type==="radio"&&b.name!=null&&Kn(v,b),Yi(L,C);var Y=Yi(L,b);for(C=0;C<$.length;C+=2){var ae=$[C],ce=$[C+1];ae==="style"?pn(v,ce):ae==="dangerouslySetInnerHTML"?Be(v,ce):ae==="children"?be(v,ce):O(v,ae,ce,Y)}switch(L){case"input":gt(v,b);break;case"textarea":pr(v,b);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var ge=b.value;ge!=null?Lt(v,!!b.multiple,ge,!1):se!==!!b.multiple&&(b.defaultValue!=null?Lt(v,!!b.multiple,b.defaultValue,!0):Lt(v,!!b.multiple,b.multiple?[]:"",!1))}v[Rc]=b}catch(Se){Ft(s,s.return,Se)}}break;case 6:if(li(o,s),Ci(s),p&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,b=s.memoizedProps;try{v.nodeValue=b}catch(Se){Ft(s,s.return,Se)}}break;case 3:if(li(o,s),Ci(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ni(o.containerInfo)}catch(Se){Ft(s,s.return,Se)}break;case 4:li(o,s),Ci(s);break;case 13:li(o,s),Ci(s),v=s.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(ug=xt())),p&4&&vw(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(Dn=(Y=Dn)||ae,li(o,s),Dn=Y):li(o,s),Ci(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ae&&(s.mode&1)!==0)for(xe=s,ae=s.child;ae!==null;){for(ce=xe=ae;xe!==null;){switch(se=xe,ge=se.child,se.tag){case 0:case 11:case 14:case 15:Wc(4,se,se.return);break;case 1:pl(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){p=se,c=se.return;try{o=p,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(Se){Ft(p,c,Se)}}break;case 5:pl(se,se.return);break;case 22:if(se.memoizedState!==null){_w(ce);continue}}ge!==null?(ge.return=se,xe=ge):_w(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{v=ce.stateNode,Y?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(L=ce.stateNode,$=ce.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,L.style.display=_t("display",C))}catch(Se){Ft(s,s.return,Se)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(Se){Ft(s,s.return,Se)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:li(o,s),Ci(s),p&4&&vw(s);break;case 21:break;default:li(o,s),Ci(s)}}function Ci(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(mw(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(be(v,""),p.flags&=-33);var b=gw(s);ag(s,b,v);break;case 3:case 4:var C=p.stateNode.containerInfo,L=gw(s);og(s,L,C);break;default:throw Error(n(161))}}catch($){Ft(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gA(s,o,c){xe=s,ww(s)}function ww(s,o,c){for(var p=(s.mode&1)!==0;xe!==null;){var v=xe,b=v.child;if(v.tag===22&&p){var C=v.memoizedState!==null||gh;if(!C){var L=v.alternate,$=L!==null&&L.memoizedState!==null||Dn;L=gh;var Y=Dn;if(gh=C,(Dn=$)&&!Y)for(xe=v;xe!==null;)C=xe,$=C.child,C.tag===22&&C.memoizedState!==null?Ew(v):$!==null?($.return=C,xe=$):Ew(v);for(;b!==null;)xe=b,ww(b),b=b.sibling;xe=v,gh=L,Dn=Y}bw(s)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,xe=b):bw(s)}}function bw(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dn||yh(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Dn)if(c===null)p.componentDidMount();else{var v=o.elementType===o.type?c.memoizedProps:oi(o.type,c.memoizedProps);p.componentDidUpdate(v,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&_x(o,b,p);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}_x(o,C,c)}break;case 5:var L=o.stateNode;if(c===null&&o.flags&4){c=L;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&ni(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||o.flags&512&&sg(o)}catch(se){Ft(o,o.return,se)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function _w(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function Ew(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{yh(4,o)}catch($){Ft(o,c,$)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch($){Ft(o,v,$)}}var b=o.return;try{sg(o)}catch($){Ft(o,b,$)}break;case 5:var C=o.return;try{sg(o)}catch($){Ft(o,C,$)}}}catch($){Ft(o,o.return,$)}if(o===s){xe=null;break}var L=o.sibling;if(L!==null){L.return=o.return,xe=L;break}xe=o.return}}var yA=Math.ceil,vh=B.ReactCurrentDispatcher,lg=B.ReactCurrentOwner,Lr=B.ReactCurrentBatchConfig,nt=0,yn=null,nn=null,Tn=0,br=0,ml=$s(0),dn=0,Hc=null,ta=0,xh=0,cg=0,qc=null,nr=null,ug=0,gl=1/0,hs=null,wh=!1,dg=null,Ks=null,bh=!1,Qs=null,_h=0,Gc=0,hg=null,Eh=-1,Sh=0;function Hn(){return(nt&6)!==0?xt():Eh!==-1?Eh:Eh=xt()}function Xs(s){return(s.mode&1)===0?1:(nt&2)!==0&&Tn!==0?Tn&-Tn:eA.transition!==null?(Sh===0&&(Sh=zo()),Sh):(s=Je,s!==0||(s=window.event,s=s===void 0?16:bc(s.type)),s)}function ci(s,o,c,p){if(50<Gc)throw Gc=0,hg=null,Error(n(185));Ds(s,c,p),((nt&2)===0||s!==yn)&&(s===yn&&((nt&2)===0&&(xh|=c),dn===4&&Ys(s,Tn)),rr(s,p),c===1&&nt===0&&(o.mode&1)===0&&(gl=xt()+500,Jd&&Ws()))}function rr(s,o){var c=s.callbackNode;es(s,o);var p=$o(s,s===yn?Tn:0);if(p===0)c!==null&&gc(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&gc(c),o===1)s.tag===0?ZN(Tw.bind(null,s)):ux(Tw.bind(null,s)),QN(function(){(nt&6)===0&&Ws()}),c=null;else{switch(Os(p)){case 1:c=Uo;break;case 4:c=Is;break;case 16:c=Ir;break;case 536870912:c=Sd;break;default:c=Ir}c=Rw(c,Sw.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Sw(s,o){if(Eh=-1,Sh=0,(nt&6)!==0)throw Error(n(327));var c=s.callbackNode;if(yl()&&s.callbackNode!==c)return null;var p=$o(s,s===yn?Tn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=Th(s,p);else{o=p;var v=nt;nt|=2;var b=Cw();(yn!==s||Tn!==o)&&(hs=null,gl=xt()+500,ra(s,o));do try{wA();break}catch(L){Pw(s,L)}while(!0);Am(),vh.current=b,nt=v,nn!==null?o=0:(yn=null,Tn=0,o=dn)}if(o!==0){if(o===2&&(v=gr(s),v!==0&&(p=v,o=fg(s,v))),o===1)throw c=Hc,ra(s,0),Ys(s,p),rr(s,xt()),c;if(o===6)Ys(s,p);else{if(v=s.current.alternate,(p&30)===0&&!vA(v)&&(o=Th(s,p),o===2&&(b=gr(s),b!==0&&(p=b,o=fg(s,b))),o===1))throw c=Hc,ra(s,0),Ys(s,p),rr(s,xt()),c;switch(s.finishedWork=v,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:ia(s,nr,hs);break;case 3:if(Ys(s,p),(p&130023424)===p&&(o=ug+500-xt(),10<o)){if($o(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){Hn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=xm(ia.bind(null,s,nr,hs),o);break}ia(s,nr,hs);break;case 4:if(Ys(s,p),(p&4194240)===p)break;for(o=s.eventTimes,v=-1;0<p;){var C=31-$n(p);b=1<<C,C=o[C],C>v&&(v=C),p&=~b}if(p=v,p=xt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*yA(p/1960))-p,10<p){s.timeoutHandle=xm(ia.bind(null,s,nr,hs),p);break}ia(s,nr,hs);break;case 5:ia(s,nr,hs);break;default:throw Error(n(329))}}}return rr(s,xt()),s.callbackNode===c?Sw.bind(null,s):null}function fg(s,o){var c=qc;return s.current.memoizedState.isDehydrated&&(ra(s,o).flags|=256),s=Th(s,o),s!==2&&(o=nr,nr=c,o!==null&&pg(o)),s}function pg(s){nr===null?nr=s:nr.push.apply(nr,s)}function vA(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var v=c[p],b=v.getSnapshot;v=v.value;try{if(!ii(b(),v))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ys(s,o){for(o&=~cg,o&=~xh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-$n(o),p=1<<c;s[c]=-1,o&=~p}}function Tw(s){if((nt&6)!==0)throw Error(n(327));yl();var o=$o(s,0);if((o&1)===0)return rr(s,xt()),null;var c=Th(s,o);if(s.tag!==0&&c===2){var p=gr(s);p!==0&&(o=p,c=fg(s,p))}if(c===1)throw c=Hc,ra(s,0),Ys(s,o),rr(s,xt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ia(s,nr,hs),rr(s,xt()),null}function mg(s,o){var c=nt;nt|=1;try{return s(o)}finally{nt=c,nt===0&&(gl=xt()+500,Jd&&Ws())}}function na(s){Qs!==null&&Qs.tag===0&&(nt&6)===0&&yl();var o=nt;nt|=1;var c=Lr.transition,p=Je;try{if(Lr.transition=null,Je=1,s)return s()}finally{Je=p,Lr.transition=c,nt=o,(nt&6)===0&&Ws()}}function gg(){br=ml.current,St(ml)}function ra(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,KN(c)),nn!==null)for(c=nn.return;c!==null;){var p=c;switch(Tm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Xd();break;case 3:hl(),St(Zn),St(In),Lm();break;case 5:Om(p);break;case 4:hl();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:Im(p.type._context);break;case 22:case 23:gg()}c=c.return}if(yn=s,nn=s=Js(s.current,null),Tn=br=o,dn=0,Hc=null,cg=xh=ta=0,nr=qc=null,Jo!==null){for(o=0;o<Jo.length;o++)if(c=Jo[o],p=c.interleaved,p!==null){c.interleaved=null;var v=p.next,b=c.pending;if(b!==null){var C=b.next;b.next=v,p.next=C}c.pending=p}Jo=null}return s}function Pw(s,o){do{var c=nn;try{if(Am(),lh.current=hh,ch){for(var p=Dt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}ch=!1}if(ea=0,gn=un=Dt=null,Fc=!1,Uc=0,lg.current=null,c===null||c.return===null){dn=1,Hc=o,nn=null;break}e:{var b=s,C=c.return,L=c,$=o;if(o=Tn,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,ae=L,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ae.alternate;se?(ae.updateQueue=se.updateQueue,ae.memoizedState=se.memoizedState,ae.lanes=se.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ge=Yx(C);if(ge!==null){ge.flags&=-257,Jx(ge,C,L,b,o),ge.mode&1&&Xx(b,Y,o),o=ge,$=Y;var _e=o.updateQueue;if(_e===null){var Se=new Set;Se.add($),o.updateQueue=Se}else _e.add($);break e}else{if((o&1)===0){Xx(b,Y,o),yg();break e}$=Error(n(426))}}else if(Nt&&L.mode&1){var Qt=Yx(C);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),Jx(Qt,C,L,b,o),km(fl($,L));break e}}b=$=fl($,L),dn!==4&&(dn=2),qc===null?qc=[b]:qc.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var G=Kx(b,$,o);bx(b,G);break e;case 1:L=$;var W=b.type,Q=b.stateNode;if((b.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ks===null||!Ks.has(Q)))){b.flags|=65536,o&=-o,b.lanes|=o;var he=Qx(b,L,o);bx(b,he);break e}}b=b.return}while(b!==null)}Nw(c)}catch(Te){o=Te,nn===c&&c!==null&&(nn=c=c.return);continue}break}while(!0)}function Cw(){var s=vh.current;return vh.current=hh,s===null?hh:s}function yg(){(dn===0||dn===3||dn===2)&&(dn=4),yn===null||(ta&268435455)===0&&(xh&268435455)===0||Ys(yn,Tn)}function Th(s,o){var c=nt;nt|=2;var p=Cw();(yn!==s||Tn!==o)&&(hs=null,ra(s,o));do try{xA();break}catch(v){Pw(s,v)}while(!0);if(Am(),nt=c,vh.current=p,nn!==null)throw Error(n(261));return yn=null,Tn=0,dn}function xA(){for(;nn!==null;)kw(nn)}function wA(){for(;nn!==null&&!_d();)kw(nn)}function kw(s){var o=jw(s.alternate,s,br);s.memoizedProps=s.pendingProps,o===null?Nw(s):nn=o,lg.current=null}function Nw(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=hA(c,o,br),c!==null){nn=c;return}}else{if(c=fA(c,o),c!==null){c.flags&=32767,nn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{dn=6,nn=null;return}}if(o=o.sibling,o!==null){nn=o;return}nn=o=s}while(o!==null);dn===0&&(dn=5)}function ia(s,o,c){var p=Je,v=Lr.transition;try{Lr.transition=null,Je=1,bA(s,o,c,p)}finally{Lr.transition=v,Je=p}return null}function bA(s,o,c,p){do yl();while(Qs!==null);if((nt&6)!==0)throw Error(n(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=c.lanes|c.childLanes;if(ft(s,b),s===yn&&(nn=yn=null,Tn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||bh||(bh=!0,Rw(Ir,function(){return yl(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=Lr.transition,Lr.transition=null;var C=Je;Je=1;var L=nt;nt|=4,lg.current=null,mA(s,c),xw(c,s),BN(ym),Ls=!!gm,ym=gm=null,s.current=c,gA(c),em(),nt=L,Je=C,Lr.transition=b}else s.current=c;if(bh&&(bh=!1,Qs=s,_h=v),b=s.pendingLanes,b===0&&(Ks=null),Td(c.stateNode),rr(s,xt()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)v=o[c],p(v.value,{componentStack:v.stack,digest:v.digest});if(wh)throw wh=!1,s=dg,dg=null,s;return(_h&1)!==0&&s.tag!==0&&yl(),b=s.pendingLanes,(b&1)!==0?s===hg?Gc++:(Gc=0,hg=s):Gc=0,Ws(),null}function yl(){if(Qs!==null){var s=Os(_h),o=Lr.transition,c=Je;try{if(Lr.transition=null,Je=16>s?16:s,Qs===null)var p=!1;else{if(s=Qs,Qs=null,_h=0,(nt&6)!==0)throw Error(n(331));var v=nt;for(nt|=4,xe=s.current;xe!==null;){var b=xe,C=b.child;if((xe.flags&16)!==0){var L=b.deletions;if(L!==null){for(var $=0;$<L.length;$++){var Y=L[$];for(xe=Y;xe!==null;){var ae=xe;switch(ae.tag){case 0:case 11:case 15:Wc(8,ae,b)}var ce=ae.child;if(ce!==null)ce.return=ae,xe=ce;else for(;xe!==null;){ae=xe;var se=ae.sibling,ge=ae.return;if(pw(ae),ae===Y){xe=null;break}if(se!==null){se.return=ge,xe=se;break}xe=ge}}}var _e=b.alternate;if(_e!==null){var Se=_e.child;if(Se!==null){_e.child=null;do{var Qt=Se.sibling;Se.sibling=null,Se=Qt}while(Se!==null)}}xe=b}}if((b.subtreeFlags&2064)!==0&&C!==null)C.return=b,xe=C;else e:for(;xe!==null;){if(b=xe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Wc(9,b,b.return)}var G=b.sibling;if(G!==null){G.return=b.return,xe=G;break e}xe=b.return}}var W=s.current;for(xe=W;xe!==null;){C=xe;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,xe=Q;else e:for(C=W;xe!==null;){if(L=xe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:yh(9,L)}}catch(Te){Ft(L,L.return,Te)}if(L===C){xe=null;break e}var he=L.sibling;if(he!==null){he.return=L.return,xe=he;break e}xe=L.return}}if(nt=v,Ws(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(Bo,s)}catch{}p=!0}return p}finally{Je=c,Lr.transition=o}}return!1}function Aw(s,o,c){o=fl(c,o),o=Kx(s,o,1),s=qs(s,o,1),o=Hn(),s!==null&&(Ds(s,1,o),rr(s,o))}function Ft(s,o,c){if(s.tag===3)Aw(s,s,c);else for(;o!==null;){if(o.tag===3){Aw(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p))){s=fl(c,s),s=Qx(o,s,1),o=qs(o,s,1),s=Hn(),o!==null&&(Ds(o,1,s),rr(o,s));break}}o=o.return}}function _A(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=Hn(),s.pingedLanes|=s.suspendedLanes&c,yn===s&&(Tn&c)===c&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>xt()-ug?ra(s,0):cg|=c),rr(s,o)}function Iw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ua,Ua<<=1,(Ua&130023424)===0&&(Ua=4194304)));var c=Hn();s=cs(s,o),s!==null&&(Ds(s,o,c),rr(s,c))}function EA(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Iw(s,c)}function SA(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Iw(s,c)}var jw;jw=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Zn.current)tr=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return tr=!1,dA(s,o,c);tr=(s.flags&131072)!==0}else tr=!1,Nt&&(o.flags&1048576)!==0&&dx(o,eh,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;mh(s,o),s=o.pendingProps;var v=sl(o,In.current);dl(o,c),v=Bm(null,o,p,s,v,c);var b=$m();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,er(p)?(b=!0,Yd(o)):b=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Dm(o),v.updater=fh,o.stateNode=v,v._reactInternals=o,Km(o,p,s,c),o=Jm(null,o,p,!0,b,c)):(o.tag=0,Nt&&b&&Sm(o),Wn(null,o,v,c),o=o.child),o;case 16:p=o.elementType;e:{switch(mh(s,o),s=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=PA(p),s=oi(p,s),v){case 0:o=Ym(null,o,p,s,c);break e;case 1:o=iw(null,o,p,s,c);break e;case 11:o=Zx(null,o,p,s,c);break e;case 14:o=ew(null,o,p,oi(p.type,s),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:oi(p,v),Ym(s,o,p,v,c);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:oi(p,v),iw(s,o,p,v,c);case 3:e:{if(sw(o),s===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,v=b.element,wx(s,o),oh(o,p,null,c);var C=o.memoizedState;if(p=C.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){v=fl(Error(n(423)),o),o=ow(s,o,p,c,v);break e}else if(p!==v){v=fl(Error(n(424)),o),o=ow(s,o,p,c,v);break e}else for(wr=Bs(o.stateNode.containerInfo.firstChild),xr=o,Nt=!0,si=null,c=vx(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ll(),p===v){o=ds(s,o,c);break e}Wn(s,o,p,c)}o=o.child}return o;case 5:return Ex(o),s===null&&Cm(o),p=o.type,v=o.pendingProps,b=s!==null?s.memoizedProps:null,C=v.children,vm(p,v)?C=null:b!==null&&vm(p,b)&&(o.flags|=32),rw(s,o),Wn(s,o,C,c),o.child;case 6:return s===null&&Cm(o),null;case 13:return aw(s,o,c);case 4:return Vm(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=cl(o,null,p,c):Wn(s,o,p,c),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:oi(p,v),Zx(s,o,p,v,c);case 7:return Wn(s,o,o.pendingProps,c),o.child;case 8:return Wn(s,o,o.pendingProps.children,c),o.child;case 12:return Wn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,b=o.memoizedProps,C=v.value,wt(rh,p._currentValue),p._currentValue=C,b!==null)if(ii(b.value,C)){if(b.children===v.children&&!Zn.current){o=ds(s,o,c);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var L=b.dependencies;if(L!==null){C=b.child;for(var $=L.firstContext;$!==null;){if($.context===p){if(b.tag===1){$=us(-1,c&-c),$.tag=2;var Y=b.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?$.next=$:($.next=ae.next,ae.next=$),Y.pending=$}}b.lanes|=c,$=b.alternate,$!==null&&($.lanes|=c),jm(b.return,c,o),L.lanes|=c;break}$=$.next}}else if(b.tag===10)C=b.type===o.type?null:b.child;else if(b.tag===18){if(C=b.return,C===null)throw Error(n(341));C.lanes|=c,L=C.alternate,L!==null&&(L.lanes|=c),jm(C,c,o),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===o){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}Wn(s,o,v.children,c),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,dl(o,c),v=Or(v),p=p(v),o.flags|=1,Wn(s,o,p,c),o.child;case 14:return p=o.type,v=oi(p,o.pendingProps),v=oi(p.type,v),ew(s,o,p,v,c);case 15:return tw(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:oi(p,v),mh(s,o),o.tag=1,er(p)?(s=!0,Yd(o)):s=!1,dl(o,c),qx(o,p,v),Km(o,p,v,c),Jm(null,o,p,!0,s,c);case 19:return cw(s,o,c);case 22:return nw(s,o,c)}throw Error(n(156,o.tag))};function Rw(s,o){return La(s,o)}function TA(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,o,c,p){return new TA(s,o,c,p)}function vg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PA(s){if(typeof s=="function")return vg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Pe)return 14}return 2}function Js(s,o){var c=s.alternate;return c===null?(c=Fr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ph(s,o,c,p,v,b){var C=2;if(p=s,typeof s=="function")vg(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case R:return sa(c.children,v,b,o);case N:C=8,v|=8;break;case V:return s=Fr(12,c,o,v|2),s.elementType=V,s.lanes=b,s;case j:return s=Fr(13,c,o,v),s.elementType=j,s.lanes=b,s;case oe:return s=Fr(19,c,o,v),s.elementType=oe,s.lanes=b,s;case Ee:return Ch(c,v,b,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:C=10;break e;case M:C=9;break e;case U:C=11;break e;case Pe:C=14;break e;case Ae:C=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Fr(C,c,o,v),o.elementType=s,o.type=p,o.lanes=b,o}function sa(s,o,c,p){return s=Fr(7,s,p,o),s.lanes=c,s}function Ch(s,o,c,p){return s=Fr(22,s,p,o),s.elementType=Ee,s.lanes=c,s.stateNode={isHidden:!1},s}function xg(s,o,c){return s=Fr(6,s,null,o),s.lanes=c,s}function wg(s,o,c){return o=Fr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function CA(s,o,c,p,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function bg(s,o,c,p,v,b,C,L,$){return s=new CA(s,o,c,L,$),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Fr(3,null,null,o),s.current=b,b.stateNode=s,b.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(b),s}function kA(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function Dw(s){if(!s)return zs;s=s._reactInternals;e:{if(Yr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(er(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(er(c))return lx(s,c,o)}return o}function Vw(s,o,c,p,v,b,C,L,$){return s=bg(c,p,!0,s,v,b,C,L,$),s.context=Dw(null),c=s.current,p=Hn(),v=Xs(c),b=us(p,v),b.callback=o??null,qs(c,b,v),s.current.lanes=v,Ds(s,v,p),rr(s,p),s}function kh(s,o,c,p){var v=o.current,b=Hn(),C=Xs(v);return c=Dw(c),o.context===null?o.context=c:o.pendingContext=c,o=us(b,C),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=qs(v,o,C),s!==null&&(ci(s,v,C,b),sh(s,v,C)),C}function Nh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ow(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function _g(s,o){Ow(s,o),(s=s.alternate)&&Ow(s,o)}function NA(){return null}var Mw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Eg(s){this._internalRoot=s}Ah.prototype.render=Eg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));kh(s,o,null,null)},Ah.prototype.unmount=Eg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;na(function(){kh(null,s,null,null)}),o[ss]=null}};function Ah(s){this._internalRoot=s}Ah.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ad();s={blockedOn:null,target:s,priority:o};for(var c=0;c<wi.length&&o!==0&&o<wi[c].priority;c++);wi.splice(c,0,s),c===0&&Rd(s)}};function Sg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ih(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lw(){}function AA(s,o,c,p,v){if(v){if(typeof p=="function"){var b=p;p=function(){var Y=Nh(C);b.call(Y)}}var C=Vw(o,p,s,0,null,!1,!1,"",Lw);return s._reactRootContainer=C,s[ss]=C.current,Ic(s.nodeType===8?s.parentNode:s),na(),C}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var L=p;p=function(){var Y=Nh($);L.call(Y)}}var $=bg(s,0,!1,null,null,!1,!1,"",Lw);return s._reactRootContainer=$,s[ss]=$.current,Ic(s.nodeType===8?s.parentNode:s),na(function(){kh(o,$,c,p)}),$}function jh(s,o,c,p,v){var b=c._reactRootContainer;if(b){var C=b;if(typeof v=="function"){var L=v;v=function(){var $=Nh(C);L.call($)}}kh(o,C,s,v)}else C=AA(c,o,s,v,p);return Nh(C)}kd=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=js(o.pendingLanes);c!==0&&(Vs(o,c|1),rr(o,xt()),(nt&6)===0&&(gl=xt()+500,Ws()))}break;case 13:na(function(){var p=cs(s,1);if(p!==null){var v=Hn();ci(p,s,1,v)}}),_g(s,1)}},Ba=function(s){if(s.tag===13){var o=cs(s,134217728);if(o!==null){var c=Hn();ci(o,s,134217728,c)}_g(s,134217728)}},Nd=function(s){if(s.tag===13){var o=Xs(s),c=cs(s,o);if(c!==null){var p=Hn();ci(c,s,o,p)}_g(s,o)}},Ad=function(){return Je},Id=function(s,o){var c=Je;try{return Je=s,o()}finally{Je=c}},yi=function(s,o,c){switch(o){case"input":if(gt(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var v=Qd(p);if(!v)throw Error(n(90));Pt(p),gt(p,v)}}}break;case"textarea":pr(s,c);break;case"select":o=c.value,o!=null&&Lt(s,!!c.multiple,o,!1)}},bn=mg,hc=na;var IA={usingClientEntryPoint:!1,Events:[Dc,rl,Qd,Xn,vi,mg]},Kc={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jA={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=mc(s),s===null?null:s.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||NA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{Bo=Rh.inject(jA),mr=Rh}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA,ir.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(o))throw Error(n(200));return kA(s,o,null,c)},ir.createRoot=function(s,o){if(!Sg(s))throw Error(n(299));var c=!1,p="",v=Mw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=bg(s,1,!1,null,null,c,!1,p,v),s[ss]=o.current,Ic(s.nodeType===8?s.parentNode:s),new Eg(o)},ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=mc(o),s=s===null?null:s.stateNode,s},ir.flushSync=function(s){return na(s)},ir.hydrate=function(s,o,c){if(!Ih(o))throw Error(n(200));return jh(null,s,o,!0,c)},ir.hydrateRoot=function(s,o,c){if(!Sg(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,v=!1,b="",C=Mw;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=Vw(o,null,s,1,c??null,v,!1,b,C),s[ss]=o.current,Ic(s),p)for(s=0;s<p.length;s++)c=p[s],v=c._getVersion,v=v(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,v]:o.mutableSourceEagerHydrationData.push(c,v);return new Ah(o)},ir.render=function(s,o,c){if(!Ih(o))throw Error(n(200));return jh(null,s,o,!1,c)},ir.unmountComponentAtNode=function(s){if(!Ih(s))throw Error(n(40));return s._reactRootContainer?(na(function(){jh(null,null,s,!1,function(){s._reactRootContainer=null,s[ss]=null})}),!0):!1},ir.unstable_batchedUpdates=mg,ir.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!Ih(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return jh(s,o,c,!1,p)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var qw;function QE(){if(qw)return Cg.exports;qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=UA(),Cg.exports}var Gw;function BA(){if(Gw)return Dh;Gw=1;var t=QE();return Dh.createRoot=t.createRoot,Dh.hydrateRoot=t.hydrateRoot,Dh}var $A=BA();const zA=Sy($A);var XE=QE();const WA=Sy(XE);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const Kw="popstate";function HA(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return g0("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kf(i)}return GA(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qA(){return Math.random().toString(36).substr(2,8)}function Qw(t,e){return{usr:t.state,key:t.key,idx:e}}function g0(t,e,n,r){return n===void 0&&(n=null),Su({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:n,key:e&&e.key||r||qA()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=lo.Pop,h=null,m=g();m==null&&(m=0,l.replaceState(Su({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function y(){u=lo.Pop;let k=g(),D=k==null?null:k-m;m=k,h&&h({action:u,location:E.location,delta:D})}function x(k,D){u=lo.Push;let F=g0(E.location,k,D);m=g()+1;let O=Qw(F,m),B=E.createHref(F);try{l.pushState(O,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(B)}a&&h&&h({action:u,location:E.location,delta:1})}function _(k,D){u=lo.Replace;let F=g0(E.location,k,D);m=g();let O=Qw(F,m),B=E.createHref(F);l.replaceState(O,"",B),a&&h&&h({action:u,location:E.location,delta:0})}function P(k){let D=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof k=="string"?k:kf(k);return F=F.replace(/ $/,"%20"),Jt(D,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,D)}let E={get action(){return u},get location(){return t(i,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Kw,y),h=k,()=>{i.removeEventListener(Kw,y),h=null}},createHref(k){return e(i,k)},createURL:P,encodeLocation(k){let D=P(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:_,go(k){return l.go(k)}};return E}var Xw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xw||(Xw={}));function KA(t,e,n){return n===void 0&&(n="/"),QA(t,e,n)}function QA(t,e,n,r){let i=typeof e=="string"?Zl(e):e,a=Py(i.pathname||"/",n);if(a==null)return null;let l=JE(t);XA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=l4(a);u=s4(l[h],m)}return u}function JE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Jt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=ho([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),JE(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:r4(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of ZE(a.path))i(a,l,h)}),e}function ZE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=ZE(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function XA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YA=/^:[\w-]+$/,JA=3,ZA=2,e4=1,t4=10,n4=-2,Yw=t=>t==="*";function r4(t,e){let n=t.split("/"),r=n.length;return n.some(Yw)&&(r+=n4),e&&(r+=ZA),n.filter(i=>!Yw(i)).reduce((i,a)=>i+(YA.test(a)?JA:a===""?e4:t4),r)}function i4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function s4(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=o4({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),x=h.route;if(!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ho([a,y.pathname]),pathnameBase:h4(ho([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=ho([a,y.pathnameBase]))}return l}function o4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:x,isOptional:_}=g;if(x==="*"){let E=u[y]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const P=u[y];return _&&!P?m[x]=void 0:m[x]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function a4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Py(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zl(t):t;return{pathname:n?n.startsWith("/")?n:u4(n,e):e,search:f4(r),hash:p4(i)}}function u4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t,e){let n=d4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ky(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zl(t):(i=Su({},t),Jt(!i.pathname||!i.pathname.includes("?"),Ag("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),Ag("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),Ag("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}u=y>=0?e[y]:"/"}let h=c4(i,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),h4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eS=["post","put","patch","delete"];new Set(eS);const g4=["get",...eS];new Set(g4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}const Ny=A.createContext(null),y4=A.createContext(null),No=A.createContext(null),cp=A.createContext(null),ks=A.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=A.createContext(null);function v4(t,e){let{relative:n}=e===void 0?{}:e;ec()||Jt(!1);let{basename:r,navigator:i}=A.useContext(No),{hash:a,pathname:l,search:u}=rS(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:ho([r,l])),i.createHref({pathname:h,search:u,hash:a})}function ec(){return A.useContext(cp)!=null}function Qi(){return ec()||Jt(!1),A.useContext(cp).location}function nS(t){A.useContext(No).static||A.useLayoutEffect(t)}function fr(){let{isDataRoute:t}=A.useContext(ks);return t?I4():x4()}function x4(){ec()||Jt(!1);let t=A.useContext(Ny),{basename:e,future:n,navigator:r}=A.useContext(No),{matches:i}=A.useContext(ks),{pathname:a}=Qi(),l=JSON.stringify(Cy(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return nS(()=>{u.current=!0}),A.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let y=ky(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ho([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,t])}function Ay(){let{matches:t}=A.useContext(ks),e=t[t.length-1];return e?e.params:{}}function rS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(No),{matches:i}=A.useContext(ks),{pathname:a}=Qi(),l=JSON.stringify(Cy(i,r.v7_relativeSplatPath));return A.useMemo(()=>ky(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function w4(t,e){return b4(t,e)}function b4(t,e,n,r){ec()||Jt(!1);let{navigator:i}=A.useContext(No),{matches:a}=A.useContext(ks),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=Qi(),g;if(e){var y;let k=typeof e=="string"?Zl(e):e;h==="/"||(y=k.pathname)!=null&&y.startsWith(h)||Jt(!1),g=k}else g=m;let x=g.pathname||"/",_=x;if(h!=="/"){let k=h.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=KA(t,{pathname:_}),E=P4(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:ho([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:ho([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return e&&E?A.createElement(cp.Provider,{value:{location:Tu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:lo.Pop}},E):E}function _4(){let t=A4(),e=m4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const E4=A.createElement(_4,null);class S4 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(ks.Provider,{value:this.props.routeContext},A.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T4(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Ny);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ks.Provider,{value:e},r)}function P4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);g>=0||Jt(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:_}=n,P=y.route.loader&&x[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||P){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,x)=>{let _,P=!1,E=null,k=null;n&&(_=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||E4,h&&(m<0&&x===0?(j4("route-fallback"),P=!0,k=null):m===x&&(P=!0,k=y.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,x+1)),F=()=>{let O;return _?O=E:P?O=k:y.route.Component?O=A.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,A.createElement(T4,{match:y,routeContext:{outlet:g,matches:D,isDataRoute:n!=null},children:O})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?A.createElement(S4,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:F(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):F()},null)}var iS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iS||{}),sS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sS||{});function C4(t){let e=A.useContext(Ny);return e||Jt(!1),e}function k4(t){let e=A.useContext(y4);return e||Jt(!1),e}function N4(t){let e=A.useContext(ks);return e||Jt(!1),e}function oS(t){let e=N4(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function A4(){var t;let e=A.useContext(tS),n=k4(),r=oS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I4(){let{router:t}=C4(iS.UseNavigateStable),e=oS(sS.UseNavigateStable),n=A.useRef(!1);return nS(()=>{n.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tu({fromRouteId:e},a)))},[t,e])}const Jw={};function j4(t,e,n){Jw[t]||(Jw[t]=!0)}function R4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function D4(t){let{to:e,replace:n,state:r,relative:i}=t;ec()||Jt(!1);let{future:a,static:l}=A.useContext(No),{matches:u}=A.useContext(ks),{pathname:h}=Qi(),m=fr(),g=ky(e,Cy(u,a.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(g);return A.useEffect(()=>m(JSON.parse(y),{replace:n,state:r,relative:i}),[m,y,i,n,r]),null}function On(t){Jt(!1)}function V4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lo.Pop,navigator:a,static:l=!1,future:u}=t;ec()&&Jt(!1);let h=e.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:a,static:l,future:Tu({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=Zl(r));let{pathname:g="/",search:y="",hash:x="",state:_=null,key:P="default"}=r,E=A.useMemo(()=>{let k=Py(g,h);return k==null?null:{location:{pathname:k,search:y,hash:x,state:_,key:P},navigationType:i}},[h,g,y,x,_,P,i]);return E==null?null:A.createElement(No.Provider,{value:m},A.createElement(cp.Provider,{children:n,value:E}))}function O4(t){let{children:e,location:n}=t;return w4(y0(e),n)}new Promise(()=>{});function y0(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let a=[...e,i];if(r.type===A.Fragment){n.push.apply(n,y0(r.props.children,a));return}r.type!==On&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=y0(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F4(t,e){return t.button===0&&(!e||e==="_self")&&!L4(t)}function x0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function U4(t,e){let n=x0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const B4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$4="6";try{window.__reactRouterVersion=$4}catch{}const z4="startTransition",Zw=m0[z4];function W4(t){let{basename:e,children:n,future:r,window:i}=t,a=A.useRef();a.current==null&&(a.current=HA({window:i,v5Compat:!0}));let l=a.current,[u,h]=A.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=A.useCallback(y=>{m&&Zw?Zw(()=>h(y)):h(y)},[h,m]);return A.useLayoutEffect(()=>l.listen(g),[l,g]),A.useEffect(()=>R4(r),[r]),A.createElement(V4,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const H4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,x=M4(e,B4),{basename:_}=A.useContext(No),P,E=!1;if(typeof m=="string"&&q4.test(m)&&(P=m,H4))try{let O=new URL(window.location.href),B=m.startsWith("//")?new URL(O.protocol+m):new URL(m),K=Py(B.pathname,_);B.origin===O.origin&&K!=null?m=K+B.search+B.hash:E=!0}catch{}let k=v4(m,{relative:i}),D=G4(m,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:y});function F(O){r&&r(O),O.defaultPrevented||D(O)}return A.createElement("a",v0({},x,{href:P||k,onClick:E||a?r:F,ref:n,target:h}))});var eb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eb||(eb={}));var tb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tb||(tb={}));function G4(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=fr(),m=Qi(),g=rS(t,{relative:l});return A.useCallback(y=>{if(F4(y,n)){y.preventDefault();let x=r!==void 0?r:kf(m)===kf(g);h(t,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,g,r,i,n,t,a,l,u])}function Iy(t){let e=A.useRef(x0(t)),n=A.useRef(!1),r=Qi(),i=A.useMemo(()=>U4(r.search,n.current?null:e.current),[r.search]),a=fr(),l=A.useCallback((u,h)=>{const m=x0(typeof u=="function"?u(i):u);n.current=!0,a("?"+m,h)},[a,i]);return[i,l]}const Vi=[{categoria:"Retro Consolas",productos:[{id:"rc1",nombre:"Nintendo Entertainment System (NES)",empresa:"Nintendo",precio:7e3,descripcion:"La consola que marc el inicio de una generacin gamer.",imagen:"/Productos/nintendoentertainment.jpeg",imagenes:["/Productos/nintendoentertainment.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Incluye un control clsico","Compatible con cartuchos originales y rplicas","Salida AV para TV modernas","Fcil de conectar y usar"],variantes:[{color:"Gris",imagen:"/Productos/nintendoentertainment.jpeg",imagenes:["/Productos/nintendoentertainment.jpeg"],cantidad:9}],videoUrl:"/videos/nintendo(NES).mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc2",nombre:"Super Nintendo (SNES)",empresa:"Nintendo",precio:1400,descripcion:"Grficos coloridos, clsicos como Super Mario World.",imagen:"/Productos/supernintendo.avif",imagenes:["/Productos/supernintendo.avif"],oferta:!1,estado:"Nuevo",acerca:["Incluye dos controles","Soporta juegos PAL y NTSC","Salida AV y S-Video","Compacta y fcil de instalar"],variantes:[{color:"Gris",imagen:"/Productos/supernintendo.avif",imagenes:["/Productos/supernintendo.avif"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc3",nombre:"Sega Genesis",empresa:"",precio:5e3,descripcion:"Sonic, Streets of Rage y ms.",imagen:"/Productos/segagenesis.webp",imagenes:["/Productos/segagenesis.webp"],oferta:!0,estado:"Nuevo",acerca:["Incluye cable de poder y AV","Compatibilidad con cartuchos originales","Diseo retro compacto"],variantes:[{color:"Negro",imagen:"/Productos/segagenesis.webp",imagenes:["/Productos/segagenesis.webp"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc4",nombre:"PlayStation 1",empresa:"PlayStation",precio:3e3,descripcion:"Donde empez la leyenda de Crash y Final Fantasy.",imagen:"/Productos/playstation1.webp",imagenes:["/Productos/playstation1.webp"],oferta:!1,estado:"Nuevo",acerca:["Lector de CD original","Incluye un control clsico","Compatible con memory card"],variantes:[{color:"Gris",imagen:"/Productos/playstation1.webp",imagenes:["/Productos/playstation1.webp"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc5",nombre:"Game Boy Classic",empresa:"Nintendo",precio:1e3,descripcion:"Pokmon Red en tu bolsillo.",imagen:"/Productos/gameboy.jpg",imagenes:["/Productos/gameboy.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla monocromtica","Funciona con pilas AA","Compatible con todos los juegos Game Boy"],variantes:[{color:"Gris",imagen:"/Productos/gameboy.jpg",imagenes:["/Productos/gameboy.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rc6",nombre:"Atari 2600",empresa:"",precio:1e3,descripcion:"La precursora de las consolas modernas.",imagen:"/Productos/atari2600.png",imagenes:["/Productos/atari2600.png"],oferta:!1,estado:"Nuevo",acerca:["Incluye joystick clsico","Compatibilidad con cartuchos originales","Diseo de madera vintage"],variantes:[{color:"Madera",imagen:"/Productos/atari2600.png",imagenes:["/Productos/atari2600.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Retro Juegos",productos:[{id:"rj1",nombre:"Super Mario Bros. (NES)",empresa:"Nintendo",precio:2e3,descripcion:"El juego ms icnico de plataformas 2D.",imagen:"/Productos/mario-bros-.png",imagenes:["/Productos/mario-bros-.png"],oferta:!0,estado:"Nuevo",acerca:["Cartucho original","Compatible con NES y clones","Incluye caja protectora"],variantes:[{color:"Rojo",imagen:"/Productos/mario-bros-.png",imagenes:["/Productos/mario-bros-.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj2",nombre:"The Legend of Zelda (NES)",empresa:"Nintendo",precio:900,descripcion:"Explora Hyrule en 8 bits.",imagen:"/Productos/legen-of-zelda.png",imagenes:["/Productos/legen-of-zelda.png"],oferta:!1,estado:"Nuevo",acerca:["Cartucho dorado","Compatible con NES","Incluye manual digital"],variantes:[{color:"Dorado",imagen:"/Productos/legen-of-zelda.png",imagenes:["/Productos/legen-of-zelda.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj3",nombre:"Donkey Kong Country (SNES)",empresa:"Nintendo",precio:42,descripcion:"Grficos renderizados pioneros.",imagen:"/Productos/dk.jpg",imagenes:["/Productos/dk.jpg"],oferta:!0,estado:"Nuevo",acerca:["Cartucho original","Compatible con SNES","Incluye caja retro"],variantes:[{color:"Verde",imagen:"/Productos/dk.jpg",imagenes:["/Productos/dk.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rj4",nombre:"Crash Bandicoot (PS1)",empresa:"PlayStation",precio:38,descripcion:"Aventura en 3D de culto.",imagen:"/Productos/crash-retro.png",imagenes:["/Productos/crash-retro.png"],oferta:!0,estado:"Nuevo",acerca:["Juego en CD original","Compatible con PS1","Incluye estuche retro"],variantes:[{color:"Naranja",imagen:"/Productos/crash-retro.png",imagenes:["/Productos/crash-retro.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"coleccionables",productos:[{id:"dc1",nombre:"Funko Pop - Mario Bros",empresa:"Funko",precio:1e3,descripcion:"Figura coleccionable de Mario Bros en versin Funko Pop.",imagen:"/Productos/mario_pop.jpg",imagenes:["/Productos/mario_pop.jpg"],oferta:!1,estado:"Nuevo",acerca:["Edicin limitada","Aproximadamente 10 cm de altura","Ideal para fanticos de Nintendo","Caja con ventana para exhibir"],variantes:[{color:"Rojo",imagen:"/Productos/mario_pop.jpg",imagenes:["/Productos/mario_pop.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dc2",nombre:"Figura Coleccionable Zelda Link",empresa:"Nintendo",precio:45,descripcion:"Figura detallada de Link de The Legend of Zelda para coleccionistas.",imagen:"/Productos/zelda_toy.jpg",imagenes:["/Productos/zelda_toy.jpg"],oferta:!0,estado:"Nuevo",acerca:["Alta calidad y detalle","Material PVC resistente","Perfecto para exhibir en vitrinas"],variantes:[{color:"Verde",imagen:"/Productos/zelda_toy.jpg",imagenes:["/Productos/zelda_toy.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dc3",nombre:"Cartucho Retro Pokmon Edicin Coleccionista",empresa:"Nintendo",precio:80,descripcion:"Cartucho original de Pokmon para Game Boy, edicin de coleccin.",imagen:"/Productos/poke_coleccion.jpg",imagenes:["/Productos/poke_coleccion.jpg"],oferta:!1,estado:"Usado",acerca:["Cartucho original y funcional","Perfecto para fans y coleccionistas","Compatible con Game Boy y Game Boy Color"],variantes:[{color:"N/A",imagen:"/Productos/poke_coleccion.jpg",imagenes:["/Productos/poke_coleccion.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Audfonos",productos:[{id:"ps4audio1",nombre:"Gaming Headphones con Micrfono para PS4",precio:29.99,descripcion:"Auriculares con micrfono de reduccin de ruido, compatibles con PS4. Ideales para gaming online y chats en tiempo real.",imagen:"/productospcu/headphones.png",imagenes:["/productospcu/headphones.png"],oferta:!1,estado:"Nuevo",empresa:"PlayStation",acerca:["Conexin directa al control de PS4","Controles de volumen y silencio integrados","Cable de 1.3 metros (4.25 pies)","Diseo cmodo y ajustable","Micrfono con cancelacin de ruido","Sonido claro y ntido ideal para juegos online","Compatible con juegos, chats, Skype y ms"],variantes:[{color:"Negro",imagen:"/productospcu/headphones.png",imagenes:["/productospcu/headphones.png","/productospcu/headphones-back.png"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p1",nombre:"Gaming Headset con Micrfono Ajustable para Xbox 360",sku:"Xbox",precio:800,descripcion:"Audfonos para gaming con micrfono ajustable, conexin directa al control de Xbox 360. Ideal para chat y audio de juego.",imagen:"/productospcu/gamingheadsetxbox.png",imagenes:["/productospcu/gamingheadsetxbox.png"],oferta:!1,estado:"Nuevo",empresa:"Xbox 360",acerca:["Micrfono flexible y ajustable","Conexin por cable al control","Diseo cmodo para largas sesiones","Compatible solo con Xbox 360"],variantes:[{imagen:"/productospcu/gamingheadsetxbox.png",imagenes:["/productospcu/gamingheadsetxbox.png","/productospcu/gaming-headset-back.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"aud1",nombre:"Audfonos Inalmbricos 771A",precio:34.99,descripcion:"Audfonos inalmbricos con micrfono integrado y sonido HD para msica sin interrupciones.",imagen:"/productospcu/audifonos.png",imagenes:["/productospcu/audifonos.png"],oferta:!1,estado:"Nuevo",empresa:"Genrico",acerca:["Sonido de alta definicin","Diseo cmodo para uso prolongado","Micrfono integrado para llamadas o juegos","Conexin inalmbrica Bluetooth","Diseados para msica, pelculas y gaming"],variantes:[{color:"Negro",imagen:"/productospcu/audifonos.png",imagenes:["/productospcu/audifonos.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p2",nombre:"Headset Inalmbrico AH-806W 6D Shock Sound",sku:"AH-806W-WIRELESS",precio:1450,descripcion:"Audfonos inalmbricos con sonido envolvente 6D y graves potentes. Batera recargable, ideal para juegos y msica.",imagen:"/productospcu/minionheadset.png",imagenes:["/productospcu/minionheadset.png"],oferta:!1,estado:"Nuevo",empresa:"Genrico",acerca:["Inalmbrico","Sonido envolvente 6D","Graves potentes","Diseo cmodo y moderno","Batera recargable"],variantes:[{imagen:"/productospcu/minionheadset.png",imagenes:["/productospcu/minionheadset.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"p3",nombre:"MA-1 Wireless Headphone MARIO",sku:"MA1-MARIO",precio:1200,descripcion:"Audfonos inalmbricos edicin especial MARIO, compatibles con varios dispositivos y micrfono incorporado.",imagen:"/productospcu/marioheadset.png",imagenes:["/productospcu/marioheadset.png"],oferta:!1,estado:"Nuevo",empresa:"Nintendo",acerca:["Diseo edicin Mario","Inalmbrico y recargable","Compatibles con dispositivos mviles y PC","Micrfono integrado"],variantes:[{imagen:"/productospcu/marioheadset.png",imagenes:["/productospcu/marioheadset.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cables",productos:[{id:"cb1",nombre:"USB-C a Lightning (1m)",precio:14.99,empresa:"Apple",descripcion:"Carga rpida para iPhone y iPad.",imagen:"/Productos/usb-c.jpg",imagenes:["/Productos/usb-c.jpg"],oferta:!0,estado:"Nuevo",acerca:["Compatible con dispositivos Apple","Longitud de 1 metro","Soporta carga rpida","Conectores reforzados"],variantes:[{color:"Blanco",imagen:"/Productos/usb-c.jpg",imagenes:["/Productos/usb-c.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb2",nombre:"HDMI 4K (2m)",precio:12.99,empresa:"Genrica",descripcion:"Video y audio en alta definicin.",imagen:"/Productos/hdmi4k.jpeg",imagenes:["/Productos/hdmi4k.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Resolucin 4K","Longitud de 2 metros","Compatible con TV, monitores y consolas","Conectores dorados para mejor seal"],variantes:[{color:"Negro",imagen:"/Productos/hdmi4k.jpeg",imagenes:["/Productos/hdmi4k.jpeg"],cantidad:7}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb3",nombre:"USB 3.0 a Micro USB",precio:9.99,empresa:"Genrica",descripcion:"Transferencia rpida para mviles.",imagen:"/Productos/micro.jpg",imagenes:["/Productos/micro.jpg"],oferta:!1,estado:"Nuevo",acerca:["Soporta USB 3.0","Longitud de 1 metro","Ideal para mviles y discos duros externos","Transferencia de datos y carga rpida"],variantes:[{color:"Negro",imagen:"/Productos/micro.jpg",imagenes:["/Productos/micro.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb4",nombre:"Ethernet Cat6 (1.5m)",precio:19.99,empresa:"Genrica",descripcion:"Internet sin interferencias.",imagen:"/Productos/ethernet.jpeg",imagenes:["/Productos/ethernet.jpg"],oferta:!0,estado:"Nuevo",acerca:["Cable de red Cat6","Longitud de 1.5 metros","Alta velocidad y baja interferencia","Ideal para gaming y streaming"],variantes:[{color:"Azul",imagen:"/Productos/ethernet.jpeg",imagenes:["/Productos/ethernet.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cb5",nombre:"DisplayPort 1.4 2m",precio:24.99,empresa:"Genrica",descripcion:"Soporta hasta 8K a 60Hz.",imagen:"/Productos/displayport.jpg",imagenes:["/Productos/displayport.jpg"],oferta:!0,estado:"Nuevo",acerca:["Soporta hasta 8K a 60Hz","Longitud de 2 metros","Compatible con monitores y tarjetas grficas","Conectores de alta calidad"],variantes:[{color:"Negro",imagen:"/Productos/displayport.jpg",imagenes:["/Productos/displayport.jpg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Tu Rincn Variado",productos:[{id:"rv1",nombre:"Bicicleta Urbana MTB 26'' Mongoose",precio:379.99,empresa:"Mongoose",descripcion:"Mongoose, la clsica MTB para la ciudad y off-road.",imagen:"/Productos/mongose.jpg",imagenes:["/Productos/mongose.jpg"],oferta:!0,estado:"Usado",acerca:["Cuadro de acero resistente","Llantas de 26 pulgadas","Ideal para ciudad y caminos","Frenos de disco delanteros y traseros"],variantes:[{color:"Negro",imagen:"/Productos/mongose.jpg",imagenes:["/Productos/mongose.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"mic1",nombre:"Micrfono de Grabacin con Reduccin de Ruido",precio:29.99,empresa:"Genrica",descripcion:"Micrfono ideal para grabar voces e instrumentos, con diseo especial para plataformas como YouTube y Twitch.",imagen:"/productospcu/microfono.png",imagenes:["/productospcu/microfono.png"],oferta:!1,estado:"Nuevo",acerca:["Reduccin de ruido integrada","Ideal para grabar voz e instrumentos","Compatible con YouTube, Skype, Twitch y ms","Perfecto para Home Studio y Oficina","Plug and Play (no requiere drivers)"],variantes:[{color:"Negro",imagen:"/productospcu/microfono.png",imagenes:["/productospcu/microfono.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv2",nombre:"Patineta Elctrica Plegable",precio:499.99,empresa:"Genrica",descripcion:"Compacta, ligera, alcance hasta 25km y full power.",imagen:"/Productos/patinetaelectrica.jpg",imagenes:["/Productos/patinetaelectrica.jpg"],oferta:!0,estado:"Nuevo",acerca:["Motor de 250W","Alcance de hasta 25km","Batera recargable","Plegable y liviana"],variantes:[{color:"Negro",imagen:"/Productos/patinetaelectrica.jpg",imagenes:["/Productos/patinetaelectrica.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv3",nombre:'Hoverboard Autoequilibrado 10"',precio:299.99,empresa:"Genrica",descripcion:"Tecnologa smart para moverte con estilo y velocidad.",imagen:"/Productos/hoverboard.jpg",imagenes:["/Productos/hoverboard.jpg"],oferta:!0,estado:"Usado",acerca:["Ruedas de 10 pulgadas","Sensores de equilibrio inteligente","Luces LED integradas","Batera recargable de larga duracin"],variantes:[{color:"Negro",imagen:"/Productos/hoverboard.jpg",imagenes:["/Productos/hoverboard.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv4",nombre:"Patines en lnea 4 ruedas",precio:79.99,empresa:"Genrica",descripcion:"Estilo y velocidad para deslizarte con flow.",imagen:"/Productos/patines4ruedaasenlinea.jpeg",imagenes:["/Productos/patines4ruedaasenlinea.jpeg"],oferta:!1,estado:"Usado",acerca:["4 ruedas resistentes","Rodamientos ABEC-7","Ajuste seguro","Freno trasero incluido"],variantes:[{color:"Negro",imagen:"/Productos/patines4ruedaasenlinea.jpeg",imagenes:["/Productos/patines4ruedaasenlinea.jpeg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv5",nombre:"Patines clsicos 4 ruedas",precio:69.99,empresa:"Genrica",descripcion:"Roller clsico para pura diversin.",imagen:"/Productos/patinesclasicos.webp",imagenes:["/Productos/patinesclasicos.webp"],oferta:!1,estado:"Usado",acerca:["Diseo clsico","Ruedas de goma","Ajuste cmodo","Disponible en varias tallas"],variantes:[{color:"Blanco",imagen:"/Productos/patinesclasicos.webp",imagenes:["/Productos/patinesclasicos.webp"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv6",nombre:"Ruedas de repuesto para patineta",precio:24.99,empresa:"Genrica",descripcion:"Juego de 4 ruedas para tu patineta o longboard.",imagen:"/Productos/ruedapatineta.webp",imagenes:["/Productos/ruedapatineta.webp"],oferta:!0,estado:"Usado",acerca:["4 ruedas incluidas","Material de poliuretano","Compatibles con skate y longboard","Durabilidad extra"],variantes:[{color:"Transparente",imagen:"/Productos/ruedapatineta.webp",imagenes:["/Productos/ruedapatineta.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv7",nombre:"Casco Protector Urbano",precio:59.99,empresa:"Genrica",descripcion:"Seguridad y estilo en un solo casco moderno.",imagen:"/Productos/casco.jpg",imagenes:["/Productos/casco.jpg"],oferta:!1,estado:"Usado",acerca:["Certificado para ciclismo y skate","Ajuste regulable","Acolchado interno extrable","Ligero y resistente"],variantes:[{color:"Negro",imagen:"/Productos/casco.jpg",imagenes:["/Productos/casco.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv8",nombre:"Botella Trmica 1L Acero Inoxidable",precio:19.99,empresa:"Genrica",descripcion:"Mantiene tus bebidas fras o calientes por horas.",imagen:"/Productos/botella.jpg",imagenes:["/Productos/botella.jpg"],oferta:!1,estado:"Nuevo",acerca:["Capacidad de 1 litro","Acero inoxidable","Tapa a prueba de fugas","Mantiene la temperatura por 12h"],variantes:[{color:"Plateado",imagen:"/Productos/botella.jpg",imagenes:["/Productos/botella.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"rv9",nombre:"Luz LED Recargable para Bicicleta",precio:24.99,empresa:"Genrica",descripcion:"Visibilidad garantizada en la noche, USB recargable.",imagen:"/Productos/lucesbici.webp",imagenes:["/Productos/lucesbici.webp"],oferta:!0,estado:"Nuevo",acerca:["Luz blanca frontal LED","Recargable por USB","Incluye soporte para manubrio","3 modos de intensidad"],variantes:[{color:"Negro",imagen:"/Productos/lucesbici.webp",imagenes:["/Productos/lucesbici.webp"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cmaras",productos:[{id:"cam1",nombre:"Cmara Hikvision Dome 4MP",precio:120,empresa:"Hikvision",descripcion:"Cmara de seguridad tipo Dome con resolucin 4MP, visin nocturna y carcasa resistente.",imagen:"/Productos/hikvision.png",imagenes:["/Productos/hikvision.png"],oferta:!1,estado:"Nuevo",acerca:["Resolucin 4MP","Visin nocturna infrarroja","Carcasa resistente a la intemperie","Fcil instalacin"],variantes:[{color:"Blanco",imagen:"/Productos/hikvision.png",imagenes:["/Productos/hikvision.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam2",nombre:"Cmara Dahua Bullet Full HD",precio:95,empresa:"Dahua",descripcion:"Cmara Bullet Full HD con lente gran angular, ideal para exteriores.",imagen:"/Productos/dahua.webp",imagenes:["/Productos/dahua.webp"],oferta:!1,estado:"Nuevo",acerca:["Full HD 1080p","Lente gran angular","Resistente a la lluvia","Visin nocturna"],variantes:[{color:"Blanco",imagen:"/Productos/dahua.webp",imagenes:["/Productos/dahua.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam3",nombre:"Cmara EZVIZ WiFi 1080p",precio:75,empresa:"EZVIZ",descripcion:"Cmara WiFi con grabacin en la nube, visin nocturna y audio bidireccional.",imagen:"/Productos/ezviz.png",imagenes:["/Productos/ezviz.png"],oferta:!1,estado:"Nuevo",acerca:["Conexin WiFi","Grabacin en la nube","Audio bidireccional","Visin nocturna"],variantes:[{color:"Blanco",imagen:"/Productos/ezviz.png",imagenes:["/Productos/ezviz.png"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cam4",nombre:"Cmara TP-Link Tapo C200",precio:60,empresa:"TP-Link",descripcion:"Cmara PTZ con movimiento horizontal y vertical, notificaciones instantneas y almacenamiento local.",imagen:"/Productos/tapo.webp",imagenes:["/Productos/tapo.webp"],oferta:!1,estado:"Nuevo",acerca:["Control de movimiento PTZ","Notificaciones instantneas","Almacenamiento local SD","Compatible con app mvil"],variantes:[{color:"Blanco",imagen:"/Productos/tapo.webp",imagenes:["/Productos/tapo.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Cargadores",productos:[{id:"cg1",nombre:"Cargador rpido USB-C 20W",empresa:"Genrica",precio:499,descripcion:"Carga eficiente para Android y iPhone.",imagen:"/Productos/cargador-rapido.jpg",imagenes:["/Productos/cargador-rapido.jpg"],oferta:!0,estado:"Nuevo",acerca:["Carga rpida 20W","Compatible con Android y iPhone","Proteccin contra sobrecarga","Diseo compacto"],variantes:[{color:"Blanco",imagen:"/Productos/cargador-rapido.jpg",imagenes:["/Productos/cargador-rapido.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg2",nombre:"Cargador inalmbrico universal",empresa:"Genrica",precio:599,descripcion:"Compatible con smartphones que permiten carga por induccin.",imagen:"/Productos/cargador-inalambrico.jpg",imagenes:["/Productos/cargador-inalambrico.jpg"],oferta:!0,estado:"Nuevo",acerca:["Carga inalmbrica Qi","Funciona con la mayora de smartphones","Diseo antideslizante","Indicador LED de carga"],variantes:[{color:"Negro",imagen:"/Productos/cargador-inalambrico.jpg",imagenes:["/Productos/cargador-inalambrico.jpg"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg3",nombre:"Power Bank 20,000 mAh",empresa:"Genrica",precio:399,descripcion:"Carga hasta 3 dispositivos con alta capacidad.",imagen:"/Productos/powerbank.jpg",imagenes:["/Productos/powerbank.jpg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 20,000 mAh","3 puertos de salida USB","Carga rpida","Pantalla LED de batera"],variantes:[{color:"Negro",imagen:"/Productos/powerbank.jpg",imagenes:["/Productos/powerbank.jpg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cg4",nombre:"Cargador doble USB 30W",empresa:"Genrica",precio:299,descripcion:"Ideal para cargar dos equipos a la vez.",imagen:"/Productos/cargador-doble.jpg",imagenes:["/Productos/cargador-doble.jpg"],oferta:!1,estado:"Nuevo",acerca:["2 puertos USB","Potencia total 30W","Proteccin contra cortocircuito","Compatible con mltiples dispositivos"],variantes:[{color:"Blanco",imagen:"/Productos/cargador-doble.jpg",imagenes:["/Productos/cargador-doble.jpg"],cantidad:9}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Celulares",productos:[{id:"cl1",nombre:"iPhone 14 Pro",empresa:"Apple",precio:999.99,descripcion:"Pantalla Super Retina XDR, chip A16 Bionic.",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Super Retina XDR","Chip A16 Bionic","Triple cmara profesional","Face ID y MagSafe"],variantes:[{color:"Negro",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],cantidad:3},{color:"Morado",imagen:"/Productos/iphone14pro.jpg",imagenes:["/Productos/iphone14pro.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Consolas",productos:[{id:"cs1",nombre:"PlayStation 5",empresa:"PlayStation",precio:499.99,descripcion:"Grficos de nueva generacin y control DualSense.",imagen:"/Productos/ps5.webp",imagenes:["/Productos/ps5.webp"],oferta:!0,estado:"Nuevo",acerca:["Procesador AMD Ryzen","SSD ultrarrpido","Soporta juegos 4K","Incluye control DualSense"],variantes:[{color:"Blanco",imagen:"/Productos/ps5.webp",imagenes:["/Productos/ps5.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs2",nombre:"Xbox Series X",empresa:"Xbox",precio:499.99,descripcion:"La consola ms potente de Xbox.",imagen:"/Productos/xboxseriesx.webp",imagenes:["/Productos/xboxseriesx.webp"],oferta:!0,estado:"Nuevo",acerca:["8K HDR Gaming","Almacenamiento SSD 1TB","Compatible con generaciones anteriores","Incluye control inalmbrico"],variantes:[{color:"Negro",imagen:"/Productos/xboxseriesx.webp",imagenes:["/Productos/xboxseriesx.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs3",nombre:"Nintendo Switch OLED",empresa:"Nintendo",precio:349.99,descripcion:"Llvala donde quieras con pantalla brillante.",imagen:"/Productos/nintendoswitch.jpg",imagenes:["/Productos/nintendoswitch.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla OLED de 7 pulgadas","Modo porttil y TV","Control Joy-Con incluidos","Almacenamiento ampliable"],variantes:[{color:"Blanco",imagen:"/Productos/nintendoswitch.jpg",imagenes:["/Productos/nintendoswitch.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs4",nombre:"Nintendo Switch with Neon Blue and Neon Red JoyCon",empresa:"Nintendo",precio:17e3,descripcion:"Consola hbrida para jugar en casa o donde quieras.",imagen:"/Productos/NS.jpg",imagenes:["/Productos/NS.jpg"],oferta:!1,estado:"Usado",acerca:['Pantalla de 6.2"',"Incluye dos Joy-Con (uno azul nen y uno rojo nen)","Modo TV, sobremesa y porttil","Compatible con todos los juegos de Nintendo Switch"],variantes:[{color:"Nen Azul/Rojo",imagen:"/Productos/NS.jpg",imagenes:["/Productos/NS.jpg","/Productos/NSSS.jpg","/Productos/NSS.jpg","/Productos/NSSSS.jpg","/Productos/N.jpg"],cantidad:1}],videoUrl:"",imagenesExtra:["/Productos/NSS.jpg","/Productos/NSSSS.jpg","/Productos/N.jpg"]},{id:"cs5",nombre:"PlayStation 4",empresa:"PlayStation",precio:299.99,descripcion:"La consola que marc una generacin de gamers.",imagen:"/Productos/ps4.jpg",imagenes:["/Productos/ps4.jpg"],oferta:!0,estado:"Usado",acerca:["Soporte para juegos exclusivos","Almacenamiento 500GB","Blu-ray integrado","Incluye control DualShock 4"],variantes:[{color:"Negro",imagen:"/Productos/ps4.jpg",imagenes:["/Productos/ps4.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs6",nombre:"Xbox One",empresa:"Xbox",precio:279.99,descripcion:"Disfruta juegos, entretenimiento y apps en una sola consola.",imagen:"/Productos/xboxone.webp",imagenes:["/Productos/xboxone.webp"],oferta:!0,estado:"Usado",acerca:["Compatible con Xbox Game Pass","Almacenamiento 500GB","Control inalmbrico incluido","Soporte para apps de streaming"],variantes:[{color:"Negro",imagen:"/Productos/xboxone.webp",imagenes:["/Productos/xboxone.webp"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"cs7",nombre:"Nintendo Wii U Edicin Mario Kart 8 + Nintendo Land",empresa:"Nintendo",precio:8499,descripcion:"Consola Wii U de 32GB edicin especial que incluye Mario Kart 8 y Nintendo Land.",imagen:"/productospcu/mariokart-wiiu.webp",imagenes:["/productospcu/mariokart-wiiu.webp"],oferta:!0,estado:"Usado",acerca:["Incluye Mario Kart 8","Incluye Nintendo Land","Almacenamiento interno de 32GB","Compatible con controles Wii y Wii U Pro","Compatible con juegos de Wii"],variantes:[{color:"Negro",imagen:"/productospcu/mariokart-wiiu.webp",imagenes:["/productospcu/mariokart-wiiu.webp","/productospcu/mariokart-consola-wiiu.webp","/productospcu/consolawiiu.webp","/productospcu/consola-wiiu.webp","/productospcu/juegomariokart.webp","/productospcu/cables-wiiu.webp"],cantidad:1}],videoUrl:"/videos/",imagenesExtra:["/productospcu/mariokart-consola-wiiu.webp","/productospcu/consola-wiiu.webp","/productospcu/juegomariokart.webp"]},{id:"cs8",nombre:"Nintendo Wii + Wii Sports + Wii Sports Resort",empresa:"Nintendo",precio:5999,descripcion:"Consola Wii clsica con juegos Wii Sports, Wii Sports Resort y accesorio Motion Plus.",imagen:"/productospcu/wii-black.webp",imagenes:["/productospcu/wii-black.webp"],oferta:!0,estado:"Usado",acerca:["Incluye Wii Motion Plus","Compatible con juegos y accesorios clsicos de Wii","Ideal para juegos familiares y de movimiento"],variantes:[{color:"Blanco",imagen:"/productospcu/wii-black.webp",imagenes:["/productospcu/wii-black.webp","/productospcu/wii-console.jpg","/productospcu/wiii-pack.png"],cantidad:1}],videoUrl:"/videos/",imagenesExtra:["/productospcu/wii-black.webp","/productospcu/wii-console.jpg","/productospcu/wiii-pack.png"]}]},{categoria:"Discos Duros",productos:[{id:"dd1",nombre:"Seagate 1TB Externo",empresa:"Seagate",precio:59.99,descripcion:"Pequeo, rpido y confiable.",imagen:"/Productos/seagate.png",imagenes:["/Productos/seagate.png"],oferta:!0,estado:"Nuevo",acerca:["Capacidad de 1TB","USB 3.0 para alta velocidad","Compatible con Windows y Mac","Diseo porttil y resistente"],variantes:[{color:"Negro",imagen:"/Productos/seagate.png",imagenes:["/Productos/seagate.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd2",nombre:"SSD Samsung 500GB",empresa:"Samsung",precio:89.99,descripcion:"Perfecto para acelerar tu sistema.",imagen:"/Productos/samsung.webp",imagenes:["/Productos/samsung.webp"],oferta:!0,estado:"Nuevo",acerca:["500GB SSD","Velocidad de lectura/escritura superior a 500MB/s","Interfaz SATA III","Ideal para laptops y PC"],variantes:[{color:"Negro",imagen:"/Productos/samsung.webp",imagenes:["/Productos/samsung.webp"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd3",nombre:"WD 2TB Externo",empresa:"Western Digital",precio:79.99,descripcion:"Ideal para respaldo completo.",imagen:"/Productos/wd2tb.jpg",imagenes:["/Productos/wd2tb.jpg"],oferta:!1,estado:"Nuevo",acerca:["2TB de capacidad","USB 3.0","Proteccin por hardware","Diseo resistente"],variantes:[{color:"Negro",imagen:"/Productos/wd2tb.jpg",imagenes:["/Productos/wd2tb.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd4",nombre:"Crucial X6 SSD 1TB",empresa:"Crucial",precio:99.99,descripcion:"Ultraporttil con conexin USB-C.",imagen:"/Productos/crucial.jpg",imagenes:["/Productos/crucial.jpg"],oferta:!0,estado:"Nuevo",acerca:["1TB SSD externo","Interfaz USB-C","Resistente a golpes","Ultracompacto"],variantes:[{color:"Negro",imagen:"/Productos/crucial.jpg",imagenes:["/Productos/crucial.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"dd5",nombre:"LaCie Rugged 4TB",empresa:"LaCie",precio:179.99,descripcion:"Resistente a golpes y polvo, ideal para creativos.",imagen:"/Productos/lacie-rugged.jpg",imagenes:["/Productos/lacie-rugged.jpg"],oferta:!0,estado:"Nuevo",acerca:["4TB de capacidad","Proteccin anticadas","USB-C y Thunderbolt","Diseo resistente a polvo y agua"],variantes:[{color:"Naranja",imagen:"/Productos/lacie-rugged.jpg",imagenes:["/Productos/lacie-rugged.jpg"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Electrodomsticos",productos:[{id:"ed1",nombre:"Licuadora Oster clsica",empresa:"Oster",precio:69.99,descripcion:"Motor potente con jarra de vidrio.",imagen:"/Productos/licuadora-oster.jpg",imagenes:["/Productos/licuadora-oster.jpg"],oferta:!0,estado:"Nuevo",acerca:["Motor de 600W","Jarra de vidrio de 1.25L","Cuchillas de acero inoxidable","Fcil de limpiar"],variantes:[{color:"Negro",imagen:"/Productos/licuadora-oster.jpg",imagenes:["/Productos/licuadora-oster.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Gaming Chairs",productos:[{id:"gc1",nombre:"Silla Gamer Reclinable RGB",empresa:"Generica",precio:229.99,descripcion:"Iluminacin RGB y soporte lumbar acolchado.",imagen:"/Productos/silla-gamer-rgb.jpg",imagenes:["/Productos/silla-gamer-rgb.jpg"],oferta:!0,estado:"Nuevo",acerca:["Iluminacin RGB personalizable","Soporte lumbar acolchado","Reposabrazos ajustable","Reclinable hasta 180"],variantes:[{color:"Negro",imagen:"/Productos/silla-gamer-rgb.jpg",imagenes:["/Productos/silla-gamer-rgb.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Laptops",productos:[{id:"lp1",nombre:"Laptop Dell Inspiron 15",empresa:"Dell",precio:799.99,descripcion:"Intel i5, SSD 256GB, pantalla 15.6.",imagen:"/Productos/dell-inspiron15.jpg",imagenes:["/Productos/dell-inspiron15.jpg"],oferta:!0,estado:"Nuevo",acerca:["Procesador Intel Core i5","SSD 256GB","Pantalla 15.6'' Full HD","Windows 11 preinstalado"],variantes:[{color:"Gris",imagen:"/Productos/dell-inspiron15.jpg",imagenes:["/Productos/dell-inspiron15.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Monitores",productos:[{id:"mn1",nombre:"LG 27 pulgadas 4K",empresa:"LG",precio:399.99,descripcion:"Colores vibrantes para diseo y gaming.",imagen:"/Productos/monitor-lg-4k.jpg",imagenes:["/Productos/monitor-lg-4k.jpg"],oferta:!0,estado:"Nuevo",acerca:["Resolucin 4K UHD","Pantalla IPS 27''","Frecuencia de actualizacin 60Hz","Compatible con HDMI y DisplayPort"],variantes:[{color:"Negro",imagen:"/Productos/monitor-lg-4k.jpg",imagenes:["/Productos/monitor-lg-4k.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Tablets",productos:[{id:"tb1",nombre:"iPad Pro 12.9",empresa:"Apple",precio:999.99,descripcion:"Chip M1 y pantalla Liquid Retina.",imagen:"/Productos/ipad-pro.jpg",imagenes:["/Productos/ipad-pro.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Liquid Retina 12.9''","Chip Apple M1","Compatible con Apple Pencil","Face ID y USB-C"],variantes:[{color:"Gris espacial",imagen:"/Productos/ipad-pro.jpg",imagenes:["/Productos/ipad-pro.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Teclados",productos:[{id:"acc1",nombre:"Mini Teclado Inalmbrico con Touchpad",empresa:"Genrico",precio:24.99,descripcion:"Mini teclado inalmbrico con touchpad integrado, ideal para controlar tu PC, Smart TV o consola desde el sof.",imagen:"/productospcu/miniteclado.png",imagenes:["/productospcu/miniteclado.png"],oferta:!1,estado:"Nuevo",acerca:["Touchpad con funcin DPI ajustable","Compatible con PC, Smart TV, Android TV Box, consolas y ms","Porttil, elegante y fcil de usar","Rueda de mouse integrada para navegacin fluida","Control multimedia remoto especfico","Diseo compacto y recargable"],variantes:[{color:"Negro",imagen:"/productospcu/miniteclado.png",imagenes:["/productospcu/miniteclado.png","/productospcu/tminieclado-back.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Videojuegos",productos:[{id:"vj3",nombre:"The Legend of Zelda: Breath of the Wild",empresa:"Nintendo",precio:59.99,descripcion:"Aventura pica en mundo abierto.",imagen:"/Productos/zelda.webp",imagenes:["/Productos/zelda.webp"],oferta:!0,estado:"Nuevo",acerca:["Exploracin libre","Compatible con Nintendo Switch","Gran duracin de juego","Grficos impresionantes"],variantes:[{color:"Verde",imagen:"/Productos/zelda.webp",imagenes:["/Productos/zelda.webp"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj5",nombre:"Marvel's Spider-Man: Miles Morales (PS5)",empresa:"PlayStation",precio:49.99,descripcion:"gil y cinematogrfica aventura del universo Marvel.",imagen:"/Productos/spider-manps5.jpeg",imagenes:["/Productos/spider-manps5.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Exclusivo para PS5","Grficos en 4K","Historia original Marvel","Accin en mundo abierto"],variantes:[{color:"Negro",imagen:"/Productos/spider-manps5.jpeg",imagenes:["/Productos/spider-manps5.jpeg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj6",nombre:"Mario Kart 8 Deluxe (Switch)",empresa:"Nintendo",precio:59.99,descripcion:"Carreras locas, tems clsicos y multiplayer pico.",imagen:"/Productos/Mario-Kart-8.jpeg",imagenes:["/Productos/Mario-Kart-8.jpeg"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Nintendo Switch","Multijugador local y online","Incluye todos los DLC","Frenes de carreras"],variantes:[{color:"Rojo",imagen:"/Productos/Mario-Kart-8.jpeg",imagenes:["/Productos/Mario-Kart-8.jpeg"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"vj7",nombre:"Super Smash Bros. Ultimate (Switch)",empresa:"Nintendo",precio:64.99,descripcion:"El crossover de batallas ms grande de Nintendo.",imagen:"/Productos/super-smash-bros.jpg",imagenes:["/Productos/super-smash-bros.jpg"],oferta:!0,estado:"Nuevo",acerca:["Ms de 70 personajes jugables","Compatible con Nintendo Switch","Modo aventura y multijugador","Todos los universos de Nintendo"],variantes:[{color:"Azul",imagen:"/Productos/super-smash-bros.jpg",imagenes:["/Productos/super-smash-bros.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Smart TV",productos:[{id:"tv1",nombre:'Samsung Smart TV 55" UHD',empresa:"Samsung",precio:499.99,descripcion:"4K UHD, control por voz y apps integradas.",imagen:"/Productos/samsung-smarttv.jpg",imagenes:["/Productos/samsung-smarttv.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla 55'' 4K UHD","Control por voz integrado","Acceso a apps de streaming","HDR10+ y WiFi"],variantes:[{color:"Negro",imagen:"/Productos/samsung-smarttv.jpg",imagenes:["/Productos/samsung-smarttv.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Memorias USB",productos:[{id:"usb1",nombre:"USB SanDisk 64GB",empresa:"SanDisk",precio:12.99,descripcion:"Compacta y veloz para llevar tus archivos.",imagen:"/Productos/sandisk.jpeg",imagenes:["/Productos/sandisk.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 64GB","USB 3.1","Diseo resistente","Compatible con Windows, Mac y Linux"],variantes:[{color:"Negro",imagen:"/Productos/sandisk.jpeg",imagenes:["/Productos/sandisk.jpeg"],cantidad:10}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb2",nombre:"Kingston 128GB USB 3.1",empresa:"Kingston",precio:19.99,descripcion:"Velocidades superiores para trabajo o backup.",imagen:"/Productos/kingston.webp",imagenes:["/Productos/kingston.webp"],oferta:!1,estado:"Nuevo",acerca:["Capacidad 128GB","USB 3.1 Gen 1","Alto rendimiento de lectura y escritura","Diseo compacto"],variantes:[{color:"Negro",imagen:"/Productos/kingston.webp",imagenes:["/Productos/kingston.webp"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb3",nombre:"HP v150w 32GB",empresa:"HP",precio:8.99,descripcion:"Diseo duradero y prctico.",imagen:"/Productos/hp.jpeg",imagenes:["/Productos/hp.jpeg"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 32GB","USB 2.0","Resistente al agua y golpes","Ideal para portabilidad"],variantes:[{color:"Azul",imagen:"/Productos/hp.jpeg",imagenes:["/Productos/hp.jpeg"],cantidad:12}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"usb4",nombre:"Corsair Flash Voyager 256GB",empresa:"Corsair",precio:49.99,descripcion:"Almacenamiento masivo en formato USB 3.0.",imagen:"/Productos/corsair.avif",imagenes:["/Productos/corsair.avif"],oferta:!0,estado:"Nuevo",acerca:["Capacidad 256GB","USB 3.0 de alta velocidad","Diseo resistente al agua","Compatible con todos los sistemas operativos"],variantes:[{color:"Negro",imagen:"/Productos/corsair.avif",imagenes:["/Productos/corsair.avif"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Hogar Inteligente",productos:[{id:"hi1",nombre:"Foco inteligente Wi-Fi RGB",empresa:"Philips",precio:24.99,descripcion:"Control desde app o comandos de voz.",imagen:"/Productos/foco-inteligente.jpg",imagenes:["/Productos/foco-inteligente.jpg"],oferta:!0,estado:"Usado",acerca:["Control por app o voz","Colores RGB configurables","Compatible con Alexa y Google","Ahorro energtico"],variantes:[{color:"Blanco",imagen:"/Productos/foco-inteligente.jpg",imagenes:["/Productos/foco-inteligente.jpg"],cantidad:8}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"hi2",nombre:"Enchufe inteligente TP-Link",empresa:"TP-Link",precio:19.99,descripcion:"Controla cualquier dispositivo desde tu celular.",imagen:"/Productos/enchufeinteligentewifi.jpg",imagenes:["/Productos/enchufeinteligentewifi.jpg"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Alexa y Google","Programacin de horarios","Fcil instalacin","Control remoto va app"],variantes:[{color:"Blanco",imagen:"/Productos/enchufeinteligentewifi.jpg",imagenes:["/Productos/enchufeinteligentewifi.jpg"],cantidad:12}],videoUrl:"https://tulinkalvideo2.mp4",imagenesExtra:["/Productos/enchufe-extra1.jpg","/Productos/enchufe-extra2.jpg","/Productos/enchufe-extra3.jpg"]},{id:"hi4",nombre:"Sensor de movimiento Wi-Fi",empresa:"Sonoff",precio:15.5,descripcion:"Detecta movimientos y enva alertas instantneas.",imagen:"/Productos/sensormovimientowifi.jpg",imagenes:["/Productos/sensormovimientowifi.jpg"],oferta:!0,estado:"Nuevo",acerca:["Notificaciones en tiempo real","Conexin Wi-Fi","Bajo consumo","Fcil integracin con otros dispositivos"],variantes:[{color:"Blanco",imagen:"/Productos/sensormovimientowifi.jpg",imagenes:["/Productos/sensormovimientowifi.jpg"],cantidad:6}],videoUrl:"https://tulinkalvideo3.mp4",imagenesExtra:["/Productos/sensor-extra1.jpg","/Productos/sensor-extra2.jpg","/Productos/sensor-extra3.jpg"]},{id:"hi8",nombre:"Amazon Echo Dot",empresa:"Amazon",precio:39.99,descripcion:"Asistente de voz Alexa en diseo compacto.",imagen:"/Productos/echodot.png",imagenes:["/Productos/echodot.png"],oferta:!1,estado:"Usado",acerca:["Control por voz","Sonido mejorado","Compatible con dispositivos inteligentes","Diseo moderno"],variantes:[{color:"Negro",imagen:"/Productos/echodot.png",imagenes:["/Productos/echodot.png"],cantidad:5}],videoUrl:"https://tulinkalvideo4.mp4",imagenesExtra:["/Productos/echodot-extra1.jpg","/Productos/echodot-extra2.jpg","/Productos/echodot-extra3.jpg"]},{id:"hi9",nombre:"Amazon Echo Show 8",empresa:"Amazon",precio:89.99,descripcion:"Pantalla inteligente con Alexa integrada.",imagen:"/Productos/alexaecho.webp",imagenes:["/Productos/alexaecho.webp"],oferta:!0,estado:"Nuevo",acerca:["Pantalla tctil HD","Llamadas y videollamadas","Cmara integrada","Control por voz"],variantes:[{color:"Negro",imagen:"/Productos/alexaecho.webp",imagenes:["/Productos/alexaecho.webp"],cantidad:4}],videoUrl:"https://tulinkalvideo5.mp4",imagenesExtra:["/Productos/echoshow-extra1.jpg","/Productos/echoshow-extra2.jpg","/Productos/echoshow-extra3.jpg"]},{id:"hi11",nombre:"Smart Plug compatible con Alexa",empresa:"Gosund",precio:14.99,descripcion:"Control remoto de dispositivos con la voz.",imagen:"/Productos/smartplug.jpg",imagenes:["/Productos/smartplug.jpg"],oferta:!1,estado:"Nuevo",acerca:["Funciona con Alexa y Google","Fcil instalacin","Ahorro de energa","App intuitiva"],variantes:[{color:"Blanco",imagen:"/Productos/smartplug.jpg",imagenes:["/Productos/smartplug.jpg"],cantidad:10}],videoUrl:"https://tulinkalvideo6.mp4",imagenesExtra:["/Productos/smartplug-extra1.jpg","/Productos/smartplug-extra2.jpg","/Productos/smartplug-extra3.jpg"]}]},{categoria:"Impresoras",productos:[{id:"imp001",nombre:"Impresora Epson EcoTank L3250",empresa:"Epson",precio:229.99,descripcion:"Impresora multifuncional con sistema de tinta continua, ideal para hogar y oficina.",imagen:"/Productos/epson-l3250.jpg",imagenes:["/Productos/epson-l3250.jpg"],oferta:!0,estado:"Usado",acerca:["Sistema de tinta continua EcoTank","Impresin, escaneo y copiado","WiFi y USB","Ahorro en costos de impresin"],variantes:[{color:"Negro",imagen:"/Productos/epson-l3250.jpg",imagenes:["/Productos/epson-l3250.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Nuevos Lanzamientos",productos:[{id:"nl3",nombre:"Nintendo Switch 2",empresa:"Nintendo",precio:449.99,descripcion:"Pantalla mejorada, nuevo dock y retrocompatibilidad.",imagen:"/Productos/switch2.jpg",imagenes:["/Productos/switch2.jpg"],oferta:!0,estado:"Usado",acerca:["Pantalla OLED mejorada","Nuevo dock con salida 4K","Retrocompatible con Switch 1","Mayor duracin de batera"],variantes:[{color:"Negro",imagen:"/Productos/switch2.jpg",imagenes:["/Productos/switch2.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Ofertas Especiales",productos:[{id:"of3",nombre:"Oferta Smart TV + Soporte",empresa:"Samsung",precio:519.99,descripcion:"Ideal para tu setup de sala o habitacin.",imagen:"/Productos/combo-tv.jpg",imagenes:["/Productos/combo-tv.jpg"],oferta:!0,estado:"Nuevo",acerca:["Smart TV 50'' 4K UHD","Soporte de pared incluido","Control remoto","Conectividad HDMI y USB"],variantes:[{color:"Negro",imagen:"/Productos/combo-tv.jpg",imagenes:["/Productos/combo-tv.jpg"],cantidad:2}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Relojes Inteligentes",productos:[{id:"rl1",nombre:"Apple Watch Series 9",empresa:"Apple",precio:399.99,descripcion:"Monitoreo avanzado de salud y entrenamiento.",imagen:"/Productos/apple-watch9.jpg",imagenes:["/Productos/apple-watch9.jpg"],oferta:!0,estado:"Nuevo",acerca:["Pantalla Always-On Retina","Resistencia al agua 50m","Monitoreo de salud y ejercicio","Hasta 18h de batera"],variantes:[{color:"Gris",imagen:"/Productos/apple-watch9.jpg",imagenes:["/Productos/apple-watch9.jpg"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"AccesoriosVideojuegos",productos:[{id:"sw2",nombre:"Crystal Protector para Nintendo Switch (PCS-2545)",empresa:"Nintendo",precio:14.99,descripcion:"Protector rgido y transparente para proteger tu consola Nintendo Switch de golpes y rayaduras.",imagen:"/productospcu/cristal-protector.png",imagenes:["/productospcu/cristal-protector.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado especficamente para Nintendo Switch","Material acrlico transparente resistente a impactos","Permite acceso a todos los botones y puertos","Fcil de instalar y remover","Proteccin total sin perder visibilidad del diseo original"],variantes:[{imagen:"/productospcu/cristal-protector.png",imagenes:["/productospcu/cristal-protector.png","/productospcu/cristal-protector-back.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw4",nombre:"Cargador Doble para Switch Joy-Con & Pro Controller",empresa:"Nintendo",precio:24.99,descripcion:"Base de carga para 2 Joy-Con y un Pro Controller al mismo tiempo.",imagen:"/productospcu/cargador-controles.png",imagenes:["/productospcu/cargador-controles.png"],oferta:!1,estado:"Nuevo",acerca:["Carga simultneamente 2 Joy-Con y 1 Pro Controller","Diseo compacto y resistente","Luz LED de estado de carga","Compatible con Nintendo Switch","Fabricado por DOBE / FOMIS Electronics"],variantes:[{color:"Negro",imagen:"/productospcu/cargador-controles.png",imagenes:["/productospcu/cargador-controles.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw3",nombre:"Base Soporte Handgrip para Joy-Con",empresa:"Nintendo",precio:9.99,descripcion:"Base para convertir tus Joy-Con en un solo control estilo tradicional.",imagen:"/productospcu/n-switch.png",imagenes:["/productospcu/n-switch.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado para Nintendo Switch Joy-Con","NS Joy-Con no incluidos","Convierte los Joy-Con en un control nico","Diseo cmodo para largas sesiones","Fabricado en plstico resistente"],variantes:[{color:"Negro",imagen:"/productospcu/n-switcg.png",imagenes:["/productospcu/n-switch.png","/productospcu/n-switch-back.png"],cantidad:6}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Mouses",productos:[{id:"p4",nombre:"Mouse Gamer MEE TION M371",empresa:"MEE TION",sku:"M371-GAMING",precio:700,descripcion:"Mouse con iluminacin LED, 3 niveles de DPI (800/1200/1600), botones de navegacin y diseo ergonmico.",imagen:"/Productospcu/meetionmouse.png",imagenes:["/Productospcu/meetionmouse.png"],oferta:!1,estado:"Nuevo",acerca:["Iluminacin LED breathing","3 niveles de DPI: 800/1200/1600","Botones adicionales para navegacin","Sensor ptico preciso"],variantes:[{imagen:"/Productospcu/meetionmouse.png",imagenes:["/Productospcu/meetionmouse.png"],cantidad:4}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]},{categoria:"Controles",productos:[{id:"p5",nombre:"Controlador Inalmbrico para Nintendo Switch",sku:"NS-WIRELESS",empresa:"Nintendo",precio:1450,descripcion:"Control inalmbrico con sensores de movimiento, vibracin doble y conexin USB Tipo-C. Compatible con Nintendo Switch.",imagen:"/productospcu/controlN-S.png",imagenes:["/productospcu/controlN-S.png"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Nintendo Switch","Sensores de movimiento","Vibracin doble","Recargable por USB Tipo-C","Conexin Bluetooth"],variantes:[{imagen:"/productospcu/controlN-S.png",imagenes:["/productospcu/controlN-S.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"sw1",nombre:"Nintendo Switch Pro Controller",empresa:"Nintendo",precio:69.99,descripcion:"Control inalmbrico original para Nintendo Switch con excelente ergonoma y respuesta precisa.",imagen:"/productospcu/control-pro.png",imagenes:["/productospcu/control-pro.png"],oferta:!1,estado:"Nuevo",acerca:["Diseado para Nintendo Switch","Conexin inalmbrica estable va Bluetooth","Compatible con vibracin HD y sensores de movimiento","Batera recargable de larga duracin","Diseo ergonmico para mayor comodidad"],variantes:[{imagen:"/productospcu/control-pro.png",imagenes:["/productospcu/control-pro.png","/productospcu/control-pro-back.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"xone1",nombre:"Control Inalmbrico para Xbox One",empresa:"Xbox",precio:64.99,descripcion:"Control inalmbrico original para Xbox One con vibracin precisa y agarre texturizado.",imagen:"/productospcu/control-one.png",imagenes:["/productospcu/control-one.png"],oferta:!1,estado:"Nuevo",acerca:["Compatibilidad con Xbox One y PC","Conexin inalmbrica estable","Vibracin precisa y sensibilidad mejorada","Diseo ergonmico con agarre texturizado","Soporta conexin va Bluetooth o cable USB"],variantes:[{imagen:"/productospcu/control-one.png",imagenes:["/productospcu/control-one.png"],cantidad:3}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"wii1",nombre:"Control Remoto + Nunchuk para Wii (Motion Plus)",empresa:"Nintendo",precio:39.99,descripcion:"Combo de control remoto y nunchuk cableado compatible con Motion Plus.",imagen:"/productospcu/control-wii.png",imagenes:["/productospcu/control-wii.png"],oferta:!1,estado:"Nuevo",acerca:["Compatible con Wii y Wii U","Incluye control remoto inalmbrico y nunchuk con cable","Soporte para Motion Plus integrado","Funciona con todos los juegos compatibles","Diseo liviano y ergonmico"],variantes:[{imagen:"/productospcu/control-wii.png",imagenes:["/productospcu/control-wii.png"],cantidad:5}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"c5",nombre:"Sony DualShock 4 Wireless Controller para PS4 / PS TV / PS Now",empresa:"PlayStation",precio:54.99,descripcion:"Control original con conexin inalmbrica y vibracin dual compatible con mltiples plataformas.",imagen:"/productospcu/dualshock4-negro.png",imagenes:["/productospcu/dualshock4-negro.png","/productospcu/Adualshock4-rojo.png","/productospcu/dualshock4-azul.png","/productospcu/dualshock4-back.png"],acerca:["Conexin inalmbrica Bluetooth para mayor libertad de juego","Panel tctil multitctil en la parte frontal","Barra de luz integrada para seguimiento y personalizacin","Jack de audio de 3.5 mm para auriculares","Compatible con PS4, PS TV, PS Now y PC va Bluetooth o cable USB","Batera recargable con hasta 8 horas de duracin"],variantes:[{color:"Negro",imagen:"/productospcu/dualshock4-negro.png",imagenes:["/productospcu/dualshock4-negro.png","/productospcu/dualshock4-back.png"],cantidad:1},{color:"Rojo",imagen:"/productospcu/Adualshock4-rojo.png",imagenes:["/productospcu/Adualshock4-rojo.png","/productospcu/dualshock4-back.png"],cantidad:1},{color:"Azul",imagen:"/productospcu/dualshock4-azul.png",imagenes:["/productospcu/dualshock4-azul.png","/productospcu/dualshock4-back.png"],cantidad:1}],videoUrl:"",imagenesExtra:["/Productos/","/Productos/","/Productos/"],oferta:!0,estado:"Nuevo"},{id:"ps2ctrl1",nombre:"Control Sony DualShock 2 para PS2",empresa:"PlayStation",precio:29.99,descripcion:"Control original con vibracin dual y sticks analgicos, compatible con todas las consolas PlayStation 2.",imagen:"/productospcu/dualshock2.png",imagenes:["/productospcu/dualshock2.png"],oferta:!1,estado:"Nuevo",acerca:["Fabricado por Sony para PlayStation 2","Vibracin dual para una experiencia inmersiva","Dos sticks analgicos con alta precisin","Diseo ergonmico clsico","Compatible con todos los modelos de PS2","Cable de conexin robusto"],variantes:[{color:"Negro",imagen:"/productospcu/dualshock2.png",imagenes:["/productospcu/dualshock2.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]},{id:"xone2",nombre:"Control Inalmbrico Cosaux FM08 para Xbox",empresa:"Xbox",precio:34.99,descripcion:"Gamepad inalmbrico estilo Xbox, ideal para juegos casuales en PC o consola. *Producto sin probar (untested)*.",imagen:"/productospcu/controlxbox.png",imagenes:["/productospcu/controlxbox.png"],oferta:!0,estado:"Nuevo",acerca:["Diseo ergonmico tipo Xbox","Botones responsivos y joystick doble","Conectividad inalmbrica","Compatible con PC y algunas consolas","Ideal como control secundario","*Nota: producto sin probar (untested)*"],variantes:[{color:"Negro",imagen:"/productospcu/controlxbox.png",imagenes:["/productospcu/controlxbox.png"],cantidad:1}],videoUrl:"https://tulinkalvideo.mp4",imagenesExtra:["/Productos/producto-x-1.jpg","/Productos/producto-x-2.jpg","/Productos/producto-x-3.jpg"]}]}],nb=A.forwardRef(({onClose:t,placeholder:e="Buscar en pcu.com.do"},n)=>{const[r,i]=A.useState(""),[a,l]=A.useState([]),[u,h]=A.useState(!1),m=A.useRef(null),g=fr(),y=Vi.flatMap(E=>E.productos),x=E=>{if(!E.trim())return[];const k=E.toLowerCase();return y.filter(D=>{const F=D.nombre.toLowerCase(),O=(D.empresa||"").toLowerCase();return F.includes(k)||O.includes(k)})};A.useEffect(()=>{if(!r.trim()){l([]),h(!1);return}const E=setTimeout(()=>{const k=x(r);l(k),h(!0)},250);return()=>clearTimeout(E)},[r]),A.useEffect(()=>{const E=k=>{m.current&&!m.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const _=E=>{E.preventDefault(),r.trim()&&(g(`/buscar?q=${encodeURIComponent(r.trim())}`),i(""),l([]),h(!1),t&&t())},P=E=>{const k=E.nombre.trim();g(`/buscar?q=${encodeURIComponent(k)}`),i(""),l([]),h(!1),t&&t()};return d.jsxs("div",{className:"relative w-full",ref:m,children:[d.jsxs("form",{onSubmit:_,className:"flex w-full",children:[d.jsx("input",{type:"text",ref:n,value:r,onChange:E=>i(E.target.value),placeholder:e,className:"flex-grow border border-gray-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",autoComplete:"off"}),d.jsx("button",{type:"submit",className:"ml-2 px-4 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-md text-sm font-semibold transition",children:"Buscar"})]}),u&&a.length>0&&d.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-md max-h-72 overflow-y-auto",children:a.map(E=>d.jsxs("li",{onClick:()=>P(E),className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-base break-words",title:`${E.nombre} ${E.empresa?"- "+E.empresa:""}`,children:[d.jsx("div",{className:"font-semibold",children:E.nombre}),E.empresa&&d.jsx("div",{className:"text-xs text-gray-500",children:E.empresa})]},E.id))})]})}),K4=()=>{};var rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,g=a>>2,y=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,_=m&63;h||(_=64,l||(x=64)),r.push(n[g],n[y],n[x],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||m==null||y==null)throw new X4;const x=a<<2|u>>4;if(r.push(x),m!==64){const _=u<<4&240|m>>2;if(r.push(_),y!==64){const P=m<<6&192|y;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y4=function(t){const e=aS(t);return lS.encodeByteArray(e,!0)},Nf=function(t){return Y4(t).replace(/\./g,"")},cS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=()=>J4().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof rb>"u")return;const t=rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cS(t[1]);return e&&JSON.parse(e)},up=()=>{try{return K4()||Z4()||eI()||tI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uS=t=>{var e,n;return(n=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dS=t=>{const e=uS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hS=()=>{var t;return(t=up())===null||t===void 0?void 0:t.config},fS=t=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(l)),""].join(".")}const uu={};function rI(){const t={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?t.emulator.push(e):t.prod.push(e);return t}function iI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ib=!1;function Ry(t,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||uu[t]===e||uu[t]||ib)return;uu[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=rI().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ib=!0,l()},x}function g(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=iI(r),_=n("text"),P=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),k=document.getElementById(E)||document.createElement("a"),D=n("preprendIcon"),F=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const O=x.element;u(O),g(k,E);const B=m();h(F,D),O.append(F,P,k,B),document.body.appendChild(O)}a?(P.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function oI(){var t;const e=(t=up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dI(){return!oI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pI,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?mI(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Xi(i,u,r)}}function mI(t,e){return t.replace(gI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gI=/\{\$([^}]+)}/g;function yI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(sb(a)&&sb(l)){if(!wa(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vI(t,e){const n=new xI(t,e);return n.subscribe.bind(n)}class xI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ig),i.error===void 0&&(i.error=Ig),i.complete===void 0&&(i.complete=Ig);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EI(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_I(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _I(t){return t===la?void 0:t}function EI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const TI={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},PI=Xe.INFO,CI={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},kI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const NI=(t,e)=>e.some(n=>t instanceof n);let ob,ab;function AI(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mS=new WeakMap,w0=new WeakMap,gS=new WeakMap,jg=new WeakMap,Vy=new WeakMap;function jI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(fo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mS.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}function RI(t){if(w0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});w0.set(t,e)}let b0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DI(t){b0=t(b0)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rg(this),e,...n);return gS.set(r,e.sort?e.sort():[e]),fo(r)}:II().includes(t)?function(...e){return t.apply(Rg(this),e),fo(mS.get(this))}:function(...e){return fo(t.apply(Rg(this),e))}}function OI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&RI(t),NI(t,AI())?new Proxy(t,b0):t)}function fo(t){if(t instanceof IDBRequest)return jI(t);if(jg.has(t))return jg.get(t);const e=OI(t);return e!==t&&(jg.set(t,e),Vy.set(e,t)),e}const Rg=t=>Vy.get(t);function MI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=fo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(fo(l.result),h.oldVersion,h.newVersion,fo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const LI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],Dg=new Map;function lb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LI.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&h.done]))[0]};return Dg.set(e,a),a}DI(t=>({...t,get:(e,n,r)=>lb(e,n)||t.get(e,n,r),has:(e,n)=>!!lb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _0="@firebase/app",cb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Dy("@firebase/app"),$I="@firebase/app-compat",zI="@firebase/analytics-compat",WI="@firebase/analytics",HI="@firebase/app-check-compat",qI="@firebase/app-check",GI="@firebase/auth",KI="@firebase/auth-compat",QI="@firebase/database",XI="@firebase/data-connect",YI="@firebase/database-compat",JI="@firebase/functions",ZI="@firebase/functions-compat",ej="@firebase/installations",tj="@firebase/installations-compat",nj="@firebase/messaging",rj="@firebase/messaging-compat",ij="@firebase/performance",sj="@firebase/performance-compat",oj="@firebase/remote-config",aj="@firebase/remote-config-compat",lj="@firebase/storage",cj="@firebase/storage-compat",uj="@firebase/firestore",dj="@firebase/ai",hj="@firebase/firestore-compat",fj="firebase",pj="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="[DEFAULT]",mj={[_0]:"fire-core",[$I]:"fire-core-compat",[WI]:"fire-analytics",[zI]:"fire-analytics-compat",[qI]:"fire-app-check",[HI]:"fire-app-check-compat",[GI]:"fire-auth",[KI]:"fire-auth-compat",[QI]:"fire-rtdb",[XI]:"fire-data-connect",[YI]:"fire-rtdb-compat",[JI]:"fire-fn",[ZI]:"fire-fn-compat",[ej]:"fire-iid",[tj]:"fire-iid-compat",[nj]:"fire-fcm",[rj]:"fire-fcm-compat",[ij]:"fire-perf",[sj]:"fire-perf-compat",[oj]:"fire-rc",[aj]:"fire-rc-compat",[lj]:"fire-gcs",[cj]:"fire-gcs-compat",[uj]:"fire-fst",[hj]:"fire-fst-compat",[dj]:"fire-vertex","fire-js":"fire-js",[fj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,gj=new Map,S0=new Map;function ub(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(S0.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of Af.values())ub(n,t);for(const n of gj.values())ub(n,t);return!0}function dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Yu("app","Firebase",yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=pj;function yS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:E0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=hS()),!n)throw po.create("no-options");const a=Af.get(i);if(a){if(wa(n,a.options)&&wa(r,a.config))return a;throw po.create("duplicate-app",{appName:i})}const l=new SI(i);for(const h of S0.values())l.addComponent(h);const u=new vj(n,r,l);return Af.set(i,u),u}function Oy(t=E0){const e=Af.get(t);if(!e&&t===E0&&hS())return yS();if(!e)throw po.create("no-app",{appName:t});return e}function Oi(t,e,n){var r;let i=(r=mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(u.join(" "));return}ba(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="firebase-heartbeat-database",wj=1,Pu="firebase-heartbeat-store";let Vg=null;function vS(){return Vg||(Vg=MI(xj,wj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function bj(t){try{const n=(await vS()).transaction(Pu),r=await n.objectStore(Pu).get(xS(t));return await n.done,r}catch(e){if(e instanceof Xi)ws.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function db(t,e){try{const r=(await vS()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,xS(t)),await r.done}catch(n){if(n instanceof Xi)ws.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(r.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1024,Ej=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Ej){const l=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hb(),{heartbeatsToSend:r,unsentEntries:i}=Tj(this._heartbeatsCache.heartbeats),a=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ws.warn(n),""}}}function hb(){return new Date().toISOString().substring(0,10)}function Tj(t,e=_j){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),fb(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fb(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}function Cj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){ba(new yo("platform-logger",e=>new UI(e),"PRIVATE")),ba(new yo("heartbeat",e=>new Sj(e),"PRIVATE")),Oi(_0,cb,t),Oi(_0,cb,"esm2017"),Oi("fire-js","")}kj("");function My(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nj=wS,bS=new Yu("auth","Firebase",wS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Dy("@firebase/auth");function Aj(t,...e){If.logLevel<=Xe.WARN&&If.warn(`Auth (${Na}): ${t}`,...e)}function af(t,...e){If.logLevel<=Xe.ERROR&&If.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw Ly(t,...e)}function Mi(t,...e){return Ly(t,...e)}function _S(t,e,n){const r=Object.assign(Object.assign({},Nj()),{[e]:n});return new Yu("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return _S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ly(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bS.create(t,...e)}function Ve(t,e,...n){if(!t)throw Ly(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function bs(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ij(){return pb()==="http:"||pb()==="https:"}function pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ij()||lI()||"connection"in navigator)?navigator.onLine:!0}function Rj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=sI()||cI()}get(){return jj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oj=new Zu(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,i={}){return SS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Ju(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return aI()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(m.credentials="include"),ES.fetch()(await TS(t,t.config.apiHost,n,u),m)})}async function SS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Dj),e);try{const i=new Lj(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Vh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vh(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _S(t,g,m);fi(t,g)}}catch(i){if(i instanceof Xi)throw i;fi(t,"network-request-failed",{message:String(i)})}}async function ed(t,e,n,r,i={}){const a=await Ns(t,e,n,r,i);return"mfaPendingCredential"in a&&fi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function TS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Fy(t.config,i):`${t.config.apiScheme}://${i}`;return Vj.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Mj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),Oj.get())})}}function Vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mi(t,e,r);return i.customData._tokenResponse=n,i}function mb(t){return t!==void 0&&t.enterprise!==void 0}class Fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Uj(t,e){return Ns(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function jf(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $j(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Uy(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:du(Og(i.auth_time)),issuedAtTime:du(Og(i.iat)),expirationTime:du(Og(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function Uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const i=cS(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gb(t){const e=Uy(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&zj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wl(t,jf(n,{idToken:r}));Ve(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PS(a.providerUserInfo):[],u=qj(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),g=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new P0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function Hj(t){const e=jt(t);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PS(t){return t.map(e=>{var{providerId:n}=e,r=My(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){const n=await SS(t,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await TS(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ao(t.emulatorConfig.host)&&(h.credentials="include"),ES.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kj(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=gb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Gj(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ol;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=My(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new P0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $j(this,e)}reload(){return Hj(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Wl(this,Bj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,u,h,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,k=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(m=n.createdAt)!==null&&m!==void 0?m:void 0,F=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:B,isAnonymous:K,providerData:X,stsTokenManager:R}=n;Ve(O&&R,e,"internal-error");const N=Ol.fromJSON(this.name,R);Ve(typeof O=="string",e,"internal-error"),eo(y,e.name),eo(x,e.name),Ve(typeof B=="boolean",e,"internal-error"),Ve(typeof K=="boolean",e,"internal-error"),eo(_,e.name),eo(P,e.name),eo(E,e.name),eo(k,e.name),eo(D,e.name),eo(F,e.name);const V=new di({uid:O,auth:e,email:x,emailVerified:B,displayName:y,isAnonymous:K,photoURL:P,phoneNumber:_,tenantId:E,stsTokenManager:N,createdAt:D,lastLoginAt:F});return X&&Array.isArray(X)&&(V.providerData=X.map(S=>Object.assign({},S))),k&&(V._redirectEventId=k),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const a=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ol;u.updateFromIdToken(r);const h=new di({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new P0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;function ys(t){bs(t instanceof Function,"Expected a class definition");let e=yb.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CS.type="NONE";const vb=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,a),this.fullPersistenceKey=lf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jf(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(ys(vb),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||ys(vb);const l=lf(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(l);if(g){let y;if(typeof g=="string"){const x=await jf(e,{idToken:g}).catch(()=>{});if(!x)break;y=await di._fromGetAccountInfoResponse(e,x,g)}else y=di._fromJSON(e,g);m!==a&&(u=y),a=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ml(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RS(e))return"Blackberry";if(DS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||AS(e))&&!e.includes("edge/"))return"Chrome";if(jS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kS(t=Bn()){return/firefox\//i.test(t)}function NS(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AS(t=Bn()){return/crios\//i.test(t)}function IS(t=Bn()){return/iemobile/i.test(t)}function jS(t=Bn()){return/android/i.test(t)}function RS(t=Bn()){return/blackberry/i.test(t)}function DS(t=Bn()){return/webos/i.test(t)}function By(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qj(t=Bn()){var e;return By(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xj(){return uI()&&document.documentMode===10}function VS(t=Bn()){return By(t)||jS(t)||DS(t)||RS(t)||/windows phone/i.test(t)||IS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e=[]){let n;switch(t){case"Browser":n=xb(Bn());break;case"Worker":n=`${xb(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=6;class eR{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Zj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wb(this),this.idTokenSubscription=new wb(this),this.beforeStateQueue=new Yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jf(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(vs(this));const n=e?jt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jj(this),n=new eR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Aj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return jt(t)}class wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nR(t){hp=t}function MS(t){return hp.loadJS(t)}function rR(){return hp.recaptchaEnterpriseScript}function iR(){return hp.gapiScript}function sR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new aR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lR="recaptcha-enterprise",LS="NO_RECAPTCHA";class cR{constructor(e){this.type=lR,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{Uj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new Fj(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;mb(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(LS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&mb(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=rR();h.length!==0&&(h+=u),MS(h).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function bb(t,e,n,r=!1,i=!1){const a=new cR(t);let l;if(i)l=LS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function C0(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await bb(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await bb(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){const n=dp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(wa(a,e??{}))return i;fi(i,"already-initialized")}return n.initialize({options:e})}function dR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hR(t,e,n){const r=Aa(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=FS(e),{host:l,port:u}=fR(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(wa(m,r.config.emulator)&&wa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ao(l)?(jy(`${a}//${l}${h}`),Ry("Auth",!0)):pR()}function FS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fR(t){const e=FS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:_b(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:_b(l)}}}function _b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function mR(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e){return ed(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function vR(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends $y{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,n,"signInWithPassword",gR);case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,r,"signUpPassword",mR);case"emailLink":return vR(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e){return ed(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="http://localhost";class _a extends $y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=My(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new _a(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:xR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bR(t){const e=tu(nu(t)).link,n=e?tu(nu(e)).deep_link_id:null,r=tu(nu(t)).deep_link_id;return(r?tu(nu(r)).link:null)||r||n||e||t}class zy{constructor(e){var n,r,i,a,l,u;const h=tu(nu(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=wR((i=h.mode)!==null&&i!==void 0?i:null);Ve(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=bR(e);try{return new zy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zy.parseLink(n);return Ve(r,"argument-error"),Cu._fromEmailAndCode(e,r.code,r.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends US{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends td{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends td{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends td{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e){return ed(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await di._fromIdTokenResponse(e,r,i),l=Eb(r);return new Ea({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Eb(r);return new Ea({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Xi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Df(e,n,r,i)}}function BS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(t,a,e,r):a})}async function ER(t,e,n=!1){const r=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(vs(r));const i="reauthenticate";try{const a=await Wl(t,BS(r,i,e,t),n);Ve(a.idToken,r,"internal-error");const l=Uy(a.idToken);Ve(l,r,"internal-error");const{sub:u}=l;return Ve(t.uid===u,r,"user-mismatch"),Ea._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(t,e,n=!1){if(_r(t.app))return Promise.reject(vs(t));const r="signIn",i=await BS(t,r,e),a=await Ea._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function TR(t,e){return $S(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PR(t,e,n){if(_r(t.app))return Promise.reject(vs(t));const r=Aa(t),l=await C0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_R).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&zS(t),h}),u=await Ea._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function CR(t,e,n){return _r(t.app)?Promise.reject(vs(t)):TR(jt(t),tc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e){return Ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Wl(r,kR(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function NR(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function AR(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function IR(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function jR(t){return jt(t).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1e3,DR=10;class HS extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Xj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const VR=HS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qS.type="SESSION";const GS=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await OR(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=Wy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function LR(t){Li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BR(){return KS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebaseLocalStorageDb",$R=1,Of="firebaseLocalStorage",XS="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pp(t,e){return t.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function zR(){const t=indexedDB.deleteDatabase(QS);return new nd(t).toPromise()}function k0(){const t=indexedDB.open(QS,$R);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Of,{keyPath:XS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Of)?e(r):(r.close(),await zR(),e(await k0()))})})}async function Sb(t,e,n){const r=pp(t,!0).put({[XS]:e,value:n});return new nd(r).toPromise()}async function WR(t,e){const n=pp(t,!1).get(e),r=await new nd(n).toPromise();return r===void 0?null:r.value}function Tb(t,e){const n=pp(t,!0).delete(e);return new nd(n).toPromise()}const HR=800,qR=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(BR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new MR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k0();return await Sb(e,Vf,"1"),await Tb(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pp(i,!1).getAll();return new nd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const GR=YS;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e){return e?ys(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends $y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QR(t){return $S(t.auth,new Hy(t),t.bypassAuthState)}function XR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),SR(n,new Hy(t),t.bypassAuthState)}async function YR(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),ER(n,new Hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return YR;case"reauthViaPopup":case"reauthViaRedirect":return XR;default:fi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Zu(2e3,1e4);class Al extends JS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JR.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="pendingRedirect",cf=new Map;class e3 extends JS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(t,e){const n=i3(e),r=r3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n3(t,e){cf.set(t._key(),e)}function r3(t){return ys(t._redirectPersistence)}function i3(t){return lf(ZR,t.config.apiKey,t.name)}async function s3(t,e,n=!1){if(_r(t.app))return Promise.reject(vs(t));const r=Aa(t),i=KR(r,e),l=await new e3(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function h3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c3(t);for(const n of e)try{if(f3(n))return}catch{}fi(t,"unauthorized-domain")}function f3(t){const e=T0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!d3.test(n))return!1;if(u3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new Zu(3e4,6e4);function Cb(){const t=Li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m3(t){return new Promise((e,n)=>{var r,i,a;function l(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(Mi(t,"network-request-failed"))},timeout:p3.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Li().gapi)===null||a===void 0)&&a.load)l();else{const u=sR("iframefcb");return Li()[u]=()=>{gapi.load?l():n(Mi(t,"network-request-failed"))},MS(`${iR()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw uf=null,e})}let uf=null;function g3(t){return uf=uf||m3(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Zu(5e3,15e3),v3="__/auth/iframe",x3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _3(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,x3):`https://${t.config.authDomain}/${v3}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=b3.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ju(r).slice(1)}`}async function E3(t){const e=await g3(t),n=Li().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:_3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Mi(t,"network-request-failed"),u=Li().setTimeout(()=>{a(l)},y3.get());function h(){Li().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T3=500,P3=600,C3="_blank",k3="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(t,e,n,r=T3,i=P3){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},S3),{width:r.toString(),height:i.toString(),top:a,left:l}),m=Bn().toLowerCase();n&&(u=AS(m)?C3:n),kS(m)&&(e=e||k3,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[_,P])=>`${x}${_}=${P},`,"");if(Qj(m)&&u!=="_self")return A3(e||"",u),new kb(null);const y=window.open(e||"",u,g);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new kb(y)}function A3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="__/auth/handler",j3="emulator/auth/handler",R3=encodeURIComponent("fac");async function Nb(t,e,n,r,i,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof US){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",yI(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof td){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),m=h?`#${R3}=${encodeURIComponent(h)}`:"";return`${D3(t)}?${Ju(u).slice(1)}${m}`}function D3({config:t}){return t.emulator?Fy(t,j3):`https://${t.authDomain}/${I3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GS,this._completeRedirectFn=s3,this._overrideRedirectResult=n3}async _openPopup(e,n,r,i){var a;bs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Nb(e,n,r,T0(),i);return N3(e,l,Wy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Nb(e,n,r,T0(),i);return LR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(bs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E3(e),r=new a3(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Mg];l!==void 0&&n(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VS()||NS()||By()}}const O3=V3;var Ab="@firebase/auth",Ib="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(t){ba(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OS(t)},m=new tR(r,i,a,h);return dR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new yo("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new M3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(Ab,Ib,L3(t)),Oi(Ab,Ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60,B3=fS("authIdTokenMaxAge")||U3;let jb=null;const $3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B3)return;const i=n==null?void 0:n.token;jb!==i&&(jb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z3(t=Oy()){const e=dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uR(t,{popupRedirectResolver:O3,persistence:[GR,VR,GS]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=$3(a.toString());AR(n,l,()=>l(n.currentUser)),NR(n,u=>l(u))}}const i=uS("auth");return i&&hR(n,`http://${i}`),n}function W3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Mi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,eT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,N){function V(){}V.prototype=N.prototype,R.D=N.prototype,R.prototype=new V,R.prototype.constructor=R,R.C=function(S,M,U){for(var j=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)j[oe-2]=arguments[oe];return N.prototype[M].apply(S,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,V){V||(V=0);var S=Array(16);if(typeof N=="string")for(var M=0;16>M;++M)S[M]=N.charCodeAt(V++)|N.charCodeAt(V++)<<8|N.charCodeAt(V++)<<16|N.charCodeAt(V++)<<24;else for(M=0;16>M;++M)S[M]=N[V++]|N[V++]<<8|N[V++]<<16|N[V++]<<24;N=R.g[0],V=R.g[1],M=R.g[2];var U=R.g[3],j=N+(U^V&(M^U))+S[0]+3614090360&4294967295;N=V+(j<<7&4294967295|j>>>25),j=U+(M^N&(V^M))+S[1]+3905402710&4294967295,U=N+(j<<12&4294967295|j>>>20),j=M+(V^U&(N^V))+S[2]+606105819&4294967295,M=U+(j<<17&4294967295|j>>>15),j=V+(N^M&(U^N))+S[3]+3250441966&4294967295,V=M+(j<<22&4294967295|j>>>10),j=N+(U^V&(M^U))+S[4]+4118548399&4294967295,N=V+(j<<7&4294967295|j>>>25),j=U+(M^N&(V^M))+S[5]+1200080426&4294967295,U=N+(j<<12&4294967295|j>>>20),j=M+(V^U&(N^V))+S[6]+2821735955&4294967295,M=U+(j<<17&4294967295|j>>>15),j=V+(N^M&(U^N))+S[7]+4249261313&4294967295,V=M+(j<<22&4294967295|j>>>10),j=N+(U^V&(M^U))+S[8]+1770035416&4294967295,N=V+(j<<7&4294967295|j>>>25),j=U+(M^N&(V^M))+S[9]+2336552879&4294967295,U=N+(j<<12&4294967295|j>>>20),j=M+(V^U&(N^V))+S[10]+4294925233&4294967295,M=U+(j<<17&4294967295|j>>>15),j=V+(N^M&(U^N))+S[11]+2304563134&4294967295,V=M+(j<<22&4294967295|j>>>10),j=N+(U^V&(M^U))+S[12]+1804603682&4294967295,N=V+(j<<7&4294967295|j>>>25),j=U+(M^N&(V^M))+S[13]+4254626195&4294967295,U=N+(j<<12&4294967295|j>>>20),j=M+(V^U&(N^V))+S[14]+2792965006&4294967295,M=U+(j<<17&4294967295|j>>>15),j=V+(N^M&(U^N))+S[15]+1236535329&4294967295,V=M+(j<<22&4294967295|j>>>10),j=N+(M^U&(V^M))+S[1]+4129170786&4294967295,N=V+(j<<5&4294967295|j>>>27),j=U+(V^M&(N^V))+S[6]+3225465664&4294967295,U=N+(j<<9&4294967295|j>>>23),j=M+(N^V&(U^N))+S[11]+643717713&4294967295,M=U+(j<<14&4294967295|j>>>18),j=V+(U^N&(M^U))+S[0]+3921069994&4294967295,V=M+(j<<20&4294967295|j>>>12),j=N+(M^U&(V^M))+S[5]+3593408605&4294967295,N=V+(j<<5&4294967295|j>>>27),j=U+(V^M&(N^V))+S[10]+38016083&4294967295,U=N+(j<<9&4294967295|j>>>23),j=M+(N^V&(U^N))+S[15]+3634488961&4294967295,M=U+(j<<14&4294967295|j>>>18),j=V+(U^N&(M^U))+S[4]+3889429448&4294967295,V=M+(j<<20&4294967295|j>>>12),j=N+(M^U&(V^M))+S[9]+568446438&4294967295,N=V+(j<<5&4294967295|j>>>27),j=U+(V^M&(N^V))+S[14]+3275163606&4294967295,U=N+(j<<9&4294967295|j>>>23),j=M+(N^V&(U^N))+S[3]+4107603335&4294967295,M=U+(j<<14&4294967295|j>>>18),j=V+(U^N&(M^U))+S[8]+1163531501&4294967295,V=M+(j<<20&4294967295|j>>>12),j=N+(M^U&(V^M))+S[13]+2850285829&4294967295,N=V+(j<<5&4294967295|j>>>27),j=U+(V^M&(N^V))+S[2]+4243563512&4294967295,U=N+(j<<9&4294967295|j>>>23),j=M+(N^V&(U^N))+S[7]+1735328473&4294967295,M=U+(j<<14&4294967295|j>>>18),j=V+(U^N&(M^U))+S[12]+2368359562&4294967295,V=M+(j<<20&4294967295|j>>>12),j=N+(V^M^U)+S[5]+4294588738&4294967295,N=V+(j<<4&4294967295|j>>>28),j=U+(N^V^M)+S[8]+2272392833&4294967295,U=N+(j<<11&4294967295|j>>>21),j=M+(U^N^V)+S[11]+1839030562&4294967295,M=U+(j<<16&4294967295|j>>>16),j=V+(M^U^N)+S[14]+4259657740&4294967295,V=M+(j<<23&4294967295|j>>>9),j=N+(V^M^U)+S[1]+2763975236&4294967295,N=V+(j<<4&4294967295|j>>>28),j=U+(N^V^M)+S[4]+1272893353&4294967295,U=N+(j<<11&4294967295|j>>>21),j=M+(U^N^V)+S[7]+4139469664&4294967295,M=U+(j<<16&4294967295|j>>>16),j=V+(M^U^N)+S[10]+3200236656&4294967295,V=M+(j<<23&4294967295|j>>>9),j=N+(V^M^U)+S[13]+681279174&4294967295,N=V+(j<<4&4294967295|j>>>28),j=U+(N^V^M)+S[0]+3936430074&4294967295,U=N+(j<<11&4294967295|j>>>21),j=M+(U^N^V)+S[3]+3572445317&4294967295,M=U+(j<<16&4294967295|j>>>16),j=V+(M^U^N)+S[6]+76029189&4294967295,V=M+(j<<23&4294967295|j>>>9),j=N+(V^M^U)+S[9]+3654602809&4294967295,N=V+(j<<4&4294967295|j>>>28),j=U+(N^V^M)+S[12]+3873151461&4294967295,U=N+(j<<11&4294967295|j>>>21),j=M+(U^N^V)+S[15]+530742520&4294967295,M=U+(j<<16&4294967295|j>>>16),j=V+(M^U^N)+S[2]+3299628645&4294967295,V=M+(j<<23&4294967295|j>>>9),j=N+(M^(V|~U))+S[0]+4096336452&4294967295,N=V+(j<<6&4294967295|j>>>26),j=U+(V^(N|~M))+S[7]+1126891415&4294967295,U=N+(j<<10&4294967295|j>>>22),j=M+(N^(U|~V))+S[14]+2878612391&4294967295,M=U+(j<<15&4294967295|j>>>17),j=V+(U^(M|~N))+S[5]+4237533241&4294967295,V=M+(j<<21&4294967295|j>>>11),j=N+(M^(V|~U))+S[12]+1700485571&4294967295,N=V+(j<<6&4294967295|j>>>26),j=U+(V^(N|~M))+S[3]+2399980690&4294967295,U=N+(j<<10&4294967295|j>>>22),j=M+(N^(U|~V))+S[10]+4293915773&4294967295,M=U+(j<<15&4294967295|j>>>17),j=V+(U^(M|~N))+S[1]+2240044497&4294967295,V=M+(j<<21&4294967295|j>>>11),j=N+(M^(V|~U))+S[8]+1873313359&4294967295,N=V+(j<<6&4294967295|j>>>26),j=U+(V^(N|~M))+S[15]+4264355552&4294967295,U=N+(j<<10&4294967295|j>>>22),j=M+(N^(U|~V))+S[6]+2734768916&4294967295,M=U+(j<<15&4294967295|j>>>17),j=V+(U^(M|~N))+S[13]+1309151649&4294967295,V=M+(j<<21&4294967295|j>>>11),j=N+(M^(V|~U))+S[4]+4149444226&4294967295,N=V+(j<<6&4294967295|j>>>26),j=U+(V^(N|~M))+S[11]+3174756917&4294967295,U=N+(j<<10&4294967295|j>>>22),j=M+(N^(U|~V))+S[2]+718787259&4294967295,M=U+(j<<15&4294967295|j>>>17),j=V+(U^(M|~N))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,N){N===void 0&&(N=R.length);for(var V=N-this.blockSize,S=this.B,M=this.h,U=0;U<N;){if(M==0)for(;U<=V;)i(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<N;)if(S[M++]=R.charCodeAt(U++),M==this.blockSize){i(this,S),M=0;break}}else for(;U<N;)if(S[M++]=R[U++],M==this.blockSize){i(this,S),M=0;break}}this.h=M,this.o+=N},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;var V=8*this.o;for(N=R.length-8;N<R.length;++N)R[N]=V&255,V/=256;for(this.u(R),R=Array(16),N=V=0;4>N;++N)for(var S=0;32>S;S+=8)R[V++]=this.g[N]>>>S&255;return R};function a(R,N){var V=u;return Object.prototype.hasOwnProperty.call(V,R)?V[R]:V[R]=N(R)}function l(R,N){this.h=N;for(var V=[],S=!0,M=R.length-1;0<=M;M--){var U=R[M]|0;S&&U==N||(V[M]=U,S=!1)}this.g=V}var u={};function h(R){return-128<=R&&128>R?a(R,function(N){return new l([N|0],0>N?-1:0)}):new l([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return k(m(-R));for(var N=[],V=1,S=0;R>=V;S++)N[S]=R/V|0,V*=4294967296;return new l(N,0)}function g(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return k(g(R.substring(1),N));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=m(Math.pow(N,8)),S=y,M=0;M<R.length;M+=8){var U=Math.min(8,R.length-M),j=parseInt(R.substring(M,M+U),N);8>U?(U=m(Math.pow(N,U)),S=S.j(U).add(m(j))):(S=S.j(V),S=S.add(m(j)))}return S}var y=h(0),x=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(E(this))return-k(this).m();for(var R=0,N=1,V=0;V<this.g.length;V++){var S=this.i(V);R+=(0<=S?S:4294967296+S)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(E(this))return"-"+k(this).toString(R);for(var N=m(Math.pow(R,6)),V=this,S="";;){var M=B(V,N).g;V=D(V,M.j(N));var U=((0<V.g.length?V.g[0]:V.h)>>>0).toString(R);if(V=M,P(V))return U+S;for(;6>U.length;)U="0"+U;S=U+S}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=D(this,R),E(R)?-1:P(R)?0:1};function k(R){for(var N=R.g.length,V=[],S=0;S<N;S++)V[S]=~R.g[S];return new l(V,~R.h).add(x)}t.abs=function(){return E(this)?k(this):this},t.add=function(R){for(var N=Math.max(this.g.length,R.g.length),V=[],S=0,M=0;M<=N;M++){var U=S+(this.i(M)&65535)+(R.i(M)&65535),j=(U>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);S=j>>>16,U&=65535,j&=65535,V[M]=j<<16|U}return new l(V,V[V.length-1]&-2147483648?-1:0)};function D(R,N){return R.add(k(N))}t.j=function(R){if(P(this)||P(R))return y;if(E(this))return E(R)?k(this).j(k(R)):k(k(this).j(R));if(E(R))return k(this.j(k(R)));if(0>this.l(_)&&0>R.l(_))return m(this.m()*R.m());for(var N=this.g.length+R.g.length,V=[],S=0;S<2*N;S++)V[S]=0;for(S=0;S<this.g.length;S++)for(var M=0;M<R.g.length;M++){var U=this.i(S)>>>16,j=this.i(S)&65535,oe=R.i(M)>>>16,Pe=R.i(M)&65535;V[2*S+2*M]+=j*Pe,F(V,2*S+2*M),V[2*S+2*M+1]+=U*Pe,F(V,2*S+2*M+1),V[2*S+2*M+1]+=j*oe,F(V,2*S+2*M+1),V[2*S+2*M+2]+=U*oe,F(V,2*S+2*M+2)}for(S=0;S<N;S++)V[S]=V[2*S+1]<<16|V[2*S];for(S=N;S<2*N;S++)V[S]=0;return new l(V,0)};function F(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function O(R,N){this.g=R,this.h=N}function B(R,N){if(P(N))throw Error("division by zero");if(P(R))return new O(y,y);if(E(R))return N=B(k(R),N),new O(k(N.g),k(N.h));if(E(N))return N=B(R,k(N)),new O(k(N.g),N.h);if(30<R.g.length){if(E(R)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var V=x,S=N;0>=S.l(R);)V=K(V),S=K(S);var M=X(V,1),U=X(S,1);for(S=X(S,2),V=X(V,2);!P(S);){var j=U.add(S);0>=j.l(R)&&(M=M.add(V),U=j),S=X(S,1),V=X(V,1)}return N=D(R,M.j(N)),new O(M,N)}for(M=y;0<=R.l(N);){for(V=Math.max(1,Math.floor(R.m()/N.m())),S=Math.ceil(Math.log(V)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),U=m(V),j=U.j(N);E(j)||0<j.l(R);)V-=S,U=m(V),j=U.j(N);P(U)&&(U=x),M=M.add(U),R=D(R,j)}return new O(M,R)}t.A=function(R){return B(this,R).h},t.and=function(R){for(var N=Math.max(this.g.length,R.g.length),V=[],S=0;S<N;S++)V[S]=this.i(S)&R.i(S);return new l(V,this.h&R.h)},t.or=function(R){for(var N=Math.max(this.g.length,R.g.length),V=[],S=0;S<N;S++)V[S]=this.i(S)|R.i(S);return new l(V,this.h|R.h)},t.xor=function(R){for(var N=Math.max(this.g.length,R.g.length),V=[],S=0;S<N;S++)V[S]=this.i(S)^R.i(S);return new l(V,this.h^R.h)};function K(R){for(var N=R.g.length+1,V=[],S=0;S<N;S++)V[S]=R.i(S)<<1|R.i(S-1)>>>31;return new l(V,R.h)}function X(R,N){var V=N>>5;N%=32;for(var S=R.g.length-V,M=[],U=0;U<S;U++)M[U]=0<N?R.i(U+V)>>>N|R.i(U+V+1)<<32-N:R.i(U+V);return new l(M,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,mo=l}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,ru,nT,df,N0,rT,iT,sT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var T=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var q=f[I];if(!(q in T))break e;T=T[q]}f=f[f.length-1],I=T[f],w=w(I),w!=I&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function a(f,w){f instanceof String&&(f+="");var T=0,I=!1,q={next:function(){if(!I&&T<f.length){var J=T++;return{value:w(J,f[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(f){return f||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function m(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,T){return f.call.apply(f.bind,arguments)}function y(f,w,T){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),f.apply(w,q)}}return function(){return f.apply(w,arguments)}}function x(f,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function _(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function P(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(I,q,J){for(var fe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)fe[dt-2]=arguments[dt];return w.prototype[q].apply(I,fe)}}function E(f){const w=f.length;if(0<w){const T=Array(w);for(let I=0;I<w;I++)T[I]=f[I];return T}return[]}function k(f,w){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(h(I)){const q=f.length||0,J=I.length||0;f.length=q+J;for(let fe=0;fe<J;fe++)f[q+fe]=I[fe]}else f.push(I)}}class D{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function F(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var K=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function X(f,w,T){for(const I in f)w.call(T,f[I],I,f)}function R(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function N(f){const w={};for(const T in f)w[T]=f[T];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(f,w){let T,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(T in I)f[T]=I[T];for(let J=0;J<V.length;J++)T=V[J],Object.prototype.hasOwnProperty.call(I,T)&&(f[T]=I[T])}}function M(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function U(f){u.setTimeout(()=>{throw f},0)}function j(){var f=pe;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class oe{constructor(){this.h=this.g=null}add(w,T){const I=Pe.get();I.set(w,T),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new D(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,te=!1,pe=new oe,ue=()=>{const f=u.Promise.resolve(void 0);Ee=()=>{f.then(z)}};var z=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(T){U(T)}var w=Pe;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}te=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return f}();function Ce(f,w){if(we.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(K){e:{try{B(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,we);var Ue={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Le=0;function We(f,w,T,I,q){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!I,this.ha=q,this.key=++Le,this.da=this.fa=!1}function it(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gt(f){this.src=f,this.g={},this.h=0}Gt.prototype.add=function(f,w,T,I,q){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var fe=st(f,w,I,q);return-1<fe?(w=f[fe],T||(w.fa=!1)):(w=new We(w,this.src,J,!!I,q),w.fa=T,f.push(w)),w};function Pt(f,w){var T=w.type;if(T in f.g){var I=f.g[T],q=Array.prototype.indexOf.call(I,w,void 0),J;(J=0<=q)&&Array.prototype.splice.call(I,q,1),J&&(it(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function st(f,w,T,I){for(var q=0;q<f.length;++q){var J=f[q];if(!J.da&&J.listener==w&&J.capture==!!T&&J.ha==I)return q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),wn={};function Kn(f,w,T,I,q){if(Array.isArray(w)){for(var J=0;J<w.length;J++)Kn(f,w[J],T,I,q);return null}return T=le(T),f&&f[Ie]?f.K(w,T,m(I)?!!I.capture:!1,q):gt(f,w,T,!1,I,q)}function gt(f,w,T,I,q,J){if(!w)throw Error("Invalid event type");var fe=m(q)?!!q.capture:!!q,dt=fn(f);if(dt||(f[en]=dt=new Gt(f)),T=dt.add(w,T,I,fe,J),T.proxy)return T;if(I=de(),T.proxy=I,I.src=f,I.listener=T,f.addEventListener)De||(q=fe),q===void 0&&(q=!1),f.addEventListener(w.toString(),I,q);else if(f.attachEvent)f.attachEvent(Lt(w.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function de(){function f(T){return w.call(f.src,f.listener,T)}const w=yt;return f}function qe(f,w,T,I,q){if(Array.isArray(w))for(var J=0;J<w.length;J++)qe(f,w[J],T,I,q);else I=m(I)?!!I.capture:!!I,T=le(T),f&&f[Ie]?(f=f.i,w=String(w).toString(),w in f.g&&(J=f.g[w],T=st(J,T,I,q),-1<T&&(it(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete f.g[w],f.h--)))):f&&(f=fn(f))&&(w=f.g[w.toString()],f=-1,w&&(f=st(w,T,I,q)),(T=-1<f?w[f]:null)&&tt(T))}function tt(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Ie])Pt(w.i,f);else{var T=f.type,I=f.proxy;w.removeEventListener?w.removeEventListener(T,I,f.capture):w.detachEvent?w.detachEvent(Lt(T),I):w.addListener&&w.removeListener&&w.removeListener(I),(T=fn(w))?(Pt(T,f),T.h==0&&(T.src=null,w[en]=null)):it(f)}}}function Lt(f){return f in wn?wn[f]:wn[f]="on"+f}function yt(f,w){if(f.da)f=!0;else{w=new Ce(w,this);var T=f.listener,I=f.ha||f.src;f.fa&&tt(f),f=T.call(I,w)}return f}function fn(f){return f=f[en],f instanceof Gt?f:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(f){return typeof f=="function"?f:(f[pr]||(f[pr]=function(w){return f.handleEvent(w)}),f[pr])}function H(){Z.call(this),this.i=new Gt(this),this.M=this,this.F=null}P(H,Z),H.prototype[Ie]=!0,H.prototype.removeEventListener=function(f,w,T,I){qe(this,f,w,T,I)};function ie(f,w){var T,I=f.F;if(I)for(T=[];I;I=I.F)T.push(I);if(f=f.M,I=w.type||w,typeof w=="string")w=new we(w,f);else if(w instanceof we)w.target=w.target||f;else{var q=w;w=new we(I,f),S(w,q)}if(q=!0,T)for(var J=T.length-1;0<=J;J--){var fe=w.g=T[J];q=ke(fe,I,!0,w)&&q}if(fe=w.g=f,q=ke(fe,I,!0,w)&&q,q=ke(fe,I,!1,w)&&q,T)for(J=0;J<T.length;J++)fe=w.g=T[J],q=ke(fe,I,!1,w)&&q}H.prototype.N=function(){if(H.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],I=0;I<T.length;I++)it(T[I]);delete f.g[w],f.h--}}this.F=null},H.prototype.K=function(f,w,T,I){return this.i.add(String(f),w,!1,T,I)},H.prototype.L=function(f,w,T,I){return this.i.add(String(f),w,!0,T,I)};function ke(f,w,T,I){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,J=0;J<w.length;++J){var fe=w[J];if(fe&&!fe.da&&fe.capture==T){var dt=fe.listener,cn=fe.ha||fe.src;fe.fa&&Pt(f.i,fe),q=dt.call(cn,I)!==!1&&q}}return q&&!I.defaultPrevented}function Be(f,w,T){if(typeof f=="function")T&&(f=x(f,T));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function be(f){f.g=Be(()=>{f.g=null,f.i&&(f.i=!1,be(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class $e extends Z{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(f){Z.call(this),this.h=f,this.g={}}P(vt,Z);var _t=[];function pn(f){X(f.g,function(w,T){this.g.hasOwnProperty(T)&&tt(w)},f),f.g={}}vt.prototype.N=function(){vt.aa.N.call(this),pn(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=u.JSON.stringify,Oo=u.JSON.parse,Yi=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Ji(){}Ji.prototype.h=null;function gi(f){return f.h||(f.h=f.i())}function yi(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){we.call(this,"d")}P(at,we);function Ct(){we.call(this,"c")}P(Ct,we);var Xn={},vi=null;function bn(){return vi=vi||new H}Xn.La="serverreachability";function hc(f){we.call(this,Xn.La,f)}P(hc,we);function Zi(f){const w=bn();ie(w,new hc(w))}Xn.STAT_EVENT="statevent";function fc(f,w){we.call(this,Xn.STAT_EVENT,f),this.stat=w}P(fc,we);function Kt(f){const w=bn();ie(w,new fc(w,f))}Xn.Ma="timingevent";function Da(f,w){we.call(this,Xn.Ma,f),this.size=w}P(Da,we);function Qr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function Mo(){this.g=!0}Mo.prototype.xa=function(){this.g=!1};function Lo(f,w,T,I,q,J){f.info(function(){if(f.g)if(J)for(var fe="",dt=J.split("&"),cn=0;cn<dt.length;cn++){var Ze=dt[cn].split("=");if(1<Ze.length){var mn=Ze[0];Ze=Ze[1];var tn=mn.split("_");fe=2<=tn.length&&tn[1]=="type"?fe+(mn+"="+Ze+"&"):fe+(mn+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+w+`
`+T+`
`+fe})}function Va(f,w,T,I,q,J,fe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+w+`
`+T+`
`+J+" "+fe})}function Xr(f,w,T,I){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Zp(f,T)+(I?" "+I:"")})}function pc(f,w){f.info(function(){return"TIMEOUT: "+w})}Mo.prototype.info=function(){};function Zp(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var I=T[f];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return Kr(T)}catch{return w}}var Oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Fo(){}P(Fo,Ji),Fo.prototype.g=function(){return new XMLHttpRequest},Fo.prototype.i=function(){return{}},Yr=new Fo;function Jr(f,w,T,I){this.j=f,this.i=w,this.l=T,this.R=I||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bd}function bd(){this.i=null,this.g="",this.h=!1}var mc={},Ma={};function La(f,w,T){f.L=1,f.v=Vs(gr(w)),f.m=T,f.P=!0,gc(f,null)}function gc(f,w){f.F=Date.now(),xt(f),f.A=gr(f.v);var T=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),Ms(T.i,"t",I),f.C=0,T=f.j.J,f.h=new bd,f.g=Fd(f.j,T?w:null,!f.m),0<f.O&&(f.M=new $e(x(f.Y,f,f.g),f.O)),w=f.U,T=f.g,I=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(_t[0]=q.toString()),q=_t);for(var J=0;J<q.length;J++){var fe=Kn(T,q[J],I||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Zi(),Lo(f.i,f.u,f.A,f.l,f.R,f.m)}Jr.prototype.ca=function(f){f=f.target;const w=this.M;w&&Jn(f)==3?w.j():this.Y(f)},Jr.prototype.Y=function(f){try{if(f==this.g)e:{const tn=Jn(this.g);var w=this.g.Ba();const Rr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||tn!=4||w==7||(w==8||0>=Rr?Zi(3):Zi(2)),Uo(this);var T=this.g.Z();this.X=T;t:if(_d(this)){var I=_c(this.g);f="";var q=I.length,J=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Is(this);var fe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,f+=this.h.i.decode(I[w],{stream:!(J&&w==q-1)});I.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=T==200,Va(this.i,this.u,this.A,this.l,this.R,tn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,cn=this.g;if((dt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(dt)){var Ze=dt;break t}}Ze=null}if(T=Ze)Xr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yc(this,T);else{this.o=!1,this.s=3,Kt(12),Ir(this),Is(this);break e}}if(this.P){T=!0;let vr;for(;!this.J&&this.C<fe.length;)if(vr=em(this,fe),vr==Ma){tn==4&&(this.s=4,Kt(14),T=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==mc){this.s=4,Kt(15),Xr(this.i,this.l,fe,"[Invalid Chunk]"),T=!1;break}else Xr(this.i,this.l,vr,null),yc(this,vr);if(_d(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||fe.length!=0||this.h.h||(this.s=1,Kt(16),T=!1),this.o=this.o&&T,!T)Xr(this.i,this.l,fe,"[Invalid Chunked Response]"),Ir(this),Is(this);else if(0<fe.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Sc(mn),mn.M=!0,Kt(11))}}else Xr(this.i,this.l,fe,null),yc(this,fe);tn==4&&Ir(this),this.o&&!this.J&&(tn==4?Qa(this.j,this):(this.o=!1,xt(this)))}else Wa(this.g),T==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Ir(this),Is(this)}}}catch{}finally{}};function _d(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function em(f,w){var T=f.C,I=w.indexOf(`
`,T);return I==-1?Ma:(T=Number(w.substring(T,I)),isNaN(T)?mc:(I+=1,I+T>w.length?Ma:(w=w.slice(I,I+T),f.C=I+T,w)))}Jr.prototype.cancel=function(){this.J=!0,Ir(this)};function xt(f){f.S=Date.now()+f.I,Ed(f,f.I)}function Ed(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Qr(x(f.ba,f),w)}function Uo(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Jr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(pc(this.i,this.A),this.L!=2&&(Zi(),Kt(17)),Ir(this),this.s=2,Is(this)):Ed(this,this.S-f)};function Is(f){f.j.G==0||f.J||Qa(f.j,f)}function Ir(f){Uo(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,pn(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function yc(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||$n(T.h,f))){if(!f.K&&$n(T.h,f)&&T.G==3){try{var I=T.Da.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ka(T),ri(T);else break e;Ga(T),Kt(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Qr(x(T.Za,T),6e3));if(1>=Td(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else is(T,11)}else if((f.K||T.g==f)&&Ka(T),!F(w))for(q=T.Da.g.parse(w),w=0;w<q.length;w++){let Ze=q[w];if(T.T=Ze[0],Ze=Ze[1],T.G==2)if(Ze[0]=="c"){T.K=Ze[1],T.ia=Ze[2];const mn=Ze[3];mn!=null&&(T.la=mn,T.j.info("VER="+T.la));const tn=Ze[4];tn!=null&&(T.Aa=tn,T.j.info("SVER="+T.Aa));const Rr=Ze[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(I=1.5*Rr,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const vr=f.g;if(vr){const Go=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var J=I.h;J.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(vc(J,J.h),J.h=null))}if(I.D){const Ya=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(I.ya=Ya,ft(I.I,I.D,Ya))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var fe=f;if(I.qa=Ld(I,I.J?I.ia:null,I.W),fe.K){Pd(I.h,fe);var dt=fe,cn=I.L;cn&&(dt.I=cn),dt.B&&(Uo(dt),xt(dt)),I.g=fe}else qo(I);0<T.i.length&&_i(T)}else Ze[0]!="stop"&&Ze[0]!="close"||is(T,7);else T.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?is(T,7):En(T):Ze[0]!="noop"&&T.l&&T.l.ta(Ze),T.v=0)}}Zi(4)}catch{}}var Sd=class{constructor(f,w){this.g=f,this.map=w}};function Bo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Td(f){return f.h?1:f.g?f.g.size:0}function $n(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function vc(f,w){f.g?f.g.add(w):f.h=w}function Pd(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Bo.prototype.cancel=function(){if(this.i=Cd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Cd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return E(f.i)}function Fa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],T=f.length,I=0;I<T;I++)w.push(f[I]);return w}w=[],T=0;for(I in f)w[T++]=f[I];return w}function Ua(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const I in f)w[T++]=I;return w}}}function js(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Ua(f),I=Fa(f),q=I.length,J=0;J<q;J++)w.call(void 0,I[J],T&&T[J],f)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var I=f[T].indexOf("="),q=null;if(0<=I){var J=f[T].substring(0,I);q=f[T].substring(I+1)}else J=f[T];w(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function es(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof es){this.h=f.h,zo(this,f.j),this.o=f.o,this.g=f.g,Rs(this,f.s),this.l=f.l;var w=f.i,T=new xi;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Ds(this,T),this.m=f.m}else f&&(w=String(f).match($o))?(this.h=!1,zo(this,w[1]||"",!0),this.o=Je(w[2]||""),this.g=Je(w[3]||"",!0),Rs(this,w[4]),this.l=Je(w[5]||"",!0),Ds(this,w[6]||"",!0),this.m=Je(w[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}es.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Os(w,Ba,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Os(w,Ba,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Os(T,T.charAt(0)=="/"?Ad:Nd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Os(T,xc)),f.join("")};function gr(f){return new es(f)}function zo(f,w,T){f.j=T?Je(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Rs(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Ds(f,w,T){w instanceof xi?(f.i=w,wi(f.i,f.h)):(T||(w=Os(w,Id)),f.i=new xi(w,f.h))}function ft(f,w,T){f.i.set(w,T)}function Vs(f){return ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Je(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Os(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,kd),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ba=/[#\/\?@]/g,Nd=/[#\?:]/g,Ad=/[#\?]/g,Id=/[#\?@]/g,xc=/#/g;function xi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&tm(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=xi.prototype,t.add=function(f,w){_n(this),this.i=null,f=jr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function Zr(f,w){_n(f),w=jr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ei(f,w){return _n(f),w=jr(f,w),f.g.has(w)}t.forEach=function(f,w){_n(this),this.g.forEach(function(T,I){T.forEach(function(q){f.call(w,q,I,this)},this)},this)},t.na=function(){_n(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let I=0;I<w.length;I++){const q=f[I];for(let J=0;J<q.length;J++)T.push(w[I])}return T},t.V=function(f){_n(this);let w=[];if(typeof f=="string")ei(this,f)&&(w=w.concat(this.g.get(jr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},t.set=function(f,w){return _n(this),this.i=null,f=jr(this,f),ei(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function Ms(f,w,T){Zr(f,w),0<T.length&&(f.i=null,f.g.set(jr(f,w),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var I=w[T];const J=encodeURIComponent(String(I)),fe=this.V(I);for(I=0;I<fe.length;I++){var q=J;fe[I]!==""&&(q+="="+encodeURIComponent(String(fe[I]))),f.push(q)}}return this.i=f.join("&")};function jr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function wi(f,w){w&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(T,I){var q=I.toLowerCase();I!=q&&(Zr(this,I),Ms(this,q,T))},f)),f.j=w}function nm(f,w){const T=new Mo;if(u.Image){const I=new Image;I.onload=_(Yn,T,"TestLoadImage: loaded",!0,w,I),I.onerror=_(Yn,T,"TestLoadImage: error",!1,w,I),I.onabort=_(Yn,T,"TestLoadImage: abort",!1,w,I),I.ontimeout=_(Yn,T,"TestLoadImage: timeout",!1,w,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else w(!1)}function jd(f,w){const T=new Mo,I=new AbortController,q=setTimeout(()=>{I.abort(),Yn(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(q),J.ok?Yn(T,"TestPingServer: ok",!0,w):Yn(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),Yn(T,"TestPingServer: error",!1,w)})}function Yn(f,w,T,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(T)}catch{}}function rm(){this.g=new Yi}function Rd(f,w,T){const I=T||"";try{js(f,function(q,J){let fe=q;m(q)&&(fe=Kr(q)),w.push(I+J+"="+encodeURIComponent(fe))})}catch(q){throw w.push(I+"type="+encodeURIComponent("_badmap")),q}}function ts(f){this.l=f.Ub||null,this.j=f.eb||!1}P(ts,Ji),ts.prototype.g=function(){return new Wo(this.l,this.j)},ts.prototype.i=function(f){return function(){return f}}({});function Wo(f,w){H.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Wo,H),t=Wo.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,ni(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dd(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dd(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ti(this):ni(this),this.readyState==3&&Dd(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ti(this))},t.Qa=function(f){this.g&&(this.response=f,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ni(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function ni(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ns(f){let w="";return X(f,function(T,I){w+=I,w+=":",w+=T,w+=`\r
`}),w}function Ls(f,w,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=ns(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):ft(f,w,T))}function kt(f){H.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(kt,H);var im=/^https?$/i,wc=["POST","PUT"];t=kt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?gi(this.o):gi(Yr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(J){Ho(this,J);return}if(f=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)T.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())T.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(wc,w,void 0))||I||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of T)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Ho(this,J)}};function Ho(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,$a(f),yr(f)}function $a(f){f.A||(f.A=!0,ie(f,"complete"),ie(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ie(this,"complete"),ie(this,"abort"),yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bc(this):this.bb())},t.bb=function(){bc(this)};function bc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)Be(f.Ea,0,f);else if(ie(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var I;if(I=fe===0){var q=String(f.D).match($o)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),I=!im.test(q?q.toLowerCase():"")}T=I}if(T)ie(f,"complete"),ie(f,"success");else{f.m=6;try{var J=2<Jn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",$a(f)}}finally{yr(f)}}}}function yr(f,w){if(f.g){za(f);const T=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||ie(f,"ready");try{T.onreadystatechange=I}catch{}}}function za(f){f.I&&(u.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Oo(w)}};function _c(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Wa(f){const w={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(F(f[I]))continue;var T=M(f[I]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=w[q]||[];w[q]=J,J.push(T)}R(w,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Ec(f){this.Aa=0,this.i=[],this.j=new Mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,f),this.cb=bi("retryDelaySeedMs",1e4,f),this.Wa=bi("forwardChannelMaxRetries",2,f),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(f&&f.concurrentRequestLimit),this.Da=new rm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ec.prototype,t.la=8,t.G=1,t.connect=function(f,w,T,I){Kt(0),this.W=f,this.H=w||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=Ld(this,null,this.W),_i(this)};function En(f){if(Ha(f),f.G==3){var w=f.U++,T=gr(f.I);if(ft(T,"SID",f.K),ft(T,"RID",w),ft(T,"TYPE","terminate"),rs(f,T),w=new Jr(f,f.j,w),w.L=2,w.v=Vs(gr(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=Fd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xt(w)}Md(f)}function ri(f){f.g&&(Sc(f),f.g.cancel(),f.g=null)}function Ha(f){ri(f),f.u&&(u.clearTimeout(f.u),f.u=null),Ka(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function _i(f){if(!mr(f.h)&&!f.s){f.s=!0;var w=f.Ga;Ee||ue(),te||(Ee(),te=!0),pe.add(w,f),f.B=0}}function sm(f,w){return Td(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Qr(x(f.Ga,f,w),Od(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new Jr(this,this.j,f);let J=this.o;if(this.S&&(J?(J=N(J),S(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Fs(this,q,w),T=gr(this.I),ft(T,"RID",f),ft(T,"CVER",22),this.D&&ft(T,"X-HTTP-Session-Id",this.D),rs(this,T),J&&(this.O?w="headers="+encodeURIComponent(String(ns(J)))+"&"+w:this.m&&Ls(T,this.m,J)),vc(this.h,q),this.Ua&&ft(T,"TYPE","init"),this.P?(ft(T,"$req",w),ft(T,"SID","null"),q.T=!0,La(q,T,null)):La(q,T,w),this.G=2}}else this.G==3&&(f?qa(this,f):this.i.length==0||mr(this.h)||qa(this))};function qa(f,w){var T;w?T=w.l:T=f.U++;const I=gr(f.I);ft(I,"SID",f.K),ft(I,"RID",T),ft(I,"AID",f.T),rs(f,I),f.m&&f.o&&Ls(I,f.m,f.o),T=new Jr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Fs(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),vc(f.h,T),La(T,I,w)}function rs(f,w){f.H&&X(f.H,function(T,I){ft(w,I,T)}),f.l&&js({},function(T,I){ft(w,I,T)})}function Fs(f,w,T){T=Math.min(f.i.length,T);var I=f.l?x(f.l.Na,f.l,f):null;e:{var q=f.i;let J=-1;for(;;){const fe=["count="+T];J==-1?0<T?(J=q[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let dt=!0;for(let cn=0;cn<T;cn++){let Ze=q[cn].g;const mn=q[cn].map;if(Ze-=J,0>Ze)J=Math.max(0,q[cn].g-100),dt=!1;else try{Rd(mn,fe,"req"+Ze+"_")}catch{I&&I(mn)}}if(dt){I=fe.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,I}function qo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Ee||ue(),te||(Ee(),te=!0),pe.add(w,f),f.v=0}}function Ga(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Qr(x(f.Fa,f),Od(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Qr(x(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ri(this),Vd(this))};function Sc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Vd(f){f.g=new Jr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=gr(f.qa);ft(w,"RID","rpc"),ft(w,"SID",f.K),ft(w,"AID",f.T),ft(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&ft(w,"TO",f.ja),ft(w,"TYPE","xmlhttp"),rs(f,w),f.m&&f.o&&Ls(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Vs(gr(w)),T.m=null,T.P=!0,gc(T,f)}t.Za=function(){this.C!=null&&(this.C=null,ri(this),Ga(this),Kt(19))};function Ka(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Qa(f,w){var T=null;if(f.g==w){Ka(f),Sc(f),f.g=null;var I=2}else if($n(f.h,w))T=w.D,Pd(f.h,w),I=1;else return;if(f.G!=0){if(w.o)if(I==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var q=f.B;I=bn(),ie(I,new Da(I,T)),_i(f)}else qo(f);else if(q=w.s,q==3||q==0&&0<w.X||!(I==1&&sm(f,w)||I==2&&Ga(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),q){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function Od(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function is(f,w){if(f.j.info("Error code "+w),w==2){var T=x(f.fb,f),I=f.Xa;const q=!I;I=new es(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||zo(I,"https"),Vs(I),q?nm(I.toString(),T):jd(I.toString(),T)}else Kt(2);f.G=0,f.l&&f.l.sa(w),Md(f),Ha(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Md(f){if(f.G=0,f.ka=[],f.l){const w=Cd(f.h);(w.length!=0||f.i.length!=0)&&(k(f.ka,w),k(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function Ld(f,w,T){var I=T instanceof es?gr(T):new es(T);if(I.g!="")w&&(I.g=w+"."+I.g),Rs(I,I.s);else{var q=u.location;I=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var J=new es(null);I&&zo(J,I),w&&(J.g=w),q&&Rs(J,q),T&&(J.l=T),I=J}return T=f.D,w=f.ya,T&&w&&ft(I,T,w),ft(I,"VER",f.la),rs(f,I),I}function Fd(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new kt(new ts({eb:T})):new kt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}t=Tc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xa(){}Xa.prototype.g=function(f,w){return new zn(f,w)};function zn(f,w){H.call(this),this.g=new Ec(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!F(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Ei(this)}P(zn,H),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){En(this.g)},zn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Kr(f),f=T);w.i.push(new Sd(w.Ya++,f)),w.G==3&&_i(w)},zn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,zn.aa.N.call(this)};function Ud(f){at.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}P(Ud,at);function Bd(){Ct.call(this),this.status=1}P(Bd,Ct);function Ei(f){this.g=f}P(Ei,Tc),Ei.prototype.ua=function(){ie(this.g,"a")},Ei.prototype.ta=function(f){ie(this.g,new Ud(f))},Ei.prototype.sa=function(f){ie(this.g,new Bd)},Ei.prototype.ra=function(){ie(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,sT=function(){return new Xa},iT=function(){return bn()},rT=Xn,N0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oa.NO_ERROR=0,Oa.TIMEOUT=8,Oa.HTTP_ERROR=6,df=Oa,wd.COMPLETE="complete",nT=wd,yi.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",H.prototype.listen=H.prototype.K,ru=yi,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,tT=kt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const Db="@firebase/firestore",Vb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Dy("@firebase/firestore");function Tl(){return Sa.logLevel}function ve(t,...e){if(Sa.logLevel<=Xe.DEBUG){const n=e.map(qy);Sa.debug(`Firestore (${nc}): ${t}`,...n)}}function _s(t,...e){if(Sa.logLevel<=Xe.ERROR){const n=e.map(qy);Sa.error(`Firestore (${nc}): ${t}`,...n)}}function vo(t,...e){if(Sa.logLevel<=Xe.WARN){const n=e.map(qy);Sa.warn(`Firestore (${nc}): ${t}`,...n)}}function qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oT(t,r,n)}function oT(t,e,n){let r=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _s(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oT(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class q3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G3{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new aT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class K3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ob(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ob(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Y3(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function A0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ge(r,i);{const a=lT(),l=J3(a.encode(Mb(t,n)),a.encode(Mb(e,n)));return l!==0?l:Ge(r,i)}}n+=r>65535?2:1}return Ge(t.length,e.length)}function Mb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function J3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ni.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),i=Ni.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):A0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class bt extends Ni{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const Z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ni{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return Z3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lb}static keyField(){return new Nn([Lb])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(bt.fromString(e))}static fromName(e){return new Ne(bt.fromString(e).popFirst(5))}static empty(){return new Ne(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e5(t,e,n,r){if(e===!0&&r===!0)throw new me(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fb(t){if(!Ne.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ub(t){if(Ne.isDocumentKey(t))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(t);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function rd(t,e){if(!uT(t))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-62135596800,$b=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$b);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bb)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$b}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rd(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:ln("string",Tt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Tt(0,0))}static max(){return new ze(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function t5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new xo(i,Ne.empty(),e)}function n5(t){return new xo(t.readTime,t.key,ku)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(ze.min(),Ne.empty(),ku)}static max(){return new xo(ze.max(),Ne.empty(),ku)}}function r5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==i5)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(g=>{l[m]=g,++u,u===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new re((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function o5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function yp(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function a5(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function l5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zb(e)),e=c5(t.get(n),e);return zb(e)}function c5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case dT:n+="";break;default:n+=a}}return n}function zb(t){return t+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=i??Cn.EMPTY,this.right=a??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Cn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new hn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fT("Invalid base64 string: "+a):a}}(e);return new An(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const u5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=u5.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="server_timestamp",mT="__type__",gT="__previous_value__",yT="__local_write_time__";function Qy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mT])===null||n===void 0?void 0:n.stringValue)===pT}function vp(t){const e=t.mapValue.fields[gT];return Qy(e)?vp(e):e}function Nu(t){const e=wo(t.mapValue.fields[yT].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i,a,l,u,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const Lf="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Lf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",h5="__max__",Lh={mapValue:{}},xT="__vector__",Ff="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qy(t)?4:p5(t)?9007199254740991:f5(t)?10:11:Oe(28295,{value:t})}function Ki(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=wo(i.timestampValue),u=wo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return bo(i.bytesValue).isEqual(bo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Yt(i.geoPointValue.latitude)===Yt(a.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Yt(i.integerValue)===Yt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Yt(i.doubleValue),u=Yt(a.doubleValue);return l===u?Mf(l)===Mf(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Wb(l)!==Wb(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ki(l[h],u[h])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function Iu(t,e){return(t.values||[]).find(n=>Ki(n,e))!==void 0}function ql(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Yt(a.integerValue||a.doubleValue),h=Yt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(Nu(t),Nu(e));case 5:return A0(t.stringValue,e.stringValue);case 6:return function(a,l){const u=bo(a),h=bo(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Ge(u[m],h[m]);if(g!==0)return g}return Ge(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ge(Yt(a.latitude),Yt(l.latitude));return u!==0?u:Ge(Yt(a.longitude),Yt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gb(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,m,g;const y=a.fields||{},x=l.fields||{},_=(u=y[Ff])===null||u===void 0?void 0:u.arrayValue,P=(h=x[Ff])===null||h===void 0?void 0:h.arrayValue,E=Ge(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return E!==0?E:Gb(_,P)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Lh.mapValue&&l===Lh.mapValue)return 0;if(a===Lh.mapValue)return 1;if(l===Lh.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const x=A0(h[y],g[y]);if(x!==0)return x;const _=ql(u[h[y]],m[g[y]]);if(_!==0)return _}return Ge(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{le:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=wo(t),r=wo(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function Gb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ql(n[i],r[i]);if(a)return a}return Ge(n.length,r.length)}function Gl(t){return I0(t)}function I0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=I0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${I0(n.fields[l])}`;return i+"}"}(t.mapValue):Oe(61005,{value:t})}function hf(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vp(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+hf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(a,l)=>{i+=a.length+hf(l)}),i}(t.mapValue);default:throw Oe(13486,{value:t})}}function Kb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j0(t){return!!t&&"integerValue"in t}function Xy(t){return!!t&&"arrayValue"in t}function Qb(t){return!!t&&"nullValue"in t}function Xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function f5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===xT}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=Nn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=hu(l):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new lr(hu(this.value))}}function wT(t){const e=[];return jo(t.fields,(n,r)=>{const i=new Nn([n]);if(ff(r)){const a=wT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Fn(e,0,ze.min(),ze.min(),ze.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,ze.min(),ze.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,ze.min(),ze.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.position=e,this.inclusive=n}}function Yb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(l.referenceValue),n.key):r=ql(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function m5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class an extends bT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y5(e,n,r):n==="array-contains"?new w5(e,r):n==="in"?new b5(e,r):n==="not-in"?new _5(e,r):n==="array-contains-any"?new E5(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v5(e,r):new x5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ql(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends bT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new pi(e,n)}matches(e){return _T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _T(t){return t.op==="and"}function ET(t){return g5(t)&&_T(t)}function g5(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function R0(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(ET(t))return t.filters.map(e=>R0(e)).join(",");{const e=t.filters.map(n=>R0(n)).join(",");return`${t.op}(${e})`}}function ST(t,e){return t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.field.isEqual(i.field)&&Ki(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&ST(l,i.filters[u]),!0):!1}(t,e):void Oe(19439)}function TT(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(t):"Filter"}class y5 extends an{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class v5 extends an{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x5 extends an{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class w5 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xy(n)&&Iu(n.arrayValue,this.value)}}class b5 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class _5 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class E5 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Pe=null}}function Zb(t,e=null,n=[],r=[],i=null,a=null,l=null){return new S5(t,e,n,r,i,a,l)}function Yy(t){const e=He(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.Pe=n}return e.Pe}function Jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ST(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jb(t.startAt,e.startAt)&&Jb(t.endAt,e.endAt)}function D0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function T5(t,e,n,r,i,a,l,u){return new sc(t,e,n,r,i,a,l,u)}function xp(t){return new sc(t)}function e2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CT(t){return t.collectionGroup!==null}function fu(t){const e=He(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new hn(Nn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new ju(a,r))}),n.has(Nn.keyField().canonicalString())||e.Te.push(new ju(Nn.keyField(),r))}return e.Te}function Fi(t){const e=He(t);return e.Ie||(e.Ie=P5(e,fu(t))),e.Ie}function P5(t,e){if(t.limitType==="F")return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ju(i.field,a)});const n=t.endAt?new Uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uf(t.startAt.position,t.startAt.inclusive):null;return Zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V0(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bf(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return Jy(Fi(t),Fi(e))&&t.limitType===e.limitType}function kT(t){return`${Yy(Fi(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TT(i)).join(", ")}]`),yp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Fi(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of fu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const m=Yb(l,u,h);return l.inclusive?m<=0:m<0}(r.startAt,fu(r),i)||r.endAt&&!function(l,u,h){const m=Yb(l,u,h);return l.inclusive?m>=0:m>0}(r.endAt,fu(r),i))}(t,e)}function C5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NT(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const a=k5(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function k5(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?ql(h,m):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new Mt(Ne.comparator);function Es(){return N5}const AT=new Mt(Ne.comparator);function iu(...t){let e=AT;for(const n of t)e=e.insert(n.key,n);return e}function IT(t){let e=AT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ua(){return pu()}function jT(){return pu()}function pu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const A5=new Mt(Ne.comparator),I5=new hn(Ne.comparator);function Ye(...t){let e=I5;for(const n of t)e=e.add(n);return e}const j5=new hn(Ge);function R5(){return j5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function RT(t){return{integerValue:""+t}}function D5(t,e){return a5(e)?RT(e):Zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function V5(t,e,n){return t instanceof Ru?function(i,a){const l={fields:{[mT]:{stringValue:pT},[yT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Qy(a)&&(a=vp(a)),a&&(l.fields[gT]=a),{mapValue:l}}(n,e):t instanceof Du?VT(t,e):t instanceof Vu?OT(t,e):function(i,a){const l=DT(i,a),u=t2(l)+t2(i.Ee);return j0(l)&&j0(i.Ee)?RT(u):Zy(i.serializer,u)}(t,e)}function O5(t,e,n){return t instanceof Du?VT(t,e):t instanceof Vu?OT(t,e):n}function DT(t,e){return t instanceof $f?function(r){return j0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ru extends _p{}class Du extends _p{constructor(e){super(),this.elements=e}}function VT(t,e){const n=MT(e);for(const r of t.elements)n.some(i=>Ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vu extends _p{constructor(e){super(),this.elements=e}}function OT(t,e){let n=MT(e);for(const r of t.elements)n=n.filter(i=>!Ki(i,r));return{arrayValue:{values:n}}}class $f extends _p{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function t2(t){return Yt(t.integerValue||t.doubleValue)}function MT(t){return Xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.field=e,this.transform=n}}function L5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Du&&i instanceof Du||r instanceof Vu&&i instanceof Vu?Hl(r.elements,i.elements,Ki):r instanceof $f&&i instanceof $f?Ki(r.Ee,i.Ee):r instanceof Ru&&i instanceof Ru}(t.transform,e.transform)}class F5{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ep{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ev(t.key,Hr.none()):new id(t.key,t.data,Hr.none());{const n=t.data,r=lr.empty();let i=new hn(Nn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ro(t.key,r,new Sr(i.toArray()),Hr.none())}}function U5(t,e,n){t instanceof id?function(i,a,l){const u=i.value.clone(),h=r2(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ro?function(i,a,l){if(!pf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=r2(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(FT(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof id?function(a,l,u,h){if(!pf(a.precondition,l))return u;const m=a.value.clone(),g=i2(a.fieldTransforms,h,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ro?function(a,l,u,h){if(!pf(a.precondition,l))return u;const m=i2(a.fieldTransforms,h,l),g=l.data;return g.setAll(FT(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,u){return pf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function B5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=DT(r.transform,i||null);a!=null&&(n===null&&(n=lr.empty()),n.set(r.field,a))}return n||null}function n2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(a,l)=>L5(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class id extends Ep{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Ep{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r2(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,O5(l,u,n[i]))}return r}function i2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,V5(a,l,e))}return r}class ev extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $5 extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&U5(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jT();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const h=LT(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>n2(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>n2(n,r))}}class tv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return A5}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new tv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,et;function q5(t){switch(t){case ne.OK:return Oe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function UT(t){if(t===void 0)return _s("GRPC error has no .code"),ne.UNKNOWN;switch(t){case rn.OK:return ne.OK;case rn.CANCELLED:return ne.CANCELLED;case rn.UNKNOWN:return ne.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ne.INTERNAL;case rn.UNAVAILABLE:return ne.UNAVAILABLE;case rn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case rn.NOT_FOUND:return ne.NOT_FOUND;case rn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case rn.ABORTED:return ne.ABORTED;case rn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case rn.DATA_LOSS:return ne.DATA_LOSS;default:return Oe(39323,{code:t})}}(et=rn||(rn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new mo([4294967295,4294967295],0);function s2(t){const e=lT().encode(t),n=new eT;return n.update(e),new Uint8Array(n.digest())}function o2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,a],0)]}class nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=mo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(G5)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=s2(e),[r,i]=o2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new nv(a,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.fe===0)return;const n=s2(e),[r,i]=o2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp(ze.min(),i,new Mt(Ge),Es(),Ye())}}class sd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class BT{constructor(e,n){this.targetId=e,this.De=n}}class $T{constructor(e,n,r=An.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a2{constructor(){this.ve=0,this.Ce=l2(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ye(),n=Ye(),r=Ye();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}}),new sd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=l2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class K5{constructor(e){this.We=e,this.Ge=new Map,this.ze=Es(),this.je=Fh(),this.Je=Fh(),this.He=new Mt(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(D0(a))if(r===0){const l=new Ne(a.path);this.Xe(n,l,Fn.newNoDocument(l,ze.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const u=this._t(e),h=u?this.ut(u,e,l):1;if(h!==0){this.rt(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=bo(r).toUint8Array()}catch(h){if(h instanceof fT)return vo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new nv(l,i,a)}catch(h){return vo(h instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,l)=>{const u=this.st(l);if(u){if(a.current&&D0(u.target)){const h=new Ne(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Fn.newNoDocument(h,e))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let r=Ye();this.Je.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const m=this.st(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const i=new Sp(e,n,this.He,this.ze,r);return this.ze=Es(),this.je=Fh(),this.Je=Fh(),this.He=new Mt(Ge),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new a2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new hn(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new hn(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new a2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fh(){return new Mt(Ne.comparator)}function l2(){return new Mt(Ne.comparator)}const Q5={asc:"ASCENDING",desc:"DESCENDING"},X5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y5={and:"AND",or:"OR"};class J5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O0(t,e){return t.useProto3Json||yp(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z5(t,e){return zf(t,e.toTimestamp())}function Ui(t){return ut(!!t,49232),ze.fromTimestamp(function(n){const r=wo(n);return new Tt(r.seconds,r.nanos)}(t))}function rv(t,e){return M0(t,e).canonicalString()}function M0(t,e){const n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WT(t){const e=bt.fromString(t);return ut(QT(e),10190,{key:e.toString()}),e}function L0(t,e){return rv(t.databaseId,e.path)}function Lg(t,e){const n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(qT(n))}function HT(t,e){return rv(t.databaseId,e)}function e6(t){const e=WT(t);return e.length===4?bt.emptyPath():qT(e)}function F0(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function c2(t,e,n){return{name:L0(t,e),fields:n.value.mapValue.fields}}function t6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(ut(g===void 0||typeof g=="string",58123),An.fromBase64String(g||"")):(ut(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),An.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const g=m.code===void 0?ne.UNKNOWN:UT(m.code);return new me(g,m.message||"")}(l);n=new $T(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lg(t,r.document.name),a=Ui(r.document.updateTime),l=r.document.createTime?Ui(r.document.createTime):ze.min(),u=new lr({mapValue:{fields:r.document.fields}}),h=Fn.newFoundDocument(i,a,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];n=new mf(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lg(t,r.document),a=r.readTime?Ui(r.readTime):ze.min(),l=Fn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new mf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lg(t,r.document),a=r.removedTargetIds||[];n=new mf([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new H5(i,a),u=r.targetId;n=new BT(u,l)}}return n}function n6(t,e){let n;if(e instanceof id)n={update:c2(t,e.key,e.value)};else if(e instanceof ev)n={delete:L0(t,e.key)};else if(e instanceof Ro)n={update:c2(t,e.key,e.data),updateMask:d6(e.fieldMask)};else{if(!(e instanceof $5))return Oe(16599,{Rt:e.type});n={verify:L0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ru)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Du)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $f)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Z5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(t,e.precondition)),n}function r6(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?Ui(i.updateTime):Ui(a);return l.isEqual(ze.min())&&(l=Ui(a)),new F5(l,i.transformResults||[])}(n,e))):[]}function i6(t,e){return{documents:[HT(t,e.path)]}}function s6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HT(t,i);const a=function(m){if(m.length!==0)return KT(pi.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(g=>function(x){return{field:Cl(x.field),direction:l6(x.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=O0(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:n,parent:i}}function o6(t){let e=e6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(y){const x=GT(y);return x instanceof pi&&ET(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(P){return new ju(kl(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(y){let x;return x=typeof y=="object"?y.value:y,yp(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(y){const x=!!y.before,_=y.values||[];return new Uf(_,x)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const x=!y.before,_=y.values||[];return new Uf(_,x)}(n.endAt)),T5(e,i,l,a,u,"F",h,m)}function a6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kl(n.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kl(n.unaryFilter.field);return an.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=kl(n.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return an.create(kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>GT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function l6(t){return Q5[t]}function c6(t){return X5[t]}function u6(t){return Y5[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function kl(t){return Nn.fromServerFormat(t.fieldPath)}function KT(t){return t instanceof an?function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:c6(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>KT(i));return r.length===1?r[0]:{compositeFilter:{op:u6(n.op),filters:r}}}(t):Oe(54877,{filter:t})}function d6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,a=ze.min(),l=ze.min(),u=An.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.gt=e}}function f6(t){const e=o6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.Dn=new m6}addToCollectionParentIndex(e,n){return this.Dn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(xo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class m6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(bt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(XT,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Kl(0)}static ur(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="LruGarbageCollector",g6=1048576;function h2([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class y6{constructor(e){this.Tr=e,this.buffer=new hn(h2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(d2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ic(n)?ve(d2,"Ignoring IndexedDB error during garbage collection: ",n):await rc(n)}await this.Rr(3e5)})}}class x6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(gp.ue);const r=new y6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(u2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,l,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Tl()<=Xe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function w6(t,e){return new x6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mu(r.mutation,i,Sr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const i=ua();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=iu();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let a=Es();const l=pu(),u=function(){return pu()}();return n.forEach((h,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Ro)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),mu(g.mutation,m,g.mutation.getFieldMask(),Tt.now())):l.set(m.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,g)=>l.set(m,g)),n.forEach((m,g)=>{var y;return u.set(m,new _6(g,(y=l.get(m))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=pu();let i=new Mt((l,u)=>l-u),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Sr.empty();g=u.applyToLocalView(m,g),r.set(h,g);const y=(i.get(u.batchId)||Ye()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,y=jT();g.forEach(x=>{if(!a.has(x)){const _=LT(n.get(x),r.get(x));_!==null&&y.set(x,_),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):re.resolve(ua());let u=ku,h=a;return l.next(m=>re.forEach(m,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{h=h.insert(g,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Ye())).next(g=>({batchId:u,changes:IT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let i=iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=iu();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,h=>{const m=function(y,x){return new sc(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(g=>{g.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,Fn.newInvalidDocument(g)))});let u=iu();return l.forEach((h,m)=>{const g=a.get(h);g!==void 0&&mu(g.mutation,m,Sr.empty(),Tt.now()),bp(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return re.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:f6(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new Mt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return re.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=ua(),a=n.length+1,l=new Ne(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Mt((m,g)=>m-g);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=ua(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=ua(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>u.set(m,g)),!(u.size()>=i)););return re.resolve(u)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new W5(n,r));let a=this.kr.get(n);a===void 0&&(a=Ye(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.qr=new hn(xn.Qr),this.$r=new hn(xn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new xn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new xn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ne(new bt([])),r=new xn(n,e),i=new xn(n,e+1),a=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new bt([])),r=new xn(n,e),i=new xn(n,e+1);let a=Ye();return this.$r.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new xn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new hn(xn.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new z5(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Yr=this.Yr.add(new xn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ky:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],l=>{const u=this.Zr(l.Hr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Ge);return n.forEach(i=>{const a=new xn(i,0),l=new xn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],u=>{r=r.add(u.Hr)})}),re.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const l=new xn(new Ne(a),0);let u=new hn(Ge);return this.Yr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(h.Hr)),!0)},l),re.resolve(this.ei(u))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return re.forEach(n.mutations,i=>{const a=new xn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new xn(n,0),i=this.Yr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.ni=e,this.docs=function(){return new Mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Es();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Fn.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Es();const l=n.path,u=new Ne(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||r5(n5(g),r)<=0||(i.has(g.key)||bp(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ri(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N6(this)}getSize(e){return re.resolve(this.size)}}class N6 extends b6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.persistence=e,this.ii=new Ia(n=>Yy(n),Jy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new iv,this.targetCount=0,this._i=Kl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),re.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.hr(n),re.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),re.waitFor(a).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.ai={},this.overlays={},this.ui=new gp(0),this.ci=!1,this.ci=!0,this.li=new P6,this.referenceDelegate=e(this),this.hi=new A6(this),this.indexManager=new p6,this.remoteDocumentCache=function(i){return new k6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new h6(n),this.Ti=new S6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new C6(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new I6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return re.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class I6 extends s5{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Ai=new iv,this.Ri=null}static Vi(e){return new sv(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,r=>{const i=Ne.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,ze.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return re.or([()=>re.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Wf{constructor(e,n){this.persistence=e,this.gi=new Ia(r=>l5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=w6(this,n)}static Vi(e,n){return new Wf(e,n)}Ii(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return re.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(u=>{u||(r++,a.removeEntry(l,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hf(e.data.value)),n}Sr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ye(),i=Ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ov(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return dI()?8:o5(Bn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new j6;return this.ws(e,n,l).next(u=>{if(a.result=u,this.Rs)return this.Ss(e,n,l,u.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Tl()<=Xe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Tl()<=Xe.DEBUG&&ve("QueryEngine","Query:",Pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Tl()<=Xe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):re.resolve())}ps(e,n){if(e2(n))return re.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bf(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ye(...a);return this.gs.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.bs(n,u);return this.Ds(n,m,l,h.readTime)?this.ps(e,Bf(n,null,"F")):this.vs(e,m,n,h)}))})))}ys(e,n,r,i){return e2(n)||i.isEqual(ze.min())?re.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,r,i)?re.resolve(null):(Tl()<=Xe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pl(n)),this.vs(e,l,n,t5(i,ku)).next(u=>u))})}bs(e,n){let r=new hn(NT(e));return n.forEach((i,a)=>{bp(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return Tl()<=Xe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.gs.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",D6=3e8;class V6{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Mt(Ge),this.Ms=new Ia(a=>Yy(a),Jy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function O6(t,e,n,r){return new V6(t,e,n,r)}async function JT(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=Ye();for(const m of i){l.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(m=>({Bs:m,removedBatchIds:l,addedBatchIds:u}))})})}function M6(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,m,g){const y=m.batch,x=y.keys();let _=re.resolve();return x.forEach(P=>{_=_.next(()=>g.getEntry(h,P)).next(E=>{const k=m.docVersions.get(P);ut(k!==null,48541),E.version.compareTo(k)<0&&(y.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),g.addEntry(E)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Ye();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZT(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function L6(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const u=[];e.targetChanges.forEach((g,y)=>{const x=i.get(y);if(!x)return;u.push(n.hi.removeMatchingKeys(a,g.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,g.addedDocuments,y)));let _=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(An.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),i=i.insert(y,_),function(E,k,D){return E.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=D6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(x,_,g)&&u.push(n.hi.updateTargetData(a,_))});let h=Es(),m=Ye();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(F6(a,l,e.documentUpdates).next(g=>{h=g.Ls,m=g.ks})),!r.isEqual(ze.min())){const g=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(g)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Fs=i,a))}function F6(t,e,n){let r=Ye(),i=Ye();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Es();return n.forEach((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ve(av,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{Ls:l,ks:i}})}function U6(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B6(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,re.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function U0(t,e,n){const r=He(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ic(l))throw l;ve(av,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function f2(t,e,n){const r=He(t);let i=ze.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,m,g){const y=He(h),x=y.Ms.get(g);return x!==void 0?re.resolve(y.Fs.get(x)):y.hi.getTargetData(m,g)}(r,l,Fi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:ze.min(),n?a:Ye())).next(u=>($6(r,C5(e),u),{documents:u,qs:a})))}function $6(t,e,n){let r=t.xs.get(e)||ze.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class p2{constructor(){this.activeTargetIds=R5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z6{constructor(){this.Fo=new p2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new p2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="ConnectivityMonitor";class g2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(m2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(m2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function B0(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="RestConnection",H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q6{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Lf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const l=B0(),u=this.Go(e,n.toUriEncodedString());ve(Fg,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,a);const{host:m}=new URL(u),g=Ao(m);return this.jo(e,u,h,r,g).then(y=>(ve(Fg,`Received RPC '${e}' ${l}: `,y),y),y=>{throw vo(Fg,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y})}Jo(e,n,r,i,a,l){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=H6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class K6 extends q6{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const l=B0();return new Promise((u,h)=>{const m=new tT;m.setWithCredentials(!0),m.listenOnce(nT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case df.NO_ERROR:const y=m.getResponseJson();ve(Vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case df.TIMEOUT:ve(Vn,`RPC '${e}' ${l} timed out`),h(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const x=m.getStatus();if(ve(Vn,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_==null?void 0:_.error;if(P&&P.status&&P.message){const E=function(D){const F=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(P.status);h(new me(E,P.message))}else h(new me(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:l,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ve(Vn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);ve(Vn,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",g,r,15)})}P_(e,n,r){const i=B0(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sT(),u=iT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");ve(Vn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=l.createWebChannel(g,h);this.T_(y);let x=!1,_=!1;const P=new G6({Ho:k=>{_?ve(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(x||(ve(Vn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),ve(Vn,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Yo:()=>y.close()}),E=(k,D,F)=>{k.listen(D,O=>{try{F(O)}catch(B){setTimeout(()=>{throw B},0)}})};return E(y,ru.EventType.OPEN,()=>{_||(ve(Vn,`RPC '${e}' stream ${i} transport opened.`),P.s_())}),E(y,ru.EventType.CLOSE,()=>{_||(_=!0,ve(Vn,`RPC '${e}' stream ${i} transport closed`),P.__(),this.I_(y))}),E(y,ru.EventType.ERROR,k=>{_||(_=!0,vo(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),P.__(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),E(y,ru.EventType.MESSAGE,k=>{var D;if(!_){const F=k.data[0];ut(!!F,16349);const O=F,B=(O==null?void 0:O.error)||((D=O[0])===null||D===void 0?void 0:D.error);if(B){ve(Vn,`RPC '${e}' stream ${i} received error:`,B);const K=B.status;let X=function(V){const S=rn[V];if(S!==void 0)return UT(S)}(K),R=B.message;X===void 0&&(X=ne.INTERNAL,R="Unknown error status: "+K+" with message "+B.message),_=!0,P.__(new me(X,R)),y.close()}else ve(Vn,`RPC '${e}' stream ${i} received:`,F),P.a_(F)}}),E(u,rT.STAT_EVENT,k=>{k.stat===N0.PROXY?ve(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===N0.NOPROXY&&ve(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return new J5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="PersistentStream";class tP{constructor(e,n,r,i,a,l,u,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eP(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(_s(n.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new me(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ve(y2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ve(y2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q6 extends tP{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=t6(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Ui(l.readTime):ze.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=F0(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=D0(h)?{documents:i6(a,h)}:{query:s6(a,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=zT(a,l.resumeToken);const m=O0(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=zf(a,l.snapshotVersion.toTimestamp());const m=O0(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const r=a6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=F0(this.serializer),n.removeTarget=e,this.k_(n)}}class X6 extends tP{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=r6(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=F0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{}class J6 extends Y6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,M0(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ne.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(e,M0(n,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Z6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_s(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class eD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{ja(this)&&(ve(Ta,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.Ia.add(4),await od(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Pp(m)}(this))})}),this.Aa=new Z6(r,i)}}async function Pp(t){if(ja(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function nP(t,e){const n=He(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),dv(n)?uv(n):oc(n).x_()&&cv(n,e))}function lv(t,e){const n=He(t),r=oc(n);n.Ta.delete(e),r.x_()&&rP(n,e),n.Ta.size===0&&(r.x_()?r.B_():ja(n)&&n.Aa.set("Unknown"))}function cv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).H_(e)}function rP(t,e){t.Ra.$e(e),oc(t).Y_(e)}function uv(t){t.Ra=new K5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Aa.aa()}function dv(t){return ja(t)&&!oc(t).M_()&&t.Ta.size>0}function ja(t){return He(t).Ia.size===0}function iP(t){t.Ra=void 0}async function tD(t){t.Aa.set("Online")}async function nD(t){t.Ta.forEach((e,n)=>{cv(t,e)})}async function rD(t,e){iP(t),dv(t)?(t.Aa.la(e),uv(t)):t.Aa.set("Unknown")}async function iD(t,e,n){if(t.Aa.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ta.delete(u),i.Ra.removeTarget(u))}(t,e)}catch(r){ve(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hf(t,r)}else if(e instanceof mf?t.Ra.Ye(e):e instanceof BT?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ze.min()))try{const r=await ZT(t.localStore);n.compareTo(r)>=0&&await function(a,l){const u=a.Ra.Pt(l);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ta.get(m);g&&a.Ta.set(m,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,m)=>{const g=a.Ta.get(h);if(!g)return;a.Ta.set(h,g.withResumeToken(An.EMPTY_BYTE_STRING,g.snapshotVersion)),rP(a,h);const y=new co(g.target,h,m,g.sequenceNumber);cv(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ve(Ta,"Failed to raise snapshot:",r),await Hf(t,r)}}async function Hf(t,e,n){if(!ic(e))throw e;t.Ia.add(1),await od(t),t.Aa.set("Offline"),n||(n=()=>ZT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Ta,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Pp(t)})}function sP(t,e){return e().catch(n=>Hf(t,n,e))}async function Cp(t){const e=He(t),n=Eo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ky;for(;sD(e);)try{const i=await U6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,oD(e,i)}catch(i){await Hf(e,i)}oP(e)&&aP(e)}function sD(t){return ja(t)&&t.Pa.length<10}function oD(t,e){t.Pa.push(e);const n=Eo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function oP(t){return ja(t)&&!Eo(t).M_()&&t.Pa.length>0}function aP(t){Eo(t).start()}async function aD(t){Eo(t).na()}async function lD(t){const e=Eo(t);for(const n of t.Pa)e.X_(n.mutations)}async function cD(t,e,n){const r=t.Pa.shift(),i=tv.from(r,e,n);await sP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cp(t)}async function uD(t,e){e&&Eo(t).Z_&&await async function(r,i){if(function(l){return q5(l)&&l!==ne.ABORTED}(i.code)){const a=r.Pa.shift();Eo(r).N_(),await sP(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Cp(r)}}(t,e),oP(t)&&aP(t)}async function v2(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ve(Ta,"RemoteStore received new credentials");const r=ja(n);n.Ia.add(3),await od(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Pp(n)}async function dD(t,e){const n=He(t);e?(n.Ia.delete(2),await Pp(n)):e||(n.Ia.add(2),await od(n),n.Aa.set("Unknown"))}function oc(t){return t.Va||(t.Va=function(n,r,i){const a=He(n);return a.ia(),new Q6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:tD.bind(null,t),e_:nD.bind(null,t),n_:rD.bind(null,t),J_:iD.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),dv(t)?uv(t):t.Aa.set("Unknown")):(await t.Va.stop(),iP(t))})),t.Va}function Eo(t){return t.ma||(t.ma=function(n,r,i){const a=He(n);return a.ia(),new X6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:aD.bind(null,t),n_:uD.bind(null,t),ea:lD.bind(null,t),ta:cD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Cp(t)):(await t.ma.stop(),t.Pa.length>0&&(ve(Ta,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new hv(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(t,e){if(_s("AsyncQueue",`${e}: ${t}`),ic(t))return new me(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.fa=new Mt(Ne.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ql{constructor(e,n,r,i,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Ql(e,n,Ul.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fD{constructor(){this.queries=w2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=w2(),a.forEach((l,u)=>{for(const h of u.wa)h.onError(r)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function w2(){return new Ia(t=>kT(t),wp)}async function pv(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new hD,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=fv(l,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&gv(n)}async function mv(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pD(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.wa)u.Ca(i)&&(r=!0);l.ya=i}}r&&gv(n)}function mD(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function gv(t){t.Da.forEach(e=>{e.next()})}var $0,b2;(b2=$0||($0={})).Fa="default",b2.Cache="cache";class yv{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.key=e}}class cP{constructor(e){this.key=e}}class gD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ye(),this.mutatedKeys=Ye(),this.Xa=NT(e),this.eu=new Ul(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new x2,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const x=i.get(g),_=bp(this.query,y)?y:null,P=!!x&&this.mutatedKeys.has(x.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;x&&_?x.data.isEqual(_.data)?P!==E&&(r.track({type:3,doc:_}),k=!0):this.iu(x,_)||(r.track({type:2,doc:_}),k=!0,(h&&this.Xa(_,h)>0||m&&this.Xa(_,m)<0)&&(u=!0)):!x&&_?(r.track({type:0,doc:_}),k=!0):x&&!_&&(r.track({type:1,doc:x}),k=!0,(h||m)&&(u=!0)),k&&(_?(l=l.add(_),a=E?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:l,ru:r,Ds:u,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((g,y)=>function(_,P){const E=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:k})}};return E(_)-E(P)}(g.type,y.type)||this.Xa(g.doc,y.doc)),this.su(r),i=i!=null&&i;const u=n&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,m=h!==this.Ya;return this.Ya=h,l.length!==0||m?{snapshot:new Ql(this.query,e.eu,a,l,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new x2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ye(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new cP(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new lP(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ye();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ql.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vv="SyncEngine";class yD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vD{constructor(e){this.key=e,this.lu=!1}}class xD{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Ia(u=>kT(u),wp),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ne.comparator),this.Eu=new Map,this.Au=new iv,this.Ru={},this.Vu=new Map,this.mu=Kl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function wD(t,e,n=!0){const r=mP(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await uP(r,e,n,!0),i}async function bD(t,e){const n=mP(t);await uP(n,e,!0,!1)}async function uP(t,e,n,r){const i=await B6(t.localStore,Fi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await _D(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nP(t.remoteStore,i),u}async function _D(t,e,n,r,i){t.gu=(y,x,_)=>async function(E,k,D,F){let O=k.view.nu(D);O.Ds&&(O=await f2(E.localStore,k.query,!1).then(({documents:R})=>k.view.nu(R,O)));const B=F&&F.targetChanges.get(k.targetId),K=F&&F.targetMismatches.get(k.targetId)!=null,X=k.view.applyChanges(O,E.isPrimaryClient,B,K);return E2(E,k.targetId,X._u),X.snapshot}(t,y,x,_);const a=await f2(t.localStore,e,!0),l=new gD(e,a.qs),u=l.nu(a.documents),h=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,h);E2(t,n,m._u);const g=new yD(e,n,l);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function ED(t,e,n){const r=He(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(l=>!wp(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lv(r.remoteStore,i.targetId),z0(r,i.targetId)}).catch(rc)):(z0(r,i.targetId),await U0(r.localStore,i.targetId,!0))}async function SD(t,e){const n=He(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lv(n.remoteStore,r.targetId))}async function TD(t,e,n){const r=jD(t);try{const i=await function(l,u){const h=He(l),m=Tt.now(),g=u.reduce((_,P)=>_.add(P.key),Ye());let y,x;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let P=Es(),E=Ye();return h.Os.getEntries(_,g).next(k=>{P=k,P.forEach((D,F)=>{F.isValidDocument()||(E=E.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,P)).next(k=>{y=k;const D=[];for(const F of u){const O=B5(F,y.get(F.key).overlayedDocument);O!=null&&D.push(new Ro(F.key,O,wT(O.value.mapValue),Hr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,D,u)}).next(k=>{x=k;const D=k.applyToLocalDocumentSet(y,E);return h.documentOverlayCache.saveOverlays(_,k.batchId,D)})}).then(()=>({batchId:x.batchId,changes:IT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let m=l.Ru[l.currentUser.toKey()];m||(m=new Mt(Ge)),m=m.insert(u,h),l.Ru[l.currentUser.toKey()]=m}(r,i.batchId,n),await ad(r,i.changes),await Cp(r.remoteStore)}catch(i){const a=fv(i,"Failed to persist write");n.reject(a)}}async function dP(t,e){const n=He(t);try{const r=await L6(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Eu.get(a);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?ut(l.lu,14607):i.removedDocuments.size>0&&(ut(l.lu,42227),l.lu=!1))}),await ad(n,r,e)}catch(r){await rc(r)}}function _2(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=He(l);h.onlineState=u;let m=!1;h.queries.forEach((g,y)=>{for(const x of y.wa)x.va(u)&&(m=!0)}),m&&gv(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PD(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new Mt(Ne.comparator);l=l.insert(a,Fn.newNoDocument(a,ze.min()));const u=Ye().add(a),h=new Sp(ze.min(),new Map,new Mt(Ge),l,u);await dP(r,h),r.du=r.du.remove(a),r.Eu.delete(e),xv(r)}else await U0(r.localStore,e,!1).then(()=>z0(r,e,n)).catch(rc)}async function CD(t,e){const n=He(t),r=e.batch.batchId;try{const i=await M6(n.localStore,e);fP(n,r,null),hP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ad(n,i)}catch(i){await rc(i)}}async function kD(t,e,n){const r=He(t);try{const i=await function(l,u){const h=He(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next(y=>(ut(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(r.localStore,e);fP(r,e,n),hP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ad(r,i)}catch(i){await rc(i)}}function hP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function fP(t,e,n){const r=He(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||pP(t,r)})}function pP(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),xv(t))}function E2(t,e,n){for(const r of n)r instanceof lP?(t.Au.addReference(r.key,e),ND(t,r)):r instanceof cP?(ve(vv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||pP(t,r.key)):Oe(19791,{yu:r})}function ND(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ve(vv,"New document in limbo: "+n),t.Iu.add(r),xv(t))}function xv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ne(bt.fromString(e)),r=t.mu.next();t.Eu.set(r,new vD(n)),t.du=t.du.insert(n,r),nP(t.remoteStore,new co(Fi(xp(n.path)),r,"TargetPurposeLimboResolution",gp.ue))}}async function ad(t,e,n){const r=He(t),i=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{l.push(r.gu(h,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){i.push(m);const y=ov.Es(h.targetId,m);a.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(h,m){const g=He(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(m,x=>re.forEach(x.Is,_=>g.persistence.referenceDelegate.addReference(y,x.targetId,_)).next(()=>re.forEach(x.ds,_=>g.persistence.referenceDelegate.removeReference(y,x.targetId,_)))))}catch(y){if(!ic(y))throw y;ve(av,"Failed to update sequence numbers: "+y)}for(const y of m){const x=y.targetId;if(!y.fromCache){const _=g.Fs.get(x),P=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(P);g.Fs=g.Fs.insert(x,E)}}}(r.localStore,a))}async function AD(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ve(vv,"User change. New user:",e.toKey());const r=await JT(n.localStore,e);n.currentUser=e,function(a,l){a.Vu.forEach(u=>{u.forEach(h=>{h.reject(new me(ne.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ad(n,r.Bs)}}function ID(t,e){const n=He(t),r=n.Eu.get(e);if(r&&r.lu)return Ye().add(r.key);{let i=Ye();const a=n.Tu.get(e);if(!a)return i;for(const l of a){const u=n.Pu.get(l);i=i.unionWith(u.view.tu)}return i}}function mP(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PD.bind(null,e),e.hu.J_=pD.bind(null,e.eventManager),e.hu.pu=mD.bind(null,e.eventManager),e}function jD(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return O6(this.persistence,new R6,e.initialUser,this.serializer)}Du(e){return new YT(sv.Vi,this.serializer)}bu(e){return new z6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class RD extends qf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ut(this.persistence.referenceDelegate instanceof Wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new v6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new YT(r=>Wf.Vi(r,n),this.serializer)}}class W0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fD}()}createDatastore(e){const n=Tp(e.databaseInfo.databaseId),r=function(a){return new K6(a)}(e.databaseInfo);return function(a,l,u,h){return new J6(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,u){return new eD(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>_2(this.syncEngine,n,0),function(){return g2.C()?new g2:new W6}())}createSyncEngine(e,n){return function(i,a,l,u,h,m,g){const y=new xD(i,a,l,u,h,m);return g&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=He(i);ve(Ta,"RemoteStore shutting down."),a.Ia.add(5),await od(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}W0.provider={build:()=>new W0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class DD{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=Gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ve(So,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ve(So,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{vo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{vo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function S2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VD(t);ve(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>v2(e.remoteStore,i)),t._onlineComponents=e}async function VD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(So,"Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new qf)}}else ve(So,"Using default OfflineComponentProvider"),await Bg(t,new RD(void 0));return t._offlineComponents}async function gP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(So,"Using user provided OnlineComponentProvider"),await S2(t,t._uninitializedComponentsProvider._online)):(ve(So,"Using default OnlineComponentProvider"),await S2(t,new W0))),t._onlineComponents}function OD(t){return gP(t).then(e=>e.syncEngine)}async function Gf(t){const e=await gP(t),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=ED.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SD.bind(null,e.syncEngine),n}function MD(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const g=new wv({next:x=>{g.Ou(),l.enqueueAndForget(()=>mv(a,y));const _=x.docs.has(u);!_&&x.fromCache?m.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&h&&h.source==="server"?m.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new yv(xp(u.path),g,{includeMetadataChanges:!0,ka:!0});return pv(a,y)}(await Gf(t),t.asyncQueue,e,n,r)),r.promise}function LD(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const g=new wv({next:x=>{g.Ou(),l.enqueueAndForget(()=>mv(a,y)),x.fromCache&&h.source==="server"?m.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new yv(u,g,{includeMetadataChanges:!0,ka:!0});return pv(a,y)}(await Gf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firestore.googleapis.com",P2=!0;class C2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vP,this.ssl=P2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:P2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g6)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H3;switch(r.type){case"firstParty":return new Q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T2.get(n);r&&(ve("ComponentProvider","Removing Datastore"),T2.delete(n),r.terminate())}(this),Promise.resolve()}}function FD(t,e,n,r={}){var i;t=dr(t,kp);const a=Ao(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(jy(`https://${h}`),Ry("Firestore",!0)),l.host!==vP&&l.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:r});if(!wa(m,u)&&(t._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Ln.MOCK_USER;else{g=pS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ln(x)}t._authCredentials=new q3(new aT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rd(n,zt._jsonSchema))return new zt(e,r||null,new Ne(bt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:ln("string",zt._jsonSchemaVersion),referencePath:ln("string")};class go extends As{constructor(e,n,r){super(e,n,xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ne(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function mi(t,e,...n){if(t=jt(t),cT("collection","path",e),t instanceof kp){const r=bt.fromString(e,...n);return Ub(r),new go(t,null,r)}{if(!(t instanceof zt||t instanceof go))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Ub(r),new go(t.firestore,null,r)}}function Vt(t,e,...n){if(t=jt(t),arguments.length===1&&(e=Gy.newId()),cT("doc","path",e),t instanceof kp){const r=bt.fromString(e,...n);return Fb(r),new zt(t,null,new Ne(r))}{if(!(t instanceof zt||t instanceof go))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Fb(r),new zt(t.firestore,t instanceof go?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="AsyncQueue";class N2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eP(this,"async_queue_retry"),this.oc=()=>{const r=Ug();r&&ve(k2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new xs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ic(e))throw e;ve(k2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_s("INTERNAL UNHANDLED ERROR: ",A2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=hv.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Oe(47125,{hc:A2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function A2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends kp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N2(e),this._firestoreClient=void 0,await e}}}function UD(t,e){const n=typeof t=="object"?t:Oy(),r=typeof t=="string"?t:Lf,i=dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=dS("firestore");a&&FD(i,...a)}return i}function Np(t){if(t._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BD(t),t._firestoreClient}function BD(t){var e,n,r;const i=t._freezeSettings(),a=function(u,h,m,g){return new d5(u,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,yP(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new DD(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(An.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zr(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rd(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:ln("string",zr._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(rd(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:ln("string",Bi._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rd(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $i(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:ln("string",$i._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^__.*__$/;class zD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new id(e,this.data,n,this.fieldTransforms)}}class xP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:t})}}class bv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wP(this.Ec)&&$D.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class WD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Dc(e,n,r,i=!1){return new bv({Ec:e,methodName:n,bc:r,path:Nn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(t){const e=t._freezeSettings(),n=Tp(t._databaseId);return new WD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bP(t,e,n,r,i,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);Ev("Data must be an object, but it was:",l,r);const u=_P(r,l);let h,m;if(a.merge)h=new Sr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const x=H0(e,y,n);if(!l.contains(x))throw new me(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);SP(g,x)||g.push(x)}h=new Sr(g),m=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=l.fieldTransforms;return new zD(new lr(u),h,m)}class Rp extends Ip{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}class _v extends Ip{_toFieldTransform(e){return new M5(e.path,new Ru)}isEqual(e){return e instanceof _v}}function HD(t,e,n,r){const i=t.Dc(1,e,n);Ev("Data must be an object, but it was:",i,r);const a=[],l=lr.empty();jo(r,(h,m)=>{const g=Sv(e,h,n);m=jt(m);const y=i.gc(g);if(m instanceof Rp)a.push(g);else{const x=ld(m,y);x!=null&&(a.push(g),l.set(g,x))}});const u=new Sr(a);return new xP(l,u,i.fieldTransforms)}function qD(t,e,n,r,i,a){const l=t.Dc(1,e,n),u=[H0(e,r,n)],h=[i];if(a.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(H0(e,a[x])),h.push(a[x+1]);const m=[],g=lr.empty();for(let x=u.length-1;x>=0;--x)if(!SP(m,u[x])){const _=u[x];let P=h[x];P=jt(P);const E=l.gc(_);if(P instanceof Rp)m.push(_);else{const k=ld(P,E);k!=null&&(m.push(_),g.set(_,k))}}const y=new Sr(m);return new xP(g,y,l.fieldTransforms)}function GD(t,e,n,r=!1){return ld(n,t.Dc(r?4:3,e))}function ld(t,e){if(EP(t=jt(t)))return Ev("Unsupported field value:",e,t),_P(t,e);if(t instanceof Ip)return function(r,i){if(!wP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let h=ld(u,i.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:zf(i.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zf(i.serializer,a)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zr)return{bytesValue:zT(i.serializer,r._byteString)};if(r instanceof zt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $i)return function(l,u){return{mapValue:{fields:{[vT]:{stringValue:xT},[Ff]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.wc("VectorValues must only contain numeric values.");return Zy(u.serializer,m)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${mp(r)}`)}(t,e)}function _P(t,e){const n={};return hT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const a=ld(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function EP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Bi||t instanceof zr||t instanceof zt||t instanceof Ip||t instanceof $i)}function Ev(t,e,n){if(!EP(n)||!uT(n)){const r=mp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function H0(t,e,n){if((e=jt(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return Sv(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const KD=new RegExp("[~\\*/\\[\\]]");function Sv(t,e,n){if(e.search(KD)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ap(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new me(ne.INVALID_ARGUMENT,u+t+h)}function SP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QD extends TP{data(){return super.data()}}function Dp(t,e){return typeof e=="string"?Sv(t,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class Pv extends Tv{}function To(t,e,...n){let r=[];e instanceof Tv&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof Cv).length,u=a.filter(h=>h instanceof Vp).length;if(l>1||l>0&&u>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vp extends Pv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vp(e,n,r)}_apply(e){const n=this._parse(e);return kP(e._query,n),new As(e.firestore,e.converter,V0(e._query,n))}_parse(e){const n=jp(e.firestore);return function(a,l,u,h,m,g,y){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){R2(y,g);const P=[];for(const E of y)P.push(j2(h,a,E));x={arrayValue:{values:P}}}else x=j2(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||R2(y,g),x=GD(u,l,y,g==="in"||g==="not-in");return an.create(m,g,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ou(t,e,n){const r=e,i=Dp("where",t);return Vp._create(i,r,n)}class Cv extends Tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)kP(l,h),l=V0(l,h)}(e._query,n),new As(e.firestore,e.converter,V0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends Pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kv(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(a,l)}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new sc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function XD(t,e="asc"){const n=e,r=Dp("orderBy",t);return kv._create(r,n)}class Nv extends Pv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nv(e,n,r)}_apply(e){return new As(e.firestore,e.converter,Bf(e._query,this._limit,this._limitType))}}function CP(t){return Nv._create("limit",t,"F")}function j2(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Ne.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kb(t,new Ne(r))}if(n instanceof zt)return Kb(t,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mp(n)}.`)}function R2(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kP(t,e){const n=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ff].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Yt(l.doubleValue));return new $i(a)}convertGeoPoint(e){return new Bi(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);ut(QT(r),9688,{name:e});const i=new Au(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return i.isEqual(n)||_s(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends TP{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:ln("string",pa._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class gf extends pa{data(e={}){return super.data(e)}}class ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new gf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new gf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:JD(u.type),doc:h,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){t=dr(t,zt);const e=dr(t.firestore,Ss);return MD(Np(e),t._key).then(n=>IP(e,t,n))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:ln("string",ma._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class Av extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Mu(t){t=dr(t,As);const e=dr(t.firestore,Ss),n=Np(e),r=new Av(e);return PP(t._query),LD(n,t._query).then(i=>new ma(e,r,t,i))}function hi(t,e,n){t=dr(t,zt);const r=dr(t.firestore,Ss),i=NP(t.converter,e,n);return Op(r,[bP(jp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hr.none())])}function ZD(t,e,n,...r){t=dr(t,zt);const i=dr(t.firestore,Ss),a=jp(i);let l;return l=typeof(e=jt(e))=="string"||e instanceof Ap?qD(a,"updateDoc",t._key,e,n,r):HD(a,"updateDoc",t._key,e),Op(i,[l.toMutation(t._key,Hr.exists(!0))])}function AP(t){return Op(dr(t.firestore,Ss),[new ev(t._key,Hr.none())])}function Iv(t,e){const n=dr(t.firestore,Ss),r=Vt(t),i=NP(t.converter,e);return Op(n,[bP(jp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function Bl(t,...e){var n,r,i;t=jt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||I2(e[l])||(a=e[l++]);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(I2(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let h,m,g;if(t instanceof zt)m=dr(t.firestore,Ss),g=xp(t._key.path),h={next:y=>{e[l]&&e[l](IP(m,t,y))},error:e[l+1],complete:e[l+2]};else{const y=dr(t,As);m=dr(y.firestore,Ss),g=y._query;const x=new Av(m);h={next:_=>{e[l]&&e[l](new ma(m,x,y,_))},error:e[l+1],complete:e[l+2]},PP(t._query)}return function(x,_,P,E){const k=new wv(E),D=new yv(_,k,P);return x.asyncQueue.enqueueAndForget(async()=>pv(await Gf(x),D)),()=>{k.Ou(),x.asyncQueue.enqueueAndForget(async()=>mv(await Gf(x),D))}}(Np(m),g,u,h)}function Op(t,e){return function(r,i){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>TD(await OD(r),i,a)),a.promise}(Np(t),e)}function IP(t,e,n){const r=n.docs.get(e._key),i=new Av(t);return new pa(t,i,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function jP(){return new _v("serverTimestamp")}(function(e,n=!0){(function(i){nc=i})(Na),ba(new yo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Ss(new G3(r.getProvider("auth-internal")),new X3(l,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(m.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Oi(Db,Vb,e),Oi(Db,Vb,"esm2017")})();var e9="firebase",t9="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(e9,t9,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebasestorage.googleapis.com",DP="storageBucket",n9=2*60*1e3,r9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends Xi{constructor(e,n,r=0){super($g(e),`Firebase Storage: ${n} (${$g(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function $g(t){return"storage/"+t}function jv(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(Wt.UNKNOWN,t)}function i9(t){return new Ht(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s9(t){return new Ht(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Wt.UNAUTHENTICATED,t)}function a9(){return new Ht(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l9(t){return new Ht(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c9(){return new Ht(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function u9(){return new Ht(Wt.CANCELED,"User canceled the upload/download.")}function d9(t){return new Ht(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function h9(t){return new Ht(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function f9(){return new Ht(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DP+"' property when initializing the app?")}function p9(){return new Ht(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m9(){return new Ht(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g9(t){return new Ht(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function q0(t){return new Ht(Wt.INVALID_ARGUMENT,t)}function VP(){return new Ht(Wt.APP_DELETED,"The Firebase app was deleted.")}function y9(t){return new Ht(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(t,e){return new Ht(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xc(t){throw new Ht(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw h9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${g}/b/${i}/o${x}`,"i"),P={bucket:1,path:3},E=n===RP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",D=new RegExp(`^https?://${E}/${i}/${k}`,"i"),O=[{regex:u,indices:h,postModify:a},{regex:_,indices:P,postModify:m},{regex:D,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<O.length;B++){const K=O[B],X=K.regex.exec(e);if(X){const R=X[K.indices.bucket];let N=X[K.indices.path];N||(N=""),r=new Tr(R,N),K.postModify(r);break}}if(r==null)throw d9(e);return r}}class v9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function h(){return u===2}let m=!1;function g(...k){m||(m=!0,e.apply(null,k))}function y(k){i=setTimeout(()=>{i=null,t(_,h())},k)}function x(){a&&clearTimeout(a)}function _(k,...D){if(m){x();return}if(k){x(),g.call(null,k,...D);return}if(h()||l){x(),g.call(null,k,...D);return}r<64&&(r*=2);let O;u===1?(u=2,O=0):O=(r+Math.random())*1e3,y(O)}let P=!1;function E(k){P||(P=!0,x(),!m&&(i!==null?(k||(u=2),clearTimeout(i),y(0)):k||(u=1)))}return y(0),a=setTimeout(()=>{l=!0,E(!0)},n),E}function w9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return t!==void 0}function _9(t){return typeof t=="object"&&!Array.isArray(t)}function Rv(t){return typeof t=="string"||t instanceof String}function D2(t){return Dv()&&t instanceof Blob}function Dv(){return typeof Blob<"u"}function V2(t,e,n,r){if(r<e)throw q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ga;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ga||(ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,i,a,l,u,h,m,g,y,x=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,E)=>{this.resolve_=P,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===ga.NO_ERROR,h=a.getStatus();if(!u||E9(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ga.ABORT;r(!1,new Bh(!1,null,g));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new Bh(m,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());b9(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=jv();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(i.canceled){const h=this.appDelete_?VP():u9();l(h)}else{const h=c9();l(h)}};this.canceled_?n(!1,new Bh(!1,null,!0)):this.backoffId_=x9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function T9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function k9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N9(t,e,n,r,i,a,l=!0,u=!1){const h=OP(t.urlParams),m=t.url+h,g=Object.assign({},t.headers);return C9(g,e),T9(g,n),P9(g,a),k9(g,r),new S9(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function I9(...t){const e=A9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Dv())return new Blob(t);throw new Ht(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){if(typeof atob>"u")throw g9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zg{constructor(e,n){this.data=e,this.contentType=n||null}}function D9(t,e){switch(t){case Ri.RAW:return new zg(MP(e));case Ri.BASE64:case Ri.BASE64URL:return new zg(LP(t,e));case Ri.DATA_URL:return new zg(O9(e),M9(e))}throw jv()}function MP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V9(t){let e;try{e=decodeURIComponent(t)}catch{throw gu(Ri.DATA_URL,"Malformed data URL.")}return MP(e)}function LP(t,e){switch(t){case Ri.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw gu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw gu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R9(e)}catch(i){throw i.message.includes("polyfill")?i:gu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gu(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=L9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function O9(t){const e=new FP(t);return e.base64?LP(Ri.BASE64,e.rest):V9(e.rest)}function M9(t){return new FP(t).contentType}function L9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){let r=0,i="";D2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(D2(this.data_)){const r=this.data_,i=j9(r,e,n);return i===null?null:new ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ao(r,!0)}}static getBlob(...e){if(Dv()){const n=e.map(r=>r instanceof ao?r.data_:r);return new ao(I9.apply(null,n))}else{const n=e.map(l=>Rv(l)?D9(Ri.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){let e;try{e=JSON.parse(t)}catch{return null}return _9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function U9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||B9}}let $h=null;function $9(t){return!Rv(t)||t.length<2?t:BP(t)}function $P(){if($h)return $h;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(a,l){return $9(l)}const n=new qn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),$h=t,$h}function z9(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Tr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function W9(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return z9(r,t),r}function zP(t,e,n){const r=UP(e);return r===null?null:W9(t,r,n)}function H9(t,e,n,r){const i=UP(e);if(i===null||!Rv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const g=t.bucket,y=t.fullPath,x="/b/"+l(g)+"/o/"+l(y),_=Vv(x,n,r),P=OP({alt:"media",token:m});return _+P})[0]}function q9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class WP{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){if(!t)throw jv()}function G9(t,e){function n(r,i){const a=zP(t,i,e);return HP(a!==null),a}return n}function K9(t,e){function n(r,i){const a=zP(t,i,e);return HP(a!==null),H9(a,i,t.host,t._protocol)}return n}function qP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=a9():i=o9():n.getStatus()===402?i=s9(t.bucket):n.getStatus()===403?i=l9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Q9(t){const e=qP(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=i9(t.path)),a.serverResponse=i.serverResponse,a}return n}function X9(t,e,n){const r=e.fullServerUrl(),i=Vv(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new WP(i,a,K9(t,n),l);return u.errorHandler=Q9(e),u}function Y9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function J9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Y9(null,e)),r}function Z9(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let O="";for(let B=0;B<2;B++)O=O+Math.random().toString().slice(2);return O}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const m=J9(e,r,i),g=q9(m,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+h+"--",_=ao.getBlob(y,r,x);if(_===null)throw p9();const P={name:m.fullPath},E=Vv(a,t.host,t._protocol),k="POST",D=t.maxUploadRetryTime,F=new WP(E,k,G9(t,n),D);return F.urlParams=P,F.headers=l,F.body=_.uploadData(),F.errorHandler=qP(e),F}class eV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Xc("cannot .send() more than once");if(Ao(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tV extends eV{initXhr(){this.xhr_.responseType="text"}}function GP(){return new tV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pa(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BP(this._location.path)}get storage(){return this._service}get parent(){const e=F9(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new Pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y9(e)}}function nV(t,e,n){t._throwIfRoot("uploadBytes");const r=Z9(t.storage,t._location,$P(),new ao(e,!0),n);return t.storage.makeRequestWithTokens(r,GP).then(i=>({metadata:i,ref:t}))}function rV(t){t._throwIfRoot("getDownloadURL");const e=X9(t.storage,t._location,$P());return t.storage.makeRequestWithTokens(e,GP).then(n=>{if(n===null)throw m9();return n})}function iV(t,e){const n=U9(t._location.path,e),r=new Tr(t._location.bucket,n);return new Pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){return/^[A-Za-z]+:\/\//.test(t)}function oV(t,e){return new Pa(t,e)}function KP(t,e){if(t instanceof Ov){const n=t;if(n._bucket==null)throw f9();const r=new Pa(n,n._bucket);return e!=null?KP(r,e):r}else return e!==void 0?iV(t,e):t}function aV(t,e){if(e&&sV(e)){if(t instanceof Ov)return oV(t,e);throw q0("To use ref(service, url), the first argument must be a Storage instance.")}else return KP(t,e)}function O2(t,e){const n=e==null?void 0:e[DP];return n==null?null:Tr.makeFromBucketSpec(n,t)}function lV(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ao(e);i&&(jy(`https://${t.host}/b`),Ry("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:pS(a,t.app.options.projectId))}class Ov{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=RP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n9,this._maxUploadRetryTime=r9,this._requests=new Set,i!=null?this._bucket=Tr.makeFromBucketSpec(i,this._host):this._bucket=O2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=O2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new v9(VP());{const l=N9(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const M2="@firebase/storage",L2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="storage";function cV(t,e,n){return t=jt(t),nV(t,e,n)}function uV(t){return t=jt(t),rV(t)}function dV(t,e){return t=jt(t),aV(t,e)}function hV(t=Oy(),e){t=jt(t);const r=dp(t,QP).getImmediate({identifier:e}),i=dS("storage");return i&&fV(r,...i),r}function fV(t,e,n,r={}){lV(t,e,n,r)}function pV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ov(n,r,i,e,Na)}function mV(){ba(new yo(QP,pV,"PUBLIC").setMultipleInstances(!0)),Oi(M2,L2,""),Oi(M2,L2,"esm2017")}mV();const gV={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.appspot.com",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},Mv=yS(gV),rt=UD(Mv),oa=z3(Mv),yV=hV(Mv);function F2(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="0123456789";let n="USER-";for(let r=0;r<3;r++)n+=t.charAt(Math.floor(Math.random()*t.length));for(let r=0;r<3;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}const XP=A.createContext();function Nr(){return A.useContext(XP)}function YP({children:t}){const[e,n]=A.useState(null),[r,i]=A.useState(null),[a,l]=A.useState(!0);A.useEffect(()=>{let _=null;const P=IR(oa,async E=>{if(_){try{_()}catch{}_=null}if(n(E),!E){i(null),l(!1);return}try{const k=Vt(rt,"users",E.uid),D=Vt(rt,"usuarios",E.uid),[F,O]=await Promise.all([uo(k),uo(D)]);let B=null;if(F.exists())B=k;else if(O.exists())B=D;else{const X={telefono:"",direccion:"",admin:!1,codigo:F2(),displayName:E.displayName||"",email:E.email||"",createdAt:new Date};try{await hi(k,X,{merge:!0})}catch(R){console.warn("No fue posible crear users/{uid} automticamente:",R)}B=k}_=Bl(B,K=>{if(K.exists()){const X=K.data()||{},R={uid:E.uid,...X,displayName:E.displayName||X.displayName||"",email:E.email||X.email||"",isAdmin:X.admin===!0};i(R)}else{const X={uid:E.uid,telefono:"",direccion:"",admin:!1,codigo:"",displayName:E.displayName||"",email:E.email||E.email,isAdmin:!1};i(X)}l(!1)},K=>{console.error("onSnapshot usuario error:",K),l(!1)})}catch(k){console.error("Error inicializando listener de usuario:",k);try{const D=Vt(rt,"users",E.uid),F=await uo(D),O=F.exists()?F.data():{},B={uid:E.uid,...O,displayName:E.displayName||O.displayName||"",email:E.email||O.email||"",isAdmin:O.admin===!0};i(B)}catch(D){console.error("Fallback read error:",D),i({uid:E.uid,displayName:E.displayName||"",email:E.email||"",telefono:"",direccion:"",isAdmin:!1,codigo:""})}finally{l(!1)}}});return()=>{try{P()}catch{}if(_)try{_()}catch{}}},[]);async function u(_,P,E){const k=await PR(oa,_,P);await Fl(k.user,{displayName:E});const D=F2(),F={telefono:"",direccion:"",admin:!1,codigo:D,displayName:E,email:_,createdAt:new Date};await hi(Vt(rt,"users",k.user.uid),F,{merge:!0}),n(oa.currentUser),i({uid:k.user.uid,telefono:"",direccion:"",admin:!1,codigo:D,displayName:E,email:_,isAdmin:!1})}function h(_,P){return CR(oa,_,P)}function m(){return jR(oa)}async function g(_){if(!e)throw new Error("No user logged in");const P=Vt(rt,"users",e.uid);try{await hi(P,_,{merge:!0});const E=await uo(P),k=E.exists()?E.data():{},D={uid:e.uid,...k,displayName:e.displayName||k.displayName||"",email:e.email||k.email||"",isAdmin:k.admin===!0};if(i(D),_.displayName&&e.displayName!==_.displayName)try{await Fl(e,{displayName:_.displayName}),n(oa.currentUser)}catch(F){console.warn("Error actualizando displayName en auth:",F)}return D}catch(E){throw console.error("actualizarUsuarioInfo error:",E),E}}async function y(_){if(!e)throw new Error("No user logged in");const P=dV(yV,`usuarios/${e.uid}/perfil.jpg`);await cV(P,_);const E=await uV(P);await Fl(e,{photoURL:E}),n(oa.currentUser);try{await hi(Vt(rt,"users",e.uid),{fotoURL:E},{merge:!0}),i(k=>({...k,fotoURL:E}))}catch(k){console.warn("No se pudo persistir fotoURL en users/{uid}:",k)}return E}const x={usuario:e,usuarioInfo:r,login:h,signup:u,logout:m,actualizarUsuarioInfo:g,subirImagen:y};return d.jsx(XP.Provider,{value:x,children:!a&&t})}const JP=A.createContext();function ac(){return A.useContext(JP)}function vV({children:t}){const[e,n]=A.useState(!1),[r,i]=A.useState("login");function a(u="login"){i(u),n(!0)}function l(){n(!1)}return d.jsx(JP.Provider,{value:{modalAbierto:e,setModalAbierto:n,abrirModal:a,cerrarModal:l,modo:r,setModo:i},children:t})}const Lv=A.createContext({});function Fv(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uv=typeof window<"u",ZP=Uv?A.useLayoutEffect:A.useEffect,Mp=A.createContext(null);function Bv(t,e){t.indexOf(e)===-1&&t.push(e)}function $v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ts=(t,e,n)=>n>e?e:n<t?t:n;let zv=()=>{};const Ps={},eC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tC(t){return typeof t=="object"&&t!==null}const nC=t=>/^0[^.\s]+$/u.test(t);function Wv(t){let e;return()=>(e===void 0&&(e=t()),e)}const qr=t=>t,xV=(t,e)=>n=>e(t(n)),cd=(...t)=>t.reduce(xV),Lu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Hv{constructor(){this.subscriptions=[]}add(e){return Bv(this.subscriptions,e),()=>$v(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=t=>t*1e3,Wi=t=>t/1e3;function rC(t,e){return e?t*(1e3/e):0}const iC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wV=1e-7,bV=12;function _V(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=iC(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>wV&&++u<bV);return l}function ud(t,e,n,r){if(t===e&&n===r)return qr;const i=a=>_V(a,0,1,t,n);return a=>a===0||a===1?a:iC(i(a),e,r)}const sC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oC=t=>e=>1-t(1-e),aC=ud(.33,1.53,.69,.99),qv=oC(aC),lC=sC(qv),cC=t=>(t*=2)<1?.5*qv(t):.5*(2-Math.pow(2,-10*(t-1))),Gv=t=>1-Math.sin(Math.acos(t)),uC=oC(Gv),dC=sC(Gv),EV=ud(.42,0,1,1),SV=ud(0,0,.58,1),hC=ud(.42,0,.58,1),TV=t=>Array.isArray(t)&&typeof t[0]!="number",fC=t=>Array.isArray(t)&&typeof t[0]=="number",PV={linear:qr,easeIn:EV,easeInOut:hC,easeOut:SV,circIn:Gv,circInOut:dC,circOut:uC,backIn:qv,backInOut:lC,backOut:aC,anticipate:cC},CV=t=>typeof t=="string",U2=t=>{if(fC(t)){zv(t.length===4);const[e,n,r,i]=t;return ud(e,n,r,i)}else if(CV(t))return PV[t];return t},zh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],B2={value:null};function kV(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(y){l.has(y)&&(g.schedule(y),t()),h++,y(u)}const g={schedule:(y,x=!1,_=!1)=>{const E=_&&i?n:r;return x&&l.add(y),E.has(y)||E.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(u=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&B2.value&&B2.value.frameloop[e].push(h),h=0,n.clear(),i=!1,a&&(a=!1,g.process(y))}};return g}const NV=40;function pC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=zh.reduce((O,B)=>(O[B]=kV(a,e?B:void 0),O),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:x,render:_,postRender:P}=l,E=()=>{const O=Ps.useManualTiming?i.timestamp:performance.now();n=!1,Ps.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,NV),1)),i.timestamp=O,i.isProcessing=!0,u.process(i),h.process(i),m.process(i),g.process(i),y.process(i),x.process(i),_.process(i),P.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},k=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:zh.reduce((O,B)=>{const K=l[B];return O[B]=(X,R=!1,N=!1)=>(n||k(),K.schedule(X,R,N)),O},{}),cancel:O=>{for(let B=0;B<zh.length;B++)l[zh[B]].cancel(O)},state:i,steps:l}}const{schedule:It,cancel:Po,state:Pn,steps:Wg}=pC(typeof requestAnimationFrame<"u"?requestAnimationFrame:qr,!0);let yf;function AV(){yf=void 0}const ur={now:()=>(yf===void 0&&ur.set(Pn.isProcessing||Ps.useManualTiming?Pn.timestamp:performance.now()),yf),set:t=>{yf=t,queueMicrotask(AV)}},mC=t=>e=>typeof e=="string"&&e.startsWith(t),Kv=mC("--"),IV=mC("var(--"),Qv=t=>IV(t)?jV.test(t.split("/*")[0].trim()):!1,jV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fu={...lc,transform:t=>Ts(0,1,t)},Wh={...lc,default:1},yu=t=>Math.round(t*1e5)/1e5,Xv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RV(t){return t==null}const DV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(t,e)=>n=>!!(typeof n=="string"&&DV.test(n)&&n.startsWith(t)||e&&!RV(n)&&Object.prototype.hasOwnProperty.call(n,e)),gC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(Xv);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},VV=t=>Ts(0,255,t),Hg={...lc,transform:t=>Math.round(VV(t))},da={test:Yv("rgb","red"),parse:gC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hg.transform(t)+", "+Hg.transform(e)+", "+Hg.transform(n)+", "+yu(Fu.transform(r))+")"};function OV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const G0={test:Yv("#"),parse:OV,transform:da.transform},dd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=dd("deg"),Hi=dd("%"),Me=dd("px"),MV=dd("vh"),LV=dd("vw"),$2={...Hi,parse:t=>Hi.parse(t)/100,transform:t=>Hi.transform(t*100)},Il={test:Yv("hsl","hue"),parse:gC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hi.transform(yu(e))+", "+Hi.transform(yu(n))+", "+yu(Fu.transform(r))+")"},sn={test:t=>da.test(t)||G0.test(t)||Il.test(t),parse:t=>da.test(t)?da.parse(t):Il.test(t)?Il.parse(t):G0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?da.transform(t):Il.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},FV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xv))==null?void 0:e.length)||0)+(((n=t.match(FV))==null?void 0:n.length)||0)>0}const yC="number",vC="color",BV="var",$V="var(",z2="${}",zV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(zV,h=>(sn.test(h)?(r.color.push(a),i.push(vC),n.push(sn.parse(h))):h.startsWith($V)?(r.var.push(a),i.push(BV),n.push(h)):(r.number.push(a),i.push(yC),n.push(parseFloat(h))),++a,z2)).split(z2);return{values:n,split:u,indexes:r,types:i}}function xC(t){return Uu(t).values}function wC(t){const{split:e,types:n}=Uu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=n[l];u===yC?a+=yu(i[l]):u===vC?a+=sn.transform(i[l]):a+=i[l]}return a}}const WV=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function HV(t){const e=xC(t);return wC(t)(e.map(WV))}const Co={test:UV,parse:xC,createTransformer:wC,getAnimatableNone:HV};function qg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=qg(h,u,t+1/3),a=qg(h,u,t),l=qg(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Qf(t,e){return n=>n>0?e:t}const Ot=(t,e,n)=>t+(e-t)*n,Gg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},GV=[G0,da,Il],KV=t=>GV.find(e=>e.test(t));function W2(t){const e=KV(t);if(!e)return!1;let n=e.parse(t);return e===Il&&(n=qV(n)),n}const H2=(t,e)=>{const n=W2(t),r=W2(e);if(!n||!r)return Qf(t,e);const i={...n};return a=>(i.red=Gg(n.red,r.red,a),i.green=Gg(n.green,r.green,a),i.blue=Gg(n.blue,r.blue,a),i.alpha=Ot(n.alpha,r.alpha,a),da.transform(i))},K0=new Set(["none","hidden"]);function QV(t,e){return K0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XV(t,e){return n=>Ot(t,e,n)}function Jv(t){return typeof t=="number"?XV:typeof t=="string"?Qv(t)?Qf:sn.test(t)?H2:ZV:Array.isArray(t)?bC:typeof t=="object"?sn.test(t)?H2:YV:Qf}function bC(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Jv(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function YV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jv(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function JV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],u=t.values[l]??0;n[i]=u,r[a]++}return n}const ZV=(t,e)=>{const n=Co.createTransformer(e),r=Uu(t),i=Uu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?K0.has(t)&&!i.values.length||K0.has(e)&&!r.values.length?QV(t,e):cd(bC(JV(r,i),i.values),n):Qf(t,e)};function _C(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):Jv(t)(t,e)}const eO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>Po(e),now:()=>Pn.isProcessing?Pn.timestamp:ur.now()}},EC=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xf=2e4;function Zv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xf;)e+=n,r=t.next(e);return e>=Xf?1/0:e}function tO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Zv(r),Xf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Wi(i)}}const nO=5;function SC(t,e,n){const r=Math.max(e-nO,0);return rC(n-t(r),e-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kg=.001;function rO({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let i,a,l=1-e;l=Ts($t.minDamping,$t.maxDamping,l),t=Ts($t.minDuration,$t.maxDuration,Wi(t)),l<1?(i=m=>{const g=m*l,y=g*t,x=g-n,_=Q0(m,l),P=Math.exp(-y);return Kg-x/_*P},a=m=>{const y=m*l*t,x=y*n+n,_=Math.pow(l,2)*Math.pow(m,2)*t,P=Math.exp(-y),E=Q0(Math.pow(m,2),l);return(-i(m)+Kg>0?-1:1)*((x-_)*P)/E}):(i=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-Kg+g*y},a=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const u=5/t,h=sO(i,a,u);if(t=zi(t),isNaN(h))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const iO=12;function sO(t,e,n){let r=n;for(let i=1;i<iO;i++)r=r-t(r)/e(r);return r}function Q0(t,e){return t*Math.sqrt(1-e*e)}const oO=["duration","bounce"],aO=["stiffness","damping","mass"];function q2(t,e){return e.some(n=>t[n]!==void 0)}function lO(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!q2(t,aO)&&q2(t,oO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ts(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$t.mass,stiffness:i,damping:a}}else{const n=rO(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function Yf(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:m,mass:g,duration:y,velocity:x,isResolvedFromDuration:_}=lO({...n,velocity:-Wi(n.velocity||0)}),P=x||0,E=m/(2*Math.sqrt(h*g)),k=l-a,D=Wi(Math.sqrt(h/g)),F=Math.abs(k)<5;r||(r=F?$t.restSpeed.granular:$t.restSpeed.default),i||(i=F?$t.restDelta.granular:$t.restDelta.default);let O;if(E<1){const K=Q0(D,E);O=X=>{const R=Math.exp(-E*D*X);return l-R*((P+E*D*k)/K*Math.sin(K*X)+k*Math.cos(K*X))}}else if(E===1)O=K=>l-Math.exp(-D*K)*(k+(P+D*k)*K);else{const K=D*Math.sqrt(E*E-1);O=X=>{const R=Math.exp(-E*D*X),N=Math.min(K*X,300);return l-R*((P+E*D*k)*Math.sinh(N)+K*k*Math.cosh(N))/K}}const B={calculatedDuration:_&&y||null,next:K=>{const X=O(K);if(_)u.done=K>=y;else{let R=K===0?P:0;E<1&&(R=K===0?zi(P):SC(O,K,X));const N=Math.abs(R)<=r,V=Math.abs(l-X)<=i;u.done=N&&V}return u.value=u.done?l:X,u},toString:()=>{const K=Math.min(Zv(B),Xf),X=EC(R=>B.next(K*R).value,K,30);return K+"ms "+X},toTransition:()=>{}};return B}Yf.applyToOptions=t=>{const e=tO(t,100,Yf);return t.ease=e.ease,t.duration=zi(e.duration),t.type="keyframes",t};function X0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const y=t[0],x={done:!1,value:y},_=N=>u!==void 0&&N<u||h!==void 0&&N>h,P=N=>u===void 0?h:h===void 0||Math.abs(u-N)<Math.abs(h-N)?u:h;let E=n*e;const k=y+E,D=l===void 0?k:l(k);D!==k&&(E=D-y);const F=N=>-E*Math.exp(-N/r),O=N=>D+F(N),B=N=>{const V=F(N),S=O(N);x.done=Math.abs(V)<=m,x.value=x.done?D:S};let K,X;const R=N=>{_(x.value)&&(K=N,X=Yf({keyframes:[x.value,P(x.value)],velocity:SC(O,N,x.value),damping:i,stiffness:a,restDelta:m,restSpeed:g}))};return R(0),{calculatedDuration:null,next:N=>{let V=!1;return!X&&K===void 0&&(V=!0,B(N),R(N)),K!==void 0&&N>=K?X.next(N-K):(!V&&B(N),x)}}}function cO(t,e,n){const r=[],i=n||Ps.mix||_C,a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||qr:e;u=cd(h,u)}r.push(u)}return r}function uO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(zv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=cO(e,r,i),h=u.length,m=g=>{if(l&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const x=Lu(t[y],t[y+1],g);return u[y](x)};return n?g=>m(Ts(t[0],t[a-1],g)):m}function dO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Lu(0,e,r);t.push(Ot(n,1,i))}}function hO(t){const e=[0];return dO(e,t.length-1),e}function fO(t,e){return t.map(n=>n*e)}function pO(t,e){return t.map(()=>e||hC).splice(0,t.length-1)}function vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TV(r)?r.map(U2):U2(r),a={done:!1,value:e[0]},l=fO(n&&n.length===e.length?n:hO(e),t),u=uO(l,e,{ease:Array.isArray(i)?i:pO(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const mO=t=>t!==null;function e1(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(mO),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const gO={decay:X0,inertia:X0,tween:vu,keyframes:vu,spring:Yf};function TC(t){typeof t.type=="string"&&(t.type=gO[t.type])}class t1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yO=t=>t/100;class n1 extends t1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ur.now()&&this.tick(ur.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TC(e);const{type:n=vu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||vu;h!==vu&&typeof u[0]!="number"&&(this.mixKeyframes=cd(yO,_C(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Zv(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:x,repeatDelay:_,type:P,onUpdate:E,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-m*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?D<0:D>i;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,B=r;if(y){const N=Math.min(this.currentTime,i)/u;let V=Math.floor(N),S=N%1;!S&&N>=1&&(S=1),S===1&&V--,V=Math.min(V,y+1),!!(V%2)&&(x==="reverse"?(S=1-S,_&&(S-=_/u)):x==="mirror"&&(B=l)),O=Ts(0,1,S)*u}const K=F?{done:!1,value:g[0]}:B.next(O);a&&(K.value=a(K.value));let{done:X}=K;!F&&h!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&P!==X0&&(K.value=e1(g,this.options,k,this.speed)),E&&E(K.value),R&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Wi(this.calculatedDuration)}get time(){return Wi(this.currentTime)}set time(e){var n;e=zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ur.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wi(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=eO,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ur.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function vO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ha=t=>t*180/Math.PI,Y0=t=>{const e=ha(Math.atan2(t[1],t[0]));return J0(e)},xO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Y0,rotateZ:Y0,skewX:t=>ha(Math.atan(t[1])),skewY:t=>ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},J0=t=>(t=t%360,t<0&&(t+=360),t),G2=Y0,K2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Q2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),wO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K2,scaleY:Q2,scale:t=>(K2(t)+Q2(t))/2,rotateX:t=>J0(ha(Math.atan2(t[6],t[5]))),rotateY:t=>J0(ha(Math.atan2(-t[2],t[0]))),rotateZ:G2,rotate:G2,skewX:t=>ha(Math.atan(t[4])),skewY:t=>ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Z0(t){return t.includes("scale")?1:0}function ey(t,e){if(!t||t==="none")return Z0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=wO,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xO,i=u}if(!i)return Z0(e);const a=r[e],l=i[1].split(",").map(_O);return typeof a=="function"?a(l):l[a]}const bO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ey(n,e)};function _O(t){return parseFloat(t.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uc=new Set(cc),X2=t=>t===lc||t===Me,EO=new Set(["x","y","z"]),SO=cc.filter(t=>!EO.has(t));function TO(t){const e=[];return SO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ey(e,"x"),y:(t,{transform:e})=>ey(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const va=new Set;let ty=!1,ny=!1,ry=!1;function PC(){if(ny){const t=Array.from(va).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=TO(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ny=!1,ty=!1,va.forEach(t=>t.complete(ry)),va.clear()}function CC(){va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ny=!0)})}function PO(){ry=!0,CC(),PC(),ry=!1}class r1{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),ty||(ty=!0,It.read(CC),It.resolveKeyframes(PC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}vO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CO=t=>t.startsWith("--");function kO(t,e,n){CO(e)?t.style.setProperty(e,n):t.style[e]=n}const NO=Wv(()=>window.ScrollTimeline!==void 0),AO={};function IO(t,e){const n=Wv(t);return()=>AO[e]??n()}const kC=IO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Y2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function NC(t,e){if(t)return typeof t=="function"?kC()?EC(t,e):"ease-out":fC(t)?au(t):Array.isArray(t)?t.map(n=>NC(n,e)||Y2.easeOut):Y2[t]}function jO(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const y=NC(u,i);Array.isArray(y)&&(g.easing=y);const x={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function AC(t){return typeof t=="function"&&"applyToOptions"in t}function RO({type:t,...e}){return AC(t)&&kC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class DO extends t1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,zv(typeof e.type!="string");const m=RO(e);this.animation=jO(n,r,i,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=e1(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):kO(n,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wi(Number(e))}get time(){return Wi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NO()?(this.animation.timeline=e,qr):n(this)}}const IC={anticipate:cC,backInOut:lC,circInOut:dC};function VO(t){return t in IC}function OO(t){typeof t.ease=="string"&&VO(t.ease)&&(t.ease=IC[t.ease])}const J2=10;class MO extends DO{constructor(e){OO(e),TC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new n1({...l,autoplay:!1}),h=zi(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-J2).value,u.sample(h).value,J2),u.stop()}}const Z2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Co.test(t)||t==="0")&&!t.startsWith("url("));function LO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FO(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Z2(i,e),u=Z2(a,e);return!l||!u?!1:LO(t)||(n==="spring"||AC(n))&&r}function i1(t){return tC(t)&&"offsetHeight"in t}const UO=new Set(["opacity","clipPath","filter","transform"]),BO=Wv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $O(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!i1((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return BO()&&n&&UO.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const zO=40;class WO extends t1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:g,...y}){var P;super(),this.stop=()=>{var E,k;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=ur.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:h,motionValue:m,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||r1;this.keyframeResolver=new _(u,(E,k,D)=>this.onKeyframesResolved(E,k,x,!D),h,m,g),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=ur.now(),FO(e,a,l,u)||((Ps.instantAnimations||!h)&&(g==null||g(e1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!m&&$O(x)?new MO({...x,element:x.motionValue.owner.current}):new n1(x);_.finished.then(()=>this.notifyFinished()).catch(qr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),PO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const HO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qO(t){const e=HO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jC(t,e,n=1){const[r,i]=qO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return eC(l)?parseFloat(l):l}return Qv(i)?jC(i,e,n+1):i}function s1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const RC=new Set(["width","height","top","left","right","bottom",...cc]),GO={test:t=>t==="auto",parse:t=>t},DC=t=>e=>e.test(t),VC=[lc,Me,Hi,no,LV,MV,GO],e_=t=>VC.find(DC(t));function KO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nC(t):!0}const QO=new Set(["brightness","contrast","saturate","opacity"]);function XO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xv)||[];if(!r)return t;const i=n.replace(r,"");let a=QO.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const YO=/\b([a-z-]*)\(.*?\)/gu,iy={...Co,getAnimatableNone:t=>{const e=t.match(YO);return e?e.map(XO).join(" "):t}},t_={...lc,transform:Math.round},JO={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:no,skewX:no,skewY:no,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Fu,originX:$2,originY:$2,originZ:Me},o1={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...JO,zIndex:t_,fillOpacity:Fu,strokeOpacity:Fu,numOctaves:t_},ZO={...o1,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:iy,WebkitFilter:iy},OC=t=>ZO[t];function MC(t,e){let n=OC(t);return n!==iy&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eM=new Set(["auto","none","0"]);function tM(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!eM.has(a)&&Uu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=MC(n,i)}class nM extends r1{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Qv(m))){const g=jC(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!RC.has(r)||e.length!==2)return;const[i,a]=e,l=e_(i),u=e_(a);if(l!==u)if(X2(l)&&X2(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||KO(e[i]))&&r.push(i);r.length&&tM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function rM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const LC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,n_=30,iM=t=>!isNaN(parseFloat(t));class sM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,u;const a=ur.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hv);const r=this.events[e].add(n);return e==="change"?()=>{r(),It.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>n_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,n_);return rC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new sM(t,e)}const{schedule:a1}=pC(queueMicrotask,!1),ui={x:!1,y:!1};function FC(){return ui.x||ui.y}function oM(t){return t==="x"||t==="y"?ui[t]?null:(ui[t]=!0,()=>{ui[t]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function UC(t,e){const n=rM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function r_(t){return!(t.pointerType==="touch"||FC())}function aM(t,e,n={}){const[r,i,a]=UC(t,n),l=u=>{if(!r_(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=y=>{r_(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),a}const BC=(t,e)=>e?t===e?!0:BC(t,e.parentElement):!1,l1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cM(t){return lM.has(t.tagName)||t.tabIndex!==-1}const vf=new WeakSet;function i_(t){return e=>{e.key==="Enter"&&t(e)}}function Qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=i_(()=>{if(vf.has(n))return;Qg(n,"down");const i=i_(()=>{Qg(n,"up")}),a=()=>Qg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function s_(t){return l1(t)&&!FC()}function dM(t,e,n={}){const[r,i,a]=UC(t,n),l=u=>{const h=u.currentTarget;if(!s_(u))return;vf.add(h);const m=e(h,u),g=(_,P)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),vf.has(h)&&vf.delete(h),s_(_)&&typeof m=="function"&&m(_,{success:P})},y=_=>{g(_,h===window||h===document||n.useGlobalTarget||BC(h,_.target))},x=_=>{g(_,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",x,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),i1(u)&&(u.addEventListener("focus",m=>uM(m,i)),!cM(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function $C(t){return tC(t)&&"ownerSVGElement"in t}function hM(t){return $C(t)&&t.tagName==="svg"}const Un=t=>!!(t&&t.getVelocity),fM=[...VC,sn,Co],pM=t=>fM.find(DC(t)),c1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mM extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=i1(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gM({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),a=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=A.useContext(c1);return A.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:y,right:x}=l.current;if(e||!a.current||!h||!m)return;const _=n==="left"?`left: ${y}`:`right: ${x}`;a.current.dataset.motionPopId=i;const P=document.createElement("style");u&&(P.nonce=u);const E=r??document.head;return E.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.removeChild(P),E.contains(P)&&E.removeChild(P)}},[e]),d.jsx(mM,{isPresent:e,childRef:a,sizeRef:l,children:A.cloneElement(t,{ref:a})})}const yM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:u,root:h})=>{const m=Fv(vM),g=A.useId();let y=!0,x=A.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:_=>{m.set(_,!0);for(const P of m.values())if(!P)return;r&&r()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,r]);return a&&y&&(x={...x}),A.useMemo(()=>{m.forEach((_,P)=>m.set(P,!1))},[n]),A.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),l==="popLayout"&&(t=d.jsx(gM,{isPresent:n,anchorX:u,root:h,children:t})),d.jsx(Mp.Provider,{value:x,children:t})};function vM(){return new Map}function zC(t=!0){const e=A.useContext(Mp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=A.useId();A.useEffect(()=>{if(t)return i(a)},[t]);const l=A.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Hh=t=>t.key||"";function o_(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const cr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[m,g]=zC(l),y=A.useMemo(()=>o_(t),[t]),x=l&&!m?[]:y.map(Hh),_=A.useRef(!0),P=A.useRef(y),E=Fv(()=>new Map),[k,D]=A.useState(y),[F,O]=A.useState(y);ZP(()=>{_.current=!1,P.current=y;for(let X=0;X<F.length;X++){const R=Hh(F[X]);x.includes(R)?E.delete(R):E.get(R)!==!0&&E.set(R,!1)}},[F,x.length,x.join("-")]);const B=[];if(y!==k){let X=[...y];for(let R=0;R<F.length;R++){const N=F[R],V=Hh(N);x.includes(V)||(X.splice(R,0,N),B.push(N))}return a==="wait"&&B.length&&(X=B),O(o_(X)),D(y),null}const{forceRender:K}=A.useContext(Lv);return d.jsx(d.Fragment,{children:F.map(X=>{const R=Hh(X),N=l&&!m?!1:y===F||x.includes(R),V=()=>{if(E.has(R))E.set(R,!0);else return;let S=!0;E.forEach(M=>{M||(S=!1)}),S&&(K==null||K(),O(P.current),l&&(g==null||g()),r&&r())};return d.jsx(yM,{isPresent:N,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:N?void 0:V,anchorX:u,children:X},R)})})},WC=A.createContext({strict:!1}),a_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yl={};for(const t in a_)Yl[t]={isEnabled:e=>a_[t].some(n=>!!e[n])};function xM(t){for(const e in t)Yl[e]={...Yl[e],...t[e]}}const wM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wM.has(t)}let HC=t=>!Jf(t);function bM(t){typeof t=="function"&&(HC=e=>e.startsWith("on")?!Jf(e):t(e))}try{bM(require("@emotion/is-prop-valid").default)}catch{}function _M(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(HC(i)||n===!0&&Jf(i)||!e&&!Jf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function EM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Lp=A.createContext({});function Fp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bu(t){return typeof t=="string"||Array.isArray(t)}const u1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d1=["initial",...u1];function Up(t){return Fp(t.animate)||d1.some(e=>Bu(t[e]))}function qC(t){return!!(Up(t)||t.variants)}function SM(t,e){if(Up(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function TM(t){const{initial:e,animate:n}=SM(t,A.useContext(Lp));return A.useMemo(()=>({initial:e,animate:n}),[l_(e),l_(n)])}function l_(t){return Array.isArray(t)?t.join(" "):t}const PM=Symbol.for("motionComponentSymbol");function jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CM(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jl(n)&&(n.current=r))},[e])}const h1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kM="framerAppearId",GC="data-"+h1(kM),KC=A.createContext({});function NM(t,e,n,r,i){var E,k;const{visualElement:a}=A.useContext(Lp),l=A.useContext(WC),u=A.useContext(Mp),h=A.useContext(c1).reducedMotion,m=A.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=A.useContext(KC);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&AM(m.current,n,i,y);const x=A.useRef(!1);A.useInsertionEffect(()=>{g&&x.current&&g.update(n,u)});const _=n[GC],P=A.useRef(!!_&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,_))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,_)));return ZP(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),a1.render(g.render),P.current&&g.animationState&&g.animationState.animateChanges())}),A.useEffect(()=>{g&&(!P.current&&g.animationState&&g.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,_)}),P.current=!1))}),g}function AM(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QC(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&jl(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function QC(t){if(t)return t.options.allowProjection!==!1?t.projection:QC(t.parent)}function IM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&xM(t);function a(u,h){let m;const g={...A.useContext(c1),...u,layoutId:jM(u)},{isStatic:y}=g,x=TM(u),_=r(u,y);if(!y&&Uv){RM();const P=DM(g);m=P.MeasureLayout,x.visualElement=NM(i,_,g,e,P.ProjectionNode)}return d.jsxs(Lp.Provider,{value:x,children:[m&&x.visualElement?d.jsx(m,{visualElement:x.visualElement,...g}):null,n(i,u,CM(_,x.visualElement,h),_,y,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=A.forwardRef(a);return l[PM]=i,l}function jM({layoutId:t}){const e=A.useContext(Lv).id;return e&&t!==void 0?e+"-"+t:t}function RM(t,e){A.useContext(WC).strict}function DM(t){const{drag:e,layout:n}=Yl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $u={};function VM(t){for(const e in t)$u[e]=t[e],Kv(e)&&($u[e].isCSSVariable=!0)}function XC(t,{layout:e,layoutId:n}){return uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$u[t]||t==="opacity")}const OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MM=cc.length;function LM(t,e,n){let r="",i=!0;for(let a=0;a<MM;a++){const l=cc[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=LC(u,o1[l]);if(!h){i=!1;const g=OM[l]||l;r+=`${g}(${m}) `}n&&(e[l]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f1(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const m=e[h];if(uc.has(h)){l=!0;continue}else if(Kv(h)){i[h]=m;continue}else{const g=LC(m,o1[h]);h.startsWith("origin")?(u=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=LM(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${m} ${g}`}}const p1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YC(t,e,n){for(const r in e)!Un(e[r])&&!XC(r,n)&&(t[r]=e[r])}function FM({transformTemplate:t},e){return A.useMemo(()=>{const n=p1();return f1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UM(t,e){const n=t.style||{},r={};return YC(r,n,t),Object.assign(r,FM(t,e)),r}function BM(t,e){const n={},r=UM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},zM={offset:"strokeDashoffset",array:"strokeDasharray"};function WM(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?$M:zM;t[a.offset]=Me.transform(-r);const l=Me.transform(e),u=Me.transform(n);t[a.array]=`${l} ${u}`}function JC(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},h,m,g){if(f1(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&WM(y,i,a,l,!1)}const ZC=()=>({...p1(),attrs:{}}),ek=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HM(t,e,n,r){const i=A.useMemo(()=>{const a=ZC();return JC(a,e,ek(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};YC(a,t.style,t),i.style={...a,...i.style}}return i}const qM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m1(t){return typeof t!="string"||t.includes("-")?!1:!!(qM.indexOf(t)>-1||/[A-Z]/u.test(t))}function GM(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(m1(n)?HM:BM)(r,a,l,n),m=_M(r,typeof n=="string",t),g=n!==A.Fragment?{...m,...h,ref:i}:{},{children:y}=r,x=A.useMemo(()=>Un(y)?y.get():y,[y]);return A.createElement(n,{...g,children:x})}}function c_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function g1(t,e,n,r){if(typeof e=="function"){const[i,a]=c_(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=c_(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function xf(t){return Un(t)?t.get():t}function KM({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:QM(n,r,i,t),renderState:e()}}const tk=t=>(e,n)=>{const r=A.useContext(Lp),i=A.useContext(Mp),a=()=>KM(t,e,r,i);return n?a():Fv(a)};function QM(t,e,n,r){const i={},a=r(t,{});for(const x in a)i[x]=xf(a[x]);let{initial:l,animate:u}=t;const h=Up(t),m=qC(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?u:l;if(y&&typeof y!="boolean"&&!Fp(y)){const x=Array.isArray(y)?y:[y];for(let _=0;_<x.length;_++){const P=g1(t,x[_]);if(P){const{transitionEnd:E,transition:k,...D}=P;for(const F in D){let O=D[F];if(Array.isArray(O)){const B=g?O.length-1:0;O=O[B]}O!==null&&(i[F]=O)}for(const F in E)i[F]=E[F]}}}return i}function y1(t,e,n){var a;const{style:r}=t,i={};for(const l in r)(Un(r[l])||e.style&&Un(e.style[l])||XC(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const XM={useVisualState:tk({scrapeMotionValuesFromProps:y1,createRenderState:p1})};function nk(t,e,n){const r=y1(t,e,n);for(const i in t)if(Un(t[i])||Un(e[i])){const a=cc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const YM={useVisualState:tk({scrapeMotionValuesFromProps:nk,createRenderState:ZC})};function JM(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...m1(r)?YM:XM,preloadedFeatures:t,useRender:GM(i),createVisualElement:e,Component:r};return IM(l)}}function zu(t,e,n){const r=t.getProps();return g1(r,e,n!==void 0?n:r.custom,t)}const sy=t=>Array.isArray(t);function ZM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function eL(t){return sy(t)?t[t.length-1]||0:t}function tL(t,e){const n=zu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const u=eL(a[l]);ZM(t,l,u)}}function nL(t){return!!(Un(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(nL(n))return n.add(e);if(!n&&Ps.WillChange){const r=new Ps.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function rk(t){return t.props[GC]}const rL=t=>t!==null;function iL(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(rL),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const sL={type:"spring",stiffness:500,damping:25,restSpeed:10},oL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aL={type:"keyframes",duration:.8},lL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(t,{keyframes:e})=>e.length>2?aL:uc.has(t)?t.startsWith("scale")?oL(e[1]):sL:lL;function uL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const v1=(t,e,n,r={},i,a)=>l=>{const u=s1(r,t)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-zi(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};uL(u)||Object.assign(g,cL(t,g)),g.duration&&(g.duration=zi(g.duration)),g.repeatDelay&&(g.repeatDelay=zi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const x=iL(g.keyframes,u);if(x!==void 0){It.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new n1(g):new WO(g)};function dL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ik(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const y=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||m&&dL(m,g))continue;const _={delay:n,...s1(a||{},g)},P=y.get();if(P!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===P&&!_.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const D=rk(t);if(D){const F=window.MotionHandoffAnimation(D,g,It);F!==null&&(_.startTime=F,E=!0)}}oy(t,g),y.start(v1(g,y,x,t.shouldReduceMotion&&RC.has(g)?{type:!1}:_,t,E));const k=y.animation;k&&h.push(k)}return l&&Promise.all(h).then(()=>{It.update(()=>{l&&tL(t,l)})}),h}function ay(t,e,n={}){var h;const r=zu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(ik(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=i;return hL(t,e,m,g,y,x,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[m,g]=u==="beforeChildren"?[a,l]:[l,a];return m().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function hL(t,e,n=0,r=0,i=0,a=1,l){const u=[],h=t.variantChildren.size,m=(h-1)*i,g=typeof r=="function",y=g?x=>r(x,h):a===1?(x=0)=>x*i:(x=0)=>m-x*i;return Array.from(t.variantChildren).sort(fL).forEach((x,_)=>{x.notify("AnimationStart",e),u.push(ay(x,e,{...l,delay:n+(g?0:r)+y(_)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(u)}function fL(t,e){return t.sortNodePosition(e)}function pL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ay(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=ay(t,e,n);else{const i=typeof e=="function"?zu(t,e,n.custom):e;r=Promise.all(ik(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function sk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mL=d1.length;function ok(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ok(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mL;n++){const r=d1[n],i=t.props[r];(Bu(i)||i===!1)&&(e[r]=i)}return e}const gL=[...u1].reverse(),yL=u1.length;function vL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pL(t,n,r)))}function xL(t){let e=vL(t),n=u_(),r=!0;const i=h=>(m,g)=>{var x;const y=zu(t,g,h==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:_,transitionEnd:P,...E}=y;m={...m,...E,...P}}return m};function a(h){e=h(t)}function l(h){const{props:m}=t,g=ok(t.parent)||{},y=[],x=new Set;let _={},P=1/0;for(let k=0;k<yL;k++){const D=gL[k],F=n[D],O=m[D]!==void 0?m[D]:g[D],B=Bu(O),K=D===h?F.isActive:null;K===!1&&(P=k);let X=O===g[D]&&O!==m[D]&&B;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={..._},!F.isActive&&K===null||!O&&!F.prevProp||Fp(O)||typeof O=="boolean")continue;const R=wL(F.prevProp,O);let N=R||D===h&&F.isActive&&!X&&B||k>P&&B,V=!1;const S=Array.isArray(O)?O:[O];let M=S.reduce(i(D),{});K===!1&&(M={});const{prevResolvedValues:U={}}=F,j={...U,...M},oe=Ee=>{N=!0,x.has(Ee)&&(V=!0,x.delete(Ee)),F.needsAnimating[Ee]=!0;const te=t.getValue(Ee);te&&(te.liveStyle=!1)};for(const Ee in j){const te=M[Ee],pe=U[Ee];if(_.hasOwnProperty(Ee))continue;let ue=!1;sy(te)&&sy(pe)?ue=!sk(te,pe):ue=te!==pe,ue?te!=null?oe(Ee):x.add(Ee):te!==void 0&&x.has(Ee)?oe(Ee):F.protectedKeys[Ee]=!0}F.prevProp=O,F.prevResolvedValues=M,F.isActive&&(_={..._,...M}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(X&&R)||V)&&y.push(...S.map(Ee=>({animation:Ee,options:{type:D}})))}if(x.size){const k={};if(typeof m.initial!="boolean"){const D=zu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);D&&D.transition&&(k.transition=D.transition)}x.forEach(D=>{const F=t.getBaseTarget(D),O=t.getValue(D);O&&(O.liveStyle=!0),k[D]=F??null}),y.push({animation:k})}let E=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function u(h,m){var y;if(n[h].isActive===m)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const g=l(h);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=u_(),r=!0}}}function wL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sk(e,t):!1}function aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u_(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Do{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bL extends Do{constructor(e){super(e),e.animationState||(e.animationState=xL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _L=0;class EL extends Do{constructor(){super(...arguments),this.id=_L++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SL={animation:{Feature:bL},exit:{Feature:EL}};function Wu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hd(t){return{point:{x:t.pageX,y:t.pageY}}}const TL=t=>e=>l1(e)&&t(e,hd(e));function xu(t,e,n,r){return Wu(t,e,TL(n),r)}function ak({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const lk=1e-4,kL=1-lk,NL=1+lk,ck=.01,AL=0-ck,IL=0+ck;function Gn(t){return t.max-t.min}function jL(t,e,n){return Math.abs(t-e)<=n}function d_(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kL&&t.scale<=NL||isNaN(t.scale))&&(t.scale=1),(t.translate>=AL&&t.translate<=IL||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,r){d_(t.x,e.x,n.x,r?r.originX:void 0),d_(t.y,e.y,n.y,r?r.originY:void 0)}function h_(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function RL(t,e,n){h_(t.x,e.x,n.x),h_(t.y,e.y,n.y)}function f_(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function bu(t,e,n){f_(t.x,e.x,n.x),f_(t.y,e.y,n.y)}const p_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rl=()=>({x:p_(),y:p_()}),m_=()=>({min:0,max:0}),Xt=()=>({x:m_(),y:m_()});function Br(t){return[t("x"),t("y")]}function Xg(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!Xg(t)||!Xg(e)||!Xg(n)}function ca(t){return ly(t)||uk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uk(t){return g_(t.x)||g_(t.y)}function g_(t){return t&&t!=="0%"}function Zf(t,e,n){const r=t-n,i=e*r;return n+i}function y_(t,e,n,r,i){return i!==void 0&&(t=Zf(t,i,r)),Zf(t,n,r)+e}function cy(t,e=0,n=1,r,i){t.min=y_(t.min,e,n,r,i),t.max=y_(t.max,e,n,r,i)}function dk(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const v_=.999999999999,x_=1.0000000000001;function DL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,dk(t,l)),r&&ca(a.latestValues)&&Vl(t,a.latestValues))}e.x<x_&&e.x>v_&&(e.x=1),e.y<x_&&e.y>v_&&(e.y=1)}function Dl(t,e){t.min=t.min+e,t.max=t.max+e}function w_(t,e,n,r,i=.5){const a=Ot(t.min,t.max,i);cy(t,e,n,a,r)}function Vl(t,e){w_(t.x,e.x,e.scaleX,e.scale,e.originX),w_(t.y,e.y,e.scaleY,e.scale,e.originY)}function hk(t,e){return ak(CL(t.getBoundingClientRect(),e))}function VL(t,e,n){const r=hk(t,n),{scroll:i}=e;return i&&(Dl(r.x,i.offset.x),Dl(r.y,i.offset.y)),r}const fk=({current:t})=>t?t.ownerDocument.defaultView:null,b_=(t,e)=>Math.abs(t-e);function OL(t,e){const n=b_(t.x,e.x),r=b_(t.y,e.y);return Math.sqrt(n**2+r**2)}class pk{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Jg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,P=OL(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!P)return;const{point:E}=x,{timestamp:k}=Pn;this.history.push({...E,timestamp:k});const{onStart:D,onMove:F}=this.handlers;_||(D&&D(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Yg(_,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:P,onSessionEnd:E,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Jg(x.type==="pointercancel"?this.lastMoveEventInfo:Yg(_,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,D),E&&E(x,D)},!l1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const u=hd(e),h=Yg(u,this.transformPagePoint),{point:m}=h,{timestamp:g}=Pn;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Jg(h,this.history)),this.removeListeners=cd(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function Yg(t,e){return e?{point:e(t.point)}:t}function __(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jg({point:t},e){return{point:t,delta:__(t,mk(e)),offset:__(t,ML(e)),velocity:LL(e,.1)}}function ML(t){return t[0]}function mk(t){return t[t.length-1]}function LL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=mk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zi(e)));)n--;if(!r)return{x:0,y:0};const a=Wi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function FL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function E_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UL(t,{top:e,left:n,bottom:r,right:i}){return{x:E_(t.x,n,i),y:E_(t.y,e,r)}}function S_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function BL(t,e){return{x:S_(t.x,e.x),y:S_(t.y,e.y)}}function $L(t,e){let n=.5;const r=Gn(t),i=Gn(e);return i>r?n=Lu(e.min,e.max-r,t.min):r>i&&(n=Lu(t.min,t.max-i,e.min)),Ts(0,1,n)}function zL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uy=.35;function WL(t=uy){return t===!1?t=0:t===!0&&(t=uy),{x:T_(t,"left","right"),y:T_(t,"top","bottom")}}function T_(t,e,n){return{min:P_(t,e),max:P_(t,n)}}function P_(t,e){return typeof t=="number"?t:t[e]||0}const HL=new WeakMap;class qL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hd(y).point)},l=(y,x)=>{const{drag:_,dragPropagation:P,onDragStart:E}=this.getProps();if(_&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oM(_),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(D=>{let F=this.getAxisMotionValue(D).get()||0;if(Hi.test(F)){const{projection:O}=this.visualElement;if(O&&O.layout){const B=O.layout.layoutBox[D];B&&(F=Gn(B)*(parseFloat(F)/100))}}this.originPoint[D]=F}),E&&It.postRender(()=>E(y,x)),oy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:P,onDirectionLock:E,onDrag:k}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=x;if(P&&this.currentDirection===null){this.currentDirection=GL(D),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",x.point,D),this.updateAxis("y",x.point,D),this.visualElement.render(),k&&k(y,x)},h=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Br(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new pk(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:fk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&It.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!qh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=FL(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&jl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=UL(r.layoutBox,e):this.constraints=!1,this.elastic=WL(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Br(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zL(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=VL(r,i.root,this.visualElement.getTransformPagePoint());let l=BL(i.layout.layoutBox,a);if(n){const u=n(PL(l));this.hasMutatedConstraints=!!u,u&&(l=ak(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Br(g=>{if(!qh(g,n,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const x=i?200:1e6,_=i?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,P)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return oy(this.visualElement,e),r.start(v1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Br(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Br(n=>{const{drag:r}=this.getProps();if(!qh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-Ot(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Br(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=$L({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Br(l=>{if(!qh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Ot(h,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;HL.set(this.visualElement,this);const e=this.visualElement.current,n=xu(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();jl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),It.read(r);const l=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Br(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=uy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function qh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KL extends Do{constructor(e){super(e),this.removeGroupControls=qr,this.removeListeners=qr,this.controls=new qL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const C_=t=>(e,n)=>{t&&It.postRender(()=>t(e,n))};class QL extends Do{constructor(){super(...arguments),this.removePointerDownListener=qr}onPointerDown(e){this.session=new pk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:C_(e),onStart:C_(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&It.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function k_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=k_(t,e.target.x),r=k_(t,e.target.y);return`${n}% ${r}%`}},XL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Co.parse(t);if(i.length>5)return r;const a=Co.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const m=Ot(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};let N_=!1;class YL extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;VM(JL),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),N_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,N_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||It.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),a1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gk(t){const[e,n]=zC(),r=A.useContext(Lv);return d.jsx(YL,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(KC),isPresent:e,safeToRemove:n})}const JL={borderRadius:{...Yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yc,borderTopRightRadius:Yc,borderBottomLeftRadius:Yc,borderBottomRightRadius:Yc,boxShadow:XL};function ZL(t,e,n){const r=Un(t)?t:Xl(t);return r.start(v1("",r,e,n)),r.animation}const e8=(t,e)=>t.depth-e.depth;class t8{constructor(){this.children=[],this.isDirty=!1}add(e){Bv(this.children,e),this.isDirty=!0}remove(e){$v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e8),this.isDirty=!1,this.children.forEach(e)}}function n8(t,e){const n=ur.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Po(r),t(a-e))};return It.setup(r,!0),()=>Po(r)}const yk=["TopLeft","TopRight","BottomLeft","BottomRight"],r8=yk.length,A_=t=>typeof t=="string"?parseFloat(t):t,I_=t=>typeof t=="number"||Me.test(t);function i8(t,e,n,r,i,a){i?(t.opacity=Ot(0,n.opacity??1,s8(r)),t.opacityExit=Ot(e.opacity??1,0,o8(r))):a&&(t.opacity=Ot(e.opacity??1,n.opacity??1,r));for(let l=0;l<r8;l++){const u=`border${yk[l]}Radius`;let h=j_(e,u),m=j_(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||I_(h)===I_(m)?(t[u]=Math.max(Ot(A_(h),A_(m),r),0),(Hi.test(m)||Hi.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function j_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const s8=vk(0,.5,uC),o8=vk(.5,.95,qr);function vk(t,e,n){return r=>r<t?0:r>e?1:n(Lu(t,e,r))}function R_(t,e){t.min=e.min,t.max=e.max}function Ur(t,e){R_(t.x,e.x),R_(t.y,e.y)}function D_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function V_(t,e,n,r,i){return t-=e,t=Zf(t,1/n,r),i!==void 0&&(t=Zf(t,1/i,r)),t}function a8(t,e=0,n=1,r=.5,i,a=t,l=t){if(Hi.test(e)&&(e=parseFloat(e),e=Ot(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ot(a.min,a.max,r);t===a&&(u-=e),t.min=V_(t.min,e,n,u,i),t.max=V_(t.max,e,n,u,i)}function O_(t,e,[n,r,i],a,l){a8(t,e[n],e[r],e[i],e.scale,a,l)}const l8=["x","scaleX","originX"],c8=["y","scaleY","originY"];function M_(t,e,n,r){O_(t.x,e,l8,n?n.x:void 0,r?r.x:void 0),O_(t.y,e,c8,n?n.y:void 0,r?r.y:void 0)}function L_(t){return t.translate===0&&t.scale===1}function xk(t){return L_(t.x)&&L_(t.y)}function F_(t,e){return t.min===e.min&&t.max===e.max}function u8(t,e){return F_(t.x,e.x)&&F_(t.y,e.y)}function U_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wk(t,e){return U_(t.x,e.x)&&U_(t.y,e.y)}function B_(t){return Gn(t.x)/Gn(t.y)}function $_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class d8{constructor(){this.members=[]}add(e){Bv(this.members,e),e.scheduleRender()}remove(e){if($v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h8(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:x,skewX:_,skewY:P}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),_&&(r+=`skewX(${_}deg) `),P&&(r+=`skewY(${P}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Zg=["","X","Y","Z"],f8=1e3;let p8=0;function e0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bk(r)}function _k({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=p8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y8),this.nodes.forEach(b8),this.nodes.forEach(_8),this.nodes.forEach(v8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new t8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=$C(l)&&!hM(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,y=0;const x=()=>this.root.updateBlockedByResize=!1;It.read(()=>{y=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==y&&(y=_,this.root.updateBlockedByResize=!0,g&&g(),g=n8(x,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(H_)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||C8,{onLayoutAnimationStart:E,onLayoutAnimationComplete:k}=m.getProps(),D=!this.targetLayout||!wk(this.targetLayout,_),F=!y&&x;if(this.options.layoutRoot||this.resumeFrom||F||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...s1(P,"layout"),onPlay:E,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,F)}else y||H_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(W_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w8),this.nodes.forEach(m8),this.nodes.forEach(g8)):this.nodes.forEach(W_),this.clearAllSnapshots();const u=ur.now();Pn.delta=Ts(0,1e3/60,u-Pn.timestamp),Pn.timestamp=u,Pn.isProcessing=!0,Wg.update.process(Pn),Wg.preRender.process(Pn),Wg.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x8),this.sharedNodes.forEach(S8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!xk(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||ca(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),k8(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return Xt();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(N8))){const{scroll:g}=this.root;g&&(Dl(u.x,g.offset.x),Dl(u.y,g.offset.y))}return u}removeElementScroll(l){var h;const u=Xt();if(Ur(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Ur(u,l),Dl(u.x,y.offset.x),Dl(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const h=Xt();Ur(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ca(g.latestValues)&&Vl(h,g.latestValues)}return ca(this.latestValues)&&Vl(h,this.latestValues),h}removeTransform(l){const u=Xt();Ur(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ca(m.latestValues))continue;ly(m.latestValues)&&m.updateSnapshot();const g=Xt(),y=m.measurePageBox();Ur(g,y),M_(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ca(this.latestValues)&&M_(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Pn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),bu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ur(this.target,this.layout.layoutBox),dk(this.target,this.targetDelta)):Ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),bu(this.relativeTargetOrigin,this.target,_.target),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||uk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var P;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ur(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;DL(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D_(this.prevProjectionDelta.x,this.projectionDelta.x),D_(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!$_(this.projectionDelta.x,this.prevProjectionDelta.x)||!$_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rl(),this.projectionDelta=Rl(),this.projectionDeltaWithTransform=Rl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=Rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Xt(),_=h?h.source:void 0,P=this.layout?this.layout.source:void 0,E=_!==P,k=this.getStack(),D=!k||k.members.length<=1,F=!!(E&&!D&&this.options.crossfade===!0&&!this.path.some(P8));this.animationProgress=0;let O;this.mixTargetDelta=B=>{const K=B/1e3;q_(y.x,l.x,K),q_(y.y,l.y,K),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T8(this.relativeTarget,this.relativeTargetOrigin,x,K),O&&u8(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Xt()),Ur(O,this.relativeTarget)),E&&(this.animationValues=g,i8(g,m,this.latestValues,K,F,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=ZL(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&Ek(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Xt();const y=Gn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const x=Gn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Ur(u,h),Vl(u,g),wu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new d8),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&e0("z",l,m,this.animationValues);for(let g=0;g<Zg.length;g++)e0(`rotate${Zg[g]}`,l,m,this.animationValues),e0(`skew${Zg[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=xf(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=xf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=h8(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),l.transform=y;const{x,y:_}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const P in $u){if(g[P]===void 0)continue;const{correct:E,applyTo:k,isCSSVariable:D}=$u[P],F=y==="none"?g[P]:E(g[P],m);if(k){const O=k.length;for(let B=0;B<O;B++)l[k[B]]=F}else D?this.options.visualElement.renderState.vars[P]=F:l[P]=F}this.options.layoutId&&(l.pointerEvents=m===this?xf(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(z_),this.root.sharedNodes.clear()}}}function m8(t){t.updateLayout()}function g8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Br(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],_=Gn(x);x.min=r[y].min,x.max=x.min+_}):Ek(a,e.layoutBox,r)&&Br(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],_=Gn(r[y]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const u=Rl();wu(u,r,e.layoutBox);const h=Rl();l?wu(h,t.applyTransform(i,!0),e.measuredBox):wu(h,r,e.layoutBox);const m=!xk(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:_}=y;if(x&&_){const P=Xt();bu(P,e.layoutBox,x.layoutBox);const E=Xt();bu(E,r,_.layoutBox),wk(P,E)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=P,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function y8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x8(t){t.clearSnapshot()}function z_(t){t.clearMeasurements()}function W_(t){t.isLayoutDirty=!1}function w8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function b8(t){t.resolveTargetDelta()}function _8(t){t.calcProjection()}function E8(t){t.resetSkewAndRotation()}function S8(t){t.removeLeadSnapshot()}function q_(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G_(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function T8(t,e,n,r){G_(t.x,e.x,n.x,r),G_(t.y,e.y,n.y,r)}function P8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C8={duration:.45,ease:[.4,0,.1,1]},K_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q_=K_("applewebkit/")&&!K_("chrome/")?Math.round:qr;function X_(t){t.min=Q_(t.min),t.max=Q_(t.max)}function k8(t){X_(t.x),X_(t.y)}function Ek(t,e,n){return t==="position"||t==="preserve-aspect"&&!jL(B_(e),B_(n),.2)}function N8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const A8=_k({attachResizeListener:(t,e)=>Wu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t0={current:void 0},Sk=_k({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!t0.current){const t=new A8({});t.mount(window),t.setOptions({layoutScroll:!0}),t0.current=t}return t0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),I8={pan:{Feature:QL},drag:{Feature:KL,ProjectionNode:Sk,MeasureLayout:gk}};function Y_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&It.postRender(()=>a(e,hd(e)))}class j8 extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=aM(e,(n,r)=>(Y_(this.node,r,"Start"),i=>Y_(this.node,i,"End"))))}unmount(){}}class R8 extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&It.postRender(()=>a(e,hd(e)))}class D8 extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=dM(e,(n,r)=>(J_(this.node,r,"Start"),(i,{success:a})=>J_(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,n0=new WeakMap,V8=t=>{const e=dy.get(t.target);e&&e(t)},O8=t=>{t.forEach(V8)};function M8({root:t,...e}){const n=t||document;n0.has(n)||n0.set(n,{});const r=n0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(O8,{root:t,...e})),r[i]}function L8(t,e,n){const r=M8(e);return dy.set(t,n),r.observe(t),()=>{dy.delete(t),r.unobserve(t)}}const F8={some:0,all:1};class U8 extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:F8[i]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=m?g:y;x&&x(h)};return L8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B8(e,n))&&this.startObserver()}unmount(){}}function B8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $8={inView:{Feature:U8},tap:{Feature:D8},focus:{Feature:R8},hover:{Feature:j8}},z8={layout:{ProjectionNode:Sk,MeasureLayout:gk}},hy={current:null},Tk={current:!1};function W8(){if(Tk.current=!0,!!Uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=t.matches;t.addEventListener("change",e),e()}else hy.current=!1}const H8=new WeakMap;function q8(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Un(i))t.addValue(r,i);else if(Un(a))t.addValue(r,Xl(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Xl(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Z_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ur.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,It.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Up(n),this.isVariantNode=qC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const _=y[x];h[x]!==void 0&&Un(_)&&_.set(h[x],!1)}}mount(e){this.current=e,H8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tk.current||W8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&It.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yl){const n=Yl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z_.length;r++){const i=Z_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=q8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eC(r)||nC(r))?r=parseFloat(r):!pM(r)&&Co.test(n)&&(r=MC(e,n)),this.setBaseTarget(e,Un(r)?r.get():r)),Un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=g1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Un(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Pk extends G8{constructor(){super(...arguments),this.KeyframeResolver=nM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ck(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i==null||i.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function K8(t){return window.getComputedStyle(t)}class Q8 extends Pk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ck}readValueFromInstance(e,n){var r;if(uc.has(n))return(r=this.projection)!=null&&r.isProjecting?Z0(n):bO(e,n);{const i=K8(e),a=(Kv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hk(e,n)}build(e,n,r){f1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return y1(e,n,r)}}const kk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X8(t,e,n,r){Ck(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kk.has(i)?i:h1(i),e.attrs[i])}class Y8 extends Pk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uc.has(n)){const r=OC(n);return r&&r.default||0}return n=kk.has(n)?n:h1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nk(e,n,r)}build(e,n,r){JC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){X8(e,n,r,i)}mount(e){this.isSVGTag=ek(e.tagName),super.mount(e)}}const J8=(t,e)=>m1(t)?new Y8(e):new Q8(e,{allowProjection:t!==A.Fragment}),Z8=JM({...SL,...$8,...I8,...z8},J8),ye=EM(Z8);var Nk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eE=Di.createContext&&Di.createContext(Nk),e7=["attr","size","title"];function t7(t,e){if(t==null)return{};var n=n7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function tE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(n),!0).forEach(function(r){r7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r7(t,e,n){return e=i7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7(t){var e=s7(t,"string");return typeof e=="symbol"?e:e+""}function s7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ak(t){return t&&t.map((e,n)=>Di.createElement(e.tag,tp({key:n},e.attr),Ak(e.child)))}function qt(t){return e=>Di.createElement(o7,ep({attr:tp({},t.attr)},e),Ak(t.child))}function o7(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=t7(t,e7),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Di.createElement("svg",ep({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:tp(tp({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Di.createElement("title",null,a),t.children)};return eE!==void 0?Di.createElement(eE.Consumer,null,n=>e(n)):e(Nk)}function np(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function nE(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function a7(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function l7(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function c7(t){return qt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function u7(t){return qt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function x1(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function d7(t){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function fd(t){return qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function h7(t){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(t)}function fy(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function rp(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function f7(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function Ik(t){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function p7(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function m7(t){return qt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function jk(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function rE(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function g7(t){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function y7(t){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Rk(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function v7(t){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(t)}const x7=()=>{var i;const{usuario:t,logout:e}=Nr(),{setModalAbierto:n}=ac(),r=A.useRef(null);return fr(),A.useEffect(()=>{r.current&&r.current.focus()},[]),A.useEffect(()=>{function a(){}return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),d.jsxs(d.Fragment,{children:[d.jsx(ye.header,{initial:{y:-120,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 w-full bg-white shadow-md z-[9999] px-4 py-3",style:{backdropFilter:"saturate(180%) blur(15px)",maxWidth:"100vw",overflowX:"hidden"},children:d.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto w-full gap-3",children:[d.jsx("div",{id:"search-bar-container",className:"flex-grow max-w-full px-2 lg:hidden",children:d.jsx(nb,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),d.jsxs("div",{className:"hidden lg:flex w-full items-center justify-between gap-6",children:[d.jsxs(Qe,{to:"/",className:"flex items-center gap-3 flex-shrink-0 group",children:[d.jsx(ye.img,{src:"/Playlogo.png",alt:"Playcenter Universal",className:"h-10 object-contain rounded-xl shadow group-hover:ring-2 group-hover:ring-[#4FC3F7] transition",whileHover:{scale:1.07},transition:{type:"spring",stiffness:300}}),d.jsxs("div",{className:"flex flex-col leading-tight text-xs text-gray-700 font-medium",children:[d.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-gray-500",children:[d.jsx(fd,{className:"text-[#4FC3F7]"}),"Envios"]}),d.jsx("strong",{className:"text-[12px] font-semibold text-gray-700 uppercase tracking-wide",children:"EN TODO RD"})]})]}),d.jsx("div",{className:"flex-grow max-w-xl",children:d.jsx(nb,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),d.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-700",children:[d.jsx(Qe,{to:"/",className:"nav-link hover:text-[#4FC3F7] transition",children:"Inicio"}),d.jsx(Qe,{to:"/productos",className:"nav-link hover:text-[#4FC3F7] transition",children:"Categoras"}),d.jsx(Qe,{to:"/nosotros",className:"nav-link hover:text-[#4FC3F7] transition",children:"Nosotros"}),d.jsx(Qe,{to:"/contacto",className:"nav-link hover:text-[#4FC3F7] transition",children:"Contctanos"}),d.jsx(Qe,{to:"/estafetas",className:"nav-link hover:text-[#4FC3F7] transition",children:"Estafetas"}),d.jsx(Qe,{to:"/carrito",className:"nav-link text-xl hover:scale-110 transition",children:""}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&d.jsx(Qe,{to:"/admin",className:"px-3 py-2 rounded bg-[#4FC3F7] text-white hover:bg-[#3BB0F3] shadow transition",children:"Panel Admin"}),t?d.jsx(ye.div,{className:"relative",whileTap:{scale:.95},children:d.jsx(Qe,{to:"/profile",children:d.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow hover:shadow-lg transition cursor-pointer bg-white",children:t.photoURL?d.jsx("img",{src:t.photoURL,alt:"Perfil",className:"w-full h-full object-cover rounded-full"}):d.jsx("div",{className:"w-full h-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-base",children:((i=t.displayName)==null?void 0:i.charAt(0).toUpperCase())||"U"})})})}):d.jsx(ye.button,{onClick:()=>n(!0),className:"px-4 py-2 text-sm bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-lg font-semibold shadow transition",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Iniciar sesin"})]})]})]})}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&d.jsx("div",{className:"lg:hidden fixed bottom-[80px] right-4 z-[9999]",children:d.jsx(Qe,{to:"/admin",className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white px-5 py-3 rounded-full shadow-xl font-semibold text-base",children:"Panel Admin"})}),d.jsx("div",{className:"h-[100px] sm:h-[70px]"})]})};function pd({isOpen:t,onClose:e,onIniciarSesion:n}){return t?WA.createPortal(d.jsx("div",{onClick:e,className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",style:{top:0,left:0},children:d.jsxs(ye.div,{onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40 z-[11001]",children:[d.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold","aria-label":"Cerrar modal",children:""}),d.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-[#3b82f6]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A11.955 11.955 0 0112 15c2.32 0 4.47.66 6.264 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),"Inicia sesin"]}),d.jsx("p",{className:"mb-6 text-center text-gray-300",children:"Necesitas iniciar sesin para acceder a esta funcin"}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx("button",{onClick:()=>{e(),n()},className:"w-full max-w-[120px] px-5 py-2 bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Iniciar sesin"}),d.jsx("button",{onClick:e,className:"w-full max-w-[120px] px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Cancelar"})]})]})}),document.body):null}function w7(){const{usuario:t}=Nr(),e=fr(),{abrirModal:n}=ac(),[r,i]=A.useState(!1),a=(h,m)=>{!t&&(m==="/carrito"||m==="/Profile")?(h.preventDefault(),i(!0)):e(m)},l=()=>i(!1),u=()=>{l(),n()};return d.jsx("div",{className:"footer-block",children:d.jsxs("footer",{className:"footer futuristic-footer relative bg-black text-gray-300 py-12 text-sm sm:text-base",children:[d.jsx("div",{className:"footer-bg-animated"}),d.jsx("div",{className:"w-full flex justify-center mb-10 relative z-20",children:d.jsx("img",{src:"/Playlogo.png",alt:"Playcenter Universal Logo",className:"footer-logo-glow w-32 sm:w-44 lg:w-64 transition-transform duration-300 hover:scale-105"})}),d.jsxs("div",{className:"footer-cols-wrapper relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"footer-col",children:[d.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Playcenter Universal"}),d.jsx("p",{children:"Tu universo de tecnologa y gaming en Santiago, R.D."}),d.jsxs("p",{className:"mt-3 flex justify-center sm:justify-start items-center gap-2",children:[d.jsx(fd,{})," Av. Estrella Sadhal #55, frente a la doble va"]}),d.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[d.jsx(fy,{})," +1 (809) 582-1212 (Internet)"]}),d.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[d.jsx(fy,{})," +1 (849) 635-7000 (Tienda)"]}),d.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[d.jsx(x1,{})," playcenter121@gmail.com"]})]}),d.jsxs("div",{className:"footer-col",children:[d.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Navegacin"}),d.jsx("ul",{className:"footer-nav-list",children:[["Categoras","/categorias",!1],["Nosotros","/nosotros",!1],["Contctanos","/contacto",!1],["Estafetas","/estafetas",!1],["Carrito","/carrito",!0],["Mi perfil","/Profile",!0]].map(([h,m,g])=>d.jsx("li",{children:g?d.jsx("a",{href:m,onClick:y=>a(y,m),className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm cursor-pointer",children:h}):d.jsx("a",{href:m,className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm",children:h})},h))})]}),d.jsxs("div",{className:"footer-col",children:[d.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Horario"}),d.jsx("p",{children:"Lunes a Viernes: 8:30am - 5:30pm"}),d.jsx("p",{children:"Sbados: 8:30am - 12:30pm"}),d.jsx("p",{children:"Domingos: Cerrado"})]}),d.jsxs("div",{className:"footer-col",children:[d.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Conctate con nosotros"}),d.jsx("div",{className:"grid grid-cols-2 gap-4 justify-items-center sm:justify-items-start",children:[["https://www.facebook.com/pcu12","/Facebook.png","Facebook"],["https://www.instagram.com/playcenter_universal/?hl=es","/Instagram.png","Instagram"],["https://www.tiktok.com/@playcenter_universal?lang=es","/tiktok.png","TikTok"],["https://youtube.com/@playcenteruniversal1916","/Youtube.png","YouTube"]].map(([h,m,g])=>d.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"relative group",children:d.jsx("img",{src:m,alt:g,className:"footer-social-icon-neon w-12 h-12 sm:w-16 sm:h-16 rounded-full transition-transform duration-300 transform group-hover:scale-110"})},g))})]})]}),d.jsxs("p",{className:"footer-copyright text-center text-gray-500 text-[11px] sm:text-xs mt-10 relative z-20",children:[" ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]}),d.jsx(pd,{isOpen:r,onClose:l,onIniciarSesion:u})]})})}const r0="text-blue-900",b7="bg-blue-800",_7="bg-green-200 text-green-900",E7="bg-blue-200 text-blue-900",ip="ZeiFzBgosCd0apv9cXL6aQZCYyu2";function Dk(t=""){var n,r;if(!t)return"";const e=t.trim().split(" ");return((((n=e[0])==null?void 0:n[0])||"")+(((r=e[1])==null?void 0:r[0])||"")).toUpperCase()}function S7(t=""){if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/i);if(e)return e[1];const n=t.match(/(maps\.app\.[^\s]+|goo\.gl\/[^\s]+|google\.com\/maps[^\s]*)/i);if(n){const r=n[0];return r.startsWith("http")?r:`https://${r}`}return null}function iE(t){if(!t)return null;if(typeof t=="object"&&t.seconds)return new Date(t.seconds*1e3).toLocaleString();const e=new Date(t);return isNaN(e.getTime())?String(t):e.toLocaleString()}function T7({usuario:t,onClose:e}){const[n,r]=A.useState([]),[i,a]=A.useState(!0),[l,u]=A.useState(t),[h,m]=A.useState(null);A.useEffect(()=>{if(!(t!=null&&t.id))return;const x=Bl(Vt(rt,"users",t.id),P=>{P.exists()&&u(E=>({...E,...P.data()}))}),_=Bl(Vt(rt,"usuarios",t.id),P=>{P.exists()&&u(E=>({...E,...P.data()}))});return()=>{x(),_()}},[t==null?void 0:t.id]),A.useEffect(()=>{if(!t)return;const x=To(mi(rt,"orders")),_=Bl(x,P=>{const E=P.docs.map(k=>({id:k.id,...k.data()})).filter(k=>String(k.userId)===String(t.id));r(E.sort((k,D)=>{var B,K;const F=((B=k.fecha)==null?void 0:B.seconds)||0;return(((K=D.fecha)==null?void 0:K.seconds)||0)-F})),a(!1)},()=>{r([]),a(!1)});return()=>_()},[t]),A.useEffect(()=>{const x=_=>{_.key==="Escape"&&(e==null||e())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]);const g=(l==null?void 0:l.direccion)||(l==null?void 0:l.direccionCompleta)||"",y=(l==null?void 0:l.ubicacion)||S7(g);return d.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),d.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed top-0 left-0 w-full h-full max-h-none !rounded-none !shadow-none bg-white overflow-y-auto flex flex-col",style:{zIndex:1e4},onClick:x=>x.stopPropagation(),children:[d.jsxs("header",{className:`flex justify-between items-center px-6 py-4 shadow ${b7}`,children:[d.jsxs("div",{className:"admin-user-header",children:[d.jsx("div",{className:"admin-user-avatar",children:Dk((l==null?void 0:l.displayName)||(l==null?void 0:l.nombre))}),d.jsxs("div",{className:"admin-user-info",children:[d.jsx("h2",{className:"admin-user-name",children:(l==null?void 0:l.displayName)||(l==null?void 0:l.nombre)||"Usuario"}),d.jsx("p",{className:"admin-user-email",children:l==null?void 0:l.email}),d.jsx("div",{className:"admin-user-badges",children:d.jsx("span",{className:t.id===ip?"badge-admin":"badge-user",children:t.id===ip?" Admin":" Usuario"})})]})]}),d.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"admin-close-btn",children:""})]}),d.jsxs("div",{className:"flex-1 px-2 sm:px-8 py-4 sm:py-8 space-y-7 bg-gray-50",children:[d.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-blue-700 font-bold",children:""})}),d.jsx("h3",{className:`text-xl font-bold ${r0}`,children:"Informacin Personal"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[d.jsx(vl,{label:"Nombre Completo",value:l.displayName||"No especificado"}),d.jsx(vl,{label:"Email",value:l.email||"No especificado"}),d.jsx(vl,{label:"Telfono",value:l.telefono||"No especificado"}),d.jsx(vl,{label:"Cdigo de Usuario",value:l.codigo||"No asignado"}),d.jsx(vl,{label:"Mtodo de Entrega",value:l.metodoEntrega||"No especificado"}),d.jsx(vl,{label:"Fecha de Registro",value:l.createdAt?iE(l.createdAt):"No disponible"})]})]}),d.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-blue-700 font-bold",children:""})}),d.jsx("h3",{className:`text-xl font-bold ${r0}`,children:"Direccin y Ubicacin"})]}),d.jsx("p",{className:"text-base text-blue-900 mb-4",children:g||"No se ha registrado direccin"}),y&&d.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:" Ver en Google Maps"})]}),d.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-blue-700 font-bold",children:""})}),d.jsx("h3",{className:`text-xl font-bold ${r0}`,children:"Historial de Compras"}),d.jsxs("span",{className:"bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-sm font-bold",children:[n.length," ",n.length===1?"compra":"compras"]})]}),i?d.jsxs("div",{className:"flex items-center justify-center py-12",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"}),d.jsx("span",{className:"ml-3 text-blue-700",children:"Cargando historial..."})]}):n.length===0?d.jsxs("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("p",{className:"text-xl text-blue-700 font-medium",children:"No hay compras registradas"})]}):d.jsx("div",{className:"admin-orders-grid",children:n.map(x=>{var _,P;return d.jsxs("div",{className:"admin-order-card",children:[d.jsxs("div",{className:"admin-order-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsx("h4",{className:"order-number",children:x.numeroOrden||`#${x.id.slice(-8)}`}),d.jsx("p",{className:"order-date",children:iE(x.fecha)})]}),d.jsxs("div",{className:"order-status-price",children:[d.jsx("span",{className:`admin-status-badge ${x.estado||"pendiente"}`,children:x.estado==="completado"?" Completado":x.estado==="cancelado"?" Cancelado":" Pendiente"}),d.jsx("div",{className:"order-total",children:new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(x.total||0)})]})]}),d.jsx("div",{className:"admin-order-customer",children:d.jsxs("div",{className:"customer-info",children:[d.jsx("span",{className:"customer-name",children:x.userName||"Usuario"}),d.jsx("span",{className:"customer-email",children:x.userEmail})]})}),d.jsxs("div",{className:"admin-products-preview",children:[(_=x.productos)==null?void 0:_.slice(0,3).map((E,k)=>d.jsx("div",{className:"admin-product-item",children:d.jsxs("div",{className:"admin-product-info",children:[d.jsx("span",{className:"product-name",children:E.nombre}),d.jsxs("span",{className:"product-quantity",children:["Cantidad: ",E.cantidad,"  ",new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(E.precio)]}),d.jsxs("button",{className:"btn-view-product",onClick:D=>{D.stopPropagation(),window.location.href=`/producto/${E.id}`},title:"Ver producto",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},k)),((P=x.productos)==null?void 0:P.length)>3&&d.jsxs("div",{className:"more-products-admin",children:["+",x.productos.length-3," ms productos"]})]}),d.jsxs("div",{className:"admin-order-actions",children:[d.jsx("button",{className:"btn-admin btn-view",onClick:()=>m(x),children:"Ver detalles"}),x.metodoPago&&d.jsx("span",{className:"payment-method",children:x.metodoPago})]})]},x.id)})})]})]}),d.jsx(cr,{children:h&&d.jsx(Vk,{order:h,onClose:()=>m(null)})})]})]})}function vl({label:t,value:e}){return d.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[d.jsx("p",{className:"font-semibold text-blue-700 text-xs mb-1",children:t}),d.jsx("p",{className:"text-base font-medium text-blue-900 break-all",children:e})]})}function P7(){const{usuario:t}=Nr(),[e,n]=A.useState([]),[r,i]=A.useState(""),[a,l]=A.useState(null),[u,h]=A.useState(null);if(A.useEffect(()=>{if(!t||t.uid!==ip)return;const g=Bl(To(mi(rt,"users")),x=>{const _=x.docs.map(P=>({id:P.id,...P.data()}));n(P=>{const E=[..._];return P.forEach(k=>{const D=E.findIndex(F=>F.id===k.id);D>=0&&(E[D]={...E[D],...k})}),E})}),y=Bl(To(mi(rt,"usuarios")),x=>{const _=x.docs.map(P=>({id:P.id,...P.data()}));n(P=>{const E=[...P];return _.forEach(k=>{const D=E.findIndex(F=>F.id===k.id);D>=0?E[D]={...E[D],...k}:E.push(k)}),E})});return()=>{g(),y()}},[t]),!t)return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Inicia sesin"});if(t.uid!==ip)return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Sin acceso"});const m=e.filter(g=>{const y=r.toLowerCase();return(g.displayName||"").toLowerCase().includes(y)||(g.email||"").toLowerCase().includes(y)||(g.telefono||"").toLowerCase().includes(y)||(g.direccion||"").toLowerCase().includes(y)||(g.codigo||"").toLowerCase().includes(y)});return d.jsxs("main",{className:"min-h-screen bg-blue-50 p-2 sm:p-6",children:[d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold mb-3 text-blue-900",children:"Panel Administrativo"}),d.jsx("p",{className:"text-base sm:text-xl text-blue-700 font-medium",children:"Gestin Completa de Usuarios"}),d.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-3",children:[d.jsxs("span",{className:"bg-blue-100 text-blue-900 px-4 py-2 rounded-full text-sm font-bold",children:[" ",e.length," ",e.length===1?"usuario":"usuarios"," registrados"]}),d.jsx("span",{className:"bg-green-100 text-green-900 px-4 py-2 rounded-full text-sm font-bold",children:" Sincronizacin en tiempo real"})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-xl p-3 sm:p-6 mb-8 border border-blue-100",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xl",children:""})}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, telfono, direccin o cdigo...",value:r,onChange:g=>i(g.target.value),className:"flex-1 px-4 py-3 text-base border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-400 transition-all"})]})}),m.length===0?d.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[d.jsx("div",{className:"text-7xl mb-6",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"No se encontraron usuarios"}),d.jsx("p",{className:"text-blue-600 text-lg",children:"Intenta ajustar los trminos de bsqueda"})]}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:m.map(g=>d.jsxs("div",{className:"bg-white border-2 border-blue-100 rounded-xl shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-200 cursor-pointer p-3 group flex flex-col items-center",onClick:()=>l(g),role:"button",tabIndex:0,onKeyDown:y=>{y.key==="Enter"&&l(g)},children:[d.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-700 flex items-center justify-center text-2xl font-bold text-white mb-2 shadow",children:Dk(g.displayName)}),d.jsxs("div",{className:"w-full flex-1 flex flex-col items-center text-center",children:[d.jsx("h3",{className:"font-bold text-base text-blue-900 truncate w-full",children:g.displayName||"Usuario Sin Nombre"}),d.jsxs("p",{className:"text-xs text-blue-700 break-all truncate w-full",children:["ID: ",g.id]}),d.jsx("div",{className:"mt-1 mb-2 w-full",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${g.admin?_7:E7}`,children:g.admin?" Admin":""})}),d.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:d.jsxs("p",{className:"text-xs text-blue-700 mb-1",children:[" ",g.email||"No email"]})}),d.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:d.jsxs("p",{className:"text-xs text-blue-700",children:[" ",g.telefono||"No tel."]})}),d.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-2",children:d.jsxs("p",{className:"text-xs text-blue-700 line-clamp-2",children:[""," ",g.direccion||g.direccionCompleta||"No especificada"]})})]}),d.jsx("span",{className:"text-xs text-blue-400",children:"Ver detalles "})]},g.id))}),a&&d.jsx(T7,{usuario:a,onClose:()=>l(null)})]}),d.jsx(cr,{children:u&&d.jsx(Vk,{order:u,onClose:()=>h(null)})})]})}function Vk({order:t,onClose:e}){var l,u;const n=h=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(h||0),r=h=>{if(!h)return"Fecha no disponible";let m;return typeof h=="object"&&h.seconds?m=new Date(h.seconds*1e3):m=new Date(h),m.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},i=h=>{switch(h){case"completado":return"status-completed";case"cancelado":return"status-cancelled";case"pendiente":return"status-pending";default:return"status-pending"}},a=h=>{switch(h){case"completado":return" Completado";case"cancelado":return" Cancelado";case"pendiente":return" Pendiente";default:return" Pendiente"}};return Di.useEffect(()=>{const h=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),d.jsx(ye.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:d.jsxs(ye.div,{className:"order-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:t.numeroOrden||`Orden #${t.id.slice(-8)}`}),d.jsx("p",{className:"order-date-detail",children:r(t.fecha)})]}),d.jsx("button",{className:"close-btn",onClick:e,children:""})]}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"order-status-section",children:[d.jsx("span",{className:`status-badge large ${i(t.estado)}`,children:a(t.estado)}),t.estadoPago&&d.jsxs("span",{className:"payment-status",children:["Pago: ",t.estadoPago==="pagado"?" Pagado":" Fallido"]})]}),d.jsxs("div",{className:"order-summary",children:[d.jsx("h3",{children:"Resumen de la orden"}),d.jsxs("div",{className:"summary-row total",children:[d.jsx("span",{children:"Total pagado:"}),d.jsx("span",{children:n(t.total)})]})]}),d.jsxs("div",{className:"products-section",children:[d.jsxs("h3",{children:["Productos (",((l=t.productos)==null?void 0:l.length)||0,")"]}),d.jsx("div",{className:"products-list",children:(u=t.productos)==null?void 0:u.map((h,m)=>d.jsx("div",{className:"product-detail-item",children:d.jsxs("div",{className:"product-detail-info",children:[d.jsx("h4",{children:h.nombre}),d.jsx("p",{className:"product-company",children:h.empresa||"N/A"}),d.jsxs("div",{className:"product-pricing",children:[d.jsxs("span",{className:"quantity",children:["Cantidad: ",h.cantidad]}),d.jsxs("span",{className:"price",children:["Precio unitario: ",n(h.precio)]}),d.jsxs("span",{className:"subtotal",children:["Subtotal: ",n(h.subtotal||h.precio*h.cantidad)]})]}),d.jsxs("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${h.id}`,title:"Ver producto",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},m))})]}),t.direccionEntrega&&d.jsxs("div",{className:"delivery-section",children:[d.jsx("h3",{children:"Informacin de entrega"}),d.jsx("p",{children:t.direccionEntrega}),t.telefonoContacto&&d.jsxs("p",{children:["Telfono: ",t.telefonoContacto]})]}),t.metodoPago&&d.jsxs("div",{className:"payment-section",children:[d.jsx("h3",{children:"Informacin de pago"}),d.jsxs("p",{children:["Mtodo: ",t.metodoPago]})]})]})]})})}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),sE=t=>{const e=k7(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ok=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),N7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},h)=>A.createElement("svg",{ref:h,...A7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ok("lucide",i),...!a&&!N7(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,g])=>A.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(I7,{ref:a,iconNode:e,className:Ok(`lucide-${C7(sE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=sE(t),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jc=Ar("check",j7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mk=Ar("chevron-down",R7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V7=Ar("chevron-left",D7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M7=Ar("chevron-right",O7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],F7=Ar("circle-check-big",L7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],py=Ar("circle-x",U7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],i0=Ar("house",B7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z7=Ar("locate-fixed",$7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],H7=Ar("map-pin",W7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Gh=Ar("map",q7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],K7=Ar("pencil",G7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],s0=Ar("store",Q7);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Y7=Ar("trash-2",X7),fs=[{id:1,img:"/ads/1.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/6.png",link:"https://playcenterwisp.com",isExternal:!0},{id:2,img:"/ads/2.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/3.png",link:"/Productos/videojuegos",isExternal:!1},{id:4,img:"/ads/5.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/4.png",link:"/Productos",isExternal:!1}];function J7(){const[t,e]=A.useState(0),n=A.useRef(null),r=6e3,i=A.useCallback(()=>{clearTimeout(n.current),n.current=setTimeout(()=>{e(x=>(x+1)%fs.length)},r)},[]);A.useEffect(()=>(i(),()=>clearTimeout(n.current)),[t,i]);const a=()=>{clearTimeout(n.current),e(x=>x===0?fs.length-1:x-1)},l=()=>{clearTimeout(n.current),e(x=>(x+1)%fs.length)},u=A.useRef(0),h=A.useRef(0),m=x=>{u.current=x.touches[0].clientX},g=x=>{h.current=x.touches[0].clientX},y=()=>{const x=h.current-u.current;Math.abs(x)>50&&(x>0?a():l())};return d.jsxs("div",{onTouchStart:m,onTouchMove:g,onTouchEnd:y,className:`relative w-full max-w-[1600px] mx-auto overflow-hidden rounded-xl shadow-xl
        h-[140px] sm:h-[180px] md:h-[260px] lg:h-[400px]`,children:[d.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${fs.length*100}%`,transform:`translateX(-${t*(100/fs.length)}%)`},children:fs.map(x=>x.isExternal?d.jsx("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full flex-shrink-0",style:{width:`${100/fs.length}%`},children:d.jsx("img",{src:x.img,alt:`Anuncio ${x.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},x.id):d.jsx(Qe,{to:x.link,className:"w-full h-full flex-shrink-0",style:{width:`${100/fs.length}%`},children:d.jsx("img",{src:x.img,alt:`Anuncio ${x.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},x.id))}),d.jsx("button",{onClick:a,className:"absolute top-1/2 left-2 sm:left-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Anterior",children:d.jsx(V7,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),d.jsx("button",{onClick:l,className:"absolute top-1/2 right-2 sm:right-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Siguiente",children:d.jsx(M7,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),d.jsx("div",{className:"absolute bottom-3 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:fs.map((x,_)=>d.jsx("button",{onClick:()=>{clearTimeout(n.current),e(_)},"aria-label":`Ir al slide ${_+1}`,className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${_===t?"bg-white opacity-90 scale-110":"bg-white opacity-40"} transition`},_))})]})}const Z7=[{id:1,img:"/ads/movil/aficionados-movil.png",link:"/Productos/coleccionables",isExternal:!1},{id:2,img:"/ads/movil/articulosads.png",link:"/Productos/videojuegos",isExternal:!1},{id:3,img:"/ads/movil/internetads.png",link:"https://playcenterwisp.com",isExternal:!0},{id:4,img:"/ads/movil/camarasads.png",link:"/Productos/camaras",isExternal:!1},{id:5,img:"/ads/movil/consolaads.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/movil/ofertas.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:7,img:"/ads/movil/productosads.png",link:"/Productos",isExternal:!1},{id:8,img:"/ads/movil/retroads.png",link:"/Productos/retro-juegos",isExternal:!1},{id:9,img:"/ads/movil/nuestras-estafetas.png",link:"/estafetas",isExternal:!1},{id:10,img:"/ads/movil/ubicacionads.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0}];function eF(){return d.jsx("div",{className:"block sm:hidden w-full max-w-[600px] mx-auto px-3 py-4",children:d.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide space-x-3",style:{scrollPaddingLeft:"12px",scrollPaddingRight:"12px"},children:Z7.map(t=>d.jsx("a",{href:t.link,target:t.isExternal?"_blank":"_self",rel:"noreferrer",className:"flex-shrink-0 w-[300px] h-[420px] rounded-xl overflow-hidden shadow-lg bg-white snap-center",children:d.jsx("img",{src:t.img,alt:`Anuncio ${t.id}`,className:"w-full h-full object-cover",draggable:!1})},t.id))})})}const oE=["/animacion/img1.png","/animacion/img2.png","/animacion/img3.png","/animacion/img4.png","/animacion/img5.png","/animacion/img6.png","/animacion/img7.png","/animacion/img8.png","/animacion/img9.png","/animacion/img10.png"],tF=[...oE,...oE.slice(0,5)],nF=()=>d.jsx("div",{className:"loader",role:"presentation","aria-hidden":"true",children:tF.map((t,e)=>d.jsx("img",{src:t,alt:`Animacin ${e+1}`},e))}),sr={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7}}};Array.from({length:17},(t,e)=>`/animacion/${e+1}.png`);function rF(){return d.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen",children:[d.jsx("div",{className:"hidden sm:block w-full",children:d.jsx("video",{src:"/videos/pcu-intro.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto object-cover",style:{marginTop:"0px"}})}),d.jsx(ye.div,{className:"hidden sm:block w-full max-w-[1600px] mx-auto px-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl ring-1 ring-indigo-100",children:d.jsx(J7,{})})}),d.jsx(ye.div,{className:"block sm:hidden w-full max-w-[600px] mx-auto px-2 mt-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsx(eF,{})}),d.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-14",children:[{title:"Consolas",links:[{to:"/producto/cs5",img:"/Productos/ps4.jpg",alt:"PS4"},{to:"/producto/cs1",img:"/Productos/ps5.webp",alt:"PS5"},{to:"/producto/cs6",img:"/Productos/xboxone.webp",alt:"Xbox One"},{to:"/producto/cs3",img:"/Productos/nintendoswitch.jpg",alt:"Switch OLED"}],explore:"/Productos/consolas"},{title:"Consolas Retro",links:[{to:"/producto/rc6",img:"/Productos/atari2600.png",alt:"Atari 2600"},{to:"/producto/rc5",img:"/Productos/gameboy.jpg",alt:"Game Boy"},{to:"/producto/rc3",img:"/Productos/segagenesis.webp",alt:"Sega Genesis"},{to:"/producto/rc4",img:"/Productos/playstation1.webp",alt:"PS1"}],explore:"/Productos/retro-consolas"},{title:"Videojuegos",links:[{to:"/producto/vj6",img:"/Productos/Mario-Kart-8.jpeg",alt:"Mario Kart 8"},{to:"/producto/vj3",img:"/Productos/zelda.webp",alt:"Zelda BOTW"},{to:"/producto/vj5",img:"/Productos/spider-manps5.jpeg",alt:"Spider-Man PS5"},{to:"/producto/vj7",img:"/Productos/super-smash-bros.jpg",alt:"Super Smash Bros"}],explore:"/Productos/videojuegos"},{title:"Retro Juegos",links:[{to:"/producto/rj3",img:"/Productos/dk.jpg",alt:"Donkey Kong Country"},{to:"/producto/rj4",img:"/Productos/crash-retro.png",alt:"Crash Bandicoot PS1"},{to:"/producto/rj1",img:"/Productos/mario-bros-.png",alt:"Super Mario Bros NES"},{to:"/producto/rj2",img:"/Productos/legen-of-zelda.png",alt:"Zelda NES"}],explore:"/Productos/retro-juegos"}].map((t,e)=>d.jsxs(ye.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5 group",variants:sr,initial:"hidden",animate:"visible",transition:{delay:.1*e},children:[d.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:t.title}),d.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:t.links.map((n,r)=>d.jsx(Qe,{to:n.to,children:d.jsx("img",{src:n.img,alt:n.alt,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm group-hover:scale-105 transition-transform"})},r))}),d.jsxs(Qe,{to:t.explore,className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:["Explora nuestras ",t.title," "]})]},t.title))}),d.jsx(ye.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:sr,initial:"hidden",animate:"visible",children:d.jsx(Qe,{to:"/Productos/coleccionables",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:d.jsx("img",{src:"/ads/aficionados.png",alt:"Ver Nuestras colecciones",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),d.jsx("section",{className:"hidden lg:grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-14",children:[{to:"/Productos/retro-consolas",src:"/ads/retro.png",alt:"Retro Consolas"},{to:"/Productos/camaras",src:"/ads/camaras.png",alt:"Cmaras"}].map((t,e)=>d.jsx(ye.div,{className:"overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition h-[220px] sm:h-[300px] md:h-[400px] group",whileHover:{scale:1.01},children:d.jsx(Qe,{to:t.to,className:"block w-full h-full",children:d.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-400"})})},e))}),d.jsx(ye.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Explora nuestras categoras"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:[{to:"/Productos/audifonos",src:"/ads/audifonoscate.png",alt:"Audfonos"},{to:"/Productos/mouses",src:"/ads/mousecate.png",alt:"Mouses"},{to:"/Productos/teclados",src:"/ads/tecladocate.png",alt:"Teclados"},{to:"/Productos/camaras",src:"/ads/camaracate.png",alt:"Cmaras"},{to:"/Productos/discos-duros",src:"/ads/discodurocate.png",alt:"Discos Duros"},{to:"/Productos/controles",src:"/ads/controlcate.png",alt:"Controles"}].map((t,e)=>d.jsx(Qe,{to:t.to,children:d.jsx("img",{src:t.src,alt:t.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full aspect-[1/1] shadow-sm"})},t.alt))}),d.jsx("div",{className:"text-right mt-6",children:d.jsx(Qe,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Ver todas las categoras "})})]})}),d.jsx(ye.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:sr,initial:"hidden",animate:"visible",children:d.jsx(Qe,{to:"/estafetas",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:d.jsx("img",{src:"/ads/ESTAFETAS.png",alt:"Ver Nuestras Estafetas",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),d.jsx(ye.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Descubre nuestros productos"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:Vi.flatMap(t=>t.productos).slice(0,6).map(t=>{var e;return d.jsx(Qe,{to:`/producto/${t.id}`,children:d.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow hover:shadow-md transition",children:d.jsx("img",{src:t.imagen||((e=t.imagenes)==null?void 0:e[0]),alt:t.nombre,className:"w-full aspect-[1/1] object-contain p-2"})})},t.id)})}),d.jsx("div",{className:"text-right mt-6",children:d.jsx(Qe,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestros productos "})})]})}),d.jsx(ye.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Hogar Inteligente en Oferta"}),d.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{to:"/producto/hi1",img:"/Productos/focointeligente.webp",alt:"Foco inteligente Wi-Fi RGB"},{to:"/producto/hi2",img:"/Productos/enchufeinteligentewifi.jpg",alt:"Enchufe inteligente TP-Link"},{to:"/producto/hi4",img:"/Productos/sensormovimientowifi.jpg",alt:"Sensor de movimiento Wi-Fi"},{to:"/producto/hi8",img:"/Productos/echodot.png",alt:"Amazon Echo Dot"},{to:"/producto/hi9",img:"/Productos/alexaecho.webp",alt:"Amazon Echo Show 8"},{to:"/producto/hi11",img:"/Productos/smartplug.jpg",alt:"Smart Plug compatible con Alexa"}].map((t,e)=>d.jsx(Qe,{to:t.to,className:"min-w-[180px] px-2",children:d.jsx("img",{src:t.img,alt:t.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full h-[180px]"})},e))}),d.jsx("div",{className:"text-right mt-6",children:d.jsx(Qe,{to:"/Productos/hogar-inteligente",className:"text-indigo-600 hover:underline text-base font-medium",children:"Descubre cmo transformar tu casa en un hogar inteligente "})})]})}),d.jsx(ye.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:sr,initial:"hidden",animate:"visible",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Tu Rincn Variado"}),d.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{id:"rv1",nombre:"Bicicleta Urbana MTB 26'' Mongoose",img:"/Productos/mongose.jpg"},{id:"rv2",nombre:"Patineta Elctrica Plegable",img:"/Productos/patinetaelectrica.jpg"},{id:"rv3",nombre:'Hoverboard Autoequilibrado 10"',img:"/Productos/hoverboard.jpg"},{id:"rv4",nombre:"Patines en lnea 4 ruedas",img:"/Productos/patines4ruedaasenlinea.jpeg"},{id:"rv5",nombre:"Patines clsicos 4 ruedas",img:"/Productos/patinesclasicos.webp"},{id:"rv6",nombre:"Ruedas de repuesto para patineta",img:"/Productos/ruedapatineta.webp"},{id:"rv7",nombre:"Casco Protector Urbano",img:"/Productos/casco.jpg"},{id:"rv8",nombre:"Botella Trmica 1L Acero Inoxidable",img:"/Productos/botella.jpg"},{id:"rv9",nombre:"Luz LED Recargable para Bicicleta",img:"/Productos/lucesbici.webp"}].map(t=>d.jsx(Qe,{to:`/producto/${t.id}`,className:"min-w-[180px] px-2",title:t.nombre,children:d.jsx("img",{src:t.img,alt:t.nombre,className:"rounded-xl hover:scale-110 transition-transform duration-300 object-contain w-full h-[180px]"})},t.id))}),d.jsx("div",{className:"text-right mt-6",children:d.jsx(Qe,{to:"/Productos/tu-rincon-variado",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestro Rincn Variado "})})]})}),d.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-16",children:[{to:"/Productos/consolas",src:"/ads/nintendoswtitchads.png",alt:"Consolas"},{to:"/Productos/controles",src:"/ads/controlads.png",alt:"Controles"}].map((t,e)=>d.jsx(ye.div,{className:"overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition aspect-[16/9]",whileHover:{scale:1.01},children:d.jsx(Qe,{to:t.to,className:"block w-full h-full",children:d.jsx("img",{src:t.src,alt:t.alt,className:"w-full h-full object-contain object-center hover:scale-105 transition-transform duration-400 bg-black"})})},t.alt))}),d.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-16",children:[d.jsxs(ye.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:sr,initial:"hidden",animate:"visible",children:[d.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cmaras de Vigilancia"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cam1",nombre:"Hikvision Dome",img:"/Productos/hikvision.png"},{id:"cam2",nombre:"Dahua Bullet",img:"/Productos/dahua.webp"},{id:"cam3",nombre:"EZVIZ WiFi",img:"/Productos/ezviz.png"},{id:"cam4",nombre:"TP-Link Tapo",img:"/Productos/tapo.webp"}].map(t=>d.jsx(Qe,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),d.jsx(Qe,{to:"/categoria/camaras-vigilancia",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Cmaras de Vigilancia "})]}),d.jsxs(ye.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:sr,initial:"hidden",animate:"visible",children:[d.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Discos Duros"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"dd1",nombre:"Seagate 1TB",img:"/Productos/seagate.png"},{id:"dd2",nombre:"SSD Samsung",img:"/Productos/samsung.webp"},{id:"dd3",nombre:"WD 2TB",img:"/Productos/wd2tb.jpg"},{id:"dd4",nombre:"Crucial X6",img:"/Productos/crucial.jpg"}].map(t=>d.jsx(Qe,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),d.jsx(Qe,{to:"/categoria/discos-duros",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Discos Duros "})]}),d.jsxs(ye.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:sr,initial:"hidden",animate:"visible",children:[d.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Memorias USB"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"usb1",nombre:"USB SanDisk 64GB",img:"/Productos/sandisk.jpeg"},{id:"usb2",nombre:"Kingston 128GB USB 3.1",img:"/Productos/kingston.webp"},{id:"usb3",nombre:"HP v150w 32GB",img:"/Productos/hp.jpeg"},{id:"usb4",nombre:"Corsair Flash Voyager 256GB",img:"/Productos/corsair.avif"}].map(t=>d.jsx(Qe,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.img,alt:t.nombre,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),d.jsx(Qe,{to:"/categoria/memorias-usb",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Memorias USB "})]}),d.jsxs(ye.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:sr,initial:"hidden",animate:"visible",children:[d.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cables"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cb1",img:"/Productos/usb-c.jpg"},{id:"cb2",img:"/Productos/hdmi4k.jpeg"},{id:"cb3",img:"/Productos/micro.jpg"},{id:"cb4",img:"/Productos/ethernet.jpeg"}].map(t=>d.jsx(Qe,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.img,alt:"Cable",className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},t.id))}),d.jsx(Qe,{to:"/categoria/cables",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Cables "})]})]}),d.jsx("div",{className:"max-w-[1600px] mx-auto mt-10 px-4",children:d.jsx(nF,{})}),d.jsxs(ye.section,{className:"max-w-4xl mx-auto px-6 py-20 text-center mt-10",variants:sr,initial:"hidden",animate:"visible",children:[d.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold mb-6 text-gray-800",children:["Tienes dudas?"," ",d.jsx("span",{className:"text-indigo-700",children:"Contctanos ahora"})]}),d.jsx("p",{className:"text-gray-600 mb-10 max-w-xl mx-auto",children:"Nuestro equipo est listo para ayudarte por WhatsApp, telfono o correo. Atencin rpida y profesional."}),d.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-10 max-w-3xl mx-auto flex flex-col gap-6 border border-indigo-100",children:[d.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[d.jsx(fd,{className:"text-indigo-700"}),d.jsx("span",{children:"Av. Estrella Sadhal, Santiago, Repblica Dominicana"})]}),d.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[d.jsx(rp,{className:"text-indigo-700"}),d.jsx("span",{children:"+1 (849)-635-7000 (Tienda)"})]}),d.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[d.jsx(rp,{className:"text-indigo-700"}),d.jsx("span",{children:"+1 (809)-582-1212 (Internet)"})]}),d.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[d.jsx(x1,{className:"text-indigo-700"}),d.jsx("span",{children:"playcenter121@gmail.com"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center mt-4",children:[d.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20pgina.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-700 text-white rounded-lg shadow-md hover:bg-indigo-800 transition w-full sm:w-auto",children:[d.jsx(np,{className:"text-xl"}),"WhatsApp Tienda"]}),d.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20pgina.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition w-full sm:w-auto",children:[d.jsx(np,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})]})}async function iF(t){const e="https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","perfil_usuarios"),n.append("folder","muestras/comercio electrnico"),console.log("Archivo que se va a subir:",t),console.log("Preset usado:","perfil_usuarios"),console.log("Carpeta folder usada:","muestras/comercio electrnico");const r=await fetch(e,{method:"POST",body:n});if(!r.ok){const a=await r.text();throw console.error("Error Cloudinary:",a),new Error(" Error al subir la imagen a Cloudinary")}const i=await r.json();return console.log("Respuesta de Cloudinary:",i),i.secure_url}const aE=["Distrito Nacional","Santo Domingo","Santiago","La Vega","Puerto Plata","San Cristbal","Duarte","La Romana","San Pedro de Macors","Espaillat","Hermanas Mirabal","Monte Plata","San Juan","Azua","Peravia","Monseor Nouel","Barahona","Snchez Ramrez","Valverde","Mara Trinidad Snchez","Monte Cristi","Saman","El Seibo","Hato Mayor","Independencia","Pedernales","Elas Pia","Dajabn","Baoruco"],ps={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, Repblica Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"};function sF({abierto:t,onClose:e,onPick:n,valorActual:r}){const[i,a]=A.useState(""),l=A.useMemo(()=>{if(!i)return aE;const u=i.toLowerCase();return aE.filter(h=>h.toLowerCase().includes(u))},[i]);return A.useEffect(()=>{t||a("")},[t]),typeof document>"u"?null:XE.createPortal(d.jsx(cr,{children:t&&d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{className:"prov-picker-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),d.jsx(ye.div,{className:"prov-picker-modal",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},onClick:u=>u.stopPropagation(),children:d.jsxs("div",{className:"prov-dark-card",children:[d.jsxs("div",{className:"prov-dark-header",children:[d.jsx("h3",{className:"prov-dark-title",children:"Seleccionar Provincia"}),d.jsx("button",{onClick:e,className:"prov-close-white",children:""})]}),d.jsx("div",{className:"prov-search-dark",children:d.jsx("input",{type:"text",placeholder:"Buscar provincia...",value:i,onChange:u=>a(u.target.value),className:"prov-input-dark",autoFocus:!0})}),d.jsx("div",{className:"prov-list-dark",children:l.length>0?l.map(u=>d.jsx("div",{className:`prov-item-dark ${r===u?"active":""}`,onClick:()=>{n(u),e()},children:u},u)):d.jsx("div",{className:"prov-empty-dark",children:"No se encontraron provincias"})})]})})]})}),document.body)}function Lk({abierto:t,onClose:e,actualizarUsuarioInfo:n,actualizarLista:r}){const{uid:i,usuario:a}=Nr(),[l,u]=A.useState("domicilio"),[h,m]=A.useState([]),[g,y]=A.useState(!1),[x,_]=A.useState(null),[P,E]=A.useState(""),[k,D]=A.useState(""),[F,O]=A.useState(""),[B,K]=A.useState(""),[X,R]=A.useState(""),[N,V]=A.useState(""),[S,M]=A.useState(""),[U,j]=A.useState(!1),[oe,Pe]=A.useState(!1),[Ae,Ee]=A.useState(!1),[te,pe]=A.useState(null),[ue,z]=A.useState(""),[Z,we]=A.useState(!1),De=H=>H||"",[Ce,Ue]=A.useState(""),[Ie,Le]=A.useState(null),[We,it]=A.useState(!1),[Gt,Pt]=A.useState(!1),st=async()=>{const H=i||(a==null?void 0:a.uid);if(!H){m([]);return}y(!0);try{const ie=To(mi(rt,"direcciones"),Ou("usuarioId","==",H)),Be=(await Mu(ie)).docs.map(be=>({id:be.id,...be.data()}));m(Be)}catch(ie){console.error("fetchDirecciones error:",ie),m([])}finally{y(!1)}};A.useEffect(()=>{const H=i||(a==null?void 0:a.uid);t&&H&&st()},[t,i,a]),A.useEffect(()=>{t&&(_(null),u("domicilio"),E(""),D(""),O(""),K(""),R(""),V(""),M(""),Ue(""),Le(null),Pt(!1))},[t]);const en=H=>{if(H==="tienda"){u("tienda"),E(ps.provincia),D(ps.ciudad),K(ps.numeroCalle),O(""),R(""),M(""),_(null),Ue(""),Le(null),Pt(!0);return}if(H==="domicilio"){u("domicilio"),Gt&&(E(""),D(""),x||(K(""),O(""),R(""),M("")),Pt(!1));return}u(H)},wn=()=>[B,X?`Casa ${X}`:"",F,k,P,S?`Ref: ${S}`:""].filter(Boolean).join(", ").trim(),Kn=async()=>{const H=i||(a==null?void 0:a.uid);if(console.log("Auth check:",{uid:i,usuario:a==null?void 0:a.uid,currentUid:H}),!H){alert("Error de autenticacin. Recarga la pgina e intenta de nuevo.");return}j(!0);try{if(l==="tienda"){if(!N||N.trim()===""){z("El nmero de telfono es obligatorio para recoger en tienda"),j(!1);return}typeof n=="function"&&await n({direccion:De(ps.direccionCompleta),metodoEntrega:"tienda",telefono:N}),e&&e(),typeof r=="function"&&r(),j(!1);return}if(!N||N.trim()===""){z("El nmero de telfono es obligatorio para todos los mtodos de entrega"),j(!1);return}const ie=!!Ie;if(!ie&&!wn()){alert("Completa provincia, ciudad y calle/nmero."),j(!1);return}const ke=ie?`${wn()?wn()+", ":""}Ubicacin: ${Ce} (${Ie==null?void 0:Ie.lat}, ${Ie==null?void 0:Ie.lon})`:wn(),Be={metodoEntrega:"domicilio",provincia:P||null,ciudad:k||null,numeroCalle:B||null,numeroCasa:X||null,sector:F||null,referencia:S||null,telefono:N||null,direccionCompleta:ke,ubicacion:Ce||null,coords:Ie||null,usuarioId:H,updatedAt:new Date};if(x){const $e=Vt(rt,"direcciones",x);await ZD($e,{...Be})}else await Iv(mi(rt,"direcciones"),{...Be,createdAt:new Date});typeof n=="function"&&await n({direccion:De(ke),metodoEntrega:"domicilio"}),Pe(!0);const be={direccion:De(ke),metodoEntrega:"domicilio",telefono:N,updatedAt:new Date};try{await hi(Vt(rt,"users",H),be,{merge:!0})}catch($e){console.warn("No se pudo escribir users/{uid}:",$e)}try{await hi(Vt(rt,"usuarios",H),be,{merge:!0})}catch($e){console.warn("No se pudo escribir usuarios/{uid}:",$e)}await st(),typeof r=="function"&&r(),_(null),e&&e(),window.location.reload()}catch(ie){console.error("handleGuardarDireccion error:",ie),alert(`Error guardando direccin: ${(ie==null?void 0:ie.message)||ie}`)}finally{j(!1)}},gt=async H=>{try{const ie=typeof H=="string"?H:(H==null?void 0:H.direccionCompleta)||"",ke=H&&H.metodoEntrega?H.metodoEntrega:"domicilio",Be=i||(a==null?void 0:a.uid);Pe(!0),typeof n=="function"&&await n({direccion:ie,metodoEntrega:ke,telefono:N});const be={direccion:ie,metodoEntrega:ke,telefono:N,updatedAt:new Date};try{await hi(Vt(rt,"users",Be),be,{merge:!0})}catch($e){console.warn("No se pudo escribir users/{uid}:",$e)}try{await hi(Vt(rt,"usuarios",Be),be,{merge:!0})}catch($e){console.warn("No se pudo escribir usuarios/{uid}:",$e)}try{let $e=await uo(Vt(rt,"users",Be));if($e.exists()||($e=await uo(Vt(rt,"usuarios",Be))),$e&&$e.exists()){const vt=$e.data()||{};typeof n=="function"&&await n({direccion:vt.direccion||ie,metodoEntrega:vt.metodoEntrega||ke})}}catch($e){console.warn("No se pudo releer documento de usuario:",$e)}await st(),typeof r=="function"&&r(),e&&e(),window.location.reload()}catch(ie){console.error("handleSeleccionarDireccion error:",ie),Pe(!1),alert(`Error seleccionando direccin: ${(ie==null?void 0:ie.message)||ie}`)}},de=async H=>{try{await AP(Vt(rt,"direcciones",H)),await st(),typeof r=="function"&&r(),alert("Direccin eliminada correctamente.")}catch(ie){console.error("eliminarDireccion:",ie),alert(`Error eliminando direccin: ${(ie==null?void 0:ie.message)||ie}`)}},qe=H=>{pe(H),Ee(!0)},tt=()=>{Ee(!1),pe(null)},Lt=()=>{te&&(de(te),Ee(!1),pe(null))},yt=H=>{!H||H.metodoEntrega==="tienda"||(_(H.id),u("domicilio"),E(H.provincia||""),D(H.ciudad||""),O(H.sector||""),K(H.numeroCalle||""),R(H.numeroCasa||""),V(H.telefono||""),M(H.referencia||""),Ue(H.ubicacion||""),Le(H.coords||null),Pt(!1))},fn=()=>{if(!navigator.geolocation){alert("Geolocalizacin no soportada en este navegador.");return}it(!0),navigator.geolocation.getCurrentPosition(H=>{const ie=H.coords.latitude.toFixed(6),ke=H.coords.longitude.toFixed(6),Be=`https://www.google.com/maps?q=${ie},${ke}`;Ue(Be),Le({lat:ie,lon:ke}),K(`${ie}, ${ke}`),it(!1)},H=>{console.error("Error geolocalizacin:",H);let ie="No se pudo obtener la ubicacin.";switch(H.code){case H.PERMISSION_DENIED:ie="Permisos denegados. Haz clic en el candado  junto a la URL y permite la ubicacin.";break;case H.POSITION_UNAVAILABLE:ie="Ubicacin no disponible. Asegrate de estar conectado a internet y tener servicios de ubicacin activados.";break;case H.TIMEOUT:ie="Tiempo agotado. Intenta de nuevo.";break;default:ie="Error desconocido. Verifica permisos del navegador."}alert(ie),it(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},pr=()=>{Ue(""),Le(null),B&&/^\s*-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?\s*$/.test(B)&&K("")};if(!t)return null;const le=h.filter(H=>H.metodoEntrega!=="tienda");return d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{className:"entrega-slider",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:200},role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"entrega-slider-content","aria-labelledby":"entrega-title",children:[d.jsx("div",{className:"entrega-drag-handle"}),d.jsxs("div",{className:"entrega-header",children:[d.jsxs("div",{className:"entrega-header-content",children:[d.jsx("div",{className:"entrega-icon-wrapper",children:d.jsx("div",{className:"entrega-icon",children:""})}),d.jsxs("div",{className:"entrega-title-section",children:[d.jsx("h3",{id:"entrega-title",className:"entrega-title",children:"Mtodo de entrega"}),d.jsx("p",{className:"entrega-subtitle",children:"Elige cmo quieres recibir tu pedido"})]})]}),d.jsx("button",{onClick:e,className:"entrega-close-btn","aria-label":"Cerrar",children:d.jsx(py,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"entrega-methods",children:[d.jsxs(ye.button,{type:"button",onClick:()=>en("domicilio"),className:`method-card ${l==="domicilio"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":l==="domicilio",children:[d.jsx("div",{className:"method-icon domicilio-icon",children:d.jsx(i0,{className:"w-6 h-6"})}),d.jsxs("div",{className:"method-info",children:[d.jsx("h4",{className:"method-title",children:"A domicilio"}),d.jsx("p",{className:"method-desc",children:"Entrega en tu direccin"})]}),l==="domicilio"&&d.jsx(ye.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:d.jsx(Jc,{className:"w-5 h-5"})})]}),d.jsxs(ye.button,{type:"button",onClick:()=>en("tienda"),className:`method-card ${l==="tienda"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":l==="tienda",children:[d.jsx("div",{className:"method-icon tienda-icon",children:d.jsx(s0,{className:"w-6 h-6"})}),d.jsxs("div",{className:"method-info",children:[d.jsx("h4",{className:"method-title",children:"Recoger en tienda"}),d.jsx("p",{className:"method-desc",children:"Playcenter Universal"})]}),l==="tienda"&&d.jsx(ye.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:d.jsx(Jc,{className:"w-5 h-5"})})]})]}),l==="domicilio"&&d.jsxs(ye.button,{type:"button",onClick:fn,className:`location-btn ${We?"loading":""}`,disabled:We,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx(z7,{className:`w-5 h-5 ${We?"animate-pulse":""}`}),d.jsx("span",{children:We?"Obteniendo ubicacin...":"Usar mi ubicacin actual"})]}),l==="tienda"&&d.jsx(ye.div,{className:"tienda-phone-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Telfono de contacto *"}),d.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:N,onChange:H=>{V(H.target.value),ue&&z("")},className:"form-input",required:!0}),ue&&d.jsx("div",{className:"phone-error-message",children:d.jsxs("span",{children:[" ",ue]})}),d.jsx("p",{className:"form-note",children:" Te contactaremos cuando tu pedido est listo para recoger"})]})}),d.jsxs("div",{className:"entrega-form",children:[d.jsx(cr,{children:Ie&&d.jsxs(ye.div,{className:"coords-display",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[d.jsxs("div",{className:"coords-header",children:[d.jsx(Gh,{className:"w-5 h-5 text-green-600"}),d.jsx("span",{className:"coords-title",children:"Ubicacin detectada"}),d.jsx("button",{onClick:pr,className:"coords-remove","aria-label":"Quitar ubicacin",children:d.jsx(py,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"coords-info",children:[d.jsxs("div",{className:"coord-item",children:[d.jsx("span",{className:"coord-label",children:"Lat:"}),d.jsx("span",{className:"coord-value",children:Ie.lat})]}),d.jsxs("div",{className:"coord-item",children:[d.jsx("span",{className:"coord-label",children:"Lng:"}),d.jsx("span",{className:"coord-value",children:Ie.lon})]})]})]})}),d.jsx(cr,{mode:"wait",children:l==="domicilio"?d.jsxs(ye.div,{className:"address-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"form-section",children:[d.jsx("label",{className:"form-label",children:"Provincia *"}),d.jsxs("button",{type:"button",onClick:()=>we(!0),className:"province-selector","aria-haspopup":"dialog","aria-expanded":Z,children:[d.jsx("span",{className:`province-text ${P?"":"placeholder"}`,children:P||"Selecciona tu provincia"}),d.jsx(Mk,{className:"province-chevron"})]})]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Ciudad *"}),d.jsx("input",{placeholder:"Ej: Santiago",value:k,onChange:H=>D(H.target.value),className:"form-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Sector"}),d.jsx("input",{placeholder:"Ej: Los Jardines",value:F,onChange:H=>O(H.target.value),className:"form-input"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Calle y nmero *"}),d.jsx("input",{placeholder:"Ej: Av. Juan Pablo Duarte #123",value:B,onChange:H=>K(H.target.value),className:"form-input"})]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Nmero de casa"}),d.jsx("input",{placeholder:"Ej: 45-B",value:X,onChange:H=>R(H.target.value),className:"form-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Telfono *"}),d.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:N,onChange:H=>{V(H.target.value),ue&&z("")},className:"form-input",required:!0}),ue&&d.jsx("div",{className:"phone-error-message",children:d.jsxs("span",{children:[" ",ue]})})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Referencia"}),d.jsx("input",{placeholder:"Ej: Casa azul",value:S,onChange:H=>M(H.target.value),className:"form-input"})]}),!Ie&&d.jsxs("div",{className:"form-note",children:[" ",d.jsx("strong",{children:"Tip:"}),' Usa "Mi ubicacin actual" para completar automticamente las coordenadas']})]},"domicilio-form"):d.jsxs(ye.div,{className:"store-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"store-header",children:[d.jsx(s0,{className:"w-6 h-6 text-orange-500"}),d.jsx("h4",{className:"store-title",children:"Playcenter Universal"})]}),d.jsx("p",{className:"store-address",children:ps.direccionCompleta}),d.jsxs("a",{href:ps.ubicacion,target:"_blank",rel:"noreferrer",className:"store-map-link",children:[d.jsx(Gh,{className:"w-4 h-4"}),"Ver en Google Maps"]})]},"tienda-info")}),d.jsx(ye.button,{onClick:Kn,disabled:U,className:`save-btn ${U?"loading":""}`,whileHover:{scale:U?1:1.02},whileTap:{scale:U?1:.98},children:U?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("span",{children:"Guardando..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Jc,{className:"w-5 h-5"}),d.jsx("span",{children:l==="tienda"?"Seleccionar Playcenter":x?"Actualizar direccin":"Guardar direccin"})]})})]}),d.jsxs("div",{className:"saved-addresses",children:[d.jsx("h4",{className:"saved-title",children:"Direcciones guardadas"}),g?d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("span",{children:"Cargando direcciones..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs(ye.div,{className:"address-card store-card",whileHover:{scale:1.01},whileTap:{scale:.99},children:[d.jsxs("div",{className:"address-info",children:[d.jsxs("div",{className:"address-header",children:[d.jsx(s0,{className:"w-5 h-5 text-orange-500"}),d.jsx("span",{className:"address-type",children:"Recoger en tienda"})]}),d.jsx("p",{className:"address-name",children:"Playcenter Universal"}),d.jsx("p",{className:"address-details",children:ps.direccionCompleta}),d.jsxs("a",{href:ps.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[d.jsx(Gh,{className:"w-4 h-4"}),"Ver ubicacin"]})]}),d.jsxs("button",{onClick:()=>gt(ps),className:"address-select-btn store-select",children:[d.jsx(Jc,{className:"w-4 h-4"}),"Seleccionar"]})]}),d.jsx(cr,{children:le.length===0?d.jsxs(ye.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(i0,{className:"w-12 h-12 text-gray-300"}),d.jsx("p",{className:"empty-text",children:"No tienes direcciones guardadas"}),d.jsx("p",{className:"empty-subtext",children:"Agrega una direccin para entregas futuras"})]}):d.jsx("div",{className:"addresses-list",children:le.map((H,ie)=>d.jsxs(ye.div,{className:"address-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:ie*.1},whileHover:{scale:1.01},children:[d.jsxs("div",{className:"address-info",children:[d.jsxs("div",{className:"address-header",children:[d.jsx(i0,{className:"w-5 h-5 text-blue-500"}),d.jsx("span",{className:"address-type",children:"Domicilio"})]}),d.jsx("p",{className:"address-details",children:H.direccionCompleta}),H.ubicacion&&d.jsxs("a",{href:H.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[d.jsx(Gh,{className:"w-4 h-4"}),"Ver ubicacin"]})]}),d.jsxs("div",{className:"address-actions",children:[d.jsx("button",{onClick:()=>yt(H),className:"address-action-btn edit-btn","aria-label":"Editar direccin",children:d.jsx(K7,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>gt(H),className:"address-action-btn select-btn","aria-label":"Seleccionar direccin",children:d.jsx(Jc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>qe(H.id),className:"address-action-btn delete-btn","aria-label":"Eliminar direccin",children:d.jsx(Y7,{className:"w-4 h-4"})})]})]},H.id))})})]})]})]})}),d.jsx(cr,{children:oe&&d.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:d.jsxs("div",{className:"loaderInner",children:[d.jsx("div",{className:"loader",children:d.jsxs("div",{className:"truckWrapper",children:[d.jsx("div",{className:"truckBody",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 198 93",className:"trucksvg",children:[d.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#F83D3D",d:"M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z"}),d.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#7D7C7C",d:"M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z"}),d.jsx("path",{strokeWidth:"2",stroke:"#282828",fill:"#282828",d:"M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z"}),d.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#FFFCAB",rx:"1",height:"7",width:"5",y:"63",x:"187"}),d.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#282828",rx:"1",height:"11",width:"4",y:"81",x:"193"}),d.jsx("rect",{strokeWidth:"3",stroke:"#282828",fill:"#DFDFDF",rx:"2.5",height:"90",width:"121",y:"1.5",x:"6.5"}),d.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#DFDFDF",rx:"2",height:"4",width:"6",y:"84",x:"1"})]})}),d.jsxs("div",{className:"truckTires",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[d.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),d.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[d.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),d.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]})]}),d.jsx("div",{className:"road"}),d.jsx("svg",{xmlSpace:"preserve",viewBox:"0 0 453.459 453.459",xmlns:"http://www.w3.org/2000/svg",className:"lampPost",fill:"#000000",children:d.jsx("path",{d:`M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993
c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514
c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16
c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914
h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75
v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795
V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z
M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017
h78.747C231.693,100.736,232.77,106.162,232.77,111.694z`})})]})}),d.jsx("div",{className:"loaderText",children:"Direccin seleccionada!"})]})})}),d.jsx(cr,{children:Ae&&d.jsx(ye.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:d.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[d.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"Eliminar direccin?"}),d.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"Ests seguro que quieres eliminar esta direccin? Esta accin no se puede deshacer."}),d.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[d.jsx("button",{onClick:tt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:H=>H.target.style.backgroundColor="#f9fafb",onMouseOut:H=>H.target.style.backgroundColor="white",children:"Cancelar"}),d.jsx("button",{onClick:Lt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:H=>H.target.style.backgroundColor="#dc2626",onMouseOut:H=>H.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),oe&&d.jsxs("div",{className:"truck-loader-overlay",children:[d.jsxs("div",{className:"spinner",children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]}),d.jsx("div",{className:"truck-loader-text",children:"Procesando entrega..."})]}),d.jsx(sF,{abierto:Z,onClose:()=>we(!1),onPick:H=>E(H),valorActual:P})]})}const o0={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, Repblica Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"},oF=(t="")=>String(t||"").trim()?String(t).trim().charAt(0).toUpperCase():"?",aF=(t="")=>{let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e),e=e&e;const n=e>>0&255,r=e>>8&255,i=e>>16&255;return`#${[n,r,i].map(a=>a.toString(16).padStart(2,"0")).join("")}`},lF=(t="",e=512)=>{const n=oF(t),r=aF(t||n),i=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${e}' viewBox='0 0 ${e} ${e}'>
    <rect width='100%' height='100%' fill='${r}' rx='${Math.floor(e*.12)}' />
    <text x='50%' y='50%' dy='.04em' font-family='Inter, system-ui, Arial' font-size='${Math.floor(e*.42)}' fill='#fff' text-anchor='middle' alignment-baseline='middle'>${n}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(i)}`},cF={hidden:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:.36,ease:[.2,.8,.2,1]}},exit:{opacity:0,y:-8,transition:{duration:.25}}},_u={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.26}}};function uF({historial:t}){const[e,n]=A.useState(null);if(!(t!=null&&t.length))return d.jsxs(ye.div,{variants:_u,className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"No hay compras an"}),d.jsx("p",{children:"Cuando realices tu primera compra, aparecer aqu."})]});const r=u=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(u||0),i=u=>{if(!u)return"Fecha no disponible";let h;return typeof u=="object"&&u.seconds?h=new Date(u.seconds*1e3):h=new Date(u),h.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},a=u=>{switch(u){case"completado":return"status-completed";case"cancelado":return"status-cancelled";case"pendiente":return"status-pending";default:return"status-pending"}},l=u=>{switch(u){case"completado":return" Completado";case"cancelado":return" Cancelado";case"pendiente":return" Pendiente";default:return" Pendiente"}};return d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{variants:_u,className:"orders-container",children:t.map(u=>{var h,m;return d.jsxs("div",{className:"order-card",onClick:()=>n(u),children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsx("h4",{className:"order-number",children:u.numeroOrden||`Orden #${u.id.slice(-8)}`}),d.jsx("p",{className:"order-date",children:i(u.fecha)})]}),d.jsxs("div",{className:"order-status",children:[d.jsx("span",{className:`status-badge ${a(u.estado)}`,children:l(u.estado)}),d.jsx("div",{className:"order-total",children:r(u.total)})]})]}),d.jsxs("div",{className:"order-products-preview",children:[(h=u.productos)==null?void 0:h.slice(0,3).map((g,y)=>d.jsx("div",{className:"product-preview",children:d.jsxs("div",{className:"product-preview-info",children:[d.jsx("span",{className:"product-name",children:g.nombre}),d.jsxs("span",{className:"product-details",children:["Cantidad: ",g.cantidad," "," ",r(g.precio)]}),d.jsxs("button",{className:"btn-view-product-profile",onClick:x=>{x.stopPropagation(),window.location.href=`/producto/${g.id}`},title:"Ver producto",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},y)),((m=u.productos)==null?void 0:m.length)>3&&d.jsxs("div",{className:"more-products",children:["+",u.productos.length-3," ms productos"]})]}),d.jsx("div",{className:"order-actions",children:d.jsx("button",{className:"btn btn-outline btn-sm",onClick:g=>{g.stopPropagation(),n(u)},children:"Ver detalles"})})]},u.id)})}),d.jsx(cr,{children:e&&d.jsx(dF,{order:e,onClose:()=>n(null),formatCurrency:r,formatOrderDate:i,getStatusColor:a,getStatusText:l})})]})}function dF({order:t,onClose:e,formatCurrency:n,formatOrderDate:r,getStatusColor:i,getStatusText:a}){var l,u;return A.useEffect(()=>{const h=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),d.jsx(ye.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:d.jsxs(ye.div,{className:"order-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:t.numeroOrden||`Orden #${t.id.slice(-8)}`}),d.jsx("p",{className:"order-date-detail",children:r(t.fecha)})]}),d.jsx("button",{className:"close-btn",onClick:e,children:""})]}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"order-status-section",children:[d.jsx("span",{className:`status-badge large ${i(t.estado)}`,children:a(t.estado)}),t.estadoPago&&d.jsxs("span",{className:"payment-status",children:["Pago: ",t.estadoPago==="pagado"?" Pagado":" Fallido"]})]}),d.jsxs("div",{className:"order-summary",children:[d.jsx("h3",{children:"Resumen de la orden"}),d.jsxs("div",{className:"summary-row total",children:[d.jsx("span",{children:"Total pagado:"}),d.jsx("span",{children:n(t.total)})]})]}),d.jsxs("div",{className:"products-section",children:[d.jsxs("h3",{children:["Productos (",((l=t.productos)==null?void 0:l.length)||0,")"]}),d.jsx("div",{className:"products-list",children:(u=t.productos)==null?void 0:u.map((h,m)=>d.jsx("div",{className:"product-detail-item",children:d.jsxs("div",{className:"product-detail-info",children:[d.jsx("h4",{children:h.nombre}),d.jsx("p",{className:"product-company",children:h.empresa||"N/A"}),d.jsxs("div",{className:"product-pricing",children:[d.jsxs("span",{className:"quantity",children:["Cantidad: ",h.cantidad]}),d.jsxs("span",{className:"price",children:["Precio unitario: ",n(h.precio)]}),d.jsxs("span",{className:"subtotal",children:["Subtotal:"," ",n(h.subtotal||h.precio*h.cantidad)]})]}),d.jsxs("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${h.id}`,title:"Ver producto",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Ver producto"]})]})},m))})]}),t.direccionEntrega&&d.jsxs("div",{className:"delivery-section",children:[d.jsx("h3",{children:"Informacin de entrega"}),d.jsx("p",{children:t.direccionEntrega}),t.telefonoContacto&&d.jsxs("p",{children:["Telfono: ",t.telefonoContacto]})]}),t.metodoPago&&d.jsxs("div",{className:"payment-section",children:[d.jsx("h3",{children:"Informacin de pago"}),d.jsxs("p",{children:["Mtodo: ",t.metodoPago]})]})]})]})})}function Kh({name:t}){const e={perfil:d.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),historial:d.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[d.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7L21 7"}),d.jsx("path",{d:"M12 7v6l4 2"})]}),direcciones:d.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[d.jsx("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0z"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),logout:d.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("path",{d:"M16 17l5-5-5-5"}),d.jsx("path",{d:"M21 12H9"})]})};return d.jsx("span",{className:"icon",children:e[t]})}function hF({visible:t,text:e="Cargando..."}){return t?d.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:d.jsxs("div",{className:"loaderInner",children:[d.jsx("div",{className:"loader",children:d.jsxs("div",{className:"spinner",children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]})}),d.jsx("p",{className:"loaderText",children:e})]})}):null}function lE({abierto:t,titulo:e,descripcion:n,onCancel:r,onConfirm:i,dangerText:a="Confirmar"}){return t?d.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:d.jsxs(ye.div,{className:"modal-card card",initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},children:[d.jsx("h3",{id:"modal-title",className:"modal-title",children:e}),d.jsx("p",{className:"modal-desc",children:n}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"btn btn-ghost",onClick:r,children:"Cancelar"}),d.jsx("button",{className:"btn btn-danger",onClick:i,children:a})]})]})}):null}function fF(){const{usuario:t,usuarioInfo:e,actualizarUsuarioInfo:n,logout:r}=Nr(),i=fr(),[a,l]=A.useState("perfil"),[u,h]=A.useState(!1),[m,g]=A.useState(!1),[y,x]=A.useState({text:"",tipo:""}),[_,P]=A.useState({nombre:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",telefono:"",direccion:"",fotoURL:(t==null?void 0:t.photoURL)||""}),[E,k]=A.useState(null),[D,F]=A.useState(null),[O,B]=A.useState([]),[K,X]=A.useState([]),[R,N]=A.useState(!1),[V,S]=A.useState(null),[M,U]=A.useState(!1),[j,oe]=A.useState(!1),[Pe,Ae]=A.useState(!1),[Ee,te]=A.useState(!1),[pe,ue]=A.useState(null);A.useEffect(()=>{P(e?de=>({...de,telefono:e.telefono||"",direccion:e.direccion||"",fotoURL:e.fotoURL||(t==null?void 0:t.photoURL)||""}):de=>({...de,fotoURL:(t==null?void 0:t.photoURL)||""}))},[e,t==null?void 0:t.photoURL]),A.useEffect(()=>{t&&(z(),Z())},[t]);const z=async()=>{try{const de=To(mi(rt,"orders"),Ou("userId","==",t.uid)),qe=await Mu(de);B(qe.docs.map(tt=>({id:tt.id,...tt.data()})))}catch(de){console.error("fetchHistorial:",de)}},Z=async()=>{try{const de=To(mi(rt,"direcciones"),Ou("usuarioId","==",t.uid)),qe=await Mu(de);X(qe.docs.map(tt=>({id:tt.id,...tt.data()})))}catch(de){console.error("fetchDirecciones:",de)}},we=A.useMemo(()=>{if(D)return D;if(_.fotoURL)return _.fotoURL;const de=_.nombre||_.email||(t==null?void 0:t.email)||"U";return lF(de,512)},[D,_.fotoURL,_.nombre,_.email,t==null?void 0:t.email]),De=A.useMemo(()=>{if(_.nombre&&_.nombre.trim())return _.nombre;const qe=(_.email||(t==null?void 0:t.email)||"").split("@")[0]||"Usuario";return qe.charAt(0).toUpperCase()+qe.slice(1)},[_.nombre,_.email,t==null?void 0:t.email]),Ce=(de,qe="info",tt=3500)=>{x({text:de,tipo:qe}),tt&&setTimeout(()=>x({text:"",tipo:""}),tt)},Ue=async()=>{try{oe(!1),await r(),i("/")}catch(de){console.error("logout:",de),Ce("Error cerrando sesin.","error",5e3)}},Ie=de=>P(qe=>({...qe,[de.target.name]:de.target.value})),Le=de=>{var Lt;const qe=(Lt=de.target.files)==null?void 0:Lt[0];if(!qe)return;k(qe);const tt=URL.createObjectURL(qe);F(tt)},We=()=>{D&&URL.revokeObjectURL(D),k(null),F(null)},it=async()=>{if(!E)return Ce("Selecciona una imagen primero.","error");g(!0);try{const de=await iF(E);await n({fotoURL:de}),await Fl(t,{photoURL:de}),P(qe=>({...qe,fotoURL:de})),We(),Ce("Foto actualizada.","success")}catch(de){console.error("uploadLocalImage:",de),Ce("Error subiendo imagen.","error",5e3)}finally{g(!1)}},Gt=async()=>{g(!0);try{await n({telefono:_.telefono,direccion:_.direccion,displayName:_.nombre});const de={};t.displayName!==_.nombre&&(de.displayName=_.nombre),Object.keys(de).length&&await Fl(t,de),h(!1),Ce("Perfil guardado.","success")}catch(de){console.error("Error guardando perfil:",de),Ce("Error guardando perfil.","error")}finally{g(!1)}},Pt=async()=>{g(!0);try{await Fl(t,{photoURL:""}),await n({fotoURL:""}),P(de=>({...de,fotoURL:""})),We(),Ce("Imagen de perfil removida.","success")}catch(de){console.error("confirmRemoveImage:",de),Ce("Error removiendo imagen.","error")}finally{g(!1),U(!1)}},st=async de=>{try{const qe=typeof de=="string"?de:(de==null?void 0:de.direccionCompleta)||"",tt=de&&de.metodoEntrega?de.metodoEntrega:"domicilio";Ae(!0),await n({direccion:qe,metodoEntrega:tt});const Lt={direccion:qe,metodoEntrega:tt,updatedAt:new Date};try{await hi(Vt(rt,"users",t.uid),Lt,{merge:!0})}catch(yt){console.warn("No se pudo escribir users/{uid}:",yt)}try{await hi(Vt(rt,"usuarios",t.uid),Lt,{merge:!0})}catch(yt){console.warn("No se pudo escribir usuarios/{uid}:",yt)}try{let yt=await uo(Vt(rt,"users",t.uid));if(yt.exists()||(yt=await uo(Vt(rt,"usuarios",t.uid))),yt&&yt.exists()){const fn=yt.data()||{};await n({direccion:fn.direccion||qe,metodoEntrega:fn.metodoEntrega||tt})}}catch(yt){console.warn("No se pudo releer documento de usuario:",yt)}R&&N(!1),await Z(),P(yt=>({...yt,direccion:qe})),Ce("Direccin seleccionada y guardada.","success"),window.location.reload()}catch(qe){console.error("handleSeleccionarDireccion error:",qe),Ae(!1),Ce("Error seleccionando direccin.","error",5e3)}},en=async de=>{try{if(await AP(Vt(rt,"direcciones",de)),t!=null&&t.direccion){const qe=direccionesUsuario.find(tt=>tt.id===de);qe&&t.direccion===qe.direccionCompleta&&(await n({direccion:"",metodoEntrega:"",selectedDeliveryMethod:""}),setTimeout(()=>{window.location.reload()},1e3))}await Z(),Ce("Direccin eliminada correctamente.","success")}catch(qe){console.error("eliminarDireccion:",qe),Ce("Error eliminando direccin.","error")}},wn=de=>{ue(de),te(!0)},Kn=()=>{te(!1),ue(null)},gt=()=>{pe&&(en(pe),te(!1),ue(null))};return!t||!e?d.jsx("main",{className:"min-h-screen flex items-start justify-center bg-slate-50 pt-28",children:d.jsx("p",{className:"text-lg animate-pulse",children:"Cargando perfil..."})}):d.jsxs(ye.main,{className:"profile-page",variants:cF,initial:"hidden",animate:"enter",exit:"exit",children:[d.jsx("div",{className:"navigation-container",children:d.jsxs("nav",{className:"profile-dock","aria-label":"Navegacin de perfil",children:[d.jsxs("button",{className:`dock-btn ${a==="perfil"?"active":""}`,onClick:()=>l("perfil"),"aria-label":"Perfil",children:[d.jsx(Kh,{name:"perfil"}),d.jsx("span",{children:"Perfil"})]}),d.jsxs("button",{className:`dock-btn ${a==="historial"?"active":""}`,onClick:()=>l("historial"),"aria-label":"Historial",children:[d.jsx(Kh,{name:"historial"}),d.jsx("span",{children:"Historial"})]}),d.jsxs("button",{className:`dock-btn ${a==="direcciones"?"active":""}`,onClick:()=>l("direcciones"),"aria-label":"Direcciones",children:[d.jsx(Kh,{name:"direcciones"}),d.jsx("span",{children:"Direcciones"})]}),d.jsxs("button",{className:"dock-btn danger",onClick:()=>oe(!0),"aria-label":"Cerrar sesin",children:[d.jsx(Kh,{name:"logout"}),d.jsx("span",{children:"Salir"})]})]})}),d.jsx("main",{className:"main-content",children:d.jsx("div",{className:"main-card",children:d.jsxs(cr,{mode:"wait",children:[a==="perfil"&&d.jsxs(ye.section,{variants:_u,initial:"hidden",animate:"show",exit:"hidden",children:[d.jsxs("div",{className:"profile-header big",children:[d.jsx("div",{className:"avatar-block large",children:d.jsx("img",{src:we,alt:"Avatar",className:"avatar-img"})}),d.jsxs("div",{className:"profile-meta big",children:[d.jsx("h1",{className:"profile-name",children:De}),d.jsx("p",{className:"profile-email",children:_.email}),d.jsxs("p",{className:"muted small",children:["UID: ",d.jsx("span",{className:"mono",children:t.uid})]}),d.jsxs("div",{className:"profile-actions",children:[d.jsxs("label",{className:"btn btn-primary upload-btn",children:["Subir foto",d.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Le,className:"hidden","aria-label":"Subir foto"})]}),d.jsx("button",{className:"btn btn-ghost",onClick:()=>U(!0),children:"Quitar"}),D&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-success",onClick:it,disabled:m,children:"Guardar foto"}),d.jsx("button",{className:"btn btn-outline",onClick:We,children:"Cancelar"})]})]})]})]}),d.jsxs("div",{className:"form-grid big",children:[d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Nombre"}),d.jsx("input",{name:"nombre",value:_.nombre,onChange:Ie,disabled:!u})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Email"}),d.jsx("input",{name:"email",value:_.email,disabled:!0})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Telfono"}),d.jsx("input",{name:"telefono",value:_.telefono,onChange:Ie,disabled:!u})]}),d.jsxs("div",{className:"form-row full",children:[d.jsx("label",{children:"Direccin completa"}),d.jsx("textarea",{name:"direccion",value:_.direccion,onChange:Ie,disabled:!u,rows:4}),d.jsx("p",{className:"muted hint",children:'Pulsa "Editar" para modificar.'})]}),d.jsx("div",{className:"form-actions",children:u?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Gt,className:"btn btn-success",disabled:m,children:"Guardar"}),d.jsx("button",{onClick:()=>{h(!1),We()},className:"btn btn-ghost",children:"Cancelar"})]}):d.jsx("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Editar perfil"})})]})]},"perfil"),a==="historial"&&d.jsxs(ye.section,{variants:_u,initial:"hidden",animate:"show",exit:"hidden",children:[d.jsx("h2",{className:"section-title large",children:"Historial de compras"}),d.jsx(uF,{historial:O})]},"historial"),a==="direcciones"&&d.jsxs(ye.section,{variants:_u,initial:"hidden",animate:"show",exit:"hidden",children:[d.jsxs("div",{className:"direcciones-head",children:[d.jsx("h2",{className:"section-title large",children:"Direcciones"}),d.jsx("div",{children:d.jsx("button",{className:"btn btn-primary",onClick:()=>{S(null),N(!0)},children:"Aadir direccin"})})]}),d.jsxs("div",{className:"cards-list",children:[d.jsxs("div",{className:"address-card large",children:[d.jsxs("div",{className:"address-content",children:[d.jsx("div",{className:"address-title",children:"Recoger en: Playcenter Universal Santiago"}),d.jsx("div",{className:"muted break-words",children:o0.direccionCompleta}),d.jsx("a",{href:o0.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),d.jsx("div",{className:"address-actions",children:d.jsx("button",{onClick:()=>st(o0),className:"btn btn-success",children:"Seleccionar"})})]}),K.length===0?d.jsx("div",{className:"empty",children:"No tienes direcciones guardadas."}):K.map(de=>d.jsxs("div",{className:"address-card large",children:[d.jsxs("div",{className:"address-content",children:[d.jsx("div",{className:"address-title break-words",children:de.direccionCompleta||`${de.numeroCalle||""} ${de.numeroCasa?"Casa "+de.numeroCasa:""}, ${de.ciudad||""}, ${de.provincia||""}`}),d.jsxs("div",{className:"muted",children:["Mtodo: ",de.metodoEntrega||"domicilio"]}),de.referencia&&d.jsxs("div",{className:"muted",children:["Ref: ",de.referencia]}),de.ubicacion&&d.jsx("a",{href:de.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),d.jsxs("div",{className:"address-actions",children:[d.jsx("button",{onClick:()=>{S(de),N(!0)},className:"btn btn-ghost",children:"Editar"}),d.jsx("button",{onClick:()=>st(de),className:"btn btn-success",children:"Seleccionar"}),d.jsx("button",{onClick:()=>wn(de.id),className:"btn btn-danger",children:"Eliminar"})]})]},de.id))]}),R&&d.jsx(Lk,{abierto:R,onClose:async()=>{N(!1),S(null),await Z()},usuarioId:t.uid,direccionEditar:V,actualizarLista:Z})]},"direcciones")]})})}),d.jsx(lE,{abierto:M,titulo:"Quitar imagen de perfil",descripcion:"Se quitar la URL de tu perfil (no borra el archivo en Cloudinary).",onCancel:()=>U(!1),onConfirm:Pt,dangerText:"Quitar imagen"}),d.jsx(lE,{abierto:j,titulo:"Cerrar sesin",descripcion:"Ests seguro que quieres cerrar sesin?",onCancel:()=>oe(!1),onConfirm:Ue,dangerText:"Cerrar sesin"}),d.jsx(hF,{visible:Pe,text:"Guardando..."}),d.jsx(cr,{children:Ee&&d.jsx(ye.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:d.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[d.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"Eliminar direccin?"}),d.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"Ests seguro que quieres eliminar esta direccin? Esta accin no se puede deshacer."}),d.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[d.jsx("button",{onClick:Kn,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#f9fafb",onMouseOut:de=>de.target.style.backgroundColor="white",children:"Cancelar"}),d.jsx("button",{onClick:gt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:de=>de.target.style.backgroundColor="#dc2626",onMouseOut:de=>de.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),y.text&&d.jsx(ye.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`toast ${y.tipo==="success"?"toast-success":y.tipo==="error"?"toast-error":"toast-info"}`,children:y.text})]})}function pF({imagenes:t}){const[e,n]=A.useState(0),[r,i]=A.useState(!1),[a,l]=A.useState(!1),[u,h]=A.useState({x:50,y:50}),[m,g]=A.useState(!1),y=A.useRef(null);A.useEffect(()=>{const E=()=>{g(window.innerWidth<=768)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const x=E=>{const k=y.current.getBoundingClientRect(),D=(E.clientX-k.left)/k.width*100,F=(E.clientY-k.top)/k.height*100;h({x:D,y:F})},_=()=>l(!0),P=()=>l(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full flex flex-col lg:flex-col gap-6 relative",children:[d.jsxs("div",{className:"relative w-full",ref:y,onClick:()=>m&&i(!0),onMouseMove:m?null:x,onMouseEnter:m?null:_,onMouseLeave:m?null:P,children:[d.jsx("div",{className:"overflow-hidden rounded-xl shadow-md bg-gray-100 cursor-zoom-in",children:d.jsx("img",{src:t[e],alt:`Imagen ${e+1}`,className:"w-full h-[400px] object-contain"})}),!m&&a&&d.jsx("div",{className:"absolute top-0 left-full ml-4 w-[500px] h-[500px] border rounded-xl overflow-hidden shadow-lg z-50 bg-white hidden lg:block",children:d.jsx("div",{className:"w-full h-full bg-no-repeat bg-center bg-contain",style:{backgroundImage:`url(${t[e]})`,backgroundPosition:`${u.x}% ${u.y}%`,backgroundSize:"200%"}})})]}),d.jsx("div",{className:"overflow-x-auto mt-4",children:d.jsx("div",{className:"flex gap-3 justify-start w-max px-1",children:t.map((E,k)=>d.jsx(ye.img,{src:E,alt:`Miniatura ${k+1}`,className:`w-16 h-16 object-contain rounded cursor-pointer border-2 ${k===e?"border-pink-500":"border-transparent"}`,onClick:()=>n(k),whileHover:{scale:1.1},transition:{type:"spring",stiffness:300}},E))})})]}),d.jsx(cr,{children:r&&d.jsx(ye.div,{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),children:d.jsx(ye.img,{src:t[e],alt:"Imagen ampliada",className:"max-w-full max-h-full object-contain",initial:{scale:.8},animate:{scale:1},exit:{scale:.8}})})})]})}const Fk=A.createContext(),mF=({children:t})=>{const[e,n]=A.useState(()=>{const x=localStorage.getItem("carrito");return x?JSON.parse(x):[]}),[r,i]=A.useState(()=>{const x=localStorage.getItem("favoritos");return x?JSON.parse(x):[]});A.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),A.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(r))},[r]);const a=x=>{n(_=>{var k,D;const P=_.find(F=>F.id===x.id),E=x.cantidad??((D=(k=x.variantes)==null?void 0:k[0])==null?void 0:D.cantidad)??1/0;return P?P.cantidad<E?_.map(F=>F.id===x.id?{...F,cantidad:F.cantidad+1}:F):_:E>0?[..._,{...x,cantidad:1}]:_})},l=x=>{n(_=>_.map(P=>P.id===x?{...P,cantidad:P.cantidad-1}:P).filter(P=>P.cantidad>0))},u=x=>{n(_=>_.filter(P=>P.id!==x))},h=x=>{n(_=>_.find(E=>E.id===x.id)?_.filter(E=>E.id!==x.id):[..._,{...x,cantidad:1}])},m=x=>{i(_=>_.find(P=>P.id===x.id)?_:[..._,x])},g=x=>{i(_=>_.filter(P=>P.id!==x))},y=()=>{n([])};return d.jsx(Fk.Provider,{value:{carrito:e,favoritos:r,agregarAlCarrito:a,eliminarUnidadDelCarrito:l,quitarDelCarrito:u,toggleCarrito:h,agregarAFavoritos:m,eliminarDeFavoritos:g,vaciarCarrito:y},children:t})},md=()=>A.useContext(Fk);function gF({productoActual:t,productosPorCategoria:e,onProductoClick:n}){var h;const r=e.flatMap(m=>m.productos.map(g=>{var y;return{...g,categoria:(y=m.categoria)==null?void 0:y.trim().toLowerCase()}})),i=(h=t.categoria)==null?void 0:h.trim().toLowerCase(),a=r.filter(m=>m.id!==t.id&&m.categoria===i&&i!=="todos los productos").slice(0,1e3),l=A.useRef(null),u=m=>{const g=l.current;if(g&&g.firstChild){const y=g.firstChild.offsetWidth,_=m*(y+24);g.scrollBy({left:_,behavior:"smooth"})}};return d.jsx("section",{className:"w-full pt-6 pb-12 bg-white border-t border-gray-200 mt-6 overflow-visible",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-[#232f3e] mb-4 pl-1 tracking-tight",children:"Productos relacionados"}),d.jsxs("div",{className:"relative overflow-visible",children:[d.jsx("button",{className:"hidden lg:flex absolute top-1/2 -left-6 z-20 -translate-y-1/2 bg-white border border-gray-300 rounded-full shadow-lg p-3 hover:bg-gray-100 transition",onClick:()=>u(-1),"aria-label":"Anterior",children:d.jsx(c7,{size:22,className:"text-[#232f3e]"})}),d.jsx("div",{ref:l,className:"flex gap-6 overflow-x-auto overflow-y-visible pb-4 px-1 scroll-smooth snap-x snap-mandatory scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{minHeight:"280px"},children:a.length>0?a.map(m=>{var g;return d.jsxs(ye.div,{whileHover:{scale:1.03,y:-4,boxShadow:"0 8px 20px rgba(0,0,0,0.15)",zIndex:20,position:"relative"},transition:{type:"spring",stiffness:260,damping:20},className:"flex flex-col min-w-[160px] max-w-[200px] w-[60vw] sm:w-[200px] md:w-[220px] lg:w-[240px] bg-white rounded-2xl border border-gray-200 shadow-md cursor-pointer snap-start overflow-visible",onClick:()=>n?n(m.id):window.location.assign(`/producto/${m.id}`),children:[d.jsx("div",{className:"relative w-full h-[140px] sm:h-[160px] bg-gray-50 flex items-center justify-center p-2 overflow-visible",children:d.jsx("img",{src:m.imagen||((g=m.imagenes)==null?void 0:g[0]),alt:m.nombre,className:"max-w-full max-h-full object-contain"})}),d.jsxs("div",{className:"flex flex-col px-3 pt-2 pb-4 flex-1",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800 line-clamp-2 mb-3 min-h-[36px]",children:m.nombre}),d.jsxs("button",{className:"button whitespace-nowrap px-3 py-1.5 text-xs font-semibold self-start",tabIndex:-1,children:["Ver producto",d.jsx("svg",{className:"icon w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:`M12 2.25c-5.385 0-9.75 4.365-9.75 
                          9.75s4.365 9.75 9.75 9.75 9.75-4.365 
                          9.75-9.75S17.385 2.25 12 2.25zm4.28 
                          10.28a.75.75 0 000-1.06l-3-3a.75.75 
                          0 10-1.06 1.06l1.72 1.72H8.25a.75.75 
                          0 000 1.5h5.69l-1.72 1.72a.75.75 0 
                          101.06 1.06l3-3z`,clipRule:"evenodd"})})]})]})]},m.id)}):d.jsx("div",{className:"text-center text-gray-500 py-10 w-full",children:"No hay productos relacionados en esta categora."})}),d.jsx("button",{className:"hidden lg:flex absolute top-1/2 -right-6 z-20 -translate-y-1/2 bg-white border border-gray-300 rounded-full shadow-lg p-3 hover:bg-gray-100 transition",onClick:()=>u(1),"aria-label":"Siguiente",children:d.jsx(u7,{size:22,className:"text-[#232f3e]"})})]})]})})}const yF="https://playcenter-universal.onrender.com";function my({className:t,total:e,label:n}){const[r,i]=A.useState(null),a=async()=>{try{const l=document.querySelector(".pay-btn");l&&(l.disabled=!0,l.classList.add("loading"));const h=await(await fetch(`${yF}/cardnet/create-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total:e})})).json();if(!h.SESSION){alert(" No se pudo crear la sesin de pago"),l&&(l.disabled=!1,l.classList.remove("loading"));return}i(h.SESSION),document.getElementById("cardnetForm").submit()}catch{alert(" No se pudo conectar al backend");const u=document.querySelector(".pay-btn");u&&(u.disabled=!1,u.classList.remove("loading"))}};return d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:a,className:`pay-btn ${t||""}`,children:[d.jsx("span",{className:"btn-text",children:n||"Comprar ahora"}),d.jsxs("div",{className:"icon-container",children:[d.jsx("svg",{viewBox:"0 0 24 24",className:"icon card-icon",children:d.jsx("path",{d:"M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18C2,19.11 2.89,20 4,20H20C21.11,20 22,19.11 22,18V6C22,4.89 21.11,4 20,4Z",fill:"currentColor"})}),d.jsx("svg",{viewBox:"0 0 24 24",className:"icon payment-icon",children:d.jsx("path",{d:"M2,17H22V21H2V17M6.25,7H9V6H6V3H18V6H15V7H17.75L19,17H5L6.25,7M9,10H15V8H9V10M9,13H15V11H9V13Z",fill:"currentColor"})}),d.jsx("svg",{viewBox:"0 0 24 24",className:"icon dollar-icon",children:d.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z",fill:"currentColor"})}),d.jsx("svg",{viewBox:"0 0 24 24",className:"icon wallet-icon default-icon",children:d.jsx("path",{d:"M21,18V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V6H12C10.89,6 10,6.9 10,8V16A2,2 0 0,0 12,18M12,16H22V8H12M16,13.5A1.5,1.5 0 0,1 14.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,12A1.5,1.5 0 0,1 16,13.5Z",fill:"currentColor"})}),d.jsx("svg",{viewBox:"0 0 24 24",className:"icon check-icon",children:d.jsx("path",{d:"M9,16.17L4.83,12L3.41,13.41L9,19L21,7L19.59,5.59L9,16.17Z",fill:"currentColor"})})]})]}),r&&d.jsx("form",{id:"cardnetForm",action:"https://lab.cardnet.com.do/authorize",method:"post",children:d.jsx("input",{type:"hidden",name:"SESSION",value:r})})]})}function cE(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function uE(t,e,n){try{const r={mode:t,items:e,total:n,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(r))}catch{}}function vF(){var N,V,S,M,U,j;const{carrito:t,agregarAlCarrito:e,quitarDelCarrito:n,eliminarUnidadDelCarrito:r}=md(),{usuario:i}=Nr(),{id:a}=Ay(),l=fr(),[u,h]=A.useState(!1),[m,g]=A.useState(null);let y=null;for(const oe of Vi){const Pe=oe.productos.find(Ae=>Ae.id===a);if(Pe){y={...Pe,categoria:oe.categoria};break}}const x=()=>{window.history&&window.history.length>1?l(-1):l("/productos")};if(!y)return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",children:d.jsx("p",{className:"text-center text-lg sm:text-xl font-semibold",children:"Producto no encontrado."})});const _=((N=y.variantes)==null?void 0:N.find(oe=>oe.color===m))||((V=y.variantes)==null?void 0:V[0]),P=t.find(oe=>oe.id===y.id),E=(P==null?void 0:P.cantidad)||0,k=()=>{if(!i){h(!0);return}P||e({...y,cantidad:1})},D=()=>{if(!i){h(!0);return}e(y)},F=()=>{if(!i){h(!0);return}r(y.id)},O=()=>{if(!i){h(!0);return}n(y.id)},B=(S=y.variantes)==null?void 0:S.filter(oe=>oe.color&&oe.color.trim()!==""),K=(_==null?void 0:_.cantidad)===void 0||(_==null?void 0:_.cantidad)>0,X=Number(y.precio)||0,R=[{id:y.id,nombre:y.nombre,precio:X,cantidad:1}];return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"vp-mobile-topbar",children:[d.jsx("button",{className:"vp-icon-btn",onClick:x,"aria-label":"Volver",children:d.jsx(nE,{})}),d.jsx("div",{className:"vp-topbar-title",title:y.nombre,children:y.nombre}),d.jsx("button",{className:"vp-icon-btn",onClick:x,"aria-label":"Cerrar",children:d.jsx(m7,{})})]}),d.jsxs("main",{className:"min-h-screen bg-white px-3 sm:px-4 pb-16 pt-16 lg:pt-20 text-gray-800 flex flex-col items-center overflow-visible",children:[d.jsxs("section",{className:"max-w-7xl w-full flex flex-col lg:flex-row gap-8 lg:gap-12 overflow-visible",children:[d.jsxs(ye.div,{className:"relative flex flex-col items-center w-full lg:w-1/2 overflow-visible",children:[d.jsx("div",{className:"absolute right-2 top-2 z-10"}),d.jsx("button",{onClick:x,"aria-label":"Volver",className:"vp-back-fab",children:d.jsx(nE,{})}),d.jsx(pF,{imagenes:(M=_==null?void 0:_.imagenes)!=null&&M.length?_.imagenes:y.imagenes||[y.imagen],imagenPrincipalClassName:"max-h-[420px] min-h-[260px] w-auto",miniaturaClassName:"w-16 h-16 sm:w-20 sm:h-20"}),B&&B.length>1&&d.jsx("div",{className:"vp-variants",children:B.map((oe,Pe)=>{const Ae=m?m===oe.color:Pe===0;return d.jsxs("button",{onClick:()=>g(oe.color),className:`vp-variant-chip ${Ae?"is-active":""}`,children:[d.jsx("img",{src:oe.imagen,alt:oe.color,className:"vp-variant-thumb"}),d.jsx("span",{className:"vp-variant-label",children:oe.color})]},Pe)})})]}),d.jsxs(ye.div,{className:"flex flex-col gap-4 sm:gap-5 w-full lg:w-1/2 overflow-visible",children:[d.jsx("h1",{className:"vp-title",children:y.nombre}),d.jsx("p",{className:"vp-desc",children:y.descripcion||"Contctanos para ms detalles."}),d.jsxs("p",{className:"vp-price",children:["DOP ",cE(X)]}),d.jsxs("div",{className:"lg:hidden flex flex-col gap-3 overflow-visible",children:[(_==null?void 0:_.cantidad)!==void 0&&d.jsx("div",{className:`vp-stock ${_.cantidad===0?"vp-stock-out":_.cantidad<=2?"vp-stock-low":"vp-stock-ok"}`,children:_.cantidad===0?"No disponible":`Quedan ${_.cantidad} disponibles`}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 overflow-visible",children:[P?d.jsxs("div",{className:"vp-qty-row w-full sm:w-1/2",children:[d.jsx("button",{onClick:F,className:"vp-qty-btn",children:""}),d.jsx("span",{className:"vp-qty",children:E}),d.jsx("button",{onClick:D,className:"vp-qty-btn",children:"+"}),d.jsx("button",{onClick:O,className:"vp-remove",children:d.jsx(rE,{})})]}):d.jsx("button",{className:"button w-full sm:w-1/2",onClick:k,disabled:!K,children:"Agregar al carrito"}),d.jsx("div",{className:"w-full sm:w-1/2",onClick:()=>uE("single",R,X),children:d.jsx(my,{className:"w-full",total:X*100,label:"Comprar ahora"})})]})]}),y.acerca&&d.jsxs("div",{children:[d.jsx("h3",{className:"vp-subtitle",children:"Acerca de este artculo"}),d.jsx("ul",{className:"vp-bullets",children:y.acerca.map((oe,Pe)=>d.jsx("li",{children:oe},Pe))})]})]}),d.jsx("aside",{className:"vp-buy-card w-full lg:w-[360px] hidden lg:block",children:d.jsxs("div",{className:"vp-buy-inner",children:[d.jsxs("div",{className:"vp-buy-price",children:["DOP ",cE(X)]}),(_==null?void 0:_.cantidad)!==void 0&&d.jsx("div",{className:`vp-stock ${_.cantidad===0?"vp-stock-out":_.cantidad<=2?"vp-stock-low":"vp-stock-ok"}`,children:_.cantidad===0?"No disponible":`Quedan ${_.cantidad} disponibles`}),d.jsxs("div",{className:"flex flex-col gap-3",children:[P?d.jsxs("div",{className:"vp-qty-row",children:[d.jsx("button",{onClick:F,className:"vp-qty-btn",children:""}),d.jsx("span",{className:"vp-qty",children:E}),d.jsx("button",{onClick:D,className:"vp-qty-btn",children:"+"}),d.jsx("button",{onClick:O,className:"vp-remove",children:d.jsx(rE,{})})]}):d.jsx("button",{className:"button w-full",onClick:k,disabled:!K,children:"Agregar al carrito"}),d.jsx("div",{onClick:()=>uE("single",R,X),children:d.jsx(my,{className:"w-full",total:X*100,label:"Comprar ahora"})})]})]})})]}),d.jsx("div",{className:"max-w-7xl w-full mt-10",children:d.jsx(gF,{productoActual:y,productosPorCategoria:Vi,onProductoClick:oe=>l(`/producto/${oe}`)})}),d.jsxs("section",{className:"max-w-7xl w-full mt-12 px-1 sm:px-2",children:[d.jsx("h2",{className:"vp-section-title",children:"Ms Informacin del Producto"}),((U=y.videoUrls)==null?void 0:U.length)>0?d.jsx("div",{className:"vp-video-carousel",children:y.videoUrls.map((oe,Pe)=>d.jsx("div",{className:"vp-video-card",children:d.jsx("video",{src:oe,controls:!0,className:"vp-video",preload:"metadata"})},Pe))}):y.videoUrl?d.jsx("div",{className:"vp-video-single",children:d.jsx("video",{src:y.videoUrl,controls:!0,className:"vp-video",preload:"metadata"})}):null,((j=y.imagenesExtra)==null?void 0:j.length)>0&&d.jsx("div",{className:"vp-extras-grid",children:y.imagenesExtra.slice(0,3).map((oe,Pe)=>d.jsx("img",{src:oe,alt:`Vista extra ${Pe+1}`,className:"vp-extra-img"},Pe))})]})]}),d.jsx(pd,{isOpen:u,onClose:()=>h(!1)})]})}function dE(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function xF(t){var n,r;let e=null;for(const i of Vi){const a=i.productos.find(l=>l.id===t.id);if(a){e=a;break}}return e?typeof e.cantidad=="number"?e.cantidad:((r=(n=e.variantes)==null?void 0:n[0])==null?void 0:r.cantidad)!==void 0?e.variantes[0].cantidad:Number.POSITIVE_INFINITY:Number.POSITIVE_INFINITY}function wF(t,e){try{const n={mode:"cart",items:t,total:e,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(n))}catch{}}function bF(){const{carrito:t,agregarAlCarrito:e,eliminarUnidadDelCarrito:n,quitarDelCarrito:r}=md(),i=fr(),a=t.reduce((u,h)=>u+(Number(h.precio)||0)*h.cantidad,0),l=t.map(u=>({id:u.id,nombre:u.nombre,precio:Number(u.precio)||0,cantidad:u.cantidad}));return d.jsxs("main",{className:"carrito-page",children:[d.jsx("h1",{className:"carrito-title",children:"Mi Carrito"}),t.length===0?d.jsx("p",{className:"carrito-empty",children:"Tu carrito est vaco."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"carrito-grid",children:t.map(u=>{var m;const h=xF(u);return d.jsxs("div",{className:"carrito-card",onClick:()=>i(`/producto/${u.id}`),children:[d.jsx("img",{src:u.imagen||((m=u.imagenes)==null?void 0:m[0]),alt:u.nombre,className:"carrito-img"}),d.jsxs("div",{className:"carrito-info",children:[d.jsx("h2",{className:"carrito-nombre",children:u.nombre}),d.jsx("p",{className:`carrito-stock ${h===0?"stock-out":h<=2?"stock-low":"stock-ok"}`,children:h===0?"No disponible":h<=2?`Casi agotado (${h})`:`Disponible (${h})`}),d.jsxs("div",{className:"carrito-actions",children:[d.jsx("button",{onClick:g=>{g.stopPropagation(),n(u.id)},className:"vp-qty-btn",children:""}),d.jsx("span",{className:"vp-qty",children:u.cantidad}),d.jsx("button",{onClick:g=>{if(g.stopPropagation(),u.cantidad<h){let y=null;for(const x of Vi){const _=x.productos.find(P=>P.id===u.id);if(_){y=_;break}}y&&e(y)}},className:"vp-qty-btn",disabled:u.cantidad>=h,children:"+"}),d.jsx("button",{onClick:g=>{g.stopPropagation(),r(u.id)},className:"vp-remove",title:"Quitar",children:d.jsx(jk,{})})]})]}),d.jsxs("div",{className:"carrito-subtotal",children:["DOP ",dE((Number(u.precio)||0)*u.cantidad)]})]},u.id)})}),d.jsx("div",{className:"carrito-footer",children:d.jsx("div",{className:"carrito-pay-btn w-full",onClick:()=>wF(l,a),children:d.jsx(my,{className:"carrito-pay-btn w-full",label:`Proceder al pago  DOP ${dE(a)}`,total:a*100})})})]})]})}function Uk(){return d.jsx("div",{className:"waves-container"})}function _F(){return d.jsxs("div",{className:"relative min-h-screen flex flex-col items-center px-4 sm:px-8 pt-12 pb-20 font-sans text-gray-800 bg-transparent overflow-hidden",children:[d.jsx(Uk,{}),d.jsx("h1",{className:"text-2xl sm:text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"CONTCTANOS"}),d.jsx("h2",{className:"text-lg sm:text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),d.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-4 sm:gap-6 text-sm sm:text-lg z-10 px-4 py-4 sm:px-8 sm:py-6",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[d.jsx("img",{src:"/toy/asoma.png",alt:"Mueco asomndose",className:"hidden sm:block absolute z-20 pointer-events-none w-[300px]",style:{top:"-160px",right:"-80px",height:"auto"}}),d.jsx(Qh,{icon:d.jsx(fd,{}),label:"Direccin",text:"Av. Estrella Sadhal #55, Santiago, Repblica Dominicana"}),d.jsx(Qh,{icon:d.jsx(rp,{}),label:"Telfono Tienda",text:"+1 (849)-635-7000"}),d.jsx(Qh,{icon:d.jsx(rp,{}),label:"Telfono Internet",text:"+1 (809)-582-1212"}),d.jsx(Qh,{icon:d.jsx(x1,{}),label:"Correo",text:"playcenter121@gmail.com"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center mt-4 w-full",children:[d.jsx(hE,{href:"https://wa.me/18496357000",text:"WhatsApp Tienda"}),d.jsx(hE,{href:"https://wa.me/18095821212",text:"WhatsApp Internet"})]})]})]})}const Qh=({icon:t,label:e,text:n})=>d.jsxs("div",{className:"flex items-start gap-3 w-full z-10",children:[d.jsx("div",{className:"text-xl sm:text-2xl text-gray-400",children:t}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold text-sm sm:text-base text-gray-700",children:[e,":"]}),d.jsx("p",{className:"text-gray-600 text-sm sm:text-base break-words",children:n})]})]}),hE=({href:t,text:e})=>d.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 sm:gap-3 px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-bold rounded-xl transition-transform z-10 w-full sm:w-auto",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",n.currentTarget.style.transform="scale(1.05)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",n.currentTarget.style.transform="scale(1)"},children:[d.jsx(np,{className:"text-lg sm:text-xl text-cyan-500"}),e]});function EF(){return d.jsxs("div",{className:`relative min-h-screen flex flex-col items-center px-4 pt-12 pb-20 font-sans text-gray-800
                 bg-transparent overflow-hidden`,children:[d.jsx(Uk,{}),d.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"NOSOTROS"}),d.jsx("h2",{className:"text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),d.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-6 text-lg z-10",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",padding:"2rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[d.jsx("img",{src:"/toy/asoman.png",alt:"Mueco asomndose",className:"hidden lg:block absolute z-20",style:{top:"-160px",right:"-230px",width:"300px",height:"auto"}}),d.jsx(a0,{icon:d.jsx(a7,{className:"text-yellow-400"}),label:"Quines somos",text:"Somos una empresa dominicana ubicada en Santiago, especializada en brindar lo ltimo en tecnologa, innovacin y productos para el estilo de vida moderno."}),d.jsx(a0,{icon:d.jsx(f7,{className:"text-cyan-500"}),label:"Nuestra misin",text:"Superar las expectativas de nuestros clientes ofreciendo artculos de calidad como consolas, videojuegos, tablets, mviles, accesorios y ms, con un servicio humano, eficiente y profesional."}),d.jsx(a0,{icon:d.jsx(fd,{className:"text-green-500"}),label:"Nuestro compromiso",text:"PlayCenter Universal no solo vende productos, crea experiencias memorables con cada compra. Gracias por confiar en nosotros!"}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsxs(Qe,{to:"/contacto",className:`flex items-center gap-3 px-6 py-3 text-base font-bold
                       rounded-xl transition-transform z-10 animate-fade-in`,style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",t.currentTarget.style.transform="scale(1.05)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",t.currentTarget.style.transform="scale(1)"},children:[d.jsx(fy,{className:"text-xl text-cyan-500"}),"Contctanos"]})})]})]})}const a0=({icon:t,label:e,text:n})=>d.jsxs("div",{className:"flex items-start gap-4 w-full z-10",children:[d.jsx("div",{className:"text-2xl text-gray-400",children:t}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold text-gray-700",children:[e,":"]}),d.jsx("p",{className:"text-gray-600 break-words",children:n})]})]}),SF=[{id:1,nombre:"Audfonos Sony WH-1000XM5",imagen:"/products/sony-wh1000xm5.png",precio:349.99,descripcion:"Cancelacin de ruido lder, hasta 30h de batera, diseo premium."},{id:2,nombre:"AirPods Pro 2da Gen",imagen:"/products/airpods-pro-2.png",precio:249.99,descripcion:"Audio espacial personalizado, chip H2 de Apple, resistente al agua."}];function TF(){const{id:t}=Ay(),e=SF.find(n=>n.id===parseInt(t));return e?d.jsxs("div",{className:"pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",children:[d.jsx("div",{className:"w-full lg:w-1/2 flex justify-center",children:d.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow"})}),d.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.nombre}),d.jsx("p",{className:"text-gray-700 text-lg",children:e.descripcion}),d.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",e.precio]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",children:"Agregar al carrito"}),d.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",children:"Aadir a favoritos "})]})]})]}):d.jsx("div",{className:"pt-24 text-center text-red-600 font-semibold",children:"Producto no encontrado"})}function l0(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").trim()}function PF(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function Bk({producto:t}){var F;const{carrito:e,agregarAlCarrito:n,eliminarUnidadDelCarrito:r,quitarDelCarrito:i}=md(),{usuario:a}=Nr(),{abrirModal:l}=ac(),u=fr(),[h,m]=A.useState(!1),g=t.cantidad===void 0||t.cantidad>0,y=e.find(O=>O.id===t.id),x=(y==null?void 0:y.cantidad)||0,_=O=>{if(O.stopPropagation(),!a){m(!0);return}y||n({...t,cantidad:1})},P=O=>{if(O.stopPropagation(),!a){m(!0);return}(t.cantidad===void 0||x<t.cantidad)&&n(t)},E=O=>{if(O.stopPropagation(),!a){m(!0);return}r(t.id)},k=O=>{if(O.stopPropagation(),!a){m(!0);return}i(t.id)},D=()=>{u(`/producto/${t.id}`,{state:{producto:t}})};return d.jsx(d.Fragment,{children:d.jsxs("div",{onClick:O=>{O.target.closest("button")||D()},className:"tarjeta-producto group",children:[d.jsx("div",{className:"tarjeta-img-zone",children:d.jsx("img",{src:t.imagen||((F=t.imagenes)==null?void 0:F[0]),alt:t.nombre,className:"tarjeta-img"})}),d.jsxs("div",{className:"tarjeta-info-zone",children:[d.jsx("h2",{className:"tarjeta-nombre",children:t.nombre}),d.jsx("p",{className:"tarjeta-descripcion",children:t.descripcion||"Descripcin del producto."}),d.jsxs("p",{className:"tarjeta-precio",children:[PF(t.precio)," DOP"]}),d.jsx("div",{className:"botones-wrapper",children:y?d.jsxs("div",{className:"flex items-center gap-2 justify-center w-full",children:[d.jsx("button",{onClick:E,className:"carrito-btn",children:""}),d.jsx("span",{className:"font-semibold text-lg",children:x}),d.jsx("button",{onClick:P,className:"carrito-btn",disabled:t.cantidad!==void 0&&x>=t.cantidad,children:"+"}),d.jsx("button",{onClick:k,className:"ml-2 text-red-600 hover:text-red-700 font-semibold transition carrito-quitar",title:"Quitar",children:d.jsx(jk,{})})]}):d.jsxs("button",{onClick:_,className:"carrito-main-btn w-full flex items-center justify-center gap-2",disabled:!g,children:[d.jsx(Ik,{size:16})," Agregar al carrito"]})}),d.jsx(pd,{isOpen:h,onClose:()=>m(!1),onIniciarSesion:()=>{m(!1),l()}})]})]})})}function $k(){return d.jsxs("div",{className:"wave-background",children:[d.jsx("div",{className:"wave wave1"}),d.jsx("div",{className:"wave wave2"}),d.jsx("div",{className:"wave wave3"})]})}const fE=[{nombre:"Todos",ruta:""},{nombre:"Videojuegos",ruta:"videojuegos"},{nombre:"Accesorios Videojuegos",ruta:"AccesoriosVideojuegos"},{nombre:"Consolas",ruta:"consolas"},{nombre:"Retro Consolas",ruta:"retro-consolas"},{nombre:"Coleccionables",ruta:"coleccionables"},{nombre:"Retro Juegos",ruta:"retro-juegos"},{nombre:"Controles",ruta:"controles"},{nombre:"Audfonos",ruta:"audifonos"},{nombre:"Teclados",ruta:"teclados"},{nombre:"Mouses",ruta:"mouses"},{nombre:"Laptops",ruta:"laptops"},{nombre:"Monitores",ruta:"monitores"},{nombre:"Memorias USB",ruta:"memorias-usb"},{nombre:"Tu Rincn Variado",ruta:"tu-rincon-variado"},{nombre:"Cables",ruta:"cables"},{nombre:"Cmaras",ruta:"camaras"},{nombre:"Cargadores",ruta:"cargadores"},{nombre:"Celulares",ruta:"celulares"},{nombre:"Discos Duros",ruta:"discos-duros"},{nombre:"Electrodomsticos",ruta:"electrodomesticos"},{nombre:"Gaming Chairs",ruta:"gaming-chairs"},{nombre:"Hogar Inteligente",ruta:"hogar-inteligente"},{nombre:"Impresoras",ruta:"impresoras"},{nombre:"Nuevos Lanzamientos",ruta:"nuevos-lanzamientos"},{nombre:"Ofertas Especiales",ruta:"ofertas-especiales"},{nombre:"Relojes Inteligentes",ruta:"relojes-inteligentes"},{nombre:"Smart TV",ruta:"smart-tv"},{nombre:"Tablets",ruta:"tablets"}],pE={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.2)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 4px rgba(60, 80, 120, 0.4)"}},CF={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.4)","0 0 10px rgba(80, 100, 140, 0.6)","0 0 4px rgba(80, 100, 140, 0.4)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function sp({categoriaActiva:t,mostrarEnMovil:e,setMostrarEnMovil:n}){const r=fr(),i=l=>{r(`/Productos/${l.ruta}`),n&&n(!1)},a=l=>l===t;return d.jsxs(d.Fragment,{children:[d.jsxs("aside",{className:"hidden lg:flex flex-col w-56 px-2 relative z-40",style:{height:"100vh",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Categoras",children:[d.jsx("div",{className:"absolute inset-0 z-0",style:{overflow:"visible",minHeight:"2000px",backgroundColor:"transparent",pointerEvents:"none"},children:d.jsx($k,{})}),d.jsxs("div",{className:"scrollbar-light relative z-10 flex-1",style:{overflowY:"auto",backgroundColor:"transparent",paddingRight:"0.25rem"},children:[d.jsx(ye.h2,{className:"text-lg font-semibold mb-4 text-center tracking-wide text-blue-700 select-none",variants:CF,animate:"animate",children:"Categoras"}),d.jsx("ul",{className:"space-y-2 text-sm",children:fE.map((l,u)=>d.jsx(ye.li,{whileHover:{scale:1.02},children:d.jsx(ye.button,{onClick:()=>i(l),initial:"initial",whileHover:"hover",whileTap:"tap",variants:pE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${a(l.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:l.nombre})},u))})]})]}),d.jsx(cr,{children:e&&d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{className:"fixed inset-0 bg-gray-200 bg-opacity-40 backdrop-blur-sm z-[9998]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1)}),d.jsxs(ye.nav,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",stiffness:250,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-gray-50 to-gray-100 border border-gray-300 z-[9999] flex flex-col shadow-md",children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[d.jsx("h2",{className:"text-lg font-semibold text-blue-700 tracking-wide select-none",children:"Categoras"}),d.jsx("button",{onClick:()=>n(!1),className:"text-red-500 font-bold text-2xl hover:text-red-700","aria-label":"Cerrar categoras",children:""})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto px-4 py-2 scrollbar-light",children:d.jsx("ul",{className:"space-y-2 text-sm",children:fE.map((l,u)=>d.jsx(ye.li,{whileHover:{scale:1.02},children:d.jsx(ye.button,{onClick:()=>i(l),initial:"initial",whileHover:"hover",whileTap:"tap",variants:pE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${a(l.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:l.nombre})},u))})})]})]})})]})}function zk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qi(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zk(t))&&(r&&(r+=" "),r+=e);return r}function Wk(t,e,n=void 0){const r={};for(const i in t){const a=t[i];let l="",u=!0;for(let h=0;h<a.length;h+=1){const m=a[h];m&&(l+=(u===!0?"":" ")+e(m),u=!1,n&&n[m]&&(l+=" "+n[m]))}r[i]=l}return r}function Ca(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Nl(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function w1(t,e=0,n=1){return Nl(t,e,n)}function kF(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ko(t){if(t.type)return t;if(t.charAt(0)==="#")return ko(kF(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ca(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ca(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const NF=t=>{const e=ko(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},lu=(t,e)=>{try{return NF(t)}catch{return t}};function Bp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Hk(t){t=ko(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),l=(m,g=(m+n/30)%12)=>i-a*Math.max(Math.min(g-3,9-g,1),-1);let u="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(u+="a",h.push(e[3])),Bp({type:u,values:h})}function gy(t){t=ko(t);let e=t.type==="hsl"||t.type==="hsla"?ko(Hk(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function AF(t,e){const n=gy(t),r=gy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function yy(t,e){return t=ko(t),e=w1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bp(t)}function Xh(t,e,n){try{return yy(t,e)}catch{return t}}function Hu(t,e){if(t=ko(t),e=w1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bp(t)}function pt(t,e,n){try{return Hu(t,e)}catch{return t}}function qu(t,e){if(t=ko(t),e=w1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bp(t)}function mt(t,e,n){try{return qu(t,e)}catch{return t}}function IF(t,e=.15){return gy(t)>.5?Hu(t,e):qu(t,e)}function Yh(t,e,n){try{return IF(t,e)}catch{return t}}const jF=A.createContext(),RF=()=>A.useContext(jF)??!1;function qk(...t){const e=A.useRef(void 0),n=A.useCallback(r=>{const i=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,u=l(r);return typeof u=="function"?u:()=>{l(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},t);return A.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function DF(t){return typeof t=="string"}function VF(t,e,n){return t===void 0||DF(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function bf(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function mE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function OF(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=t;if(!e){const _=qi(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),P={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},E={...n,...i,...r};return _.length>0&&(E.className=_),Object.keys(P).length>0&&(E.style=P),{props:E,internalRef:void 0}}const l=bf({...i,...r}),u=mE(r),h=mE(i),m=e(l),g=qi(m==null?void 0:m.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),y={...m==null?void 0:m.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...m,...n,...h,...u};return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:m.ref}}function MF(t,e,n){return typeof t=="function"?t(e,n):t}function to(t){var y;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=t,l=i?{}:MF(n,r),{props:u,internalRef:h}=OF({...a,externalSlotProps:l}),m=qk(h,l==null?void 0:l.ref,(y=t.additionalProps)==null?void 0:y.ref);return VF(e,{...u,ref:m},r)}function _f(t){return t&&t.ownerDocument||document}function LF(t){const{controlled:e,default:n}=t,{current:r}=A.useRef(e!==void 0),[i,a]=A.useState(n),l=r?e:i,u=A.useCallback(h=>{r||a(h)},[]);return[l,u]}const Gk=typeof window<"u"?A.useLayoutEffect:A.useEffect;function c0(t){const e=A.useRef(t);return Gk(()=>{e.current=t}),A.useRef((...n)=>(0,e.current)(...n)).current}function gE(t){try{return t.matches(":focus-visible")}catch{}return!1}const FF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function UF(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const BF=2;function xl(t,e,n,r,i){return n===1?Math.min(t+e,i):Math.max(t-e,r)}function Kk(t,e){return t-e}function yE(t,e){const{index:n}=t.reduce((r,i,a)=>{const l=Math.abs(e-i);return r===null||l<r.distance||l===r.distance?{distance:l,index:a}:r},null)??{};return n}function Jh(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function op(t,e,n){return(t-e)*100/(n-e)}function $F(t,e,n){return(n-e)*t+e}function zF(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function WF(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(zF(e)))}function vE({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(Kk)}function Zh({sliderRef:t,activeIndex:e,setActive:n}){var i,a,l;const r=_f(t.current);(!((i=t.current)!=null&&i.contains(r.activeElement))||Number((a=r==null?void 0:r.activeElement)==null?void 0:a.getAttribute("data-index"))!==e)&&((l=t.current)==null||l.querySelector(`[type="range"][data-index="${e}"]`).focus()),n&&n(e)}function ef(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?UF(t,e):!1}const HF={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},qF=t=>t;let tf;function xE(){return tf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?tf=CSS.supports("touch-action","none"):tf=!0),tf}function GF(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:a=!1,marks:l=!1,max:u=100,min:h=0,name:m,onChange:g,onChangeCommitted:y,orientation:x="horizontal",rootRef:_,scale:P=qF,step:E=1,shiftStep:k=10,tabIndex:D,value:F}=t,O=A.useRef(void 0),[B,K]=A.useState(-1),[X,R]=A.useState(-1),[N,V]=A.useState(!1),S=A.useRef(0),M=A.useRef(null),[U,j]=LF({controlled:F,default:n??h}),oe=g&&((le,H,ie)=>{const ke=le.nativeEvent||le,Be=new ke.constructor(ke.type,ke);Object.defineProperty(Be,"target",{writable:!0,value:{value:H,name:m}}),M.current=H,g(Be,H,ie)}),Pe=Array.isArray(U);let Ae=Pe?U.slice().sort(Kk):[U];Ae=Ae.map(le=>le==null?h:Nl(le,h,u));const Ee=l===!0&&E!==null?[...Array(Math.floor((u-h)/E)+1)].map((le,H)=>({value:h+E*H})):l||[],te=Ee.map(le=>le.value),[pe,ue]=A.useState(-1),z=A.useRef(null),Z=qk(_,z),we=le=>H=>{var ke;const ie=Number(H.currentTarget.getAttribute("data-index"));gE(H.target)&&ue(ie),R(ie),(ke=le==null?void 0:le.onFocus)==null||ke.call(le,H)},De=le=>H=>{var ie;gE(H.target)||ue(-1),R(-1),(ie=le==null?void 0:le.onBlur)==null||ie.call(le,H)},Ce=(le,H)=>{const ie=Number(le.currentTarget.getAttribute("data-index")),ke=Ae[ie],Be=te.indexOf(ke);let be=H;if(Ee&&E==null){const $e=te[te.length-1];be>=$e?be=$e:be<=te[0]?be=te[0]:be=be<ke?te[Be-1]:te[Be+1]}if(be=Nl(be,h,u),Pe){i&&(be=Nl(be,Ae[ie-1]||-1/0,Ae[ie+1]||1/0));const $e=be;be=vE({values:Ae,newValue:be,index:ie});let vt=ie;i||(vt=be.indexOf($e)),Zh({sliderRef:z,activeIndex:vt})}j(be),ue(ie),oe&&!ef(be,U)&&oe(le,be,ie),y&&y(le,M.current??be)},Ue=le=>H=>{var ie;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(H.key)){H.preventDefault();const ke=Number(H.currentTarget.getAttribute("data-index")),Be=Ae[ke];let be=null;if(E!=null){const $e=H.shiftKey?k:E;switch(H.key){case"ArrowUp":be=xl(Be,$e,1,h,u);break;case"ArrowRight":be=xl(Be,$e,a?-1:1,h,u);break;case"ArrowDown":be=xl(Be,$e,-1,h,u);break;case"ArrowLeft":be=xl(Be,$e,a?1:-1,h,u);break;case"PageUp":be=xl(Be,k,1,h,u);break;case"PageDown":be=xl(Be,k,-1,h,u);break;case"Home":be=h;break;case"End":be=u;break}}else if(Ee){const $e=te[te.length-1],vt=te.indexOf(Be),_t=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],pn=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];_t.includes(H.key)?vt===0?be=te[0]:be=te[vt-1]:pn.includes(H.key)&&(vt===te.length-1?be=$e:be=te[vt+1])}be!=null&&Ce(H,be)}(ie=le==null?void 0:le.onKeyDown)==null||ie.call(le,H)};Gk(()=>{var le;r&&z.current.contains(document.activeElement)&&((le=document.activeElement)==null||le.blur())},[r]),r&&B!==-1&&K(-1),r&&pe!==-1&&ue(-1);const Ie=le=>H=>{var ie;(ie=le.onChange)==null||ie.call(le,H),Ce(H,H.target.valueAsNumber)},Le=A.useRef(void 0);let We=x;a&&x==="horizontal"&&(We+="-reverse");const it=({finger:le,move:H=!1})=>{const{current:ie}=z,{width:ke,height:Be,bottom:be,left:$e}=ie.getBoundingClientRect();let vt;We.startsWith("vertical")?vt=(be-le.y)/Be:vt=(le.x-$e)/ke,We.includes("-reverse")&&(vt=1-vt);let _t;if(_t=$F(vt,h,u),E)_t=WF(_t,E,h);else{const Kr=yE(te,_t);_t=te[Kr]}_t=Nl(_t,h,u);let pn=0;if(Pe){H?pn=Le.current:pn=yE(Ae,_t),i&&(_t=Nl(_t,Ae[pn-1]||-1/0,Ae[pn+1]||1/0));const Kr=_t;_t=vE({values:Ae,newValue:_t,index:pn}),i&&H||(pn=_t.indexOf(Kr),Le.current=pn)}return{newValue:_t,activeIndex:pn}},Gt=c0(le=>{const H=Jh(le,O);if(!H)return;if(S.current+=1,le.type==="mousemove"&&le.buttons===0){Pt(le);return}const{newValue:ie,activeIndex:ke}=it({finger:H,move:!0});Zh({sliderRef:z,activeIndex:ke,setActive:K}),j(ie),!N&&S.current>BF&&V(!0),oe&&!ef(ie,U)&&oe(le,ie,ke)}),Pt=c0(le=>{const H=Jh(le,O);if(V(!1),!H)return;const{newValue:ie}=it({finger:H,move:!0});K(-1),le.type==="touchend"&&R(-1),y&&y(le,M.current??ie),O.current=void 0,en()}),st=c0(le=>{if(r)return;xE()||le.preventDefault();const H=le.changedTouches[0];H!=null&&(O.current=H.identifier);const ie=Jh(le,O);if(ie!==!1){const{newValue:Be,activeIndex:be}=it({finger:ie});Zh({sliderRef:z,activeIndex:be,setActive:K}),j(Be),oe&&!ef(Be,U)&&oe(le,Be,be)}S.current=0;const ke=_f(z.current);ke.addEventListener("touchmove",Gt,{passive:!0}),ke.addEventListener("touchend",Pt,{passive:!0})}),en=A.useCallback(()=>{const le=_f(z.current);le.removeEventListener("mousemove",Gt),le.removeEventListener("mouseup",Pt),le.removeEventListener("touchmove",Gt),le.removeEventListener("touchend",Pt)},[Pt,Gt]);A.useEffect(()=>{const{current:le}=z;return le.addEventListener("touchstart",st,{passive:xE()}),()=>{le.removeEventListener("touchstart",st),en()}},[en,st]),A.useEffect(()=>{r&&en()},[r,en]);const wn=le=>H=>{var Be;if((Be=le.onMouseDown)==null||Be.call(le,H),r||H.defaultPrevented||H.button!==0)return;H.preventDefault();const ie=Jh(H,O);if(ie!==!1){const{newValue:be,activeIndex:$e}=it({finger:ie});Zh({sliderRef:z,activeIndex:$e,setActive:K}),j(be),oe&&!ef(be,U)&&oe(H,be,$e)}S.current=0;const ke=_f(z.current);ke.addEventListener("mousemove",Gt,{passive:!0}),ke.addEventListener("mouseup",Pt)},Kn=op(Pe?Ae[0]:h,h,u),gt=op(Ae[Ae.length-1],h,u)-Kn,de=(le={})=>{const H=bf(le),ie={onMouseDown:wn(H||{})},ke={...H,...ie};return{...le,ref:Z,...ke}},qe=le=>H=>{var ke;(ke=le.onMouseOver)==null||ke.call(le,H);const ie=Number(H.currentTarget.getAttribute("data-index"));R(ie)},tt=le=>H=>{var ie;(ie=le.onMouseLeave)==null||ie.call(le,H),R(-1)},Lt=(le={})=>{const H=bf(le),ie={onMouseOver:qe(H||{}),onMouseLeave:tt(H||{})};return{...le,...H,...ie}},yt=le=>({pointerEvents:B!==-1&&B!==le?"none":void 0});let fn;return x==="vertical"&&(fn=a?"vertical-rl":"vertical-lr"),{active:B,axis:We,axisProps:HF,dragging:N,focusedThumbIndex:pe,getHiddenInputProps:(le={})=>{const H=bf(le),ie={onChange:Ie(H||{}),onFocus:we(H||{}),onBlur:De(H||{}),onKeyDown:Ue(H||{})},ke={...H,...ie};return{tabIndex:D,"aria-labelledby":e,"aria-orientation":x,"aria-valuemax":P(u),"aria-valuemin":P(h),name:m,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...le,...ke,style:{...FF,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:fn}}},getRootProps:de,getThumbProps:Lt,marks:Ee,open:X,range:Pe,rootRef:Z,trackLeap:gt,trackOffset:Kn,values:Ae,getThumbStyle:yt}}function Ef(t){return typeof t=="string"}function Pr(t){if(typeof t!="string")throw new Error(Ca(7));return t.charAt(0).toUpperCase()+t.slice(1)}var u0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function KF(){if(wE)return ht;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function P(E){if(typeof E=="object"&&E!==null){var k=E.$$typeof;switch(k){case t:switch(E=E.type,E){case n:case i:case r:case h:case m:case x:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case y:case g:return E;case a:return E;default:return k}}case e:return k}}}return ht.ContextConsumer=a,ht.ContextProvider=l,ht.Element=t,ht.ForwardRef=u,ht.Fragment=n,ht.Lazy=y,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=h,ht.SuspenseList=m,ht.isContextConsumer=function(E){return P(E)===a},ht.isContextProvider=function(E){return P(E)===l},ht.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},ht.isForwardRef=function(E){return P(E)===u},ht.isFragment=function(E){return P(E)===n},ht.isLazy=function(E){return P(E)===y},ht.isMemo=function(E){return P(E)===g},ht.isPortal=function(E){return P(E)===e},ht.isProfiler=function(E){return P(E)===i},ht.isStrictMode=function(E){return P(E)===r},ht.isSuspense=function(E){return P(E)===h},ht.isSuspenseList=function(E){return P(E)===m},ht.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===h||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===y||E.$$typeof===g||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},ht.typeOf=P,ht}var bE;function QF(){return bE||(bE=1,u0.exports=KF()),u0.exports}var Qk=QF();function ji(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Xk(t){if(A.isValidElement(t)||Qk.isValidElementType(t)||!ji(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Xk(t[n])}),e}function Cr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ji(t)&&ji(e)&&Object.keys(e).forEach(i=>{A.isValidElement(e[i])||Qk.isValidElementType(e[i])?r[i]=e[i]:ji(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ji(t[i])?r[i]=Cr(t[i],e[i],n):n.clone?r[i]=ji(e[i])?Xk(e[i]):e[i]:r[i]=e[i]}),r}function Eu(t,e){return e?Cr(t,e,{clone:!1}):t}function _E(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const a=/min-width:\s*([0-9.]+)/;return+(((l=r.match(a))==null?void 0:l[1])||0)-+(((u=i.match(a))==null?void 0:u[1])||0)});return n.length?n.reduce((r,i)=>{const a=e[i];return delete r[i],r[i]=a,r},{...e}):e}function XF(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function YF(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(a)}function JF(t){const e=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function n(a,l){a.up=(...u)=>e(t.breakpoints.up(...u),l),a.down=(...u)=>e(t.breakpoints.down(...u),l),a.between=(...u)=>e(t.breakpoints.between(...u),l),a.only=(...u)=>e(t.breakpoints.only(...u),l),a.not=(...u)=>{const h=e(t.breakpoints.not(...u),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},i=a=>(n(r,a),r);return n(i),{...t,containerQueries:i}}const $p={xs:0,sm:600,md:900,lg:1200,xl:1536},EE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${$p[t]}px)`},ZF={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:$p[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Cs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||EE;return e.reduce((l,u,h)=>(l[a.up(a.keys[h])]=n(e[h]),l),{})}if(typeof e=="object"){const a=r.breakpoints||EE;return Object.keys(e).reduce((l,u)=>{if(XF(a.keys,u)){const h=YF(r.containerQueries?r:ZF,u);h&&(l[h]=n(e[u],u))}else if(Object.keys(a.values||$p).includes(u)){const h=a.up(u);l[h]=n(e[u],u)}else{const h=u;l[h]=e[h]}return l},{})}return n(e)}function eU(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const a=t.up(i);return r[a]={},r},{}))||{}}function SE(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function zp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function ap(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=zp(t,n)||r,e&&(i=e(i,r,t)),i}function Zt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,a=l=>{if(l[e]==null)return null;const u=l[e],h=l.theme,m=zp(h,r)||{};return Cs(l,u,y=>{let x=ap(m,i,y);return y===x&&typeof y=="string"&&(x=ap(m,i,`${e}${y==="default"?"":Pr(y)}`,y)),n===!1?x:{[n]:x}})};return a.propTypes={},a.filterProps=[e],a}function tU(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const nU={m:"margin",p:"padding"},rU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},iU=tU(t=>{if(t.length>2)if(TE[t])t=TE[t];else return[t];const[e,n]=t.split(""),r=nU[e],i=rU[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),b1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...b1,..._1];function gd(t,e,n,r){const i=zp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),u=i[l];return a>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function E1(t){return gd(t,"spacing",8)}function yd(t,e){return typeof e=="string"||e==null?e:t(e)}function sU(t,e){return n=>t.reduce((r,i)=>(r[i]=yd(e,n),r),{})}function oU(t,e,n,r){if(!e.includes(n))return null;const i=iU(n),a=sU(i,r),l=t[n];return Cs(t,l,a)}function Yk(t,e){const n=E1(t.theme);return Object.keys(t).map(r=>oU(t,e,r,n)).reduce(Eu,{})}function Ut(t){return Yk(t,b1)}Ut.propTypes={};Ut.filterProps=b1;function Bt(t){return Yk(t,_1)}Bt.propTypes={};Bt.filterProps=_1;function Wp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>e[a]?Eu(i,e[a](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function $r(t){return typeof t!="number"?t:`${t}px solid`}function Gr(t,e){return Zt({prop:t,themeKey:"borders",transform:e})}const aU=Gr("border",$r),lU=Gr("borderTop",$r),cU=Gr("borderRight",$r),uU=Gr("borderBottom",$r),dU=Gr("borderLeft",$r),hU=Gr("borderColor"),fU=Gr("borderTopColor"),pU=Gr("borderRightColor"),mU=Gr("borderBottomColor"),gU=Gr("borderLeftColor"),yU=Gr("outline",$r),vU=Gr("outlineColor"),Hp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=gd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:yd(e,r)});return Cs(t,t.borderRadius,n)}return null};Hp.propTypes={};Hp.filterProps=["borderRadius"];Wp(aU,lU,cU,uU,dU,hU,fU,pU,mU,gU,Hp,yU,vU);const qp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=gd(t.theme,"spacing",8),n=r=>({gap:yd(e,r)});return Cs(t,t.gap,n)}return null};qp.propTypes={};qp.filterProps=["gap"];const Gp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=gd(t.theme,"spacing",8),n=r=>({columnGap:yd(e,r)});return Cs(t,t.columnGap,n)}return null};Gp.propTypes={};Gp.filterProps=["columnGap"];const Kp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=gd(t.theme,"spacing",8),n=r=>({rowGap:yd(e,r)});return Cs(t,t.rowGap,n)}return null};Kp.propTypes={};Kp.filterProps=["rowGap"];const xU=Zt({prop:"gridColumn"}),wU=Zt({prop:"gridRow"}),bU=Zt({prop:"gridAutoFlow"}),_U=Zt({prop:"gridAutoColumns"}),EU=Zt({prop:"gridAutoRows"}),SU=Zt({prop:"gridTemplateColumns"}),TU=Zt({prop:"gridTemplateRows"}),PU=Zt({prop:"gridTemplateAreas"}),CU=Zt({prop:"gridArea"});Wp(qp,Gp,Kp,xU,wU,bU,_U,EU,SU,TU,PU,CU);function $l(t,e){return e==="grey"?e:t}const kU=Zt({prop:"color",themeKey:"palette",transform:$l}),NU=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$l}),AU=Zt({prop:"backgroundColor",themeKey:"palette",transform:$l});Wp(kU,NU,AU);function Er(t){return t<=1&&t!==0?`${t*100}%`:t}const IU=Zt({prop:"width",transform:Er}),S1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,a,l,u,h;const r=((l=(a=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:l[n])||$p[n];return r?((h=(u=t.theme)==null?void 0:u.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Er(n)}};return Cs(t,t.maxWidth,e)}return null};S1.filterProps=["maxWidth"];const jU=Zt({prop:"minWidth",transform:Er}),RU=Zt({prop:"height",transform:Er}),DU=Zt({prop:"maxHeight",transform:Er}),VU=Zt({prop:"minHeight",transform:Er});Zt({prop:"size",cssProperty:"width",transform:Er});Zt({prop:"size",cssProperty:"height",transform:Er});const OU=Zt({prop:"boxSizing"});Wp(IU,S1,jU,RU,DU,VU,OU);const vd={border:{themeKey:"borders",transform:$r},borderTop:{themeKey:"borders",transform:$r},borderRight:{themeKey:"borders",transform:$r},borderBottom:{themeKey:"borders",transform:$r},borderLeft:{themeKey:"borders",transform:$r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hp},color:{themeKey:"palette",transform:$l},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$l},backgroundColor:{themeKey:"palette",transform:$l},p:{style:Bt},pt:{style:Bt},pr:{style:Bt},pb:{style:Bt},pl:{style:Bt},px:{style:Bt},py:{style:Bt},padding:{style:Bt},paddingTop:{style:Bt},paddingRight:{style:Bt},paddingBottom:{style:Bt},paddingLeft:{style:Bt},paddingX:{style:Bt},paddingY:{style:Bt},paddingInline:{style:Bt},paddingInlineStart:{style:Bt},paddingInlineEnd:{style:Bt},paddingBlock:{style:Bt},paddingBlockStart:{style:Bt},paddingBlockEnd:{style:Bt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qp},rowGap:{style:Kp},columnGap:{style:Gp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Er},maxWidth:{style:S1},minWidth:{transform:Er},height:{transform:Er},maxHeight:{transform:Er},minHeight:{transform:Er},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function MU(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function LU(t,e){return typeof t=="function"?t(e):t}function FU(){function t(n,r,i,a){const l={[n]:r,theme:i},u=a[n];if(!u)return{[n]:r};const{cssProperty:h=n,themeKey:m,transform:g,style:y}=u;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const x=zp(i,m)||{};return y?y(l):Cs(l,r,P=>{let E=ap(x,g,P);return P===E&&typeof P=="string"&&(E=ap(x,g,`${n}${P==="default"?"":Pr(P)}`,P)),h===!1?E:{[h]:E}})}function e(n){const{sx:r,theme:i={},nested:a}=n||{};if(!r)return null;const l=i.unstable_sxConfig??vd;function u(h){let m=h;if(typeof h=="function")m=h(i);else if(typeof h!="object")return h;if(!m)return null;const g=eU(i.breakpoints),y=Object.keys(g);let x=g;return Object.keys(m).forEach(_=>{const P=LU(m[_],i);if(P!=null)if(typeof P=="object")if(l[_])x=Eu(x,t(_,P,i,l));else{const E=Cs({theme:i},P,k=>({[_]:k}));MU(E,P)?x[_]=e({sx:P,theme:i,nested:!0}):x=Eu(x,E)}else x=Eu(x,t(_,P,i,l))}),!a&&i.modularCssLayers?{"@layer sx":_E(i,SE(y,x))}:_E(i,SE(y,x))}return Array.isArray(r)?r.map(u):u(r)}return e}const ka=FU();ka.filterProps=["sx"];const UU=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??vd;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function Jk(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=UU(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...l)=>{const u=e(...l);return ji(u)?{...r,...u}:r}:a={...r,...e},{...i,sx:a}}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(null,arguments)}function BU(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $U(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var zU=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($U(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=BU(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Mn="-ms-",lp="-moz-",lt="-webkit-",Zk="comm",T1="rule",P1="decl",WU="@import",eN="@keyframes",HU="@layer",qU=Math.abs,Qp=String.fromCharCode,GU=Object.assign;function KU(t,e){return kn(t,0)^45?(((e<<2^kn(t,0))<<2^kn(t,1))<<2^kn(t,2))<<2^kn(t,3):0}function tN(t){return t.trim()}function QU(t,e){return(t=e.exec(t))?t[0]:t}function ct(t,e,n){return t.replace(e,n)}function xy(t,e){return t.indexOf(e)}function kn(t,e){return t.charCodeAt(e)|0}function Gu(t,e,n){return t.slice(e,n)}function Ai(t){return t.length}function C1(t){return t.length}function nf(t,e){return e.push(t),t}function XU(t,e){return t.map(e).join("")}var Xp=1,Jl=1,nN=0,hr=0,on=0,dc="";function Yp(t,e,n,r,i,a,l){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:Xp,column:Jl,length:l,return:""}}function Zc(t,e){return GU(Yp("",null,null,"",null,null,0),t,{length:-t.length},e)}function YU(){return on}function JU(){return on=hr>0?kn(dc,--hr):0,Jl--,on===10&&(Jl=1,Xp--),on}function kr(){return on=hr<nN?kn(dc,hr++):0,Jl++,on===10&&(Jl=1,Xp++),on}function Gi(){return kn(dc,hr)}function Sf(){return hr}function xd(t,e){return Gu(dc,t,e)}function Ku(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rN(t){return Xp=Jl=1,nN=Ai(dc=t),hr=0,[]}function iN(t){return dc="",t}function Tf(t){return tN(xd(hr-1,wy(t===91?t+2:t===40?t+1:t)))}function ZU(t){for(;(on=Gi())&&on<33;)kr();return Ku(t)>2||Ku(on)>3?"":" "}function eB(t,e){for(;--e&&kr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return xd(t,Sf()+(e<6&&Gi()==32&&kr()==32))}function wy(t){for(;kr();)switch(on){case t:return hr;case 34:case 39:t!==34&&t!==39&&wy(on);break;case 40:t===41&&wy(t);break;case 92:kr();break}return hr}function tB(t,e){for(;kr()&&t+on!==57;)if(t+on===84&&Gi()===47)break;return"/*"+xd(e,hr-1)+"*"+Qp(t===47?t:kr())}function nB(t){for(;!Ku(Gi());)kr();return xd(t,hr)}function rB(t){return iN(Pf("",null,null,null,[""],t=rN(t),0,[0],t))}function Pf(t,e,n,r,i,a,l,u,h){for(var m=0,g=0,y=l,x=0,_=0,P=0,E=1,k=1,D=1,F=0,O="",B=i,K=a,X=r,R=O;k;)switch(P=F,F=kr()){case 40:if(P!=108&&kn(R,y-1)==58){xy(R+=ct(Tf(F),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:R+=Tf(F);break;case 9:case 10:case 13:case 32:R+=ZU(P);break;case 92:R+=eB(Sf()-1,7);continue;case 47:switch(Gi()){case 42:case 47:nf(iB(tB(kr(),Sf()),e,n),h);break;default:R+="/"}break;case 123*E:u[m++]=Ai(R)*D;case 125*E:case 59:case 0:switch(F){case 0:case 125:k=0;case 59+g:D==-1&&(R=ct(R,/\f/g,"")),_>0&&Ai(R)-y&&nf(_>32?CE(R+";",r,n,y-1):CE(ct(R," ","")+";",r,n,y-2),h);break;case 59:R+=";";default:if(nf(X=PE(R,e,n,m,g,i,u,O,B=[],K=[],y),a),F===123)if(g===0)Pf(R,e,X,X,B,a,y,u,K);else switch(x===99&&kn(R,3)===110?100:x){case 100:case 108:case 109:case 115:Pf(t,X,X,r&&nf(PE(t,X,X,0,0,i,u,O,i,B=[],y),K),i,K,y,u,r?B:K);break;default:Pf(R,X,X,X,[""],K,0,u,K)}}m=g=_=0,E=D=1,O=R="",y=l;break;case 58:y=1+Ai(R),_=P;default:if(E<1){if(F==123)--E;else if(F==125&&E++==0&&JU()==125)continue}switch(R+=Qp(F),F*E){case 38:D=g>0?1:(R+="\f",-1);break;case 44:u[m++]=(Ai(R)-1)*D,D=1;break;case 64:Gi()===45&&(R+=Tf(kr())),x=Gi(),g=y=Ai(O=R+=nB(Sf())),F++;break;case 45:P===45&&Ai(R)==2&&(E=0)}}return a}function PE(t,e,n,r,i,a,l,u,h,m,g){for(var y=i-1,x=i===0?a:[""],_=C1(x),P=0,E=0,k=0;P<r;++P)for(var D=0,F=Gu(t,y+1,y=qU(E=l[P])),O=t;D<_;++D)(O=tN(E>0?x[D]+" "+F:ct(F,/&\f/g,x[D])))&&(h[k++]=O);return Yp(t,e,n,i===0?T1:u,h,m,g)}function iB(t,e,n){return Yp(t,e,n,Zk,Qp(YU()),Gu(t,2,-2),0)}function CE(t,e,n,r){return Yp(t,e,n,P1,Gu(t,0,r),Gu(t,r+1,-1),r)}function zl(t,e){for(var n="",r=C1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function sB(t,e,n,r){switch(t.type){case HU:if(t.children.length)break;case WU:case P1:return t.return=t.return||t.value;case Zk:return"";case eN:return t.return=t.value+"{"+zl(t.children,r)+"}";case T1:t.value=t.props.join(",")}return Ai(n=zl(t.children,r))?t.return=t.value+"{"+n+"}":""}function oB(t){var e=C1(t);return function(n,r,i,a){for(var l="",u=0;u<e;u++)l+=t[u](n,r,i,a)||"";return l}}function aB(t){return function(e){e.root||(e=e.return)&&t(e)}}function sN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lB=function(e,n,r){for(var i=0,a=0;i=a,a=Gi(),i===38&&a===12&&(n[r]=1),!Ku(a);)kr();return xd(e,hr)},cB=function(e,n){var r=-1,i=44;do switch(Ku(i)){case 0:i===38&&Gi()===12&&(n[r]=1),e[r]+=lB(hr-1,n,r);break;case 2:e[r]+=Tf(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Qp(i)}while(i=kr());return e},uB=function(e,n){return iN(cB(rN(e),n))},kE=new WeakMap,dB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!kE.get(r))&&!i){kE.set(e,!0);for(var a=[],l=uB(n,a),u=r.props,h=0,m=0;h<l.length;h++)for(var g=0;g<u.length;g++,m++)e.props[m]=a[h]?l[h].replace(/&\f/g,u[g]):u[g]+" "+l[h]}}},hB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function oN(t,e){switch(KU(t,e)){case 5103:return lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+t+lp+t+Mn+t+t;case 6828:case 4268:return lt+t+Mn+t+t;case 6165:return lt+t+Mn+"flex-"+t+t;case 5187:return lt+t+ct(t,/(\w+).+(:[^]+)/,lt+"box-$1$2"+Mn+"flex-$1$2")+t;case 5443:return lt+t+Mn+"flex-item-"+ct(t,/flex-|-self/,"")+t;case 4675:return lt+t+Mn+"flex-line-pack"+ct(t,/align-content|flex-|-self/,"")+t;case 5548:return lt+t+Mn+ct(t,"shrink","negative")+t;case 5292:return lt+t+Mn+ct(t,"basis","preferred-size")+t;case 6060:return lt+"box-"+ct(t,"-grow","")+lt+t+Mn+ct(t,"grow","positive")+t;case 4554:return lt+ct(t,/([^-])(transform)/g,"$1"+lt+"$2")+t;case 6187:return ct(ct(ct(t,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),t,"")+t;case 5495:case 3959:return ct(t,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return ct(ct(t,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+Mn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+t+t;case 4095:case 3583:case 4068:case 2532:return ct(t,/(.+)-inline(.+)/,lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(t)-1-e>6)switch(kn(t,e+1)){case 109:if(kn(t,e+4)!==45)break;case 102:return ct(t,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+lp+(kn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xy(t,"stretch")?oN(ct(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kn(t,e+1)!==115)break;case 6444:switch(kn(t,Ai(t)-3-(~xy(t,"!important")&&10))){case 107:return ct(t,":",":"+lt)+t;case 101:return ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+(kn(t,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+Mn+"$2box$3")+t}break;case 5936:switch(kn(t,e+11)){case 114:return lt+t+Mn+ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lt+t+Mn+ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lt+t+Mn+ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return lt+t+Mn+t+t}return t}var fB=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case P1:e.return=oN(e.value,e.length);break;case eN:return zl([Zc(e,{value:ct(e.value,"@","@"+lt)})],i);case T1:if(e.length)return XU(e.props,function(a){switch(QU(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zl([Zc(e,{props:[ct(a,/:(read-\w+)/,":"+lp+"$1")]})],i);case"::placeholder":return zl([Zc(e,{props:[ct(a,/:(plac\w+)/,":"+lt+"input-$1")]}),Zc(e,{props:[ct(a,/:(plac\w+)/,":"+lp+"$1")]}),Zc(e,{props:[ct(a,/:(plac\w+)/,Mn+"input-$1")]})],i)}return""})}},pB=[fB],mB=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var k=E.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||pB,a={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var k=E.getAttribute("data-emotion").split(" "),D=1;D<k.length;D++)a[k[D]]=!0;u.push(E)});var h,m=[dB,hB];{var g,y=[sB,aB(function(E){g.insert(E)})],x=oB(m.concat(i,y)),_=function(k){return zl(rB(k),x)};h=function(k,D,F,O){g=F,_(k?k+"{"+D.styles+"}":D.styles),O&&(P.inserted[D.name]=!0)}}var P={key:n,sheet:new zU({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return P.sheet.hydrate(u),P},gB=!0;function yB(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var aN=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||gB===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},vB=function(e,n,r){aN(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function xB(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bB=/[A-Z]|^ms/g,_B=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lN=function(e){return e.charCodeAt(1)===45},NE=function(e){return e!=null&&typeof e!="boolean"},d0=sN(function(t){return lN(t)?t:t.replace(bB,"-$&").toLowerCase()}),AE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_B,function(r,i,a){return Ii={name:i,styles:a,next:Ii},i})}return wB[e]!==1&&!lN(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ii={name:i.name,styles:i.styles,next:Ii},i.name;var a=n;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Ii={name:l.name,styles:l.styles,next:Ii},l=l.next;var u=a.styles+";";return u}return EB(t,e,n)}case"function":{if(t!==void 0){var h=Ii,m=n(t);return Ii=h,Qu(t,e,m)}break}}var g=n;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function EB(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qu(t,e,n[i])+";";else for(var a in n){var l=n[a];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=a+"{"+e[u]+"}":NE(u)&&(r+=d0(a)+":"+AE(a,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)NE(l[h])&&(r+=d0(a)+":"+AE(a,l[h])+";");else{var m=Qu(t,e,l);switch(a){case"animation":case"animationName":{r+=d0(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}return r}var IE=/label:\s*([^\s;{]+)\s*(;|$)/g,Ii;function cN(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ii=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,i+=Qu(n,e,a);else{var l=a;i+=l[0]}for(var u=1;u<t.length;u++)if(i+=Qu(n,e,t[u]),r){var h=a;i+=h[u]}IE.lastIndex=0;for(var m="",g;(g=IE.exec(i))!==null;)m+="-"+g[1];var y=xB(i)+m;return{name:y,styles:i,next:Ii}}var SB=function(e){return e()},TB=m0.useInsertionEffect?m0.useInsertionEffect:!1,PB=TB||SB,uN=A.createContext(typeof HTMLElement<"u"?mB({key:"css"}):null);uN.Provider;var CB=function(e){return A.forwardRef(function(n,r){var i=A.useContext(uN);return e(n,i,r)})},dN=A.createContext({}),kB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,NB=sN(function(t){return kB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),AB=NB,IB=function(e){return e!=="theme"},jE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?AB:IB},RE=function(e,n,r){var i;if(n){var a=n.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},jB=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return aN(n,r,i),PB(function(){return vB(n,r,i)}),null},RB=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,a,l;n!==void 0&&(a=n.label,l=n.target);var u=RE(e,n,r),h=u||jE(i),m=!h("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var x=g[0];y.push(x[0]);for(var _=g.length,P=1;P<_;P++)y.push(g[P],x[P])}var E=CB(function(k,D,F){var O=m&&k.as||i,B="",K=[],X=k;if(k.theme==null){X={};for(var R in k)X[R]=k[R];X.theme=A.useContext(dN)}typeof k.className=="string"?B=yB(D.registered,K,k.className):k.className!=null&&(B=k.className+" ");var N=cN(y.concat(K),D.registered,X);B+=D.key+"-"+N.name,l!==void 0&&(B+=" "+l);var V=m&&u===void 0?jE(O):h,S={};for(var M in k)m&&M==="as"||V(M)&&(S[M]=k[M]);return S.className=B,F&&(S.ref=F),A.createElement(A.Fragment,null,A.createElement(jB,{cache:D,serialized:N,isStringTag:typeof O=="string"}),A.createElement(O,S))});return E.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=y,E.__emotion_forwardProp=u,Object.defineProperty(E,"toString",{value:function(){return"."+l}}),E.withComponent=function(k,D){var F=t(k,vy({},n,D,{shouldForwardProp:RE(E,D,!0)}));return F.apply(void 0,y)},E}},DB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],by=RB.bind(null);DB.forEach(function(t){by[t]=by(t)});function hN(t,e){return by(t,e)}function VB(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const DE=[];function xa(t){return DE[0]=t,cN(DE)}const OB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function MB(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,a=OB(e),l=Object.keys(a);function u(x){return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n})`}function h(x){return`@media (max-width:${(typeof e[x]=="number"?e[x]:x)-r/100}${n})`}function m(x,_){const P=l.indexOf(_);return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${n}) and (max-width:${(P!==-1&&typeof e[l[P]]=="number"?e[l[P]]:_)-r/100}${n})`}function g(x){return l.indexOf(x)+1<l.length?m(x,l[l.indexOf(x)+1]):u(x)}function y(x){const _=l.indexOf(x);return _===0?u(l[1]):_===l.length-1?h(l[_]):m(x,l[l.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:u,down:h,between:m,only:g,not:y,unit:n,...i}}const LB={borderRadius:4};function fN(t=8,e=E1({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const l=e(a);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function FB(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function k1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:a={},...l}=t,u=MB(n),h=fN(i);let m=Cr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...LB,...a}},l);return m=JF(m),m.applyStyles=FB,m=e.reduce((g,y)=>Cr(g,y),m),m.unstable_sxConfig={...vd,...l==null?void 0:l.unstable_sxConfig},m.unstable_sx=function(y){return ka({sx:y,theme:this})},m}function UB(t){return Object.keys(t).length===0}function BB(t=null){const e=A.useContext(dN);return!e||UB(e)?t:e}const $B=k1();function zB(t=$B){return BB(t)}const VE=t=>t,WB=()=>{let t=VE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=VE}}},pN=WB();function HB(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,a=hN("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(ka);return A.forwardRef(function(h,m){const g=zB(n),{className:y,component:x="div",..._}=Jk(h);return d.jsx(a,{as:x,ref:m,className:qi(y,i?i(r):r),theme:e&&g[e]||g,..._})})}const qB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function N1(t,e,n="Mui"){const r=qB[e];return r?`${n}-${r}`:`${pN.generate(t)}-${e}`}function A1(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=N1(t,i,n)}),r}function mN(t){const{variants:e,...n}=t,r={variants:e,style:xa(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=xa(i.style))}),r}const GB=k1();function h0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function fa(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function KB(t){return t?(e,n)=>n[t]:null}function QB(t,e,n){t.theme=JB(t.theme)?n:t.theme[e]||t.theme}function Cf(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>Cf(t,i,n));if(Array.isArray(r==null?void 0:r.variants)){let i;if(r.isProcessed)i=n?fa(r.style,n):r.style;else{const{variants:a,...l}=r;i=n?fa(xa(l),n):l}return gN(t,r.variants,[i],n)}return r!=null&&r.isProcessed?n?fa(xa(r.style),n):r.style:n?fa(xa(r),n):r}function gN(t,e,n=[],r=void 0){var a;let i;e:for(let l=0;l<e.length;l+=1){const u=e[l];if(typeof u.props=="function"){if(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(i))continue}else for(const h in u.props)if(t[h]!==u.props[h]&&((a=t.ownerState)==null?void 0:a[h])!==u.props[h])continue e;typeof u.style=="function"?(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),n.push(r?fa(xa(u.style(i)),r):u.style(i))):n.push(r?fa(xa(u.style),r):u.style)}return n}function XB(t={}){const{themeId:e,defaultTheme:n=GB,rootShouldForwardProp:r=h0,slotShouldForwardProp:i=h0}=t;function a(u){QB(u,e,n)}return(u,h={})=>{VB(u,X=>X.filter(R=>R!==ka));const{name:m,slot:g,skipVariantsResolver:y,skipSx:x,overridesResolver:_=KB(e$(g)),...P}=h,E=m&&m.startsWith("Mui")||g?"components":"custom",k=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,D=x||!1;let F=h0;g==="Root"||g==="root"?F=r:g?F=i:ZB(u)&&(F=void 0);const O=hN(u,{shouldForwardProp:F,label:YB(),...P}),B=X=>{if(X.__emotion_real===X)return X;if(typeof X=="function")return function(N){return Cf(N,X,N.theme.modularCssLayers?E:void 0)};if(ji(X)){const R=mN(X);return function(V){return R.variants?Cf(V,R,V.theme.modularCssLayers?E:void 0):V.theme.modularCssLayers?fa(R.style,E):R.style}}return X},K=(...X)=>{const R=[],N=X.map(B),V=[];if(R.push(a),m&&_&&V.push(function(j){var Ee,te;const Pe=(te=(Ee=j.theme.components)==null?void 0:Ee[m])==null?void 0:te.styleOverrides;if(!Pe)return null;const Ae={};for(const pe in Pe)Ae[pe]=Cf(j,Pe[pe],j.theme.modularCssLayers?"theme":void 0);return _(j,Ae)}),m&&!k&&V.push(function(j){var Ae,Ee;const oe=j.theme,Pe=(Ee=(Ae=oe==null?void 0:oe.components)==null?void 0:Ae[m])==null?void 0:Ee.variants;return Pe?gN(j,Pe,[],j.theme.modularCssLayers?"theme":void 0):null}),D||V.push(ka),Array.isArray(N[0])){const U=N.shift(),j=new Array(R.length).fill(""),oe=new Array(V.length).fill("");let Pe;Pe=[...j,...U,...oe],Pe.raw=[...j,...U.raw,...oe],R.unshift(Pe)}const S=[...R,...N,...V],M=O(...S);return u.muiName&&(M.muiName=u.muiName),M};return O.withConfig&&(K.withConfig=O.withConfig),K}}function YB(t,e){return void 0}function JB(t){for(const e in t)return!1;return!0}function ZB(t){return typeof t=="string"&&t.charCodeAt(0)>96}function e$(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function _y(t,e,n=!1){const r={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=i;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const l=t[a],u=e[a];if(!u)r[a]=l||{};else if(!l)r[a]=u;else{r[a]={...u};for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const m=h;r[a][m]=_y(l[m],u[m],n)}}}else a==="className"&&n&&e.className?r.className=qi(t==null?void 0:t.className,e==null?void 0:e.className):a==="style"&&n&&e.style?r.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:r[a]===void 0&&(r[a]=t[a])}return r}const t$=A.createContext(void 0);function n$(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?_y(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?_y(i,r,e.components.mergeClassNameAndStyle):r}function r$({props:t,name:e}){const n=A.useContext(t$);return n$({props:t,name:e,theme:{components:n}})}const OE={theme:void 0};function i$(t){let e,n;return function(i){let a=e;return(a===void 0||i.theme!==n)&&(OE.theme=i.theme,a=mN(t(OE)),e=a,n=i.theme),a}}function s$(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const ME=(t,e,n,r=[])=>{let i=t;e.forEach((a,l)=>{l===e.length-1?Array.isArray(i)?i[Number(a)]=n:i&&typeof i=="object"&&(i[a]=n):i&&typeof i=="object"&&(i[a]||(i[a]=r.includes(a)?[]:{}),i=i[a])})},o$=(t,e,n)=>{function r(i,a=[],l=[]){Object.entries(i).forEach(([u,h])=>{(!n||n&&!n([...a,u]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...a,u],Array.isArray(h)?[...l,u]:l):e([...a,u],h,l))})}r(t)},a$=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function f0(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},a={},l={};return o$(t,(u,h,m)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(u,h))){const g=`--${n?`${n}-`:""}${u.join("-")}`,y=a$(u,h);Object.assign(i,{[g]:y}),ME(a,u,`var(${g})`,m),ME(l,u,`var(${g}, ${y})`,m)}},u=>u[0]==="vars"),{css:i,vars:a,varsWithDefaults:l}}function l$(t,e={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:a={},components:l,defaultColorScheme:u="light",...h}=t,{vars:m,css:g,varsWithDefaults:y}=f0(h,e);let x=y;const _={},{[u]:P,...E}=a;if(Object.entries(E||{}).forEach(([O,B])=>{const{vars:K,css:X,varsWithDefaults:R}=f0(B,e);x=Cr(x,R),_[O]={css:X,vars:K}}),P){const{css:O,vars:B,varsWithDefaults:K}=f0(P,e);x=Cr(x,K),_[u]={css:O,vars:B}}function k(O,B){var X,R;let K=i;if(i==="class"&&(K=".%s"),i==="data"&&(K="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(K=`[${i}="%s"]`),O){if(K==="media")return t.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${((R=(X=a[O])==null?void 0:X.palette)==null?void 0:R.mode)||O})`]:{":root":B}};if(K)return t.defaultColorScheme===O?`:root, ${K.replace("%s",String(O))}`:K.replace("%s",String(O))}return":root"}return{vars:x,generateThemeVars:()=>{let O={...m};return Object.entries(_).forEach(([,{vars:B}])=>{O=Cr(O,B)}),O},generateStyleSheets:()=>{var N,V;const O=[],B=t.defaultColorScheme||"light";function K(S,M){Object.keys(M).length&&O.push(typeof S=="string"?{[S]:{...M}}:S)}K(n(void 0,{...g}),g);const{[B]:X,...R}=_;if(X){const{css:S}=X,M=(V=(N=a[B])==null?void 0:N.palette)==null?void 0:V.mode,U=!r&&M?{colorScheme:M,...S}:{...S};K(n(B,{...U}),U)}return Object.entries(R).forEach(([S,{css:M}])=>{var oe,Pe;const U=(Pe=(oe=a[S])==null?void 0:oe.palette)==null?void 0:Pe.mode,j=!r&&U?{colorScheme:U,...M}:{...M};K(n(S,{...j}),j)}),O}}}function c$(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Xu={black:"#000",white:"#fff"},u$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},eu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},_l={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},El={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Sl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function yN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xu.white,default:Xu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const d$=yN();function vN(){return{text:{primary:Xu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const LE=vN();function FE(t,e,n,r){const i=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qu(t.main,i):e==="dark"&&(t.dark=Hu(t.main,a)))}function h$(t="light"){return t==="dark"?{main:_l[200],light:_l[50],dark:_l[400]}:{main:_l[700],light:_l[400],dark:_l[800]}}function f$(t="light"){return t==="dark"?{main:wl[200],light:wl[50],dark:wl[400]}:{main:wl[500],light:wl[300],dark:wl[700]}}function p$(t="light"){return t==="dark"?{main:bl[500],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[400],dark:bl[800]}}function m$(t="light"){return t==="dark"?{main:El[400],light:El[300],dark:El[700]}:{main:El[700],light:El[500],dark:El[900]}}function g$(t="light"){return t==="dark"?{main:Sl[400],light:Sl[300],dark:Sl[700]}:{main:Sl[800],light:Sl[500],dark:Sl[900]}}function y$(t="light"){return t==="dark"?{main:eu[400],light:eu[300],dark:eu[700]}:{main:"#ed6c02",light:eu[500],dark:eu[900]}}function I1(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,a=t.primary||h$(e),l=t.secondary||f$(e),u=t.error||p$(e),h=t.info||m$(e),m=t.success||g$(e),g=t.warning||y$(e);function y(E){return AF(E,LE.text.primary)>=n?LE.text.primary:d$.text.primary}const x=({color:E,name:k,mainShade:D=500,lightShade:F=300,darkShade:O=700})=>{if(E={...E},!E.main&&E[D]&&(E.main=E[D]),!E.hasOwnProperty("main"))throw new Error(Ca(11,k?` (${k})`:"",D));if(typeof E.main!="string")throw new Error(Ca(12,k?` (${k})`:"",JSON.stringify(E.main)));return FE(E,"light",F,r),FE(E,"dark",O,r),E.contrastText||(E.contrastText=y(E.main)),E};let _;return e==="light"?_=yN():e==="dark"&&(_=vN()),Cr({common:{...Xu},mode:e,primary:x({color:a,name:"primary"}),secondary:x({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:u,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:h,name:"info"}),success:x({color:m,name:"success"}),grey:u$,contrastThreshold:n,getContrastText:y,augmentColor:x,tonalOffset:r,..._},i)}function v$(t){const e={};return Object.entries(t).forEach(r=>{const[i,a]=r;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function x$(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function w$(t){return Math.round(t*1e5)/1e5}const UE={textTransform:"uppercase"},BE='"Roboto", "Helvetica", "Arial", sans-serif';function b$(t,e){const{fontFamily:n=BE,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:m,pxToRem:g,...y}=typeof e=="function"?e(t):e,x=r/14,_=g||(k=>`${k/h*x}rem`),P=(k,D,F,O,B)=>({fontFamily:n,fontWeight:k,fontSize:_(D),lineHeight:F,...n===BE?{letterSpacing:`${w$(O/D)}em`}:{},...B,...m}),E={h1:P(i,96,1.167,-1.5),h2:P(i,60,1.2,-.5),h3:P(a,48,1.167,0),h4:P(a,34,1.235,.25),h5:P(a,24,1.334,0),h6:P(l,20,1.6,.15),subtitle1:P(a,16,1.75,.15),subtitle2:P(l,14,1.57,.1),body1:P(a,16,1.5,.15),body2:P(a,14,1.43,.15),button:P(l,14,1.75,.4,UE),caption:P(a,12,1.66,.4),overline:P(a,12,2.66,1,UE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:h,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:u,...E},y,{clone:!1})}const _$=.2,E$=.14,S$=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_$})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${E$})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${S$})`].join(",")}const T$=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],P$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},C$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $E(t){return`${Math.round(t)}ms`}function k$(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function N$(t){const e={...P$,...t.easing},n={...C$,...t.duration};return{getAutoHeightDuration:k$,create:(i=["all"],a={})=>{const{duration:l=n.standard,easing:u=e.easeInOut,delay:h=0,...m}=a;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof l=="string"?l:$E(l)} ${u} ${typeof h=="string"?h:$E(h)}`).join(",")},...t,easing:e,duration:n}}const A$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function I$(t){return ji(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function xN(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let a=0;a<i.length;a++){const[l,u]=i[a];!I$(u)||l.startsWith("unstable_")?delete r[l]:ji(u)&&(r[l]={...u},n(r[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ey(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:a={},transitions:l={},typography:u={},shape:h,...m}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ca(20));const g=I1(a),y=k1(t);let x=Cr(y,{mixins:x$(y.breakpoints,r),palette:g,shadows:T$.slice(),typography:b$(g,u),transitions:N$(l),zIndex:{...A$}});return x=Cr(x,m),x=e.reduce((_,P)=>Cr(_,P),x),x.unstable_sxConfig={...vd,...m==null?void 0:m.unstable_sxConfig},x.unstable_sx=function(P){return ka({sx:P,theme:this})},x.toRuntimeSource=xN,x}function j$(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const R$=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=j$(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function wN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function bN(t){return t==="dark"?R$:[]}function D$(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,a=I1(e);return{palette:a,opacity:{...wN(a.mode),...n},overlays:r||bN(a.mode),...i}}function V$(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const O$=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],M$=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return O$(t.cssVarPrefix).forEach(u=>{l[u]=n[u],delete n[u]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:a?{[a.replace("%s",e)]:l,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...l}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function L$(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ee(t,e,n){!t[e]&&n&&(t[e]=n)}function cu(t){return typeof t!="string"||!t.startsWith("hsl")?t:Hk(t)}function ms(t,e){`${e}Channel`in t||(t[`${e}Channel`]=lu(cu(t[e])))}function F$(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ki=t=>{try{return t()}catch{}},U$=(t="mui")=>s$(t);function p0(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=D$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:a,...l}=Ey({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:a,opacity:{...wN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||bN(i)},l}function B$(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=V$,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:h=":root",...m}=t,g=Object.keys(n)[0],y=r||(n.light&&g!=="light"?"light":g),x=U$(a),{[y]:_,light:P,dark:E,...k}=n,D={...k};let F=_;if((y==="dark"&&!("dark"in n)||y==="light"&&!("light"in n))&&(F=!0),!F)throw new Error(Ca(21,y));const O=p0(D,F,m,y);P&&!D.light&&p0(D,P,void 0,"light"),E&&!D.dark&&p0(D,E,void 0,"dark");let B={defaultColorScheme:y,...O,cssVarPrefix:a,colorSchemeSelector:u,rootSelector:h,getCssVar:x,colorSchemes:D,font:{...v$(O.typography),...O.font},spacing:F$(m.spacing)};Object.keys(B.colorSchemes).forEach(V=>{const S=B.colorSchemes[V].palette,M=U=>{const j=U.split("-"),oe=j[1],Pe=j[2];return x(U,S[oe][Pe])};if(S.mode==="light"&&(ee(S.common,"background","#fff"),ee(S.common,"onBackground","#000")),S.mode==="dark"&&(ee(S.common,"background","#000"),ee(S.common,"onBackground","#fff")),L$(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){ee(S.Alert,"errorColor",pt(S.error.light,.6)),ee(S.Alert,"infoColor",pt(S.info.light,.6)),ee(S.Alert,"successColor",pt(S.success.light,.6)),ee(S.Alert,"warningColor",pt(S.warning.light,.6)),ee(S.Alert,"errorFilledBg",M("palette-error-main")),ee(S.Alert,"infoFilledBg",M("palette-info-main")),ee(S.Alert,"successFilledBg",M("palette-success-main")),ee(S.Alert,"warningFilledBg",M("palette-warning-main")),ee(S.Alert,"errorFilledColor",ki(()=>S.getContrastText(S.error.main))),ee(S.Alert,"infoFilledColor",ki(()=>S.getContrastText(S.info.main))),ee(S.Alert,"successFilledColor",ki(()=>S.getContrastText(S.success.main))),ee(S.Alert,"warningFilledColor",ki(()=>S.getContrastText(S.warning.main))),ee(S.Alert,"errorStandardBg",mt(S.error.light,.9)),ee(S.Alert,"infoStandardBg",mt(S.info.light,.9)),ee(S.Alert,"successStandardBg",mt(S.success.light,.9)),ee(S.Alert,"warningStandardBg",mt(S.warning.light,.9)),ee(S.Alert,"errorIconColor",M("palette-error-main")),ee(S.Alert,"infoIconColor",M("palette-info-main")),ee(S.Alert,"successIconColor",M("palette-success-main")),ee(S.Alert,"warningIconColor",M("palette-warning-main")),ee(S.AppBar,"defaultBg",M("palette-grey-100")),ee(S.Avatar,"defaultBg",M("palette-grey-400")),ee(S.Button,"inheritContainedBg",M("palette-grey-300")),ee(S.Button,"inheritContainedHoverBg",M("palette-grey-A100")),ee(S.Chip,"defaultBorder",M("palette-grey-400")),ee(S.Chip,"defaultAvatarColor",M("palette-grey-700")),ee(S.Chip,"defaultIconColor",M("palette-grey-700")),ee(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(S.LinearProgress,"primaryBg",mt(S.primary.main,.62)),ee(S.LinearProgress,"secondaryBg",mt(S.secondary.main,.62)),ee(S.LinearProgress,"errorBg",mt(S.error.main,.62)),ee(S.LinearProgress,"infoBg",mt(S.info.main,.62)),ee(S.LinearProgress,"successBg",mt(S.success.main,.62)),ee(S.LinearProgress,"warningBg",mt(S.warning.main,.62)),ee(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),ee(S.Slider,"primaryTrack",mt(S.primary.main,.62)),ee(S.Slider,"secondaryTrack",mt(S.secondary.main,.62)),ee(S.Slider,"errorTrack",mt(S.error.main,.62)),ee(S.Slider,"infoTrack",mt(S.info.main,.62)),ee(S.Slider,"successTrack",mt(S.success.main,.62)),ee(S.Slider,"warningTrack",mt(S.warning.main,.62));const U=Yh(S.background.default,.8);ee(S.SnackbarContent,"bg",U),ee(S.SnackbarContent,"color",ki(()=>S.getContrastText(U))),ee(S.SpeedDialAction,"fabHoverBg",Yh(S.background.paper,.15)),ee(S.StepConnector,"border",M("palette-grey-400")),ee(S.StepContent,"border",M("palette-grey-400")),ee(S.Switch,"defaultColor",M("palette-common-white")),ee(S.Switch,"defaultDisabledColor",M("palette-grey-100")),ee(S.Switch,"primaryDisabledColor",mt(S.primary.main,.62)),ee(S.Switch,"secondaryDisabledColor",mt(S.secondary.main,.62)),ee(S.Switch,"errorDisabledColor",mt(S.error.main,.62)),ee(S.Switch,"infoDisabledColor",mt(S.info.main,.62)),ee(S.Switch,"successDisabledColor",mt(S.success.main,.62)),ee(S.Switch,"warningDisabledColor",mt(S.warning.main,.62)),ee(S.TableCell,"border",mt(Xh(S.divider,1),.88)),ee(S.Tooltip,"bg",Xh(S.grey[700],.92))}if(S.mode==="dark"){ee(S.Alert,"errorColor",mt(S.error.light,.6)),ee(S.Alert,"infoColor",mt(S.info.light,.6)),ee(S.Alert,"successColor",mt(S.success.light,.6)),ee(S.Alert,"warningColor",mt(S.warning.light,.6)),ee(S.Alert,"errorFilledBg",M("palette-error-dark")),ee(S.Alert,"infoFilledBg",M("palette-info-dark")),ee(S.Alert,"successFilledBg",M("palette-success-dark")),ee(S.Alert,"warningFilledBg",M("palette-warning-dark")),ee(S.Alert,"errorFilledColor",ki(()=>S.getContrastText(S.error.dark))),ee(S.Alert,"infoFilledColor",ki(()=>S.getContrastText(S.info.dark))),ee(S.Alert,"successFilledColor",ki(()=>S.getContrastText(S.success.dark))),ee(S.Alert,"warningFilledColor",ki(()=>S.getContrastText(S.warning.dark))),ee(S.Alert,"errorStandardBg",pt(S.error.light,.9)),ee(S.Alert,"infoStandardBg",pt(S.info.light,.9)),ee(S.Alert,"successStandardBg",pt(S.success.light,.9)),ee(S.Alert,"warningStandardBg",pt(S.warning.light,.9)),ee(S.Alert,"errorIconColor",M("palette-error-main")),ee(S.Alert,"infoIconColor",M("palette-info-main")),ee(S.Alert,"successIconColor",M("palette-success-main")),ee(S.Alert,"warningIconColor",M("palette-warning-main")),ee(S.AppBar,"defaultBg",M("palette-grey-900")),ee(S.AppBar,"darkBg",M("palette-background-paper")),ee(S.AppBar,"darkColor",M("palette-text-primary")),ee(S.Avatar,"defaultBg",M("palette-grey-600")),ee(S.Button,"inheritContainedBg",M("palette-grey-800")),ee(S.Button,"inheritContainedHoverBg",M("palette-grey-700")),ee(S.Chip,"defaultBorder",M("palette-grey-700")),ee(S.Chip,"defaultAvatarColor",M("palette-grey-300")),ee(S.Chip,"defaultIconColor",M("palette-grey-300")),ee(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(S.LinearProgress,"primaryBg",pt(S.primary.main,.5)),ee(S.LinearProgress,"secondaryBg",pt(S.secondary.main,.5)),ee(S.LinearProgress,"errorBg",pt(S.error.main,.5)),ee(S.LinearProgress,"infoBg",pt(S.info.main,.5)),ee(S.LinearProgress,"successBg",pt(S.success.main,.5)),ee(S.LinearProgress,"warningBg",pt(S.warning.main,.5)),ee(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),ee(S.Slider,"primaryTrack",pt(S.primary.main,.5)),ee(S.Slider,"secondaryTrack",pt(S.secondary.main,.5)),ee(S.Slider,"errorTrack",pt(S.error.main,.5)),ee(S.Slider,"infoTrack",pt(S.info.main,.5)),ee(S.Slider,"successTrack",pt(S.success.main,.5)),ee(S.Slider,"warningTrack",pt(S.warning.main,.5));const U=Yh(S.background.default,.98);ee(S.SnackbarContent,"bg",U),ee(S.SnackbarContent,"color",ki(()=>S.getContrastText(U))),ee(S.SpeedDialAction,"fabHoverBg",Yh(S.background.paper,.15)),ee(S.StepConnector,"border",M("palette-grey-600")),ee(S.StepContent,"border",M("palette-grey-600")),ee(S.Switch,"defaultColor",M("palette-grey-300")),ee(S.Switch,"defaultDisabledColor",M("palette-grey-600")),ee(S.Switch,"primaryDisabledColor",pt(S.primary.main,.55)),ee(S.Switch,"secondaryDisabledColor",pt(S.secondary.main,.55)),ee(S.Switch,"errorDisabledColor",pt(S.error.main,.55)),ee(S.Switch,"infoDisabledColor",pt(S.info.main,.55)),ee(S.Switch,"successDisabledColor",pt(S.success.main,.55)),ee(S.Switch,"warningDisabledColor",pt(S.warning.main,.55)),ee(S.TableCell,"border",pt(Xh(S.divider,1),.68)),ee(S.Tooltip,"bg",Xh(S.grey[700],.92))}ms(S.background,"default"),ms(S.background,"paper"),ms(S.common,"background"),ms(S.common,"onBackground"),ms(S,"divider"),Object.keys(S).forEach(U=>{const j=S[U];U!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&ee(S[U],"mainChannel",lu(cu(j.main))),j.light&&ee(S[U],"lightChannel",lu(cu(j.light))),j.dark&&ee(S[U],"darkChannel",lu(cu(j.dark))),j.contrastText&&ee(S[U],"contrastTextChannel",lu(cu(j.contrastText))),U==="text"&&(ms(S[U],"primary"),ms(S[U],"secondary")),U==="action"&&(j.active&&ms(S[U],"active"),j.selected&&ms(S[U],"selected")))})}),B=e.reduce((V,S)=>Cr(V,S),B);const K={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:M$(B)},{vars:X,generateThemeVars:R,generateStyleSheets:N}=l$(B,K);return B.vars=X,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([V,S])=>{B[V]=S}),B.generateThemeVars=R,B.generateStyleSheets=N,B.generateSpacing=function(){return fN(m.spacing,E1(this))},B.getColorSchemeSelector=c$(u),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=l,B.unstable_sxConfig={...vd,...m==null?void 0:m.unstable_sxConfig},B.unstable_sx=function(S){return ka({sx:S,theme:this})},B.toRuntimeSource=xN,B}function zE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:I1({...n===!0?{}:n.palette,mode:e})})}function _N(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...l}=t,u=a||"light",h=i==null?void 0:i[u],m={...i,...n?{[u]:{...typeof h!="boolean"&&h,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Ey(t,...e);let g=n;"palette"in t||m[u]&&(m[u]!==!0?g=m[u].palette:u==="dark"&&(g={mode:"dark"}));const y=Ey({...t,palette:g},...e);return y.defaultColorScheme=u,y.colorSchemes=m,y.palette.mode==="light"&&(y.colorSchemes.light={...m.light!==!0&&m.light,palette:y.palette},zE(y,"dark",m.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:y.palette},zE(y,"light",m.light)),y}return!n&&!("light"in m)&&u==="light"&&(m.light=!0),B$({...l,colorSchemes:m,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const $$=_N(),EN="$$material";function j1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const z$=t=>j1(t)&&t!=="classes",Vo=XB({themeId:EN,defaultTheme:$$,rootShouldForwardProp:z$});function W$(){return Jk}const Ra=i$;function SN(t){return r$(t)}const H$=t=>!t||!Ef(t);function q$(t){return typeof t.main=="string"}function G$(t,e=[]){if(!q$(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Jp(t=[]){return([,e])=>e&&G$(e,t)}function K$(t){return N1("MuiSlider",t)}const Wr=A1("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Q$=t=>{const{open:e}=t;return{offset:qi(e&&Wr.valueLabelOpen),circle:Wr.valueLabelCircle,label:Wr.valueLabelLabel}};function X$(t){const{children:e,className:n,value:r}=t,i=Q$(t);return e?A.cloneElement(e,{className:e.props.className},d.jsxs(A.Fragment,{children:[e.props.children,d.jsx("span",{className:qi(i.offset,n),"aria-hidden":!0,children:d.jsx("span",{className:i.circle,children:d.jsx("span",{className:i.label,children:r})})})]})):null}function WE(t){return t}const Y$=Vo("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Pr(n.color)}`],n.size!=="medium"&&e[`size${Pr(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(Ra(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Wr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Wr.dragging}`]:{[`& .${Wr.thumb}, & .${Wr.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Jp()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),J$=Vo("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Z$=Vo("span",{name:"MuiSlider",slot:"Track"})(Ra(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Jp()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:qu(t.palette[e].main,.62),borderColor:qu(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:Hu(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:Hu(t.palette[e].main,.5)})}}}))]}))),ez=Vo("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Pr(n.color)}`],n.size!=="medium"&&e[`thumbSize${Pr(n.size)}`]]}})(Ra(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Wr.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Jp()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Wr.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${yy(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Wr.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${yy(t.palette[e].main,.16)}`}}}}))]}))),tz=Vo(X$,{name:"MuiSlider",slot:"ValueLabel"})(Ra(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Wr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Wr.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),nz=Vo("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>j1(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(Ra(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),rz=Vo("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>j1(t)&&t!=="markLabelActive"})(Ra(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),iz=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:a,classes:l,color:u,size:h}=t,m={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",u&&`color${Pr(u)}`,h&&`size${Pr(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${Pr(h)}`,u&&`thumbColor${Pr(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Wk(m,K$,l)},sz=({children:t})=>t,TN=A.forwardRef(function(e,n){const r=SN({props:e,name:"MuiSlider"}),i=RF(),{"aria-label":a,"aria-valuetext":l,"aria-labelledby":u,component:h="span",components:m={},componentsProps:g={},color:y="primary",classes:x,className:_,disableSwap:P=!1,disabled:E=!1,getAriaLabel:k,getAriaValueText:D,marks:F=!1,max:O=100,min:B=0,name:K,onChange:X,onChangeCommitted:R,orientation:N="horizontal",shiftStep:V=10,size:S="medium",step:M=1,scale:U=WE,slotProps:j,slots:oe,tabIndex:Pe,track:Ae="normal",value:Ee,valueLabelDisplay:te="off",valueLabelFormat:pe=WE,...ue}=r,z={...r,isRtl:i,max:O,min:B,classes:x,disabled:E,disableSwap:P,orientation:N,marks:F,color:y,size:S,step:M,shiftStep:V,scale:U,track:Ae,valueLabelDisplay:te,valueLabelFormat:pe},{axisProps:Z,getRootProps:we,getHiddenInputProps:De,getThumbProps:Ce,open:Ue,active:Ie,axis:Le,focusedThumbIndex:We,range:it,dragging:Gt,marks:Pt,values:st,trackOffset:en,trackLeap:wn,getThumbStyle:Kn}=GF({...z,rootRef:n});z.marked=Pt.length>0&&Pt.some(at=>at.label),z.dragging=Gt,z.focusedThumbIndex=We;const gt=iz(z),de=(oe==null?void 0:oe.root)??m.Root??Y$,qe=(oe==null?void 0:oe.rail)??m.Rail??J$,tt=(oe==null?void 0:oe.track)??m.Track??Z$,Lt=(oe==null?void 0:oe.thumb)??m.Thumb??ez,yt=(oe==null?void 0:oe.valueLabel)??m.ValueLabel??tz,fn=(oe==null?void 0:oe.mark)??m.Mark??nz,pr=(oe==null?void 0:oe.markLabel)??m.MarkLabel??rz,le=(oe==null?void 0:oe.input)??m.Input??"input",H=(j==null?void 0:j.root)??g.root,ie=(j==null?void 0:j.rail)??g.rail,ke=(j==null?void 0:j.track)??g.track,Be=(j==null?void 0:j.thumb)??g.thumb,be=(j==null?void 0:j.valueLabel)??g.valueLabel,$e=(j==null?void 0:j.mark)??g.mark,vt=(j==null?void 0:j.markLabel)??g.markLabel,_t=(j==null?void 0:j.input)??g.input,pn=to({elementType:de,getSlotProps:we,externalSlotProps:H,externalForwardedProps:ue,additionalProps:{...H$(de)&&{as:h}},ownerState:{...z,...H==null?void 0:H.ownerState},className:[gt.root,_]}),Kr=to({elementType:qe,externalSlotProps:ie,ownerState:z,className:gt.rail}),Oo=to({elementType:tt,externalSlotProps:ke,additionalProps:{style:{...Z[Le].offset(en),...Z[Le].leap(wn)}},ownerState:{...z,...ke==null?void 0:ke.ownerState},className:gt.track}),Yi=to({elementType:Lt,getSlotProps:Ce,externalSlotProps:Be,ownerState:{...z,...Be==null?void 0:Be.ownerState},className:gt.thumb}),Ji=to({elementType:yt,externalSlotProps:be,ownerState:{...z,...be==null?void 0:be.ownerState},className:gt.valueLabel}),gi=to({elementType:fn,externalSlotProps:$e,ownerState:z,className:gt.mark}),yi=to({elementType:pr,externalSlotProps:vt,ownerState:z,className:gt.markLabel}),Qn=to({elementType:le,getSlotProps:De,externalSlotProps:_t,ownerState:z});return d.jsxs(de,{...pn,children:[d.jsx(qe,{...Kr}),d.jsx(tt,{...Oo}),Pt.filter(at=>at.value>=B&&at.value<=O).map((at,Ct)=>{const Xn=op(at.value,B,O),vi=Z[Le].offset(Xn);let bn;return Ae===!1?bn=st.includes(at.value):bn=Ae==="normal"&&(it?at.value>=st[0]&&at.value<=st[st.length-1]:at.value<=st[0])||Ae==="inverted"&&(it?at.value<=st[0]||at.value>=st[st.length-1]:at.value>=st[0]),d.jsxs(A.Fragment,{children:[d.jsx(fn,{"data-index":Ct,...gi,...!Ef(fn)&&{markActive:bn},style:{...vi,...gi.style},className:qi(gi.className,bn&&gt.markActive)}),at.label!=null?d.jsx(pr,{"aria-hidden":!0,"data-index":Ct,...yi,...!Ef(pr)&&{markLabelActive:bn},style:{...vi,...yi.style},className:qi(gt.markLabel,yi.className,bn&&gt.markLabelActive),children:at.label}):null]},Ct)}),st.map((at,Ct)=>{const Xn=op(at,B,O),vi=Z[Le].offset(Xn),bn=te==="off"?sz:yt;return d.jsx(bn,{...!Ef(bn)&&{valueLabelFormat:pe,valueLabelDisplay:te,value:typeof pe=="function"?pe(U(at),Ct):pe,index:Ct,open:Ue===Ct||Ie===Ct||te==="on",disabled:E},...Ji,children:d.jsx(Lt,{"data-index":Ct,...Yi,className:qi(gt.thumb,Yi.className,Ie===Ct&&gt.active,We===Ct&&gt.focusVisible),style:{...vi,...Kn(Ct),...Yi.style},children:d.jsx(le,{"data-index":Ct,"aria-label":k?k(Ct):a,"aria-valuenow":U(at),"aria-labelledby":u,"aria-valuetext":D?D(U(at),Ct):l,value:st[Ct],...Qn})})},Ct)})]})});function oz(t){return N1("MuiTypography",t)}A1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const az={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},lz=W$(),cz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:l}=t,u={root:["root",a,t.align!=="inherit"&&`align${Pr(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Wk(u,oz,l)},uz=Vo("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Pr(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ra(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Jp()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Pr(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),HE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},PN=A.forwardRef(function(e,n){const{color:r,...i}=SN({props:e,name:"MuiTypography"}),a=!az[r],l=lz({...i,...a&&{color:r}}),{align:u="inherit",className:h,component:m,gutterBottom:g=!1,noWrap:y=!1,paragraph:x=!1,variant:_="body1",variantMapping:P=HE,...E}=l,k={...l,align:u,color:r,className:h,component:m,gutterBottom:g,noWrap:y,paragraph:x,variant:_,variantMapping:P},D=m||(x?"p":P[_]||HE[_])||"span",F=cz(k);return d.jsx(uz,{as:D,ref:n,className:qi(F.root,h),...E,ownerState:k,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...E.style}})}),dz=A1("MuiBox",["root"]),hz=_N(),CN=HB({themeId:EN,defaultTheme:hz,defaultClassName:dz.root,generateClassName:pN.generate}),fz={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.3)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 6px rgba(60, 80, 120, 0.5)"}},pz={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.6)","0 0 10px rgba(80, 100, 140, 0.9)","0 0 4px rgba(80, 100, 140, 0.6)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function kN({filtros:t,setFiltros:e,productosOriginales:n}){const[r,i]=A.useState([]);A.useEffect(()=>{let h=n;(t.estado.nuevo||t.estado.usado)&&(h=h.filter(y=>t.estado.nuevo&&t.estado.usado?!0:t.estado.nuevo?y.estado==="Nuevo":t.estado.usado?y.estado==="Usado":!0));const m=t.precio.min!==""?Number(t.precio.min):0,g=t.precio.max!==""?Number(t.precio.max):1/0;h=h.filter(y=>y.precio>=m&&y.precio<=g),i(h)},[t,n]);const a=(h,m)=>{e(g=>({...g,precio:{min:m[0],max:m[1]}}))},l=()=>{e({estado:{nuevo:!1,usado:!1},precio:{min:0,max:1e3}})},u=76;return d.jsxs("aside",{className:"hidden lg:block w-56 max-w-[240px] relative z-40",style:{height:`calc(100vh - ${u}px)`,overflow:"hidden",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Filtros",children:[d.jsx($k,{}),d.jsxs("div",{style:{position:"relative",zIndex:1,height:`calc(100vh - ${u}px)`,overflowY:"auto",padding:"1rem",backgroundColor:"transparent",border:"none",boxShadow:"none"},children:[d.jsx(ye.h2,{className:"text-lg font-semibold mb-4 text-blue-800",variants:pz,animate:"animate",children:"Filtros"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"font-medium mb-2",children:"Estado"}),d.jsxs("label",{className:"switch-container",children:[d.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.nuevo,onChange:()=>e(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),d.jsx("div",{className:"slider"}),d.jsx("span",{className:"ml-2",children:"Nuevo"})]}),d.jsxs("label",{className:"switch-container mt-2",children:[d.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.usado,onChange:()=>e(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),d.jsx("div",{className:"slider"}),d.jsx("span",{className:"ml-2",children:"Usado"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx(PN,{gutterBottom:!0,children:"Precio (RD$)"}),d.jsx(CN,{sx:{px:1,"& .MuiSlider-thumb":{width:14,height:14,bgcolor:"#1976d2",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 8px rgba(25, 118, 210, 0.16)"}},"& .MuiSlider-rail":{height:6,opacity:.5,bgcolor:"#bfbfbf",borderRadius:3},"& .MuiSlider-track":{height:6,borderRadius:3},"& .MuiSlider-root":{padding:"15px 0"}},children:d.jsx(TN,{value:[t.precio.min,t.precio.max],onChange:a,valueLabelDisplay:"auto",min:0,max:1e3})}),d.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-700",children:[d.jsxs("span",{children:["RD$",t.precio.min]}),d.jsxs("span",{children:["RD$",t.precio.max]})]})]}),d.jsx(ye.button,{onClick:l,variants:fz,initial:"initial",whileHover:"hover",whileTap:"tap",className:"bg-blue-600 text-white text-sm px-3 py-2 rounded w-full",children:"Restablecer filtros"}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:r.length===0?"No hay productos que coincidan con los filtros.":`Mostrando ${r.length} producto${r.length>1?"s":""}`})]})]})}function NN({filtros:t,setFiltros:e,onReset:n,visible:r,onClose:i}){const[a,l]=A.useState(t);A.useEffect(()=>{l(t)},[t,r]);const u=(h,m)=>{l(g=>({...g,precio:{min:m[0],max:m[1]}}))};return d.jsxs("div",{className:`fixed top-0 right-0 h-full w-72 bg-white border-l shadow-lg z-[9999] transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[d.jsx("h2",{className:"text-lg font-semibold text-indigo-700",children:"Filtros"}),d.jsx("button",{onClick:i,className:"text-indigo-600 font-extrabold text-xl hover:text-indigo-800 transition-colors","aria-label":"Cerrar filtro",children:""})]}),d.jsxs("div",{className:"p-4 pt-6 flex flex-col gap-6 overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-3 text-indigo-700",children:"Estado"}),d.jsxs("label",{className:"switch-container mb-2",children:[d.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.nuevo,onChange:()=>l(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),d.jsx("div",{className:"slider"}),d.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Nuevo"})]}),d.jsxs("label",{className:"switch-container",children:[d.jsx("input",{type:"checkbox",className:"checkbox",checked:a.estado.usado,onChange:()=>l(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),d.jsx("div",{className:"slider"}),d.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Usado"})]})]}),d.jsxs("div",{children:[d.jsx(PN,{gutterBottom:!0,className:"text-sm font-semibold text-indigo-700",children:"Precio (RD$)"}),d.jsx(CN,{sx:{px:1,"& .MuiSlider-thumb":{width:16,height:16,bgcolor:"#5a67d8",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 10px rgba(90, 103, 216, 0.2)"}},"& .MuiSlider-rail":{height:8,opacity:.3,bgcolor:"#cbd5e1",borderRadius:4},"& .MuiSlider-track":{height:8,borderRadius:4,bgcolor:"#5a67d8"},"& .MuiSlider-root":{padding:"20px 0"}},children:d.jsx(TN,{value:[a.precio.min,a.precio.max],onChange:u,valueLabelDisplay:"auto",min:0,max:1e3})}),d.jsxs("div",{className:"flex justify-between text-xs text-indigo-700 mt-1 font-semibold",children:[d.jsxs("span",{children:["RD$",a.precio.min]}),d.jsxs("span",{children:["RD$",a.precio.max]})]})]})]}),d.jsxs("div",{className:"flex justify-between gap-3 border-t border-gray-300 p-4 mt-4",children:[d.jsx("button",{onClick:()=>{n(),i()},className:"w-1/2 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold text-sm py-2 rounded transition-colors",children:"Restablecer"}),d.jsx("button",{onClick:()=>{e(a),i()},className:"w-1/2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold text-sm py-2 rounded transition-colors",children:"Aplicar filtros"})]})]})}function AN({onClick:t}){return d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 rounded-full text-sm font-medium",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Filtros"]})}function mz(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[];for(let r=0;r<=e.length;r++)n[r]=[r];for(let r=0;r<=t.length;r++)n[0][r]=r;for(let r=1;r<=e.length;r++)for(let i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,n[r][i-1]+1,n[r-1][i]+1);return n[e.length][t.length]}function rf(t,e){return!t||!e?!1:mz(t,e)<=2||t.includes(e)||e.includes(t)}const gz=56;function yz(){const t=Qi(),[e,n]=A.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[r,i]=A.useState(!1),[a,l]=A.useState(!1),u=Vi.flatMap(P=>P.productos),m=new URLSearchParams(t.search).get("q")||"",g=l0(m),y=u.filter(P=>{const E=l0(P.nombre),k=l0(P.empresa||"");return g.split(" ").filter(Boolean).some(F=>rf(E,F)||rf(k,F))||rf(E,g)||rf(k,g)}),x=y.filter(P=>{const E=e.precio.min===""||P.precio>=Number(e.precio.min),k=e.precio.max===""||P.precio<=Number(e.precio.max),D=!e.estado.nuevo&&!e.estado.usado||e.estado.nuevo&&P.estado==="Nuevo"||e.estado.usado&&P.estado==="Usado";return E&&k&&D}),_=()=>{n({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}})};return d.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen bg-white pt-0",style:{paddingTop:gz},children:[d.jsx("aside",{className:"hidden lg:block w-64 border-r border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto",children:d.jsx(sp,{categoriaActiva:null,setMostrarEnMovil:l})}),d.jsxs("main",{className:"flex-1 p-4 overflow-y-auto relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[d.jsx("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:" Categoras"}),d.jsx(AN,{onClick:()=>i(!0)})]}),d.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-800",children:"Resultados de bsqueda"}),x.length===0?d.jsxs("p",{className:"text-gray-600",children:["No se encontraron productos relacionados con ",d.jsx("span",{className:"font-bold",children:m}),"."]}):d.jsx("div",{className:"productos-grid",children:x.map(P=>d.jsx(Bk,{producto:P},P.id))})]}),d.jsx("aside",{className:"hidden lg:block w-64 border-l border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto px-4 py-4",children:d.jsx(kN,{filtros:e,setFiltros:n,productosOriginales:y})}),a&&d.jsx(sp,{categoriaActiva:null,mostrarEnMovil:a,setMostrarEnMovil:l}),d.jsx("div",{className:"lg:hidden",children:d.jsx(NN,{filtros:e,setFiltros:n,visible:r,onClose:()=>i(!1),onReset:_})})]})}function sf(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}function qE(){const{categoria:t}=Ay(),e=fr(),[n,r]=A.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[i,a]=A.useState(""),[l,u]=A.useState(!1),[h,m]=A.useState(!1),[g,y]=A.useState("Todos"),[x,_]=A.useState(0);A.useEffect(()=>{function O(){const K=document.querySelector(".shadow-md.px-4.py-2.flex.justify-between.items-center"),X=K?Math.ceil(K.getBoundingClientRect().height):0;_(X),document.documentElement.style.setProperty("--topbar-height",`${X}px`)}O(),window.addEventListener("resize",O);const B=new MutationObserver(O);return B.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",O),B.disconnect()}},[]),A.useEffect(()=>{if(!t||t==="todos")y("Todos");else{const O=Vi.find(B=>sf(B.categoria)===sf(t));y(O?O.categoria:"Todos")}},[t]);const P=A.useMemo(()=>{if(g==="Todos")return Vi.flatMap(B=>B.productos).filter(B=>B==null?void 0:B.id);const O=Vi.find(B=>sf(B.categoria)===sf(g));return((O==null?void 0:O.productos)??[]).filter(B=>B==null?void 0:B.id)},[g]),E=A.useMemo(()=>P.filter(O=>{const B=n.precio.min===""||O.precio>=Number(n.precio.min),K=n.precio.max===""||O.precio<=Number(n.precio.max),X=!n.estado.nuevo&&!n.estado.usado||n.estado.nuevo&&O.estado==="Nuevo"||n.estado.usado&&O.estado==="Usado",R=!i||typeof O.empresa=="string"&&O.empresa===i||Array.isArray(O.empresa)&&O.empresa.includes(i);return B&&K&&X&&R}),[P,n,i]),k=(O,B)=>{e(`/productos/${B}`),u(!1),m(!1),a("")},D=()=>{r({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),a("")},F=[{nombre:"PlayStation",imagen:"/logos/PlayStation_logo.svg.png"},{nombre:"Xbox",imagen:"/logos/xbox-logo.png"},{nombre:"Nintendo",imagen:"/logos/nintendo-logo.png"}];return d.jsxs("div",{className:"flex flex-col min-h-screen bg-white pb-[96px]",style:{position:"relative",marginTop:0,paddingTop:`${x}px`,transition:"padding-top 0.2s",boxSizing:"border-box"},children:[d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row w-full",children:[d.jsx(sp,{categoriaActiva:g,onCategoriaClick:k,className:"bg-transparent border-none shadow-none"}),d.jsxs("main",{className:"flex-1 p-0 lg:p-4 relative pb-32",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[d.jsx("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:" Categoras"}),d.jsx(AN,{onClick:()=>u(!0)})]}),d.jsxs("div",{className:"px-4 lg:px-0 mb-6 animate-fadeIn",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-gradient bg-gradient-to-r from-blue-700 via-purple-600 to-pink-500 text-transparent bg-clip-text drop-shadow-md",children:g==="Todos"?"Todos los productos":g}),g!=="Todos"&&d.jsxs("p",{className:"text-gray-500 text-base sm:text-lg mt-2",children:["Encuentra lo mejor en ",d.jsx("span",{className:"font-semibold text-blue-700",children:g})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-5 px-4 lg:px-0 mb-10 justify-center sm:justify-start",children:[F.map(O=>d.jsxs("button",{onClick:()=>a(O.nombre),className:`group relative w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white border-4 flex items-center justify-center shadow-xl hover:scale-110 transition-all duration-300 ${i===O.nombre?"border-blue-700 ring-4 ring-offset-2 ring-blue-500 animate-spin-slow":"border-gray-300 hover:border-blue-400"}`,title:O.nombre,children:[d.jsx("img",{src:O.imagen,alt:O.nombre,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain z-10"}),i===O.nombre&&d.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-blue-500 animate-pulse z-0"})]},O.nombre)),d.jsx("button",{onClick:()=>a(""),className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 flex items-center justify-center text-lg sm:text-xl font-bold bg-gradient-to-br from-red-100 to-red-300 text-red-700 border-red-600 shadow-lg hover:scale-110 transition-all duration-300",title:"Quitar filtro",children:""})]}),E.length===0?d.jsx("p",{className:"text-center text-gray-600 mt-10",children:"No hay productos que coincidan con tus filtros."}):d.jsx("div",{className:"productos-grid px-4 lg:px-0",children:E.map(O=>d.jsx(Bk,{producto:O},O.id))})]}),d.jsx(kN,{filtros:n,setFiltros:r,productosOriginales:P,className:"bg-transparent border-none shadow-none"})]}),h&&d.jsx(sp,{categoriaActiva:g,onCategoriaClick:k,mostrarEnMovil:h,setMostrarEnMovil:m,className:"bg-transparent border-none shadow-none"}),d.jsx("div",{className:"xl:hidden",children:d.jsx(NN,{filtros:n,setFiltros:r,visible:l,onClose:()=>u(!1),onReset:D})})]})}const vz=[{id:0,nombre:"Estafeta Principal (Oficina)",descripcion:"Playcenter Universal",direccion:"Av Estrella Sadhala N 55, Frente a la doble va, Santiago",telefono:"809-582-1212",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'13.2%22N+70%C2%B041'23.3%22W/@19.436998,-70.689812,17z/data=!4m4!3m3!8m2!3d19.437!4d-70.6898056",imagen:"/estafetas/oficina.png"},{id:1,nombre:"Estafeta Villa-Olmpica",descripcion:"Minimarket Los Hermanos",direccion:"Calle Penetracin N 1, Suburbanizacin Mare Lpez, La villa-Olmpica, Prximo a la calle 1",telefono:"809-626-3262",ubicacionLink:"https://www.google.com/maps/place/19%C2%B025'43.1%22N+70%C2%B041'12.7%22W/@19.4286338,-70.6894342,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.4286338!4d-70.6868593?hl=es&entry=ttu",imagen:"/estafetas/loshermanos.png"},{id:2,nombre:"Estafeta Nibaje",descripcion:"Cafetera Guido",direccion:"Avenida Franco Vido, N 148, Nibaje",telefono:"829-324-2318",ubicacionLink:"https://www.google.com/maps/place//@19.420887,-70.6811611,3857m/data=!3m2!1e3!4b1?entry=ttu",imagen:"/estafetas/cafeteria-guido.png"},{id:3,nombre:"Estafeta El Ensueo",descripcion:"Saln y Cafetera Marais",direccion:"Calle Paseo de los Locutores, Esquina 11, El Ensueo",telefono:"829-755-3636",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'22.4%22N+70%C2%B041'26.1%22W/@19.439565,-70.690574,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.439565!4d-70.690574?entry=ttu",imagen:"/estafetas/salon-y-cafeteria-maraez.png"},{id:4,nombre:"Estafeta La Lotera",descripcion:"Colmado Espinal",direccion:"La Lotera, calle Salcedo, N 10",telefono:"829-288-9168",ubicacionLink:"https://www.google.com/maps/place/19.439565,-70.690574/data=!4m6!3m5!1s0!7e2!8m2!3d19.439564999999998!4d-70.690574",imagen:"/estafetas/colmado-espinal.png"},{id:5,nombre:"Estafeta La Villa-Olmpica",descripcion:"Palmatec Solutions",direccion:"Villa-Olmpica, frente Manzana F, al lado del antiguo Colegio Gnesis",telefono:"809-785-3354",ubicacionLink:"https://www.google.com/maps/place/19.435309,-70.685961/data=!4m6!3m5!1s0!7e2!8m2!3d19.435309!4d-70.68596099999999",imagen:"/estafetas/palmatech-solution.png"},{id:6,nombre:"Estafeta Ensanche Bermdez",descripcion:"St Electronics",direccion:"Calle 11, nmero 27, Ensanche Bermdez",telefono:"849-437-3100",ubicacionLink:"https://www.google.com/maps/place/Espailla,+51000+Santiago+de+los+Caballeros/@19.4717075,-70.7148707,964m/data=!3m2!1e3!4b1!4m6!3m5!1s0x8eb1c5e2c3c79d7d:0x3a75c6d5f2312708!8m2!3d19.4717075!4d-70.7148707",imagen:"/estafetas/St electronics.png"},{id:7,nombre:"Estafeta Los Guandules",descripcion:"Mini Market El Vecino",direccion:"Estafeta de pago Los Guandules, prximo al puente",telefono:"+1 829 218 1889",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'15.3%22N+70%C2%B041'22.2%22W/@19.4381999,-70.6893169,526m/data=!3m1!1e3!4m4!3m3!8m2!3d19.437576!4d-70.689512?entry=ttu",imagen:"/estafetas/losguandules.png"}],xz=[{banco:"BANRESERVAS",numero:"9600153322",tipo:"Cuenta Corriente",titular:"PLAYCENTER"},{banco:"POPULAR",numero:"0798928750",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"BHD",numero:"18673320016",tipo:"Cuenta Corriente",titular:"FRANKLYN SANTOS"},{banco:"SantaCruz",numero:"11142010011632",tipo:"Cuenta Ahorro",titular:"PLAYCENTER"},{banco:"Scotiabank",numero:"12010008845",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"ASOC. CIBAO",numero:"100090238474",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"}];function wz(){const[t,e]=A.useState(null),n=(r,i)=>{navigator.clipboard.writeText(r),e(i),setTimeout(()=>e(null),2e3)};return d.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 py-10",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-gray-800 tracking-tight",children:"Estafetas de Pago y Mtodos de Pago"}),d.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Puedes pagar tu factura en cualquiera de nuestros puntos autorizados o mediante transferencia bancaria."}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-7 mb-12 shadow-lg",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-blue-700 flex items-center gap-2 mb-3",children:[d.jsx(h7,{className:"text-blue-500"}),"Cuentas Bancarias para Transferencias"]}),d.jsxs("p",{className:"text-red-600 font-semibold mb-2",children:[" Incluye tu ",d.jsx("span",{className:"underline",children:"cdigo de cliente"})," o",d.jsx("span",{className:"underline",children:" nombre completo"})," en la descripcin del pago."]}),d.jsxs("p",{className:"text-gray-700 mb-4 text-[15px]",children:["Es indispensable enviar el comprobante de pago al 809-582-1212 para poder aplicarlo.",d.jsx("br",{}),d.jsx("span",{className:"text-red-500 font-bold",children:"Sin el comprobante no podremos procesar tu pago."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:xz.map((r,i)=>d.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-5 flex flex-col shadow group hover:shadow-xl transition",children:[d.jsxs("h3",{className:"text-lg font-bold text-indigo-700 flex items-center gap-2 mb-2",children:[d.jsx(g7,{className:"text-indigo-500"}),r.banco]}),d.jsxs("p",{className:"text-gray-700 mb-1 flex items-center",children:[d.jsx("span",{className:"font-semibold mr-1",children:"Nmero: "}),d.jsxs("span",{className:"text-gray-900 font-mono flex items-center",children:[r.numero,d.jsx("button",{onClick:()=>n(r.numero,i),className:"text-indigo-600 hover:text-indigo-800 ml-1",title:"Copiar nmero",children:t===i?d.jsx(l7,{}):d.jsx(v7,{})})]})]}),d.jsxs("p",{className:"text-gray-700 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Tipo: "}),r.tipo]}),d.jsxs("p",{className:"text-gray-700",children:[d.jsx("span",{className:"font-semibold",children:"Titular: "}),r.titular]})]},i))})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:vz.map(r=>d.jsxs("div",{className:"flex flex-col md:flex-row bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl transition",children:[d.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-blue-50 flex items-center justify-center p-3",children:d.jsx("img",{src:r.imagen,alt:r.nombre,className:"w-full h-full object-contain rounded-xl"})}),d.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-1",children:r.nombre}),d.jsx("p",{className:"text-gray-700 text-lg font-medium mb-1",children:r.descripcion}),d.jsx("p",{className:"text-gray-600 mb-1",children:r.direccion}),d.jsxs("p",{className:"text-green-600 flex items-center gap-2 mb-2",children:[d.jsx(np,{className:"text-green-500"}),r.telefono]})]}),d.jsxs("a",{href:r.ubicacionLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mt-3 font-semibold flex items-center gap-2",children:[d.jsx("span",{role:"img","aria-label":"location",children:""}),"Ver Ubicacin"]})]})]},r.id))}),d.jsx("p",{className:"text-center text-gray-500 mt-12 text-lg",children:"Agradecemos su preferencia! Estamos para servirle."})]})}function bz({children:t}){const{usuario:e}=Nr();return e?t:d.jsx(D4,{to:"/login",replace:!0})}const GE="https://playcenter-universal.onrender.com";function _z(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function Ez(){const[t]=Iy(),e=fr(),{usuario:n,usuarioInfo:r}=Nr(),{carrito:i,vaciarCarrito:a}=md();return A.useEffect(()=>{const l=t.get("session"),u=_z(),h=async()=>{var m;try{if(!l){e("/payment/cancel");return}const g=await fetch(`${GE}/cardnet/get-sk/${l}`),{sk:y}=await g.json();if(!y){e(`/payment/cancel?session=${l}`);return}const _=await(await fetch(`${GE}/cardnet/verify/${l}/${y}`)).json(),P=(m=u==null?void 0:u.items)!=null&&m.length?u.items.map(D=>({id:D.id,nombre:D.nombre,precio:Number(D.precio)||0,cantidad:D.cantidad,imagen:D.imagen||"/Productos/default.jpg",empresa:D.empresa||"N/A",subtotal:(Number(D.precio)||0)*D.cantidad})):i.map(D=>({id:D.id,nombre:D.nombre,precio:Number(D.precio)||0,cantidad:D.cantidad,imagen:D.imagen||"/Productos/default.jpg",empresa:D.empresa||"N/A",subtotal:(Number(D.precio)||0)*D.cantidad})),E=(u==null?void 0:u.total)??i.reduce((D,F)=>D+(Number(F.precio)||0)*F.cantidad,0),k={userId:(n==null?void 0:n.uid)||null,userEmail:(r==null?void 0:r.email)||(n==null?void 0:n.email)||null,userName:(r==null?void 0:r.displayName)||null,userPhone:(r==null?void 0:r.telefono)||null,productos:P,total:E,subtotal:P.reduce((D,F)=>D+F.subtotal,0),impuestos:0,envio:0,estado:(_==null?void 0:_.ResponseCode)==="00"?"completado":"cancelado",estadoPago:(_==null?void 0:_.ResponseCode)==="00"?"pagado":"fallido",metodoPago:"CardNet",fecha:jP(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(u==null?void 0:u.mode)||(u?"unknown":"cart"),direccionEntrega:(r==null?void 0:r.direccionCompleta)||null,telefonoContacto:(r==null?void 0:r.telefono)||null,notasEspeciales:null,raw:{..._,SESSION:l}};try{await Iv(mi(rt,"orders"),k)}catch(D){console.error(" Error guardando orden:",D)}try{sessionStorage.removeItem("checkoutPayload")}catch{}(_==null?void 0:_.ResponseCode)==="00"?(((u==null?void 0:u.mode)||"cart")==="cart"&&a(),e(`/payment/success?session=${l}`)):e(`/payment/cancel?session=${l}`)}catch(g){console.error("Error verificando transaccin:",g),e(`/payment/cancel?session=${l||""}`)}};if(l){const m=setTimeout(h,1500),g=setTimeout(()=>h(),5e3);return()=>{clearTimeout(m),clearTimeout(g)}}},[t,e,n,r,i,a]),d.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-6 z-50 will-change-transform",children:[d.jsxs("div",{className:"loader mb-6",children:[d.jsx("div",{className:"loader__bar"}),d.jsx("div",{className:"loader__bar"}),d.jsx("div",{className:"loader__bar"}),d.jsx("div",{className:"loader__bar"}),d.jsx("div",{className:"loader__bar"}),d.jsx("div",{className:"loader__ball"})]}),d.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-blue-700 mb-2 animate-pulse text-center",children:"Procesando tu pago..."}),d.jsxs("p",{className:"text-gray-600 text-center max-w-md text-sm md:text-base",children:["Verificando con ",d.jsx("b",{children:"CardNet"}),". Esto puede tardar unos segundos."]})]})}const KE="https://playcenter-universal.onrender.com";function Sz(){var a,l,u;const[t]=Iy(),[e,n]=A.useState(null),[r,i]=A.useState(null);return A.useEffect(()=>{const h=t.get("session");h&&(async()=>{try{const g=To(mi(rt,"orders"),Ou("raw.SESSION","==",h),XD("fecha","desc"),CP(1)),y=await Mu(g);y.empty||n({id:y.docs[0].id,...y.docs[0].data()});const x=await fetch(`${KE}/cardnet/get-sk/${h}`),{sk:_}=await x.json();if(_){const E=await(await fetch(`${KE}/cardnet/verify/${h}/${_}`)).json();i(E)}}catch(g){console.error("Error cargando datos:",g)}})()},[t]),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 px-6 z-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-10 max-w-2xl w-full text-center",children:[d.jsx(F7,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),d.jsx("h1",{className:"text-3xl font-extrabold text-green-600 mb-4",children:"Pago realizado con xito"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Tu transaccin fue procesada correctamente.",d.jsx("br",{}),"Gracias por tu compra en ",d.jsx("span",{className:"font-semibold",children:"PlayCenter Universal"}),"!"]}),e?d.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-inner p-6 mb-6 text-left",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4",children:"Detalles de la Orden"}),d.jsxs("p",{children:[d.jsx("strong",{children:"ID:"})," ",e.id]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",e.userEmail]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado:"})," ",e.estado]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total:"})," RD$ ",e.total]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fecha:"})," ",(l=(a=e.fecha)==null?void 0:a.toDate)==null?void 0:l.call(a).toLocaleString()]}),((u=e.productos)==null?void 0:u.length)>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Productos:"}),d.jsx("ul",{className:"space-y-2",children:e.productos.map((h,m)=>d.jsxs("li",{className:"flex justify-between bg-white rounded-lg p-3 border",children:[d.jsxs("span",{children:[h.nombre," (x",h.cantidad,")"]}),d.jsxs("span",{className:"font-bold",children:["RD$",h.precio]})]},m))})]})]}):d.jsx("p",{className:"text-gray-500",children:"Cargando informacin de la orden..."}),r&&d.jsxs("div",{className:"bg-white rounded-xl border mt-4 p-4 text-sm text-left max-h-64 overflow-y-auto",children:[d.jsx("p",{className:"font-bold text-gray-700 mb-2",children:"Respuesta de CardNet:"}),d.jsx("pre",{className:"whitespace-pre-wrap text-gray-600 text-xs",children:JSON.stringify(r,null,2)})]}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row sm:justify-center gap-3",children:[d.jsx(Qe,{to:"/",className:"px-6 py-3 rounded-xl bg-green-600 text-white font-bold shadow hover:bg-green-700 transition",children:"Seguir comprando"}),d.jsx(Qe,{to:"/carrito",className:"px-6 py-3 rounded-xl bg-gray-200 text-gray-700 font-bold shadow hover:bg-gray-300 transition",children:"Ver mi carrito"})]})]})})}function Tz(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function Pz(){const[t]=Iy(),{usuarioInfo:e}=Nr(),{carrito:n,vaciarCarrito:r}=md(),[i,a]=A.useState(!1);return A.useEffect(()=>{const u=setTimeout(async()=>{var x;if(i)return;const h=t.get("session"),m=Tz(),g=(x=m==null?void 0:m.items)!=null&&x.length?m.items:n.map(_=>({id:_.id,nombre:_.nombre,precio:Number(_.precio)||0,cantidad:_.cantidad})),y=(m==null?void 0:m.total)??n.reduce((_,P)=>_+(Number(P.precio)||0)*P.cantidad,0);try{if(h){const _=To(mi(rt,"orders"),Ou("raw.SESSION","==",h),CP(1));if(!(await Mu(_)).empty){try{sessionStorage.removeItem("checkoutPayload")}catch{}a(!0);return}}if(e&&(g.length>0||y>=0)){const _=g.map(P=>({id:P.id,nombre:P.nombre,precio:Number(P.precio)||0,cantidad:P.cantidad,imagen:P.imagen||"/Productos/default.jpg",empresa:P.empresa||"N/A",subtotal:(Number(P.precio)||0)*P.cantidad}));await Iv(mi(rt,"orders"),{userId:e.uid,userEmail:e.email,userName:e.displayName,userPhone:(e==null?void 0:e.telefono)||null,productos:_,total:y,subtotal:_.reduce((P,E)=>P+E.subtotal,0),impuestos:0,envio:0,estado:"cancelado",estadoPago:"fallido",metodoPago:"CardNet",fecha:jP(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(m==null?void 0:m.mode)||(m?"unknown":"cart"),direccionEntrega:(e==null?void 0:e.direccionCompleta)||null,telefonoContacto:(e==null?void 0:e.telefono)||null,notasEspeciales:null,raw:{SESSION:h||null}});try{sessionStorage.removeItem("checkoutPayload")}catch{}a(!0)}}catch(_){console.error("Error guardando orden cancelada:",_)}},800);return()=>clearTimeout(u)},[e,n,i,t]),d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-red-50 px-6 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-lg w-full text-center",children:[d.jsx(py,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-extrabold text-red-600 mb-4",children:"Pago cancelado"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"El proceso de pago no se complet. Puedes intentar nuevamente."}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-center gap-3",children:[d.jsx(Qe,{to:"/carrito",className:"px-6 py-3 rounded-xl bg-red-600 text-white font-bold shadow hover:bg-red-700 transition",children:"Volver al carrito"}),d.jsx(Qe,{to:"/",className:"px-6 py-3 rounded-xl bg-gray-200 text-gray-700 font-bold shadow hover:bg-gray-300 transition",children:"Ir a la tienda"})]})]})})}function Cz(){const t=Qi();return d.jsx(YP,{children:d.jsx(cr,{mode:"wait",children:d.jsxs(O4,{location:t,children:[d.jsx(On,{path:"/",element:d.jsx(or,{children:d.jsx(rF,{})})}),d.jsx(On,{path:"/profile",element:d.jsx(bz,{children:d.jsx(or,{children:d.jsx(fF,{})})})}),d.jsx(On,{path:"/admin",element:d.jsx(P7,{})}),d.jsx(On,{path:"/producto/:id",element:d.jsx(or,{children:d.jsx(vF,{})})}),d.jsx(On,{path:"/producto/:id/detalle",element:d.jsx(or,{children:d.jsx(TF,{})})}),d.jsx(On,{path:"/carrito",element:d.jsx(or,{children:d.jsx(bF,{})})}),d.jsx(On,{path:"/contacto",element:d.jsx(or,{children:d.jsx(_F,{})})}),d.jsx(On,{path:"/nosotros",element:d.jsx(or,{children:d.jsx(EF,{})})}),d.jsx(On,{path:"/buscar",element:d.jsx(or,{children:d.jsx(yz,{})})}),d.jsx(On,{path:"/categorias",element:d.jsx(or,{children:d.jsx(qE,{})})}),d.jsx(On,{path:"/Productos/:categoria?",element:d.jsx(or,{children:d.jsx(qE,{})})}),d.jsx(On,{path:"/estafetas",element:d.jsx(or,{children:d.jsx(wz,{})})}),d.jsx(On,{path:"/payment/pending",element:d.jsx(or,{children:d.jsx(Ez,{})})}),d.jsx(On,{path:"/payment/success",element:d.jsx(or,{children:d.jsx(Sz,{})})}),d.jsx(On,{path:"/payment/cancel",element:d.jsx(or,{children:d.jsx(Pz,{})})})]},t.pathname)})})}function or({children:t}){return d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:t})}function kz(){const{pathname:t}=Qi(),e=fr(),{usuario:n}=Nr(),{abrirModal:r}=ac(),[i,a]=A.useState(!1),l=h=>t===h,u=h=>{(h==="/profile"||h==="/carrito")&&!n?a(!0):e(h)};return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t shadow-md flex justify-around items-center h-14 text-sm lg:hidden",children:[d.jsx(of,{onClick:()=>u("/"),icon:d.jsx(d7,{}),label:"Inicio",active:l("/")}),d.jsx(of,{onClick:()=>u("/categorias"),icon:d.jsx(p7,{}),label:"Categoras",active:l("/categorias")}),d.jsx(of,{onClick:()=>u("/carrito"),icon:d.jsx(Ik,{}),label:"Carrito",active:l("/carrito")}),d.jsx(of,{onClick:()=>u("/profile"),icon:d.jsx(Rk,{}),label:"Perfil",active:l("/profile")})]}),d.jsx(pd,{isOpen:i,onClose:()=>a(!1),onIniciarSesion:()=>{a(!1),r()}})]})}function of({onClick:t,icon:e,label:n,active:r}){return d.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center transition text-xs w-full py-1 ${r?"text-blue-600 font-semibold":"text-gray-500"}`,"aria-label":n,type:"button",children:[d.jsx("div",{className:"text-lg",children:e}),d.jsx("div",{children:n})]})}function Nz(){const{modalAbierto:t,setModalAbierto:e,modo:n,setModo:r}=ac(),{login:i,signup:a,usuario:l}=Nr(),[u,h]=A.useState(n),[m,g]=A.useState(""),[y,x]=A.useState(""),[_,P]=A.useState(""),[E,k]=A.useState("");A.useEffect(()=>{h(n),k(""),g(""),x(""),P("")},[t,n]);async function D(F){F.preventDefault(),k("");try{if(u==="login")await i(m,y);else{const O=await a(m,y);await hi(Vt(rt,"users",O.uid),{displayName:_||"Usuario",email:m,telefono:"",direccion:"",codigo:"",metodoEntrega:"",admin:!1,createdAt:new Date}),_&&await updateProfile(O,{displayName:_})}e(!1)}catch(O){k("Error: "+O.message)}}return t?d.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-gradient-to-br from-black/90 to-gray-900/90 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:d.jsxs(ye.div,{onClick:F=>F.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40",children:[d.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",children:""}),d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:u==="login"?d.jsxs(d.Fragment,{children:[d.jsx(Rk,{className:"text-[#3b82f6]"})," Iniciar Sesin"]}):d.jsxs(d.Fragment,{children:[d.jsx(y7,{className:"text-[#3b82f6]"})," Registrarse"]})}),E&&d.jsx("p",{className:"text-red-400 mb-4 text-center font-semibold",children:E}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u==="signup"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Nombre de usuario"}),d.jsx("input",{type:"text",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:_,onChange:F=>P(F.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Correo electrnico"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:m,onChange:F=>g(F.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Contrasea"}),d.jsx("input",{type:"password",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:y,onChange:F=>x(F.target.value)})]}),d.jsx("button",{type:"submit",className:"w-full bg-[#3b82f6] hover:bg-[#2563eb] text-white font-semibold py-2 rounded-lg shadow-lg transition transform hover:scale-105",children:u==="login"?"Iniciar sesin":"Registrarse"})]}),d.jsx("p",{className:"mt-4 text-center text-sm cursor-pointer text-[#3b82f6] hover:underline select-none",onClick:()=>{k("");const F=u==="login"?"signup":"login";h(F),r(F)},children:u==="login"?"No tienes una cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})]})}):null}const Az=()=>{const{pathname:t}=Qi();return A.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0;const e=document.querySelector("main");e&&(e.scrollTop=0)},[t]),null};function Iz(){const{usuarioInfo:t}=Nr(),{abrirModal:e}=ac(),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[l,u]=A.useState("Selecciona mtodo de entrega"),[h,m]=A.useState(0),g=A.useRef(null),[y,x]=A.useState(!0),_=A.useRef(typeof window<"u"?window.scrollY:0),P=A.useRef(!1);A.useEffect(()=>{if(!t){u("Selecciona mtodo de entrega");return}t.metodoEntrega==="tienda"?u("Recoger en: Playcenter Universal Santiago"):t.metodoEntrega==="domicilio"&&t.direccion?u(`Entregar en: ${t.direccion}`):u("Selecciona mtodo de entrega")},[t]),A.useEffect(()=>{const D=()=>{const B=document.querySelector("header"),K=B?Math.ceil(B.getBoundingClientRect().height):0;m(K)};D();const F=()=>D();window.addEventListener("resize",F);const O=new MutationObserver(()=>D());return O.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",F),O.disconnect()}},[]),A.useEffect(()=>{const D=()=>{P.current||(P.current=!0,requestAnimationFrame(()=>{const F=window.scrollY,O=_.current,B=F-O;F<=0?x(!0):Math.abs(B)<5||(B>0&&F>60?x(!1):B<0&&x(!0)),_.current=F,P.current=!1}))};return window.addEventListener("scroll",D,{passive:!0}),()=>window.removeEventListener("scroll",D)},[]);const E={position:"fixed",left:0,right:0,top:`${h}px`,zIndex:900,transform:y?"translateY(0)":"translateY(-110%)",transition:"transform 220ms ease, opacity 220ms ease",pointerEvents:y?"auto":"none",background:"white"},k=()=>{t?r(!0):a(!0)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:g,style:E,className:"shadow-md px-4 py-2 flex justify-between items-center",children:d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:k,children:[d.jsx(H7,{className:"w-5 h-5 text-gray-700"}),d.jsx("span",{className:"font-semibold text-gray-800 max-w-[220px] sm:max-w-[280px] md:max-w-[350px] truncate text-sm sm:text-base",children:l}),d.jsx(Mk,{className:"w-5 h-5 text-gray-600"})]})}),n&&t&&d.jsx(Lk,{abierto:n,onClose:()=>r(!1),usuarioId:t==null?void 0:t.uid,direccionEditar:null,actualizarLista:()=>{}}),d.jsx(pd,{isOpen:i,onClose:()=>a(!1),onIniciarSesion:()=>{a(!1),e()}})]})}function jz(){return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(x7,{}),d.jsx(Iz,{}),d.jsxs("main",{className:"flex-grow",children:[d.jsx(Az,{}),d.jsx(Cz,{})]}),d.jsx(w7,{}),d.jsx(kz,{}),d.jsx(Nz,{})]})}zA.createRoot(document.getElementById("root")).render(d.jsx(Di.StrictMode,{children:d.jsx(W4,{children:d.jsx(YP,{children:d.jsx(mF,{children:d.jsx(vV,{children:d.jsx(jz,{})})})})})}));
