function cA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lg={exports:{}},eu={},Fg={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function uA(){if(tw)return rt;tw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function k(R,B,Y){this.props=R,this.context=B,this.refs=S,this.updater=Y||_}k.prototype.isReactComponent={},k.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=k.prototype;function M(R,B,Y){this.props=R,this.context=B,this.refs=S,this.updater=Y||_}var F=M.prototype=new D;F.constructor=M,C(F,k.prototype),F.isPureReactComponent=!0;var H=Array.isArray,Q=Object.prototype.hasOwnProperty,G={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(R,B,Y){var Z,ie={},ue=null,me=null;if(B!=null)for(Z in B.ref!==void 0&&(me=B.ref),B.key!==void 0&&(ue=""+B.key),B)Q.call(B,Z)&&!V.hasOwnProperty(Z)&&(ie[Z]=B[Z]);var Se=arguments.length-2;if(Se===1)ie.children=Y;else if(1<Se){for(var Ce=Array(Se),Ke=0;Ke<Se;Ke++)Ce[Ke]=arguments[Ke+2];ie.children=Ce}if(R&&R.defaultProps)for(Z in Se=R.defaultProps,Se)ie[Z]===void 0&&(ie[Z]=Se[Z]);return{$$typeof:t,type:R,key:ue,ref:me,props:ie,_owner:G.current}}function j(R,B){return{$$typeof:t,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function E(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return B[Y]})}var $=/\/+/g;function P(R,B){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):B.toString(36)}function ye(R,B,Y,Z,ie){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(ue){case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case t:case e:me=!0}}if(me)return me=R,ie=ie(me),R=Z===""?"."+P(me,0):Z,H(ie)?(Y="",R!=null&&(Y=R.replace($,"$&/")+"/"),ye(ie,B,Y,"",function(Ke){return Ke})):ie!=null&&(E(ie)&&(ie=j(ie,Y+(!ie.key||me&&me.key===ie.key?"":(""+ie.key).replace($,"$&/")+"/")+R)),B.push(ie)),1;if(me=0,Z=Z===""?".":Z+":",H(R))for(var Se=0;Se<R.length;Se++){ue=R[Se];var Ce=Z+P(ue,Se);me+=ye(ue,B,Y,Ce,ie)}else if(Ce=v(R),typeof Ce=="function")for(R=Ce.call(R),Se=0;!(ue=R.next()).done;)ue=ue.value,Ce=Z+P(ue,Se++),me+=ye(ue,B,Y,Ce,ie);else if(ue==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return me}function Le(R,B,Y){if(R==null)return R;var Z=[],ie=0;return ye(R,Z,"","",function(ue){return B.call(Y,ue,ie++)}),Z}function Me(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var we={current:null},W={transition:null},ae={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:W,ReactCurrentOwner:G};function L(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Le,forEach:function(R,B,Y){Le(R,function(){B.apply(this,arguments)},Y)},count:function(R){var B=0;return Le(R,function(){B++}),B},toArray:function(R){return Le(R,function(B){return B})||[]},only:function(R){if(!E(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=k,rt.Fragment=n,rt.Profiler=s,rt.PureComponent=M,rt.StrictMode=r,rt.Suspense=h,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,rt.act=L,rt.cloneElement=function(R,B,Y){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Z=C({},R.props),ie=R.key,ue=R.ref,me=R._owner;if(B!=null){if(B.ref!==void 0&&(ue=B.ref,me=G.current),B.key!==void 0&&(ie=""+B.key),R.type&&R.type.defaultProps)var Se=R.type.defaultProps;for(Ce in B)Q.call(B,Ce)&&!V.hasOwnProperty(Ce)&&(Z[Ce]=B[Ce]===void 0&&Se!==void 0?Se[Ce]:B[Ce])}var Ce=arguments.length-2;if(Ce===1)Z.children=Y;else if(1<Ce){Se=Array(Ce);for(var Ke=0;Ke<Ce;Ke++)Se[Ke]=arguments[Ke+2];Z.children=Se}return{$$typeof:t,type:R.type,key:ie,ref:ue,props:Z,_owner:me}},rt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},rt.createElement=I,rt.createFactory=function(R){var B=I.bind(null,R);return B.type=R,B},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:d,render:R}},rt.isValidElement=E,rt.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Me}},rt.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},rt.startTransition=function(R){var B=W.transition;W.transition={};try{R()}finally{W.transition=B}},rt.unstable_act=L,rt.useCallback=function(R,B){return we.current.useCallback(R,B)},rt.useContext=function(R){return we.current.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R){return we.current.useDeferredValue(R)},rt.useEffect=function(R,B){return we.current.useEffect(R,B)},rt.useId=function(){return we.current.useId()},rt.useImperativeHandle=function(R,B,Y){return we.current.useImperativeHandle(R,B,Y)},rt.useInsertionEffect=function(R,B){return we.current.useInsertionEffect(R,B)},rt.useLayoutEffect=function(R,B){return we.current.useLayoutEffect(R,B)},rt.useMemo=function(R,B){return we.current.useMemo(R,B)},rt.useReducer=function(R,B,Y){return we.current.useReducer(R,B,Y)},rt.useRef=function(R){return we.current.useRef(R)},rt.useState=function(R){return we.current.useState(R)},rt.useSyncExternalStore=function(R,B,Y){return we.current.useSyncExternalStore(R,B,Y)},rt.useTransition=function(){return we.current.useTransition()},rt.version="18.3.1",rt}var nw;function Fy(){return nw||(nw=1,Fg.exports=uA()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function dA(){if(rw)return eu;rw=1;var t=Fy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var y,g={},v=null,_=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(y in h)r.call(h,y)&&!o.hasOwnProperty(y)&&(g[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:d,key:v,ref:_,props:g,_owner:s.current}}return eu.Fragment=n,eu.jsx=c,eu.jsxs=c,eu}var sw;function hA(){return sw||(sw=1,Lg.exports=dA()),Lg.exports}var l=hA(),N=Fy();const Fr=Ly(N),k0=cA({__proto__:null,default:Fr},[N]);var Lh={},Ug={exports:{}},mr={},Bg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function fA(){return iw||(iw=1,function(t){function e(W,ae){var L=W.length;W.push(ae);e:for(;0<L;){var R=L-1>>>1,B=W[R];if(0<s(B,ae))W[R]=ae,W[L]=B,L=R;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],L=W.pop();if(L!==ae){W[0]=L;e:for(var R=0,B=W.length,Y=B>>>1;R<Y;){var Z=2*(R+1)-1,ie=W[Z],ue=Z+1,me=W[ue];if(0>s(ie,L))ue<B&&0>s(me,ie)?(W[R]=me,W[ue]=L,R=ue):(W[R]=ie,W[Z]=L,R=Z);else if(ue<B&&0>s(me,L))W[R]=me,W[ue]=L,R=ue;else break e}}return ae}function s(W,ae){var L=W.sortIndex-ae.sortIndex;return L!==0?L:W.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],y=1,g=null,v=3,_=!1,C=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(W){for(var ae=n(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=W)r(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(m)}}function H(W){if(S=!1,F(W),!C)if(n(h)!==null)C=!0,Me(Q);else{var ae=n(m);ae!==null&&we(H,ae.startTime-W)}}function Q(W,ae){C=!1,S&&(S=!1,D(I),I=-1),_=!0;var L=v;try{for(F(ae),g=n(h);g!==null&&(!(g.expirationTime>ae)||W&&!U());){var R=g.callback;if(typeof R=="function"){g.callback=null,v=g.priorityLevel;var B=R(g.expirationTime<=ae);ae=t.unstable_now(),typeof B=="function"?g.callback=B:g===n(h)&&r(h),F(ae)}else r(h);g=n(h)}if(g!==null)var Y=!0;else{var Z=n(m);Z!==null&&we(H,Z.startTime-ae),Y=!1}return Y}finally{g=null,v=L,_=!1}}var G=!1,V=null,I=-1,j=5,E=-1;function U(){return!(t.unstable_now()-E<j)}function $(){if(V!==null){var W=t.unstable_now();E=W;var ae=!0;try{ae=V(!0,W)}finally{ae?P():(G=!1,V=null)}}else G=!1}var P;if(typeof M=="function")P=function(){M($)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Le=ye.port2;ye.port1.onmessage=$,P=function(){Le.postMessage(null)}}else P=function(){k($,0)};function Me(W){V=W,G||(G=!0,P())}function we(W,ae){I=k(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,Me(Q))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var L=v;v=ae;try{return W()}finally{v=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var L=v;v=W;try{return ae()}finally{v=L}},t.unstable_scheduleCallback=function(W,ae,L){var R=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?R+L:R):L=R,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,W={id:y++,callback:ae,priorityLevel:W,startTime:L,expirationTime:B,sortIndex:-1},L>R?(W.sortIndex=L,e(m,W),n(h)===null&&W===n(m)&&(S?(D(I),I=-1):S=!0,we(H,L-R))):(W.sortIndex=B,e(h,W),C||_||(C=!0,Me(Q))),W},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(W){var ae=v;return function(){var L=v;v=ae;try{return W.apply(this,arguments)}finally{v=L}}}}($g)),$g}var ow;function mA(){return ow||(ow=1,Bg.exports=fA()),Bg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function pA(){if(aw)return mr;aw=1;var t=Fy(),e=mA();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function v(i){return h.call(g,i)?!0:h.call(y,i)?!1:m.test(i)?g[i]=!0:(y[i]=!0,!1)}function _(i,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,u,p){if(a===null||typeof a>"u"||_(i,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(i,a,u,p,x,w,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=w,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];k[a]=new S(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,M);k[a]=new S(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,M);k[a]=new S(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,M);k[a]=new S(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,u,p){var x=k.hasOwnProperty(a)?k[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,x,p)&&(u=null),p||x===null?v(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):x.mustUseProperty?i[x.propertyName]=u===null?x.type===3?!1:"":u:(a=x.attributeName,p=x.attributeNamespace,u===null?i.removeAttribute(a):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,p?i.setAttributeNS(p,a,u):i.setAttribute(a,u))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),G=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),W=Symbol.iterator;function ae(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var L=Object.assign,R;function B(i){if(R===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);R=a&&a[1]||""}return`
`+R+i}var Y=!1;function Z(i,a){if(!i||Y)return"";Y=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var p=ne}Reflect.construct(i,[],a)}else{try{a.call()}catch(ne){p=ne}i.call(a.prototype)}else{try{throw Error()}catch(ne){p=ne}i()}}catch(ne){if(ne&&p&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),w=p.stack.split(`
`),A=x.length-1,z=w.length-1;1<=A&&0<=z&&x[A]!==w[z];)z--;for(;1<=A&&0<=z;A--,z--)if(x[A]!==w[z]){if(A!==1||z!==1)do if(A--,z--,0>z||x[A]!==w[z]){var q=`
`+x[A].replace(" at new "," at ");return i.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",i.displayName)),q}while(1<=A&&0<=z);break}}}finally{Y=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?B(i):""}function ie(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=Z(i.type,!1),i;case 11:return i=Z(i.type.render,!1),i;case 1:return i=Z(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case G:return"Portal";case j:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case E:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Le:return a=i.displayName||null,a!==null?a:ue(i.type)||"Memo";case Me:a=i._payload,i=i._init;try{return ue(i(a))}catch{}}return null}function me(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ce(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ke(i){var a=Ce(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(A){p=""+A,w.call(this,A)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function at(i){i._valueTracker||(i._valueTracker=Ke(i))}function vt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return i&&(p=Ce(i)?i.checked?"true":"false":i.value),i=p,i!==u?(a.setValue(i),!0):!1}function ut(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function At(i,a){var u=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function un(i,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Se(a.value!=null?a.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Tn(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function xt(i,a){Tn(i,a);var u=Se(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ue(i,a.type,u):a.hasOwnProperty("defaultValue")&&Ue(i,a.type,Se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ve(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ue(i,a,u){(a!=="number"||ut(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var De=Array.isArray;function Ct(i,a,u,p){if(i=i.options,a){a={};for(var x=0;x<u.length;x++)a["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=a.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Se(u),a=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,p&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function wt(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function nn(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(De(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Se(u)}}function Bn(i,a){var u=Se(a.value),p=Se(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function fe(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ge(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ke(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ge(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var re,Te=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,x){MSApp.execUnsafeLocalFunction(function(){return i(a,u,p,x)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(re=re||document.createElement("div"),re.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=re.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function je(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(i){lt.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),et[a]=et[i]})});function Ye(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||et.hasOwnProperty(i)&&et[i]?(""+a).trim():a+"px"}function Ot(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,x=Ye(u,a[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,x):i[u]=x}}var or=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(i,a){if(a){if(or[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function zr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function Tr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var be=null,Fe=null,We=null;function _t(i){if(i=Fc(i)){if(typeof be!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Zd(a),be(i.stateNode,i.type,a))}}function vn(i){Fe?We?We.push(i):We=[i]:Fe=i}function Cr(){if(Fe){var i=Fe,a=We;if(We=Fe=null,_t(i),a)for(i=0;i<a.length;i++)_t(a[i])}}function In(i,a){return i(a)}function yc(){}var ii=!1;function vc(i,a,u){if(ii)return i(a,u);ii=!0;try{return In(i,a,u)}finally{ii=!1,(Fe!==null||We!==null)&&(yc(),Cr())}}function rn(i,a){var u=i.stateNode;if(u===null)return null;var p=Zd(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var La=!1;if(d)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){La=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{La=!1}function Bo(i,a,u,p,x,w,A,z,q){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(u,ne)}catch(he){this.onError(he)}}var $o=!1,Fa=null,cs=!1,xc=null,hp={onError:function(i){$o=!0,Fa=i}};function Ua(i,a,u,p,x,w,A,z,q){$o=!1,Fa=null,Bo.apply(hp,arguments)}function Sd(i,a,u,p,x,w,A,z,q){if(Ua.apply(this,arguments),$o){if($o){var ne=Fa;$o=!1,Fa=null}else throw Error(n(198));cs||(cs=!0,xc=ne)}}function us(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function zo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function ds(i){if(us(i)!==i)throw Error(n(188))}function Td(i){var a=i.alternate;if(!a){if(a=us(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,p=a;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){u=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return ds(x),i;if(w===p)return ds(x),a;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=x,p=w;else{for(var A=!1,z=x.child;z;){if(z===u){A=!0,u=x,p=w;break}if(z===p){A=!0,p=x,u=w;break}z=z.sibling}if(!A){for(z=w.child;z;){if(z===u){A=!0,u=w,p=x;break}if(z===p){A=!0,p=w,u=x;break}z=z.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function bc(i){return i=Td(i),i!==null?Ba(i):null}function Ba(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ba(i);if(a!==null)return a;i=i.sibling}return null}var $a=e.unstable_scheduleCallback,wc=e.unstable_cancelCallback,Cd=e.unstable_shouldYield,fp=e.unstable_requestPaint,It=e.unstable_now,Nd=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,Li=e.unstable_UserBlockingPriority,Wr=e.unstable_NormalPriority,_c=e.unstable_LowPriority,kd=e.unstable_IdlePriority,Wo=null,Nr=null;function jd(i){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Wo,i,void 0,(i.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Id,Ec=Math.log,Ad=Math.LN2;function Id(i){return i>>>=0,i===0?32:31-(Ec(i)/Ad|0)|0}var za=64,Ha=4194304;function Fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function qo(i,a){var u=i.pendingLanes;if(u===0)return 0;var p=0,x=i.suspendedLanes,w=i.pingedLanes,A=u&268435455;if(A!==0){var z=A&~x;z!==0?p=Fi(z):(w&=A,w!==0&&(p=Fi(w)))}else A=u&~x,A!==0?p=Fi(A):w!==0&&(p=Fi(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&x)===0&&(x=p&-p,w=a&-a,x>=w||x===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)u=31-er(a),x=1<<u,p|=i[u],a&=~x;return p}function mp(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(i,a){for(var u=i.suspendedLanes,p=i.pingedLanes,x=i.expirationTimes,w=i.pendingLanes;0<w;){var A=31-er(w),z=1<<A,q=x[A];q===-1?((z&u)===0||(z&p)!==0)&&(x[A]=mp(z,a)):q<=a&&(i.expiredLanes|=z),w&=~z}}function kr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Go(){var i=za;return za<<=1,(za&4194240)===0&&(za=64),i}function Ui(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Bi(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-er(a),i[a]=u}function Nt(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var x=31-er(u),w=1<<x;a[x]=0,p[x]=-1,i[x]=-1,u&=~w}}function $i(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var p=31-er(u),x=1<<p;x&a|i[p]&a&&(i[p]|=a),u&=~x}}var ct=0;function zi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Pd,Wa,Rd,Dd,Vd,Sc=!1,js=[],Pn=null,hs=null,fs=null,Hi=new Map,qr=new Map,As=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(i,a){switch(i){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Hi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(a.pointerId)}}function ar(i,a,u,p,x,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},a!==null&&(a=Fc(a),a!==null&&Wa(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function gp(i,a,u,p,x){switch(a){case"focusin":return Pn=ar(Pn,i,a,u,p,x),!0;case"dragenter":return hs=ar(hs,i,a,u,p,x),!0;case"mouseover":return fs=ar(fs,i,a,u,p,x),!0;case"pointerover":var w=x.pointerId;return Hi.set(w,ar(Hi.get(w)||null,i,a,u,p,x)),!0;case"gotpointercapture":return w=x.pointerId,qr.set(w,ar(qr.get(w)||null,i,a,u,p,x)),!0}return!1}function Od(i){var a=Jo(i.target);if(a!==null){var u=us(a);if(u!==null){if(a=u.tag,a===13){if(a=zo(u),a!==null){i.blockedOn=a,Vd(i.priority,function(){Rd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ai(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=qa(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Hr=p,u.target.dispatchEvent(p),Hr=null}else return a=Fc(u),a!==null&&Wa(a),i.blockedOn=u,!1;a.shift()}return!0}function Ko(i,a,u){ai(i)&&u.delete(a)}function Ld(){Sc=!1,Pn!==null&&ai(Pn)&&(Pn=null),hs!==null&&ai(hs)&&(hs=null),fs!==null&&ai(fs)&&(fs=null),Hi.forEach(Ko),qr.forEach(Ko)}function ms(i,a){i.blockedOn===a&&(i.blockedOn=null,Sc||(Sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ld)))}function ps(i){function a(x){return ms(x,i)}if(0<js.length){ms(js[0],i);for(var u=1;u<js.length;u++){var p=js[u];p.blockedOn===i&&(p.blockedOn=null)}}for(Pn!==null&&ms(Pn,i),hs!==null&&ms(hs,i),fs!==null&&ms(fs,i),Hi.forEach(a),qr.forEach(a),u=0;u<As.length;u++)p=As[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<As.length&&(u=As[0],u.blockedOn===null);)Od(u),u.blockedOn===null&&As.shift()}var li=H.ReactCurrentBatchConfig,Wi=!0;function Lt(i,a,u,p){var x=ct,w=li.transition;li.transition=null;try{ct=1,Tc(i,a,u,p)}finally{ct=x,li.transition=w}}function yp(i,a,u,p){var x=ct,w=li.transition;li.transition=null;try{ct=4,Tc(i,a,u,p)}finally{ct=x,li.transition=w}}function Tc(i,a,u,p){if(Wi){var x=qa(i,a,u,p);if(x===null)kp(i,a,p,Qo,u),Md(i,p);else if(gp(x,i,a,u,p))p.stopPropagation();else if(Md(i,p),a&4&&-1<pp.indexOf(i)){for(;x!==null;){var w=Fc(x);if(w!==null&&Pd(w),w=qa(i,a,u,p),w===null&&kp(i,a,p,Qo,u),w===x)break;x=w}x!==null&&p.stopPropagation()}else kp(i,a,p,null,u)}}var Qo=null;function qa(i,a,u,p){if(Qo=null,i=Tr(p),i=Jo(i),i!==null)if(a=us(i),a===null)i=null;else if(u=a.tag,u===13){if(i=zo(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Qo=i,null}function Cc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nd()){case Ho:return 1;case Li:return 4;case Wr:case _c:return 16;case kd:return 536870912;default:return 16}default:return 16}}var jr=null,Ga=null,lr=null;function Nc(){if(lr)return lr;var i,a=Ga,u=a.length,p,x="value"in jr?jr.value:jr.textContent,w=x.length;for(i=0;i<u&&a[i]===x[i];i++);var A=u-i;for(p=1;p<=A&&a[u-p]===x[w-p];p++);return lr=x.slice(i,1<p?1-p:void 0)}function Ka(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Is(){return!0}function kc(){return!1}function Rn(i){function a(u,p,x,w,A){this._reactName=u,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Is:kc,this.isPropagationStopped=kc,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),a}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Rn(gs),Ps=L({},gs,{view:0,detail:0}),vp=Rn(Ps),Ya,ci,qi,Yo=L({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Ya=i.screenX-qi.screenX,ci=i.screenY-qi.screenY):ci=Ya=0,qi=i),Ya)},movementY:function(i){return"movementY"in i?i.movementY:ci}}),Xa=Rn(Yo),jc=L({},Yo,{dataTransfer:0}),Fd=Rn(jc),Ja=L({},Ps,{relatedTarget:0}),Za=Rn(Ja),Ud=L({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),ui=Rn(Ud),Bd=L({},gs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$d=Rn(Bd),zd=L({},gs,{data:0}),Ac=Rn(zd),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Hd[i])?!!a[i]:!1}function Rs(){return Wd}var f=L({},Ps,{key:function(i){if(i.key){var a=el[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(i){return i.type==="keypress"?Ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),b=Rn(f),T=L({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Rn(T),X=L({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),se=Rn(X),_e=L({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Et=Rn(_e),xn=L({},Yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=Rn(xn),Cn=[9,13,27,32],dn=d&&"CompositionEvent"in window,Gr=null;d&&"documentMode"in document&&(Gr=document.documentMode);var Ar=d&&"TextEvent"in window&&!Gr,Xo=d&&(!dn||Gr&&8<Gr&&11>=Gr),tl=" ",Qx=!1;function Yx(i,a){switch(i){case"keyup":return Cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nl=!1;function o4(i,a){switch(i){case"compositionend":return Xx(a);case"keypress":return a.which!==32?null:(Qx=!0,tl);case"textInput":return i=a.data,i===tl&&Qx?null:i;default:return null}}function a4(i,a){if(nl)return i==="compositionend"||!dn&&Yx(i,a)?(i=Nc(),lr=Ga=jr=null,nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xo&&a.locale!=="ko"?null:a.data;default:return null}}var l4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!l4[i.type]:a==="textarea"}function Zx(i,a,u,p){vn(p),a=Yd(a,"onChange"),0<a.length&&(u=new Qa("onChange","change",null,u,p),i.push({event:u,listeners:a}))}var Ic=null,Pc=null;function c4(i){y1(i,0)}function qd(i){var a=al(i);if(vt(a))return i}function u4(i,a){if(i==="change")return a}var e1=!1;if(d){var xp;if(d){var bp="oninput"in document;if(!bp){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),bp=typeof t1.oninput=="function"}xp=bp}else xp=!1;e1=xp&&(!document.documentMode||9<document.documentMode)}function n1(){Ic&&(Ic.detachEvent("onpropertychange",r1),Pc=Ic=null)}function r1(i){if(i.propertyName==="value"&&qd(Pc)){var a=[];Zx(a,Pc,i,Tr(i)),vc(c4,a)}}function d4(i,a,u){i==="focusin"?(n1(),Ic=a,Pc=u,Ic.attachEvent("onpropertychange",r1)):i==="focusout"&&n1()}function h4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qd(Pc)}function f4(i,a){if(i==="click")return qd(a)}function m4(i,a){if(i==="input"||i==="change")return qd(a)}function p4(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ys=typeof Object.is=="function"?Object.is:p4;function Rc(i,a){if(ys(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var x=u[p];if(!h.call(a,x)||!ys(i[x],a[x]))return!1}return!0}function s1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function i1(i,a){var u=s1(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=a&&p>=a)return{node:u,offset:a-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=s1(u)}}function o1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?o1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function a1(){for(var i=window,a=ut();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=ut(i.document)}return a}function wp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function g4(i){var a=a1(),u=i.focusedElem,p=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&o1(u.ownerDocument.documentElement,u)){if(p!==null&&wp(u)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=u.textContent.length,w=Math.min(p.start,x);p=p.end===void 0?w:Math.min(p.end,x),!i.extend&&w>p&&(x=p,p=w,w=x),x=i1(u,w);var A=i1(u,p);x&&A&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),w>p?(i.addRange(a),i.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var y4=d&&"documentMode"in document&&11>=document.documentMode,rl=null,_p=null,Dc=null,Ep=!1;function l1(i,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ep||rl==null||rl!==ut(p)||(p=rl,"selectionStart"in p&&wp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Dc&&Rc(Dc,p)||(Dc=p,p=Yd(_p,"onSelect"),0<p.length&&(a=new Qa("onSelect","select",null,a,u),i.push({event:a,listeners:p}),a.target=rl)))}function Gd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var sl={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},Sp={},c1={};d&&(c1=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Kd(i){if(Sp[i])return Sp[i];if(!sl[i])return i;var a=sl[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in c1)return Sp[i]=a[u];return i}var u1=Kd("animationend"),d1=Kd("animationiteration"),h1=Kd("animationstart"),f1=Kd("transitionend"),m1=new Map,p1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(i,a){m1.set(i,a),o(a,[i])}for(var Tp=0;Tp<p1.length;Tp++){var Cp=p1[Tp],v4=Cp.toLowerCase(),x4=Cp[0].toUpperCase()+Cp.slice(1);Gi(v4,"on"+x4)}Gi(u1,"onAnimationEnd"),Gi(d1,"onAnimationIteration"),Gi(h1,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(f1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function g1(i,a,u){var p=i.type||"unknown-event";i.currentTarget=u,Sd(p,a,void 0,i),i.currentTarget=null}function y1(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],x=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var A=p.length-1;0<=A;A--){var z=p[A],q=z.instance,ne=z.currentTarget;if(z=z.listener,q!==w&&x.isPropagationStopped())break e;g1(x,z,ne),w=q}else for(A=0;A<p.length;A++){if(z=p[A],q=z.instance,ne=z.currentTarget,z=z.listener,q!==w&&x.isPropagationStopped())break e;g1(x,z,ne),w=q}}}if(cs)throw i=xc,cs=!1,xc=null,i}function Dt(i,a){var u=a[Dp];u===void 0&&(u=a[Dp]=new Set);var p=i+"__bubble";u.has(p)||(v1(a,i,2,!1),u.add(p))}function Np(i,a,u){var p=0;a&&(p|=4),v1(u,i,p,a)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function Mc(i){if(!i[Qd]){i[Qd]=!0,r.forEach(function(u){u!=="selectionchange"&&(b4.has(u)||Np(u,!1,i),Np(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Qd]||(a[Qd]=!0,Np("selectionchange",!1,a))}}function v1(i,a,u,p){switch(Cc(a)){case 1:var x=Lt;break;case 4:x=yp;break;default:x=Tc}u=x.bind(null,a,u,i),x=void 0,!La||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?i.addEventListener(a,u,{capture:!0,passive:x}):i.addEventListener(a,u,!0):x!==void 0?i.addEventListener(a,u,{passive:x}):i.addEventListener(a,u,!1)}function kp(i,a,u,p,x){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var z=p.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(A===4)for(A=p.return;A!==null;){var q=A.tag;if((q===3||q===4)&&(q=A.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;A=A.return}for(;z!==null;){if(A=Jo(z),A===null)return;if(q=A.tag,q===5||q===6){p=w=A;continue e}z=z.parentNode}}p=p.return}vc(function(){var ne=w,he=Tr(u),pe=[];e:{var de=m1.get(i);if(de!==void 0){var Ae=Qa,Re=i;switch(i){case"keypress":if(Ka(u)===0)break e;case"keydown":case"keyup":Ae=b;break;case"focusin":Re="focus",Ae=Za;break;case"focusout":Re="blur",Ae=Za;break;case"beforeblur":case"afterblur":Ae=Za;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=se;break;case u1:case d1:case h1:Ae=ui;break;case f1:Ae=Et;break;case"scroll":Ae=vp;break;case"wheel":Ae=dt;break;case"copy":case"cut":case"paste":Ae=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=O}var Ve=(a&4)!==0,sn=!Ve&&i==="scroll",J=Ve?de!==null?de+"Capture":null:de;Ve=[];for(var K=ne,ee;K!==null;){ee=K;var xe=ee.stateNode;if(ee.tag===5&&xe!==null&&(ee=xe,J!==null&&(xe=rn(K,J),xe!=null&&Ve.push(Oc(K,xe,ee)))),sn)break;K=K.return}0<Ve.length&&(de=new Ae(de,Re,null,u,he),pe.push({event:de,listeners:Ve}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",de&&u!==Hr&&(Re=u.relatedTarget||u.fromElement)&&(Jo(Re)||Re[di]))break e;if((Ae||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Ae?(Re=u.relatedTarget||u.toElement,Ae=ne,Re=Re?Jo(Re):null,Re!==null&&(sn=us(Re),Re!==sn||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ae=null,Re=ne),Ae!==Re)){if(Ve=Xa,xe="onMouseLeave",J="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=O,xe="onPointerLeave",J="onPointerEnter",K="pointer"),sn=Ae==null?de:al(Ae),ee=Re==null?de:al(Re),de=new Ve(xe,K+"leave",Ae,u,he),de.target=sn,de.relatedTarget=ee,xe=null,Jo(he)===ne&&(Ve=new Ve(J,K+"enter",Re,u,he),Ve.target=ee,Ve.relatedTarget=sn,xe=Ve),sn=xe,Ae&&Re)t:{for(Ve=Ae,J=Re,K=0,ee=Ve;ee;ee=il(ee))K++;for(ee=0,xe=J;xe;xe=il(xe))ee++;for(;0<K-ee;)Ve=il(Ve),K--;for(;0<ee-K;)J=il(J),ee--;for(;K--;){if(Ve===J||J!==null&&Ve===J.alternate)break t;Ve=il(Ve),J=il(J)}Ve=null}else Ve=null;Ae!==null&&x1(pe,de,Ae,Ve,!1),Re!==null&&sn!==null&&x1(pe,sn,Re,Ve,!0)}}e:{if(de=ne?al(ne):window,Ae=de.nodeName&&de.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&de.type==="file")var Oe=u4;else if(Jx(de))if(e1)Oe=m4;else{Oe=h4;var ze=d4}else(Ae=de.nodeName)&&Ae.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Oe=f4);if(Oe&&(Oe=Oe(i,ne))){Zx(pe,Oe,u,he);break e}ze&&ze(i,de,ne),i==="focusout"&&(ze=de._wrapperState)&&ze.controlled&&de.type==="number"&&Ue(de,"number",de.value)}switch(ze=ne?al(ne):window,i){case"focusin":(Jx(ze)||ze.contentEditable==="true")&&(rl=ze,_p=ne,Dc=null);break;case"focusout":Dc=_p=rl=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,l1(pe,u,he);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":l1(pe,u,he)}var He;if(dn)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else nl?Yx(i,u)&&(Xe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(Xo&&u.locale!=="ko"&&(nl||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&nl&&(He=Nc()):(jr=he,Ga="value"in jr?jr.value:jr.textContent,nl=!0)),ze=Yd(ne,Xe),0<ze.length&&(Xe=new Ac(Xe,i,null,u,he),pe.push({event:Xe,listeners:ze}),He?Xe.data=He:(He=Xx(u),He!==null&&(Xe.data=He)))),(He=Ar?o4(i,u):a4(i,u))&&(ne=Yd(ne,"onBeforeInput"),0<ne.length&&(he=new Ac("onBeforeInput","beforeinput",null,u,he),pe.push({event:he,listeners:ne}),he.data=He))}y1(pe,a)})}function Oc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Yd(i,a){for(var u=a+"Capture",p=[];i!==null;){var x=i,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=rn(i,u),w!=null&&p.unshift(Oc(i,w,x)),w=rn(i,a),w!=null&&p.push(Oc(i,w,x))),i=i.return}return p}function il(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function x1(i,a,u,p,x){for(var w=a._reactName,A=[];u!==null&&u!==p;){var z=u,q=z.alternate,ne=z.stateNode;if(q!==null&&q===p)break;z.tag===5&&ne!==null&&(z=ne,x?(q=rn(u,w),q!=null&&A.unshift(Oc(u,q,z))):x||(q=rn(u,w),q!=null&&A.push(Oc(u,q,z)))),u=u.return}A.length!==0&&i.push({event:a,listeners:A})}var w4=/\r\n?/g,_4=/\u0000|\uFFFD/g;function b1(i){return(typeof i=="string"?i:""+i).replace(w4,`
`).replace(_4,"")}function Xd(i,a,u){if(a=b1(a),b1(i)!==a&&u)throw Error(n(425))}function Jd(){}var jp=null,Ap=null;function Ip(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,E4=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof w1<"u"?function(i){return w1.resolve(null).then(i).catch(T4)}:Pp;function T4(i){setTimeout(function(){throw i})}function Rp(i,a){var u=a,p=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(p===0){i.removeChild(x),ps(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=x}while(u);ps(a)}function Ki(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function _1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Ds="__reactFiber$"+ol,Lc="__reactProps$"+ol,di="__reactContainer$"+ol,Dp="__reactEvents$"+ol,C4="__reactListeners$"+ol,N4="__reactHandles$"+ol;function Jo(i){var a=i[Ds];if(a)return a;for(var u=i.parentNode;u;){if(a=u[di]||u[Ds]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=_1(i);i!==null;){if(u=i[Ds])return u;i=_1(i)}return a}i=u,u=i.parentNode}return null}function Fc(i){return i=i[Ds]||i[di],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function al(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Zd(i){return i[Lc]||null}var Vp=[],ll=-1;function Qi(i){return{current:i}}function Vt(i){0>ll||(i.current=Vp[ll],Vp[ll]=null,ll--)}function Pt(i,a){ll++,Vp[ll]=i.current,i.current=a}var Yi={},$n=Qi(Yi),cr=Qi(!1),Zo=Yi;function cl(i,a){var u=i.type.contextTypes;if(!u)return Yi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in u)x[w]=a[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function ur(i){return i=i.childContextTypes,i!=null}function eh(){Vt(cr),Vt($n)}function E1(i,a,u){if($n.current!==Yi)throw Error(n(168));Pt($n,a),Pt(cr,u)}function S1(i,a,u){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(n(108,me(i)||"Unknown",x));return L({},u,p)}function th(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Yi,Zo=$n.current,Pt($n,i),Pt(cr,cr.current),!0}function T1(i,a,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=S1(i,a,Zo),p.__reactInternalMemoizedMergedChildContext=i,Vt(cr),Vt($n),Pt($n,i)):Vt(cr),Pt(cr,u)}var hi=null,nh=!1,Mp=!1;function C1(i){hi===null?hi=[i]:hi.push(i)}function k4(i){nh=!0,C1(i)}function Xi(){if(!Mp&&hi!==null){Mp=!0;var i=0,a=ct;try{var u=hi;for(ct=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}hi=null,nh=!1}catch(x){throw hi!==null&&(hi=hi.slice(i+1)),$a(Ho,Xi),x}finally{ct=a,Mp=!1}}return null}var ul=[],dl=0,rh=null,sh=0,Kr=[],Qr=0,ea=null,fi=1,mi="";function ta(i,a){ul[dl++]=sh,ul[dl++]=rh,rh=i,sh=a}function N1(i,a,u){Kr[Qr++]=fi,Kr[Qr++]=mi,Kr[Qr++]=ea,ea=i;var p=fi;i=mi;var x=32-er(p)-1;p&=~(1<<x),u+=1;var w=32-er(a)+x;if(30<w){var A=x-x%5;w=(p&(1<<A)-1).toString(32),p>>=A,x-=A,fi=1<<32-er(a)+x|u<<x|p,mi=w+i}else fi=1<<w|u<<x|p,mi=i}function Op(i){i.return!==null&&(ta(i,1),N1(i,1,0))}function Lp(i){for(;i===rh;)rh=ul[--dl],ul[dl]=null,sh=ul[--dl],ul[dl]=null;for(;i===ea;)ea=Kr[--Qr],Kr[Qr]=null,mi=Kr[--Qr],Kr[Qr]=null,fi=Kr[--Qr],Kr[Qr]=null}var Ir=null,Pr=null,Ft=!1,vs=null;function k1(i,a){var u=Zr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function j1(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Ir=i,Pr=Ki(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Ir=i,Pr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ea!==null?{id:fi,overflow:mi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Zr(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,Ir=i,Pr=null,!0):!1;default:return!1}}function Fp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Up(i){if(Ft){var a=Pr;if(a){var u=a;if(!j1(i,a)){if(Fp(i))throw Error(n(418));a=Ki(u.nextSibling);var p=Ir;a&&j1(i,a)?k1(p,u):(i.flags=i.flags&-4097|2,Ft=!1,Ir=i)}}else{if(Fp(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ft=!1,Ir=i}}}function A1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ir=i}function ih(i){if(i!==Ir)return!1;if(!Ft)return A1(i),Ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Ip(i.type,i.memoizedProps)),a&&(a=Pr)){if(Fp(i))throw I1(),Error(n(418));for(;a;)k1(i,a),a=Ki(a.nextSibling)}if(A1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Pr=Ki(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Pr=null}}else Pr=Ir?Ki(i.stateNode.nextSibling):null;return!0}function I1(){for(var i=Pr;i;)i=Ki(i.nextSibling)}function hl(){Pr=Ir=null,Ft=!1}function Bp(i){vs===null?vs=[i]:vs.push(i)}var j4=H.ReactCurrentBatchConfig;function Uc(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var x=p,w=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(A){var z=x.refs;A===null?delete z[w]:z[w]=A},a._stringRef=w,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function oh(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function P1(i){var a=i._init;return a(i._payload)}function R1(i){function a(J,K){if(i){var ee=J.deletions;ee===null?(J.deletions=[K],J.flags|=16):ee.push(K)}}function u(J,K){if(!i)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function p(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function x(J,K){return J=io(J,K),J.index=0,J.sibling=null,J}function w(J,K,ee){return J.index=ee,i?(ee=J.alternate,ee!==null?(ee=ee.index,ee<K?(J.flags|=2,K):ee):(J.flags|=2,K)):(J.flags|=1048576,K)}function A(J){return i&&J.alternate===null&&(J.flags|=2),J}function z(J,K,ee,xe){return K===null||K.tag!==6?(K=Pg(ee,J.mode,xe),K.return=J,K):(K=x(K,ee),K.return=J,K)}function q(J,K,ee,xe){var Oe=ee.type;return Oe===V?he(J,K,ee.props.children,xe,ee.key):K!==null&&(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Me&&P1(Oe)===K.type)?(xe=x(K,ee.props),xe.ref=Uc(J,K,ee),xe.return=J,xe):(xe=Ah(ee.type,ee.key,ee.props,null,J.mode,xe),xe.ref=Uc(J,K,ee),xe.return=J,xe)}function ne(J,K,ee,xe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=Rg(ee,J.mode,xe),K.return=J,K):(K=x(K,ee.children||[]),K.return=J,K)}function he(J,K,ee,xe,Oe){return K===null||K.tag!==7?(K=ca(ee,J.mode,xe,Oe),K.return=J,K):(K=x(K,ee),K.return=J,K)}function pe(J,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Pg(""+K,J.mode,ee),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return ee=Ah(K.type,K.key,K.props,null,J.mode,ee),ee.ref=Uc(J,null,K),ee.return=J,ee;case G:return K=Rg(K,J.mode,ee),K.return=J,K;case Me:var xe=K._init;return pe(J,xe(K._payload),ee)}if(De(K)||ae(K))return K=ca(K,J.mode,ee,null),K.return=J,K;oh(J,K)}return null}function de(J,K,ee,xe){var Oe=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Oe!==null?null:z(J,K,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Q:return ee.key===Oe?q(J,K,ee,xe):null;case G:return ee.key===Oe?ne(J,K,ee,xe):null;case Me:return Oe=ee._init,de(J,K,Oe(ee._payload),xe)}if(De(ee)||ae(ee))return Oe!==null?null:he(J,K,ee,xe,null);oh(J,ee)}return null}function Ae(J,K,ee,xe,Oe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return J=J.get(ee)||null,z(K,J,""+xe,Oe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case Q:return J=J.get(xe.key===null?ee:xe.key)||null,q(K,J,xe,Oe);case G:return J=J.get(xe.key===null?ee:xe.key)||null,ne(K,J,xe,Oe);case Me:var ze=xe._init;return Ae(J,K,ee,ze(xe._payload),Oe)}if(De(xe)||ae(xe))return J=J.get(ee)||null,he(K,J,xe,Oe,null);oh(K,xe)}return null}function Re(J,K,ee,xe){for(var Oe=null,ze=null,He=K,Xe=K=0,jn=null;He!==null&&Xe<ee.length;Xe++){He.index>Xe?(jn=He,He=null):jn=He.sibling;var mt=de(J,He,ee[Xe],xe);if(mt===null){He===null&&(He=jn);break}i&&He&&mt.alternate===null&&a(J,He),K=w(mt,K,Xe),ze===null?Oe=mt:ze.sibling=mt,ze=mt,He=jn}if(Xe===ee.length)return u(J,He),Ft&&ta(J,Xe),Oe;if(He===null){for(;Xe<ee.length;Xe++)He=pe(J,ee[Xe],xe),He!==null&&(K=w(He,K,Xe),ze===null?Oe=He:ze.sibling=He,ze=He);return Ft&&ta(J,Xe),Oe}for(He=p(J,He);Xe<ee.length;Xe++)jn=Ae(He,J,Xe,ee[Xe],xe),jn!==null&&(i&&jn.alternate!==null&&He.delete(jn.key===null?Xe:jn.key),K=w(jn,K,Xe),ze===null?Oe=jn:ze.sibling=jn,ze=jn);return i&&He.forEach(function(oo){return a(J,oo)}),Ft&&ta(J,Xe),Oe}function Ve(J,K,ee,xe){var Oe=ae(ee);if(typeof Oe!="function")throw Error(n(150));if(ee=Oe.call(ee),ee==null)throw Error(n(151));for(var ze=Oe=null,He=K,Xe=K=0,jn=null,mt=ee.next();He!==null&&!mt.done;Xe++,mt=ee.next()){He.index>Xe?(jn=He,He=null):jn=He.sibling;var oo=de(J,He,mt.value,xe);if(oo===null){He===null&&(He=jn);break}i&&He&&oo.alternate===null&&a(J,He),K=w(oo,K,Xe),ze===null?Oe=oo:ze.sibling=oo,ze=oo,He=jn}if(mt.done)return u(J,He),Ft&&ta(J,Xe),Oe;if(He===null){for(;!mt.done;Xe++,mt=ee.next())mt=pe(J,mt.value,xe),mt!==null&&(K=w(mt,K,Xe),ze===null?Oe=mt:ze.sibling=mt,ze=mt);return Ft&&ta(J,Xe),Oe}for(He=p(J,He);!mt.done;Xe++,mt=ee.next())mt=Ae(He,J,Xe,mt.value,xe),mt!==null&&(i&&mt.alternate!==null&&He.delete(mt.key===null?Xe:mt.key),K=w(mt,K,Xe),ze===null?Oe=mt:ze.sibling=mt,ze=mt);return i&&He.forEach(function(lA){return a(J,lA)}),Ft&&ta(J,Xe),Oe}function sn(J,K,ee,xe){if(typeof ee=="object"&&ee!==null&&ee.type===V&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Q:e:{for(var Oe=ee.key,ze=K;ze!==null;){if(ze.key===Oe){if(Oe=ee.type,Oe===V){if(ze.tag===7){u(J,ze.sibling),K=x(ze,ee.props.children),K.return=J,J=K;break e}}else if(ze.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Me&&P1(Oe)===ze.type){u(J,ze.sibling),K=x(ze,ee.props),K.ref=Uc(J,ze,ee),K.return=J,J=K;break e}u(J,ze);break}else a(J,ze);ze=ze.sibling}ee.type===V?(K=ca(ee.props.children,J.mode,xe,ee.key),K.return=J,J=K):(xe=Ah(ee.type,ee.key,ee.props,null,J.mode,xe),xe.ref=Uc(J,K,ee),xe.return=J,J=xe)}return A(J);case G:e:{for(ze=ee.key;K!==null;){if(K.key===ze)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){u(J,K.sibling),K=x(K,ee.children||[]),K.return=J,J=K;break e}else{u(J,K);break}else a(J,K);K=K.sibling}K=Rg(ee,J.mode,xe),K.return=J,J=K}return A(J);case Me:return ze=ee._init,sn(J,K,ze(ee._payload),xe)}if(De(ee))return Re(J,K,ee,xe);if(ae(ee))return Ve(J,K,ee,xe);oh(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(u(J,K.sibling),K=x(K,ee),K.return=J,J=K):(u(J,K),K=Pg(ee,J.mode,xe),K.return=J,J=K),A(J)):u(J,K)}return sn}var fl=R1(!0),D1=R1(!1),ah=Qi(null),lh=null,ml=null,$p=null;function zp(){$p=ml=lh=null}function Hp(i){var a=ah.current;Vt(ah),i._currentValue=a}function Wp(i,a,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===u)break;i=i.return}}function pl(i,a){lh=i,$p=ml=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(dr=!0),i.firstContext=null)}function Yr(i){var a=i._currentValue;if($p!==i)if(i={context:i,memoizedValue:a,next:null},ml===null){if(lh===null)throw Error(n(308));ml=i,lh.dependencies={lanes:0,firstContext:i}}else ml=ml.next=i;return a}var na=null;function qp(i){na===null?na=[i]:na.push(i)}function V1(i,a,u,p){var x=a.interleaved;return x===null?(u.next=u,qp(a)):(u.next=x.next,x.next=u),a.interleaved=u,pi(i,p)}function pi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ji=!1;function Gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M1(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function gi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Zi(i,a,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,pi(i,u)}return x=p.interleaved,x===null?(a.next=a,qp(p)):(a.next=x.next,x.next=a),p.interleaved=a,pi(i,u)}function ch(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,$i(i,u)}}function O1(i,a){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?x=w=A:w=w.next=A,u=u.next}while(u!==null);w===null?x=w=a:w=w.next=a}else x=w=a;u={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function uh(i,a,u,p){var x=i.updateQueue;Ji=!1;var w=x.firstBaseUpdate,A=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var q=z,ne=q.next;q.next=null,A===null?w=ne:A.next=ne,A=q;var he=i.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==A&&(z===null?he.firstBaseUpdate=ne:z.next=ne,he.lastBaseUpdate=q))}if(w!==null){var pe=x.baseState;A=0,he=ne=q=null,z=w;do{var de=z.lane,Ae=z.eventTime;if((p&de)===de){he!==null&&(he=he.next={eventTime:Ae,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Re=i,Ve=z;switch(de=a,Ae=u,Ve.tag){case 1:if(Re=Ve.payload,typeof Re=="function"){pe=Re.call(Ae,pe,de);break e}pe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ve.payload,de=typeof Re=="function"?Re.call(Ae,pe,de):Re,de==null)break e;pe=L({},pe,de);break e;case 2:Ji=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,de=x.effects,de===null?x.effects=[z]:de.push(z))}else Ae={eventTime:Ae,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(ne=he=Ae,q=pe):he=he.next=Ae,A|=de;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;de=z,z=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);if(he===null&&(q=pe),x.baseState=q,x.firstBaseUpdate=ne,x.lastBaseUpdate=he,a=x.shared.interleaved,a!==null){x=a;do A|=x.lane,x=x.next;while(x!==a)}else w===null&&(x.shared.lanes=0);ia|=A,i.lanes=A,i.memoizedState=pe}}function L1(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],x=p.callback;if(x!==null){if(p.callback=null,p=u,typeof x!="function")throw Error(n(191,x));x.call(p)}}}var Bc={},Vs=Qi(Bc),$c=Qi(Bc),zc=Qi(Bc);function ra(i){if(i===Bc)throw Error(n(174));return i}function Kp(i,a){switch(Pt(zc,a),Pt($c,i),Pt(Vs,Bc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ke(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ke(a,i)}Vt(Vs),Pt(Vs,a)}function gl(){Vt(Vs),Vt($c),Vt(zc)}function F1(i){ra(zc.current);var a=ra(Vs.current),u=ke(a,i.type);a!==u&&(Pt($c,i),Pt(Vs,u))}function Qp(i){$c.current===i&&(Vt(Vs),Vt($c))}var zt=Qi(0);function dh(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yp=[];function Xp(){for(var i=0;i<Yp.length;i++)Yp[i]._workInProgressVersionPrimary=null;Yp.length=0}var hh=H.ReactCurrentDispatcher,Jp=H.ReactCurrentBatchConfig,sa=0,Ht=null,bn=null,Nn=null,fh=!1,Hc=!1,Wc=0,A4=0;function zn(){throw Error(n(321))}function Zp(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!ys(i[u],a[u]))return!1;return!0}function eg(i,a,u,p,x,w){if(sa=w,Ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,hh.current=i===null||i.memoizedState===null?D4:V4,i=u(p,x),Hc){w=0;do{if(Hc=!1,Wc=0,25<=w)throw Error(n(301));w+=1,Nn=bn=null,a.updateQueue=null,hh.current=M4,i=u(p,x)}while(Hc)}if(hh.current=gh,a=bn!==null&&bn.next!==null,sa=0,Nn=bn=Ht=null,fh=!1,a)throw Error(n(300));return i}function tg(){var i=Wc!==0;return Wc=0,i}function Ms(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ht.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function Xr(){if(bn===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=bn.next;var a=Nn===null?Ht.memoizedState:Nn.next;if(a!==null)Nn=a,bn=i;else{if(i===null)throw Error(n(310));bn=i,i={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Nn===null?Ht.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function qc(i,a){return typeof a=="function"?a(i):a}function ng(i){var a=Xr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=bn,x=p.baseQueue,w=u.pending;if(w!==null){if(x!==null){var A=x.next;x.next=w.next,w.next=A}p.baseQueue=x=w,u.pending=null}if(x!==null){w=x.next,p=p.baseState;var z=A=null,q=null,ne=w;do{var he=ne.lane;if((sa&he)===he)q!==null&&(q=q.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),p=ne.hasEagerState?ne.eagerState:i(p,ne.action);else{var pe={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};q===null?(z=q=pe,A=p):q=q.next=pe,Ht.lanes|=he,ia|=he}ne=ne.next}while(ne!==null&&ne!==w);q===null?A=p:q.next=z,ys(p,a.memoizedState)||(dr=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=q,u.lastRenderedState=p}if(i=u.interleaved,i!==null){x=i;do w=x.lane,Ht.lanes|=w,ia|=w,x=x.next;while(x!==i)}else x===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function rg(i){var a=Xr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,x=u.pending,w=a.memoizedState;if(x!==null){u.pending=null;var A=x=x.next;do w=i(w,A.action),A=A.next;while(A!==x);ys(w,a.memoizedState)||(dr=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,p]}function U1(){}function B1(i,a){var u=Ht,p=Xr(),x=a(),w=!ys(p.memoizedState,x);if(w&&(p.memoizedState=x,dr=!0),p=p.queue,sg(H1.bind(null,u,p,i),[i]),p.getSnapshot!==a||w||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,Gc(9,z1.bind(null,u,p,x,a),void 0,null),kn===null)throw Error(n(349));(sa&30)!==0||$1(u,a,x)}return x}function $1(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ht.updateQueue,a===null?(a={lastEffect:null,stores:null},Ht.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function z1(i,a,u,p){a.value=u,a.getSnapshot=p,W1(a)&&q1(i)}function H1(i,a,u){return u(function(){W1(a)&&q1(i)})}function W1(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!ys(i,u)}catch{return!0}}function q1(i){var a=pi(i,1);a!==null&&_s(a,i,1,-1)}function G1(i){var a=Ms();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:i},a.queue=i,i=i.dispatch=R4.bind(null,Ht,i),[a.memoizedState,i]}function Gc(i,a,u,p){return i={tag:i,create:a,destroy:u,deps:p,next:null},a=Ht.updateQueue,a===null?(a={lastEffect:null,stores:null},Ht.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,a.lastEffect=i)),i}function K1(){return Xr().memoizedState}function mh(i,a,u,p){var x=Ms();Ht.flags|=i,x.memoizedState=Gc(1|a,u,void 0,p===void 0?null:p)}function ph(i,a,u,p){var x=Xr();p=p===void 0?null:p;var w=void 0;if(bn!==null){var A=bn.memoizedState;if(w=A.destroy,p!==null&&Zp(p,A.deps)){x.memoizedState=Gc(a,u,w,p);return}}Ht.flags|=i,x.memoizedState=Gc(1|a,u,w,p)}function Q1(i,a){return mh(8390656,8,i,a)}function sg(i,a){return ph(2048,8,i,a)}function Y1(i,a){return ph(4,2,i,a)}function X1(i,a){return ph(4,4,i,a)}function J1(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Z1(i,a,u){return u=u!=null?u.concat([i]):null,ph(4,4,J1.bind(null,a,i),u)}function ig(){}function eb(i,a){var u=Xr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Zp(a,p[1])?p[0]:(u.memoizedState=[i,a],i)}function tb(i,a){var u=Xr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Zp(a,p[1])?p[0]:(i=i(),u.memoizedState=[i,a],i)}function nb(i,a,u){return(sa&21)===0?(i.baseState&&(i.baseState=!1,dr=!0),i.memoizedState=u):(ys(u,a)||(u=Go(),Ht.lanes|=u,ia|=u,i.baseState=!0),a)}function I4(i,a){var u=ct;ct=u!==0&&4>u?u:4,i(!0);var p=Jp.transition;Jp.transition={};try{i(!1),a()}finally{ct=u,Jp.transition=p}}function rb(){return Xr().memoizedState}function P4(i,a,u){var p=ro(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},sb(i))ib(a,u);else if(u=V1(i,a,u,p),u!==null){var x=rr();_s(u,i,p,x),ob(u,a,p)}}function R4(i,a,u){var p=ro(i),x={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(sb(i))ib(a,x);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var A=a.lastRenderedState,z=w(A,u);if(x.hasEagerState=!0,x.eagerState=z,ys(z,A)){var q=a.interleaved;q===null?(x.next=x,qp(a)):(x.next=q.next,q.next=x),a.interleaved=x;return}}catch{}finally{}u=V1(i,a,x,p),u!==null&&(x=rr(),_s(u,i,p,x),ob(u,a,p))}}function sb(i){var a=i.alternate;return i===Ht||a!==null&&a===Ht}function ib(i,a){Hc=fh=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function ob(i,a,u){if((u&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,$i(i,u)}}var gh={readContext:Yr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},D4={readContext:Yr,useCallback:function(i,a){return Ms().memoizedState=[i,a===void 0?null:a],i},useContext:Yr,useEffect:Q1,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,mh(4194308,4,J1.bind(null,a,i),u)},useLayoutEffect:function(i,a){return mh(4194308,4,i,a)},useInsertionEffect:function(i,a){return mh(4,2,i,a)},useMemo:function(i,a){var u=Ms();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var p=Ms();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=P4.bind(null,Ht,i),[p.memoizedState,i]},useRef:function(i){var a=Ms();return i={current:i},a.memoizedState=i},useState:G1,useDebugValue:ig,useDeferredValue:function(i){return Ms().memoizedState=i},useTransition:function(){var i=G1(!1),a=i[0];return i=I4.bind(null,i[1]),Ms().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var p=Ht,x=Ms();if(Ft){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),kn===null)throw Error(n(349));(sa&30)!==0||$1(p,a,u)}x.memoizedState=u;var w={value:u,getSnapshot:a};return x.queue=w,Q1(H1.bind(null,p,w,i),[i]),p.flags|=2048,Gc(9,z1.bind(null,p,w,u,a),void 0,null),u},useId:function(){var i=Ms(),a=kn.identifierPrefix;if(Ft){var u=mi,p=fi;u=(p&~(1<<32-er(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Wc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=A4++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},V4={readContext:Yr,useCallback:eb,useContext:Yr,useEffect:sg,useImperativeHandle:Z1,useInsertionEffect:Y1,useLayoutEffect:X1,useMemo:tb,useReducer:ng,useRef:K1,useState:function(){return ng(qc)},useDebugValue:ig,useDeferredValue:function(i){var a=Xr();return nb(a,bn.memoizedState,i)},useTransition:function(){var i=ng(qc)[0],a=Xr().memoizedState;return[i,a]},useMutableSource:U1,useSyncExternalStore:B1,useId:rb,unstable_isNewReconciler:!1},M4={readContext:Yr,useCallback:eb,useContext:Yr,useEffect:sg,useImperativeHandle:Z1,useInsertionEffect:Y1,useLayoutEffect:X1,useMemo:tb,useReducer:rg,useRef:K1,useState:function(){return rg(qc)},useDebugValue:ig,useDeferredValue:function(i){var a=Xr();return bn===null?a.memoizedState=i:nb(a,bn.memoizedState,i)},useTransition:function(){var i=rg(qc)[0],a=Xr().memoizedState;return[i,a]},useMutableSource:U1,useSyncExternalStore:B1,useId:rb,unstable_isNewReconciler:!1};function xs(i,a){if(i&&i.defaultProps){a=L({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function og(i,a,u,p){a=i.memoizedState,u=u(p,a),u=u==null?a:L({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var yh={isMounted:function(i){return(i=i._reactInternals)?us(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var p=rr(),x=ro(i),w=gi(p,x);w.payload=a,u!=null&&(w.callback=u),a=Zi(i,w,x),a!==null&&(_s(a,i,x,p),ch(a,i,x))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var p=rr(),x=ro(i),w=gi(p,x);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=Zi(i,w,x),a!==null&&(_s(a,i,x,p),ch(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=rr(),p=ro(i),x=gi(u,p);x.tag=2,a!=null&&(x.callback=a),a=Zi(i,x,p),a!==null&&(_s(a,i,p,u),ch(a,i,p))}};function ab(i,a,u,p,x,w,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,A):a.prototype&&a.prototype.isPureReactComponent?!Rc(u,p)||!Rc(x,w):!0}function lb(i,a,u){var p=!1,x=Yi,w=a.contextType;return typeof w=="object"&&w!==null?w=Yr(w):(x=ur(a)?Zo:$n.current,p=a.contextTypes,w=(p=p!=null)?cl(i,x):Yi),a=new a(u,w),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=yh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=w),a}function cb(i,a,u,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==i&&yh.enqueueReplaceState(a,a.state,null)}function ag(i,a,u,p){var x=i.stateNode;x.props=u,x.state=i.memoizedState,x.refs={},Gp(i);var w=a.contextType;typeof w=="object"&&w!==null?x.context=Yr(w):(w=ur(a)?Zo:$n.current,x.context=cl(i,w)),x.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(og(i,a,w,u),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&yh.enqueueReplaceState(x,x.state,null),uh(i,u,x,p),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function yl(i,a){try{var u="",p=a;do u+=ie(p),p=p.return;while(p);var x=u}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:a,stack:x,digest:null}}function lg(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function cg(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var O4=typeof WeakMap=="function"?WeakMap:Map;function ub(i,a,u){u=gi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Sh||(Sh=!0,Sg=p),cg(i,a)},u}function db(i,a,u){u=gi(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;u.payload=function(){return p(x)},u.callback=function(){cg(i,a)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){cg(i,a),typeof p!="function"&&(to===null?to=new Set([this]):to.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),u}function hb(i,a,u){var p=i.pingCache;if(p===null){p=i.pingCache=new O4;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(u)||(x.add(u),i=X4.bind(null,i,a,u),a.then(i,i))}function fb(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function mb(i,a,u,p,x){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=gi(-1,1),a.tag=2,Zi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var L4=H.ReactCurrentOwner,dr=!1;function nr(i,a,u,p){a.child=i===null?D1(a,null,u,p):fl(a,i.child,u,p)}function pb(i,a,u,p,x){u=u.render;var w=a.ref;return pl(a,x),p=eg(i,a,u,p,w,x),u=tg(),i!==null&&!dr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,yi(i,a,x)):(Ft&&u&&Op(a),a.flags|=1,nr(i,a,p,x),a.child)}function gb(i,a,u,p,x){if(i===null){var w=u.type;return typeof w=="function"&&!Ig(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,yb(i,a,w,p,x)):(i=Ah(u.type,null,p,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,(i.lanes&x)===0){var A=w.memoizedProps;if(u=u.compare,u=u!==null?u:Rc,u(A,p)&&i.ref===a.ref)return yi(i,a,x)}return a.flags|=1,i=io(w,p),i.ref=a.ref,i.return=a,a.child=i}function yb(i,a,u,p,x){if(i!==null){var w=i.memoizedProps;if(Rc(w,p)&&i.ref===a.ref)if(dr=!1,a.pendingProps=p=w,(i.lanes&x)!==0)(i.flags&131072)!==0&&(dr=!0);else return a.lanes=i.lanes,yi(i,a,x)}return ug(i,a,u,p,x)}function vb(i,a,u){var p=a.pendingProps,x=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(xl,Rr),Rr|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Pt(xl,Rr),Rr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,Pt(xl,Rr),Rr|=p}else w!==null?(p=w.baseLanes|u,a.memoizedState=null):p=u,Pt(xl,Rr),Rr|=p;return nr(i,a,x,u),a.child}function xb(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function ug(i,a,u,p,x){var w=ur(u)?Zo:$n.current;return w=cl(a,w),pl(a,x),u=eg(i,a,u,p,w,x),p=tg(),i!==null&&!dr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,yi(i,a,x)):(Ft&&p&&Op(a),a.flags|=1,nr(i,a,u,x),a.child)}function bb(i,a,u,p,x){if(ur(u)){var w=!0;th(a)}else w=!1;if(pl(a,x),a.stateNode===null)xh(i,a),lb(a,u,p),ag(a,u,p,x),p=!0;else if(i===null){var A=a.stateNode,z=a.memoizedProps;A.props=z;var q=A.context,ne=u.contextType;typeof ne=="object"&&ne!==null?ne=Yr(ne):(ne=ur(u)?Zo:$n.current,ne=cl(a,ne));var he=u.getDerivedStateFromProps,pe=typeof he=="function"||typeof A.getSnapshotBeforeUpdate=="function";pe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==p||q!==ne)&&cb(a,A,p,ne),Ji=!1;var de=a.memoizedState;A.state=de,uh(a,p,A,x),q=a.memoizedState,z!==p||de!==q||cr.current||Ji?(typeof he=="function"&&(og(a,u,he,p),q=a.memoizedState),(z=Ji||ab(a,u,z,p,de,q,ne))?(pe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=q),A.props=p,A.state=q,A.context=ne,p=z):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,M1(i,a),z=a.memoizedProps,ne=a.type===a.elementType?z:xs(a.type,z),A.props=ne,pe=a.pendingProps,de=A.context,q=u.contextType,typeof q=="object"&&q!==null?q=Yr(q):(q=ur(u)?Zo:$n.current,q=cl(a,q));var Ae=u.getDerivedStateFromProps;(he=typeof Ae=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==pe||de!==q)&&cb(a,A,p,q),Ji=!1,de=a.memoizedState,A.state=de,uh(a,p,A,x);var Re=a.memoizedState;z!==pe||de!==Re||cr.current||Ji?(typeof Ae=="function"&&(og(a,u,Ae,p),Re=a.memoizedState),(ne=Ji||ab(a,u,ne,p,de,Re,q)||!1)?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Re,q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Re,q)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Re),A.props=p,A.state=Re,A.context=q,p=ne):(typeof A.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),p=!1)}return dg(i,a,u,p,w,x)}function dg(i,a,u,p,x,w){xb(i,a);var A=(a.flags&128)!==0;if(!p&&!A)return x&&T1(a,u,!1),yi(i,a,w);p=a.stateNode,L4.current=a;var z=A&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&A?(a.child=fl(a,i.child,null,w),a.child=fl(a,null,z,w)):nr(i,a,z,w),a.memoizedState=p.state,x&&T1(a,u,!0),a.child}function wb(i){var a=i.stateNode;a.pendingContext?E1(i,a.pendingContext,a.pendingContext!==a.context):a.context&&E1(i,a.context,!1),Kp(i,a.containerInfo)}function _b(i,a,u,p,x){return hl(),Bp(x),a.flags|=256,nr(i,a,u,p),a.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(i){return{baseLanes:i,cachePool:null,transitions:null}}function Eb(i,a,u){var p=a.pendingProps,x=zt.current,w=!1,A=(a.flags&128)!==0,z;if((z=A)||(z=i!==null&&i.memoizedState===null?!1:(x&2)!==0),z?(w=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Pt(zt,x&1),i===null)return Up(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=p.children,i=p.fallback,w?(p=a.mode,w=a.child,A={mode:"hidden",children:A},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Ih(A,p,0,null),i=ca(i,p,u,null),w.return=a,i.return=a,w.sibling=i,a.child=w,a.child.memoizedState=fg(u),a.memoizedState=hg,i):mg(a,A));if(x=i.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return F4(i,a,A,p,z,x,u);if(w){w=p.fallback,A=a.mode,x=i.child,z=x.sibling;var q={mode:"hidden",children:p.children};return(A&1)===0&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=q,a.deletions=null):(p=io(x,q),p.subtreeFlags=x.subtreeFlags&14680064),z!==null?w=io(z,w):(w=ca(w,A,u,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,A=i.child.memoizedState,A=A===null?fg(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=i.childLanes&~u,a.memoizedState=hg,p}return w=i.child,i=w.sibling,p=io(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=p,a.memoizedState=null,p}function mg(i,a){return a=Ih({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function vh(i,a,u,p){return p!==null&&Bp(p),fl(a,i.child,null,u),i=mg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function F4(i,a,u,p,x,w,A){if(u)return a.flags&256?(a.flags&=-257,p=lg(Error(n(422))),vh(i,a,A,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(w=p.fallback,x=a.mode,p=Ih({mode:"visible",children:p.children},x,0,null),w=ca(w,x,A,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&fl(a,i.child,null,A),a.child.memoizedState=fg(A),a.memoizedState=hg,w);if((a.mode&1)===0)return vh(i,a,A,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var z=p.dgst;return p=z,w=Error(n(419)),p=lg(w,p,void 0),vh(i,a,A,p)}if(z=(A&i.childLanes)!==0,dr||z){if(p=kn,p!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|A))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,pi(i,x),_s(p,i,x,-1))}return Ag(),p=lg(Error(n(421))),vh(i,a,A,p)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=J4.bind(null,i),x._reactRetry=a,null):(i=w.treeContext,Pr=Ki(x.nextSibling),Ir=a,Ft=!0,vs=null,i!==null&&(Kr[Qr++]=fi,Kr[Qr++]=mi,Kr[Qr++]=ea,fi=i.id,mi=i.overflow,ea=a),a=mg(a,p.children),a.flags|=4096,a)}function Sb(i,a,u){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Wp(i.return,a,u)}function pg(i,a,u,p,x){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=x)}function Tb(i,a,u){var p=a.pendingProps,x=p.revealOrder,w=p.tail;if(nr(i,a,p.children,u),p=zt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sb(i,u,a);else if(i.tag===19)Sb(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Pt(zt,p),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(u=a.child,x=null;u!==null;)i=u.alternate,i!==null&&dh(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=a.child,a.child=null):(x=u.sibling,u.sibling=null),pg(a,!1,x,u,w);break;case"backwards":for(u=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&dh(i)===null){a.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}pg(a,!0,u,null,w);break;case"together":pg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function yi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),ia|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=io(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=io(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function U4(i,a,u){switch(a.tag){case 3:wb(a),hl();break;case 5:F1(a);break;case 1:ur(a.type)&&th(a);break;case 4:Kp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;Pt(ah,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Pt(zt,zt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Eb(i,a,u):(Pt(zt,zt.current&1),i=yi(i,a,u),i!==null?i.sibling:null);Pt(zt,zt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(i.flags&128)!==0){if(p)return Tb(i,a,u);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Pt(zt,zt.current),p)break;return null;case 22:case 23:return a.lanes=0,vb(i,a,u)}return yi(i,a,u)}var Cb,gg,Nb,kb;Cb=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},gg=function(){},Nb=function(i,a,u,p){var x=i.memoizedProps;if(x!==p){i=a.stateNode,ra(Vs.current);var w=null;switch(u){case"input":x=At(i,x),p=At(i,p),w=[];break;case"select":x=L({},x,{value:void 0}),p=L({},p,{value:void 0}),w=[];break;case"textarea":x=wt(i,x),p=wt(i,p),w=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Jd)}ks(u,p);var A;u=null;for(ne in x)if(!p.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var z=x[ne];for(A in z)z.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?w||(w=[]):(w=w||[]).push(ne,null));for(ne in p){var q=p[ne];if(z=x!=null?x[ne]:void 0,p.hasOwnProperty(ne)&&q!==z&&(q!=null||z!=null))if(ne==="style")if(z){for(A in z)!z.hasOwnProperty(A)||q&&q.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in q)q.hasOwnProperty(A)&&z[A]!==q[A]&&(u||(u={}),u[A]=q[A])}else u||(w||(w=[]),w.push(ne,u)),u=q;else ne==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,z=z?z.__html:void 0,q!=null&&z!==q&&(w=w||[]).push(ne,q)):ne==="children"?typeof q!="string"&&typeof q!="number"||(w=w||[]).push(ne,""+q):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(q!=null&&ne==="onScroll"&&Dt("scroll",i),w||z===q||(w=[])):(w=w||[]).push(ne,q))}u&&(w=w||[]).push("style",u);var ne=w;(a.updateQueue=ne)&&(a.flags|=4)}},kb=function(i,a,u,p){u!==p&&(a.flags|=4)};function Kc(i,a){if(!Ft)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Hn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(a)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=p,i.childLanes=u,a}function B4(i,a,u){var p=a.pendingProps;switch(Lp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return ur(a.type)&&eh(),Hn(a),null;case 3:return p=a.stateNode,gl(),Vt(cr),Vt($n),Xp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(ih(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vs!==null&&(Ng(vs),vs=null))),gg(i,a),Hn(a),null;case 5:Qp(a);var x=ra(zc.current);if(u=a.type,i!==null&&a.stateNode!=null)Nb(i,a,u,p,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return Hn(a),null}if(i=ra(Vs.current),ih(a)){p=a.stateNode,u=a.type;var w=a.memoizedProps;switch(p[Ds]=a,p[Lc]=w,i=(a.mode&1)!==0,u){case"dialog":Dt("cancel",p),Dt("close",p);break;case"iframe":case"object":case"embed":Dt("load",p);break;case"video":case"audio":for(x=0;x<Vc.length;x++)Dt(Vc[x],p);break;case"source":Dt("error",p);break;case"img":case"image":case"link":Dt("error",p),Dt("load",p);break;case"details":Dt("toggle",p);break;case"input":un(p,w),Dt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Dt("invalid",p);break;case"textarea":nn(p,w),Dt("invalid",p)}ks(u,w),x=null;for(var A in w)if(w.hasOwnProperty(A)){var z=w[A];A==="children"?typeof z=="string"?p.textContent!==z&&(w.suppressHydrationWarning!==!0&&Xd(p.textContent,z,i),x=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(w.suppressHydrationWarning!==!0&&Xd(p.textContent,z,i),x=["children",""+z]):s.hasOwnProperty(A)&&z!=null&&A==="onScroll"&&Dt("scroll",p)}switch(u){case"input":at(p),ve(p,w,!0);break;case"textarea":at(p),fe(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Jd)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ge(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=A.createElement(u,{is:p.is}):(i=A.createElement(u),u==="select"&&(A=i,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):i=A.createElementNS(i,u),i[Ds]=a,i[Lc]=p,Cb(i,a,!1,!1),a.stateNode=i;e:{switch(A=zr(u,p),u){case"dialog":Dt("cancel",i),Dt("close",i),x=p;break;case"iframe":case"object":case"embed":Dt("load",i),x=p;break;case"video":case"audio":for(x=0;x<Vc.length;x++)Dt(Vc[x],i);x=p;break;case"source":Dt("error",i),x=p;break;case"img":case"image":case"link":Dt("error",i),Dt("load",i),x=p;break;case"details":Dt("toggle",i),x=p;break;case"input":un(i,p),x=At(i,p),Dt("invalid",i);break;case"option":x=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},x=L({},p,{value:void 0}),Dt("invalid",i);break;case"textarea":nn(i,p),x=wt(i,p),Dt("invalid",i);break;default:x=p}ks(u,x),z=x;for(w in z)if(z.hasOwnProperty(w)){var q=z[w];w==="style"?Ot(i,q):w==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Te(i,q)):w==="children"?typeof q=="string"?(u!=="textarea"||q!=="")&&je(i,q):typeof q=="number"&&je(i,""+q):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?q!=null&&w==="onScroll"&&Dt("scroll",i):q!=null&&F(i,w,q,A))}switch(u){case"input":at(i),ve(i,p,!1);break;case"textarea":at(i),fe(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Se(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?Ct(i,!!p.multiple,w,!1):p.defaultValue!=null&&Ct(i,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Jd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Hn(a),null;case 6:if(i&&a.stateNode!=null)kb(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=ra(zc.current),ra(Vs.current),ih(a)){if(p=a.stateNode,u=a.memoizedProps,p[Ds]=a,(w=p.nodeValue!==u)&&(i=Ir,i!==null))switch(i.tag){case 3:Xd(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Xd(p.nodeValue,u,(i.mode&1)!==0)}w&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Ds]=a,a.stateNode=p}return Hn(a),null;case 13:if(Vt(zt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&Pr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)I1(),hl(),a.flags|=98560,w=!1;else if(w=ih(a),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ds]=a}else hl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),w=!1}else vs!==null&&(Ng(vs),vs=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(zt.current&1)!==0?wn===0&&(wn=3):Ag())),a.updateQueue!==null&&(a.flags|=4),Hn(a),null);case 4:return gl(),gg(i,a),i===null&&Mc(a.stateNode.containerInfo),Hn(a),null;case 10:return Hp(a.type._context),Hn(a),null;case 17:return ur(a.type)&&eh(),Hn(a),null;case 19:if(Vt(zt),w=a.memoizedState,w===null)return Hn(a),null;if(p=(a.flags&128)!==0,A=w.rendering,A===null)if(p)Kc(w,!1);else{if(wn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(A=dh(i),A!==null){for(a.flags|=128,Kc(w,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)w=u,i=p,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,i=A.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Pt(zt,zt.current&1|2),a.child}i=i.sibling}w.tail!==null&&It()>bl&&(a.flags|=128,p=!0,Kc(w,!1),a.lanes=4194304)}else{if(!p)if(i=dh(A),i!==null){if(a.flags|=128,p=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Kc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Ft)return Hn(a),null}else 2*It()-w.renderingStartTime>bl&&u!==1073741824&&(a.flags|=128,p=!0,Kc(w,!1),a.lanes=4194304);w.isBackwards?(A.sibling=a.child,a.child=A):(u=w.last,u!==null?u.sibling=A:a.child=A,w.last=A)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=It(),a.sibling=null,u=zt.current,Pt(zt,p?u&1|2:u&1),a):(Hn(a),null);case 22:case 23:return jg(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Rr&1073741824)!==0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function $4(i,a){switch(Lp(a),a.tag){case 1:return ur(a.type)&&eh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return gl(),Vt(cr),Vt($n),Xp(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Qp(a),null;case 13:if(Vt(zt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));hl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Vt(zt),null;case 4:return gl(),null;case 10:return Hp(a.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var bh=!1,Wn=!1,z4=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function vl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Qt(i,a,p)}else u.current=null}function yg(i,a,u){try{u()}catch(p){Qt(i,a,p)}}var jb=!1;function H4(i,a){if(jp=Wi,i=a1(),wp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var A=0,z=-1,q=-1,ne=0,he=0,pe=i,de=null;t:for(;;){for(var Ae;pe!==u||x!==0&&pe.nodeType!==3||(z=A+x),pe!==w||p!==0&&pe.nodeType!==3||(q=A+p),pe.nodeType===3&&(A+=pe.nodeValue.length),(Ae=pe.firstChild)!==null;)de=pe,pe=Ae;for(;;){if(pe===i)break t;if(de===u&&++ne===x&&(z=A),de===w&&++he===p&&(q=A),(Ae=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Ae}u=z===-1||q===-1?null:{start:z,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ap={focusedElem:i,selectionRange:u},Wi=!1,Pe=a;Pe!==null;)if(a=Pe,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Pe=i;else for(;Pe!==null;){a=Pe;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ve=Re.memoizedProps,sn=Re.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:xs(a.type,Ve),sn);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Qt(a,a.return,xe)}if(i=a.sibling,i!==null){i.return=a.return,Pe=i;break}Pe=a.return}return Re=jb,jb=!1,Re}function Qc(i,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&i)===i){var w=x.destroy;x.destroy=void 0,w!==void 0&&yg(a,u,w)}x=x.next}while(x!==p)}}function wh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function vg(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function Ab(i){var a=i.alternate;a!==null&&(i.alternate=null,Ab(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ds],delete a[Lc],delete a[Dp],delete a[C4],delete a[N4])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ib(i){return i.tag===5||i.tag===3||i.tag===4}function Pb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ib(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Jd));else if(p!==4&&(i=i.child,i!==null))for(xg(i,a,u),i=i.sibling;i!==null;)xg(i,a,u),i=i.sibling}function bg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(bg(i,a,u),i=i.sibling;i!==null;)bg(i,a,u),i=i.sibling}var Dn=null,bs=!1;function eo(i,a,u){for(u=u.child;u!==null;)Rb(i,a,u),u=u.sibling}function Rb(i,a,u){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Wo,u)}catch{}switch(u.tag){case 5:Wn||vl(u,a);case 6:var p=Dn,x=bs;Dn=null,eo(i,a,u),Dn=p,bs=x,Dn!==null&&(bs?(i=Dn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Dn.removeChild(u.stateNode));break;case 18:Dn!==null&&(bs?(i=Dn,u=u.stateNode,i.nodeType===8?Rp(i.parentNode,u):i.nodeType===1&&Rp(i,u),ps(i)):Rp(Dn,u.stateNode));break;case 4:p=Dn,x=bs,Dn=u.stateNode.containerInfo,bs=!0,eo(i,a,u),Dn=p,bs=x;break;case 0:case 11:case 14:case 15:if(!Wn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var w=x,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&yg(u,a,A),x=x.next}while(x!==p)}eo(i,a,u);break;case 1:if(!Wn&&(vl(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(z){Qt(u,a,z)}eo(i,a,u);break;case 21:eo(i,a,u);break;case 22:u.mode&1?(Wn=(p=Wn)||u.memoizedState!==null,eo(i,a,u),Wn=p):eo(i,a,u);break;default:eo(i,a,u)}}function Db(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new z4),a.forEach(function(p){var x=Z4.bind(null,i,p);u.has(p)||(u.add(p),p.then(x,x))})}}function ws(i,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];try{var w=i,A=a,z=A;e:for(;z!==null;){switch(z.tag){case 5:Dn=z.stateNode,bs=!1;break e;case 3:Dn=z.stateNode.containerInfo,bs=!0;break e;case 4:Dn=z.stateNode.containerInfo,bs=!0;break e}z=z.return}if(Dn===null)throw Error(n(160));Rb(w,A,x),Dn=null,bs=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(ne){Qt(x,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Vb(a,i),a=a.sibling}function Vb(i,a){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ws(a,i),Os(i),p&4){try{Qc(3,i,i.return),wh(3,i)}catch(Ve){Qt(i,i.return,Ve)}try{Qc(5,i,i.return)}catch(Ve){Qt(i,i.return,Ve)}}break;case 1:ws(a,i),Os(i),p&512&&u!==null&&vl(u,u.return);break;case 5:if(ws(a,i),Os(i),p&512&&u!==null&&vl(u,u.return),i.flags&32){var x=i.stateNode;try{je(x,"")}catch(Ve){Qt(i,i.return,Ve)}}if(p&4&&(x=i.stateNode,x!=null)){var w=i.memoizedProps,A=u!==null?u.memoizedProps:w,z=i.type,q=i.updateQueue;if(i.updateQueue=null,q!==null)try{z==="input"&&w.type==="radio"&&w.name!=null&&Tn(x,w),zr(z,A);var ne=zr(z,w);for(A=0;A<q.length;A+=2){var he=q[A],pe=q[A+1];he==="style"?Ot(x,pe):he==="dangerouslySetInnerHTML"?Te(x,pe):he==="children"?je(x,pe):F(x,he,pe,ne)}switch(z){case"input":xt(x,w);break;case"textarea":Bn(x,w);break;case"select":var de=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var Ae=w.value;Ae!=null?Ct(x,!!w.multiple,Ae,!1):de!==!!w.multiple&&(w.defaultValue!=null?Ct(x,!!w.multiple,w.defaultValue,!0):Ct(x,!!w.multiple,w.multiple?[]:"",!1))}x[Lc]=w}catch(Ve){Qt(i,i.return,Ve)}}break;case 6:if(ws(a,i),Os(i),p&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,w=i.memoizedProps;try{x.nodeValue=w}catch(Ve){Qt(i,i.return,Ve)}}break;case 3:if(ws(a,i),Os(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ps(a.containerInfo)}catch(Ve){Qt(i,i.return,Ve)}break;case 4:ws(a,i),Os(i);break;case 13:ws(a,i),Os(i),x=i.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(Eg=It())),p&4&&Db(i);break;case 22:if(he=u!==null&&u.memoizedState!==null,i.mode&1?(Wn=(ne=Wn)||he,ws(a,i),Wn=ne):ws(a,i),Os(i),p&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!he&&(i.mode&1)!==0)for(Pe=i,he=i.child;he!==null;){for(pe=Pe=he;Pe!==null;){switch(de=Pe,Ae=de.child,de.tag){case 0:case 11:case 14:case 15:Qc(4,de,de.return);break;case 1:vl(de,de.return);var Re=de.stateNode;if(typeof Re.componentWillUnmount=="function"){p=de,u=de.return;try{a=p,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Ve){Qt(p,u,Ve)}}break;case 5:vl(de,de.return);break;case 22:if(de.memoizedState!==null){Lb(pe);continue}}Ae!==null?(Ae.return=de,Pe=Ae):Lb(pe)}he=he.sibling}e:for(he=null,pe=i;;){if(pe.tag===5){if(he===null){he=pe;try{x=pe.stateNode,ne?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(z=pe.stateNode,q=pe.memoizedProps.style,A=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=Ye("display",A))}catch(Ve){Qt(i,i.return,Ve)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ne?"":pe.memoizedProps}catch(Ve){Qt(i,i.return,Ve)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:ws(a,i),Os(i),p&4&&Db(i);break;case 21:break;default:ws(a,i),Os(i)}}function Os(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(Ib(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(je(x,""),p.flags&=-33);var w=Pb(i);bg(i,w,x);break;case 3:case 4:var A=p.stateNode.containerInfo,z=Pb(i);xg(i,z,A);break;default:throw Error(n(161))}}catch(q){Qt(i,i.return,q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function W4(i,a,u){Pe=i,Mb(i)}function Mb(i,a,u){for(var p=(i.mode&1)!==0;Pe!==null;){var x=Pe,w=x.child;if(x.tag===22&&p){var A=x.memoizedState!==null||bh;if(!A){var z=x.alternate,q=z!==null&&z.memoizedState!==null||Wn;z=bh;var ne=Wn;if(bh=A,(Wn=q)&&!ne)for(Pe=x;Pe!==null;)A=Pe,q=A.child,A.tag===22&&A.memoizedState!==null?Fb(x):q!==null?(q.return=A,Pe=q):Fb(x);for(;w!==null;)Pe=w,Mb(w),w=w.sibling;Pe=x,bh=z,Wn=ne}Ob(i)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,Pe=w):Ob(i)}}function Ob(i){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wn||wh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Wn)if(u===null)p.componentDidMount();else{var x=a.elementType===a.type?u.memoizedProps:xs(a.type,u.memoizedProps);p.componentDidUpdate(x,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&L1(a,w,p);break;case 3:var A=a.updateQueue;if(A!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}L1(a,A,u)}break;case 5:var z=a.stateNode;if(u===null&&a.flags&4){u=z;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&u.focus();break;case"img":q.src&&(u.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&ps(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wn||a.flags&512&&vg(a)}catch(de){Qt(a,a.return,de)}}if(a===i){Pe=null;break}if(u=a.sibling,u!==null){u.return=a.return,Pe=u;break}Pe=a.return}}function Lb(i){for(;Pe!==null;){var a=Pe;if(a===i){Pe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Pe=u;break}Pe=a.return}}function Fb(i){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{wh(4,a)}catch(q){Qt(a,u,q)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch(q){Qt(a,x,q)}}var w=a.return;try{vg(a)}catch(q){Qt(a,w,q)}break;case 5:var A=a.return;try{vg(a)}catch(q){Qt(a,A,q)}}}catch(q){Qt(a,a.return,q)}if(a===i){Pe=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Pe=z;break}Pe=a.return}}var q4=Math.ceil,_h=H.ReactCurrentDispatcher,wg=H.ReactCurrentOwner,Jr=H.ReactCurrentBatchConfig,ft=0,kn=null,hn=null,Vn=0,Rr=0,xl=Qi(0),wn=0,Yc=null,ia=0,Eh=0,_g=0,Xc=null,hr=null,Eg=0,bl=1/0,vi=null,Sh=!1,Sg=null,to=null,Th=!1,no=null,Ch=0,Jc=0,Tg=null,Nh=-1,kh=0;function rr(){return(ft&6)!==0?It():Nh!==-1?Nh:Nh=It()}function ro(i){return(i.mode&1)===0?1:(ft&2)!==0&&Vn!==0?Vn&-Vn:j4.transition!==null?(kh===0&&(kh=Go()),kh):(i=ct,i!==0||(i=window.event,i=i===void 0?16:Cc(i.type)),i)}function _s(i,a,u,p){if(50<Jc)throw Jc=0,Tg=null,Error(n(185));Bi(i,u,p),((ft&2)===0||i!==kn)&&(i===kn&&((ft&2)===0&&(Eh|=u),wn===4&&so(i,Vn)),fr(i,p),u===1&&ft===0&&(a.mode&1)===0&&(bl=It()+500,nh&&Xi()))}function fr(i,a){var u=i.callbackNode;oi(i,a);var p=qo(i,i===kn?Vn:0);if(p===0)u!==null&&wc(u),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(u!=null&&wc(u),a===1)i.tag===0?k4(Bb.bind(null,i)):C1(Bb.bind(null,i)),S4(function(){(ft&6)===0&&Xi()}),u=null;else{switch(zi(p)){case 1:u=Ho;break;case 4:u=Li;break;case 16:u=Wr;break;case 536870912:u=kd;break;default:u=Wr}u=Qb(u,Ub.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function Ub(i,a){if(Nh=-1,kh=0,(ft&6)!==0)throw Error(n(327));var u=i.callbackNode;if(wl()&&i.callbackNode!==u)return null;var p=qo(i,i===kn?Vn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=jh(i,p);else{a=p;var x=ft;ft|=2;var w=zb();(kn!==i||Vn!==a)&&(vi=null,bl=It()+500,aa(i,a));do try{Q4();break}catch(z){$b(i,z)}while(!0);zp(),_h.current=w,ft=x,hn!==null?a=0:(kn=null,Vn=0,a=wn)}if(a!==0){if(a===2&&(x=kr(i),x!==0&&(p=x,a=Cg(i,x))),a===1)throw u=Yc,aa(i,0),so(i,p),fr(i,It()),u;if(a===6)so(i,p);else{if(x=i.current.alternate,(p&30)===0&&!G4(x)&&(a=jh(i,p),a===2&&(w=kr(i),w!==0&&(p=w,a=Cg(i,w))),a===1))throw u=Yc,aa(i,0),so(i,p),fr(i,It()),u;switch(i.finishedWork=x,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:la(i,hr,vi);break;case 3:if(so(i,p),(p&130023424)===p&&(a=Eg+500-It(),10<a)){if(qo(i,0)!==0)break;if(x=i.suspendedLanes,(x&p)!==p){rr(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Pp(la.bind(null,i,hr,vi),a);break}la(i,hr,vi);break;case 4:if(so(i,p),(p&4194240)===p)break;for(a=i.eventTimes,x=-1;0<p;){var A=31-er(p);w=1<<A,A=a[A],A>x&&(x=A),p&=~w}if(p=x,p=It()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*q4(p/1960))-p,10<p){i.timeoutHandle=Pp(la.bind(null,i,hr,vi),p);break}la(i,hr,vi);break;case 5:la(i,hr,vi);break;default:throw Error(n(329))}}}return fr(i,It()),i.callbackNode===u?Ub.bind(null,i):null}function Cg(i,a){var u=Xc;return i.current.memoizedState.isDehydrated&&(aa(i,a).flags|=256),i=jh(i,a),i!==2&&(a=hr,hr=u,a!==null&&Ng(a)),i}function Ng(i){hr===null?hr=i:hr.push.apply(hr,i)}function G4(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var x=u[p],w=x.getSnapshot;x=x.value;try{if(!ys(w(),x))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function so(i,a){for(a&=~_g,a&=~Eh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-er(a),p=1<<u;i[u]=-1,a&=~p}}function Bb(i){if((ft&6)!==0)throw Error(n(327));wl();var a=qo(i,0);if((a&1)===0)return fr(i,It()),null;var u=jh(i,a);if(i.tag!==0&&u===2){var p=kr(i);p!==0&&(a=p,u=Cg(i,p))}if(u===1)throw u=Yc,aa(i,0),so(i,a),fr(i,It()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,la(i,hr,vi),fr(i,It()),null}function kg(i,a){var u=ft;ft|=1;try{return i(a)}finally{ft=u,ft===0&&(bl=It()+500,nh&&Xi())}}function oa(i){no!==null&&no.tag===0&&(ft&6)===0&&wl();var a=ft;ft|=1;var u=Jr.transition,p=ct;try{if(Jr.transition=null,ct=1,i)return i()}finally{ct=p,Jr.transition=u,ft=a,(ft&6)===0&&Xi()}}function jg(){Rr=xl.current,Vt(xl)}function aa(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,E4(u)),hn!==null)for(u=hn.return;u!==null;){var p=u;switch(Lp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&eh();break;case 3:gl(),Vt(cr),Vt($n),Xp();break;case 5:Qp(p);break;case 4:gl();break;case 13:Vt(zt);break;case 19:Vt(zt);break;case 10:Hp(p.type._context);break;case 22:case 23:jg()}u=u.return}if(kn=i,hn=i=io(i.current,null),Vn=Rr=a,wn=0,Yc=null,_g=Eh=ia=0,hr=Xc=null,na!==null){for(a=0;a<na.length;a++)if(u=na[a],p=u.interleaved,p!==null){u.interleaved=null;var x=p.next,w=u.pending;if(w!==null){var A=w.next;w.next=x,p.next=A}u.pending=p}na=null}return i}function $b(i,a){do{var u=hn;try{if(zp(),hh.current=gh,fh){for(var p=Ht.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}fh=!1}if(sa=0,Nn=bn=Ht=null,Hc=!1,Wc=0,wg.current=null,u===null||u.return===null){wn=1,Yc=a,hn=null;break}e:{var w=i,A=u.return,z=u,q=a;if(a=Vn,z.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=q,he=z,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ae=fb(A);if(Ae!==null){Ae.flags&=-257,mb(Ae,A,z,w,a),Ae.mode&1&&hb(w,ne,a),a=Ae,q=ne;var Re=a.updateQueue;if(Re===null){var Ve=new Set;Ve.add(q),a.updateQueue=Ve}else Re.add(q);break e}else{if((a&1)===0){hb(w,ne,a),Ag();break e}q=Error(n(426))}}else if(Ft&&z.mode&1){var sn=fb(A);if(sn!==null){(sn.flags&65536)===0&&(sn.flags|=256),mb(sn,A,z,w,a),Bp(yl(q,z));break e}}w=q=yl(q,z),wn!==4&&(wn=2),Xc===null?Xc=[w]:Xc.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var J=ub(w,q,a);O1(w,J);break e;case 1:z=q;var K=w.type,ee=w.stateNode;if((w.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(to===null||!to.has(ee)))){w.flags|=65536,a&=-a,w.lanes|=a;var xe=db(w,z,a);O1(w,xe);break e}}w=w.return}while(w!==null)}Wb(u)}catch(Oe){a=Oe,hn===u&&u!==null&&(hn=u=u.return);continue}break}while(!0)}function zb(){var i=_h.current;return _h.current=gh,i===null?gh:i}function Ag(){(wn===0||wn===3||wn===2)&&(wn=4),kn===null||(ia&268435455)===0&&(Eh&268435455)===0||so(kn,Vn)}function jh(i,a){var u=ft;ft|=2;var p=zb();(kn!==i||Vn!==a)&&(vi=null,aa(i,a));do try{K4();break}catch(x){$b(i,x)}while(!0);if(zp(),ft=u,_h.current=p,hn!==null)throw Error(n(261));return kn=null,Vn=0,wn}function K4(){for(;hn!==null;)Hb(hn)}function Q4(){for(;hn!==null&&!Cd();)Hb(hn)}function Hb(i){var a=Kb(i.alternate,i,Rr);i.memoizedProps=i.pendingProps,a===null?Wb(i):hn=a,wg.current=null}function Wb(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=B4(u,a,Rr),u!==null){hn=u;return}}else{if(u=$4(u,a),u!==null){u.flags&=32767,hn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wn=6,hn=null;return}}if(a=a.sibling,a!==null){hn=a;return}hn=a=i}while(a!==null);wn===0&&(wn=5)}function la(i,a,u){var p=ct,x=Jr.transition;try{Jr.transition=null,ct=1,Y4(i,a,u,p)}finally{Jr.transition=x,ct=p}return null}function Y4(i,a,u,p){do wl();while(no!==null);if((ft&6)!==0)throw Error(n(327));u=i.finishedWork;var x=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(Nt(i,w),i===kn&&(hn=kn=null,Vn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Th||(Th=!0,Qb(Wr,function(){return wl(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=Jr.transition,Jr.transition=null;var A=ct;ct=1;var z=ft;ft|=4,wg.current=null,H4(i,u),Vb(u,i),g4(Ap),Wi=!!jp,Ap=jp=null,i.current=u,W4(u),fp(),ft=z,ct=A,Jr.transition=w}else i.current=u;if(Th&&(Th=!1,no=i,Ch=x),w=i.pendingLanes,w===0&&(to=null),jd(u.stateNode),fr(i,It()),a!==null)for(p=i.onRecoverableError,u=0;u<a.length;u++)x=a[u],p(x.value,{componentStack:x.stack,digest:x.digest});if(Sh)throw Sh=!1,i=Sg,Sg=null,i;return(Ch&1)!==0&&i.tag!==0&&wl(),w=i.pendingLanes,(w&1)!==0?i===Tg?Jc++:(Jc=0,Tg=i):Jc=0,Xi(),null}function wl(){if(no!==null){var i=zi(Ch),a=Jr.transition,u=ct;try{if(Jr.transition=null,ct=16>i?16:i,no===null)var p=!1;else{if(i=no,no=null,Ch=0,(ft&6)!==0)throw Error(n(331));var x=ft;for(ft|=4,Pe=i.current;Pe!==null;){var w=Pe,A=w.child;if((Pe.flags&16)!==0){var z=w.deletions;if(z!==null){for(var q=0;q<z.length;q++){var ne=z[q];for(Pe=ne;Pe!==null;){var he=Pe;switch(he.tag){case 0:case 11:case 15:Qc(8,he,w)}var pe=he.child;if(pe!==null)pe.return=he,Pe=pe;else for(;Pe!==null;){he=Pe;var de=he.sibling,Ae=he.return;if(Ab(he),he===ne){Pe=null;break}if(de!==null){de.return=Ae,Pe=de;break}Pe=Ae}}}var Re=w.alternate;if(Re!==null){var Ve=Re.child;if(Ve!==null){Re.child=null;do{var sn=Ve.sibling;Ve.sibling=null,Ve=sn}while(Ve!==null)}}Pe=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,Pe=A;else e:for(;Pe!==null;){if(w=Pe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Qc(9,w,w.return)}var J=w.sibling;if(J!==null){J.return=w.return,Pe=J;break e}Pe=w.return}}var K=i.current;for(Pe=K;Pe!==null;){A=Pe;var ee=A.child;if((A.subtreeFlags&2064)!==0&&ee!==null)ee.return=A,Pe=ee;else e:for(A=K;Pe!==null;){if(z=Pe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:wh(9,z)}}catch(Oe){Qt(z,z.return,Oe)}if(z===A){Pe=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Pe=xe;break e}Pe=z.return}}if(ft=x,Xi(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Wo,i)}catch{}p=!0}return p}finally{ct=u,Jr.transition=a}}return!1}function qb(i,a,u){a=yl(u,a),a=ub(i,a,1),i=Zi(i,a,1),a=rr(),i!==null&&(Bi(i,1,a),fr(i,a))}function Qt(i,a,u){if(i.tag===3)qb(i,i,u);else for(;a!==null;){if(a.tag===3){qb(a,i,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(to===null||!to.has(p))){i=yl(u,i),i=db(a,i,1),a=Zi(a,i,1),i=rr(),a!==null&&(Bi(a,1,i),fr(a,i));break}}a=a.return}}function X4(i,a,u){var p=i.pingCache;p!==null&&p.delete(a),a=rr(),i.pingedLanes|=i.suspendedLanes&u,kn===i&&(Vn&u)===u&&(wn===4||wn===3&&(Vn&130023424)===Vn&&500>It()-Eg?aa(i,0):_g|=u),fr(i,a)}function Gb(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ha,Ha<<=1,(Ha&130023424)===0&&(Ha=4194304)));var u=rr();i=pi(i,a),i!==null&&(Bi(i,a,u),fr(i,u))}function J4(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),Gb(i,u)}function Z4(i,a){var u=0;switch(i.tag){case 13:var p=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Gb(i,u)}var Kb;Kb=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||cr.current)dr=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return dr=!1,U4(i,a,u);dr=(i.flags&131072)!==0}else dr=!1,Ft&&(a.flags&1048576)!==0&&N1(a,sh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;xh(i,a),i=a.pendingProps;var x=cl(a,$n.current);pl(a,u),x=eg(null,a,p,i,x,u);var w=tg();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ur(p)?(w=!0,th(a)):w=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Gp(a),x.updater=yh,a.stateNode=x,x._reactInternals=a,ag(a,p,i,u),a=dg(null,a,p,!0,w,u)):(a.tag=0,Ft&&w&&Op(a),nr(null,a,x,u),a=a.child),a;case 16:p=a.elementType;e:{switch(xh(i,a),i=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=tA(p),i=xs(p,i),x){case 0:a=ug(null,a,p,i,u);break e;case 1:a=bb(null,a,p,i,u);break e;case 11:a=pb(null,a,p,i,u);break e;case 14:a=gb(null,a,p,xs(p.type,i),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:xs(p,x),ug(i,a,p,x,u);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:xs(p,x),bb(i,a,p,x,u);case 3:e:{if(wb(a),i===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,x=w.element,M1(i,a),uh(a,p,null,u);var A=a.memoizedState;if(p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){x=yl(Error(n(423)),a),a=_b(i,a,p,u,x);break e}else if(p!==x){x=yl(Error(n(424)),a),a=_b(i,a,p,u,x);break e}else for(Pr=Ki(a.stateNode.containerInfo.firstChild),Ir=a,Ft=!0,vs=null,u=D1(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(hl(),p===x){a=yi(i,a,u);break e}nr(i,a,p,u)}a=a.child}return a;case 5:return F1(a),i===null&&Up(a),p=a.type,x=a.pendingProps,w=i!==null?i.memoizedProps:null,A=x.children,Ip(p,x)?A=null:w!==null&&Ip(p,w)&&(a.flags|=32),xb(i,a),nr(i,a,A,u),a.child;case 6:return i===null&&Up(a),null;case 13:return Eb(i,a,u);case 4:return Kp(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=fl(a,null,p,u):nr(i,a,p,u),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:xs(p,x),pb(i,a,p,x,u);case 7:return nr(i,a,a.pendingProps,u),a.child;case 8:return nr(i,a,a.pendingProps.children,u),a.child;case 12:return nr(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,w=a.memoizedProps,A=x.value,Pt(ah,p._currentValue),p._currentValue=A,w!==null)if(ys(w.value,A)){if(w.children===x.children&&!cr.current){a=yi(i,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var z=w.dependencies;if(z!==null){A=w.child;for(var q=z.firstContext;q!==null;){if(q.context===p){if(w.tag===1){q=gi(-1,u&-u),q.tag=2;var ne=w.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?q.next=q:(q.next=he.next,he.next=q),ne.pending=q}}w.lanes|=u,q=w.alternate,q!==null&&(q.lanes|=u),Wp(w.return,u,a),z.lanes|=u;break}q=q.next}}else if(w.tag===10)A=w.type===a.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(n(341));A.lanes|=u,z=A.alternate,z!==null&&(z.lanes|=u),Wp(A,u,a),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===a){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}nr(i,a,x.children,u),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,pl(a,u),x=Yr(x),p=p(x),a.flags|=1,nr(i,a,p,u),a.child;case 14:return p=a.type,x=xs(p,a.pendingProps),x=xs(p.type,x),gb(i,a,p,x,u);case 15:return yb(i,a,a.type,a.pendingProps,u);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:xs(p,x),xh(i,a),a.tag=1,ur(p)?(i=!0,th(a)):i=!1,pl(a,u),lb(a,p,x),ag(a,p,x,u),dg(null,a,p,!0,i,u);case 19:return Tb(i,a,u);case 22:return vb(i,a,u)}throw Error(n(156,a.tag))};function Qb(i,a){return $a(i,a)}function eA(i,a,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(i,a,u,p){return new eA(i,a,u,p)}function Ig(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tA(i){if(typeof i=="function")return Ig(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===Le)return 14}return 2}function io(i,a){var u=i.alternate;return u===null?(u=Zr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Ah(i,a,u,p,x,w){var A=2;if(p=i,typeof i=="function")Ig(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case V:return ca(u.children,x,w,a);case I:A=8,x|=8;break;case j:return i=Zr(12,u,a,x|2),i.elementType=j,i.lanes=w,i;case P:return i=Zr(13,u,a,x),i.elementType=P,i.lanes=w,i;case ye:return i=Zr(19,u,a,x),i.elementType=ye,i.lanes=w,i;case we:return Ih(u,x,w,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:A=10;break e;case U:A=9;break e;case $:A=11;break e;case Le:A=14;break e;case Me:A=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Zr(A,u,a,x),a.elementType=i,a.type=p,a.lanes=w,a}function ca(i,a,u,p){return i=Zr(7,i,p,a),i.lanes=u,i}function Ih(i,a,u,p){return i=Zr(22,i,p,a),i.elementType=we,i.lanes=u,i.stateNode={isHidden:!1},i}function Pg(i,a,u){return i=Zr(6,i,null,a),i.lanes=u,i}function Rg(i,a,u){return a=Zr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function nA(i,a,u,p,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Dg(i,a,u,p,x,w,A,z,q){return i=new nA(i,a,u,z,q),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Zr(3,null,null,a),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(w),i}function rA(i,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:i,containerInfo:a,implementation:u}}function Yb(i){if(!i)return Yi;i=i._reactInternals;e:{if(us(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ur(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(ur(u))return S1(i,u,a)}return a}function Xb(i,a,u,p,x,w,A,z,q){return i=Dg(u,p,!0,i,x,w,A,z,q),i.context=Yb(null),u=i.current,p=rr(),x=ro(u),w=gi(p,x),w.callback=a??null,Zi(u,w,x),i.current.lanes=x,Bi(i,x,p),fr(i,p),i}function Ph(i,a,u,p){var x=a.current,w=rr(),A=ro(x);return u=Yb(u),a.context===null?a.context=u:a.pendingContext=u,a=gi(w,A),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=Zi(x,a,A),i!==null&&(_s(i,x,A,w),ch(i,x,A)),A}function Rh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Jb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Vg(i,a){Jb(i,a),(i=i.alternate)&&Jb(i,a)}function sA(){return null}var Zb=typeof reportError=="function"?reportError:function(i){console.error(i)};function Mg(i){this._internalRoot=i}Dh.prototype.render=Mg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Ph(i,a,null,null)},Dh.prototype.unmount=Mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;oa(function(){Ph(null,i,null,null)}),a[di]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Dd();i={blockedOn:null,target:i,priority:a};for(var u=0;u<As.length&&a!==0&&a<As[u].priority;u++);As.splice(u,0,i),u===0&&Od(i)}};function Og(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ew(){}function iA(i,a,u,p,x){if(x){if(typeof p=="function"){var w=p;p=function(){var ne=Rh(A);w.call(ne)}}var A=Xb(a,p,i,0,null,!1,!1,"",ew);return i._reactRootContainer=A,i[di]=A.current,Mc(i.nodeType===8?i.parentNode:i),oa(),A}for(;x=i.lastChild;)i.removeChild(x);if(typeof p=="function"){var z=p;p=function(){var ne=Rh(q);z.call(ne)}}var q=Dg(i,0,!1,null,null,!1,!1,"",ew);return i._reactRootContainer=q,i[di]=q.current,Mc(i.nodeType===8?i.parentNode:i),oa(function(){Ph(a,q,u,p)}),q}function Mh(i,a,u,p,x){var w=u._reactRootContainer;if(w){var A=w;if(typeof x=="function"){var z=x;x=function(){var q=Rh(A);z.call(q)}}Ph(a,A,i,x)}else A=iA(u,a,i,x,p);return Rh(A)}Pd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Fi(a.pendingLanes);u!==0&&($i(a,u|1),fr(a,It()),(ft&6)===0&&(bl=It()+500,Xi()))}break;case 13:oa(function(){var p=pi(i,1);if(p!==null){var x=rr();_s(p,i,1,x)}}),Vg(i,1)}},Wa=function(i){if(i.tag===13){var a=pi(i,134217728);if(a!==null){var u=rr();_s(a,i,134217728,u)}Vg(i,134217728)}},Rd=function(i){if(i.tag===13){var a=ro(i),u=pi(i,a);if(u!==null){var p=rr();_s(u,i,a,p)}Vg(i,a)}},Dd=function(){return ct},Vd=function(i,a){var u=ct;try{return ct=i,a()}finally{ct=u}},be=function(i,a,u){switch(a){case"input":if(xt(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==i&&p.form===i.form){var x=Zd(p);if(!x)throw Error(n(90));vt(p),xt(p,x)}}}break;case"textarea":Bn(i,u);break;case"select":a=u.value,a!=null&&Ct(i,!!u.multiple,a,!1)}},In=kg,yc=oa;var oA={usingClientEntryPoint:!1,Events:[Fc,al,Zd,vn,Cr,kg]},Zc={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bc(i),i===null?null:i.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Wo=Oh.inject(aA),Nr=Oh}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA,mr.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(a))throw Error(n(200));return rA(i,a,null,u)},mr.createRoot=function(i,a){if(!Og(i))throw Error(n(299));var u=!1,p="",x=Zb;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Dg(i,1,!1,null,null,u,!1,p,x),i[di]=a.current,Mc(i.nodeType===8?i.parentNode:i),new Mg(a)},mr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=bc(a),i=i===null?null:i.stateNode,i},mr.flushSync=function(i){return oa(i)},mr.hydrate=function(i,a,u){if(!Vh(a))throw Error(n(200));return Mh(null,i,a,!0,u)},mr.hydrateRoot=function(i,a,u){if(!Og(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,x=!1,w="",A=Zb;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),a=Xb(a,null,i,1,u??null,x,!1,w,A),i[di]=a.current,Mc(i),p)for(i=0;i<p.length;i++)u=p[i],x=u._getVersion,x=x(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,x]:a.mutableSourceEagerHydrationData.push(u,x);return new Dh(a)},mr.render=function(i,a,u){if(!Vh(a))throw Error(n(200));return Mh(null,i,a,!1,u)},mr.unmountComponentAtNode=function(i){if(!Vh(i))throw Error(n(40));return i._reactRootContainer?(oa(function(){Mh(null,null,i,!1,function(){i._reactRootContainer=null,i[di]=null})}),!0):!1},mr.unstable_batchedUpdates=kg,mr.unstable_renderSubtreeIntoContainer=function(i,a,u,p){if(!Vh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Mh(i,a,u,!1,p)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var lw;function xS(){if(lw)return Ug.exports;lw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ug.exports=pA(),Ug.exports}var cw;function gA(){if(cw)return Lh;cw=1;var t=xS();return Lh.createRoot=t.createRoot,Lh.hydrateRoot=t.hydrateRoot,Lh}var yA=gA();const vA=Ly(yA);var Uy=xS();const xA=Ly(Uy);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}var go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(go||(go={}));const uw="popstate";function bA(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return j0("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pf(s)}return _A(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wA(){return Math.random().toString(36).substr(2,8)}function dw(t,e){return{usr:t.state,key:t.key,idx:e}}function j0(t,e,n,r){return n===void 0&&(n=null),ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:n,key:e&&e.key||r||wA()})}function Pf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _A(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d=go.Pop,h=null,m=y();m==null&&(m=0,c.replaceState(ju({},c.state,{idx:m}),""));function y(){return(c.state||{idx:null}).idx}function g(){d=go.Pop;let k=y(),D=k==null?null:k-m;m=k,h&&h({action:d,location:S.location,delta:D})}function v(k,D){d=go.Push;let M=j0(S.location,k,D);m=y()+1;let F=dw(M,m),H=S.createHref(M);try{c.pushState(F,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(H)}o&&h&&h({action:d,location:S.location,delta:1})}function _(k,D){d=go.Replace;let M=j0(S.location,k,D);m=y();let F=dw(M,m),H=S.createHref(M);c.replaceState(F,"",H),o&&h&&h({action:d,location:S.location,delta:0})}function C(k){let D=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof k=="string"?k:Pf(k);return M=M.replace(/ $/,"%20"),ln(D,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,D)}let S={get action(){return d},get location(){return t(s,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(uw,g),h=k,()=>{s.removeEventListener(uw,g),h=null}},createHref(k){return e(s,k)},createURL:C,encodeLocation(k){let D=C(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:_,go(k){return c.go(k)}};return S}var hw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hw||(hw={}));function EA(t,e,n){return n===void 0&&(n="/"),SA(t,e,n)}function SA(t,e,n,r){let s=typeof e=="string"?sc(e):e,o=By(s.pathname||"/",n);if(o==null)return null;let c=wS(t);TA(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=OA(o);d=DA(c[h],m)}return d}function wS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(ln(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=vo([r,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),wS(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:PA(m,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let h of _S(o.path))s(o,c,h)}),e}function _S(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=_S(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function TA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CA=/^:[\w-]+$/,NA=3,kA=2,jA=1,AA=10,IA=-2,fw=t=>t==="*";function PA(t,e){let n=t.split("/"),r=n.length;return n.some(fw)&&(r+=IA),e&&(r+=kA),n.filter(s=>!fw(s)).reduce((s,o)=>s+(CA.test(o)?NA:o===""?jA:AA),r)}function RA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DA(t,e,n){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",g=VA({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:vo([o,g.pathname]),pathnameBase:BA(vo([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=vo([o,g.pathnameBase]))}return c}function VA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,y,g)=>{let{paramName:v,isOptional:_}=y;if(v==="*"){let S=d[g]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const C=d[g];return _&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function MA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function OA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function By(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:FA(n,e):e,search:$A(r),hash:zA(s)}}function FA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t,e){let n=UA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=sc(t):(s=ju({},t),ln(!s.pathname||!s.pathname.includes("?"),zg("?","pathname","search",s)),ln(!s.pathname||!s.pathname.includes("#"),zg("#","pathname","hash",s)),ln(!s.search||!s.search.includes("#"),zg("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}d=g>=0?e[g]:"/"}let h=LA(s,d),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}const vo=t=>t.join("/").replace(/\/\/+/g,"/"),BA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ES=["post","put","patch","delete"];new Set(ES);const WA=["get",...ES];new Set(WA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}const Hy=N.createContext(null),qA=N.createContext(null),Do=N.createContext(null),wm=N.createContext(null),Vi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=N.createContext(null);function GA(t,e){let{relative:n}=e===void 0?{}:e;ic()||ln(!1);let{basename:r,navigator:s}=N.useContext(Do),{hash:o,pathname:c,search:d}=CS(t,{relative:n}),h=c;return r!=="/"&&(h=c==="/"?r:vo([r,c])),s.createHref({pathname:h,search:d,hash:o})}function ic(){return N.useContext(wm)!=null}function ri(){return ic()||ln(!1),N.useContext(wm).location}function TS(t){N.useContext(Do).static||N.useLayoutEffect(t)}function Sr(){let{isDataRoute:t}=N.useContext(Vi);return t?oI():KA()}function KA(){ic()||ln(!1);let t=N.useContext(Hy),{basename:e,future:n,navigator:r}=N.useContext(Do),{matches:s}=N.useContext(Vi),{pathname:o}=ri(),c=JSON.stringify($y(s,n.v7_relativeSplatPath)),d=N.useRef(!1);return TS(()=>{d.current=!0}),N.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let g=zy(m,JSON.parse(c),o,y.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:vo([e,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[e,r,c,o,t])}function Wy(){let{matches:t}=N.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function CS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Do),{matches:s}=N.useContext(Vi),{pathname:o}=ri(),c=JSON.stringify($y(s,r.v7_relativeSplatPath));return N.useMemo(()=>zy(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function QA(t,e){return YA(t,e)}function YA(t,e,n,r){ic()||ln(!1);let{navigator:s}=N.useContext(Do),{matches:o}=N.useContext(Vi),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=ri(),y;if(e){var g;let k=typeof e=="string"?sc(e):e;h==="/"||(g=k.pathname)!=null&&g.startsWith(h)||ln(!1),y=k}else y=m;let v=y.pathname||"/",_=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=EA(t,{pathname:_}),S=tI(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:vo([h,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:vo([h,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&S?N.createElement(wm.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:go.Pop}},S):S}function XA(){let t=iI(),e=HA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const JA=N.createElement(XA,null);class ZA extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Vi.Provider,{value:this.props.routeContext},N.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eI(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(Hy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Vi.Provider,{value:e},r)}function tI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(s=n)==null?void 0:s.errors;if(d!=null){let y=c.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);y>=0||ln(!1),c=c.slice(0,Math.min(c.length,y+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:v,errors:_}=n,C=g.route.loader&&v[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||C){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((y,g,v)=>{let _,C=!1,S=null,k=null;n&&(_=d&&g.route.id?d[g.route.id]:void 0,S=g.route.errorElement||JA,h&&(m<0&&v===0?(aI("route-fallback"),C=!0,k=null):m===v&&(C=!0,k=g.route.hydrateFallbackElement||null)));let D=e.concat(c.slice(0,v+1)),M=()=>{let F;return _?F=S:C?F=k:g.route.Component?F=N.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=y,N.createElement(eI,{match:g,routeContext:{outlet:y,matches:D,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?N.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):M()},null)}var NS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NS||{}),kS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kS||{});function nI(t){let e=N.useContext(Hy);return e||ln(!1),e}function rI(t){let e=N.useContext(qA);return e||ln(!1),e}function sI(t){let e=N.useContext(Vi);return e||ln(!1),e}function jS(t){let e=sI(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function iI(){var t;let e=N.useContext(SS),n=rI(),r=jS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oI(){let{router:t}=nI(NS.UseNavigateStable),e=jS(kS.UseNavigateStable),n=N.useRef(!1);return TS(()=>{n.current=!0}),N.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Au({fromRouteId:e},o)))},[t,e])}const mw={};function aI(t,e,n){mw[t]||(mw[t]=!0)}function lI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cI(t){let{to:e,replace:n,state:r,relative:s}=t;ic()||ln(!1);let{future:o,static:c}=N.useContext(Do),{matches:d}=N.useContext(Vi),{pathname:h}=ri(),m=Sr(),y=zy(e,$y(d,o.v7_relativeSplatPath),h,s==="path"),g=JSON.stringify(y);return N.useEffect(()=>m(JSON.parse(g),{replace:n,state:r,relative:s}),[m,g,s,n,r]),null}function Gn(t){ln(!1)}function uI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=go.Pop,navigator:o,static:c=!1,future:d}=t;ic()&&ln(!1);let h=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:h,navigator:o,static:c,future:Au({v7_relativeSplatPath:!1},d)}),[h,d,o,c]);typeof r=="string"&&(r=sc(r));let{pathname:y="/",search:g="",hash:v="",state:_=null,key:C="default"}=r,S=N.useMemo(()=>{let k=By(y,h);return k==null?null:{location:{pathname:k,search:g,hash:v,state:_,key:C},navigationType:s}},[h,y,g,v,_,C,s]);return S==null?null:N.createElement(Do.Provider,{value:m},N.createElement(wm.Provider,{children:n,value:S}))}function dI(t){let{children:e,location:n}=t;return QA(A0(e),n)}new Promise(()=>{});function A0(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let o=[...e,s];if(r.type===N.Fragment){n.push.apply(n,A0(r.props.children,o));return}r.type!==Gn&&ln(!1),!r.props.index||!r.props.children||ln(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=A0(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function hI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mI(t,e){return t.button===0&&(!e||e==="_self")&&!fI(t)}function P0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function pI(t,e){let n=P0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const gI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yI="6";try{window.__reactRouterVersion=yI}catch{}const vI="startTransition",pw=k0[vI];function xI(t){let{basename:e,children:n,future:r,window:s}=t,o=N.useRef();o.current==null&&(o.current=bA({window:s,v5Compat:!0}));let c=o.current,[d,h]=N.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},y=N.useCallback(g=>{m&&pw?pw(()=>h(g)):h(g)},[h,m]);return N.useLayoutEffect(()=>c.listen(y),[c,y]),N.useEffect(()=>lI(r),[r]),N.createElement(uI,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const bI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:c,state:d,target:h,to:m,preventScrollReset:y,viewTransition:g}=e,v=hI(e,gI),{basename:_}=N.useContext(Do),C,S=!1;if(typeof m=="string"&&wI.test(m)&&(C=m,bI))try{let F=new URL(window.location.href),H=m.startsWith("//")?new URL(F.protocol+m):new URL(m),Q=By(H.pathname,_);H.origin===F.origin&&Q!=null?m=Q+H.search+H.hash:S=!0}catch{}let k=GA(m,{relative:s}),D=_I(m,{replace:c,state:d,target:h,preventScrollReset:y,relative:s,viewTransition:g});function M(F){r&&r(F),F.defaultPrevented||D(F)}return N.createElement("a",I0({},v,{href:C||k,onClick:S||o?r:M,ref:n,target:h}))});var gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gw||(gw={}));var yw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));function _I(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,h=Sr(),m=ri(),y=CS(t,{relative:c});return N.useCallback(g=>{if(mI(g,n)){g.preventDefault();let v=r!==void 0?r:Pf(m)===Pf(y);h(t,{replace:v,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[m,h,y,r,s,n,t,o,c,d])}function qy(t){let e=N.useRef(P0(t)),n=N.useRef(!1),r=ri(),s=N.useMemo(()=>pI(r.search,n.current?null:e.current),[r.search]),o=Sr(),c=N.useCallback((d,h)=>{const m=P0(typeof d=="function"?d(s):d);n.current=!0,o("?"+m,h)},[o,s]);return[s,c]}const EI=()=>{};var vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,y=o>>2,g=(o&3)<<4|d>>4;let v=(d&15)<<2|m>>6,_=m&63;h||(_=64,c||(v=64)),r.push(n[y],n[g],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||m==null||g==null)throw new TI;const v=o<<2|d>>4;if(r.push(v),m!==64){const _=d<<4&240|m>>2;if(r.push(_),g!==64){const C=m<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(t){const e=AS(t);return IS.encodeByteArray(e,!0)},Rf=function(t){return CI(t).replace(/\./g,"")},PS=function(t){try{return IS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=()=>NI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof vw>"u")return;const t=vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PS(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return EI()||kI()||jI()||AI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RS=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DS=t=>{const e=RS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VS=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config},MS=t=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(c)),""].join(".")}const mu={};function PI(){const t={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function RI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xw=!1;function Ky(t,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||mu[t]===e||mu[t]||xw)return;mu[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=PI().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{xw=!0,c()},v}function y(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=RI(r),_=n("text"),C=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),k=document.getElementById(S)||document.createElement("a"),D=n("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;d(F),y(k,S);const H=m();h(M,D),F.append(M,C,k,H),document.body.appendChild(F)}o?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function VI(){var t;const e=(t=_m())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FI(){const t=Zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UI(){return!VI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BI(){try{return typeof indexedDB=="object"}catch{return!1}}function $I(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zI,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?HI(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new si(s,d,r)}}function HI(t,e){return t.replace(WI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WI=/\{\$([^}]+)}/g;function qI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(bw(o)&&bw(c)){if(!Sa(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function ou(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GI(t,e){const n=new KI(t,e);return n.subscribe.bind(n)}class KI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hg),s.error===void 0&&(s.error=Hg),s.complete===void 0&&(s.complete=Hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new II;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(t){return t===ha?void 0:t}function JI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const eP={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},tP=it.INFO,nP={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},rP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=tP,this._logHandler=rP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const sP=(t,e)=>e.some(n=>t instanceof n);let ww,_w;function iP(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oP(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LS=new WeakMap,R0=new WeakMap,FS=new WeakMap,Wg=new WeakMap,Yy=new WeakMap;function aP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(xo(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&LS.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function lP(t){if(R0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});R0.set(t,e)}let D0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cP(t){D0=t(D0)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qg(this),e,...n);return FS.set(r,e.sort?e.sort():[e]),xo(r)}:oP().includes(t)?function(...e){return t.apply(qg(this),e),xo(LS.get(this))}:function(...e){return xo(t.apply(qg(this),e))}}function dP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&lP(t),sP(t,iP())?new Proxy(t,D0):t)}function xo(t){if(t instanceof IDBRequest)return aP(t);if(Wg.has(t))return Wg.get(t);const e=dP(t);return e!==t&&(Wg.set(t,e),Yy.set(e,t)),e}const qg=t=>Yy.get(t);function hP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=xo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(xo(c.result),h.oldVersion,h.newVersion,xo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const fP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],Gg=new Map;function Ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gg.get(e))return Gg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fP.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&h.done]))[0]};return Gg.set(e,o),o}cP(t=>({...t,get:(e,n,r)=>Ew(e,n)||t.get(e,n,r),has:(e,n)=>!!Ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V0="@firebase/app",Sw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Qy("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",xP="@firebase/analytics",bP="@firebase/app-check-compat",wP="@firebase/app-check",_P="@firebase/auth",EP="@firebase/auth-compat",SP="@firebase/database",TP="@firebase/data-connect",CP="@firebase/database-compat",NP="@firebase/functions",kP="@firebase/functions-compat",jP="@firebase/installations",AP="@firebase/installations-compat",IP="@firebase/messaging",PP="@firebase/messaging-compat",RP="@firebase/performance",DP="@firebase/performance-compat",VP="@firebase/remote-config",MP="@firebase/remote-config-compat",OP="@firebase/storage",LP="@firebase/storage-compat",FP="@firebase/firestore",UP="@firebase/ai",BP="@firebase/firestore-compat",$P="firebase",zP="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="[DEFAULT]",HP={[V0]:"fire-core",[yP]:"fire-core-compat",[xP]:"fire-analytics",[vP]:"fire-analytics-compat",[wP]:"fire-app-check",[bP]:"fire-app-check-compat",[_P]:"fire-auth",[EP]:"fire-auth-compat",[SP]:"fire-rtdb",[TP]:"fire-data-connect",[CP]:"fire-rtdb-compat",[NP]:"fire-fn",[kP]:"fire-fn-compat",[jP]:"fire-iid",[AP]:"fire-iid-compat",[IP]:"fire-fcm",[PP]:"fire-fcm-compat",[RP]:"fire-perf",[DP]:"fire-perf-compat",[VP]:"fire-rc",[MP]:"fire-rc-compat",[OP]:"fire-gcs",[LP]:"fire-gcs-compat",[FP]:"fire-fst",[BP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,WP=new Map,O0=new Map;function Tw(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ta(t){const e=t.name;if(O0.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;O0.set(e,t);for(const n of Df.values())Tw(n,t);for(const n of WP.values())Tw(n,t);return!0}function Em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new td("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=zP;function US(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:M0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw bo.create("bad-app-name",{appName:String(s)});if(n||(n=VS()),!n)throw bo.create("no-options");const o=Df.get(s);if(o){if(Sa(n,o.options)&&Sa(r,o.config))return o;throw bo.create("duplicate-app",{appName:s})}const c=new ZI(s);for(const h of O0.values())c.addComponent(h);const d=new GP(n,r,c);return Df.set(s,d),d}function Xy(t=M0){const e=Df.get(t);if(!e&&t===M0&&VS())return US();if(!e)throw bo.create("no-app",{appName:t});return e}function Hs(t,e,n){var r;let s=(r=HP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Ta(new Eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",QP=1,Iu="firebase-heartbeat-store";let Kg=null;function BS(){return Kg||(Kg=hP(KP,QP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Kg}async function YP(t){try{const n=(await BS()).transaction(Iu),r=await n.objectStore(Iu).get($S(t));return await n.done,r}catch(e){if(e instanceof si)Ni.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function Cw(t,e){try{const r=(await BS()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(e,$S(t)),await r.done}catch(n){if(n instanceof si)Ni.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function $S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,JP=30;class ZP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Nw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>JP){const c=n5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nw(),{heartbeatsToSend:r,unsentEntries:s}=e5(this._heartbeatsCache.heartbeats),o=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ni.warn(n),""}}}function Nw(){return new Date().toISOString().substring(0,10)}function e5(t,e=XP){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),kw(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BI()?$I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kw(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}function n5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){Ta(new Eo("platform-logger",e=>new pP(e),"PRIVATE")),Ta(new Eo("heartbeat",e=>new ZP(e),"PRIVATE")),Hs(V0,Sw,t),Hs(V0,Sw,"esm2017"),Hs("fire-js","")}r5("");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,zS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function j(){}j.prototype=I.prototype,V.D=I.prototype,V.prototype=new j,V.prototype.constructor=V,V.C=function(E,U,$){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return I.prototype[U].apply(E,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,I,j){j||(j=0);var E=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)E[U]=I.charCodeAt(j++)|I.charCodeAt(j++)<<8|I.charCodeAt(j++)<<16|I.charCodeAt(j++)<<24;else for(U=0;16>U;++U)E[U]=I[j++]|I[j++]<<8|I[j++]<<16|I[j++]<<24;I=V.g[0],j=V.g[1],U=V.g[2];var $=V.g[3],P=I+($^j&(U^$))+E[0]+3614090360&4294967295;I=j+(P<<7&4294967295|P>>>25),P=$+(U^I&(j^U))+E[1]+3905402710&4294967295,$=I+(P<<12&4294967295|P>>>20),P=U+(j^$&(I^j))+E[2]+606105819&4294967295,U=$+(P<<17&4294967295|P>>>15),P=j+(I^U&($^I))+E[3]+3250441966&4294967295,j=U+(P<<22&4294967295|P>>>10),P=I+($^j&(U^$))+E[4]+4118548399&4294967295,I=j+(P<<7&4294967295|P>>>25),P=$+(U^I&(j^U))+E[5]+1200080426&4294967295,$=I+(P<<12&4294967295|P>>>20),P=U+(j^$&(I^j))+E[6]+2821735955&4294967295,U=$+(P<<17&4294967295|P>>>15),P=j+(I^U&($^I))+E[7]+4249261313&4294967295,j=U+(P<<22&4294967295|P>>>10),P=I+($^j&(U^$))+E[8]+1770035416&4294967295,I=j+(P<<7&4294967295|P>>>25),P=$+(U^I&(j^U))+E[9]+2336552879&4294967295,$=I+(P<<12&4294967295|P>>>20),P=U+(j^$&(I^j))+E[10]+4294925233&4294967295,U=$+(P<<17&4294967295|P>>>15),P=j+(I^U&($^I))+E[11]+2304563134&4294967295,j=U+(P<<22&4294967295|P>>>10),P=I+($^j&(U^$))+E[12]+1804603682&4294967295,I=j+(P<<7&4294967295|P>>>25),P=$+(U^I&(j^U))+E[13]+4254626195&4294967295,$=I+(P<<12&4294967295|P>>>20),P=U+(j^$&(I^j))+E[14]+2792965006&4294967295,U=$+(P<<17&4294967295|P>>>15),P=j+(I^U&($^I))+E[15]+1236535329&4294967295,j=U+(P<<22&4294967295|P>>>10),P=I+(U^$&(j^U))+E[1]+4129170786&4294967295,I=j+(P<<5&4294967295|P>>>27),P=$+(j^U&(I^j))+E[6]+3225465664&4294967295,$=I+(P<<9&4294967295|P>>>23),P=U+(I^j&($^I))+E[11]+643717713&4294967295,U=$+(P<<14&4294967295|P>>>18),P=j+($^I&(U^$))+E[0]+3921069994&4294967295,j=U+(P<<20&4294967295|P>>>12),P=I+(U^$&(j^U))+E[5]+3593408605&4294967295,I=j+(P<<5&4294967295|P>>>27),P=$+(j^U&(I^j))+E[10]+38016083&4294967295,$=I+(P<<9&4294967295|P>>>23),P=U+(I^j&($^I))+E[15]+3634488961&4294967295,U=$+(P<<14&4294967295|P>>>18),P=j+($^I&(U^$))+E[4]+3889429448&4294967295,j=U+(P<<20&4294967295|P>>>12),P=I+(U^$&(j^U))+E[9]+568446438&4294967295,I=j+(P<<5&4294967295|P>>>27),P=$+(j^U&(I^j))+E[14]+3275163606&4294967295,$=I+(P<<9&4294967295|P>>>23),P=U+(I^j&($^I))+E[3]+4107603335&4294967295,U=$+(P<<14&4294967295|P>>>18),P=j+($^I&(U^$))+E[8]+1163531501&4294967295,j=U+(P<<20&4294967295|P>>>12),P=I+(U^$&(j^U))+E[13]+2850285829&4294967295,I=j+(P<<5&4294967295|P>>>27),P=$+(j^U&(I^j))+E[2]+4243563512&4294967295,$=I+(P<<9&4294967295|P>>>23),P=U+(I^j&($^I))+E[7]+1735328473&4294967295,U=$+(P<<14&4294967295|P>>>18),P=j+($^I&(U^$))+E[12]+2368359562&4294967295,j=U+(P<<20&4294967295|P>>>12),P=I+(j^U^$)+E[5]+4294588738&4294967295,I=j+(P<<4&4294967295|P>>>28),P=$+(I^j^U)+E[8]+2272392833&4294967295,$=I+(P<<11&4294967295|P>>>21),P=U+($^I^j)+E[11]+1839030562&4294967295,U=$+(P<<16&4294967295|P>>>16),P=j+(U^$^I)+E[14]+4259657740&4294967295,j=U+(P<<23&4294967295|P>>>9),P=I+(j^U^$)+E[1]+2763975236&4294967295,I=j+(P<<4&4294967295|P>>>28),P=$+(I^j^U)+E[4]+1272893353&4294967295,$=I+(P<<11&4294967295|P>>>21),P=U+($^I^j)+E[7]+4139469664&4294967295,U=$+(P<<16&4294967295|P>>>16),P=j+(U^$^I)+E[10]+3200236656&4294967295,j=U+(P<<23&4294967295|P>>>9),P=I+(j^U^$)+E[13]+681279174&4294967295,I=j+(P<<4&4294967295|P>>>28),P=$+(I^j^U)+E[0]+3936430074&4294967295,$=I+(P<<11&4294967295|P>>>21),P=U+($^I^j)+E[3]+3572445317&4294967295,U=$+(P<<16&4294967295|P>>>16),P=j+(U^$^I)+E[6]+76029189&4294967295,j=U+(P<<23&4294967295|P>>>9),P=I+(j^U^$)+E[9]+3654602809&4294967295,I=j+(P<<4&4294967295|P>>>28),P=$+(I^j^U)+E[12]+3873151461&4294967295,$=I+(P<<11&4294967295|P>>>21),P=U+($^I^j)+E[15]+530742520&4294967295,U=$+(P<<16&4294967295|P>>>16),P=j+(U^$^I)+E[2]+3299628645&4294967295,j=U+(P<<23&4294967295|P>>>9),P=I+(U^(j|~$))+E[0]+4096336452&4294967295,I=j+(P<<6&4294967295|P>>>26),P=$+(j^(I|~U))+E[7]+1126891415&4294967295,$=I+(P<<10&4294967295|P>>>22),P=U+(I^($|~j))+E[14]+2878612391&4294967295,U=$+(P<<15&4294967295|P>>>17),P=j+($^(U|~I))+E[5]+4237533241&4294967295,j=U+(P<<21&4294967295|P>>>11),P=I+(U^(j|~$))+E[12]+1700485571&4294967295,I=j+(P<<6&4294967295|P>>>26),P=$+(j^(I|~U))+E[3]+2399980690&4294967295,$=I+(P<<10&4294967295|P>>>22),P=U+(I^($|~j))+E[10]+4293915773&4294967295,U=$+(P<<15&4294967295|P>>>17),P=j+($^(U|~I))+E[1]+2240044497&4294967295,j=U+(P<<21&4294967295|P>>>11),P=I+(U^(j|~$))+E[8]+1873313359&4294967295,I=j+(P<<6&4294967295|P>>>26),P=$+(j^(I|~U))+E[15]+4264355552&4294967295,$=I+(P<<10&4294967295|P>>>22),P=U+(I^($|~j))+E[6]+2734768916&4294967295,U=$+(P<<15&4294967295|P>>>17),P=j+($^(U|~I))+E[13]+1309151649&4294967295,j=U+(P<<21&4294967295|P>>>11),P=I+(U^(j|~$))+E[4]+4149444226&4294967295,I=j+(P<<6&4294967295|P>>>26),P=$+(j^(I|~U))+E[11]+3174756917&4294967295,$=I+(P<<10&4294967295|P>>>22),P=U+(I^($|~j))+E[2]+718787259&4294967295,U=$+(P<<15&4294967295|P>>>17),P=j+($^(U|~I))+E[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+$&4294967295}r.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var j=I-this.blockSize,E=this.B,U=this.h,$=0;$<I;){if(U==0)for(;$<=j;)s(this,V,$),$+=this.blockSize;if(typeof V=="string"){for(;$<I;)if(E[U++]=V.charCodeAt($++),U==this.blockSize){s(this,E),U=0;break}}else for(;$<I;)if(E[U++]=V[$++],U==this.blockSize){s(this,E),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var j=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=j&255,j/=256;for(this.u(V),V=Array(16),I=j=0;4>I;++I)for(var E=0;32>E;E+=8)V[j++]=this.g[I]>>>E&255;return V};function o(V,I){var j=d;return Object.prototype.hasOwnProperty.call(j,V)?j[V]:j[V]=I(V)}function c(V,I){this.h=I;for(var j=[],E=!0,U=V.length-1;0<=U;U--){var $=V[U]|0;E&&$==I||(j[U]=$,E=!1)}this.g=j}var d={};function h(V){return-128<=V&&128>V?o(V,function(I){return new c([I|0],0>I?-1:0)}):new c([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return g;if(0>V)return k(m(-V));for(var I=[],j=1,E=0;V>=j;E++)I[E]=V/j|0,j*=4294967296;return new c(I,0)}function y(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return k(y(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=m(Math.pow(I,8)),E=g,U=0;U<V.length;U+=8){var $=Math.min(8,V.length-U),P=parseInt(V.substring(U,U+$),I);8>$?($=m(Math.pow(I,$)),E=E.j($).add(m(P))):(E=E.j(j),E=E.add(m(P)))}return E}var g=h(0),v=h(1),_=h(16777216);t=c.prototype,t.m=function(){if(S(this))return-k(this).m();for(var V=0,I=1,j=0;j<this.g.length;j++){var E=this.i(j);V+=(0<=E?E:4294967296+E)*I,I*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(S(this))return"-"+k(this).toString(V);for(var I=m(Math.pow(V,6)),j=this,E="";;){var U=H(j,I).g;j=D(j,U.j(I));var $=((0<j.g.length?j.g[0]:j.h)>>>0).toString(V);if(j=U,C(j))return $+E;for(;6>$.length;)$="0"+$;E=$+E}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function S(V){return V.h==-1}t.l=function(V){return V=D(this,V),S(V)?-1:C(V)?0:1};function k(V){for(var I=V.g.length,j=[],E=0;E<I;E++)j[E]=~V.g[E];return new c(j,~V.h).add(v)}t.abs=function(){return S(this)?k(this):this},t.add=function(V){for(var I=Math.max(this.g.length,V.g.length),j=[],E=0,U=0;U<=I;U++){var $=E+(this.i(U)&65535)+(V.i(U)&65535),P=($>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);E=P>>>16,$&=65535,P&=65535,j[U]=P<<16|$}return new c(j,j[j.length-1]&-2147483648?-1:0)};function D(V,I){return V.add(k(I))}t.j=function(V){if(C(this)||C(V))return g;if(S(this))return S(V)?k(this).j(k(V)):k(k(this).j(V));if(S(V))return k(this.j(k(V)));if(0>this.l(_)&&0>V.l(_))return m(this.m()*V.m());for(var I=this.g.length+V.g.length,j=[],E=0;E<2*I;E++)j[E]=0;for(E=0;E<this.g.length;E++)for(var U=0;U<V.g.length;U++){var $=this.i(E)>>>16,P=this.i(E)&65535,ye=V.i(U)>>>16,Le=V.i(U)&65535;j[2*E+2*U]+=P*Le,M(j,2*E+2*U),j[2*E+2*U+1]+=$*Le,M(j,2*E+2*U+1),j[2*E+2*U+1]+=P*ye,M(j,2*E+2*U+1),j[2*E+2*U+2]+=$*ye,M(j,2*E+2*U+2)}for(E=0;E<I;E++)j[E]=j[2*E+1]<<16|j[2*E];for(E=I;E<2*I;E++)j[E]=0;return new c(j,0)};function M(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function F(V,I){this.g=V,this.h=I}function H(V,I){if(C(I))throw Error("division by zero");if(C(V))return new F(g,g);if(S(V))return I=H(k(V),I),new F(k(I.g),k(I.h));if(S(I))return I=H(V,k(I)),new F(k(I.g),I.h);if(30<V.g.length){if(S(V)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var j=v,E=I;0>=E.l(V);)j=Q(j),E=Q(E);var U=G(j,1),$=G(E,1);for(E=G(E,2),j=G(j,2);!C(E);){var P=$.add(E);0>=P.l(V)&&(U=U.add(j),$=P),E=G(E,1),j=G(j,1)}return I=D(V,U.j(I)),new F(U,I)}for(U=g;0<=V.l(I);){for(j=Math.max(1,Math.floor(V.m()/I.m())),E=Math.ceil(Math.log(j)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),$=m(j),P=$.j(I);S(P)||0<P.l(V);)j-=E,$=m(j),P=$.j(I);C($)&&($=v),U=U.add($),V=D(V,P)}return new F(U,V)}t.A=function(V){return H(this,V).h},t.and=function(V){for(var I=Math.max(this.g.length,V.g.length),j=[],E=0;E<I;E++)j[E]=this.i(E)&V.i(E);return new c(j,this.h&V.h)},t.or=function(V){for(var I=Math.max(this.g.length,V.g.length),j=[],E=0;E<I;E++)j[E]=this.i(E)|V.i(E);return new c(j,this.h|V.h)},t.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),j=[],E=0;E<I;E++)j[E]=this.i(E)^V.i(E);return new c(j,this.h^V.h)};function Q(V){for(var I=V.g.length+1,j=[],E=0;E<I;E++)j[E]=V.i(E)<<1|V.i(E-1)>>>31;return new c(j,V.h)}function G(V,I){var j=I>>5;I%=32;for(var E=V.g.length-j,U=[],$=0;$<E;$++)U[$]=0<I?V.i($+j)>>>I|V.i($+j+1)<<32-I:V.i($+j);return new c(U,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,wo=c}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS,au,WS,uf,L0,qS,GS,KS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in T))break e;T=T[X]}f=f[f.length-1],O=T[f],b=b(O),b!=O&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function o(f,b){f instanceof String&&(f+="");var T=0,O=!1,X={next:function(){if(!O&&T<f.length){var se=T++;return{value:b(se,f[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function m(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function y(f,b,T){return f.call.apply(f.bind,arguments)}function g(f,b,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),f.apply(b,X)}}return function(){return f.apply(b,arguments)}}function v(f,b,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,v.apply(null,arguments)}function _(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,X,se){for(var _e=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)_e[Et-2]=arguments[Et];return b.prototype[X].apply(O,_e)}}function S(f){const b=f.length;if(0<b){const T=Array(b);for(let O=0;O<b;O++)T[O]=f[O];return T}return[]}function k(f,b){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(h(O)){const X=f.length||0,se=O.length||0;f.length=X+se;for(let _e=0;_e<se;_e++)f[X+_e]=O[_e]}else f.push(O)}}class D{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function G(f,b,T){for(const O in f)b.call(T,f[O],O,f)}function V(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function I(f){const b={};for(const T in f)b[T]=f[T];return b}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,b){let T,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(T in O)f[T]=O[T];for(let se=0;se<j.length;se++)T=j[se],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function U(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function $(f){d.setTimeout(()=>{throw f},0)}function P(){var f=ae;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ye{constructor(){this.h=this.g=null}add(b,T){const O=Le.get();O.set(b,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Le=new D(()=>new Me,f=>f.reset());class Me{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let we,W=!1,ae=new ye,L=()=>{const f=d.Promise.resolve(void 0);we=()=>{f.then(R)}};var R=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(T){$(T)}var b=Le;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}W=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};d.addEventListener("test",T,b),d.removeEventListener("test",T,b)}catch{}return f}();function ie(f,b){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(Q){e:{try{H(b.nodeName);var X=!0;break e}catch{}X=!1}X||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ie.aa.h.call(this)}}C(ie,Y);var ue={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ce(f,b,T,O,X){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!O,this.ha=X,this.key=++Se,this.da=this.fa=!1}function Ke(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function at(f){this.src=f,this.g={},this.h=0}at.prototype.add=function(f,b,T,O,X){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var _e=ut(f,b,O,X);return-1<_e?(b=f[_e],T||(b.fa=!1)):(b=new Ce(b,this.src,se,!!O,X),b.fa=T,f.push(b)),b};function vt(f,b){var T=b.type;if(T in f.g){var O=f.g[T],X=Array.prototype.indexOf.call(O,b,void 0),se;(se=0<=X)&&Array.prototype.splice.call(O,X,1),se&&(Ke(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ut(f,b,T,O){for(var X=0;X<f.length;++X){var se=f[X];if(!se.da&&se.listener==b&&se.capture==!!T&&se.ha==O)return X}return-1}var At="closure_lm_"+(1e6*Math.random()|0),un={};function Tn(f,b,T,O,X){if(Array.isArray(b)){for(var se=0;se<b.length;se++)Tn(f,b[se],T,O,X);return null}return T=fe(T),f&&f[me]?f.K(b,T,m(O)?!!O.capture:!1,X):xt(f,b,T,!1,O,X)}function xt(f,b,T,O,X,se){if(!b)throw Error("Invalid event type");var _e=m(X)?!!X.capture:!!X,Et=nn(f);if(Et||(f[At]=Et=new at(f)),T=Et.add(b,T,O,_e,se),T.proxy)return T;if(O=ve(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)Z||(X=_e),X===void 0&&(X=!1),f.addEventListener(b.toString(),O,X);else if(f.attachEvent)f.attachEvent(Ct(b.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ve(){function f(T){return b.call(f.src,f.listener,T)}const b=wt;return f}function Ue(f,b,T,O,X){if(Array.isArray(b))for(var se=0;se<b.length;se++)Ue(f,b[se],T,O,X);else O=m(O)?!!O.capture:!!O,T=fe(T),f&&f[me]?(f=f.i,b=String(b).toString(),b in f.g&&(se=f.g[b],T=ut(se,T,O,X),-1<T&&(Ke(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete f.g[b],f.h--)))):f&&(f=nn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ut(b,T,O,X)),(T=-1<f?b[f]:null)&&De(T))}function De(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[me])vt(b.i,f);else{var T=f.type,O=f.proxy;b.removeEventListener?b.removeEventListener(T,O,f.capture):b.detachEvent?b.detachEvent(Ct(T),O):b.addListener&&b.removeListener&&b.removeListener(O),(T=nn(b))?(vt(T,f),T.h==0&&(T.src=null,b[At]=null)):Ke(f)}}}function Ct(f){return f in un?un[f]:un[f]="on"+f}function wt(f,b){if(f.da)f=!0;else{b=new ie(b,this);var T=f.listener,O=f.ha||f.src;f.fa&&De(f),f=T.call(O,b)}return f}function nn(f){return f=f[At],f instanceof at?f:null}var Bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(f){return typeof f=="function"?f:(f[Bn]||(f[Bn]=function(b){return f.handleEvent(b)}),f[Bn])}function ge(){B.call(this),this.i=new at(this),this.M=this,this.F=null}C(ge,B),ge.prototype[me]=!0,ge.prototype.removeEventListener=function(f,b,T,O){Ue(this,f,b,T,O)};function ke(f,b){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=b.type||b,typeof b=="string")b=new Y(b,f);else if(b instanceof Y)b.target=b.target||f;else{var X=b;b=new Y(O,f),E(b,X)}if(X=!0,T)for(var se=T.length-1;0<=se;se--){var _e=b.g=T[se];X=re(_e,O,!0,b)&&X}if(_e=b.g=f,X=re(_e,O,!0,b)&&X,X=re(_e,O,!1,b)&&X,T)for(se=0;se<T.length;se++)_e=b.g=T[se],X=re(_e,O,!1,b)&&X}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],O=0;O<T.length;O++)Ke(T[O]);delete f.g[b],f.h--}}this.F=null},ge.prototype.K=function(f,b,T,O){return this.i.add(String(f),b,!1,T,O)},ge.prototype.L=function(f,b,T,O){return this.i.add(String(f),b,!0,T,O)};function re(f,b,T,O){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var X=!0,se=0;se<b.length;++se){var _e=b[se];if(_e&&!_e.da&&_e.capture==T){var Et=_e.listener,xn=_e.ha||_e.src;_e.fa&&vt(f.i,_e),X=Et.call(xn,O)!==!1&&X}}return X&&!O.defaultPrevented}function Te(f,b,T){if(typeof f=="function")T&&(f=v(f,T));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function je(f){f.g=Te(()=>{f.g=null,f.i&&(f.i=!1,je(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class et extends B{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(f){B.call(this),this.h=f,this.g={}}C(lt,B);var Ye=[];function Ot(f){G(f.g,function(b,T){this.g.hasOwnProperty(T)&&De(b)},f),f.g={}}lt.prototype.N=function(){lt.aa.N.call(this),Ot(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,ks=d.JSON.parse,zr=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Hr(){}Hr.prototype.h=null;function Tr(f){return f.h||(f.h=f.i())}function be(){}var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){Y.call(this,"d")}C(We,Y);function _t(){Y.call(this,"c")}C(_t,Y);var vn={},Cr=null;function In(){return Cr=Cr||new ge}vn.La="serverreachability";function yc(f){Y.call(this,vn.La,f)}C(yc,Y);function ii(f){const b=In();ke(b,new yc(b))}vn.STAT_EVENT="statevent";function vc(f,b){Y.call(this,vn.STAT_EVENT,f),this.stat=b}C(vc,Y);function rn(f){const b=In();ke(b,new vc(b,f))}vn.Ma="timingevent";function La(f,b){Y.call(this,vn.Ma,f),this.size=b}C(La,Y);function ls(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function $o(f,b,T,O,X,se){f.info(function(){if(f.g)if(se)for(var _e="",Et=se.split("&"),xn=0;xn<Et.length;xn++){var dt=Et[xn].split("=");if(1<dt.length){var Cn=dt[0];dt=dt[1];var dn=Cn.split("_");_e=2<=dn.length&&dn[1]=="type"?_e+(Cn+"="+dt+"&"):_e+(Cn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+b+`
`+T+`
`+_e})}function Fa(f,b,T,O,X,se,_e){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+b+`
`+T+`
`+se+" "+_e})}function cs(f,b,T,O){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+hp(f,T)+(O?" "+O:"")})}function xc(f,b){f.info(function(){return"TIMEOUT: "+b})}Bo.prototype.info=function(){};function hp(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<X.length;_e++)X[_e]=""}}}}return or(T)}catch{return b}}var Ua={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},us;function zo(){}C(zo,Hr),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},us=new zo;function ds(f,b,T,O){this.j=f,this.i=b,this.l=T,this.R=O||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Td}function Td(){this.i=null,this.g="",this.h=!1}var bc={},Ba={};function $a(f,b,T){f.L=1,f.v=$i(kr(b)),f.m=T,f.P=!0,wc(f,null)}function wc(f,b){f.F=Date.now(),It(f),f.A=kr(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Hi(T.i,"t",O),f.C=0,T=f.j.J,f.h=new Td,f.g=zd(f.j,T?b:null,!f.m),0<f.O&&(f.M=new et(v(f.Y,f,f.g),f.O)),b=f.U,T=f.g,O=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Ye[0]=X.toString()),X=Ye);for(var se=0;se<X.length;se++){var _e=Tn(T,X[se],O||b.handleEvent,!1,b.h||b);if(!_e)break;b.g[_e.key]=_e}b=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),ii(),$o(f.i,f.u,f.A,f.l,f.R,f.m)}ds.prototype.ca=function(f){f=f.target;const b=this.M;b&&lr(f)==3?b.j():this.Y(f)},ds.prototype.Y=function(f){try{if(f==this.g)e:{const dn=lr(this.g);var b=this.g.Ba();const Gr=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||Nc(this.g)))){this.J||dn!=4||b==7||(b==8||0>=Gr?ii(3):ii(2)),Ho(this);var T=this.g.Z();this.X=T;t:if(Cd(this)){var O=Nc(this.g);f="";var X=O.length,se=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Li(this);var _e="";break t}this.h.i=new d.TextDecoder}for(b=0;b<X;b++)this.h.h=!0,f+=this.h.i.decode(O[b],{stream:!(se&&b==X-1)});O.length=0,this.h.g+=f,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=T==200,Fa(this.i,this.u,this.A,this.l,this.R,dn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,xn=this.g;if((Et=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Et)){var dt=Et;break t}}dt=null}if(T=dt)cs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_c(this,T);else{this.o=!1,this.s=3,rn(12),Wr(this),Li(this);break e}}if(this.P){T=!0;let Ar;for(;!this.J&&this.C<_e.length;)if(Ar=fp(this,_e),Ar==Ba){dn==4&&(this.s=4,rn(14),T=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==bc){this.s=4,rn(15),cs(this.i,this.l,_e,"[Invalid Chunk]"),T=!1;break}else cs(this.i,this.l,Ar,null),_c(this,Ar);if(Cd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||_e.length!=0||this.h.h||(this.s=1,rn(16),T=!1),this.o=this.o&&T,!T)cs(this.i,this.l,_e,"[Invalid Chunked Response]"),Wr(this),Li(this);else if(0<_e.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),jc(Cn),Cn.M=!0,rn(11))}}else cs(this.i,this.l,_e,null),_c(this,_e);dn==4&&Wr(this),this.o&&!this.J&&(dn==4?Za(this.j,this):(this.o=!1,It(this)))}else Ka(this.g),T==400&&0<_e.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Wr(this),Li(this)}}}catch{}finally{}};function Cd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function fp(f,b){var T=f.C,O=b.indexOf(`
`,T);return O==-1?Ba:(T=Number(b.substring(T,O)),isNaN(T)?bc:(O+=1,O+T>b.length?Ba:(b=b.slice(O,O+T),f.C=O+T,b)))}ds.prototype.cancel=function(){this.J=!0,Wr(this)};function It(f){f.S=Date.now()+f.I,Nd(f,f.I)}function Nd(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ls(v(f.ba,f),b)}function Ho(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ds.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xc(this.i,this.A),this.L!=2&&(ii(),rn(17)),Wr(this),this.s=2,Li(this)):Nd(this,this.S-f)};function Li(f){f.j.G==0||f.J||Za(f.j,f)}function Wr(f){Ho(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Ot(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function _c(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||er(T.h,f))){if(!f.K&&er(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ja(T),gs(T);else break e;Xa(T),rn(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=ls(v(T.Za,T),6e3));if(1>=jd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ui(T,11)}else if((f.K||T.g==f)&&Ja(T),!M(b))for(X=T.Da.g.parse(b),b=0;b<X.length;b++){let dt=X[b];if(T.T=dt[0],dt=dt[1],T.G==2)if(dt[0]=="c"){T.K=dt[1],T.ia=dt[2];const Cn=dt[3];Cn!=null&&(T.la=Cn,T.j.info("VER="+T.la));const dn=dt[4];dn!=null&&(T.Aa=dn,T.j.info("SVER="+T.Aa));const Gr=dt[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(O=1.5*Gr,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Ar=f.g;if(Ar){const Xo=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var se=O.h;se.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ec(se,se.h),se.h=null))}if(O.D){const tl=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(O.ya=tl,Nt(O.I,O.D,tl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var _e=f;if(O.qa=$d(O,O.J?O.ia:null,O.W),_e.K){Ad(O.h,_e);var Et=_e,xn=O.L;xn&&(Et.I=xn),Et.B&&(Ho(Et),It(Et)),O.g=_e}else Yo(O);0<T.i.length&&Ps(T)}else dt[0]!="stop"&&dt[0]!="close"||ui(T,7);else T.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ui(T,7):Rn(T):dt[0]!="noop"&&T.l&&T.l.ta(dt),T.v=0)}}ii(4)}catch{}}var kd=class{constructor(f,b){this.g=f,this.map=b}};function Wo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function jd(f){return f.h?1:f.g?f.g.size:0}function er(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Ec(f,b){f.g?f.g.add(b):f.h=b}function Ad(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Wo.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Id(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return S(f.i)}function za(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],T=f.length,O=0;O<T;O++)b.push(f[O]);return b}b=[],T=0;for(O in f)b[T++]=f[O];return b}function Ha(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const O in f)b[T++]=O;return b}}}function Fi(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=Ha(f),O=za(f),X=O.length,se=0;se<X;se++)b.call(void 0,O[se],T&&T[se],f)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),X=null;if(0<=O){var se=f[T].substring(0,O);X=f[T].substring(O+1)}else se=f[T];b(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function oi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof oi){this.h=f.h,Go(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var b=f.i,T=new js;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),Bi(this,T),this.m=f.m}else f&&(b=String(f).match(qo))?(this.h=!1,Go(this,b[1]||"",!0),this.o=ct(b[2]||""),this.g=ct(b[3]||"",!0),Ui(this,b[4]),this.l=ct(b[5]||"",!0),Bi(this,b[6]||"",!0),this.m=ct(b[7]||"")):(this.h=!1,this.i=new js(null,this.h))}oi.prototype.toString=function(){var f=[],b=this.j;b&&f.push(zi(b,Wa,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(zi(b,Wa,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(zi(T,T.charAt(0)=="/"?Dd:Rd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",zi(T,Sc)),f.join("")};function kr(f){return new oi(f)}function Go(f,b,T){f.j=T?ct(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Bi(f,b,T){b instanceof js?(f.i=b,As(f.i,f.h)):(T||(b=zi(b,Vd)),f.i=new js(b,f.h))}function Nt(f,b,T){f.i.set(b,T)}function $i(f){return Nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ct(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zi(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Pd),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wa=/[#\/\?@]/g,Rd=/[#\?:]/g,Dd=/[#\?]/g,Vd=/[#\?@]/g,Sc=/#/g;function js(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Pn(f){f.g||(f.g=new Map,f.h=0,f.i&&mp(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=js.prototype,t.add=function(f,b){Pn(this),this.i=null,f=qr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function hs(f,b){Pn(f),b=qr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function fs(f,b){return Pn(f),b=qr(f,b),f.g.has(b)}t.forEach=function(f,b){Pn(this),this.g.forEach(function(T,O){T.forEach(function(X){f.call(b,X,O,this)},this)},this)},t.na=function(){Pn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let O=0;O<b.length;O++){const X=f[O];for(let se=0;se<X.length;se++)T.push(b[O])}return T},t.V=function(f){Pn(this);let b=[];if(typeof f=="string")fs(this,f)&&(b=b.concat(this.g.get(qr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},t.set=function(f,b){return Pn(this),this.i=null,f=qr(this,f),fs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Hi(f,b,T){hs(f,b),0<T.length&&(f.i=null,f.g.set(qr(f,b),S(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var O=b[T];const se=encodeURIComponent(String(O)),_e=this.V(O);for(O=0;O<_e.length;O++){var X=se;_e[O]!==""&&(X+="="+encodeURIComponent(String(_e[O]))),f.push(X)}}return this.i=f.join("&")};function qr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function As(f,b){b&&!f.j&&(Pn(f),f.i=null,f.g.forEach(function(T,O){var X=O.toLowerCase();O!=X&&(hs(this,O),Hi(this,X,T))},f)),f.j=b}function pp(f,b){const T=new Bo;if(d.Image){const O=new Image;O.onload=_(ar,T,"TestLoadImage: loaded",!0,b,O),O.onerror=_(ar,T,"TestLoadImage: error",!1,b,O),O.onabort=_(ar,T,"TestLoadImage: abort",!1,b,O),O.ontimeout=_(ar,T,"TestLoadImage: timeout",!1,b,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else b(!1)}function Md(f,b){const T=new Bo,O=new AbortController,X=setTimeout(()=>{O.abort(),ar(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:O.signal}).then(se=>{clearTimeout(X),se.ok?ar(T,"TestPingServer: ok",!0,b):ar(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),ar(T,"TestPingServer: error",!1,b)})}function ar(f,b,T,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(T)}catch{}}function gp(){this.g=new zr}function Od(f,b,T){const O=T||"";try{Fi(f,function(X,se){let _e=X;m(X)&&(_e=or(X)),b.push(O+se+"="+encodeURIComponent(_e))})}catch(X){throw b.push(O+"type="+encodeURIComponent("_badmap")),X}}function ai(f){this.l=f.Ub||null,this.j=f.eb||!1}C(ai,Hr),ai.prototype.g=function(){return new Ko(this.l,this.j)},ai.prototype.i=function(f){return function(){return f}}({});function Ko(f,b){ge.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ko,ge),t=Ko.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,ps(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ld(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ld(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ms(this):ps(this),this.readyState==3&&Ld(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ms(this))},t.Qa=function(f){this.g&&(this.response=f,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ps(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function ps(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function li(f){let b="";return G(f,function(T,O){b+=O,b+=":",b+=T,b+=`\r
`}),b}function Wi(f,b,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=li(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Nt(f,b,T))}function Lt(f){ge.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Lt,ge);var yp=/^https?$/i,Tc=["POST","PUT"];t=Lt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():us.g(),this.v=this.o?Tr(this.o):Tr(us),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(se){Qo(this,se);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)T.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())T.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Tc,b,void 0))||O||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of T)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){Qo(this,se)}};function Qo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,qa(f),jr(f)}function qa(f){f.A||(f.A=!0,ke(f,"complete"),ke(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ke(this,"complete"),ke(this,"abort"),jr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},t.bb=function(){Cc(this)};function Cc(f){if(f.h&&typeof c<"u"&&(!f.v[1]||lr(f)!=4||f.Z()!=2)){if(f.u&&lr(f)==4)Te(f.Ea,0,f);else if(ke(f,"readystatechange"),lr(f)==4){f.h=!1;try{const _e=f.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var O;if(O=_e===0){var X=String(f.D).match(qo)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),O=!yp.test(X?X.toLowerCase():"")}T=O}if(T)ke(f,"complete"),ke(f,"success");else{f.m=6;try{var se=2<lr(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",qa(f)}}finally{jr(f)}}}}function jr(f,b){if(f.g){Ga(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ke(f,"ready");try{T.onreadystatechange=O}catch{}}}function Ga(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),ks(b)}};function Nc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ka(f){const b={};f=(f.g&&2<=lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(M(f[O]))continue;var T=U(f[O]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=b[X]||[];b[X]=se,se.push(T)}V(b,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function kc(f){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,f),this.cb=Is("retryDelaySeedMs",1e4,f),this.Wa=Is("forwardChannelMaxRetries",2,f),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Wo(f&&f.concurrentRequestLimit),this.Da=new gp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kc.prototype,t.la=8,t.G=1,t.connect=function(f,b,T,O){rn(0),this.W=f,this.H=b||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=$d(this,null,this.W),Ps(this)};function Rn(f){if(Qa(f),f.G==3){var b=f.U++,T=kr(f.I);if(Nt(T,"SID",f.K),Nt(T,"RID",b),Nt(T,"TYPE","terminate"),ci(f,T),b=new ds(f,f.j,b),b.L=2,b.v=$i(kr(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=b.v,T=!0),T||(b.g=zd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),It(b)}Bd(f)}function gs(f){f.g&&(jc(f),f.g.cancel(),f.g=null)}function Qa(f){gs(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ja(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ps(f){if(!Nr(f.h)&&!f.s){f.s=!0;var b=f.Ga;we||L(),W||(we(),W=!0),ae.add(b,f),f.B=0}}function vp(f,b){return jd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ls(v(f.Ga,f,b),Ud(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new ds(this,this.j,f);let se=this.o;if(this.S&&(se?(se=I(se),E(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=qi(this,X,b),T=kr(this.I),Nt(T,"RID",f),Nt(T,"CVER",22),this.D&&Nt(T,"X-HTTP-Session-Id",this.D),ci(this,T),se&&(this.O?b="headers="+encodeURIComponent(String(li(se)))+"&"+b:this.m&&Wi(T,this.m,se)),Ec(this.h,X),this.Ua&&Nt(T,"TYPE","init"),this.P?(Nt(T,"$req",b),Nt(T,"SID","null"),X.T=!0,$a(X,T,null)):$a(X,T,b),this.G=2}}else this.G==3&&(f?Ya(this,f):this.i.length==0||Nr(this.h)||Ya(this))};function Ya(f,b){var T;b?T=b.l:T=f.U++;const O=kr(f.I);Nt(O,"SID",f.K),Nt(O,"RID",T),Nt(O,"AID",f.T),ci(f,O),f.m&&f.o&&Wi(O,f.m,f.o),T=new ds(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=qi(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ec(f.h,T),$a(T,O,b)}function ci(f,b){f.H&&G(f.H,function(T,O){Nt(b,O,T)}),f.l&&Fi({},function(T,O){Nt(b,O,T)})}function qi(f,b,T){T=Math.min(f.i.length,T);var O=f.l?v(f.l.Na,f.l,f):null;e:{var X=f.i;let se=-1;for(;;){const _e=["count="+T];se==-1?0<T?(se=X[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let Et=!0;for(let xn=0;xn<T;xn++){let dt=X[xn].g;const Cn=X[xn].map;if(dt-=se,0>dt)se=Math.max(0,X[xn].g-100),Et=!1;else try{Od(Cn,_e,"req"+dt+"_")}catch{O&&O(Cn)}}if(Et){O=_e.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,O}function Yo(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;we||L(),W||(we(),W=!0),ae.add(b,f),f.v=0}}function Xa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ls(v(f.Fa,f),Ud(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ls(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),gs(this),Fd(this))};function jc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Fd(f){f.g=new ds(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=kr(f.qa);Nt(b,"RID","rpc"),Nt(b,"SID",f.K),Nt(b,"AID",f.T),Nt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&Nt(b,"TO",f.ja),Nt(b,"TYPE","xmlhttp"),ci(f,b),f.m&&f.o&&Wi(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=$i(kr(b)),T.m=null,T.P=!0,wc(T,f)}t.Za=function(){this.C!=null&&(this.C=null,gs(this),Xa(this),rn(19))};function Ja(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Za(f,b){var T=null;if(f.g==b){Ja(f),jc(f),f.g=null;var O=2}else if(er(f.h,b))T=b.D,Ad(f.h,b),O=1;else return;if(f.G!=0){if(b.o)if(O==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var X=f.B;O=In(),ke(O,new La(O,T)),Ps(f)}else Yo(f);else if(X=b.s,X==3||X==0&&0<b.X||!(O==1&&vp(f,b)||O==2&&Xa(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),X){case 1:ui(f,5);break;case 4:ui(f,10);break;case 3:ui(f,6);break;default:ui(f,2)}}}function Ud(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function ui(f,b){if(f.j.info("Error code "+b),b==2){var T=v(f.fb,f),O=f.Xa;const X=!O;O=new oi(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Go(O,"https"),$i(O),X?pp(O.toString(),T):Md(O.toString(),T)}else rn(2);f.G=0,f.l&&f.l.sa(b),Bd(f),Qa(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Bd(f){if(f.G=0,f.ka=[],f.l){const b=Id(f.h);(b.length!=0||f.i.length!=0)&&(k(f.ka,b),k(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function $d(f,b,T){var O=T instanceof oi?kr(T):new oi(T);if(O.g!="")b&&(O.g=b+"."+O.g),Ui(O,O.s);else{var X=d.location;O=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;var se=new oi(null);O&&Go(se,O),b&&(se.g=b),X&&Ui(se,X),T&&(se.l=T),O=se}return T=f.D,b=f.ya,T&&b&&Nt(O,T,b),Nt(O,"VER",f.la),ci(f,O),O}function zd(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Lt(new ai({eb:T})):new Lt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}t=Ac.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(f,b){return new tr(f,b)};function tr(f,b){ge.call(this),this.g=new kc(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!M(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Rs(this)}C(tr,ge),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Rn(this.g)},tr.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=or(f),f=T);b.i.push(new kd(b.Ya++,f)),b.G==3&&Ps(b)},tr.prototype.N=function(){this.g.l=null,delete this.j,Rn(this.g),delete this.g,tr.aa.N.call(this)};function Hd(f){We.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}C(Hd,We);function Wd(){_t.call(this),this.status=1}C(Wd,_t);function Rs(f){this.g=f}C(Rs,Ac),Rs.prototype.ua=function(){ke(this.g,"a")},Rs.prototype.ta=function(f){ke(this.g,new Hd(f))},Rs.prototype.sa=function(f){ke(this.g,new Wd)},Rs.prototype.ra=function(){ke(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,KS=function(){return new el},GS=function(){return In()},qS=vn,L0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,uf=Ua,Sd.COMPLETE="complete",WS=Sd,be.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",ge.prototype.listen=ge.prototype.K,au=be,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,HS=Lt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore",Iw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Qy("@firebase/firestore");function jl(){return Ca.logLevel}function Ie(t,...e){if(Ca.logLevel<=it.DEBUG){const n=e.map(Jy);Ca.debug(`Firestore (${oc}): ${t}`,...n)}}function ki(t,...e){if(Ca.logLevel<=it.ERROR){const n=e.map(Jy);Ca.error(`Firestore (${oc}): ${t}`,...n)}}function So(t,...e){if(Ca.logLevel<=it.WARN){const n=e.map(Jy);Ca.warn(`Firestore (${oc}): ${t}`,...n)}}function Jy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QS(t,r,n)}function QS(t,e,n){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ki(r),new Error(r)}function bt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||QS(e,s,r)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ti,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ti)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new YS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class a5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new a5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=u5(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function F0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return tt(r,s);{const o=XS(),c=d5(o.encode(Rw(t,n)),o.encode(Rw(e,n)));return c!==0?c:tt(r,s)}}n+=r>65535?2:1}return tt(t.length,e.length)}function Rw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function d5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function Ql(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__name__";class Fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Fs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=Fs.isNumericId(e),s=Fs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):F0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class Rt extends Fs{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const h5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Fs{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return h5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dw}static keyField(){return new Fn([Dw])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ne(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ne(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Ne(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Rt.fromString(e))}static fromName(e){return new Be(Rt.fromString(e).popFirst(5))}static empty(){return new Be(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e,n){if(!n)throw new Ne(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f5(t,e,n,r){if(e===!0&&r===!0)throw new Ne(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vw(t){if(!Be.isDocumentKey(t))throw new Ne(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mw(t){if(Be.isDocumentKey(t))throw new Ne(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(t);throw new Ne(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function m5(t,e){if(e<=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e){const n={typeString:t};return e&&(n.value=e),n}function rd(t,e){if(!ZS(t))throw new Ne(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=-62135596800,Lw=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lw);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ow)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lw}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rd(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ow;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:yn("string",Mt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Mt(0,0))}static max(){return new Je(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function p5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Je.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new To(s,Be.empty(),e)}function g5(t){return new To(t.readTime,t.key,Pu)}class To{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new To(Je.min(),Be.empty(),Pu)}static max(){return new To(Je.max(),Be.empty(),Pu)}}function y5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==v5)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},h=>r(h))}),c=!0,o===s&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(s=>s?ce.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const m=h;n(e[m]).next(y=>{c[m]=y,++d,d===o&&r(c)},y=>s(y))}})}static doWhile(e,n){return new ce((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function b5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Tm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function Cm(t){return t==null}function Vf(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!Vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function _5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fw(e)),e=E5(t.get(n),e);return Fw(e)}function E5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case eT:n+="";break;default:n+=o}}return n}function Fw(t){return t+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??On.RED,this.left=s??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new On(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return On.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(e){return new Bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class Bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new Sn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nT("Invalid base64 string: "+o):o}}(e);return new Un(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const S5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=S5.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="server_timestamp",sT="__type__",iT="__previous_value__",oT="__local_write_time__";function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sT])===null||n===void 0?void 0:n.stringValue)===rT}function Nm(t){const e=t.mapValue.fields[iT];return tv(e)?Nm(e):e}function Ru(t){const e=Co(t.mapValue.fields[oT].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,s,o,c,d,h,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=y}}const Mf="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||Mf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__type__",C5="__max__",Bh={mapValue:{}},lT="__vector__",Of="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:k5(t)?9007199254740991:N5(t)?10:11:Ge(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ru(t).isEqual(Ru(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Co(s.timestampValue),d=Co(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return No(s.bytesValue).isEqual(No(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return an(s.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return an(s.integerValue)===an(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=an(s.doubleValue),d=an(o.doubleValue);return c===d?Vf(c)===Vf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(Uw(c)!==Uw(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ni(c[h],d[h])))return!1;return!0}(t,e);default:return Ge(52216,{left:t})}}function Vu(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Yl(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=an(o.integerValue||o.doubleValue),h=an(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return $w(t.timestampValue,e.timestampValue);case 4:return $w(Ru(t),Ru(e));case 5:return F0(t.stringValue,e.stringValue);case 6:return function(o,c){const d=No(o),h=No(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let m=0;m<d.length&&m<h.length;m++){const y=tt(d[m],h[m]);if(y!==0)return y}return tt(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=tt(an(o.latitude),an(c.latitude));return d!==0?d:tt(an(o.longitude),an(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zw(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,m,y;const g=o.fields||{},v=c.fields||{},_=(d=g[Of])===null||d===void 0?void 0:d.arrayValue,C=(h=v[Of])===null||h===void 0?void 0:h.arrayValue,S=tt(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return S!==0?S:zw(_,C)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===Bh.mapValue&&c===Bh.mapValue)return 0;if(o===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),m=c.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const v=F0(h[g],y[g]);if(v!==0)return v;const _=Yl(d[h[g]],m[y[g]]);if(_!==0)return _}return tt(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Ge(23264,{le:n})}}function $w(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Co(t),r=Co(e),s=tt(n.seconds,r.seconds);return s!==0?s:tt(n.nanos,r.nanos)}function zw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Yl(n[s],r[s]);if(o)return o}return tt(n.length,r.length)}function Xl(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=U0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${U0(n.fields[c])}`;return s+"}"}(t.mapValue):Ge(61005,{value:t})}function df(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nm(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+df(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Mo(r.fields,(o,c)=>{s+=o.length+df(c)}),s}(t.mapValue);default:throw Ge(13486,{value:t})}}function Hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B0(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function Ww(t){return!!t&&"nullValue"in t}function qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function N5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aT])===null||n===void 0?void 0:n.stringValue)===lT}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===C5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Fn.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=pu(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new vr(pu(this.value))}}function cT(t){const e=[];return Mo(t.fields,(n,r)=>{const s=new Fn([n]);if(hf(r)){const o=cT(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Yn(e,0,Je.min(),Je.min(),Je.min(),vr.empty(),0)}static newFoundDocument(e,n,r,s){return new Yn(e,1,n,Je.min(),r,s,0)}static newNoDocument(e,n){return new Yn(e,2,n,Je.min(),Je.min(),vr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,Je.min(),Je.min(),vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(c.referenceValue),n.key):r=Yl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function j5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{}class gn extends uT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I5(e,n,r):n==="array-contains"?new D5(e,r):n==="in"?new V5(e,r):n==="not-in"?new M5(e,r):n==="array-contains-any"?new O5(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P5(e,r):new R5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends uT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ts(e,n)}matches(e){return dT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function dT(t){return t.op==="and"}function hT(t){return A5(t)&&dT(t)}function A5(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function $0(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(hT(t))return t.filters.map(e=>$0(e)).join(",");{const e=t.filters.map(n=>$0(n)).join(",");return`${t.op}(${e})`}}function fT(t,e){return t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.field.isEqual(s.field)&&ni(r.value,s.value)}(t,e):t instanceof Ts?function(r,s){return s instanceof Ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&fT(c,s.filters[d]),!0):!1}(t,e):void Ge(19439)}function mT(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"}(t):"Filter"}class I5 extends gn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class P5 extends gn{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R5 extends gn{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class D5 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&Vu(n.arrayValue,this.value)}}class V5 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class M5 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class O5 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Pe=null}}function Qw(t,e=null,n=[],r=[],s=null,o=null,c=null){return new L5(t,e,n,r,s,o,c)}function rv(t){const e=Ze(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.Pe=n}return e.Pe}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kw(t.startAt,e.startAt)&&Kw(t.endAt,e.endAt)}function z0(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function F5(t,e,n,r,s,o,c,d){return new cc(t,e,n,r,s,o,c,d)}function km(t){return new cc(t)}function Yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gT(t){return t.collectionGroup!==null}function gu(t){const e=Ze(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Sn(Fn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Mu(o,r))}),n.has(Fn.keyField().canonicalString())||e.Te.push(new Mu(Fn.keyField(),r))}return e.Te}function Ws(t){const e=Ze(t);return e.Ie||(e.Ie=U5(e,gu(t))),e.Ie}function U5(t,e){if(t.limitType==="F")return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Mu(s.field,o)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return Qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H0(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ff(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return sv(Ws(t),Ws(e))&&t.limitType===e.limitType}function yT(t){return`${rv(Ws(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mT(s)).join(", ")}]`),Cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xl(s)).join(",")),`Target(${r})`}(Ws(t))}; limitType=${t.limitType})`}function Am(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of gu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,h){const m=Gw(c,d,h);return c.inclusive?m<=0:m<0}(r.startAt,gu(r),s)||r.endAt&&!function(c,d,h){const m=Gw(c,d,h);return c.inclusive?m>=0:m>0}(r.endAt,gu(r),s))}(t,e)}function B5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vT(t){return(e,n)=>{let r=!1;for(const s of gu(t)){const o=$5(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function $5(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,c,d){const h=c.data.field(o),m=d.data.field(o);return h!==null&&m!==null?Yl(h,m):Ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new Kt(Be.comparator);function ji(){return z5}const xT=new Kt(Be.comparator);function lu(...t){let e=xT;for(const n of t)e=e.insert(n.key,n);return e}function bT(t){let e=xT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ma(){return yu()}function wT(){return yu()}function yu(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const H5=new Kt(Be.comparator),W5=new Sn(Be.comparator);function ot(...t){let e=W5;for(const n of t)e=e.add(n);return e}const q5=new Sn(tt);function G5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function _T(t){return{integerValue:""+t}}function K5(t,e){return w5(e)?_T(e):iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this._=void 0}}function Q5(t,e,n){return t instanceof Ou?function(s,o){const c={fields:{[sT]:{stringValue:rT},[oT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&tv(o)&&(o=Nm(o)),o&&(c.fields[iT]=o),{mapValue:c}}(n,e):t instanceof Lu?ST(t,e):t instanceof Fu?TT(t,e):function(s,o){const c=ET(s,o),d=Xw(c)+Xw(s.Ee);return B0(c)&&B0(s.Ee)?_T(d):iv(s.serializer,d)}(t,e)}function Y5(t,e,n){return t instanceof Lu?ST(t,e):t instanceof Fu?TT(t,e):n}function ET(t,e){return t instanceof Uf?function(r){return B0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ou extends Im{}class Lu extends Im{constructor(e){super(),this.elements=e}}function ST(t,e){const n=CT(e);for(const r of t.elements)n.some(s=>ni(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Im{constructor(e){super(),this.elements=e}}function TT(t,e){let n=CT(e);for(const r of t.elements)n=n.filter(s=>!ni(s,r));return{arrayValue:{values:n}}}class Uf extends Im{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Xw(t){return an(t.integerValue||t.doubleValue)}function CT(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.field=e,this.transform=n}}function J5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lu&&s instanceof Lu||r instanceof Fu&&s instanceof Fu?Ql(r.elements,s.elements,ni):r instanceof Uf&&s instanceof Uf?ni(r.Ee,s.Ee):r instanceof Ou&&s instanceof Ou}(t.transform,e.transform)}class Z5{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pm{}function NT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,is.none()):new sd(t.key,t.data,is.none());{const n=t.data,r=vr.empty();let s=new Sn(Fn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Oo(t.key,r,new Mr(s.toArray()),is.none())}}function eR(t,e,n){t instanceof sd?function(s,o,c){const d=s.value.clone(),h=Zw(s.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(s,o,c){if(!ff(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Zw(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(kT(s)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function vu(t,e,n,r){return t instanceof sd?function(o,c,d,h){if(!ff(o.precondition,c))return d;const m=o.value.clone(),y=e2(o.fieldTransforms,h,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(o,c,d,h){if(!ff(o.precondition,c))return d;const m=e2(o.fieldTransforms,h,c),y=c.data;return y.setAll(kT(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,c,d){return ff(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function tR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=ET(r.transform,s||null);o!=null&&(n===null&&(n=vr.empty()),n.set(r.field,o))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ql(r,s,(o,c)=>J5(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Pm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends Pm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zw(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,Y5(c,d,n[s]))}return r}function e2(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,Q5(o,c,e))}return r}class ov extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nR extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&eR(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const h=NT(c,d);h!==null&&r.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,r)=>Jw(n,r))&&Ql(this.baseMutations,e.baseMutations,(n,r)=>Jw(n,r))}}class av{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){bt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return H5}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new av(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,ht;function oR(t){switch(t){case le.OK:return Ge(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function jT(t){if(t===void 0)return ki("GRPC error has no .code"),le.UNKNOWN;switch(t){case fn.OK:return le.OK;case fn.CANCELLED:return le.CANCELLED;case fn.UNKNOWN:return le.UNKNOWN;case fn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case fn.INTERNAL:return le.INTERNAL;case fn.UNAVAILABLE:return le.UNAVAILABLE;case fn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case fn.NOT_FOUND:return le.NOT_FOUND;case fn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case fn.ABORTED:return le.ABORTED;case fn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case fn.DATA_LOSS:return le.DATA_LOSS;default:return Ge(39323,{code:t})}}(ht=fn||(fn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new wo([4294967295,4294967295],0);function t2(t){const e=XS().encode(t),n=new zS;return n.update(e),new Uint8Array(n.digest())}function n2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([s,o],0)]}class lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=wo.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(wo.fromNumber(r)));return s.compare(aR)===1&&(s=new wo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=t2(e),[r,s]=n2(n);for(let o=0;o<this.hashCount;o++){const c=this.pe(r,s,o);if(!this.ye(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new lv(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const n=t2(e),[r,s]=n2(n);for(let o=0;o<this.hashCount;o++){const c=this.pe(r,s,o);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Je.min(),s,new Kt(tt),ji(),ot())}}class id{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new id(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class AT{constructor(e,n){this.targetId=e,this.De=n}}class IT{constructor(e,n,r=Un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class r2{constructor(){this.ve=0,this.Ce=s2(),this.Fe=Un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ot(),n=ot(),r=ot();return this.Ce.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ge(38017,{changeType:o})}}),new id(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=s2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class lR{constructor(e){this.We=e,this.Ge=new Map,this.ze=ji(),this.je=$h(),this.Je=$h(),this.He=new Kt(tt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const o=s.target;if(z0(o))if(r===0){const c=new Be(o.path);this.Xe(n,c,Yn.newNoDocument(c,Je.min()))}else bt(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const d=this._t(e),h=d?this.ut(d,e,c):1;if(h!==0){this.rt(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=No(r).toUint8Array()}catch(h){if(h instanceof nT)return So("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new lv(c,s,o)}catch(h){return So(h instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,o,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((o,c)=>{const d=this.st(c);if(d){if(o.current&&z0(d.target)){const h=new Be(d.target.path);this.Tt(h).has(c)||this.It(c,h)||this.Xe(c,h,Yn.newNoDocument(h,e))}o.Ne&&(n.set(c,o.Le()),o.ke())}});let r=ot();this.Je.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const m=this.st(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(e));const s=new Rm(e,n,this.He,this.ze,r);return this.ze=ji(),this.je=$h(),this.Je=$h(),this.He=new Kt(tt),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new r2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Sn(tt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Sn(tt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new r2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function $h(){return new Kt(Be.comparator)}function s2(){return new Kt(Be.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},uR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dR={and:"AND",or:"OR"};class hR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W0(t,e){return t.useProto3Json||Cm(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fR(t,e){return Bf(t,e.toTimestamp())}function qs(t){return bt(!!t,49232),Je.fromTimestamp(function(n){const r=Co(n);return new Mt(r.seconds,r.nanos)}(t))}function cv(t,e){return q0(t,e).canonicalString()}function q0(t,e){const n=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RT(t){const e=Rt.fromString(t);return bt(LT(e),10190,{key:e.toString()}),e}function G0(t,e){return cv(t.databaseId,e.path)}function Qg(t,e){const n=RT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(VT(n))}function DT(t,e){return cv(t.databaseId,e)}function mR(t){const e=RT(t);return e.length===4?Rt.emptyPath():VT(e)}function K0(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VT(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i2(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function pR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ge(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(bt(y===void 0||typeof y=="string",58123),Un.fromBase64String(y||"")):(bt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Un.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?le.UNKNOWN:jT(m.code);return new Ne(y,m.message||"")}(c);n=new IT(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qg(t,r.document.name),o=qs(r.document.updateTime),c=r.document.createTime?qs(r.document.createTime):Je.min(),d=new vr({mapValue:{fields:r.document.fields}}),h=Yn.newFoundDocument(s,o,c,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new mf(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qg(t,r.document),o=r.readTime?qs(r.readTime):Je.min(),c=Yn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new mf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qg(t,r.document),o=r.removedTargetIds||[];n=new mf([],o,s,null)}else{if(!("filter"in e))return Ge(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new iR(s,o),d=r.targetId;n=new AT(d,c)}}return n}function gR(t,e){let n;if(e instanceof sd)n={update:i2(t,e.key,e.value)};else if(e instanceof ov)n={delete:G0(t,e.key)};else if(e instanceof Oo)n={update:i2(t,e.key,e.data),updateMask:TR(e.fieldMask)};else{if(!(e instanceof nR))return Ge(16599,{Rt:e.type});n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Ge(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:fR(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(t,e.precondition)),n}function yR(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(s,o){let c=s.updateTime?qs(s.updateTime):qs(o);return c.isEqual(Je.min())&&(c=qs(o)),new Z5(c,s.transformResults||[])}(n,e))):[]}function vR(t,e){return{documents:[DT(t,e.path)]}}function xR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DT(t,s);const o=function(m){if(m.length!==0)return OT(Ts.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(v){return{field:Il(v.field),direction:_R(v.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=W0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:n,parent:s}}function bR(t){let e=mR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bt(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(g){const v=MT(g);return v instanceof Ts&&hT(v)?v.getFilters():[v]}(n.where));let c=[];n.orderBy&&(c=function(g){return g.map(v=>function(C){return new Mu(Pl(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let d=null;n.limit&&(d=function(g){let v;return v=typeof g=="object"?g.value:g,Cm(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(g){const v=!!g.before,_=g.values||[];return new Lf(_,v)}(n.startAt));let m=null;return n.endAt&&(m=function(g){const v=!g.before,_=g.values||[];return new Lf(_,v)}(n.endAt)),F5(e,s,c,o,d,"F",h,m)}function wR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pl(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pl(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pl(n.unaryFilter.field);return gn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return gn.create(Pl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ts.create(n.compositeFilter.filters.map(r=>MT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(n.compositeFilter.op))}(t):Ge(30097,{filter:t})}function _R(t){return cR[t]}function ER(t){return uR[t]}function SR(t){return dR[t]}function Il(t){return{fieldPath:t.canonicalString()}}function Pl(t){return Fn.fromServerFormat(t.fieldPath)}function OT(t){return t instanceof gn?function(n){if(n.op==="=="){if(qw(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(Ww(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qw(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(Ww(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:ER(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(s=>OT(s));return r.length===1?r[0]:{compositeFilter:{op:SR(n.op),filters:r}}}(t):Ge(54877,{filter:t})}function TR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,s,o=Je.min(),c=Je.min(),d=Un.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.gt=e}}function NR(t){const e=bR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Dn=new jR}addToCollectionParentIndex(e,n){return this.Dn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(To.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(To.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class jR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sn(Rt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(FT,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Jl(0)}static ur(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="LruGarbageCollector",AR=1048576;function l2([t,e],[n,r]){const s=tt(t,n);return s===0?tt(e,r):s}class IR{constructor(e){this.Tr=e,this.buffer=new Sn(l2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ie(a2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?Ie(a2,"Ignoring IndexedDB error during garbage collection: ",n):await ac(n)}await this.Rr(3e5)})}}class RR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Tm.ue);const r=new IR(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(o2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,o,c,d,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,c=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,d=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(m=Date.now(),jl()<=it.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${g} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g})))}}function DR(t,e){return new RR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vu(r.mutation,s,Mr.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const s=ma();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=lu();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=ma();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=ji();const c=yu(),d=function(){return yu()}();return n.forEach((h,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Oo)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),vu(y.mutation,m,y.mutation.getFieldMask(),Mt.now())):c.set(m.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var g;return d.set(m,new MR(y,(g=c.get(m))!==null&&g!==void 0?g:null))}),d))}recalculateAndSaveOverlays(e,n){const r=yu();let s=new Kt((c,d)=>c-d),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let y=r.get(h)||Mr.empty();y=d.applyToLocalView(m,y),r.set(h,y);const g=(s.get(d.batchId)||ot()).add(h);s=s.insert(d.batchId,g)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,y=h.value,g=wT();y.forEach(v=>{if(!o.has(v)){const _=NT(n.get(v),r.get(v));_!==null&&g.set(v,_),o=o.add(v)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ce.resolve(ma());let d=Pu,h=o;return c.next(m=>ce.forEach(m,(y,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(v=>{h=h.insert(y,v)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,h,m,ot())).next(y=>({batchId:d,changes:bT(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=lu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,o).next(d=>ce.forEach(d,h=>{const m=function(g,v){return new cc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((g,v)=>{c=c.insert(g,v)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((h,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Yn.newInvalidDocument(y)))});let d=lu();return c.forEach((h,m)=>{const y=o.get(h);y!==void 0&&vu(y.mutation,m,Mr.empty(),Mt.now()),Am(n,m)&&(d=d.insert(h,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qs(s.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:NR(s.bundledQuery),readTime:qs(s.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.overlays=new Kt(Be.comparator),this.kr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ma();return ce.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.wt(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const s=ma(),o=n.length+1,c=new Be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Kt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=ma(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=ma(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=s)););return ce.resolve(d)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new sR(n,r));let o=this.kr.get(n);o===void 0&&(o=ot(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.qr=new Sn(An.Qr),this.$r=new Sn(An.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new An(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new An(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Be(new Rt([])),r=new An(n,e),s=new An(n,e+1),o=[];return this.$r.forEachInRange([r,s],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Be(new Rt([])),r=new An(n,e),s=new An(n,e+1);let o=ot();return this.$r.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new An(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Be.comparator(e.key,n.key)||tt(e.Hr,n.Hr)}static Ur(e,n){return tt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Sn(An.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rR(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Yr=this.Yr.add(new An(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?ev:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new An(n,0),s=new An(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],c=>{const d=this.Zr(c.Hr);o.push(d)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(tt);return n.forEach(s=>{const o=new An(s,0),c=new An(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],d=>{r=r.add(d.Hr)})}),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const c=new An(new Be(o),0);let d=new Sn(tt);return this.Yr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(h.Hr)),!0)},c),ce.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){bt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(n.mutations,s=>{const o=new An(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new An(n,0),s=this.Yr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.ni=e,this.docs=function(){return new Kt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=ji();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Yn.newInvalidDocument(s))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ji();const c=n.path,d=new Be(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||y5(g5(y),r)<=0||(s.has(y.key)||Am(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ge(9500)}ri(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zR(this)}getSize(e){return ce.resolve(this.size)}}class zR extends VR{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.persistence=e,this.ii=new Da(n=>rv(n),sv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.si=0,this.oi=new uv,this.targetCount=0,this._i=Jl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ce.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.hr(n),ce.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ce.waitFor(o).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.ai={},this.overlays={},this.ui=new Tm(0),this.ci=!1,this.ci=!0,this.li=new UR,this.referenceDelegate=e(this),this.hi=new HR(this),this.indexManager=new kR,this.remoteDocumentCache=function(s){return new $R(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new CR(n),this.Ti=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new BR(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const s=new WR(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,n){return ce.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class WR extends x5{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ai=new uv,this.Ri=null}static Vi(e){return new dv(e)}get mi(){if(this.Ri)return this.Ri;throw Ge(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,r=>{const s=Be.fromPath(r);return this.fi(e,s).next(o=>{o||n.removeEntry(s,Je.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ce.or([()=>ce.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $f{constructor(e,n){this.persistence=e,this.gi=new Da(r=>_5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=DR(this,n)}static Vi(e,n){return new $f(e,n)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ce.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(o=>o?ce.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,n).next(d=>{d||(r++,o.removeEntry(c,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ce.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}Sr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=ot(),s=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new hv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return UI()?8:b5(Zn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ps(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new qR;return this.ws(e,n,c).next(d=>{if(o.result=d,this.Rs)return this.Ss(e,n,c,d.size)})}).next(()=>o.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(jl()<=it.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(jl()<=it.DEBUG&&Ie("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(jl()<=it.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ws(n))):ce.resolve())}ps(e,n){if(Yw(n))return ce.resolve(null);let r=Ws(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ff(n,null,"F"),r=Ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=ot(...o);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.bs(n,d);return this.Ds(n,m,c,h.readTime)?this.ps(e,Ff(n,null,"F")):this.vs(e,m,n,h)}))})))}ys(e,n,r,s){return Yw(n)||s.isEqual(Je.min())?ce.resolve(null):this.gs.getDocuments(e,r).next(o=>{const c=this.bs(n,o);return this.Ds(n,c,r,s)?ce.resolve(null):(jl()<=it.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(n)),this.vs(e,c,n,p5(s,Pu)).next(d=>d))})}bs(e,n){let r=new Sn(vT(e));return n.forEach((s,o)=>{Am(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,n,r){return jl()<=it.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Al(n)),this.gs.getDocumentsMatchingQuery(e,n,To.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LocalStore",KR=3e8;class QR{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Kt(tt),this.Ms=new Da(o=>rv(o),sv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function YR(t,e,n,r){return new QR(t,e,n,r)}async function BT(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=ot();for(const m of s){c.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of o){d.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next(m=>({Bs:m,removedBatchIds:c,addedBatchIds:d}))})})}function XR(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,h,m,y){const g=m.batch,v=g.keys();let _=ce.resolve();return v.forEach(C=>{_=_.next(()=>y.getEntry(h,C)).next(S=>{const k=m.docVersions.get(C);bt(k!==null,48541),S.version.compareTo(k)<0&&(g.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),y.addEntry(S)))})}),_.next(()=>d.mutationQueue.removeMutationBatch(h,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=ot();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(h=h.add(d.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $T(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function JR(t,e){const n=Ze(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const d=[];e.targetChanges.forEach((y,g)=>{const v=s.get(g);if(!v)return;d.push(n.hi.removeMatchingKeys(o,y.removedDocuments,g).next(()=>n.hi.addMatchingKeys(o,y.addedDocuments,g)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Un.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):y.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(y.resumeToken,r)),s=s.insert(g,_),function(S,k,D){return S.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=KR?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,_,y)&&d.push(n.hi.updateTargetData(o,_))});let h=ji(),m=ot();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(ZR(o,c,e.documentUpdates).next(y=>{h=y.Ls,m=y.ks})),!r.isEqual(Je.min())){const y=n.hi.getLastRemoteSnapshotVersion(o).next(g=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return ce.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,m)).next(()=>h)}).then(o=>(n.Fs=s,o))}function ZR(t,e,n){let r=ot(),s=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=ji();return n.forEach((d,h)=>{const m=o.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Je.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ie(fv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{Ls:c,ks:s}})}function e3(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t3(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(o=>o?(s=o,ce.resolve(s)):n.hi.allocateTargetId(r).next(c=>(s=new yo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Q0(t,e,n){const r=Ze(t),s=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!lc(c))throw c;Ie(fv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function c2(t,e,n){const r=Ze(t);let s=Je.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,m,y){const g=Ze(h),v=g.Ms.get(y);return v!==void 0?ce.resolve(g.Fs.get(v)):g.hi.getTargetData(m,y)}(r,c,Ws(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,n?s:Je.min(),n?o:ot())).next(d=>(n3(r,B5(e),d),{documents:d,qs:o})))}function n3(t,e,n){let r=t.xs.get(e)||Je.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class u2{constructor(){this.activeTargetIds=G5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r3{constructor(){this.Fo=new u2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new u2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="ConnectivityMonitor";class h2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ie(d2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ie(d2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function Y0(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="RestConnection",i3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const c=Y0(),d=this.Go(e,n.toUriEncodedString());Ie(Yg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,o);const{host:m}=new URL(d),y=Vo(m);return this.jo(e,d,h,r,y).then(g=>(Ie(Yg,`Received RPC '${e}' ${c}: `,g),g),g=>{throw So(Yg,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g})}Jo(e,n,r,s,o,c){return this.Wo(e,n,r,s,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}Go(e,n){const r=i3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class l3 extends o3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,o){const c=Y0();return new Promise((d,h)=>{const m=new HS;m.setWithCredentials(!0),m.listenOnce(WS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uf.NO_ERROR:const g=m.getResponseJson();Ie(qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case uf.TIMEOUT:Ie(qn,`RPC '${e}' ${c} timed out`),h(new Ne(le.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const v=m.getStatus();if(Ie(qn,`RPC '${e}' ${c} failed with status:`,v,"response text:",m.getResponseText()),v>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_==null?void 0:_.error;if(C&&C.status&&C.message){const S=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(M)>=0?M:le.UNKNOWN}(C.status);h(new Ne(S,C.message))}else h(new Ne(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(le.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{c_:e,streamId:c,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{Ie(qn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);Ie(qn,`RPC '${e}' ${c} sending request:`,s),m.send(n,"POST",y,r,15)})}P_(e,n,r){const s=Y0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KS(),d=GS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const y=o.join("");Ie(qn,`Creating RPC '${e}' stream ${s}: ${y}`,h);const g=c.createWebChannel(y,h);this.T_(g);let v=!1,_=!1;const C=new a3({Ho:k=>{_?Ie(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(v||(Ie(qn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),Ie(qn,`RPC '${e}' stream ${s} sending:`,k),g.send(k))},Yo:()=>g.close()}),S=(k,D,M)=>{k.listen(D,F=>{try{M(F)}catch(H){setTimeout(()=>{throw H},0)}})};return S(g,au.EventType.OPEN,()=>{_||(Ie(qn,`RPC '${e}' stream ${s} transport opened.`),C.s_())}),S(g,au.EventType.CLOSE,()=>{_||(_=!0,Ie(qn,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(g))}),S(g,au.EventType.ERROR,k=>{_||(_=!0,So(qn,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),C.__(new Ne(le.UNAVAILABLE,"The operation could not be completed")))}),S(g,au.EventType.MESSAGE,k=>{var D;if(!_){const M=k.data[0];bt(!!M,16349);const F=M,H=(F==null?void 0:F.error)||((D=F[0])===null||D===void 0?void 0:D.error);if(H){Ie(qn,`RPC '${e}' stream ${s} received error:`,H);const Q=H.status;let G=function(j){const E=fn[j];if(E!==void 0)return jT(E)}(Q),V=H.message;G===void 0&&(G=le.INTERNAL,V="Unknown error status: "+Q+" with message "+H.message),_=!0,C.__(new Ne(G,V)),g.close()}else Ie(qn,`RPC '${e}' stream ${s} received:`,M),C.a_(M)}}),S(d,qS.STAT_EVENT,k=>{k.stat===L0.PROXY?Ie(qn,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===L0.NOPROXY&&Ie(qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return new hR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="PersistentStream";class HT{constructor(e,n,r,s,o,c,d,h){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new Ne(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ie(f2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Ie(f2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c3 extends HT{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=pR(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Je.min():c.readTime?qs(c.readTime):Je.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=K0(this.serializer),n.addTarget=function(o,c){let d;const h=c.target;if(d=z0(h)?{documents:vR(o,h)}:{query:xR(o,h).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=PT(o,c.resumeToken);const m=W0(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Je.min())>0){d.readTime=Bf(o,c.snapshotVersion.toTimestamp());const m=W0(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=wR(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=K0(this.serializer),n.removeTarget=e,this.k_(n)}}class u3 extends HT{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=yR(e.writeResults,e.commitTime),r=qs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=K0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gR(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{}class h3 extends d3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(e,q0(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(le.UNKNOWN,o.toString())})}Jo(e,n,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,q0(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(le.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class f3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ki(n),this._a=!1):Ie("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class m3{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Va(this)&&(Ie(Na,"Restarting streams for network reachability change."),await async function(h){const m=Ze(h);m.Ia.add(4),await od(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Vm(m)}(this))})}),this.Aa=new f3(r,s)}}async function Vm(t){if(Va(t))for(const e of t.da)await e(!0)}async function od(t){for(const e of t.da)await e(!1)}function WT(t,e){const n=Ze(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),yv(n)?gv(n):uc(n).x_()&&pv(n,e))}function mv(t,e){const n=Ze(t),r=uc(n);n.Ta.delete(e),r.x_()&&qT(n,e),n.Ta.size===0&&(r.x_()?r.B_():Va(n)&&n.Aa.set("Unknown"))}function pv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).H_(e)}function qT(t,e){t.Ra.$e(e),uc(t).Y_(e)}function gv(t){t.Ra=new lR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Aa.aa()}function yv(t){return Va(t)&&!uc(t).M_()&&t.Ta.size>0}function Va(t){return Ze(t).Ia.size===0}function GT(t){t.Ra=void 0}async function p3(t){t.Aa.set("Online")}async function g3(t){t.Ta.forEach((e,n)=>{pv(t,e)})}async function y3(t,e){GT(t),yv(t)?(t.Aa.la(e),gv(t)):t.Aa.set("Unknown")}async function v3(t,e,n){if(t.Aa.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ta.delete(d),s.Ra.removeTarget(d))}(t,e)}catch(r){Ie(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(t,r)}else if(e instanceof mf?t.Ra.Ye(e):e instanceof AT?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Je.min()))try{const r=await $T(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.Ra.Pt(c);return d.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ta.get(m);y&&o.Ta.set(m,y.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,m)=>{const y=o.Ta.get(h);if(!y)return;o.Ta.set(h,y.withResumeToken(Un.EMPTY_BYTE_STRING,y.snapshotVersion)),qT(o,h);const g=new yo(y.target,h,m,y.sequenceNumber);pv(o,g)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Ie(Na,"Failed to raise snapshot:",r),await zf(t,r)}}async function zf(t,e,n){if(!lc(e))throw e;t.Ia.add(1),await od(t),t.Aa.set("Offline"),n||(n=()=>$T(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(Na,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Vm(t)})}function KT(t,e){return e().catch(n=>zf(t,n,e))}async function Mm(t){const e=Ze(t),n=jo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ev;for(;x3(e);)try{const s=await e3(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,b3(e,s)}catch(s){await zf(e,s)}QT(e)&&YT(e)}function x3(t){return Va(t)&&t.Pa.length<10}function b3(t,e){t.Pa.push(e);const n=jo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function QT(t){return Va(t)&&!jo(t).M_()&&t.Pa.length>0}function YT(t){jo(t).start()}async function w3(t){jo(t).na()}async function _3(t){const e=jo(t);for(const n of t.Pa)e.X_(n.mutations)}async function E3(t,e,n){const r=t.Pa.shift(),s=av.from(r,e,n);await KT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mm(t)}async function S3(t,e){e&&jo(t).Z_&&await async function(r,s){if(function(c){return oR(c)&&c!==le.ABORTED}(s.code)){const o=r.Pa.shift();jo(r).N_(),await KT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Mm(r)}}(t,e),QT(t)&&YT(t)}async function m2(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ie(Na,"RemoteStore received new credentials");const r=Va(n);n.Ia.add(3),await od(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Vm(n)}async function T3(t,e){const n=Ze(t);e?(n.Ia.delete(2),await Vm(n)):e||(n.Ia.add(2),await od(n),n.Aa.set("Unknown"))}function uc(t){return t.Va||(t.Va=function(n,r,s){const o=Ze(n);return o.ia(),new c3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:p3.bind(null,t),e_:g3.bind(null,t),n_:y3.bind(null,t),J_:v3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),yv(t)?gv(t):t.Aa.set("Unknown")):(await t.Va.stop(),GT(t))})),t.Va}function jo(t){return t.ma||(t.ma=function(n,r,s){const o=Ze(n);return o.ia(),new u3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:w3.bind(null,t),n_:S3.bind(null,t),ea:_3.bind(null,t),ta:E3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Mm(t)):(await t.ma.stop(),t.Pa.length>0&&(Ie(Na,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new vv(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(t,e){if(ki("AsyncQueue",`${e}: ${t}`),lc(t))return new Ne(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.fa=new Kt(Be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ge(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zl{constructor(e,n,r,s,o,c,d,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Zl(e,n,$l.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class N3{constructor(){this.queries=g2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Ze(n),o=s.queries;s.queries=g2(),o.forEach((c,d)=>{for(const h of d.wa)h.onError(r)})})(this,new Ne(le.ABORTED,"Firestore shutting down"))}}function g2(){return new Da(t=>yT(t),jm)}async function bv(t,e){const n=Ze(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new C3,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=xv(c,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&_v(n)}async function wv(t,e){const n=Ze(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.wa.indexOf(e);c>=0&&(o.wa.splice(c,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k3(t,e){const n=Ze(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.wa)d.Ca(s)&&(r=!0);c.ya=s}}r&&_v(n)}function j3(t,e,n){const r=Ze(t),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(n);r.queries.delete(e)}function _v(t){t.Da.forEach(e=>{e.next()})}var X0,y2;(y2=X0||(X0={})).Fa="default",y2.Cache="cache";class Ev{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.key=e}}class JT{constructor(e){this.key=e}}class A3{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ot(),this.mutatedKeys=ot(),this.Xa=vT(e),this.eu=new $l(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new p2,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,g)=>{const v=s.get(y),_=Am(this.query,g)?g:null,C=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;v&&_?v.data.isEqual(_.data)?C!==S&&(r.track({type:3,doc:_}),k=!0):this.iu(v,_)||(r.track({type:2,doc:_}),k=!0,(h&&this.Xa(_,h)>0||m&&this.Xa(_,m)<0)&&(d=!0)):!v&&_?(r.track({type:0,doc:_}),k=!0):v&&!_&&(r.track({type:1,doc:v}),k=!0,(h||m)&&(d=!0)),k&&(_?(c=c.add(_),o=S?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:d,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((y,g)=>function(_,C){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{At:k})}};return S(_)-S(C)}(y.type,g.type)||this.Xa(y.doc,g.doc)),this.su(r),s=s!=null&&s;const d=n&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,m=h!==this.Ya;return this.Ya=h,c.length!==0||m?{snapshot:new Zl(this.query,e.eu,o,c,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new p2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ot(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new JT(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new XT(r))}),n}uu(e){this.Ha=e.qs,this.Za=ot();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Zl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Sv="SyncEngine";class I3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P3{constructor(e){this.key=e,this.lu=!1}}class R3{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Da(d=>yT(d),jm),this.Tu=new Map,this.Iu=new Set,this.du=new Kt(Be.comparator),this.Eu=new Map,this.Au=new uv,this.Ru={},this.Vu=new Map,this.mu=Jl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D3(t,e,n=!0){const r=sC(t);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await ZT(r,e,n,!0),s}async function V3(t,e){const n=sC(t);await ZT(n,e,!0,!1)}async function ZT(t,e,n,r){const s=await t3(t.localStore,Ws(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await M3(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&WT(t.remoteStore,s),d}async function M3(t,e,n,r,s){t.gu=(g,v,_)=>async function(S,k,D,M){let F=k.view.nu(D);F.Ds&&(F=await c2(S.localStore,k.query,!1).then(({documents:V})=>k.view.nu(V,F)));const H=M&&M.targetChanges.get(k.targetId),Q=M&&M.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(F,S.isPrimaryClient,H,Q);return x2(S,k.targetId,G._u),G.snapshot}(t,g,v,_);const o=await c2(t.localStore,e,!0),c=new A3(e,o.qs),d=c.nu(o.documents),h=id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=c.applyChanges(d,t.isPrimaryClient,h);x2(t,n,m._u);const y=new I3(e,n,c);return t.Pu.set(e,y),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function O3(t,e,n){const r=Ze(t),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter(c=>!jm(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Q0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mv(r.remoteStore,s.targetId),J0(r,s.targetId)}).catch(ac)):(J0(r,s.targetId),await Q0(r.localStore,s.targetId,!0))}async function L3(t,e){const n=Ze(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function F3(t,e,n){const r=q3(t);try{const s=await function(c,d){const h=Ze(c),m=Mt.now(),y=d.reduce((_,C)=>_.add(C.key),ot());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=ji(),S=ot();return h.Os.getEntries(_,y).next(k=>{C=k,C.forEach((D,M)=>{M.isValidDocument()||(S=S.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,C)).next(k=>{g=k;const D=[];for(const M of d){const F=tR(M,g.get(M.key).overlayedDocument);F!=null&&D.push(new Oo(M.key,F,cT(F.value.mapValue),is.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,D,d)}).next(k=>{v=k;const D=k.applyToLocalDocumentSet(g,S);return h.documentOverlayCache.saveOverlays(_,k.batchId,D)})}).then(()=>({batchId:v.batchId,changes:bT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,h){let m=c.Ru[c.currentUser.toKey()];m||(m=new Kt(tt)),m=m.insert(d,h),c.Ru[c.currentUser.toKey()]=m}(r,s.batchId,n),await ad(r,s.changes),await Mm(r.remoteStore)}catch(s){const o=xv(s,"Failed to persist write");n.reject(o)}}async function eC(t,e){const n=Ze(t);try{const r=await JR(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Eu.get(o);c&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?bt(c.lu,14607):s.removedDocuments.size>0&&(bt(c.lu,42227),c.lu=!1))}),await ad(n,r,e)}catch(r){await ac(r)}}function v2(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((o,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const h=Ze(c);h.onlineState=d;let m=!1;h.queries.forEach((y,g)=>{for(const v of g.wa)v.va(d)&&(m=!0)}),m&&_v(h)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U3(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let c=new Kt(Be.comparator);c=c.insert(o,Yn.newNoDocument(o,Je.min()));const d=ot().add(o),h=new Rm(Je.min(),new Map,new Kt(tt),c,d);await eC(r,h),r.du=r.du.remove(o),r.Eu.delete(e),Tv(r)}else await Q0(r.localStore,e,!1).then(()=>J0(r,e,n)).catch(ac)}async function B3(t,e){const n=Ze(t),r=e.batch.batchId;try{const s=await XR(n.localStore,e);nC(n,r,null),tC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ad(n,s)}catch(s){await ac(s)}}async function $3(t,e,n){const r=Ze(t);try{const s=await function(c,d){const h=Ze(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,d).next(g=>(bt(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(m,g))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(r.localStore,e);nC(r,e,n),tC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ad(r,s)}catch(s){await ac(s)}}function tC(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function nC(t,e,n){const r=Ze(t);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function J0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||rC(t,r)})}function rC(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Tv(t))}function x2(t,e,n){for(const r of n)r instanceof XT?(t.Au.addReference(r.key,e),z3(t,r)):r instanceof JT?(Ie(Sv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||rC(t,r.key)):Ge(19791,{yu:r})}function z3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Ie(Sv,"New document in limbo: "+n),t.Iu.add(r),Tv(t))}function Tv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Be(Rt.fromString(e)),r=t.mu.next();t.Eu.set(r,new P3(n)),t.du=t.du.insert(n,r),WT(t.remoteStore,new yo(Ws(km(n.path)),r,"TargetPurposeLimboResolution",Tm.ue))}}async function ad(t,e,n){const r=Ze(t),s=[],o=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((d,h)=>{c.push(r.gu(h,e,n).then(m=>{var y;if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){s.push(m);const g=hv.Es(h.targetId,m);o.push(g)}}))}),await Promise.all(c),r.hu.J_(s),await async function(h,m){const y=Ze(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ce.forEach(m,v=>ce.forEach(v.Is,_=>y.persistence.referenceDelegate.addReference(g,v.targetId,_)).next(()=>ce.forEach(v.ds,_=>y.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))}catch(g){if(!lc(g))throw g;Ie(fv,"Failed to update sequence numbers: "+g)}for(const g of m){const v=g.targetId;if(!g.fromCache){const _=y.Fs.get(v),C=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(C);y.Fs=y.Fs.insert(v,S)}}}(r.localStore,o))}async function H3(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ie(Sv,"User change. New user:",e.toKey());const r=await BT(n.localStore,e);n.currentUser=e,function(o,c){o.Vu.forEach(d=>{d.forEach(h=>{h.reject(new Ne(le.CANCELLED,c))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ad(n,r.Bs)}}function W3(t,e){const n=Ze(t),r=n.Eu.get(e);if(r&&r.lu)return ot().add(r.key);{let s=ot();const o=n.Tu.get(e);if(!o)return s;for(const c of o){const d=n.Pu.get(c);s=s.unionWith(d.view.tu)}return s}}function sC(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.hu.J_=k3.bind(null,e.eventManager),e.hu.pu=j3.bind(null,e.eventManager),e}function q3(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$3.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return YR(this.persistence,new GR,e.initialUser,this.serializer)}Du(e){return new UT(dv.Vi,this.serializer)}bu(e){return new r3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class G3 extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){bt(this.persistence.referenceDelegate instanceof $f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PR(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new UT(r=>$f.Vi(r,n),this.serializer)}}class Z0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const n=Dm(e.databaseInfo.databaseId),r=function(o){return new l3(o)}(e.databaseInfo);return function(o,c,d,h){return new h3(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new m3(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>v2(this.syncEngine,n,0),function(){return h2.C()?new h2:new s3}())}createSyncEngine(e,n){return function(s,o,c,d,h,m,y){const g=new R3(s,o,c,d,h,m);return y&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ze(s);Ie(Na,"RemoteStore shutting down."),o.Ia.add(5),await od(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Z0.provider={build:()=>new Z0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class K3{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qn.UNAUTHENTICATED,this.clientId=Zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ie(Ao,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ie(Ao,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jg(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await BT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{So("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Ie("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{So("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function b2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q3(t);Ie(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>m2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>m2(e.remoteStore,s)),t._onlineComponents=e}async function Q3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(Ao,"Using user provided OfflineComponentProvider");try{await Jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Jg(t,new Hf)}}else Ie(Ao,"Using default OfflineComponentProvider"),await Jg(t,new G3(void 0));return t._offlineComponents}async function iC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(Ao,"Using user provided OnlineComponentProvider"),await b2(t,t._uninitializedComponentsProvider._online)):(Ie(Ao,"Using default OnlineComponentProvider"),await b2(t,new Z0))),t._onlineComponents}function Y3(t){return iC(t).then(e=>e.syncEngine)}async function Wf(t){const e=await iC(t),n=e.eventManager;return n.onListen=D3.bind(null,e.syncEngine),n.onUnlisten=O3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L3.bind(null,e.syncEngine),n}function X3(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,m){const y=new Cv({next:v=>{y.Ou(),c.enqueueAndForget(()=>wv(o,g));const _=v.docs.has(d);!_&&v.fromCache?m.reject(new Ne(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&h&&h.source==="server"?m.reject(new Ne(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),g=new Ev(km(d.path),y,{includeMetadataChanges:!0,ka:!0});return bv(o,g)}(await Wf(t),t.asyncQueue,e,n,r)),r.promise}function J3(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,m){const y=new Cv({next:v=>{y.Ou(),c.enqueueAndForget(()=>wv(o,g)),v.fromCache&&h.source==="server"?m.reject(new Ne(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),g=new Ev(d,y,{includeMetadataChanges:!0,ka:!0});return bv(o,g)}(await Wf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firestore.googleapis.com",_2=!0;class E2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aC,this.ssl=_2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new Ne(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s5;switch(r.type){case"firstParty":return new l5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w2.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),w2.delete(n),r.terminate())}(this),Promise.resolve()}}function Z3(t,e,n,r={}){var s;t=br(t,Om);const o=Vo(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o&&(Gy(`https://${h}`),Ky("Firestore",!0)),c.host!==aC&&c.host!==h&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:h,ssl:o,emulatorOptions:r});if(!Sa(m,d)&&(t._setSettings(m),r.mockUserToken)){let y,g;if(typeof r.mockUserToken=="string")y=r.mockUserToken,g=Qn.MOCK_USER;else{y=OS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qn(v)}t._authCredentials=new i5(new YS(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rd(n,Zt._jsonSchema))return new Zt(e,r||null,new Be(Rt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:yn("string",Zt._jsonSchemaVersion),referencePath:yn("string")};class _o extends Mi{constructor(e,n,r){super(e,n,km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Be(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function St(t,e,...n){if(t=$t(t),JS("collection","path",e),t instanceof Om){const r=Rt.fromString(e,...n);return Mw(r),new _o(t,null,r)}{if(!(t instanceof Zt||t instanceof _o))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return Mw(r),new _o(t.firestore,null,r)}}function $e(t,e,...n){if(t=$t(t),arguments.length===1&&(e=Zy.newId()),JS("doc","path",e),t instanceof Om){const r=Rt.fromString(e,...n);return Vw(r),new Zt(t,null,new Be(r))}{if(!(t instanceof Zt||t instanceof _o))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return Vw(r),new Zt(t.firestore,t instanceof _o?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="AsyncQueue";class T2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zT(this,"async_queue_retry"),this.oc=()=>{const r=Xg();r&&Ie(S2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ti;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!lc(e))throw e;Ie(S2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ki("INTERNAL UNHANDLED ERROR: ",C2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=vv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&Ge(47125,{hc:C2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function C2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ai extends Om{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new T2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T2(e),this._firestoreClient=void 0,await e}}}function e6(t,e){const n=typeof t=="object"?t:Xy(),r=typeof t=="string"?t:Mf,s=Em(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=DS("firestore");o&&Z3(s,...o)}return s}function Lm(t){if(t._terminated)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t6(t),t._firestoreClient}function t6(t){var e,n,r;const s=t._freezeSettings(),o=function(d,h,m,y){return new T5(d,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,oC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new K3(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(Un.fromBase64String(e))}catch(n){throw new Ne(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rd(e,rs._jsonSchema))return rs.fromBase64String(e.bytes)}}rs._jsonSchemaVersion="firestore/bytes/1.0",rs._jsonSchema={type:yn("string",rs._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gs._jsonSchemaVersion}}static fromJSON(e){if(rd(e,Gs._jsonSchema))return new Gs(e.latitude,e.longitude)}}Gs._jsonSchemaVersion="firestore/geoPoint/1.0",Gs._jsonSchema={type:yn("string",Gs._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rd(e,Ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ks(e.vectorValues);throw new Ne(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ks._jsonSchemaVersion="firestore/vectorValue/1.0",Ks._jsonSchema={type:yn("string",Ks._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^__.*__$/;class r6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class lC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ec:t})}}class Nv{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return qf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(cC(this.Ec)&&n6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class s6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dm(e)}Dc(e,n,r,s=!1){return new Nv({Ec:e,methodName:n,bc:r,path:Fn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(t){const e=t._freezeSettings(),n=Dm(t._databaseId);return new s6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uC(t,e,n,r,s,o={}){const c=t.Dc(o.merge||o.mergeFields?2:0,e,n,s);jv("Data must be an object, but it was:",c,r);const d=dC(r,c);let h,m;if(o.merge)h=new Mr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const g of o.mergeFields){const v=ey(e,g,n);if(!c.contains(v))throw new Ne(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);fC(y,v)||y.push(v)}h=new Mr(y),m=c.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,m=c.fieldTransforms;return new r6(new vr(d),h,m)}class $m extends Um{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $m}}class kv extends Um{_toFieldTransform(e){return new X5(e.path,new Ou)}isEqual(e){return e instanceof kv}}function i6(t,e,n,r){const s=t.Dc(1,e,n);jv("Data must be an object, but it was:",s,r);const o=[],c=vr.empty();Mo(r,(h,m)=>{const y=Av(e,h,n);m=$t(m);const g=s.gc(y);if(m instanceof $m)o.push(y);else{const v=ld(m,g);v!=null&&(o.push(y),c.set(y,v))}});const d=new Mr(o);return new lC(c,d,s.fieldTransforms)}function o6(t,e,n,r,s,o){const c=t.Dc(1,e,n),d=[ey(e,r,n)],h=[s];if(o.length%2!=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(ey(e,o[v])),h.push(o[v+1]);const m=[],y=vr.empty();for(let v=d.length-1;v>=0;--v)if(!fC(m,d[v])){const _=d[v];let C=h[v];C=$t(C);const S=c.gc(_);if(C instanceof $m)m.push(_);else{const k=ld(C,S);k!=null&&(m.push(_),y.set(_,k))}}const g=new Mr(m);return new lC(y,g,c.fieldTransforms)}function a6(t,e,n,r=!1){return ld(n,t.Dc(r?4:3,e))}function ld(t,e){if(hC(t=$t(t)))return jv("Unsupported field value:",e,t),dC(t,e);if(t instanceof Um)return function(r,s){if(!cC(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let h=ld(d,s.yc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:Bf(s.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(s.serializer,o)}}if(r instanceof Gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:PT(s.serializer,r._byteString)};if(r instanceof Zt){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ks)return function(c,d){return{mapValue:{fields:{[aT]:{stringValue:lT},[Of]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return iv(d.serializer,m)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Sm(r)}`)}(t,e)}function dC(t,e){const n={};return tT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,s)=>{const o=ld(s,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function hC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Gs||t instanceof rs||t instanceof Zt||t instanceof Um||t instanceof Ks)}function jv(t,e,n){if(!hC(n)||!ZS(n)){const r=Sm(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function ey(t,e,n){if((e=$t(e))instanceof Fm)return e._internalPath;if(typeof e=="string")return Av(t,e);throw qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const l6=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(l6)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fm(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qf(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${s}`),h+=")"),new Ne(le.INVALID_ARGUMENT,d+t+h)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends mC{data(){return super.data()}}function zm(t,e){return typeof e=="string"?Av(t,e):e instanceof Fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class Pv extends Iv{}function Wt(t,e,...n){let r=[];e instanceof Iv&&r.push(e),r=r.concat(n),function(o){const c=o.filter(h=>h instanceof Rv).length,d=o.filter(h=>h instanceof Hm).length;if(c>1||c>0&&d>0)throw new Ne(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hm extends Pv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){const n=this._parse(e);return gC(e._query,n),new Mi(e.firestore,e.converter,H0(e._query,n))}_parse(e){const n=Bm(e.firestore);return function(o,c,d,h,m,y,g){let v;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){j2(g,y);const C=[];for(const S of g)C.push(k2(h,o,S));v={arrayValue:{values:C}}}else v=k2(h,o,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||j2(g,y),v=a6(d,c,g,y==="in"||y==="not-in");return gn.create(m,y,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wr(t,e,n){const r=e,s=zm("where",t);return Hm._create(s,r,n)}class Rv extends Iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let c=s;const d=o.getFlattenedFilters();for(const h of d)gC(c,h),c=H0(c,h)}(e._query,n),new Mi(e.firestore,e.converter,H0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dv extends Pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dv(e,n)}_apply(e){const n=function(s,o,c){if(s.startAt!==null)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(o,c)}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new cc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Cs(t,e="asc"){const n=e,r=zm("orderBy",t);return Dv._create(r,n)}class Vv extends Pv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Vv(e,n,r)}_apply(e){return new Mi(e.firestore,e.converter,Ff(e._query,this._limit,this._limitType))}}function Gf(t){return m5("limit",t),Vv._create("limit",t,"F")}function k2(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Ne(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&n.indexOf("/")!==-1)throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!Be.isDocumentKey(r))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hw(t,new Be(r))}if(n instanceof Zt)return Hw(t,n._key);throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(n)}.`)}function j2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gC(t,e){const n=function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u6{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>an(c.doubleValue));return new Ks(o)}convertGeoPoint(e){return new Gs(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const n=Co(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);bt(LT(r),9688,{name:e});const s=new Du(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return s.isEqual(n)||ki(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends mC{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:yn("string",va._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class pf extends va{data(e={}){return super.data(e)}}class xa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const h=new pf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new uu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new pf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new uu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:d6(d.type),doc:h,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){t=br(t,Zt);const e=br(t.firestore,Ai);return X3(Lm(e),t._key).then(n=>vC(e,t,n))}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:yn("string",xa._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class Mv extends u6{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function _r(t){t=br(t,Mi);const e=br(t.firestore,Ai),n=Lm(e),r=new Mv(e);return pC(t._query),J3(n,t._query).then(s=>new xa(e,r,t,s))}function En(t,e,n){t=br(t,Zt);const r=br(t.firestore,Ai),s=yC(t.converter,e,n);return qm(r,[uC(Bm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,is.none())])}function _n(t,e,n,...r){t=br(t,Zt);const s=br(t.firestore,Ai),o=Bm(s);let c;return c=typeof(e=$t(e))=="string"||e instanceof Fm?o6(o,"updateDoc",t._key,e,n,r):i6(o,"updateDoc",t._key,e),qm(s,[c.toMutation(t._key,is.exists(!0))])}function Wm(t){return qm(br(t.firestore,Ai),[new ov(t._key,is.none())])}function Ov(t,e){const n=br(t.firestore,Ai),r=$e(t),s=yC(t.converter,e);return qm(n,[uC(Bm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,is.exists(!1))]).then(()=>r)}function Jn(t,...e){var n,r,s;t=$t(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||N2(e[c])||(o=e[c++]);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(N2(e[c])){const g=e[c];e[c]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[c+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[c+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let h,m,y;if(t instanceof Zt)m=br(t.firestore,Ai),y=km(t._key.path),h={next:g=>{e[c]&&e[c](vC(m,t,g))},error:e[c+1],complete:e[c+2]};else{const g=br(t,Mi);m=br(g.firestore,Ai),y=g._query;const v=new Mv(m);h={next:_=>{e[c]&&e[c](new xa(m,v,g,_))},error:e[c+1],complete:e[c+2]},pC(t._query)}return function(v,_,C,S){const k=new Cv(S),D=new Ev(_,k,C);return v.asyncQueue.enqueueAndForget(async()=>bv(await Wf(v),D)),()=>{k.Ou(),v.asyncQueue.enqueueAndForget(async()=>wv(await Wf(v),D))}}(Lm(m),y,d,h)}function qm(t,e){return function(r,s){const o=new Ti;return r.asyncQueue.enqueueAndForget(async()=>F3(await Y3(r),s,o)),o.promise}(Lm(t),e)}function vC(t,e,n){const r=n.docs.get(e._key),s=new Mv(t);return new va(t,s,e._key,r,new uu(n.hasPendingWrites,n.fromCache),e.converter)}function xC(){return new kv("serverTimestamp")}(function(e,n=!0){(function(s){oc=s})(Ra),Ta(new Eo("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Ai(new o5(r.getProvider("auth-internal")),new c5(c,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(m.options.projectId,y)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Hs(Aw,Iw,e),Hs(Aw,Iw,"esm2017")})();var h6="firebase",f6="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(h6,f6,"app");function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m6=bC,wC=new td("auth","Firebase",bC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Qy("@firebase/auth");function p6(t,...e){Kf.logLevel<=it.WARN&&Kf.warn(`Auth (${Ra}): ${t}`,...e)}function gf(t,...e){Kf.logLevel<=it.ERROR&&Kf.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,...e){throw Fv(t,...e)}function Qs(t,...e){return Fv(t,...e)}function _C(t,e,n){const r=Object.assign(Object.assign({},m6()),{[e]:n});return new td("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return _C(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wC.create(t,...e)}function qe(t,e,...n){if(!t)throw Fv(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gf(e),new Error(e)}function Ii(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g6(){return A2()==="http:"||A2()==="https:"}function A2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g6()||OI()||"connection"in navigator)?navigator.onLine:!0}function v6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=DI()||LI()}get(){return y6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w6=new cd(3e4,6e4);function Lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oi(t,e,n,r,s={}){return SC(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=nd(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},o);return MI()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(m.credentials="include"),EC.fetch()(await TC(t,t.config.apiHost,n,d),m)})}async function SC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x6),e);try{const s=new E6(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Hh(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Hh(t,"user-disabled",c);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _C(t,y,m);Ns(t,y)}}catch(s){if(s instanceof si)throw s;Ns(t,"network-request-failed",{message:String(s)})}}async function ud(t,e,n,r,s={}){const o=await Oi(t,e,n,r,s);return"mfaPendingCredential"in o&&Ns(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function TC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,c=o.config.emulator?Uv(t.config,s):`${t.config.apiScheme}://${s}`;return b6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function _6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qs(this.auth,"network-request-failed")),w6.get())})}}function Hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qs(t,e,r);return s.customData._tokenResponse=n,s}function I2(t){return t!==void 0&&t.enterprise!==void 0}class S6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T6(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N6(t,e=!1){const n=$t(t),r=await n.getIdToken(e),s=Bv(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:xu(Zg(s.auth_time)),issuedAtTime:xu(Zg(s.iat)),expirationTime:xu(Zg(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zg(t){return Number(t)*1e3}function Bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const s=PS(n);return s?JSON.parse(s):(gf("Failed to decode base64 JWT payload"),null)}catch(s){return gf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P2(t){const e=Bv(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&k6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ec(t,Qf(n,{idToken:r}));qe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CC(o.providerUserInfo):[],d=I6(t.providerData,c),h=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),y=h?m:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ny(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,g)}async function A6(t){const e=$t(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CC(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){const n=await SC(t,{},async()=>{const r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await TC(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(h.credentials="include"),EC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R6(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=P2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await P6(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new zl;return r&&(qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ny(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ec(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N6(this,e)}reload(){return A6(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await ec(this,C6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,d,h,m,y;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,S=(d=n.tenantId)!==null&&d!==void 0?d:void 0,k=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(m=n.createdAt)!==null&&m!==void 0?m:void 0,M=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:H,isAnonymous:Q,providerData:G,stsTokenManager:V}=n;qe(F&&V,e,"internal-error");const I=zl.fromJSON(this.name,V);qe(typeof F=="string",e,"internal-error"),ao(g,e.name),ao(v,e.name),qe(typeof H=="boolean",e,"internal-error"),qe(typeof Q=="boolean",e,"internal-error"),ao(_,e.name),ao(C,e.name),ao(S,e.name),ao(k,e.name),ao(D,e.name),ao(M,e.name);const j=new Ss({uid:F,auth:e,email:v,emailVerified:H,displayName:g,isAnonymous:Q,photoURL:C,phoneNumber:_,tenantId:S,stsTokenManager:I,createdAt:D,lastLoginAt:M});return G&&Array.isArray(G)&&(j.providerData=G.map(E=>Object.assign({},E))),k&&(j._redirectEventId=k),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new zl;s.updateFromServerResponse(n);const o=new Ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?CC(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new zl;d.updateFromIdToken(r);const h=new Ss({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map;function Si(t){Ii(t instanceof Function,"Expected a class definition");let e=R2.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NC.type="NONE";const D2=NC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=yf(this.userKey,s.apiKey,o),this.fullPersistenceKey=yf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?Ss._fromGetAccountInfoResponse(this.auth,n,e):null}return Ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hl(Si(D2),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Si(D2);const c=yf(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){let g;if(typeof y=="string"){const v=await Qf(e,{idToken:y}).catch(()=>{});if(!v)break;g=await Ss._fromGetAccountInfoResponse(e,v,y)}else g=Ss._fromJSON(e,y);m!==o&&(d=g),o=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Hl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RC(e))return"Blackberry";if(DC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||AC(e))&&!e.includes("edge/"))return"Chrome";if(PC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kC(t=Zn()){return/firefox\//i.test(t)}function jC(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AC(t=Zn()){return/crios\//i.test(t)}function IC(t=Zn()){return/iemobile/i.test(t)}function PC(t=Zn()){return/android/i.test(t)}function RC(t=Zn()){return/blackberry/i.test(t)}function DC(t=Zn()){return/webos/i.test(t)}function $v(t=Zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D6(t=Zn()){var e;return $v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V6(){return FI()&&document.documentMode===10}function VC(t=Zn()){return $v(t)||PC(t)||DC(t)||RC(t)||/windows phone/i.test(t)||IC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e=[]){let n;switch(t){case"Browser":n=V2(Zn());break;case"Worker":n=`${V2(Zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=6;class F6{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:L6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M2(this),this.idTokenSubscription=new M2(this),this.beforeStateQueue=new M6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qf(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Ci(this));const n=e?$t(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O6(this),n=new F6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ma(t){return $t(t)}class M2{constructor(e){this.auth=e,this.observer=null,this.addObserver=GI(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B6(t){Gm=t}function OC(t){return Gm.loadJS(t)}function $6(){return Gm.recaptchaEnterpriseScript}function z6(){return Gm.gapiScript}function H6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class W6{constructor(){this.enterprise=new q6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G6="recaptcha-enterprise",LC="NO_RECAPTCHA";class K6{constructor(e){this.type=G6,this.auth=Ma(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{T6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new S6(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{d(h)})})}function s(o,c,d){const h=window.grecaptcha;I2(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(LC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W6().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&I2(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=$6();h.length!==0&&(h+=d),OC(h).then(()=>{s(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function O2(t,e,n,r=!1,s=!1){const o=new K6(t);let c;if(s)c=LC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ry(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await O2(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await O2(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){const n=Em(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Sa(o,e??{}))return s;Ns(s,"already-initialized")}return n.initialize({options:e})}function Y6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X6(t,e,n){const r=Ma(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=FC(e),{host:c,port:d}=J6(e),h=d===null?"":`:${d}`,m={url:`${o}//${c}${h}/`},y=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Sa(m,r.config.emulator)&&Sa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Vo(c)?(Gy(`${o}//${c}${h}`),Ky("Auth",!0)):Z6()}function FC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J6(t){const e=FC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:L2(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:L2(c)}}}function L2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function eD(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){return ud(t,"POST","/v1/accounts:signInWithPassword",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return ud(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}async function rD(t,e){return ud(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends zv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,n,"signInWithPassword",tD);case"emailLink":return nD(e,{email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,r,"signUpPassword",eD);case"emailLink":return rD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return ud(t,"POST","/v1/accounts:signInWithIdp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="http://localhost";class ka extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Lv(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new ka(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:sD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oD(t){const e=iu(ou(t)).link,n=e?iu(ou(e)).deep_link_id:null,r=iu(ou(t)).deep_link_id;return(r?iu(ou(r)).link:null)||r||n||e||t}class Hv{constructor(e){var n,r,s,o,c,d;const h=iu(ou(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,g=iD((s=h.mode)!==null&&s!==void 0?s:null);qe(m&&y&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=oD(e);try{return new Hv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.providerId=dc.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hv.parseLink(n);return qe(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}dc.PROVIDER_ID="password";dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends UC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends dd{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends dd{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends dd{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e){return ud(t,"POST","/v1/accounts:signUp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ss._fromIdTokenResponse(e,r,s),c=F2(r);return new ja({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=F2(r);return new ja({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function F2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends si{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xf(e,n,r,s)}}function BC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,o,e,r):o})}async function lD(t,e,n=!1){const r=await ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(Ci(r));const s="reauthenticate";try{const o=await ec(t,BC(r,s,e,t),n);qe(o.idToken,r,"internal-error");const c=Bv(o.idToken);qe(c,r,"internal-error");const{sub:d}=c;return qe(t.uid===d,r,"user-mismatch"),ja._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ns(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ci(t));const r="signIn",s=await BC(t,r,e),o=await ja._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function uD(t,e){return $C(Ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(t){const e=Ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dD(t,e,n){if(Dr(t.app))return Promise.reject(Ci(t));const r=Ma(t),c=await ry(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&zC(t),h}),d=await ja._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function hD(t,e,n){return Dr(t.app)?Promise.reject(Ci(t)):uD($t(t),dc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return Oi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=$t(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ec(r,fD(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function mD(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function pD(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function gD(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function yD(t){return $t(t).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e3,xD=10;class WC extends HC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);V6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WC.type="LOCAL";const bD=WC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends HC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qC.type="SESSION";const GC=qC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async m=>m(n.origin,o)),h=await wD(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const m=Wv("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(v.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function ED(t){Ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function SD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CD(){return KC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebaseLocalStorageDb",ND=1,Zf="firebaseLocalStorage",YC="fbase_key";class hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qm(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function kD(){const t=indexedDB.deleteDatabase(QC);return new hd(t).toPromise()}function sy(){const t=indexedDB.open(QC,ND);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:YC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await kD(),e(await sy()))})})}async function U2(t,e,n){const r=Qm(t,!0).put({[YC]:e,value:n});return new hd(r).toPromise()}async function jD(t,e){const n=Qm(t,!1).get(e),r=await new hd(n).toPromise();return r===void 0?null:r.value}function B2(t,e){const n=Qm(t,!0).delete(e);return new hd(n).toPromise()}const AD=800,ID=3;class XC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ID)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(CD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SD(),!this.activeServiceWorker)return;this.sender=new _D(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await U2(e,Jf,"1"),await B2(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Qm(s,!1).getAll();return new hd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XC.type="LOCAL";const PD=XC;new cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e){return e?Si(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DD(t){return $C(t.auth,new qv(t),t.bypassAuthState)}function VD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),cD(n,new qv(t),t.bypassAuthState)}async function MD(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),lD(n,new qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DD;case"linkViaPopup":case"linkViaRedirect":return MD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:Ns(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new cd(2e3,1e4);class Ml extends JC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=Wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}Ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",vf=new Map;class FD extends JC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const r=await UD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UD(t,e){const n=zD(e),r=$D(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function BD(t,e){vf.set(t._key(),e)}function $D(t){return Si(t._redirectPersistence)}function zD(t){return yf(LD,t.config.apiKey,t.name)}async function HD(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ci(t));const r=Ma(t),s=RD(r,e),c=await new FD(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=10*60*1e3;class qD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has($2(e))}saveEventToCache(e){this.cachedEventUids.add($2(e)),this.lastProcessedEventTime=Date.now()}}function $2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function XD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KD(t);for(const n of e)try{if(JD(n))return}catch{}Ns(t,"unauthorized-domain")}function JD(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!YD.test(n))return!1;if(QD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new cd(3e4,6e4);function z2(){const t=Ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e9(t){return new Promise((e,n)=>{var r,s,o;function c(){z2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z2(),n(Qs(t,"network-request-failed"))},timeout:ZD.get()})}if(!((s=(r=Ys().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ys().gapi)===null||o===void 0)&&o.load)c();else{const d=H6("iframefcb");return Ys()[d]=()=>{gapi.load?c():n(Qs(t,"network-request-failed"))},OC(`${z6()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw xf=null,e})}let xf=null;function t9(t){return xf=xf||e9(t),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new cd(5e3,15e3),r9="__/auth/iframe",s9="emulator/auth/iframe",i9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a9(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uv(e,s9):`https://${t.config.authDomain}/${r9}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},s=o9.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nd(r).slice(1)}`}async function l9(t){const e=await t9(t),n=Ys().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:a9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i9,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Qs(t,"network-request-failed"),d=Ys().setTimeout(()=>{o(c)},n9.get());function h(){Ys().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u9=500,d9=600,h9="_blank",f9="http://localhost";class H2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m9(t,e,n,r=u9,s=d9){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},c9),{width:r.toString(),height:s.toString(),top:o,left:c}),m=Zn().toLowerCase();n&&(d=AC(m)?h9:n),kC(m)&&(e=e||f9,h.scrollbars="yes");const y=Object.entries(h).reduce((v,[_,C])=>`${v}${_}=${C},`,"");if(D6(m)&&d!=="_self")return p9(e||"",d),new H2(null);const g=window.open(e||"",d,y);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new H2(g)}function p9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="__/auth/handler",y9="emulator/auth/handler",v9=encodeURIComponent("fac");async function W2(t,e,n,r,s,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:s};if(e instanceof UC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",qI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))c[y]=g}if(e instanceof dd){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),m=h?`#${v9}=${encodeURIComponent(h)}`:"";return`${x9(t)}?${nd(d).slice(1)}${m}`}function x9({config:t}){return t.emulator?Uv(t,y9):`https://${t.authDomain}/${g9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="webStorageSupport";class b9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GC,this._completeRedirectFn=HD,this._overrideRedirectResult=BD}async _openPopup(e,n,r,s){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await W2(e,n,r,ty(),s);return m9(e,c,Wv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await W2(e,n,r,ty(),s);return ED(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l9(e),r=new qD(e);return n.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(e0,{type:e0},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[e0];c!==void 0&&n(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VC()||jC()||$v()}}const w9=b9;var q2="@firebase/auth",G2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S9(t){Ta(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(t)},m=new U6(r,s,o,h);return Y6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new Eo("auth-internal",e=>{const n=Ma(e.getProvider("auth").getImmediate());return(r=>new _9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(q2,G2,E9(t)),Hs(q2,G2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=5*60,C9=MS("authIdTokenMaxAge")||T9;let K2=null;const N9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C9)return;const s=n==null?void 0:n.token;K2!==s&&(K2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function k9(t=Xy()){const e=Em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q6(t,{popupRedirectResolver:w9,persistence:[PD,bD,GC]}),r=MS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=N9(o.toString());pD(n,c,()=>c(n.currentUser)),mD(n,d=>c(d))}}const s=RS("auth");return s&&X6(n,`http://${s}`),n}function j9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Qs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",j9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebasestorage.googleapis.com",tN="storageBucket",A9=2*60*1e3,I9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends si{constructor(e,n,r=0){super(t0(e),`Firebase Storage: ${n} (${t0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function t0(t){return"storage/"+t}function Gv(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function P9(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R9(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function D9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function V9(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function M9(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function O9(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L9(){return new tn(en.CANCELED,"User canceled the upload/download.")}function F9(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function U9(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function B9(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tN+"' property when initializing the app?")}function $9(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z9(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function H9(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iy(t){return new tn(en.INVALID_ARGUMENT,t)}function nN(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function W9(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function tu(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Or.makeFromUrl(e,n)}catch{return new Or(e,"")}if(r.path==="")return r;throw U9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${y}/b/${s}/o${v}`,"i"),C={bucket:1,path:3},S=n===eN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",D=new RegExp(`^https?://${S}/${s}/${k}`,"i"),F=[{regex:d,indices:h,postModify:o},{regex:_,indices:C,postModify:m},{regex:D,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<F.length;H++){const Q=F[H],G=Q.regex.exec(e);if(G){const V=G[Q.indices.bucket];let I=G[Q.indices.path];I||(I=""),r=new Or(V,I),Q.postModify(r);break}}if(r==null)throw F9(e);return r}}class q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function h(){return d===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function g(k){s=setTimeout(()=>{s=null,t(_,h())},k)}function v(){o&&clearTimeout(o)}function _(k,...D){if(m){v();return}if(k){v(),y.call(null,k,...D);return}if(h()||c){v(),y.call(null,k,...D);return}r<64&&(r*=2);let F;d===1?(d=2,F=0):F=(r+Math.random())*1e3,g(F)}let C=!1;function S(k){C||(C=!0,v(),!m&&(s!==null?(k||(d=2),clearTimeout(s),g(0)):k||(d=1)))}return g(0),o=setTimeout(()=>{c=!0,S(!0)},n),S}function K9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){return t!==void 0}function Y9(t){return typeof t=="object"&&!Array.isArray(t)}function Kv(t){return typeof t=="string"||t instanceof String}function Q2(t){return Qv()&&t instanceof Blob}function Qv(){return typeof Blob<"u"}function Y2(t,e,n,r){if(r<e)throw iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ba;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ba||(ba={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,s,o,c,d,h,m,y,g,v=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===ba.NO_ERROR,h=o.getStatus();if(!d||X9(h,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===ba.ABORT;r(!1,new Wh(!1,null,y));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new Wh(m,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());Q9(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=Gv();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(s.canceled){const h=this.appDelete_?nN():L9();c(h)}else{const h=O9();c(h)}};this.canceled_?n(!1,new Wh(!1,null,!0)):this.backoffId_=G9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Z9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rV(t,e,n,r,s,o,c=!0,d=!1){const h=rN(t.urlParams),m=t.url+h,y=Object.assign({},t.headers);return tV(y,e),Z9(y,n),eV(y,o),nV(y,r),new J9(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iV(...t){const e=sV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Qv())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){if(typeof atob>"u")throw H9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class n0{constructor(e,n){this.data=e,this.contentType=n||null}}function lV(t,e){switch(t){case zs.RAW:return new n0(sN(e));case zs.BASE64:case zs.BASE64URL:return new n0(iN(t,e));case zs.DATA_URL:return new n0(uV(e),dV(e))}throw Gv()}function sN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cV(t){let e;try{e=decodeURIComponent(t)}catch{throw bu(zs.DATA_URL,"Malformed data URL.")}return sN(e)}function iN(t,e){switch(t){case zs.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw bu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case zs.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw bu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aV(e)}catch(s){throw s.message.includes("polyfill")?s:bu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class oN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bu(zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uV(t){const e=new oN(t);return e.base64?iN(zs.BASE64,e.rest):cV(e.rest)}function dV(t){return new oN(t).contentType}function hV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){let r=0,s="";Q2(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Q2(this.data_)){const r=this.data_,s=oV(r,e,n);return s===null?null:new po(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new po(r,!0)}}static getBlob(...e){if(Qv()){const n=e.map(r=>r instanceof po?r.data_:r);return new po(iV.apply(null,n))}else{const n=e.map(c=>Kv(c)?lV(zs.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)s[o++]=c[d]}),new po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){let e;try{e=JSON.parse(t)}catch{return null}return Y9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e){return e}class sr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||pV}}let qh=null;function gV(t){return!Kv(t)||t.length<2?t:lN(t)}function cN(){if(qh)return qh;const t=[];t.push(new sr("bucket")),t.push(new sr("generation")),t.push(new sr("metageneration")),t.push(new sr("name","fullPath",!0));function e(o,c){return gV(c)}const n=new sr("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const s=new sr("size");return s.xform=r,t.push(s),t.push(new sr("timeCreated")),t.push(new sr("updated")),t.push(new sr("md5Hash",null,!0)),t.push(new sr("cacheControl",null,!0)),t.push(new sr("contentDisposition",null,!0)),t.push(new sr("contentEncoding",null,!0)),t.push(new sr("contentLanguage",null,!0)),t.push(new sr("contentType",null,!0)),t.push(new sr("metadata","customMetadata",!0)),qh=t,qh}function yV(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Or(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function vV(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return yV(r,t),r}function uN(t,e,n){const r=aN(e);return r===null?null:vV(t,r,n)}function xV(t,e,n,r){const s=aN(e);if(s===null||!Kv(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const y=t.bucket,g=t.fullPath,v="/b/"+c(y)+"/o/"+c(g),_=Yv(v,n,r),C=rN({alt:"media",token:m});return _+C})[0]}function bV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class dN{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(!t)throw Gv()}function wV(t,e){function n(r,s){const o=uN(t,s,e);return hN(o!==null),o}return n}function _V(t,e){function n(r,s){const o=uN(t,s,e);return hN(o!==null),xV(o,s,t.host,t._protocol)}return n}function fN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=V9():s=D9():n.getStatus()===402?s=R9(t.bucket):n.getStatus()===403?s=M9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function EV(t){const e=fN(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=P9(t.path)),o.serverResponse=s.serverResponse,o}return n}function SV(t,e,n){const r=e.fullServerUrl(),s=Yv(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,d=new dN(s,o,_V(t,n),c);return d.errorHandler=EV(e),d}function TV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=TV(null,e)),r}function NV(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let H=0;H<2;H++)F=F+Math.random().toString().slice(2);return F}const h=d();c["Content-Type"]="multipart/related; boundary="+h;const m=CV(e,r,s),y=bV(m,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+h+"--",_=po.getBlob(g,r,v);if(_===null)throw $9();const C={name:m.fullPath},S=Yv(o,t.host,t._protocol),k="POST",D=t.maxUploadRetryTime,M=new dN(S,k,wV(t,n),D);return M.urlParams=C,M.headers=c,M.body=_.uploadData(),M.errorHandler=fN(e),M}class kV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw tu("cannot .send() more than once");if(Vo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jV extends kV{initXhr(){this.xhr_.responseType="text"}}function mN(){return new jV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this._service=e,n instanceof Or?this._location=n:this._location=Or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Aa(e,n)}get root(){const e=new Or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lN(this._location.path)}get storage(){return this._service}get parent(){const e=fV(this._location.path);if(e===null)return null;const n=new Or(this._location.bucket,e);return new Aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W9(e)}}function AV(t,e,n){t._throwIfRoot("uploadBytes");const r=NV(t.storage,t._location,cN(),new po(e,!0),n);return t.storage.makeRequestWithTokens(r,mN).then(s=>({metadata:s,ref:t}))}function IV(t){t._throwIfRoot("getDownloadURL");const e=SV(t.storage,t._location,cN());return t.storage.makeRequestWithTokens(e,mN).then(n=>{if(n===null)throw z9();return n})}function PV(t,e){const n=mV(t._location.path,e),r=new Or(t._location.bucket,n);return new Aa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return/^[A-Za-z]+:\/\//.test(t)}function DV(t,e){return new Aa(t,e)}function pN(t,e){if(t instanceof Xv){const n=t;if(n._bucket==null)throw B9();const r=new Aa(n,n._bucket);return e!=null?pN(r,e):r}else return e!==void 0?PV(t,e):t}function VV(t,e){if(e&&RV(e)){if(t instanceof Xv)return DV(t,e);throw iy("To use ref(service, url), the first argument must be a Storage instance.")}else return pN(t,e)}function X2(t,e){const n=e==null?void 0:e[tN];return n==null?null:Or.makeFromBucketSpec(n,t)}function MV(t,e,n,r={}){t.host=`${e}:${n}`;const s=Vo(e);s&&(Gy(`https://${t.host}/b`),Ky("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:OS(o,t.app.options.projectId))}class Xv{constructor(e,n,r,s,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=eN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A9,this._maxUploadRetryTime=I9,this._requests=new Set,s!=null?this._bucket=Or.makeFromBucketSpec(s,this._host):this._bucket=X2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Or.makeFromBucketSpec(this._url,e):this._bucket=X2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aa(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new q9(nN());{const c=rV(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const J2="@firebase/storage",Z2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="storage";function em(t,e,n){return t=$t(t),AV(t,e,n)}function tm(t){return t=$t(t),IV(t)}function nm(t,e){return t=$t(t),VV(t,e)}function OV(t=Xy(),e){t=$t(t);const r=Em(t,gN).getImmediate({identifier:e}),s=DS("storage");return s&&LV(r,...s),r}function LV(t,e,n,r={}){MV(t,e,n,r)}function FV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Xv(n,r,s,e,Ra)}function UV(){Ta(new Eo(gN,FV,"PUBLIC").setMultipleInstances(!0)),Hs(J2,Z2,""),Hs(J2,Z2,"esm2017")}UV();const BV={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.appspot.com",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},Jv=US(BV),Ee=e6(Jv),ua=k9(Jv),rm=OV(Jv),$V=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const d=Wt(St(Ee,"productos"),wr("activo","==",!0),Cs("fechaCreacion","desc"));return Jn(d,m=>{const y=m.docs.map(g=>({id:g.id,...g.data()}));e(y),r(!1)},m=>{console.error("Error fetching products:",m),o(m.message),r(!1)})}catch(d){console.error("Error setting up products listener:",d),o(d.message),r(!1)}})()},[]),{products:t,loading:n,error:s}},yN=t=>{const[e,n]=N.useState([]),[r,s]=N.useState(!0),[o,c]=N.useState(null);return N.useEffect(()=>{(async()=>{try{let h;return!t||t===""||t==="todos"?h=Wt(St(Ee,"productos"),wr("activo","==",!0),Cs("fechaCreacion","desc")):h=Wt(St(Ee,"productos"),wr("categoria","==",t),wr("activo","==",!0),Cs("fechaCreacion","desc")),Jn(h,y=>{const g=y.docs.map(v=>({id:v.id,...v.data()}));n(g),s(!1)},y=>{console.error("Error fetching products by category:",y),c(y.message),s(!1)})}catch(h){console.error("Error setting up products by category listener:",h),c(h.message),s(!1)}})()},[t]),{products:e,loading:r,error:o}},zV=t=>{const[e,n]=N.useState(null),[r,s]=N.useState(!0),[o,c]=N.useState(null);return N.useEffect(()=>{if(!t){n(null),s(!1);return}(async()=>{try{const h=$e(Ee,"productos",t),m=await _i(h);m.exists()?n({id:m.id,...m.data()}):c("Producto no encontrado")}catch(h){console.error("Error fetching product:",h),c(h.message)}finally{s(!1)}})()},[t]),{product:e,loading:r,error:o}},vN=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const d=Wt(St(Ee,"categorias"),wr("activa","==",!0),Cs("orden","asc"));return Jn(d,m=>{const y=m.docs.map(g=>({id:g.id,...g.data()}));e(y),r(!1)},m=>{console.error("Error fetching categories:",m),o(m.message),r(!1)})}catch(d){console.error("Error setting up categories listener:",d),o(d.message),r(!1)}})()},[]),{categories:t,loading:n,error:s}},HV=()=>{const[t,e]=N.useState({}),[n,r]=N.useState([]),[s,o]=N.useState(!0),[c,d]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const m=Wt(St(Ee,"categorias"),wr("activa","==",!0),Cs("orden","asc")),g=(await _r(m)).docs.map(k=>({id:k.id,...k.data()}));r(g);const v=Wt(St(Ee,"productos"),wr("activo","==",!0),Cs("fechaCreacion","desc")),C=(await _r(v)).docs.map(k=>({id:k.id,...k.data()})),S={};g.forEach(k=>{S[k.id]=C.filter(D=>D.categoria===k.id)}),e(S),o(!1)}catch(m){console.error("Error fetching products by categories:",m),d(m.message),o(!1)}})()},[]),{productsByCategory:t,categories:n,loading:s,error:c}},WV=(t,e="")=>{const[n,r]=N.useState([]),[s,o]=N.useState(!1),[c,d]=N.useState(null);return N.useEffect(()=>{if(!t||t.length<2){r([]);return}const m=setTimeout(async()=>{o(!0);try{let y=Wt(St(Ee,"productos"),wr("activo","==",!0));e&&(y=Wt(y,wr("categoria","==",e)));const v=(await _r(y)).docs.map(S=>({id:S.id,...S.data()})),_=t.toLowerCase(),C=v.filter(S=>{var k,D,M,F;return((k=S.nombre)==null?void 0:k.toLowerCase().includes(_))||((D=S.descripcion)==null?void 0:D.toLowerCase().includes(_))||((M=S.empresa)==null?void 0:M.toLowerCase().includes(_))||((F=S.etiquetas)==null?void 0:F.some(H=>H.toLowerCase().includes(_)))});r(C)}catch(y){console.error("Error searching products:",y),d(y.message)}finally{o(!1)}},300);return()=>clearTimeout(m)},[t,e]),{results:n,loading:s,error:c}},e_=N.forwardRef(({onClose:t,placeholder:e="Buscar en pcu.com.do"},n)=>{const[r,s]=N.useState(""),[o,c]=N.useState([]),[d,h]=N.useState(!1),m=N.useRef(null),y=Sr(),{results:g,loading:v}=WV(r);N.useEffect(()=>{if(!r.trim()){c([]),h(!1);return}c(g),h(!0)},[r,g]),N.useEffect(()=>{const S=k=>{m.current&&!m.current.contains(k.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const _=S=>{S.preventDefault(),r.trim()&&(y(`/buscar?q=${encodeURIComponent(r.trim())}`),s(""),c([]),h(!1),t&&t())},C=S=>{const k=S.nombre.trim();y(`/buscar?q=${encodeURIComponent(k)}`),s(""),c([]),h(!1),t&&t()};return l.jsxs("div",{className:"relative w-full",ref:m,children:[l.jsxs("form",{onSubmit:_,className:"flex w-full",children:[l.jsx("input",{type:"text",ref:n,value:r,onChange:S=>s(S.target.value),placeholder:e,className:"flex-grow border border-gray-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",autoComplete:"off"}),l.jsx("button",{type:"submit",className:"ml-2 px-4 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-md text-sm font-semibold transition",children:"Buscar"})]}),d&&l.jsxs("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-md max-h-72 overflow-y-auto",children:[v&&l.jsx("li",{className:"px-4 py-3 text-sm text-gray-500",children:"Buscando..."}),!v&&o.length===0&&l.jsx("li",{className:"px-4 py-3 text-sm text-gray-500",children:"Sin resultados"}),!v&&o.map(S=>l.jsxs("li",{onClick:()=>C(S),className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-base break-words",title:`${S.nombre} ${S.empresa?"- "+S.empresa:""}`,children:[l.jsx("div",{className:"font-semibold",children:S.nombre}),S.empresa&&l.jsx("div",{className:"text-xs text-gray-500",children:S.empresa})]},S.id))]})]})});function t_(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="0123456789";let n="USER-";for(let r=0;r<3;r++)n+=t.charAt(Math.floor(Math.random()*t.length));for(let r=0;r<3;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}const xN=N.createContext();function $r(){return N.useContext(xN)}function bN({children:t}){const[e,n]=N.useState(null),[r,s]=N.useState(null),[o,c]=N.useState(!0);N.useEffect(()=>{let _=null;const C=gD(ua,async S=>{if(_){try{_()}catch{}_=null}if(n(S),!S){s(null),c(!1);return}try{const k=$e(Ee,"users",S.uid),D=$e(Ee,"usuarios",S.uid),[M,F]=await Promise.all([_i(k),_i(D)]);let H=null;if(M.exists())H=k;else if(F.exists())H=D;else{const G={telefono:"",direccion:"",admin:!1,codigo:t_(),displayName:S.displayName||"",email:S.email||"",createdAt:new Date};try{await En(k,G,{merge:!0})}catch(V){console.warn("No fue posible crear users/{uid} automáticamente:",V)}H=k}_=Jn(H,Q=>{if(Q.exists()){const G=Q.data()||{},V={uid:S.uid,...G,displayName:S.displayName||G.displayName||"",email:S.email||G.email||"",isAdmin:G.admin===!0};s(V)}else{const G={uid:S.uid,telefono:"",direccion:"",admin:!1,codigo:"",displayName:S.displayName||"",email:S.email||S.email,isAdmin:!1};s(G)}c(!1)},Q=>{console.error("onSnapshot usuario error:",Q),c(!1)})}catch(k){console.error("Error inicializando listener de usuario:",k);try{const D=$e(Ee,"users",S.uid),M=await _i(D),F=M.exists()?M.data():{},H={uid:S.uid,...F,displayName:S.displayName||F.displayName||"",email:S.email||F.email||"",isAdmin:F.admin===!0};s(H)}catch(D){console.error("Fallback read error:",D),s({uid:S.uid,displayName:S.displayName||"",email:S.email||"",telefono:"",direccion:"",isAdmin:!1,codigo:""})}finally{c(!1)}}});return()=>{try{C()}catch{}if(_)try{_()}catch{}}},[]);async function d(_,C,S){const k=await dD(ua,_,C);await ql(k.user,{displayName:S});const D=t_(),M={telefono:"",direccion:"",admin:!1,codigo:D,displayName:S,email:_,createdAt:new Date};await En($e(Ee,"users",k.user.uid),M,{merge:!0}),n(ua.currentUser),s({uid:k.user.uid,telefono:"",direccion:"",admin:!1,codigo:D,displayName:S,email:_,isAdmin:!1})}function h(_,C){return hD(ua,_,C)}function m(){return yD(ua)}async function y(_){if(!e)throw new Error("No user logged in");const C=$e(Ee,"users",e.uid);try{await En(C,_,{merge:!0});const S=await _i(C),k=S.exists()?S.data():{},D={uid:e.uid,...k,displayName:e.displayName||k.displayName||"",email:e.email||k.email||"",isAdmin:k.admin===!0};if(s(D),_.displayName&&e.displayName!==_.displayName)try{await ql(e,{displayName:_.displayName}),n(ua.currentUser)}catch(M){console.warn("Error actualizando displayName en auth:",M)}return D}catch(S){throw console.error("actualizarUsuarioInfo error:",S),S}}async function g(_){if(!e)throw new Error("No user logged in");const C=nm(rm,`usuarios/${e.uid}/perfil.jpg`);await em(C,_);const S=await tm(C);await ql(e,{photoURL:S}),n(ua.currentUser);try{await En($e(Ee,"users",e.uid),{fotoURL:S},{merge:!0}),s(k=>({...k,fotoURL:S}))}catch(k){console.warn("No se pudo persistir fotoURL en users/{uid}:",k)}return S}const v={usuario:e,usuarioInfo:r,login:h,signup:d,logout:m,actualizarUsuarioInfo:y,subirImagen:g};return l.jsx(xN.Provider,{value:v,children:!o&&t})}const wN=N.createContext();function hc(){return N.useContext(wN)}function qV({children:t}){const[e,n]=N.useState(!1),[r,s]=N.useState("login");function o(d="login"){s(d),n(!0)}function c(){n(!1)}return l.jsx(wN.Provider,{value:{modalAbierto:e,setModalAbierto:n,abrirModal:o,cerrarModal:c,modo:r,setModo:s},children:t})}const Zv=N.createContext({});function ex(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const tx=typeof window<"u",_N=tx?N.useLayoutEffect:N.useEffect,Ym=N.createContext(null);function nx(t,e){t.indexOf(e)===-1&&t.push(e)}function rx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pi=(t,e,n)=>n>e?e:n<t?t:n;let sx=()=>{};const Ri={},EN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SN(t){return typeof t=="object"&&t!==null}const TN=t=>/^0[^.\s]+$/u.test(t);function ix(t){let e;return()=>(e===void 0&&(e=t()),e)}const os=t=>t,GV=(t,e)=>n=>e(t(n)),fd=(...t)=>t.reduce(GV),Bu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ox{constructor(){this.subscriptions=[]}add(e){return nx(this.subscriptions,e),()=>rx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xs=t=>t*1e3,Js=t=>t/1e3;function CN(t,e){return e?t*(1e3/e):0}const NN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KV=1e-7,QV=12;function YV(t,e,n,r,s){let o,c,d=0;do c=e+(n-e)/2,o=NN(c,r,s)-t,o>0?n=c:e=c;while(Math.abs(o)>KV&&++d<QV);return c}function md(t,e,n,r){if(t===e&&n===r)return os;const s=o=>YV(o,0,1,t,n);return o=>o===0||o===1?o:NN(s(o),e,r)}const kN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jN=t=>e=>1-t(1-e),AN=md(.33,1.53,.69,.99),ax=jN(AN),IN=kN(ax),PN=t=>(t*=2)<1?.5*ax(t):.5*(2-Math.pow(2,-10*(t-1))),lx=t=>1-Math.sin(Math.acos(t)),RN=jN(lx),DN=kN(lx),XV=md(.42,0,1,1),JV=md(0,0,.58,1),VN=md(.42,0,.58,1),ZV=t=>Array.isArray(t)&&typeof t[0]!="number",MN=t=>Array.isArray(t)&&typeof t[0]=="number",eM={linear:os,easeIn:XV,easeInOut:VN,easeOut:JV,circIn:lx,circInOut:DN,circOut:RN,backIn:ax,backInOut:IN,backOut:AN,anticipate:PN},tM=t=>typeof t=="string",n_=t=>{if(MN(t)){sx(t.length===4);const[e,n,r,s]=t;return md(e,n,r,s)}else if(tM(t))return eM[t];return t},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],r_={value:null};function nM(t,e){let n=new Set,r=new Set,s=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function m(g){c.has(g)&&(y.schedule(g),t()),h++,g(d)}const y={schedule:(g,v=!1,_=!1)=>{const S=_&&s?n:r;return v&&c.add(g),S.has(g)||S.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(d=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),e&&r_.value&&r_.value.frameloop[e].push(h),h=0,n.clear(),s=!1,o&&(o=!1,y.process(g))}};return y}const rM=40;function ON(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Gh.reduce((F,H)=>(F[H]=nM(o,e?H:void 0),F),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:y,update:g,preRender:v,render:_,postRender:C}=c,S=()=>{const F=Ri.useManualTiming?s.timestamp:performance.now();n=!1,Ri.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,rM),1)),s.timestamp=F,s.isProcessing=!0,d.process(s),h.process(s),m.process(s),y.process(s),g.process(s),v.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},k=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Gh.reduce((F,H)=>{const Q=c[H];return F[H]=(G,V=!1,I=!1)=>(n||k(),Q.schedule(G,V,I)),F},{}),cancel:F=>{for(let H=0;H<Gh.length;H++)c[Gh[H]].cancel(F)},state:s,steps:c}}const{schedule:Bt,cancel:Io,state:Mn,steps:r0}=ON(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0);let bf;function sM(){bf=void 0}const xr={now:()=>(bf===void 0&&xr.set(Mn.isProcessing||Ri.useManualTiming?Mn.timestamp:performance.now()),bf),set:t=>{bf=t,queueMicrotask(sM)}},LN=t=>e=>typeof e=="string"&&e.startsWith(t),cx=LN("--"),iM=LN("var(--"),ux=t=>iM(t)?oM.test(t.split("/*")[0].trim()):!1,oM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$u={...fc,transform:t=>Pi(0,1,t)},Kh={...fc,default:1},wu=t=>Math.round(t*1e5)/1e5,dx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aM(t){return t==null}const lM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hx=(t,e)=>n=>!!(typeof n=="string"&&lM.test(n)&&n.startsWith(t)||e&&!aM(n)&&Object.prototype.hasOwnProperty.call(n,e)),FN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,c,d]=r.match(dx);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},cM=t=>Pi(0,255,t),s0={...fc,transform:t=>Math.round(cM(t))},pa={test:hx("rgb","red"),parse:FN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+s0.transform(t)+", "+s0.transform(e)+", "+s0.transform(n)+", "+wu($u.transform(r))+")"};function uM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const oy={test:hx("#"),parse:uM,transform:pa.transform},pd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),co=pd("deg"),Zs=pd("%"),Qe=pd("px"),dM=pd("vh"),hM=pd("vw"),s_={...Zs,parse:t=>Zs.parse(t)/100,transform:t=>Zs.transform(t*100)},Ol={test:hx("hsl","hue"),parse:FN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zs.transform(wu(e))+", "+Zs.transform(wu(n))+", "+wu($u.transform(r))+")"},mn={test:t=>pa.test(t)||oy.test(t)||Ol.test(t),parse:t=>pa.test(t)?pa.parse(t):Ol.test(t)?Ol.parse(t):oy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pa.transform(t):Ol.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},fM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dx))==null?void 0:e.length)||0)+(((n=t.match(fM))==null?void 0:n.length)||0)>0}const UN="number",BN="color",pM="var",gM="var(",i_="${}",yM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const d=e.replace(yM,h=>(mn.test(h)?(r.color.push(o),s.push(BN),n.push(mn.parse(h))):h.startsWith(gM)?(r.var.push(o),s.push(pM),n.push(h)):(r.number.push(o),s.push(UN),n.push(parseFloat(h))),++o,i_)).split(i_);return{values:n,split:d,indexes:r,types:s}}function $N(t){return zu(t).values}function zN(t){const{split:e,types:n}=zu(t),r=e.length;return s=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],s[c]!==void 0){const d=n[c];d===UN?o+=wu(s[c]):d===BN?o+=mn.transform(s[c]):o+=s[c]}return o}}const vM=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function xM(t){const e=$N(t);return zN(t)(e.map(vM))}const Po={test:mM,parse:$N,createTransformer:zN,getAnimatableNone:xM};function i0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,c=0;if(!e)s=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;s=i0(h,d,t+1/3),o=i0(h,d,t),c=i0(h,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function sm(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,o0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},wM=[oy,pa,Ol],_M=t=>wM.find(e=>e.test(t));function o_(t){const e=_M(t);if(!e)return!1;let n=e.parse(t);return e===Ol&&(n=bM(n)),n}const a_=(t,e)=>{const n=o_(t),r=o_(e);if(!n||!r)return sm(t,e);const s={...n};return o=>(s.red=o0(n.red,r.red,o),s.green=o0(n.green,r.green,o),s.blue=o0(n.blue,r.blue,o),s.alpha=qt(n.alpha,r.alpha,o),pa.transform(s))},ay=new Set(["none","hidden"]);function EM(t,e){return ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SM(t,e){return n=>qt(t,e,n)}function fx(t){return typeof t=="number"?SM:typeof t=="string"?ux(t)?sm:mn.test(t)?a_:NM:Array.isArray(t)?HN:typeof t=="object"?mn.test(t)?a_:TM:sm}function HN(t,e){const n=[...t],r=n.length,s=t.map((o,c)=>fx(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=s[c](o);return n}}function TM(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=fx(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function CM(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],c=t.indexes[o][r[o]],d=t.values[c]??0;n[s]=d,r[o]++}return n}const NM=(t,e)=>{const n=Po.createTransformer(e),r=zu(t),s=zu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ay.has(t)&&!s.values.length||ay.has(e)&&!r.values.length?EM(t,e):fd(HN(CM(r,s),s.values),n):sm(t,e)};function WN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):fx(t)(t,e)}const kM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>Io(e),now:()=>Mn.isProcessing?Mn.timestamp:xr.now()}},qN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},im=2e4;function mx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<im;)e+=n,r=t.next(e);return e>=im?1/0:e}function jM(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(mx(r),im);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Js(s)}}const AM=5;function GN(t,e,n){const r=Math.max(e-AM,0);return CN(n-t(r),e-r)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a0=.001;function IM({duration:t=Jt.duration,bounce:e=Jt.bounce,velocity:n=Jt.velocity,mass:r=Jt.mass}){let s,o,c=1-e;c=Pi(Jt.minDamping,Jt.maxDamping,c),t=Pi(Jt.minDuration,Jt.maxDuration,Js(t)),c<1?(s=m=>{const y=m*c,g=y*t,v=y-n,_=ly(m,c),C=Math.exp(-g);return a0-v/_*C},o=m=>{const g=m*c*t,v=g*n+n,_=Math.pow(c,2)*Math.pow(m,2)*t,C=Math.exp(-g),S=ly(Math.pow(m,2),c);return(-s(m)+a0>0?-1:1)*((v-_)*C)/S}):(s=m=>{const y=Math.exp(-m*t),g=(m-n)*t+1;return-a0+y*g},o=m=>{const y=Math.exp(-m*t),g=(n-m)*(t*t);return y*g});const d=5/t,h=RM(s,o,d);if(t=Xs(t),isNaN(h))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const PM=12;function RM(t,e,n){let r=n;for(let s=1;s<PM;s++)r=r-t(r)/e(r);return r}function ly(t,e){return t*Math.sqrt(1-e*e)}const DM=["duration","bounce"],VM=["stiffness","damping","mass"];function l_(t,e){return e.some(n=>t[n]!==void 0)}function MM(t){let e={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...t};if(!l_(t,VM)&&l_(t,DM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Pi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Jt.mass,stiffness:s,damping:o}}else{const n=IM(t);e={...e,...n,mass:Jt.mass},e.isResolvedFromDuration=!0}return e}function om(t=Jt.visualDuration,e=Jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:m,mass:y,duration:g,velocity:v,isResolvedFromDuration:_}=MM({...n,velocity:-Js(n.velocity||0)}),C=v||0,S=m/(2*Math.sqrt(h*y)),k=c-o,D=Js(Math.sqrt(h/y)),M=Math.abs(k)<5;r||(r=M?Jt.restSpeed.granular:Jt.restSpeed.default),s||(s=M?Jt.restDelta.granular:Jt.restDelta.default);let F;if(S<1){const Q=ly(D,S);F=G=>{const V=Math.exp(-S*D*G);return c-V*((C+S*D*k)/Q*Math.sin(Q*G)+k*Math.cos(Q*G))}}else if(S===1)F=Q=>c-Math.exp(-D*Q)*(k+(C+D*k)*Q);else{const Q=D*Math.sqrt(S*S-1);F=G=>{const V=Math.exp(-S*D*G),I=Math.min(Q*G,300);return c-V*((C+S*D*k)*Math.sinh(I)+Q*k*Math.cosh(I))/Q}}const H={calculatedDuration:_&&g||null,next:Q=>{const G=F(Q);if(_)d.done=Q>=g;else{let V=Q===0?C:0;S<1&&(V=Q===0?Xs(C):GN(F,Q,G));const I=Math.abs(V)<=r,j=Math.abs(c-G)<=s;d.done=I&&j}return d.value=d.done?c:G,d},toString:()=>{const Q=Math.min(mx(H),im),G=qN(V=>H.next(Q*V).value,Q,30);return Q+"ms "+G},toTransition:()=>{}};return H}om.applyToOptions=t=>{const e=jM(t,100,om);return t.ease=e.ease,t.duration=Xs(e.duration),t.type="keyframes",t};function cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:y}){const g=t[0],v={done:!1,value:g},_=I=>d!==void 0&&I<d||h!==void 0&&I>h,C=I=>d===void 0?h:h===void 0||Math.abs(d-I)<Math.abs(h-I)?d:h;let S=n*e;const k=g+S,D=c===void 0?k:c(k);D!==k&&(S=D-g);const M=I=>-S*Math.exp(-I/r),F=I=>D+M(I),H=I=>{const j=M(I),E=F(I);v.done=Math.abs(j)<=m,v.value=v.done?D:E};let Q,G;const V=I=>{_(v.value)&&(Q=I,G=om({keyframes:[v.value,C(v.value)],velocity:GN(F,I,v.value),damping:s,stiffness:o,restDelta:m,restSpeed:y}))};return V(0),{calculatedDuration:null,next:I=>{let j=!1;return!G&&Q===void 0&&(j=!0,H(I),V(I)),Q!==void 0&&I>=Q?G.next(I-Q):(!j&&H(I),v)}}}function OM(t,e,n){const r=[],s=n||Ri.mix||WN,o=t.length-1;for(let c=0;c<o;c++){let d=s(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||os:e;d=fd(h,d)}r.push(d)}return r}function LM(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(sx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=OM(e,r,s),h=d.length,m=y=>{if(c&&y<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(y<t[g+1]);g++);const v=Bu(t[g],t[g+1],y);return d[g](v)};return n?y=>m(Pi(t[0],t[o-1],y)):m}function FM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Bu(0,e,r);t.push(qt(n,1,s))}}function UM(t){const e=[0];return FM(e,t.length-1),e}function BM(t,e){return t.map(n=>n*e)}function $M(t,e){return t.map(()=>e||VN).splice(0,t.length-1)}function _u({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=ZV(r)?r.map(n_):n_(r),o={done:!1,value:e[0]},c=BM(n&&n.length===e.length?n:UM(e),t),d=LM(c,e,{ease:Array.isArray(s)?s:$M(e,s)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const zM=t=>t!==null;function px(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(zM),d=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const HM={decay:cy,inertia:cy,tween:_u,keyframes:_u,spring:om};function KN(t){typeof t.type=="string"&&(t.type=HM[t.type])}class gx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const WM=t=>t/100;class yx extends gx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==xr.now()&&this.tick(xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KN(e);const{type:n=_u,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=n||_u;h!==_u&&typeof d[0]!="number"&&(this.mixKeyframes=fd(WM,WN(d[0],d[1])),d=[0,100]);const m=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=mx(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:g,repeatType:v,repeatDelay:_,type:C,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-m*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,H=r;if(g){const I=Math.min(this.currentTime,s)/d;let j=Math.floor(I),E=I%1;!E&&I>=1&&(E=1),E===1&&j--,j=Math.min(j,g+1),!!(j%2)&&(v==="reverse"?(E=1-E,_&&(E-=_/d)):v==="mirror"&&(H=c)),F=Pi(0,1,E)*d}const Q=M?{done:!1,value:y[0]}:H.next(F);o&&(Q.value=o(Q.value));let{done:G}=Q;!M&&h!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return V&&C!==cy&&(Q.value=px(y,this.options,k,this.speed)),S&&S(Q.value),V&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Js(this.calculatedDuration)}get time(){return Js(this.currentTime)}set time(e){var n;e=Xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Js(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=kM,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function qM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ga=t=>t*180/Math.PI,uy=t=>{const e=ga(Math.atan2(t[1],t[0]));return dy(e)},GM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uy,rotateZ:uy,skewX:t=>ga(Math.atan(t[1])),skewY:t=>ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),c_=uy,u_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),d_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),KM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u_,scaleY:d_,scale:t=>(u_(t)+d_(t))/2,rotateX:t=>dy(ga(Math.atan2(t[6],t[5]))),rotateY:t=>dy(ga(Math.atan2(-t[2],t[0]))),rotateZ:c_,rotate:c_,skewX:t=>ga(Math.atan(t[4])),skewY:t=>ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hy(t){return t.includes("scale")?1:0}function fy(t,e){if(!t||t==="none")return hy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=KM,s=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=GM,s=d}if(!s)return hy(e);const o=r[e],c=s[1].split(",").map(YM);return typeof o=="function"?o(c):c[o]}const QM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fy(n,e)};function YM(t){return parseFloat(t.trim())}const mc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(mc),h_=t=>t===fc||t===Qe,XM=new Set(["x","y","z"]),JM=mc.filter(t=>!XM.has(t));function ZM(t){const e=[];return JM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fy(e,"x"),y:(t,{transform:e})=>fy(e,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const _a=new Set;let my=!1,py=!1,gy=!1;function QN(){if(py){const t=Array.from(_a).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=ZM(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,c])=>{var d;(d=r.getValue(o))==null||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}py=!1,my=!1,_a.forEach(t=>t.complete(gy)),_a.clear()}function YN(){_a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(py=!0)})}function eO(){gy=!0,YN(),QN(),gy=!1}class vx{constructor(e,n,r,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(_a.add(this),my||(my=!0,Bt.read(YN),Bt.resolveKeyframes(QN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}qM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_a.delete(this)}cancel(){this.state==="scheduled"&&(_a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tO=t=>t.startsWith("--");function nO(t,e,n){tO(e)?t.style.setProperty(e,n):t.style[e]=n}const rO=ix(()=>window.ScrollTimeline!==void 0),sO={};function iO(t,e){const n=ix(t);return()=>sO[e]??n()}const XN=iO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,f_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function JN(t,e){if(t)return typeof t=="function"?XN()?qN(t,e):"ease-out":MN(t)?du(t):Array.isArray(t)?t.map(n=>JN(n,e)||f_.easeOut):f_[t]}function oO(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},m=void 0){const y={[e]:n};h&&(y.offset=h);const g=JN(d,s);Array.isArray(g)&&(y.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),t.animate(y,v)}function ZN(t){return typeof t=="function"&&"applyToOptions"in t}function aO({type:t,...e}){return ZN(t)&&XN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lO extends gx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,sx(typeof e.type!="string");const m=aO(e);this.animation=oO(n,r,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=px(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):nO(n,r,y),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Js(Number(e))}get time(){return Js(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rO()?(this.animation.timeline=e,os):n(this)}}const ek={anticipate:PN,backInOut:IN,circInOut:DN};function cO(t){return t in ek}function uO(t){typeof t.ease=="string"&&cO(t.ease)&&(t.ease=ek[t.ease])}const m_=10;class dO extends lO{constructor(e){uO(e),KN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new yx({...c,autoplay:!1}),h=Xs(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-m_).value,d.sample(h).value,m_),d.stop()}}const p_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Po.test(t)||t==="0")&&!t.startsWith("url("));function hO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=p_(s,e),d=p_(o,e);return!c||!d?!1:hO(t)||(n==="spring"||ZN(n))&&r}function xx(t){return SN(t)&&"offsetHeight"in t}const mO=new Set(["opacity","clipPath","filter","transform"]),pO=ix(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gO(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:c}=t;if(!xx((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return pO()&&n&&mO.has(n)&&(n!=="transform"||!h)&&!d&&!r&&s!=="mirror"&&o!==0&&c!=="inertia"}const yO=40;class vO extends gx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:m,element:y,...g}){var C;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=xr.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:c,name:h,motionValue:m,element:y,...g},_=(y==null?void 0:y.KeyframeResolver)||vx;this.keyframeResolver=new _(d,(S,k,D)=>this.onKeyframesResolved(S,k,v,!D),h,m,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:m,onUpdate:y}=r;this.resolvedAt=xr.now(),fO(e,o,c,d)||((Ri.instantAnimations||!h)&&(y==null||y(px(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>yO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!m&&gO(v)?new dO({...v,element:v.motionValue.owner.current}):new yx(v);_.finished.then(()=>this.notifyFinished()).catch(os),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),eO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const xO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bO(t){const e=xO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tk(t,e,n=1){const[r,s]=bO(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return EN(c)?parseFloat(c):c}return ux(s)?tk(s,e,n+1):s}function bx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const nk=new Set(["width","height","top","left","right","bottom",...mc]),wO={test:t=>t==="auto",parse:t=>t},rk=t=>e=>e.test(t),sk=[fc,Qe,Zs,co,hM,dM,wO],g_=t=>sk.find(rk(t));function _O(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TN(t):!0}const EO=new Set(["brightness","contrast","saturate","opacity"]);function SO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dx)||[];if(!r)return t;const s=n.replace(r,"");let o=EO.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const TO=/\b([a-z-]*)\(.*?\)/gu,yy={...Po,getAnimatableNone:t=>{const e=t.match(TO);return e?e.map(SO).join(" "):t}},y_={...fc,transform:Math.round},CO={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:co,skewX:co,skewY:co,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:$u,originX:s_,originY:s_,originZ:Qe},wx={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe,...CO,zIndex:y_,fillOpacity:$u,strokeOpacity:$u,numOctaves:y_},NO={...wx,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:yy,WebkitFilter:yy},ik=t=>NO[t];function ok(t,e){let n=ik(t);return n!==yy&&(n=Po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kO=new Set(["auto","none","0"]);function jO(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!kO.has(o)&&zu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=ok(n,s)}class AO extends vx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),ux(m))){const y=tk(m,n.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!nk.has(r)||e.length!==2)return;const[s,o]=e,c=g_(s),d=g_(o);if(c!==d)if(h_(c)&&h_(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else wa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||_O(e[s]))&&r.push(s);r.length&&jO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function IO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const ak=(t,e)=>e&&typeof t=="number"?e.transform(t):t,v_=30,PO=t=>!isNaN(parseFloat(t));class RO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var c,d;const o=xr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ox);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>v_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v_);return CN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tc(t,e){return new RO(t,e)}const{schedule:_x}=ON(queueMicrotask,!1),Es={x:!1,y:!1};function lk(){return Es.x||Es.y}function DO(t){return t==="x"||t==="y"?Es[t]?null:(Es[t]=!0,()=>{Es[t]=!1}):Es.x||Es.y?null:(Es.x=Es.y=!0,()=>{Es.x=Es.y=!1})}function ck(t,e){const n=IO(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function x_(t){return!(t.pointerType==="touch"||lk())}function VO(t,e,n={}){const[r,s,o]=ck(t,n),c=d=>{if(!x_(d))return;const{target:h}=d,m=e(h,d);if(typeof m!="function"||!h)return;const y=g=>{x_(g)&&(m(g),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,s)};return r.forEach(d=>{d.addEventListener("pointerenter",c,s)}),o}const uk=(t,e)=>e?t===e?!0:uk(t,e.parentElement):!1,Ex=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OO(t){return MO.has(t.tagName)||t.tabIndex!==-1}const wf=new WeakSet;function b_(t){return e=>{e.key==="Enter"&&t(e)}}function l0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=b_(()=>{if(wf.has(n))return;l0(n,"down");const s=b_(()=>{l0(n,"up")}),o=()=>l0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function w_(t){return Ex(t)&&!lk()}function FO(t,e,n={}){const[r,s,o]=ck(t,n),c=d=>{const h=d.currentTarget;if(!w_(d))return;wf.add(h);const m=e(h,d),y=(_,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),wf.has(h)&&wf.delete(h),w_(_)&&typeof m=="function"&&m(_,{success:C})},g=_=>{y(_,h===window||h===document||n.useGlobalTarget||uk(h,_.target))},v=_=>{y(_,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),xx(d)&&(d.addEventListener("focus",m=>LO(m,s)),!OO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function dk(t){return SN(t)&&"ownerSVGElement"in t}function UO(t){return dk(t)&&t.tagName==="svg"}const Xn=t=>!!(t&&t.getVelocity),BO=[...sk,mn,Po],$O=t=>BO.find(rk(t)),Sx=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class zO extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=xx(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HO({children:t,isPresent:e,anchorX:n,root:r}){const s=N.useId(),o=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=N.useContext(Sx);return N.useInsertionEffect(()=>{const{width:h,height:m,top:y,left:g,right:v}=c.current;if(e||!o.current||!h||!m)return;const _=n==="left"?`left: ${g}`:`right: ${v}`;o.current.dataset.motionPopId=s;const C=document.createElement("style");d&&(C.nonce=d);const S=r??document.head;return S.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${y}px !important;
          }
        `),()=>{S.removeChild(C),S.contains(C)&&S.removeChild(C)}},[e]),l.jsx(zO,{isPresent:e,childRef:o,sizeRef:c,children:N.cloneElement(t,{ref:o})})}const WO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:c,anchorX:d,root:h})=>{const m=ex(qO),y=N.useId();let g=!0,v=N.useMemo(()=>(g=!1,{id:y,initial:e,isPresent:n,custom:s,onExitComplete:_=>{m.set(_,!0);for(const C of m.values())if(!C)return;r&&r()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,r]);return o&&g&&(v={...v}),N.useMemo(()=>{m.forEach((_,C)=>m.set(C,!1))},[n]),N.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=l.jsx(HO,{isPresent:n,anchorX:d,root:h,children:t})),l.jsx(Ym.Provider,{value:v,children:t})};function qO(){return new Map}function hk(t=!0){const e=N.useContext(Ym);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=N.useId();N.useEffect(()=>{if(t)return s(o)},[t]);const c=N.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const Qh=t=>t.key||"";function __(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Gt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[m,y]=hk(c),g=N.useMemo(()=>__(t),[t]),v=c&&!m?[]:g.map(Qh),_=N.useRef(!0),C=N.useRef(g),S=ex(()=>new Map),[k,D]=N.useState(g),[M,F]=N.useState(g);_N(()=>{_.current=!1,C.current=g;for(let G=0;G<M.length;G++){const V=Qh(M[G]);v.includes(V)?S.delete(V):S.get(V)!==!0&&S.set(V,!1)}},[M,v.length,v.join("-")]);const H=[];if(g!==k){let G=[...g];for(let V=0;V<M.length;V++){const I=M[V],j=Qh(I);v.includes(j)||(G.splice(V,0,I),H.push(I))}return o==="wait"&&H.length&&(G=H),F(__(G)),D(g),null}const{forceRender:Q}=N.useContext(Zv);return l.jsx(l.Fragment,{children:M.map(G=>{const V=Qh(G),I=c&&!m?!1:g===M||v.includes(V),j=()=>{if(S.has(V))S.set(V,!0);else return;let E=!0;S.forEach(U=>{U||(E=!1)}),E&&(Q==null||Q(),F(C.current),c&&(y==null||y()),r&&r())};return l.jsx(WO,{isPresent:I,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:I?void 0:j,anchorX:d,children:G},V)})})},fk=N.createContext({strict:!1}),E_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const t in E_)nc[t]={isEnabled:e=>E_[t].some(n=>!!e[n])};function GO(t){for(const e in t)nc[e]={...nc[e],...t[e]}}const KO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KO.has(t)}let mk=t=>!am(t);function QO(t){typeof t=="function"&&(mk=e=>e.startsWith("on")?!am(e):t(e))}try{QO(require("@emotion/is-prop-valid").default)}catch{}function YO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mk(s)||n===!0&&am(s)||!e&&!am(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function XO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Xm=N.createContext({});function Jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hu(t){return typeof t=="string"||Array.isArray(t)}const Tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cx=["initial",...Tx];function Zm(t){return Jm(t.animate)||Cx.some(e=>Hu(t[e]))}function pk(t){return!!(Zm(t)||t.variants)}function JO(t,e){if(Zm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZO(t){const{initial:e,animate:n}=JO(t,N.useContext(Xm));return N.useMemo(()=>({initial:e,animate:n}),[S_(e),S_(n)])}function S_(t){return Array.isArray(t)?t.join(" "):t}const e8=Symbol.for("motionComponentSymbol");function Ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function t8(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ll(n)&&(n.current=r))},[e])}const Nx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n8="framerAppearId",gk="data-"+Nx(n8),yk=N.createContext({});function r8(t,e,n,r,s){var S,k;const{visualElement:o}=N.useContext(Xm),c=N.useContext(fk),d=N.useContext(Ym),h=N.useContext(Sx).reducedMotion,m=N.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const y=m.current,g=N.useContext(yk);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&s8(m.current,n,s,g);const v=N.useRef(!1);N.useInsertionEffect(()=>{y&&v.current&&y.update(n,d)});const _=n[gk],C=N.useRef(!!_&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,_))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,_)));return _N(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),_x.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,_)}),C.current=!1))}),y}function s8(t,e,n,r){const{layoutId:s,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vk(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||d&&Ll(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:h,layoutRoot:m})}function vk(t){if(t)return t.options.allowProjection!==!1?t.projection:vk(t.parent)}function i8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&GO(t);function o(d,h){let m;const y={...N.useContext(Sx),...d,layoutId:o8(d)},{isStatic:g}=y,v=ZO(d),_=r(d,g);if(!g&&tx){a8();const C=l8(y);m=C.MeasureLayout,v.visualElement=r8(s,_,y,e,C.ProjectionNode)}return l.jsxs(Xm.Provider,{value:v,children:[m&&v.visualElement?l.jsx(m,{visualElement:v.visualElement,...y}):null,n(s,d,t8(_,v.visualElement,h),_,g,v.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const c=N.forwardRef(o);return c[e8]=s,c}function o8({layoutId:t}){const e=N.useContext(Zv).id;return e&&t!==void 0?e+"-"+t:t}function a8(t,e){N.useContext(fk).strict}function l8(t){const{drag:e,layout:n}=nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wu={};function c8(t){for(const e in t)Wu[e]=t[e],cx(e)&&(Wu[e].isCSSVariable=!0)}function xk(t,{layout:e,layoutId:n}){return pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wu[t]||t==="opacity")}const u8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d8=mc.length;function h8(t,e,n){let r="",s=!0;for(let o=0;o<d8;o++){const c=mc[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=ak(d,wx[c]);if(!h){s=!1;const y=u8[c]||c;r+=`${y}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function kx(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(pc.has(h)){c=!0;continue}else if(cx(h)){s[h]=m;continue}else{const y=ak(m,wx[h]);h.startsWith("origin")?(d=!0,o[h]=y):r[h]=y}}if(e.transform||(c||n?r.transform=h8(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:y=0}=o;r.transformOrigin=`${h} ${m} ${y}`}}const jx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bk(t,e,n){for(const r in e)!Xn(e[r])&&!xk(r,n)&&(t[r]=e[r])}function f8({transformTemplate:t},e){return N.useMemo(()=>{const n=jx();return kx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function m8(t,e){const n=t.style||{},r={};return bk(r,n,t),Object.assign(r,f8(t,e)),r}function p8(t,e){const n={},r=m8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const g8={offset:"stroke-dashoffset",array:"stroke-dasharray"},y8={offset:"strokeDashoffset",array:"strokeDasharray"};function v8(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?g8:y8;t[o.offset]=Qe.transform(-r);const c=Qe.transform(e),d=Qe.transform(n);t[o.array]=`${c} ${d}`}function wk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...d},h,m,y){if(kx(t,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&v8(g,s,o,c,!1)}const _k=()=>({...jx(),attrs:{}}),Ek=t=>typeof t=="string"&&t.toLowerCase()==="svg";function x8(t,e,n,r){const s=N.useMemo(()=>{const o=_k();return wk(o,e,Ek(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};bk(o,t.style,t),s.style={...o,...s.style}}return s}const b8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ax(t){return typeof t!="string"||t.includes("-")?!1:!!(b8.indexOf(t)>-1||/[A-Z]/u.test(t))}function w8(t=!1){return(n,r,s,{latestValues:o},c)=>{const h=(Ax(n)?x8:p8)(r,o,c,n),m=YO(r,typeof n=="string",t),y=n!==N.Fragment?{...m,...h,ref:s}:{},{children:g}=r,v=N.useMemo(()=>Xn(g)?g.get():g,[g]);return N.createElement(n,{...y,children:v})}}function T_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ix(t,e,n,r){if(typeof e=="function"){const[s,o]=T_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=T_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function _f(t){return Xn(t)?t.get():t}function _8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:E8(n,r,s,t),renderState:e()}}const Sk=t=>(e,n)=>{const r=N.useContext(Xm),s=N.useContext(Ym),o=()=>_8(t,e,r,s);return n?o():ex(o)};function E8(t,e,n,r){const s={},o=r(t,{});for(const v in o)s[v]=_f(o[v]);let{initial:c,animate:d}=t;const h=Zm(t),m=pk(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const g=y?d:c;if(g&&typeof g!="boolean"&&!Jm(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const C=Ix(t,v[_]);if(C){const{transitionEnd:S,transition:k,...D}=C;for(const M in D){let F=D[M];if(Array.isArray(F)){const H=y?F.length-1:0;F=F[H]}F!==null&&(s[M]=F)}for(const M in S)s[M]=S[M]}}}return s}function Px(t,e,n){var o;const{style:r}=t,s={};for(const c in r)(Xn(r[c])||e.style&&Xn(e.style[c])||xk(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const S8={useVisualState:Sk({scrapeMotionValuesFromProps:Px,createRenderState:jx})};function Tk(t,e,n){const r=Px(t,e,n);for(const s in t)if(Xn(t[s])||Xn(e[s])){const o=mc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const T8={useVisualState:Sk({scrapeMotionValuesFromProps:Tk,createRenderState:_k})};function C8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const c={...Ax(r)?T8:S8,preloadedFeatures:t,useRender:w8(s),createVisualElement:e,Component:r};return i8(c)}}function qu(t,e,n){const r=t.getProps();return Ix(r,e,n!==void 0?n:r.custom,t)}const vy=t=>Array.isArray(t);function N8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tc(n))}function k8(t){return vy(t)?t[t.length-1]||0:t}function j8(t,e){const n=qu(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const c in o){const d=k8(o[c]);N8(t,c,d)}}function A8(t){return!!(Xn(t)&&t.add)}function xy(t,e){const n=t.getValue("willChange");if(A8(n))return n.add(e);if(!n&&Ri.WillChange){const r=new Ri.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ck(t){return t.props[gk]}const I8=t=>t!==null;function P8(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(I8),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const R8={type:"spring",stiffness:500,damping:25,restSpeed:10},D8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),V8={type:"keyframes",duration:.8},M8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O8=(t,{keyframes:e})=>e.length>2?V8:pc.has(t)?t.startsWith("scale")?D8(e[1]):R8:M8;function L8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const Rx=(t,e,n,r={},s,o)=>c=>{const d=bx(r,t)||{},h=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Xs(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:s};L8(d)||Object.assign(y,O8(t,y)),y.duration&&(y.duration=Xs(y.duration)),y.repeatDelay&&(y.repeatDelay=Xs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(g=!0)),(Ri.instantAnimations||Ri.skipAnimations)&&(g=!0,y.duration=0,y.delay=0),y.allowFlatten=!d.type&&!d.ease,g&&!o&&e.get()!==void 0){const v=P8(y.keyframes,d);if(v!==void 0){Bt.update(()=>{y.onUpdate(v),y.onComplete()});return}}return d.isSync?new yx(y):new vO(y)};function F8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Nk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(o=r);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const y in d){const g=t.getValue(y,t.latestValues[y]??null),v=d[y];if(v===void 0||m&&F8(m,y))continue;const _={delay:n,...bx(o||{},y)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===C&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const D=Ck(t);if(D){const M=window.MotionHandoffAnimation(D,y,Bt);M!==null&&(_.startTime=M,S=!0)}}xy(t,y),g.start(Rx(y,g,v,t.shouldReduceMotion&&nk.has(y)?{type:!1}:_,t,S));const k=g.animation;k&&h.push(k)}return c&&Promise.all(h).then(()=>{Bt.update(()=>{c&&j8(t,c)})}),h}function by(t,e,n={}){var h;const r=qu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Nk(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:v}=s;return U8(t,e,m,y,g,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,y]=d==="beforeChildren"?[o,c]:[c,o];return m().then(()=>y())}else return Promise.all([o(),c(n.delay)])}function U8(t,e,n=0,r=0,s=0,o=1,c){const d=[],h=t.variantChildren.size,m=(h-1)*s,y=typeof r=="function",g=y?v=>r(v,h):o===1?(v=0)=>v*s:(v=0)=>m-v*s;return Array.from(t.variantChildren).sort(B8).forEach((v,_)=>{v.notify("AnimationStart",e),d.push(by(v,e,{...c,delay:n+(y?0:r)+g(_)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(d)}function B8(t,e){return t.sortNodePosition(e)}function $8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>by(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=by(t,e,n);else{const s=typeof e=="function"?qu(t,e,n.custom):e;r=Promise.all(Nk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function kk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const z8=Cx.length;function jk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<z8;n++){const r=Cx[n],s=t.props[r];(Hu(s)||s===!1)&&(e[r]=s)}return e}const H8=[...Tx].reverse(),W8=Tx.length;function q8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$8(t,n,r)))}function G8(t){let e=q8(t),n=C_(),r=!0;const s=h=>(m,y)=>{var v;const g=qu(t,y,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:_,transitionEnd:C,...S}=g;m={...m,...S,...C}}return m};function o(h){e=h(t)}function c(h){const{props:m}=t,y=jk(t.parent)||{},g=[],v=new Set;let _={},C=1/0;for(let k=0;k<W8;k++){const D=H8[k],M=n[D],F=m[D]!==void 0?m[D]:y[D],H=Hu(F),Q=D===h?M.isActive:null;Q===!1&&(C=k);let G=F===y[D]&&F!==m[D]&&H;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),M.protectedKeys={..._},!M.isActive&&Q===null||!F&&!M.prevProp||Jm(F)||typeof F=="boolean")continue;const V=K8(M.prevProp,F);let I=V||D===h&&M.isActive&&!G&&H||k>C&&H,j=!1;const E=Array.isArray(F)?F:[F];let U=E.reduce(s(D),{});Q===!1&&(U={});const{prevResolvedValues:$={}}=M,P={...$,...U},ye=we=>{I=!0,v.has(we)&&(j=!0,v.delete(we)),M.needsAnimating[we]=!0;const W=t.getValue(we);W&&(W.liveStyle=!1)};for(const we in P){const W=U[we],ae=$[we];if(_.hasOwnProperty(we))continue;let L=!1;vy(W)&&vy(ae)?L=!kk(W,ae):L=W!==ae,L?W!=null?ye(we):v.add(we):W!==void 0&&v.has(we)?ye(we):M.protectedKeys[we]=!0}M.prevProp=F,M.prevResolvedValues=U,M.isActive&&(_={..._,...U}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(G&&V)||j)&&g.push(...E.map(we=>({animation:we,options:{type:D}})))}if(v.size){const k={};if(typeof m.initial!="boolean"){const D=qu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);D&&D.transition&&(k.transition=D.transition)}v.forEach(D=>{const M=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),k[D]=M??null}),g.push({animation:k})}let S=!!g.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function d(h,m){var g;if(n[h].isActive===m)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const y=c(h);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=C_(),r=!0}}}function K8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kk(e,t):!1}function da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C_(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Q8 extends Fo{constructor(e){super(e),e.animationState||(e.animationState=G8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Y8=0;class X8 extends Fo{constructor(){super(...arguments),this.id=Y8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const J8={animation:{Feature:Q8},exit:{Feature:X8}};function Gu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gd(t){return{point:{x:t.pageX,y:t.pageY}}}const Z8=t=>e=>Ex(e)&&t(e,gd(e));function Eu(t,e,n,r){return Gu(t,e,Z8(n),r)}function Ak({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Ik=1e-4,nL=1-Ik,rL=1+Ik,Pk=.01,sL=0-Pk,iL=0+Pk;function ir(t){return t.max-t.min}function oL(t,e,n){return Math.abs(t-e)<=n}function N_(t,e,n,r=.5){t.origin=r,t.originPoint=qt(e.min,e.max,t.origin),t.scale=ir(n)/ir(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nL&&t.scale<=rL||isNaN(t.scale))&&(t.scale=1),(t.translate>=sL&&t.translate<=iL||isNaN(t.translate))&&(t.translate=0)}function Su(t,e,n,r){N_(t.x,e.x,n.x,r?r.originX:void 0),N_(t.y,e.y,n.y,r?r.originY:void 0)}function k_(t,e,n){t.min=n.min+e.min,t.max=t.min+ir(e)}function aL(t,e,n){k_(t.x,e.x,n.x),k_(t.y,e.y,n.y)}function j_(t,e,n){t.min=e.min-n.min,t.max=t.min+ir(e)}function Tu(t,e,n){j_(t.x,e.x,n.x),j_(t.y,e.y,n.y)}const A_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fl=()=>({x:A_(),y:A_()}),I_=()=>({min:0,max:0}),on=()=>({x:I_(),y:I_()});function ts(t){return[t("x"),t("y")]}function c0(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!c0(t)||!c0(e)||!c0(n)}function fa(t){return wy(t)||Rk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Rk(t){return P_(t.x)||P_(t.y)}function P_(t){return t&&t!=="0%"}function lm(t,e,n){const r=t-n,s=e*r;return n+s}function R_(t,e,n,r,s){return s!==void 0&&(t=lm(t,s,r)),lm(t,n,r)+e}function _y(t,e=0,n=1,r,s){t.min=R_(t.min,e,n,r,s),t.max=R_(t.max,e,n,r,s)}function Dk(t,{x:e,y:n}){_y(t.x,e.translate,e.scale,e.originPoint),_y(t.y,n.translate,n.scale,n.originPoint)}const D_=.999999999999,V_=1.0000000000001;function lL(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,c;for(let d=0;d<s;d++){o=n[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Bl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Dk(t,c)),r&&fa(o.latestValues)&&Bl(t,o.latestValues))}e.x<V_&&e.x>D_&&(e.x=1),e.y<V_&&e.y>D_&&(e.y=1)}function Ul(t,e){t.min=t.min+e,t.max=t.max+e}function M_(t,e,n,r,s=.5){const o=qt(t.min,t.max,s);_y(t,e,n,o,r)}function Bl(t,e){M_(t.x,e.x,e.scaleX,e.scale,e.originX),M_(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vk(t,e){return Ak(tL(t.getBoundingClientRect(),e))}function cL(t,e,n){const r=Vk(t,n),{scroll:s}=e;return s&&(Ul(r.x,s.offset.x),Ul(r.y,s.offset.y)),r}const Mk=({current:t})=>t?t.ownerDocument.defaultView:null,O_=(t,e)=>Math.abs(t-e);function uL(t,e){const n=O_(t.x,e.x),r=O_(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ok{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=d0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=uL(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:S}=v,{timestamp:k}=Mn;this.history.push({...S,timestamp:k});const{onStart:D,onMove:M}=this.handlers;_||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=u0(_,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=d0(v.type==="pointercancel"?this.lastMoveEventInfo:u0(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,D),S&&S(v,D)},!Ex(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const d=gd(e),h=u0(d,this.transformPagePoint),{point:m}=h,{timestamp:y}=Mn;this.history=[{...m,timestamp:y}];const{onSessionStart:g}=n;g&&g(e,d0(h,this.history)),this.removeListeners=fd(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Io(this.updatePoint)}}function u0(t,e){return e?{point:e(t.point)}:t}function L_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function d0({point:t},e){return{point:t,delta:L_(t,Lk(e)),offset:L_(t,dL(e)),velocity:hL(e,.1)}}function dL(t){return t[0]}function Lk(t){return t[t.length-1]}function hL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Lk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Xs(e)));)n--;if(!r)return{x:0,y:0};const o=Js(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function fL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qt(n,t,r.max):Math.min(t,n)),t}function F_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mL(t,{top:e,left:n,bottom:r,right:s}){return{x:F_(t.x,n,s),y:F_(t.y,e,r)}}function U_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pL(t,e){return{x:U_(t.x,e.x),y:U_(t.y,e.y)}}function gL(t,e){let n=.5;const r=ir(t),s=ir(e);return s>r?n=Bu(e.min,e.max-r,t.min):r>s&&(n=Bu(t.min,t.max-s,e.min)),Pi(0,1,n)}function yL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ey=.35;function vL(t=Ey){return t===!1?t=0:t===!0&&(t=Ey),{x:B_(t,"left","right"),y:B_(t,"top","bottom")}}function B_(t,e,n){return{min:$_(t,e),max:$_(t,n)}}function $_(t,e){return typeof t=="number"?t:t[e]||0}const xL=new WeakMap;class bL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gd(g).point)},c=(g,v)=>{const{drag:_,dragPropagation:C,onDragStart:S}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DO(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(D=>{let M=this.getAxisMotionValue(D).get()||0;if(Zs.test(M)){const{projection:F}=this.visualElement;if(F&&F.layout){const H=F.layout.layoutBox[D];H&&(M=ir(H)*(parseFloat(M)/100))}}this.originPoint[D]=M}),S&&Bt.postRender(()=>S(g,v)),xy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:S,onDrag:k}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=v;if(C&&this.currentDirection===null){this.currentDirection=wL(D),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),k&&k(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ts(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Ok(e,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:Mk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Bt.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=fL(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=mL(r.layoutBox,e):this.constraints=!1,this.elastic=vL(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ts(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=yL(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ll(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=cL(r,s.root,this.visualElement.getTransformPagePoint());let c=pL(s.layout.layoutBox,o);if(n){const d=n(eL(c));this.hasMutatedConstraints=!!d,d&&(c=Ak(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=ts(y=>{if(!Yh(y,n,this.currentDirection))return;let g=h&&h[y]||{};c&&(g={min:0,max:0});const v=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xy(this.visualElement,e),r.start(Rx(e,r,0,n,this.visualElement,!1))}stopAnimation(){ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ts(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ts(n=>{const{drag:r}=this.getProps();if(!Yh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];o.set(e[n]-qt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ll(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ts(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();s[c]=gL({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ts(c=>{if(!Yh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(qt(h,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;xL.set(this.visualElement,this);const e=this.visualElement.current,n=Eu(e,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Ll(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(r);const c=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(ts(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=h[y].translate,g.set(g.get()+h[y].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=Ey,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Yh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _L extends Fo{constructor(e){super(e),this.removeGroupControls=os,this.removeListeners=os,this.controls=new bL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const z_=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class EL extends Fo{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(e){this.session=new Ok(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:z_(e),onStart:z_(n),onMove:r,onEnd:(o,c)=>{delete this.session,s&&Bt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Qe.test(t))t=parseFloat(t);else return t;const n=H_(t,e.target.x),r=H_(t,e.target.y);return`${n}% ${r}%`}},SL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Po.parse(t);if(s.length>5)return r;const o=Po.createTransformer(t),c=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;s[0+c]/=d,s[1+c]/=h;const m=qt(d,h,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),o(s)}};let W_=!1;class TL extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;c8(CL),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),W_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,W_=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Bt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_x.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fk(t){const[e,n]=hk(),r=N.useContext(Zv);return l.jsx(TL,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(yk),isPresent:e,safeToRemove:n})}const CL={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:SL};function NL(t,e,n){const r=Xn(t)?t:tc(t);return r.start(Rx("",r,e,n)),r.animation}const kL=(t,e)=>t.depth-e.depth;class jL{constructor(){this.children=[],this.isDirty=!1}add(e){nx(this.children,e),this.isDirty=!0}remove(e){rx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kL),this.isDirty=!1,this.children.forEach(e)}}function AL(t,e){const n=xr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Io(r),t(o-e))};return Bt.setup(r,!0),()=>Io(r)}const Uk=["TopLeft","TopRight","BottomLeft","BottomRight"],IL=Uk.length,q_=t=>typeof t=="string"?parseFloat(t):t,G_=t=>typeof t=="number"||Qe.test(t);function PL(t,e,n,r,s,o){s?(t.opacity=qt(0,n.opacity??1,RL(r)),t.opacityExit=qt(e.opacity??1,0,DL(r))):o&&(t.opacity=qt(e.opacity??1,n.opacity??1,r));for(let c=0;c<IL;c++){const d=`border${Uk[c]}Radius`;let h=K_(e,d),m=K_(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||G_(h)===G_(m)?(t[d]=Math.max(qt(q_(h),q_(m),r),0),(Zs.test(m)||Zs.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,r))}function K_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RL=Bk(0,.5,RN),DL=Bk(.5,.95,os);function Bk(t,e,n){return r=>r<t?0:r>e?1:n(Bu(t,e,r))}function Q_(t,e){t.min=e.min,t.max=e.max}function es(t,e){Q_(t.x,e.x),Q_(t.y,e.y)}function Y_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function X_(t,e,n,r,s){return t-=e,t=lm(t,1/n,r),s!==void 0&&(t=lm(t,1/s,r)),t}function VL(t,e=0,n=1,r=.5,s,o=t,c=t){if(Zs.test(e)&&(e=parseFloat(e),e=qt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=qt(o.min,o.max,r);t===o&&(d-=e),t.min=X_(t.min,e,n,d,s),t.max=X_(t.max,e,n,d,s)}function J_(t,e,[n,r,s],o,c){VL(t,e[n],e[r],e[s],e.scale,o,c)}const ML=["x","scaleX","originX"],OL=["y","scaleY","originY"];function Z_(t,e,n,r){J_(t.x,e,ML,n?n.x:void 0,r?r.x:void 0),J_(t.y,e,OL,n?n.y:void 0,r?r.y:void 0)}function eE(t){return t.translate===0&&t.scale===1}function $k(t){return eE(t.x)&&eE(t.y)}function tE(t,e){return t.min===e.min&&t.max===e.max}function LL(t,e){return tE(t.x,e.x)&&tE(t.y,e.y)}function nE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zk(t,e){return nE(t.x,e.x)&&nE(t.y,e.y)}function rE(t){return ir(t.x)/ir(t.y)}function sE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FL{constructor(){this.members=[]}add(e){nx(this.members,e),e.scheduleRender()}remove(e){if(rx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UL(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((s||o||c)&&(r=`translate3d(${s}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:g,rotateY:v,skewX:_,skewY:C}=n;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const h0=["","X","Y","Z"],BL=1e3;let $L=0;function f0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Hk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ck(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Hk(r)}function Wk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},d=e==null?void 0:e()){this.id=$L++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WL),this.nodes.forEach(QL),this.nodes.forEach(YL),this.nodes.forEach(qL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new jL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ox),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dk(c)&&!UO(c),this.instance=c;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let y,g=0;const v=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{g=window.innerWidth}),t(c,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,y&&y(),y=AL(v,250),Ef.hasAnimatedSinceResize&&(Ef.hasAnimatedSinceResize=!1,this.nodes.forEach(aE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||t7,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=m.getProps(),D=!this.targetLayout||!zk(this.targetLayout,_),M=!g&&v;if(this.options.layoutRoot||this.resumeFrom||M||g&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...bx(C,"layout"),onPlay:S,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,M)}else g||aE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KL),this.nodes.forEach(zL),this.nodes.forEach(HL)):this.nodes.forEach(oE),this.clearAllSnapshots();const d=xr.now();Mn.delta=Pi(0,1e3/60,d-Mn.timestamp),Mn.timestamp=d,Mn.isProcessing=!0,r0.update.process(Mn),r0.preRender.process(Mn),r0.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_x.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GL),this.sharedNodes.forEach(JL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ir(this.snapshot.measuredBox.x)&&!ir(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!$k(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||fa(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),n7(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return on();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(r7))){const{scroll:y}=this.root;y&&(Ul(d.x,y.offset.x),Ul(d.y,y.offset.y))}return d}removeElementScroll(c){var h;const d=on();if(es(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:g,options:v}=y;y!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&es(d,c),Ul(d.x,g.offset.x),Ul(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const h=on();es(h,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Bl(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fa(y.latestValues)&&Bl(h,y.latestValues)}return fa(this.latestValues)&&Bl(h,this.latestValues),h}removeTransform(c){const d=on();es(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!fa(m.latestValues))continue;wy(m.latestValues)&&m.updateSnapshot();const y=on(),g=m.measurePageBox();es(y,g),Z_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return fa(this.latestValues)&&Z_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!(!this.layout||!(y||g))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Tu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):es(this.target,this.layout.layoutBox),Dk(this.target,this.targetDelta)):es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Tu(this.relativeTargetOrigin,this.target,_.target),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||Rk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;es(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;lL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=on());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y_(this.prevProjectionDelta.x,this.projectionDelta.x),Y_(this.prevProjectionDelta.y,this.projectionDelta.y)),Su(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!sE(this.projectionDelta.x,this.prevProjectionDelta.x)||!sE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fl(),this.projectionDelta=Fl(),this.projectionDeltaWithTransform=Fl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},g=Fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=on(),_=h?h.source:void 0,C=this.layout?this.layout.source:void 0,S=_!==C,k=this.getStack(),D=!k||k.members.length<=1,M=!!(S&&!D&&this.options.crossfade===!0&&!this.path.some(e7));this.animationProgress=0;let F;this.mixTargetDelta=H=>{const Q=H/1e3;lE(g.x,c.x,Q),lE(g.y,c.y,Q),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZL(this.relativeTarget,this.relativeTargetOrigin,v,Q),F&&LL(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=on()),es(F,this.relativeTarget)),S&&(this.animationValues=y,PL(y,m,this.latestValues,Q,M,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{Ef.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tc(0)),this.currentAnimation=NL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:y}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&qk(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||on();const g=ir(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const v=ir(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}es(d,h),Bl(d,y),Su(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new FL),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&f0("z",c,m,this.animationValues);for(let y=0;y<h0.length;y++)f0(`rotate${h0[y]}`,c,m,this.animationValues),f0(`skew${h0[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=_f(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=_f(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=UL(this.projectionDeltaWithTransform,this.treeScale,y);h&&(g=h(y,g)),c.transform=g;const{x:v,y:_}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in Wu){if(y[C]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:D}=Wu[C],M=g==="none"?y[C]:S(y[C],m);if(k){const F=k.length;for(let H=0;H<F;H++)c[k[H]]=M}else D?this.options.visualElement.renderState.vars[C]=M:c[C]=M}this.options.layoutId&&(c.pointerEvents=m===this?_f(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(iE),this.root.sharedNodes.clear()}}}function zL(t){t.updateLayout()}function HL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ts(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=ir(v);v.min=r[g].min,v.max=v.min+_}):qk(o,e.layoutBox,r)&&ts(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=ir(r[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const d=Fl();Su(d,r,e.layoutBox);const h=Fl();c?Su(h,t.applyTransform(s,!0),e.measuredBox):Su(h,r,e.layoutBox);const m=!$k(d);let y=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const C=on();Tu(C,e.layoutBox,v.layoutBox);const S=on();Tu(S,r,_.layoutBox),zk(C,S)||(y=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=C,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GL(t){t.clearSnapshot()}function iE(t){t.clearMeasurements()}function oE(t){t.isLayoutDirty=!1}function KL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function QL(t){t.resolveTargetDelta()}function YL(t){t.calcProjection()}function XL(t){t.resetSkewAndRotation()}function JL(t){t.removeLeadSnapshot()}function lE(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cE(t,e,n,r){t.min=qt(e.min,n.min,r),t.max=qt(e.max,n.max,r)}function ZL(t,e,n,r){cE(t.x,e.x,n.x,r),cE(t.y,e.y,n.y,r)}function e7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const t7={duration:.45,ease:[.4,0,.1,1]},uE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dE=uE("applewebkit/")&&!uE("chrome/")?Math.round:os;function hE(t){t.min=dE(t.min),t.max=dE(t.max)}function n7(t){hE(t.x),hE(t.y)}function qk(t,e,n){return t==="position"||t==="preserve-aspect"&&!oL(rE(e),rE(n),.2)}function r7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const s7=Wk({attachResizeListener:(t,e)=>Gu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),m0={current:void 0},Gk=Wk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!m0.current){const t=new s7({});t.mount(window),t.setOptions({layoutScroll:!0}),m0.current=t}return m0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),i7={pan:{Feature:EL},drag:{Feature:_L,ProjectionNode:Gk,MeasureLayout:Fk}};function fE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Bt.postRender(()=>o(e,gd(e)))}class o7 extends Fo{mount(){const{current:e}=this.node;e&&(this.unmount=VO(e,(n,r)=>(fE(this.node,r,"Start"),s=>fE(this.node,s,"End"))))}unmount(){}}class a7 extends Fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fd(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Bt.postRender(()=>o(e,gd(e)))}class l7 extends Fo{mount(){const{current:e}=this.node;e&&(this.unmount=FO(e,(n,r)=>(mE(this.node,r,"Start"),(s,{success:o})=>mE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sy=new WeakMap,p0=new WeakMap,c7=t=>{const e=Sy.get(t.target);e&&e(t)},u7=t=>{t.forEach(c7)};function d7({root:t,...e}){const n=t||document;p0.has(n)||p0.set(n,{});const r=p0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(u7,{root:t,...e})),r[s]}function h7(t,e,n){const r=d7(e);return Sy.set(t,n),r.observe(t),()=>{Sy.delete(t),r.unobserve(t)}}const f7={some:0,all:1};class m7 extends Fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:f7[s]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),v=m?y:g;v&&v(h)};return h7(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(p7(e,n))&&this.startObserver()}unmount(){}}function p7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const g7={inView:{Feature:m7},tap:{Feature:l7},focus:{Feature:a7},hover:{Feature:o7}},y7={layout:{ProjectionNode:Gk,MeasureLayout:Fk}},Ty={current:null},Kk={current:!1};function v7(){if(Kk.current=!0,!!tx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ty.current=t.matches;t.addEventListener("change",e),e()}else Ty.current=!1}const x7=new WeakMap;function b7(t,e,n){for(const r in e){const s=e[r],o=n[r];if(Xn(s))t.addValue(r,s);else if(Xn(o))t.addValue(r,tc(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=t.getStaticValue(r);t.addValue(r,tc(c!==void 0?c:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const pE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=xr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Bt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Zm(n),this.isVariantNode=pk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];h[v]!==void 0&&Xn(_)&&_.set(h[v],!1)}}mount(e){this.current=e,x7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kk.current||v7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ty.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Io(this.notifyUpdate),Io(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nc){const n=nc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pE.length;r++){const s=pE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=e[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=b7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(EN(r)||TN(r))?r=parseFloat(r):!$O(r)&&Po.test(n)&&(r=ok(e,n)),this.setBaseTarget(e,Xn(r)?r.get():r)),Xn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Ix(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ox),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Qk extends w7{constructor(){super(...arguments),this.KeyframeResolver=AO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Yk(t,{style:e,vars:n},r,s){const o=t.style;let c;for(c in e)o[c]=e[c];s==null||s.applyProjectionStyles(o,r);for(c in n)o.setProperty(c,n[c])}function _7(t){return window.getComputedStyle(t)}class E7 extends Qk{constructor(){super(...arguments),this.type="html",this.renderInstance=Yk}readValueFromInstance(e,n){var r;if(pc.has(n))return(r=this.projection)!=null&&r.isProjecting?hy(n):QM(e,n);{const s=_7(e),o=(cx(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vk(e,n)}build(e,n,r){kx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Px(e,n,r)}}const Xk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S7(t,e,n,r){Yk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Xk.has(s)?s:Nx(s),e.attrs[s])}class T7 extends Qk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pc.has(n)){const r=ik(n);return r&&r.default||0}return n=Xk.has(n)?n:Nx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Tk(e,n,r)}build(e,n,r){wk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){S7(e,n,r,s)}mount(e){this.isSVGTag=Ek(e.tagName),super.mount(e)}}const C7=(t,e)=>Ax(t)?new T7(e):new E7(e,{allowProjection:t!==N.Fragment}),N7=C8({...J8,...g7,...i7,...y7},C7),te=XO(N7);var Jk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gE=Fr.createContext&&Fr.createContext(Jk),k7=["attr","size","title"];function j7(t,e){if(t==null)return{};var n=A7(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function yE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){I7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I7(t,e,n){return e=P7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7(t){var e=R7(t,"string");return typeof e=="symbol"?e:e+""}function R7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zk(t){return t&&t.map((e,n)=>Fr.createElement(e.tag,um({key:n},e.attr),Zk(e.child)))}function nt(t){return e=>Fr.createElement(D7,cm({attr:um({},t.attr)},e),Zk(t.child))}function D7(t){var e=n=>{var{attr:r,size:s,title:o}=t,c=j7(t,k7),d=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Fr.createElement("svg",cm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:um(um({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Fr.createElement("title",null,o),t.children)};return gE!==void 0?Fr.createElement(gE.Consumer,null,n=>e(n)):e(Jk)}function dm(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function vE(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function V7(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function M7(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function O7(t){return nt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function L7(t){return nt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Dx(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function F7(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function yd(t){return nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function U7(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(t)}function Cy(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function hm(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function B7(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function ej(t){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function $7(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function xE(t){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function tj(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function bE(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function z7(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function H7(t){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function nj(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function W7(t){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(t)}const q7=()=>{var s;const{usuario:t,logout:e}=$r(),{setModalAbierto:n}=hc(),r=N.useRef(null);return Sr(),N.useEffect(()=>{r.current&&r.current.focus()},[]),N.useEffect(()=>{function o(){}return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),l.jsxs(l.Fragment,{children:[l.jsx(te.header,{initial:{y:-120,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 w-full bg-white shadow-md z-[9999] px-4 py-3",style:{backdropFilter:"saturate(180%) blur(15px)",maxWidth:"100vw",overflowX:"hidden"},children:l.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto w-full gap-3",children:[l.jsx("div",{id:"search-bar-container",className:"flex-grow max-w-full px-2 lg:hidden",children:l.jsx(e_,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),l.jsxs("div",{className:"hidden lg:flex w-full items-center justify-between gap-6",children:[l.jsxs(st,{to:"/",className:"flex items-center gap-3 flex-shrink-0 group",children:[l.jsx(te.img,{src:"/Playlogo.png",alt:"Playcenter Universal",className:"h-10 object-contain rounded-xl shadow group-hover:ring-2 group-hover:ring-[#4FC3F7] transition",whileHover:{scale:1.07},transition:{type:"spring",stiffness:300}}),l.jsxs("div",{className:"flex flex-col leading-tight text-xs text-gray-700 font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-gray-500",children:[l.jsx(yd,{className:"text-[#4FC3F7]"}),"Envios"]}),l.jsx("strong",{className:"text-[12px] font-semibold text-gray-700 uppercase tracking-wide",children:"EN TODO RD"})]})]}),l.jsx("div",{className:"flex-grow max-w-xl",children:l.jsx(e_,{onClose:()=>{},ref:r,placeholder:"Buscar en pcu.com.do"})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-gray-700",children:[l.jsx(st,{to:"/",className:"nav-link hover:text-[#4FC3F7] transition",children:"Inicio"}),l.jsx(st,{to:"/productos",className:"nav-link hover:text-[#4FC3F7] transition",children:"Categorías"}),l.jsx(st,{to:"/nosotros",className:"nav-link hover:text-[#4FC3F7] transition",children:"Nosotros"}),l.jsx(st,{to:"/contacto",className:"nav-link hover:text-[#4FC3F7] transition",children:"Contáctanos"}),l.jsx(st,{to:"/estafetas",className:"nav-link hover:text-[#4FC3F7] transition",children:"Estafetas"}),l.jsx(st,{to:"/carrito",className:"nav-link text-xl hover:scale-110 transition",children:"🛒"}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&l.jsx(st,{to:"/admin",className:"px-3 py-2 rounded bg-[#4FC3F7] text-white hover:bg-[#3BB0F3] shadow transition",children:"Panel Admin"}),t?l.jsx(te.div,{className:"relative",whileTap:{scale:.95},children:l.jsx(st,{to:"/profile",children:l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow hover:shadow-lg transition cursor-pointer bg-white",children:t.photoURL?l.jsx("img",{src:t.photoURL,alt:"Perfil",className:"w-full h-full object-cover rounded-full"}):l.jsx("div",{className:"w-full h-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-base",children:((s=t.displayName)==null?void 0:s.charAt(0).toUpperCase())||"U"})})})}):l.jsx(te.button,{onClick:()=>n(!0),className:"px-4 py-2 text-sm bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-lg font-semibold shadow transition",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Iniciar sesión"})]})]})]})}),(t==null?void 0:t.uid)==="ZeiFzBgosCd0apv9cXL6aQZCYyu2"&&l.jsx("div",{className:"lg:hidden fixed bottom-[80px] right-4 z-[9999]",children:l.jsx(st,{to:"/admin",className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white px-5 py-3 rounded-full shadow-xl font-semibold text-base",children:"Panel Admin"})}),l.jsx("div",{className:"h-[100px] sm:h-[70px]"})]})};function vd({isOpen:t,onClose:e,onIniciarSesion:n}){return t?xA.createPortal(l.jsx("div",{onClick:e,className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",style:{top:0,left:0},children:l.jsxs(te.div,{onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40 z-[11001]",children:[l.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold","aria-label":"Cerrar modal",children:"×"}),l.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-[#3b82f6]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A11.955 11.955 0 0112 15c2.32 0 4.47.66 6.264 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),"Inicia sesión"]}),l.jsx("p",{className:"mb-6 text-center text-gray-300",children:"Necesitas iniciar sesión para acceder a esta función"}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx("button",{onClick:()=>{e(),n()},className:"w-full max-w-[120px] px-5 py-2 bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Iniciar sesión"}),l.jsx("button",{onClick:e,className:"w-full max-w-[120px] px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold shadow-lg transition transform hover:scale-105",children:"Cancelar"})]})]})}),document.body):null}function G7(){const{usuario:t}=$r(),e=Sr(),{abrirModal:n}=hc(),[r,s]=N.useState(!1),o=(h,m)=>{!t&&(m==="/carrito"||m==="/Profile")?(h.preventDefault(),s(!0)):e(m)},c=()=>s(!1),d=()=>{c(),n()};return l.jsx("div",{className:"footer-block",children:l.jsxs("footer",{className:"footer futuristic-footer relative bg-black text-gray-300 py-12 text-sm sm:text-base",children:[l.jsx("div",{className:"footer-bg-animated"}),l.jsx("div",{className:"w-full flex justify-center mb-10 relative z-20",children:l.jsx("img",{src:"/Playlogo.png",alt:"Playcenter Universal Logo",className:"footer-logo-glow w-32 sm:w-44 lg:w-64 transition-transform duration-300 hover:scale-105"})}),l.jsxs("div",{className:"footer-cols-wrapper relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"footer-col",children:[l.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Playcenter Universal"}),l.jsx("p",{children:"Tu universo de tecnología y gaming en Santiago, R.D."}),l.jsxs("p",{className:"mt-3 flex justify-center sm:justify-start items-center gap-2",children:[l.jsx(yd,{})," Av. Estrella Sadhalá #55, frente a la doble vía"]}),l.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[l.jsx(Cy,{})," +1 (809) 582-1212 (Internet)"]}),l.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[l.jsx(Cy,{})," +1 (849) 635-7000 (Tienda)"]}),l.jsxs("p",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[l.jsx(Dx,{})," playcenter121@gmail.com"]})]}),l.jsxs("div",{className:"footer-col",children:[l.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Navegación"}),l.jsx("ul",{className:"footer-nav-list",children:[["Categorías","/categorias",!1],["Nosotros","/nosotros",!1],["Contáctanos","/contacto",!1],["Estafetas","/estafetas",!1],["Carrito","/carrito",!0],["Mi perfil","/Profile",!0]].map(([h,m,y])=>l.jsx("li",{children:y?l.jsx("a",{href:m,onClick:g=>o(g,m),className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm cursor-pointer",children:h}):l.jsx("a",{href:m,className:"footer-link-neon hover:text-cyan-400 transition duration-300 ease-in-out text-xs sm:text-sm",children:h})},h))})]}),l.jsxs("div",{className:"footer-col",children:[l.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-semibold mb-3",children:"Horario"}),l.jsx("p",{children:"Lunes a Viernes: 8:30am - 5:30pm"}),l.jsx("p",{children:"Sábados: 8:30am - 12:30pm"}),l.jsx("p",{children:"Domingos: Cerrado"})]}),l.jsxs("div",{className:"footer-col",children:[l.jsx("h3",{className:"footer-title-neon text-base sm:text-lg font-bold mb-3",children:"Conéctate con nosotros"}),l.jsx("div",{className:"grid grid-cols-2 gap-4 justify-items-center sm:justify-items-start",children:[["https://www.facebook.com/pcu12","/Facebook.png","Facebook"],["https://www.instagram.com/playcenter_universal/?hl=es","/Instagram.png","Instagram"],["https://www.tiktok.com/@playcenter_universal?lang=es","/tiktok.png","TikTok"],["https://youtube.com/@playcenteruniversal1916","/Youtube.png","YouTube"]].map(([h,m,y])=>l.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"relative group",children:l.jsx("img",{src:m,alt:y,className:"footer-social-icon-neon w-12 h-12 sm:w-16 sm:h-16 rounded-full transition-transform duration-300 transform group-hover:scale-110"})},y))})]})]}),l.jsxs("p",{className:"footer-copyright text-center text-gray-500 text-[11px] sm:text-xs mt-10 relative z-20",children:["© ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]}),l.jsx(vd,{isOpen:r,onClose:c,onIniciarSesion:d})]})})}const K7=({product:t,onClose:e,onSave:n})=>{var ae;const[r,s]=N.useState({nombre:"",empresa:"",precio:"",cantidad:0,descripcion:"",categoria:"",nuevaCategoria:"",imagen:"",imagenes:[],imagenesExtra:[],videoUrl:"",videoUrls:[],oferta:!1,precioOferta:"",estado:"Nuevo",acerca:[""],variantes:[{color:"",imagen:"",imagenes:[],cantidad:0}],etiquetas:[""],activo:!0,fechaPublicacion:new Date().toISOString().split("T")[0],sku:"",peso:"",dimensiones:""}),[o,c]=N.useState([]),[d,h]=N.useState([]),[m,y]=N.useState(!1),[g,v]=N.useState((t==null?void 0:t.id)||null),[_,C]=N.useState(!1);N.useEffect(()=>{var L;F(),Q(),t&&s({...t,precio:((L=t.precio)==null?void 0:L.toString())||"",fechaPublicacion:t.fechaPublicacion||new Date().toISOString().split("T")[0],acerca:t.acerca||[""],etiquetas:t.etiquetas||[""],variantes:t.variantes||[{color:"",imagen:"",imagenes:[],cantidad:0}],videoUrls:t.videoUrls||[]})},[t]),N.useEffect(()=>{!(t!=null&&t.id)&&!g&&S().catch(()=>{})},[]),N.useEffect(()=>{const L=g||(t==null?void 0:t.id);if(!L)return;const R=Jn($e(Ee,"productos",L),B=>{if(!B.exists())return;const Y=B.data();s(Z=>{var ie,ue;return{...Z,id:Y.id||L,nombre:Y.nombre??Z.nombre,descripcion:Y.descripcion??Z.descripcion,empresa:Y.empresa??Z.empresa,categoria:Y.categoria??Z.categoria,precio:((ue=(ie=Y.precio??Z.precio)==null?void 0:ie.toString)==null?void 0:ue.call(ie))||String(Y.precio??Z.precio??""),cantidad:Y.cantidad??Z.cantidad,etiquetas:Array.isArray(Y.etiquetas)?Y.etiquetas:Z.etiquetas||[],acerca:Array.isArray(Y.acerca)?Y.acerca:Z.acerca||[],imagen:Y.imagen??Z.imagen,imagenes:Array.isArray(Y.imagenes)?Y.imagenes:Z.imagenes||[],videoUrls:Array.isArray(Y.videoUrls)?Y.videoUrls:Z.videoUrls||[],variantes:Array.isArray(Y.variantes)?Y.variantes:Z.variantes||[],activo:Y.activo??Z.activo}})});return()=>R()},[g,t==null?void 0:t.id]),N.useEffect(()=>{const L=g||(t==null?void 0:t.id);if(!L)return;const R=setTimeout(()=>{try{_n($e(Ee,"productos",L),{nombre:r.nombre||"",descripcion:r.descripcion||"",empresa:r.empresa||"",categoria:r.categoria||"",precio:parseFloat(r.precio)||0,cantidad:Number(r.cantidad)||0,etiquetas:Array.isArray(r.etiquetas)?r.etiquetas:[],acerca:Array.isArray(r.acerca)?r.acerca:[],fechaActualizacion:new Date}).catch(()=>{})}catch{}},600);return()=>clearTimeout(R)},[g,t==null?void 0:t.id,r.nombre,r.descripcion,r.empresa,r.categoria,r.precio,r.cantidad,r.etiquetas,r.acerca]);const S=async()=>{if(g)return console.log("🔥 ID existente encontrado:",g),g;const L=`prod_${Date.now()}_${Math.random().toString(36).substring(2,15)}`;console.log("🔥 Creando nuevo ID de producto:",L);const R={id:L,nombre:r.nombre||"Producto sin nombre",descripcion:r.descripcion||"",empresa:r.empresa||"",precio:parseFloat(r.precio)||0,cantidad:Number(r.cantidad)||0,categoria:r.categoria||"",imagen:"",imagenes:[],videoUrls:[],variantes:[],activo:!1,fechaCreacion:new Date,fechaActualizacion:new Date};try{return console.log("🔥 Guardando borrador en Firestore:",R),await En($e(Ee,"productos",L),R),v(L),s(B=>({...B,id:L})),console.log("🔥 Borrador creado exitosamente con ID:",L),L}catch(B){throw console.error("🔥 Error creando borrador de producto:",B),new Error(`No se pudo crear el producto: ${B.message}`)}},k=async()=>{try{const L=g||(t==null?void 0:t.id)||await S(),R={...r,id:L,activo:!1,precio:parseFloat(r.precio)||0,cantidad:Number(r.cantidad)||0,fechaActualizacion:new Date,acerca:Array.isArray(r.acerca)?r.acerca.filter(B=>String(B).trim()):[],etiquetas:Array.isArray(r.etiquetas)?r.etiquetas.filter(B=>String(B).trim()):[],variantes:Array.isArray(r.variantes)?r.variantes:[],imagenes:Array.isArray(r.imagenes)?r.imagenes:[],videoUrls:Array.isArray(r.videoUrls)?r.videoUrls:[],sku:r.sku||"",peso:r.peso||"",dimensiones:r.dimensiones||"",estado:r.estado||"Nuevo",oferta:!!r.oferta,precioOferta:r.precioOferta?parseFloat(r.precioOferta):0,fechaPublicacion:r.fechaPublicacion||new Date().toISOString().split("T")[0],videoUrl:r.videoUrl||""};t!=null&&t.id||g?await _n($e(Ee,"productos",L),R):(await En($e(Ee,"productos",L),{...R,fechaCreacion:new Date}),v(L)),alert("✅ Borrador guardado correctamente")}catch(L){console.error("Error al guardar borrador:",L),alert("❌ Error al guardar el borrador. Inténtalo de nuevo.")}},D=(L,R)=>{s(B=>{const Y=Array.isArray(B.videoUrls)?[...B.videoUrls]:[],Z=R==="up"?L-1:L+1;if(Z<0||Z>=Y.length)return B;const[ie]=Y.splice(L,1);Y.splice(Z,0,ie);const ue={...B,videoUrls:Y},me=g||(t==null?void 0:t.id);return me&&_n($e(Ee,"productos",me),{videoUrls:Y,fechaActualizacion:new Date}).catch(()=>{}),ue})},M=(L,R,B)=>{s(Y=>{var Ke;const Z=[...Y.variantes],ie=Array.isArray((Ke=Z[L])==null?void 0:Ke.videoUrls)?[...Z[L].videoUrls]:[],ue=B==="up"?R-1:R+1;if(ue<0||ue>=ie.length)return Y;const[me]=ie.splice(R,1);ie.splice(ue,0,me),Z[L]={...Z[L],videoUrls:ie};const Se={...Y,variantes:Z},Ce=g||(t==null?void 0:t.id);return Ce&&_n($e(Ee,"productos",Ce),{variantes:Z,fechaActualizacion:new Date}).catch(()=>{}),Se})},F=async()=>{try{const R=(await _r(St(Ee,"categorias"))).docs.map(B=>({id:B.id,...B.data()}));c(R)}catch(L){console.error("Error loading categories:",L)}},H=async(L,R)=>{if(L!=null&&L.length)for(const B of Array.from(L))try{let Y=g||(t==null?void 0:t.id);Y||(Y=await S());const Z=await ye(B,Y);s(ie=>{const ue=[...ie.variantes];ue[R]||(ue[R]={color:"",imagen:"",imagenes:[],cantidad:0,videoUrls:[]});const me=Array.isArray(ue[R].videoUrls)?ue[R].videoUrls:[];ue[R]={...ue[R],videoUrls:[...me,Z]};const Se={...ie,variantes:ue};return Y&&_n($e(Ee,"productos",Y),{variantes:ue,fechaActualizacion:new Date}).catch(Ce=>console.error("Error saving variant video to Firestore:",Ce)),Se})}catch(Y){console.error("Error uploading variant video:",Y),alert(`Error subiendo video de variante ${B.name}: ${Y.message}`)}},Q=async()=>{try{const R=(await _r(St(Ee,"productos"))).docs.map(Y=>{var Z;return(Z=Y.data())==null?void 0:Z.empresa}).filter(Boolean),B=Array.from(new Set(R)).sort((Y,Z)=>Y.localeCompare(Z));h(B)}catch{}},G=(L,R)=>{s(Y=>({...Y,[L]:R}));const B=g||(t==null?void 0:t.id);if(B&&["imagen","imagenes","videoUrls"].includes(L))try{_n($e(Ee,"productos",B),{[L]:R,fechaActualizacion:new Date})}catch{}},V=(L,R,B)=>{s(Y=>({...Y,[L]:Y[L].map((Z,ie)=>ie===R?B:Z)}))},I=L=>{s(R=>({...R,[L]:[...R[L],L==="variantes"?{color:"",imagen:"",imagenes:[],cantidad:0}:""]}))},j=(L,R)=>{s(B=>({...B,[L]:B[L].filter((Y,Z)=>Z!==R)}))},E=(L,R,B)=>{s(Z=>({...Z,variantes:Z.variantes.map((ie,ue)=>ue===L?{...ie,[R]:B}:ie)}));const Y=g||(t==null?void 0:t.id);if(Y)try{s(Z=>{const ie=Z.variantes.map((ue,me)=>me===L?{...ue,[R]:B}:ue);return _n($e(Ee,"productos",Y),{variantes:ie,fechaActualizacion:new Date}).catch(()=>{}),{...Z,variantes:ie}})}catch{}},U=async L=>{if(L!=null&&L.length)for(const R of Array.from(L))try{let B=g||(t==null?void 0:t.id);B||(B=await S());const Y=await ye(R,B);s(Z=>{const ie=[...Z.videoUrls||[],Y],ue={...Z,videoUrls:ie};return B&&_n($e(Ee,"productos",B),{videoUrls:ie,fechaActualizacion:new Date}).catch(me=>console.error("Error saving video to Firestore:",me)),ue})}catch(B){console.error("Error uploading video:",B),alert(`Error subiendo ${R.name}: ${B.message}`)}},$=async(L,R,B=null)=>{if(L!=null&&L.length)for(const Y of Array.from(L)){const Z=URL.createObjectURL(Y);s(ie=>{let ue={...ie};if(B!==null){const me=[...ie.variantes];if(me[B]||(me[B]={color:"",imagen:"",imagenes:[],cantidad:0,videoUrls:[]}),R==="imagen")me[B].imagen=Z;else if(R==="imagenes"){const Se=Array.isArray(me[B].imagenes)?me[B].imagenes:[];me[B].imagenes=[...Se,Z]}ue.variantes=me}else if(R==="imagen")ue.imagen=Z;else if(R==="imagenes"){const me=Array.isArray(ie.imagenes)?ie.imagenes:[];ue.imagenes=[...me,Z],ie.imagen||(ue.imagen=Z)}return ue});try{let ie=g||(t==null?void 0:t.id);ie||(ie=await S());const ue=await P(Y,ie);if(s(me=>{var Ce,Ke;let Se={...me};if(B!==null){const at=[...me.variantes];if(R==="imagen"&&((Ce=at[B])==null?void 0:Ce.imagen)===Z)at[B].imagen=ue;else if(R==="imagenes"){const vt=((Ke=at[B])==null?void 0:Ke.imagenes)||[];at[B].imagenes=vt.map(ut=>ut===Z?ue:ut)}Se.variantes=at}else if(R==="imagen"&&me.imagen===Z)Se.imagen=ue;else if(R==="imagenes"){const at=me.imagenes||[];Se.imagenes=at.map(vt=>vt===Z?ue:vt),me.imagen===Z&&(Se.imagen=ue)}return Se}),ie){const me={};if(B!==null){const Ce=[...r.variantes||[]];if(Ce[B]||(Ce[B]={color:"",imagen:"",imagenes:[],cantidad:0,videoUrls:[]}),R==="imagen")Ce[B].imagen=ue;else if(R==="imagenes"){const Ke=Array.isArray(Ce[B].imagenes)?Ce[B].imagenes:[];Ce[B].imagenes=[...Ke,ue]}me.variantes=Ce}else if(R==="imagen")me.imagen=ue;else if(R==="imagenes"){const Se=Array.isArray(r.imagenes)?r.imagenes:[];me.imagenes=[...Se,ue],r.imagen||(me.imagen=ue)}me.fechaActualizacion=new Date,await _n($e(Ee,"productos",ie),me)}}catch(ie){console.error("Error uploading image:",ie),alert(`Error subiendo ${Y.name}: ${ie.message}`)}}},P=async(L,R)=>{try{if(!L||L.size===0)throw new Error("Archivo inválido");if(!L.type.startsWith("image/"))throw new Error("El archivo debe ser una imagen");if(L.size>10*1024*1024)throw new Error("Imagen muy grande (máximo 10MB)");const B=Date.now(),Y=Math.random().toString(36).substring(2,15),Z=L.name.split(".").pop()||"jpg",ie=`${B}_${Y}.${Z}`,ue=nm(rm,`productos/${R}/imagenes/${ie}`),me=await em(ue,L),Se=await tm(me.ref);if(!Se)throw new Error("No se pudo obtener la URL de descarga");return Se}catch(B){throw console.error("Error en uploadImageFast:",B),B}},ye=async(L,R)=>{try{if(!L||L.size===0)throw new Error("Archivo de video inválido");if(!L.type.startsWith("video/"))throw new Error("El archivo debe ser un video");if(L.size>100*1024*1024)throw new Error("Video muy grande (máximo 100MB)");const B=Date.now(),Y=Math.random().toString(36).substring(2,15),Z=L.name.split(".").pop()||"mp4",ie=`${B}_${Y}.${Z}`,ue=nm(rm,`productos/${R}/videos/${ie}`),me=await em(ue,L),Se=await tm(me.ref);if(!Se)throw new Error("No se pudo obtener la URL de descarga del video");return Se}catch(B){throw console.error("Error en uploadVideoFast:",B),B}},Le=(L,R)=>{s(B=>{const Y=[...B.imagenes],Z=R==="up"?L-1:L+1;if(Z<0||Z>=Y.length)return B;const[ie]=Y.splice(L,1);Y.splice(Z,0,ie);const ue={...B,imagenes:Y},me=g||(t==null?void 0:t.id);return me&&_n($e(Ee,"productos",me),{imagenes:Y,fechaActualizacion:new Date}).catch(()=>{}),ue})},Me=(L,R,B)=>{s(Y=>{var Ke;const Z=[...Y.variantes],ie=Array.isArray((Ke=Z[L])==null?void 0:Ke.imagenes)?[...Z[L].imagenes]:[],ue=B==="up"?R-1:R+1;if(ue<0||ue>=ie.length)return Y;const[me]=ie.splice(R,1);ie.splice(ue,0,me),Z[L]={...Z[L],imagenes:ie};const Se={...Y,variantes:Z},Ce=g||(t==null?void 0:t.id);return Ce&&_n($e(Ee,"productos",Ce),{variantes:Z,fechaActualizacion:new Date}).catch(()=>{}),Se})},we=async L=>{try{const R=L.trim(),B=R.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),Y={id:B,nombre:R,ruta:B,activa:!0,fechaCreacion:new Date,fechaActualizacion:new Date,productCount:0,descripcion:"",imagen:""};return await En($e(Ee,"categorias",B),Y),c(Z=>[...Z,Y]),s(Z=>({...Z,categoria:B})),C(!1),B}catch(R){throw console.error("Error creating category:",R),alert("Error al crear la categoría. Inténtalo de nuevo."),R}},W=async L=>{L.preventDefault(),y(!0);try{let R=r.categoria;if(_&&r.nuevaCategoria.trim()&&(R=await we(r.nuevaCategoria.trim())),!R){alert("Por favor selecciona una categoría para el producto"),y(!1);return}if(!r.imagen&&(!r.imagenes||r.imagenes.length===0)){alert("Por favor agrega al menos una imagen al producto"),y(!1);return}const B={...r,categoria:R,precio:parseFloat(r.precio)||0,cantidad:Number(r.cantidad)||0,fechaActualizacion:new Date,acerca:Array.isArray(r.acerca)?r.acerca.filter(Z=>Z&&Z.trim()):[],etiquetas:Array.isArray(r.etiquetas)?r.etiquetas.filter(Z=>Z&&Z.trim()):[],variantes:Array.isArray(r.variantes)?r.variantes.filter(Z=>Z.color&&Z.color.trim()||Z.cantidad>0):[],imagenes:Array.isArray(r.imagenes)?r.imagenes.filter(Z=>Z&&Z.trim()):[],videoUrls:Array.isArray(r.videoUrls)?r.videoUrls.filter(Z=>Z&&Z.trim()):[],imagen:r.imagen||(r.imagenes&&r.imagenes.length>0?r.imagenes[0]:""),activo:!0};delete B.nuevaCategoria,delete B._tempVideoUrl,B.empresa&&(B.empresa=B.empresa.trim(),B.empresaNorm=B.empresa.toLowerCase());const Y=g||(t==null?void 0:t.id)||`prod_${Date.now()}`;B.id=Y,!g&&!(t!=null&&t.id)?(B.fechaCreacion=new Date,await En($e(Ee,"productos",Y),B),v(Y)):await _n($e(Ee,"productos",Y),{...B,fechaActualizacion:new Date}),alert("✅ Producto guardado exitosamente"),n()}catch(R){console.error("Error saving product:",R),alert("❌ Error al guardar el producto: "+(R.message||"Error desconocido"))}finally{y(!1)}};return l.jsx(te.div,{className:"pf-container fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-stretch justify-stretch",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs(te.div,{className:"bg-white w-screen h-screen overflow-hidden flex flex-col pf-focus relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[l.jsxs("div",{className:"bg-blue-700 text-white p-4 md:p-6 flex justify-between items-center sticky top-0 z-10 shadow",children:[l.jsx("h2",{className:"text-2xl font-bold",children:t?"Editar Producto":"Agregar Producto"}),l.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 text-xl font-bold",children:"×"})]}),l.jsxs("form",{onSubmit:W,className:"flex-1 overflow-y-auto pf-form-container",children:[l.jsx("div",{className:"p-4 md:p-6 pf-form-content",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"pf-section-title text-lg font-semibold text-blue-900 border-b pb-2",children:"Información Básica"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Producto *"}),l.jsx("input",{type:"text",required:!0,value:r.nombre,onChange:L=>G("nombre",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca / Empresa"}),l.jsx("input",{type:"text",list:"brands-list",value:r.empresa||"",onChange:L=>G("empresa",L.target.value),placeholder:"Ej. Xbox, PlayStation, Nintendo... (puedes escribir una nueva)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),l.jsx("datalist",{id:"brands-list",children:d.map(L=>l.jsx("option",{value:L},L))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sugerencias basadas en tus marcas guardadas. Se guardará sin importar mayúsculas/minúsculas."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:r.precio,onChange:L=>G("precio",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad en Stock *"}),l.jsx("input",{type:"number",min:"0",required:!0,value:r.cantidad,onChange:L=>G("cantidad",parseInt(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de inventario (SKU) — opcional"}),l.jsx("input",{type:"text",value:r.sku,onChange:L=>G("sku",L.target.value),placeholder:"Ej. NIN-SWITCH-NEON-01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El SKU es un identificador interno para gestionar tu inventario."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción *"}),l.jsx("textarea",{required:!0,rows:3,value:r.descripcion,onChange:L=>G("descripcion",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"pf-preview-card border rounded-xl overflow-hidden shadow-sm",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:l.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Vista previa del producto"})}),l.jsx("div",{className:"p-4",children:(()=>{const L=r.imagen||(r.imagenes&&r.imagenes.length>0?r.imagenes[0]:"")||"",R=Array.isArray(r.imagenes)?r.imagenes:[],B=[...L?[L]:[],...R.filter(Z=>Z&&Z!==L)],Y=Array.isArray(r.videoUrls)?r.videoUrls:[];return l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-32 h-32 bg-gray-100 border rounded-lg overflow-hidden flex items-center justify-center",children:L?l.jsx("img",{src:L,alt:"Principal",className:"w-full h-full object-cover"}):l.jsx("div",{className:"text-xs text-gray-400",children:"Sin imagen"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Nombre"}),l.jsx("p",{className:"font-semibold text-blue-900 truncate",children:r.nombre||"—"}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Precio"}),l.jsx("p",{className:"font-semibold",children:r.precio?`$${Number(r.precio).toFixed(2)}`:"—"}),L&&l.jsx("span",{className:"inline-block mt-3 text-[11px] px-2 py-0.5 rounded-full bg-blue-100 text-blue-900",children:"Principal"}),(B.length>0||Y.length>0)&&l.jsx("div",{className:"mt-3",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.map((Z,ie)=>l.jsx("button",{type:"button",className:`pf-soft-btn border ${Z===L?"ring-2 ring-blue-500":""}`,onClick:()=>G("imagen",Z),title:Z===L?"Imagen principal":"Usar como principal",children:l.jsx("img",{src:Z,alt:`img ${ie}`,className:"w-10 h-10 object-cover rounded"})},`img-${ie}`)),Y.map((Z,ie)=>l.jsxs("div",{className:"relative",children:[l.jsx("video",{src:Z,className:"w-10 h-10 object-cover rounded border"}),l.jsx("span",{className:"absolute -bottom-1 left-0 text-[9px] bg-black/70 text-white px-1 rounded",children:"VID"})]},`vid-${ie}`))]})})]})]})})()})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Categoría y Estado"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("select",{value:_?"":r.categoria,onChange:L=>{L.target.value==="nueva"?C(!0):(C(!1),G("categoria",L.target.value))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!_,children:[l.jsx("option",{value:"",children:"Seleccionar categoría"}),o.map(L=>l.jsx("option",{value:L.id,children:L.nombre},L.id)),l.jsx("option",{value:"nueva",children:"+ Crear nueva categoría"})]}),_&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Nombre de la nueva categoría",value:r.nuevaCategoria,onChange:L=>G("nuevaCategoria",L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),l.jsx("button",{type:"button",onClick:()=>{C(!1),G("nuevaCategoria","")},className:"px-3 py-2 text-gray-500 hover:text-gray-700",children:"Cancelar"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),l.jsxs("select",{value:r.estado,onChange:L=>G("estado",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"Nuevo",children:"Nuevo"}),l.jsx("option",{value:"Usado",children:"Usado"}),l.jsx("option",{value:"Reacondicionado",children:"Reacondicionado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Publicación"}),l.jsx("input",{type:"date",value:r.fechaPublicacion,onChange:L=>G("fechaPublicacion",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:r.oferta,onChange:L=>G("oferta",L.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"En oferta"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:r.activo,onChange:L=>G("activo",L.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"Producto activo"]})]}),r.oferta&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio de Oferta"}),l.jsx("input",{type:"number",step:"0.01",value:r.precioOferta,onChange:L=>G("precioOferta",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Precio con descuento"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (opcional)"}),l.jsx("input",{type:"text",value:r.peso,onChange:L=>G("peso",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ej: 1.5 kg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensiones (opcional)"}),l.jsx("input",{type:"text",value:r.dimensiones,onChange:L=>G("dimensiones",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ej: 30x20x10 cm"})]})]})]})]})]}),l.jsxs("div",{className:"mt-8 space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Imágenes y Multimedia"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen Principal *"}),l.jsx("input",{type:"file",accept:"image/*",onChange:L=>{var R;(R=L.target.files)!=null&&R.length&&($(L.target.files,"imagen"),L.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.imagen&&l.jsxs("div",{className:"mt-2 relative inline-block",children:[l.jsx("img",{src:r.imagen,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border"}),l.jsx("button",{type:"button",onClick:()=>G("imagen",""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"×"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imágenes Adicionales"}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:L=>{var R;(R=L.target.files)!=null&&R.length&&($(L.target.files,"imagenes"),L.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.imagenes&&r.imagenes.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.imagenes.map((L,R)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:L,alt:`Preview ${R}`,className:"w-16 h-16 object-cover rounded border"}),L===r.imagen&&l.jsx("span",{className:"absolute top-1 left-1 text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white shadow",children:"Principal"}),l.jsx("button",{type:"button",onClick:()=>{if(!window.confirm("¿Seguro que quieres eliminar esta imagen?"))return;const B=r.imagenes.filter((Y,Z)=>Z!==R);G("imagenes",B)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",title:"Quitar",children:"×"}),l.jsxs("div",{className:"absolute inset-x-0 -bottom-8 hidden group-hover:flex items-center justify-center gap-1",children:[l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-blue-600 text-white rounded",onClick:()=>G("imagen",L),title:"Usar como principal",children:"Principal"}),l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-gray-200 rounded",onClick:()=>Le(R,"up"),disabled:R<=0,title:"Subir",children:"↑"}),l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-gray-200 rounded",onClick:()=>Le(R,"down"),disabled:R>=r.imagenes.length-1,title:"Bajar",children:"↓"})]})]},R))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos del Producto"}),l.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:L=>{var R;(R=L.target.files)!=null&&R.length&&(U(L.target.files),L.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Array.isArray(r.videoUrls)&&r.videoUrls.length>0&&l.jsx("div",{className:"mt-3 space-y-2",children:r.videoUrls.map((L,R)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("video",{src:L,controls:!0,className:"w-40 max-h-28 rounded border",preload:"metadata"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 text-[12px] bg-blue-600 text-white rounded",onClick:()=>D(R,"up"),disabled:R===0,title:"Subir",children:"↑"}),l.jsx("button",{type:"button",className:"px-2 py-1 text-[12px] bg-gray-200 rounded",onClick:()=>D(R,"down"),disabled:R===r.videoUrls.length-1,title:"Bajar",children:"↓"}),l.jsx("button",{type:"button",className:"px-2 py-1 text-[12px] text-red-600",onClick:()=>{if(!window.confirm("¿Seguro que quieres eliminar este video?"))return;const B=r.videoUrls.filter((Y,Z)=>Z!==R);G("videoUrls",B)},children:"Quitar"})]})]},R))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL del Video (opcional)"}),l.jsx("input",{type:"url",value:r.videoUrl,onChange:L=>G("videoUrl",L.target.value),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subir Video desde el dispositivo (opcional)"}),l.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:async L=>U(L.target.files),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(((ae=r.videoUrls)==null?void 0:ae.length)||0)>0&&l.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.videoUrls.map((L,R)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("video",{src:L,controls:!0,className:"w-48 max-h-32 rounded border",preload:"metadata"}),l.jsx("button",{type:"button",onClick:()=>G("videoUrls",r.videoUrls.filter((B,Y)=>Y!==R)),className:"px-3 py-2 text-red-600 hover:text-red-700",children:"Quitar"})]},R))}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("input",{type:"url",placeholder:"Pegar URL de video y presiona Agregar",value:r._tempVideoUrl||"",onChange:L=>G("_tempVideoUrl",L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{type:"button",onClick:()=>{const L=(r._tempVideoUrl||"").trim();L&&(G("videoUrls",[...r.videoUrls||[],L]),G("_tempVideoUrl",""))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Agregar"})]})]})]}),l.jsxs("div",{className:"mt-8 space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Detalles del Producto"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Características (Acerca de)"}),r.acerca.map((L,R)=>l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:L,onChange:B=>V("acerca",R,B.target.value),placeholder:"Característica del producto",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{type:"button",onClick:()=>j("acerca",R),className:"px-3 py-2 text-red-500 hover:text-red-700",children:"×"})]},R)),l.jsx("button",{type:"button",onClick:()=>I("acerca"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar característica"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas (para búsqueda)"}),r.etiquetas.map((L,R)=>l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:L,onChange:B=>V("etiquetas",R,B.target.value),placeholder:"Etiqueta",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{type:"button",onClick:()=>j("etiquetas",R),className:"px-3 py-2 text-red-500 hover:text-red-700",children:"×"})]},R)),l.jsx("button",{type:"button",onClick:()=>I("etiquetas"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar etiqueta"})]})]}),l.jsxs("div",{className:"mt-8 space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b pb-2",children:"Variantes del Producto"}),r.variantes.map((L,R)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h4",{className:"font-medium",children:["Variante ",R+1]}),l.jsx("button",{type:"button",onClick:()=>j("variantes",R),className:"text-red-500 hover:text-red-700",children:"Eliminar"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color/Tipo"}),l.jsx("input",{type:"text",value:L.color,onChange:B=>E(R,"color",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),l.jsx("input",{type:"number",min:"0",value:L.cantidad,onChange:B=>E(R,"cantidad",parseInt(B.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen de Variante"}),l.jsx("input",{type:"file",accept:"image/*",onChange:B=>{var Y;return((Y=B.target.files)==null?void 0:Y.length)&&$(B.target.files,"imagen",R)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),L.imagen&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:L.imagen,alt:"Variante",className:"w-20 h-20 object-cover rounded border"})})]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imágenes adicionales de la variante"}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:B=>{var Y;return((Y=B.target.files)==null?void 0:Y.length)&&$(B.target.files,"imagenes",R)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Array.isArray(L.imagenes)&&L.imagenes.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:L.imagenes.map((B,Y)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:B,alt:`Var img ${Y}`,className:"w-16 h-16 object-cover rounded border"}),B===L.imagen&&l.jsx("span",{className:"absolute top-1 left-1 text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white shadow",children:"Principal"}),l.jsx("button",{type:"button",onClick:()=>{const Z=L.imagenes.filter((ie,ue)=>ue!==Y);E(R,"imagenes",Z)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",title:"Quitar",children:"×"}),l.jsxs("div",{className:"absolute inset-x-0 -bottom-8 hidden group-hover:flex items-center justify-center gap-1",children:[l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-blue-600 text-white rounded",onClick:()=>E(R,"imagen",B),title:"Usar como principal de variante",children:"Principal"}),l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-gray-200 rounded",onClick:()=>Me(R,Y,"up"),disabled:Y<=0,title:"Subir",children:"↑"}),l.jsx("button",{type:"button",className:"px-1 py-0.5 text-[10px] bg-gray-200 rounded",onClick:()=>Me(R,Y,"down"),disabled:Y>=L.imagenes.length-1,title:"Bajar",children:"↓"})]})]},Y))})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Videos de la variante"}),l.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:B=>{var Y;return((Y=B.target.files)==null?void 0:Y.length)&&H(B.target.files,R)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Array.isArray(L.videoUrls)&&L.videoUrls.length>0&&l.jsx("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2",children:L.videoUrls.map((B,Y)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("video",{src:B,controls:!0,className:"w-40 max-h-28 rounded border",preload:"metadata"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",className:"px-2 py-1 text-[12px] bg-gray-200 rounded",onClick:()=>M(R,Y,"up"),disabled:Y===0,title:"Subir",children:"↑"}),l.jsx("button",{type:"button",className:"px-2 py-1 text-[12px] bg-gray-200 rounded",onClick:()=>M(R,Y,"down"),disabled:Y===L.videoUrls.length-1,title:"Bajar",children:"↓"}),l.jsx("button",{type:"button",onClick:()=>{const Z=L.videoUrls.filter((ie,ue)=>ue!==Y);E(R,"videoUrls",Z)},className:"px-2 py-1 text-[12px] text-red-600 hover:text-red-700",children:"Quitar"})]})]},Y))})]})]},R)),l.jsx("button",{type:"button",onClick:()=>I("variantes"),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Agregar variante"})]})]})}),l.jsxs("div",{className:"pf-buttons-container",children:[l.jsx("button",{type:"button",onClick:e,className:"pf-button pf-button--cancel",children:"Cancelar"}),l.jsx("button",{type:"button",onClick:k,className:"pf-button pf-button--draft",title:"Guardar para seguir editando después",children:"Guardar para más tarde"}),l.jsx("button",{type:"submit",disabled:m,className:`pf-button pf-button--primary ${m?"pf-button--loading":""}`,children:m?"Guardando...":"Guardar Producto"})]})]})]})})};function Q7(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Rl(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Y7(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function X7(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function J7(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function Z7(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function rj(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Vx(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Ny(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function wE(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function eF(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function _E(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function fm(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function tF(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function sj(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function nF(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Sf(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}const rF=({onAddProduct:t,onEditProduct:e})=>{const[n,r]=N.useState([]),[s,o]=N.useState([]),[c,d]=N.useState(!0),[h,m]=N.useState(""),[y,g]=N.useState(""),[v,_]=N.useState("fechaCreacion"),[C,S]=N.useState("desc"),[k,D]=N.useState(!1),[M,F]=N.useState(null),[H,Q]=N.useState(null),[G,V]=N.useState(null);N.useEffect(()=>{I(),j()},[]);const I=async()=>{try{const ae=(await _r(St(Ee,"categorias"))).docs.map(L=>({id:L.id,...L.data()}));o(ae)}catch(W){console.error("Error loading categories:",W)}},j=()=>{try{const W=Wt(St(Ee,"productos"),Cs("fechaCreacion","desc"));return Jn(W,L=>{const R=L.docs.map(B=>({id:B.id,...B.data()}));r(R),d(!1)})}catch(W){console.error("Error loading products:",W),d(!1)}},E=async(W,ae)=>{try{await _n($e(Ee,"productos",W),{activo:!ae,fechaActualizacion:new Date})}catch(L){console.error("Error updating product status:",L),alert("Error al actualizar el estado del producto")}},U=async W=>{try{const ae=`prod_${Date.now()}`,L={...W,nombre:`${W.nombre} (Copia)`,fechaCreacion:new Date,fechaActualizacion:new Date};await En($e(Ee,"productos",ae),L),alert("Producto duplicado exitosamente")}catch(ae){console.error("Error duplicating product:",ae),alert("Error al duplicar el producto")}},$=async(W,ae,L)=>{try{await _n($e(Ee,"productos",W),{[ae]:L,fechaActualizacion:new Date})}catch(R){console.error(`Error updating ${ae}:`,R),alert(`Error al actualizar ${ae}`)}},P=async()=>{if(M)try{await Wm($e(Ee,"productos",M.id)),D(!1),F(null),alert("Producto eliminado exitosamente")}catch(W){console.error("Error deleting product:",W),alert("Error al eliminar el producto")}},ye=n.filter(W=>{var R,B,Y;const ae=((R=W.nombre)==null?void 0:R.toLowerCase().includes(h.toLowerCase()))||((B=W.descripcion)==null?void 0:B.toLowerCase().includes(h.toLowerCase()))||((Y=W.empresa)==null?void 0:Y.toLowerCase().includes(h.toLowerCase())),L=!y||W.categoria===y;return ae&&L}).sort((W,ae)=>{let L=W[v],R=ae[v];return v==="precio"?(L=parseFloat(L)||0,R=parseFloat(R)||0):(v==="fechaCreacion"||v==="fechaActualizacion")&&(L=new Date(L!=null&&L.seconds?L.seconds*1e3:L),R=new Date(R!=null&&R.seconds?R.seconds*1e3:R)),C==="asc"?L>R?1:-1:L<R?1:-1}),Le=W=>{const ae=s.find(L=>L.id===W);return(ae==null?void 0:ae.nombre)||W},Me=W=>W?(W.seconds?new Date(W.seconds*1e3):new Date(W)).toLocaleDateString("es-ES"):"N/A",we=W=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(W||0);return c?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Gestión de Productos"}),l.jsxs("p",{className:"text-gray-600",children:[n.length," productos en total"]})]}),l.jsxs("button",{onClick:t,className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:"+"}),"Agregar Producto"]})]}),l.jsx("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-sm border",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar productos"}),l.jsx("input",{type:"text",placeholder:"Nombre, descripción, empresa...",value:h,onChange:W=>m(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría"}),l.jsxs("select",{value:y,onChange:W=>g(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todas las categorías"}),s.map(W=>l.jsx("option",{value:W.id,children:W.nombre},W.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordenar por"}),l.jsxs("select",{value:v,onChange:W=>_(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"fechaCreacion",children:"Fecha de creación"}),l.jsx("option",{value:"fechaActualizacion",children:"Última actualización"}),l.jsx("option",{value:"nombre",children:"Nombre"}),l.jsx("option",{value:"precio",children:"Precio"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden"}),l.jsxs("select",{value:C,onChange:W=>S(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"desc",children:"Descendente"}),l.jsx("option",{value:"asc",children:"Ascendente"})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4 md:gap-6",children:l.jsx(Gt,{children:ye.map(W=>l.jsxs(te.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"relative h-48 bg-white rounded-t-lg overflow-hidden flex items-center justify-center",children:[(()=>{const ae=W.imagen||(Array.isArray(W.imagenes)&&W.imagenes.length>0?W.imagenes[0]:null)||(Array.isArray(W.variantes)&&W.variantes.length>0&&W.variantes[0].imagen?W.variantes[0].imagen:null)||(Array.isArray(W.variantes)&&W.variantes.length>0&&Array.isArray(W.variantes[0].imagenes)&&W.variantes[0].imagenes.length>0?W.variantes[0].imagenes[0]:null);return ae?l.jsx("img",{src:ae,alt:W.nombre,className:"max-h-full max-w-full object-contain",onError:L=>{L.target.style.display="none",L.target.nextSibling.style.display="flex"}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm",children:"Sin imagen"})]})})})(),l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-50",style:{display:"none"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm",children:"Sin imagen"})]})}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.activo?"Activo":"Inactivo"})}),W.oferta&&l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Oferta"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:W.nombre}),l.jsx("button",{onClick:()=>E(W.id,W.activo),className:`ml-2 p-1 rounded ${W.activo?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:W.activo?"Desactivar":"Activar",children:W.activo?l.jsx(Vx,{}):l.jsx(rj,{})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Le(W.categoria)}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G===W.id?l.jsx("input",{type:"number",step:"0.01",defaultValue:W.precio,onBlur:ae=>{$(W.id,"precio",parseFloat(ae.target.value)||0),V(null)},onKeyDown:ae=>{ae.key==="Enter"&&($(W.id,"precio",parseFloat(ae.target.value)||0),V(null)),ae.key==="Escape"&&V(null)},className:"text-lg font-bold text-blue-700 bg-blue-50 border border-blue-200 rounded px-2 py-1 w-24",autoFocus:!0}):l.jsx("p",{className:"text-lg font-bold text-blue-700 cursor-pointer hover:bg-blue-50 px-2 py-1 rounded",onClick:()=>V(W.id),title:"Click para editar precio",children:we(W.precio)}),W.cantidad!==void 0&&l.jsx("div",{className:"text-sm",children:H===W.id?l.jsx("input",{type:"number",min:"0",defaultValue:W.cantidad,onBlur:ae=>{$(W.id,"cantidad",parseInt(ae.target.value)||0),Q(null)},onKeyDown:ae=>{ae.key==="Enter"&&($(W.id,"cantidad",parseInt(ae.target.value)||0),Q(null)),ae.key==="Escape"&&Q(null)},className:"bg-gray-50 border border-gray-200 rounded px-2 py-1 w-16 text-center",autoFocus:!0}):l.jsxs("span",{className:`cursor-pointer hover:bg-gray-50 px-2 py-1 rounded ${W.cantidad<=5?"text-red-600 font-semibold":W.cantidad<=20?"text-yellow-600":"text-green-600"}`,onClick:()=>Q(W.id),title:"Click para editar cantidad",children:["Stock: ",W.cantidad]})})]}),l.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3",children:W.descripcion}),l.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:[l.jsxs("p",{children:["Creado: ",Me(W.fechaCreacion)]}),W.fechaActualizacion&&l.jsxs("p",{children:["Actualizado: ",Me(W.fechaActualizacion)]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>e(W),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Editar"}),l.jsx("button",{onClick:()=>U(W),className:"px-3 py-2 border border-gray-300 rounded text-sm hover:bg-gray-50 transition-colors",title:"Duplicar",children:l.jsx(J7,{})}),l.jsx("button",{onClick:()=>{F(W),D(!0)},className:"px-3 py-2 border border-red-300 text-red-600 rounded text-sm hover:bg-red-50 transition-colors",title:"Eliminar",children:l.jsx(sj,{})})]})]})]},W.id))})}),ye.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4 flex justify-center",children:l.jsx(eF,{})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),l.jsx("p",{className:"text-gray-500 mb-4",children:h||y?"Intenta ajustar los filtros de búsqueda":"Comienza agregando tu primer producto"}),!h&&!y&&l.jsx("button",{onClick:t,className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Agregar Primer Producto"})]}),l.jsx(Gt,{children:k&&l.jsx(te.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx(te.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:l.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),l.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-2",children:"Confirmar Eliminación"}),l.jsxs("p",{className:"text-center text-gray-600 mb-6",children:['¿Estás seguro de que deseas eliminar el producto "',M==null?void 0:M.nombre,'"? Esta acción no se puede deshacer.']}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{D(!1),F(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})})})]})},sF=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[s,o]=N.useState(!1),[c,d]=N.useState(null),[h,m]=N.useState(!1),[y,g]=N.useState(null),[v,_]=N.useState({nombre:"",descripcion:"",imagen:"",activa:!0,orden:0}),[C,S]=N.useState(!1);N.useEffect(()=>{k()},[]);const k=()=>{try{return Jn(St(Ee,"categorias"),E=>{const U=E.docs.map($=>({id:$.id,...$.data()})).sort(($,P)=>($.orden||0)-(P.orden||0));e(U),r(!1)})}catch(j){console.error("Error loading categories:",j),r(!1)}},D=()=>{_({nombre:"",descripcion:"",imagen:"",activa:!0,orden:t.length}),d(null)},M=j=>{d(j),_({nombre:j.nombre||"",descripcion:j.descripcion||"",imagen:j.imagen||"",activa:j.activa!==!1,orden:j.orden||0}),o(!0)},F=async j=>{S(!0);try{const E=nm(rm,`categorias/${Date.now()}_${j.name}`);await em(E,j);const U=await tm(E);_($=>({...$,imagen:U}))}catch(E){console.error("Error uploading image:",E),alert("Error al subir la imagen")}finally{S(!1)}},H=async j=>{j.preventDefault(),r(!0);try{const E={...v,ruta:v.nombre.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),fechaActualizacion:new Date};if(c)await _n($e(Ee,"categorias",c.id),E);else{E.fechaCreacion=new Date,E.productCount=0;const U=E.ruta;await En($e(Ee,"categorias",U),E)}o(!1),D()}catch(E){console.error("Error saving category:",E),alert("Error al guardar la categoría")}finally{r(!1)}},Q=async(j,E)=>{try{await _n($e(Ee,"categorias",j),{activa:!E,fechaActualizacion:new Date})}catch(U){console.error("Error updating category status:",U),alert("Error al actualizar el estado de la categoría")}},G=async()=>{if(y)try{await Wm($e(Ee,"categorias",y.id)),m(!1),g(null),alert("Categoría eliminada exitosamente")}catch(j){console.error("Error deleting category:",j),alert("Error al eliminar la categoría")}},V=async(j,E)=>{const U=t.findIndex(P=>P.id===j);if(U===-1)return;const $=E==="up"?U-1:U+1;if(!($<0||$>=t.length))try{const P=[],ye=t[U],Le=t[$];P.push(_n($e(Ee,"categorias",ye.id),{orden:$}),_n($e(Ee,"categorias",Le.id),{orden:U})),await Promise.all(P)}catch(P){console.error("Error reordering categories:",P),alert("Error al reordenar las categorías")}},I=j=>j?(j.seconds?new Date(j.seconds*1e3):new Date(j)).toLocaleDateString("es-ES"):"N/A";return n&&t.length===0?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Gestión de Categorías"}),l.jsxs("p",{className:"text-gray-600",children:[t.length," categorías en total"]})]}),l.jsxs("button",{onClick:()=>{D(),o(!0)},className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:"+"}),"Agregar Categoría"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📁"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay categorías"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza creando tu primera categoría de productos"}),l.jsx("button",{onClick:()=>{D(),o(!0)},className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Crear Primera Categoría"})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:l.jsx(Gt,{children:t.map((j,E)=>l.jsx(te.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:j.imagen?l.jsx("img",{src:j.imagen,alt:j.nombre,className:"w-full h-full object-cover"}):l.jsx(Ny,{className:"text-gray-400 text-2xl"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:j.nombre}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.activa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.activa?"Activa":"Inactiva"})]}),j.descripcion&&l.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:j.descripcion}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("span",{children:["Ruta: /",j.ruta]}),l.jsxs("span",{children:["Productos: ",j.productCount||0]}),l.jsxs("span",{children:["Creada: ",I(j.fechaCreacion)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("button",{onClick:()=>V(j.id,"up"),disabled:E===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover arriba",children:l.jsx(X7,{})}),l.jsx("button",{onClick:()=>V(j.id,"down"),disabled:E===t.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover abajo",children:l.jsx(Y7,{})})]}),l.jsx("button",{onClick:()=>Q(j.id,j.activa),className:`p-2 rounded ${j.activa?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:j.activa?"Desactivar":"Activar",children:j.activa?l.jsx(Vx,{}):l.jsx(rj,{})}),l.jsx("button",{onClick:()=>M(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:l.jsx(Z7,{})}),l.jsx("button",{onClick:()=>{g(j),m(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Eliminar",children:l.jsx(sj,{})})]})]})},j.id))})})}),l.jsx(Gt,{children:s&&l.jsx(te.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[l.jsxs("div",{className:"bg-blue-700 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[l.jsx("h2",{className:"text-xl font-bold",children:c?"Editar Categoría":"Agregar Categoría"}),l.jsx("button",{onClick:()=>{o(!1),D()},className:"text-white hover:text-gray-200 text-2xl font-bold",children:"×"})]}),l.jsxs("form",{onSubmit:H,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Categoría *"}),l.jsx("input",{type:"text",required:!0,value:v.nombre,onChange:j=>_(E=>({...E,nombre:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Videojuegos"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden"}),l.jsx("input",{type:"number",min:"0",value:v.orden,onChange:j=>_(E=>({...E,orden:parseInt(j.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),l.jsx("textarea",{rows:3,value:v.descripcion,onChange:j=>_(E=>({...E,descripcion:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripción opcional de la categoría"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de la Categoría"}),l.jsx("input",{type:"file",accept:"image/*",onChange:j=>{var E;return((E=j.target.files)==null?void 0:E[0])&&F(j.target.files[0])},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.imagen&&l.jsx("div",{className:"mt-3",children:l.jsx("img",{src:v.imagen,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:v.activa,onChange:j=>_(E=>({...E,activa:j.target.checked})),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),"Categoría activa"]})}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>{o(!1),D()},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:C,className:"px-6 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Subiendo imagen...":c?"Actualizar":"Crear Categoría"})]})]})]})})}),l.jsx(Gt,{children:h&&l.jsx(te.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx(te.div,{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:l.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),l.jsx("h3",{className:"text-lg font-semibold text-center text-gray-900 mb-2",children:"Confirmar Eliminación"}),l.jsxs("p",{className:"text-center text-gray-600 mb-6",children:['¿Estás seguro de que deseas eliminar la categoría "',y==null?void 0:y.nombre,'"? Esta acción no se puede deshacer y puede afectar los productos asociados.']}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{m(!1),g(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:G,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})})})]})},EE=({onAddProduct:t,onOpenCategories:e,onViewAllProducts:n,onViewAllOrders:r})=>{const[s,o]=N.useState({totalProducts:0,activeProducts:0,totalCategories:0,activeCategories:0,totalUsers:0,totalOrders:0,recentProducts:[],recentOrders:[]}),[c,d]=N.useState(!0);N.useEffect(()=>{const g=[],v=Wt(St(Ee,"productos"),Cs("fechaActualizacion","desc"),Gf(5)),_=Jn(v,D=>{const M=D.docs.map(F=>({id:F.id,...F.data()}));o(F=>({...F,recentProducts:M}))});g.push(_);const C=Wt(St(Ee,"productos")),S=Jn(C,D=>{let M=0;D.forEach(F=>{var H;(H=F.data())!=null&&H.activo&&M++}),o(F=>({...F,totalProducts:D.size,activeProducts:M}))});return g.push(S),(async()=>{try{const M=(await _r(Wt(St(Ee,"categorias")))).docs.map(G=>({id:G.id,...G.data()})),F=await _r(Wt(St(Ee,"users"))),H=await _r(Wt(St(Ee,"orders"),Cs("fecha","desc"),Gf(5))),Q=H.docs.map(G=>({id:G.id,...G.data()}));o(G=>({...G,totalCategories:M.length,activeCategories:M.filter(V=>V.activa).length,totalUsers:F.size,totalOrders:H.size,recentOrders:Q}))}catch(D){console.error("Error loading dashboard data:",D)}finally{d(!1)}})(),()=>{g.forEach(D=>D())}},[]);const h=g=>g?(g.seconds?new Date(g.seconds*1e3):new Date(g)).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"N/A",m=g=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(g||0);if(c)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-700"})});const y=[{title:"Total Productos",value:s.totalProducts,subtitle:`${s.activeProducts} activos`,icon:l.jsx(Rl,{}),color:"bg-blue-500",textColor:"text-blue-600"},{title:"Categorías",value:s.totalCategories,subtitle:`${s.activeCategories} activas`,icon:l.jsx(Ny,{}),color:"bg-green-500",textColor:"text-green-600"},{title:"Usuarios",value:s.totalUsers,subtitle:"Registrados",icon:l.jsx(Sf,{}),color:"bg-purple-500",textColor:"text-purple-600"},{title:"Pedidos",value:s.totalOrders,subtitle:"Total histórico",icon:l.jsx(fm,{}),color:"bg-orange-500",textColor:"text-orange-600"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Dashboard Administrativo"}),l.jsx("p",{className:"text-gray-600",children:"Resumen general del sistema"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((g,v)=>l.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:g.value}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.subtitle})]}),l.jsx("div",{className:`w-12 h-12 ${g.color} rounded-lg flex items-center justify-center text-white text-2xl`,children:g.icon})]})},g.title))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Productos Recientes"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Últimos productos agregados"}),l.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-700 font-medium float-right",children:"Ver todos"})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:s.recentProducts.length>0?s.recentProducts.map(g=>l.jsx("div",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:[(()=>{const v=g.imagen||(Array.isArray(g.imagenes)&&g.imagenes.length>0?g.imagenes[0]:null)||(Array.isArray(g.variantes)&&g.variantes.length>0&&g.variantes[0].imagen?g.variantes[0].imagen:null)||(Array.isArray(g.variantes)&&g.variantes.length>0&&Array.isArray(g.variantes[0].imagenes)&&g.variantes[0].imagenes.length>0?g.variantes[0].imagenes[0]:null);return v?l.jsx("img",{src:v,alt:g.nombre,className:"w-full h-full object-cover",onError:_=>{_.target.style.display="none",_.target.nextSibling.style.display="flex"}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx(Rl,{})})})(),l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",style:{display:"none"},children:l.jsx(Rl,{})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 truncate",children:g.nombre}),l.jsx("p",{className:"text-sm text-gray-600",children:m(g.precio)}),l.jsx("p",{className:"text-xs text-gray-500",children:h(g.fechaCreacion)})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.activo?"Activo":"Inactivo"})})]})},g.id)):l.jsxs("div",{className:"p-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2 inline-flex",children:l.jsx(Rl,{})}),l.jsx("p",{children:"No hay productos recientes"})]})})]}),l.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pedidos Recientes"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Últimos pedidos recibidos"}),l.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-700 font-medium float-right",children:"Ver todos"})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:s.recentOrders.length>0?s.recentOrders.map(g=>{var v,_;return l.jsx("div",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-gray-900",children:["Pedido #",((v=g.id)==null?void 0:v.slice(-8))||"N/A"]}),l.jsx("p",{className:"text-sm text-gray-600",children:((_=g.usuario)==null?void 0:_.nombre)||"Usuario desconocido"}),l.jsx("p",{className:"text-xs text-gray-500",children:h(g.fecha)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:m(g.total)}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.estado==="completado"?"bg-green-100 text-green-800":g.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:g.estado||"Pendiente"})]})]})},g.id)}):l.jsxs("div",{className:"p-8 text-center text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2 inline-flex",children:l.jsx(fm,{})}),l.jsx("p",{children:"No hay pedidos recientes"})]})})]})]}),l.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:t,className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 text-xl",children:l.jsx(Rl,{})})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Agregar Producto"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Crear nuevo producto"})]})]}),l.jsxs("button",{onClick:e,className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-green-600 text-xl",children:l.jsx(Ny,{})})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Nueva Categoría"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Crear categoría"})]})]})]})]})]})},g0="text-blue-900",iF="bg-blue-800",oF="bg-green-200 text-green-900",aF="bg-blue-200 text-blue-900",mm="ZeiFzBgosCd0apv9cXL6aQZCYyu2";function ij(t=""){var n,r;if(!t)return"US";const e=t.trim().split(" ");return((((n=e[0])==null?void 0:n[0])||"")+(((r=e[1])==null?void 0:r[0])||"")).toUpperCase()}function lF(t=""){if(!t)return null;const e=t.match(/(https?:\/\/[^\s]+)/i);if(e)return e[1];const n=t.match(/(maps\.app\.[^\s]+|goo\.gl\/[^\s]+|google\.com\/maps[^\s]*)/i);if(n){const r=n[0];return r.startsWith("http")?r:`https://${r}`}return null}function SE(t){if(!t)return null;if(typeof t=="object"&&t.seconds)return new Date(t.seconds*1e3).toLocaleString();const e=new Date(t);return isNaN(e.getTime())?String(t):e.toLocaleString()}function cF({usuario:t,onClose:e}){const[n,r]=N.useState([]),[s,o]=N.useState(!0),[c,d]=N.useState(t),[h,m]=N.useState(null);N.useEffect(()=>{if(!(t!=null&&t.id))return;const v=Jn($e(Ee,"users",t.id),C=>{C.exists()&&d(S=>({...S,...C.data()}))}),_=Jn($e(Ee,"usuarios",t.id),C=>{C.exists()&&d(S=>({...S,...C.data()}))});return()=>{v(),_()}},[t==null?void 0:t.id]),N.useEffect(()=>{if(!t)return;const v=Wt(St(Ee,"orders")),_=Jn(v,C=>{const S=C.docs.map(k=>({id:k.id,...k.data()})).filter(k=>String(k.userId)===String(t.id));r(S.sort((k,D)=>{var H,Q;const M=((H=k.fecha)==null?void 0:H.seconds)||0;return(((Q=D.fecha)==null?void 0:Q.seconds)||0)-M})),o(!1)},()=>{r([]),o(!1)});return()=>_()},[t]),N.useEffect(()=>{const v=_=>{_.key==="Escape"&&(e==null||e())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[e]);const y=(c==null?void 0:c.direccion)||(c==null?void 0:c.direccionCompleta)||"",g=(c==null?void 0:c.ubicacion)||lF(y);return l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e,"aria-hidden":"true"}),l.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed top-0 left-0 w-full h-full max-h-none !rounded-none !shadow-none bg-white overflow-y-auto flex flex-col",style:{zIndex:1e4},onClick:v=>v.stopPropagation(),children:[l.jsxs("header",{className:`flex justify-between items-center px-6 py-4 shadow ${iF}`,children:[l.jsxs("div",{className:"admin-user-header",children:[l.jsx("div",{className:"admin-user-avatar",children:ij((c==null?void 0:c.displayName)||(c==null?void 0:c.nombre))}),l.jsxs("div",{className:"admin-user-info",children:[l.jsx("h2",{className:"admin-user-name",children:(c==null?void 0:c.displayName)||(c==null?void 0:c.nombre)||"Usuario"}),l.jsx("p",{className:"admin-user-email",children:c==null?void 0:c.email}),l.jsx("div",{className:"admin-user-badges",children:l.jsx("span",{className:t.id===mm?"badge-admin":"badge-user",children:t.id===mm?"Admin":"Usuario"})})]})]}),l.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"admin-close-btn",children:"×"})]}),l.jsxs("div",{className:"flex-1 px-2 sm:px-8 py-4 sm:py-8 space-y-7 bg-gray-50",children:[l.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:l.jsx(nF,{})}),l.jsx("h3",{className:`text-xl font-bold ${g0}`,children:"Información Personal"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[l.jsx(_l,{label:"Nombre Completo",value:c.displayName||"No especificado"}),l.jsx(_l,{label:"Email",value:c.email||"No especificado"}),l.jsx(_l,{label:"Teléfono",value:c.telefono||"No especificado"}),l.jsx(_l,{label:"Código de Usuario",value:c.codigo||"No asignado"}),l.jsx(_l,{label:"Método de Entrega",value:c.metodoEntrega||"No especificado"}),l.jsx(_l,{label:"Fecha de Registro",value:c.createdAt?SE(c.createdAt):"No disponible"})]})]}),l.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:l.jsx(wE,{})}),l.jsx("h3",{className:`text-xl font-bold ${g0}`,children:"Dirección y Ubicación"})]}),l.jsx("p",{className:"text-base text-blue-900 mb-4",children:y||"No se ha registrado dirección"}),g&&l.jsxs("a",{href:g,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:[l.jsx(wE,{})," Ver en Google Maps"]})]}),l.jsxs("section",{className:"bg-white rounded-xl border shadow p-4 sm:p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700",children:l.jsx(fm,{})}),l.jsx("h3",{className:`text-xl font-bold ${g0}`,children:"Historial de Compras"}),l.jsxs("span",{className:"bg-blue-100 text-blue-900 px-3 py-1 rounded-full text-sm font-bold",children:[n.length," ",n.length===1?"compra":"compras"]})]}),s?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"}),l.jsx("span",{className:"ml-3 text-blue-700",children:"Cargando historial..."})]}):n.length===0?l.jsxs("div",{className:"text-center py-12 bg-blue-50 rounded-xl",children:[l.jsx("div",{className:"text-6xl mb-4 text-blue-700 flex items-center justify-center",children:l.jsx(fm,{})}),l.jsx("p",{className:"text-xl text-blue-700 font-medium",children:"No hay compras registradas"})]}):l.jsx("div",{className:"admin-orders-grid",children:n.map(v=>{var _,C;return l.jsxs("div",{className:"admin-order-card",children:[l.jsxs("div",{className:"admin-order-header",children:[l.jsxs("div",{className:"order-info",children:[l.jsx("h4",{className:"order-number",children:v.numeroOrden||`#${v.id.slice(-8)}`}),l.jsx("p",{className:"order-date",children:SE(v.fecha)})]}),l.jsxs("div",{className:"order-status-price",children:[l.jsx("span",{className:`admin-status-badge ${v.estado||"pendiente"}`,children:v.estado==="completado"?"✓ Completado":v.estado==="cancelado"?"✗ Cancelado":"⏳ Pendiente"}),l.jsx("div",{className:"order-total",children:new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(v.total||0)})]})]}),l.jsx("div",{className:"admin-order-customer",children:l.jsxs("div",{className:"customer-info",children:[l.jsx("span",{className:"customer-name",children:v.userName||"Usuario"}),l.jsx("span",{className:"customer-email",children:v.userEmail})]})}),l.jsxs("div",{className:"admin-products-preview",children:[(_=v.productos)==null?void 0:_.slice(0,3).map((S,k)=>l.jsx("div",{className:"admin-product-item",children:l.jsxs("div",{className:"admin-product-info",children:[l.jsx("span",{className:"product-name",children:S.nombre}),l.jsxs("span",{className:"product-quantity",children:["Cantidad: ",S.cantidad," • ",new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(S.precio)]}),l.jsx("button",{className:"btn-view-product",onClick:D=>{D.stopPropagation(),window.location.href=`/producto/${S.id}`},title:"Ver producto",children:l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(Vx,{})," Ver producto"]})})]})},k)),((C=v.productos)==null?void 0:C.length)>3&&l.jsxs("div",{className:"more-products-admin",children:["+",v.productos.length-3," más productos"]})]}),l.jsxs("div",{className:"admin-order-actions",children:[l.jsx("button",{className:"btn-admin btn-view",onClick:()=>m(v),children:"Ver detalles"}),v.metodoPago&&l.jsx("span",{className:"payment-method",children:v.metodoPago})]})]},v.id)})})]})]}),l.jsx(Gt,{children:h&&l.jsx(oj,{order:h,onClose:()=>m(null)})})]})]})}function _l({label:t,value:e}){return l.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[l.jsx("p",{className:"font-semibold text-blue-700 text-xs mb-1",children:t}),l.jsx("p",{className:"text-base font-medium text-blue-900 break-all",children:e})]})}function uF(){const[t,e]=Fr.useState([]),[n,r]=Fr.useState(!0);return Fr.useEffect(()=>{const s=Wt(St(Ee,"orders"),Cs("fecha","desc")),o=Jn(s,c=>{const d=c.docs.map(h=>({id:h.id,...h.data()}));e(d),r(!1)},()=>r(!1));return()=>o()},[]),n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})}):t.length===0?l.jsx("div",{className:"text-center text-gray-600 py-8",children:"No hay pedidos registrados."}):l.jsx("div",{className:"divide-y border rounded-lg",children:t.map(s=>{var o;return l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-blue-900",children:["Pedido #",s.id.slice(-8)]}),l.jsx("p",{className:"text-sm text-gray-600",children:(o=s.fecha)!=null&&o.seconds?new Date(s.fecha.seconds*1e3).toLocaleString():""})]}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.estado==="completado"?"bg-green-100 text-green-800":s.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.estado||"Pendiente"})})]},s.id)})})}function dF(){const{usuario:t}=$r(),[e,n]=N.useState([]),[r,s]=N.useState(""),[o,c]=N.useState(null),[d,h]=N.useState(null),[m,y]=N.useState("dashboard"),[g,v]=N.useState(!1),[_,C]=N.useState(null);if(N.useEffect(()=>{if(!t||t.uid!==mm)return;const M=Jn(Wt(St(Ee,"users")),H=>{const Q=H.docs.map(G=>({id:G.id,...G.data()}));n(G=>{const V=[...Q];return G.forEach(I=>{const j=V.findIndex(E=>E.id===I.id);j>=0&&(V[j]={...V[j],...I})}),V})}),F=Jn(Wt(St(Ee,"usuarios")),H=>{const Q=H.docs.map(G=>({id:G.id,...G.data()}));n(G=>{const V=[...G];return Q.forEach(I=>{const j=V.findIndex(E=>E.id===I.id);j>=0?V[j]={...V[j],...I}:V.push(I)}),V})});return()=>{M(),F()}},[t]),!t)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Inicia sesión"});if(t.uid!==mm)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-50",children:"Sin acceso"});const S=e.filter(M=>{const F=r.toLowerCase();return(M.displayName||"").toLowerCase().includes(F)||(M.email||"").toLowerCase().includes(F)||(M.telefono||"").toLowerCase().includes(F)||(M.direccion||"").toLowerCase().includes(F)||(M.codigo||"").toLowerCase().includes(F)}),k=()=>{switch(m){case"dashboard":return l.jsx(EE,{onAddProduct:()=>{C(null),v(!0),y("products")},onOpenCategories:()=>y("categories"),onViewAllProducts:()=>y("products"),onViewAllOrders:()=>y("orders")});case"products":return l.jsx(rF,{onAddProduct:()=>{C(null),v(!0)},onEditProduct:M=>{C(M),v(!0)}});case"categories":return l.jsx(sF,{});case"users":return D();case"orders":return l.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-4 sm:p-6 border",children:[l.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Todos los pedidos"}),l.jsx(uF,{})]});default:return l.jsx(EE,{})}},D=()=>l.jsxs("div",{children:[l.jsx("div",{className:"bg-white rounded-xl shadow-xl p-3 sm:p-6 mb-8 border border-blue-100",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xl",children:l.jsx(_E,{})})}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, teléfono, dirección o código...",value:r,onChange:M=>s(M.target.value),className:"flex-1 px-4 py-3 text-base border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-400 transition-all"})]})}),S.length===0?l.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[l.jsx("div",{className:"text-7xl mb-6 text-blue-700 flex items-center justify-center",children:l.jsx(Sf,{})}),l.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"No se encontraron usuarios"}),l.jsx("p",{className:"text-blue-600 text-lg",children:"Intenta ajustar los términos de búsqueda"})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:S.map(M=>l.jsxs("div",{className:"bg-white border-2 border-blue-100 rounded-xl shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-200 cursor-pointer p-3 group flex flex-col items-center",onClick:()=>c(M),role:"button",tabIndex:0,onKeyDown:F=>{F.key==="Enter"&&c(M)},children:[l.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-700 flex items-center justify-center text-2xl font-bold text-white mb-2 shadow",children:ij(M.displayName)}),l.jsxs("div",{className:"w-full flex-1 flex flex-col items-center text-center",children:[l.jsx("h3",{className:"font-bold text-base text-blue-900 truncate w-full",children:M.displayName||"Usuario Sin Nombre"}),l.jsxs("p",{className:"text-xs text-blue-700 break-all truncate w-full",children:["ID: ",M.id]}),l.jsx("div",{className:"mt-1 mb-2 w-full",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${M.admin?oF:aF}`,children:M.admin?"Admin":"Usuario"})}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:l.jsx("p",{className:"text-xs text-blue-700 mb-1",children:M.email||"No email"})}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-1",children:l.jsx("p",{className:"text-xs text-blue-700",children:M.telefono||"No tel."})}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-2 w-full mb-2",children:l.jsx("p",{className:"text-xs text-blue-700 line-clamp-2",children:M.direccion||M.direccionCompleta||"No especificada"})})]}),l.jsx("span",{className:"text-xs text-blue-400",children:"Ver detalles →"})]},M.id))})]});return l.jsxs("main",{className:"min-h-screen bg-blue-50 p-2 sm:p-6 pt-20 sm:pt-24",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl sm:text-5xl font-extrabold mb-3 text-blue-900",children:"Panel Administrativo"}),l.jsx("p",{className:"text-base sm:text-xl text-blue-700 font-medium",children:"Gestión Completa del Sistema"}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-3",children:[l.jsxs("span",{className:"bg-blue-100 text-blue-900 px-4 py-2 rounded-full text-sm font-bold inline-flex items-center gap-2",children:[l.jsx(Sf,{})," ",e.length," ",e.length===1?"usuario":"usuarios"," registrados"]}),l.jsx("span",{className:"bg-green-100 text-green-900 px-4 py-2 rounded-full text-sm font-bold",children:"Sincronización en tiempo real"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-1 mb-8 border border-blue-100",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:[{id:"dashboard",label:"Dashboard",icon:l.jsx(Q7,{})},{id:"products",label:"Productos",icon:l.jsx(Rl,{})},{id:"categories",label:"Categorías",icon:l.jsx(tF,{})},{id:"orders",label:"Pedidos",icon:l.jsx(_E,{})},{id:"users",label:"Usuarios",icon:l.jsx(Sf,{})}].map(M=>l.jsx("button",{onClick:()=>y(M.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all duration-200 ${m===M.id?"bg-blue-700 text-white shadow-md":"text-blue-700 hover:bg-blue-50"}`,children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:M.icon}),l.jsx("span",{className:"hidden sm:inline",children:M.label})]})},M.id))})}),l.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:k()},m),o&&l.jsx(cF,{usuario:o,onClose:()=>c(null)}),g&&l.jsx(K7,{product:_,onClose:()=>{v(!1),C(null)},onSave:()=>{v(!1),C(null)}})]}),l.jsx(Gt,{children:d&&l.jsx(oj,{order:d,onClose:()=>h(null)})})]})}function oj({order:t,onClose:e}){var c,d;const n=h=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(h||0),r=h=>{if(!h)return"Fecha no disponible";let m;return typeof h=="object"&&h.seconds?m=new Date(h.seconds*1e3):m=new Date(h),m.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},s=h=>{switch(h){case"completado":return"status-completed";case"cancelado":return"status-cancelled";case"pendiente":return"status-pending";default:return"status-pending"}},o=h=>{switch(h){case"completado":return"✓ Completado";case"cancelado":return"✗ Cancelado";case"pendiente":return"⏳ Pendiente";default:return"⏳ Pendiente"}};return Fr.useEffect(()=>{const h=m=>{m.key==="Escape"&&e()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e]),l.jsx(te.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:l.jsxs(te.div,{className:"order-details-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:t.numeroOrden||`Orden #${t.id.slice(-8)}`}),l.jsx("p",{className:"order-date-detail",children:r(t.fecha)})]}),l.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"order-status-section",children:[l.jsx("span",{className:`status-badge large ${s(t.estado)}`,children:o(t.estado)}),t.estadoPago&&l.jsxs("span",{className:"payment-status",children:["Pago: ",t.estadoPago==="pagado"?"✓ Pagado":"✗ Fallido"]})]}),l.jsxs("div",{className:"order-summary",children:[l.jsx("h3",{children:"Resumen de la orden"}),l.jsxs("div",{className:"summary-row total",children:[l.jsx("span",{children:"Total pagado:"}),l.jsx("span",{children:n(t.total)})]})]}),l.jsxs("div",{className:"products-section",children:[l.jsxs("h3",{children:["Productos (",((c=t.productos)==null?void 0:c.length)||0,")"]}),l.jsx("div",{className:"products-list",children:(d=t.productos)==null?void 0:d.map((h,m)=>l.jsx("div",{className:"product-detail-item",children:l.jsxs("div",{className:"product-detail-info",children:[l.jsx("h4",{children:h.nombre}),l.jsx("p",{className:"product-company",children:h.empresa||"N/A"}),l.jsxs("div",{className:"product-pricing",children:[l.jsxs("span",{className:"quantity",children:["Cantidad: ",h.cantidad]}),l.jsxs("span",{className:"price",children:["Precio unitario: ",n(h.precio)]}),l.jsxs("span",{className:"subtotal",children:["Subtotal: ",n(h.subtotal||h.precio*h.cantidad)]})]}),l.jsx("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${h.id}`,title:"Ver producto",children:"👁️ Ver producto"})]})},m))})]}),t.direccionEntrega&&l.jsxs("div",{className:"delivery-section",children:[l.jsx("h3",{children:"Información de entrega"}),l.jsx("p",{children:t.direccionEntrega}),t.telefonoContacto&&l.jsxs("p",{children:["Teléfono: ",t.telefonoContacto]})]}),t.metodoPago&&l.jsxs("div",{className:"payment-section",children:[l.jsx("h3",{children:"Información de pago"}),l.jsxs("p",{children:["Método: ",t.metodoPago]})]})]})]})})}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TE=t=>{const e=fF(t);return e.charAt(0).toUpperCase()+e.slice(1)},aj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),mF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},h)=>N.createElement("svg",{ref:h,...pF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aj("lucide",s),...!o&&!mF(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,y])=>N.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=N.forwardRef(({className:r,...s},o)=>N.createElement(gF,{ref:o,iconNode:e,className:aj(`lucide-${hF(TE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=TE(t),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CE=pt("arrow-right",yF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NE=pt("calendar",vF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dl=pt("check",xF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lj=pt("chevron-down",bF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_F=pt("chevron-left",wF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SF=pt("chevron-right",EF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pm=pt("circle-check-big",TF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],NF=pt("circle-dollar-sign",CF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ku=pt("circle-x",kF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cj=pt("clock",jF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],IF=pt("credit-card",AF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],RF=pt("download",PF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kE=pt("eye",DF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],MF=pt("gift",VF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],LF=pt("hourglass",OF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Cu=pt("house",FF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BF=pt("locate-fixed",UF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zF=pt("map-pin",$F);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Xh=pt("map",HF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jE=pt("package",WF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uj=pt("pencil",qF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KF=pt("refresh-cw",GF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gm=pt("shield",QF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],XF=pt("shopping-bag",YF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ZF=pt("shopping-cart",JF);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],tU=pt("sparkles",eU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rU=pt("star",nU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],y0=pt("store",sU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dj=pt("trash-2",iU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AE=pt("triangle-alert",oU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lU=pt("trophy",aU);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hj=pt("zap",cU),xi=[{id:1,img:"/ads/1.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/6.png",link:"https://playcenterwisp.com",isExternal:!0},{id:2,img:"/ads/2.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/3.png",link:"/Productos/videojuegos",isExternal:!1},{id:4,img:"/ads/5.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/4.png",link:"/Productos",isExternal:!1}];function uU(){const[t,e]=N.useState(0),n=N.useRef(null),r=6e3,s=N.useCallback(()=>{clearTimeout(n.current),n.current=setTimeout(()=>{e(v=>(v+1)%xi.length)},r)},[]);N.useEffect(()=>(s(),()=>clearTimeout(n.current)),[t,s]);const o=()=>{clearTimeout(n.current),e(v=>v===0?xi.length-1:v-1)},c=()=>{clearTimeout(n.current),e(v=>(v+1)%xi.length)},d=N.useRef(0),h=N.useRef(0),m=v=>{d.current=v.touches[0].clientX},y=v=>{h.current=v.touches[0].clientX},g=()=>{const v=h.current-d.current;Math.abs(v)>50&&(v>0?o():c())};return l.jsxs("div",{onTouchStart:m,onTouchMove:y,onTouchEnd:g,className:`relative w-full max-w-[1600px] mx-auto overflow-hidden rounded-xl shadow-xl
        h-[140px] sm:h-[180px] md:h-[260px] lg:h-[400px]`,children:[l.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${xi.length*100}%`,transform:`translateX(-${t*(100/xi.length)}%)`},children:xi.map(v=>v.isExternal?l.jsx("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full flex-shrink-0",style:{width:`${100/xi.length}%`},children:l.jsx("img",{src:v.img,alt:`Anuncio ${v.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},v.id):l.jsx(st,{to:v.link,className:"w-full h-full flex-shrink-0",style:{width:`${100/xi.length}%`},children:l.jsx("img",{src:v.img,alt:`Anuncio ${v.id}`,loading:"lazy",className:"w-full h-full object-cover object-center transition-transform duration-500 hover:scale-[1.02]"})},v.id))}),l.jsx("button",{onClick:o,className:"absolute top-1/2 left-2 sm:left-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Anterior",children:l.jsx(_F,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),l.jsx("button",{onClick:c,className:"absolute top-1/2 right-2 sm:right-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition","aria-label":"Siguiente",children:l.jsx(SF,{className:"text-white w-4 h-4 sm:w-6 sm:h-6"})}),l.jsx("div",{className:"absolute bottom-3 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:xi.map((v,_)=>l.jsx("button",{onClick:()=>{clearTimeout(n.current),e(_)},"aria-label":`Ir al slide ${_+1}`,className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${_===t?"bg-white opacity-90 scale-110":"bg-white opacity-40"} transition`},_))})]})}const dU=[{id:1,img:"/ads/movil/aficionados-movil.png",link:"/Productos/coleccionables",isExternal:!1},{id:2,img:"/ads/movil/articulosads.png",link:"/Productos/videojuegos",isExternal:!1},{id:3,img:"/ads/movil/internetads.png",link:"https://playcenterwisp.com",isExternal:!0},{id:4,img:"/ads/movil/camarasads.png",link:"/Productos/camaras",isExternal:!1},{id:5,img:"/ads/movil/consolaads.png",link:"/Productos/consolas",isExternal:!1},{id:6,img:"/ads/movil/ofertas.png",link:"/Productos/ofertas-especiales",isExternal:!1},{id:7,img:"/ads/movil/productosads.png",link:"/Productos",isExternal:!1},{id:8,img:"/ads/movil/retroads.png",link:"/Productos/retro-juegos",isExternal:!1},{id:9,img:"/ads/movil/nuestras-estafetas.png",link:"/estafetas",isExternal:!1},{id:10,img:"/ads/movil/ubicacionads.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0}];function hU(){return l.jsx("div",{className:"block sm:hidden w-full max-w-[600px] mx-auto px-3 py-4",children:l.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide space-x-3",style:{scrollPaddingLeft:"12px",scrollPaddingRight:"12px"},children:dU.map(t=>l.jsx("a",{href:t.link,target:t.isExternal?"_blank":"_self",rel:"noreferrer",className:"flex-shrink-0 w-[300px] h-[420px] rounded-xl overflow-hidden shadow-lg bg-white snap-center",children:l.jsx("img",{src:t.img,alt:`Anuncio ${t.id}`,className:"w-full h-full object-cover",draggable:!1})},t.id))})})}const IE=["/animacion/img1.png","/animacion/img2.png","/animacion/img3.png","/animacion/img4.png","/animacion/img5.png","/animacion/img6.png","/animacion/img7.png","/animacion/img8.png","/animacion/img9.png","/animacion/img10.png"],fU=[...IE,...IE.slice(0,5)],mU=()=>l.jsx("div",{className:"loader",role:"presentation","aria-hidden":"true",children:fU.map((t,e)=>l.jsx("img",{src:t,alt:`Animación ${e+1}`},e))}),pr={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7}}};Array.from({length:17},(t,e)=>`/animacion/${e+1}.png`);function pU(){const{productsByCategory:t,categories:e,loading:n,error:r}=HV();return n?l.jsx("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-700 mx-auto mb-4"}),l.jsx("p",{className:"text-blue-700 text-lg",children:"Cargando productos..."})]})}):r?l.jsx("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-red-600",children:[l.jsx("p",{className:"text-lg",children:"Error cargando productos"}),l.jsx("p",{className:"text-sm",children:r})]})}):l.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-blue-100 min-h-screen",children:[l.jsx("div",{className:"hidden sm:block w-full",children:l.jsx("video",{src:"/videos/pcu-intro.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto object-cover",style:{marginTop:"0px"}})}),l.jsx(te.div,{className:"hidden sm:block w-full max-w-[1600px] mx-auto px-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl ring-1 ring-indigo-100",children:l.jsx(uU,{})})}),l.jsx(te.div,{className:"block sm:hidden w-full max-w-[600px] mx-auto px-2 mt-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsx(hU,{})}),l.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-14",children:e.slice(0,4).map((s,o)=>{const d=(t[s.id]||[]).slice(0,4);return l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5 group",variants:pr,initial:"hidden",animate:"visible",transition:{delay:.1*o},children:[l.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:s.nombre}),l.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:d.map((h,m)=>l.jsx(st,{to:`/producto/${h.id}`,children:l.jsx("img",{src:h.imagen||"/placeholder-product.png",alt:h.nombre,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm group-hover:scale-105 transition-transform"})},h.id))}),l.jsxs(st,{to:`/Productos/${s.ruta}`,className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:["Explora ",s.nombre," →"]})]},s.id)})}),l.jsx(te.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:pr,initial:"hidden",animate:"visible",children:l.jsx(st,{to:"/Productos/coleccionables",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:l.jsx("img",{src:"/ads/aficionados.png",alt:"Ver Nuestras colecciones",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),l.jsx("section",{className:"hidden lg:grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-14",children:[{to:"/Productos/retro-consolas",src:"/ads/retro.png",alt:"Retro Consolas"},{to:"/Productos/camaras",src:"/ads/camaras.png",alt:"Cámaras"}].map((s,o)=>l.jsx(te.div,{className:"overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition h-[220px] sm:h-[300px] md:h-[400px] group",whileHover:{scale:1.01},children:l.jsx(st,{to:s.to,className:"block w-full h-full",children:l.jsx("img",{src:s.src,alt:s.alt,className:"w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-400"})})},o))}),l.jsx(te.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Explora nuestras categorías"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:[{to:"/Productos/audifonos",src:"/ads/audifonoscate.png",alt:"Audífonos"},{to:"/Productos/mouses",src:"/ads/mousecate.png",alt:"Mouses"},{to:"/Productos/teclados",src:"/ads/tecladocate.png",alt:"Teclados"},{to:"/Productos/camaras",src:"/ads/camaracate.png",alt:"Cámaras"},{to:"/Productos/discos-duros",src:"/ads/discodurocate.png",alt:"Discos Duros"},{to:"/Productos/controles",src:"/ads/controlcate.png",alt:"Controles"}].map((s,o)=>l.jsx(st,{to:s.to,children:l.jsx("img",{src:s.src,alt:s.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full aspect-[1/1] shadow-sm"})},s.alt))}),l.jsx("div",{className:"text-right mt-6",children:l.jsx(st,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Ver todas las categorías →"})})]})}),l.jsx(te.div,{className:"hidden lg:block max-w-[1600px] mx-auto px-4 mt-10",variants:pr,initial:"hidden",animate:"visible",children:l.jsx(st,{to:"/estafetas",className:"block overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition",children:l.jsx("img",{src:"/ads/ESTAFETAS.png",alt:"Ver Nuestras Estafetas",className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})})}),l.jsx(te.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Descubre nuestros productos"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-7",children:Object.values(t).flat().slice(0,6).map(s=>{var o;return l.jsx(st,{to:`/producto/${s.id}`,children:l.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow hover:shadow-md transition",children:l.jsx("img",{src:s.imagen||((o=s.imagenes)==null?void 0:o[0]),alt:s.nombre,className:"w-full aspect-[1/1] object-contain p-2"})})},s.id)})}),l.jsx("div",{className:"text-right mt-6",children:l.jsx(st,{to:"/Productos",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestros productos →"})})]})}),l.jsx(te.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Hogar Inteligente en Oferta"}),l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{to:"/producto/hi1",img:"/Productos/focointeligente.webp",alt:"Foco inteligente Wi-Fi RGB"},{to:"/producto/hi2",img:"/Productos/enchufeinteligentewifi.jpg",alt:"Enchufe inteligente TP-Link"},{to:"/producto/hi4",img:"/Productos/sensormovimientowifi.jpg",alt:"Sensor de movimiento Wi-Fi"},{to:"/producto/hi8",img:"/Productos/echodot.png",alt:"Amazon Echo Dot"},{to:"/producto/hi9",img:"/Productos/alexaecho.webp",alt:"Amazon Echo Show 8"},{to:"/producto/hi11",img:"/Productos/smartplug.jpg",alt:"Smart Plug compatible con Alexa"}].map((s,o)=>l.jsx(st,{to:s.to,className:"min-w-[180px] px-2",children:l.jsx("img",{src:s.img,alt:s.alt,className:"rounded-xl hover:scale-110 transition object-cover w-full h-[180px]"})},o))}),l.jsx("div",{className:"text-right mt-6",children:l.jsx(st,{to:"/Productos/hogar-inteligente",className:"text-indigo-600 hover:underline text-base font-medium",children:"Descubre cómo transformar tu casa en un hogar inteligente →"})})]})}),l.jsx(te.section,{className:"max-w-[1600px] mx-auto mt-20 px-4",variants:pr,initial:"hidden",animate:"visible",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-gray-800",children:"Tu Rincón Variado"}),l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:[{id:"rv1",nombre:"Bicicleta Urbana MTB 26'' Mongoose",img:"/Productos/mongose.jpg"},{id:"rv2",nombre:"Patineta Eléctrica Plegable",img:"/Productos/patinetaelectrica.jpg"},{id:"rv3",nombre:'Hoverboard Autoequilibrado 10"',img:"/Productos/hoverboard.jpg"},{id:"rv4",nombre:"Patines en línea 4 ruedas",img:"/Productos/patines4ruedaasenlinea.jpeg"},{id:"rv5",nombre:"Patines clásicos 4 ruedas",img:"/Productos/patinesclasicos.webp"},{id:"rv6",nombre:"Ruedas de repuesto para patineta",img:"/Productos/ruedapatineta.webp"},{id:"rv7",nombre:"Casco Protector Urbano",img:"/Productos/casco.jpg"},{id:"rv8",nombre:"Botella Térmica 1L Acero Inoxidable",img:"/Productos/botella.jpg"},{id:"rv9",nombre:"Luz LED Recargable para Bicicleta",img:"/Productos/lucesbici.webp"}].map(s=>l.jsx(st,{to:`/producto/${s.id}`,className:"min-w-[180px] px-2",title:s.nombre,children:l.jsx("img",{src:s.img,alt:s.nombre,className:"rounded-xl hover:scale-110 transition-transform duration-300 object-contain w-full h-[180px]"})},s.id))}),l.jsx("div",{className:"text-right mt-6",children:l.jsx(st,{to:"/Productos/tu-rincon-variado",className:"text-indigo-600 hover:underline text-base font-medium",children:"Explora nuestro Rincón Variado →"})})]})}),l.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-[1600px] mx-auto px-4 mt-16",children:[{to:"/Productos/consolas",src:"/ads/nintendoswtitchads.png",alt:"Consolas"},{to:"/Productos/controles",src:"/ads/controlads.png",alt:"Controles"}].map((s,o)=>l.jsx(te.div,{className:"overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition aspect-[16/9]",whileHover:{scale:1.01},children:l.jsx(st,{to:s.to,className:"block w-full h-full",children:l.jsx("img",{src:s.src,alt:s.alt,className:"w-full h-full object-contain object-center hover:scale-105 transition-transform duration-400 bg-black"})})},s.alt))}),l.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1600px] mx-auto px-4 mt-16",children:[l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:pr,initial:"hidden",animate:"visible",children:[l.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cámaras de Vigilancia"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cam1",nombre:"Hikvision Dome",img:"/Productos/hikvision.png"},{id:"cam2",nombre:"Dahua Bullet",img:"/Productos/dahua.webp"},{id:"cam3",nombre:"EZVIZ WiFi",img:"/Productos/ezviz.png"},{id:"cam4",nombre:"TP-Link Tapo",img:"/Productos/tapo.webp"}].map(s=>l.jsx(st,{to:`/producto/${s.id}`,children:l.jsx("img",{src:s.img,alt:s.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},s.id))}),l.jsx(st,{to:"/categoria/camaras-vigilancia",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Cámaras de Vigilancia →"})]}),l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:pr,initial:"hidden",animate:"visible",children:[l.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Discos Duros"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"dd1",nombre:"Seagate 1TB",img:"/Productos/seagate.png"},{id:"dd2",nombre:"SSD Samsung",img:"/Productos/samsung.webp"},{id:"dd3",nombre:"WD 2TB",img:"/Productos/wd2tb.jpg"},{id:"dd4",nombre:"Crucial X6",img:"/Productos/crucial.jpg"}].map(s=>l.jsx(st,{to:`/producto/${s.id}`,children:l.jsx("img",{src:s.img,alt:s.nombre,className:"w-full aspect-[4/3] object-cover rounded-lg shadow-sm hover:scale-105 transition-transform"})},s.id))}),l.jsx(st,{to:"/categoria/discos-duros",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Discos Duros →"})]}),l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:pr,initial:"hidden",animate:"visible",children:[l.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Memorias USB"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"usb1",nombre:"USB SanDisk 64GB",img:"/Productos/sandisk.jpeg"},{id:"usb2",nombre:"Kingston 128GB USB 3.1",img:"/Productos/kingston.webp"},{id:"usb3",nombre:"HP v150w 32GB",img:"/Productos/hp.jpeg"},{id:"usb4",nombre:"Corsair Flash Voyager 256GB",img:"/Productos/corsair.avif"}].map(s=>l.jsx(st,{to:`/producto/${s.id}`,children:l.jsx("img",{src:s.img,alt:s.nombre,className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},s.id))}),l.jsx(st,{to:"/categoria/memorias-usb",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestras Memorias USB →"})]}),l.jsxs(te.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition h-[440px] flex flex-col justify-between p-5",variants:pr,initial:"hidden",animate:"visible",children:[l.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-700 tracking-tight",children:"Cables"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 flex-grow",children:[{id:"cb1",img:"/Productos/usb-c.jpg"},{id:"cb2",img:"/Productos/hdmi4k.jpeg"},{id:"cb3",img:"/Productos/micro.jpg"},{id:"cb4",img:"/Productos/ethernet.jpeg"}].map(s=>l.jsx(st,{to:`/producto/${s.id}`,children:l.jsx("img",{src:s.img,alt:"Cable",className:"w-full aspect-[4/3] object-contain rounded-lg shadow-sm hover:scale-105 transition-transform"})},s.id))}),l.jsx(st,{to:"/categoria/cables",className:"text-indigo-600 text-sm mt-3 hover:underline font-medium",children:"Explora nuestros Cables →"})]})]}),l.jsx("div",{className:"max-w-[1600px] mx-auto mt-20 px-4",children:l.jsx(mU,{})}),l.jsxs(te.section,{className:"max-w-4xl mx-auto px-6 py-20 text-center mt-10",variants:pr,initial:"hidden",animate:"visible",children:[l.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold mb-6 text-gray-800",children:["¿Tienes dudas?"," ",l.jsx("span",{className:"text-indigo-700",children:"Contáctanos ahora"})]}),l.jsx("p",{className:"text-gray-600 mb-10 max-w-xl mx-auto",children:"Nuestro equipo está listo para ayudarte por WhatsApp, teléfono o correo. Atención rápida y profesional."}),l.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-10 max-w-3xl mx-auto flex flex-col gap-6 border border-indigo-100",children:[l.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[l.jsx(yd,{className:"text-indigo-700"}),l.jsx("span",{children:"Av. Estrella Sadhalá, Santiago, República Dominicana"})]}),l.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[l.jsx(hm,{className:"text-indigo-700"}),l.jsx("span",{children:"+1 (849)-635-7000 (Tienda)"})]}),l.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[l.jsx(hm,{className:"text-indigo-700"}),l.jsx("span",{children:"+1 (809)-582-1212 (Internet)"})]}),l.jsxs("p",{className:"flex items-center justify-center text-gray-700 gap-3",children:[l.jsx(Dx,{className:"text-indigo-700"}),l.jsx("span",{children:"playcenter121@gmail.com"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center mt-4",children:[l.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-indigo-700 text-white rounded-lg shadow-md hover:bg-indigo-800 transition w-full sm:w-auto",children:[l.jsx(dm,{className:"text-xl"}),"WhatsApp Tienda"]}),l.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition w-full sm:w-auto",children:[l.jsx(dm,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})]})}async function gU(t){const e="https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","perfil_usuarios"),n.append("folder","muestras/comercio electrónico"),console.log("Archivo que se va a subir:",t),console.log("Preset usado:","perfil_usuarios"),console.log("Carpeta folder usada:","muestras/comercio electrónico");const r=await fetch(e,{method:"POST",body:n});if(!r.ok){const o=await r.text();throw console.error("Error Cloudinary:",o),new Error("❌ Error al subir la imagen a Cloudinary")}const s=await r.json();return console.log("Respuesta de Cloudinary:",s),s.secure_url}const PE=["Distrito Nacional","Santo Domingo","Santiago","La Vega","Puerto Plata","San Cristóbal","Duarte","La Romana","San Pedro de Macorís","Espaillat","Hermanas Mirabal","Monte Plata","San Juan","Azua","Peravia","Monseñor Nouel","Barahona","Sánchez Ramírez","Valverde","María Trinidad Sánchez","Monte Cristi","Samaná","El Seibo","Hato Mayor","Independencia","Pedernales","Elías Piña","Dajabón","Baoruco"],bi={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, República Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"};function yU({abierto:t,onClose:e,onPick:n,valorActual:r}){const[s,o]=N.useState(""),c=N.useMemo(()=>{if(!s)return PE;const d=s.toLowerCase();return PE.filter(h=>h.toLowerCase().includes(d))},[s]);return N.useEffect(()=>{t||o("")},[t]),typeof document>"u"?null:Uy.createPortal(l.jsx(Gt,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx(te.div,{className:"prov-picker-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),l.jsx(te.div,{className:"prov-picker-modal",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},onClick:d=>d.stopPropagation(),children:l.jsxs("div",{className:"prov-dark-card",children:[l.jsxs("div",{className:"prov-dark-header",children:[l.jsx("h3",{className:"prov-dark-title",children:"Seleccionar Provincia"}),l.jsx("button",{onClick:e,className:"prov-close-white",children:"✕"})]}),l.jsx("div",{className:"prov-search-dark",children:l.jsx("input",{type:"text",placeholder:"Buscar provincia...",value:s,onChange:d=>o(d.target.value),className:"prov-input-dark",autoFocus:!0})}),l.jsx("div",{className:"prov-list-dark",children:c.length>0?c.map(d=>l.jsx("div",{className:`prov-item-dark ${r===d?"active":""}`,onClick:()=>{n(d),e()},children:d},d)):l.jsx("div",{className:"prov-empty-dark",children:"No se encontraron provincias"})})]})})]})}),document.body)}function fj({abierto:t,onClose:e,actualizarUsuarioInfo:n,actualizarLista:r,direccionEditar:s,usuarioId:o}){const{uid:c,usuario:d}=$r(),[h,m]=N.useState("domicilio"),[y,g]=N.useState([]),[v,_]=N.useState(!1),[C,S]=N.useState(null),[k,D]=N.useState(""),[M,F]=N.useState(""),[H,Q]=N.useState(""),[G,V]=N.useState(""),[I,j]=N.useState(""),[E,U]=N.useState(""),[$,P]=N.useState(""),[ye,Le]=N.useState(!1),[Me,we]=N.useState(!1),[W,ae]=N.useState(!1),[L,R]=N.useState(null),[B,Y]=N.useState(""),[Z,ie]=N.useState(!1),ue=re=>re||"",[me,Se]=N.useState(""),[Ce,Ke]=N.useState(null),[at,vt]=N.useState(!1),[ut,At]=N.useState(!1),un=async()=>{const re=o||c||(d==null?void 0:d.uid);if(!re){g([]);return}_(!0);try{const Te=Wt(St(Ee,"direcciones"),wr("usuarioId","==",re)),et=(await _r(Te)).docs.map(lt=>({id:lt.id,...lt.data()}));g(et)}catch(Te){console.error("fetchDirecciones error:",Te),g([])}finally{_(!1)}};N.useEffect(()=>{const re=o||c||(d==null?void 0:d.uid);t&&re&&un()},[t,c,d,o]),N.useEffect(()=>{t&&(un(),s?(S(s.id),m(s.metodoEntrega||"domicilio"),D(s.provincia||""),F(s.ciudad||""),Q(s.sector||""),V(s.numeroCalle||""),j(s.numeroCasa||""),U(s.telefono||""),P(s.referencia||""),Se(s.ubicacion||""),At(s.metodoEntrega==="tienda")):(S(null),m("domicilio"),D(""),F(""),Q(""),V(""),j(""),U(""),P(""),Se(""),Ke(null),At(!1)))},[t,s]),N.useEffect(()=>{if(!t)return;const re=Te=>{Te.key==="Escape"&&e&&e()};return document.body.style.overflow="hidden",document.addEventListener("keydown",re),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",re)}},[t,e]);const Tn=re=>{if(re==="tienda"){m("tienda"),D(bi.provincia),F(bi.ciudad),V(bi.numeroCalle),Q(""),j(""),P(""),S(null),Se(""),Ke(null),At(!0);return}if(re==="domicilio"){m("domicilio"),ut&&(D(""),F(""),C||(V(""),Q(""),j(""),P("")),At(!1));return}m(re)},xt=()=>[G,I?`Casa ${I}`:"",H,M,k,$?`Ref: ${$}`:""].filter(Boolean).join(", ").trim(),ve=async()=>{const re=c||(d==null?void 0:d.uid);if(console.log("Auth check:",{uid:c,usuario:d==null?void 0:d.uid,currentUid:re}),!re){alert("Error de autenticación. Recarga la página e intenta de nuevo.");return}Le(!0);try{if(h==="tienda"){if(!E||E.trim()===""){Y("El número de teléfono es obligatorio para recoger en tienda"),Le(!1);return}typeof n=="function"&&await n({direccion:ue(bi.direccionCompleta),metodoEntrega:"tienda",telefono:E}),e&&e(),typeof r=="function"&&r(),Le(!1);return}if(!E||E.trim()===""){Y("El número de teléfono es obligatorio"),Le(!1);return}const Te=!!Ce;if(!Te&&!xt()){alert("Completa provincia, ciudad y calle/número."),Le(!1);return}const je=Te?`${xt()?xt()+", ":""}Ubicación: ${me} (${Ce==null?void 0:Ce.lat}, ${Ce==null?void 0:Ce.lon})`:xt(),et={metodoEntrega:"domicilio",provincia:k||null,ciudad:M||null,numeroCalle:G||null,numeroCasa:I||null,sector:H||null,referencia:$||null,telefono:E||null,direccionCompleta:je,ubicacion:me||null,coords:Ce||null,usuarioId:re,updatedAt:new Date};if(C){const Ye=$e(Ee,"direcciones",C);await _n(Ye,{...et})}else await Ov(St(Ee,"direcciones"),{...et,createdAt:new Date});typeof n=="function"&&await n({direccion:ue(je),metodoEntrega:"domicilio"}),we(!0);const lt={direccion:ue(je),metodoEntrega:"domicilio",telefono:E,updatedAt:new Date};try{await En($e(Ee,"users",re),lt,{merge:!0})}catch(Ye){console.warn("No se pudo escribir users/{uid}:",Ye)}try{await En($e(Ee,"usuarios",re),lt,{merge:!0})}catch(Ye){console.warn("No se pudo escribir usuarios/{uid}:",Ye)}typeof n=="function"&&await n({telefono:E}),await un(),typeof r=="function"&&r(),S(null),e&&e(),window.location.reload()}catch(Te){console.error("handleGuardarDireccion error:",Te),alert(`Error guardando dirección: ${(Te==null?void 0:Te.message)||Te}`)}finally{Le(!1)}},Ue=async re=>{try{const Te=typeof re=="string"?re:(re==null?void 0:re.direccionCompleta)||"",je=re&&re.metodoEntrega?re.metodoEntrega:"domicilio",et=c||(d==null?void 0:d.uid);we(!0),typeof n=="function"&&await n({direccion:Te,metodoEntrega:je,telefono:E});const lt={direccion:Te,metodoEntrega:je,telefono:E,updatedAt:new Date};try{await En($e(Ee,"users",et),lt,{merge:!0})}catch(Ye){console.warn("No se pudo escribir users/{uid}:",Ye)}try{await En($e(Ee,"usuarios",et),lt,{merge:!0})}catch(Ye){console.warn("No se pudo escribir usuarios/{uid}:",Ye)}try{let Ye=await _i($e(Ee,"users",et));if(Ye.exists()||(Ye=await _i($e(Ee,"usuarios",et))),Ye&&Ye.exists()){const Ot=Ye.data()||{};typeof n=="function"&&await n({direccion:Ot.direccion||Te,metodoEntrega:Ot.metodoEntrega||je})}}catch(Ye){console.warn("No se pudo releer documento de usuario:",Ye)}await un(),typeof r=="function"&&r(),e&&e(),window.location.reload()}catch(Te){console.error("handleSeleccionarDireccion error:",Te),we(!1),alert(`Error seleccionando dirección: ${(Te==null?void 0:Te.message)||Te}`)}},De=async re=>{try{await Wm($e(Ee,"direcciones",re)),await un(),typeof r=="function"&&r(),alert("Dirección eliminada correctamente.")}catch(Te){console.error("eliminarDireccion:",Te),alert(`Error eliminando dirección: ${(Te==null?void 0:Te.message)||Te}`)}},Ct=re=>{R(re),ae(!0)},wt=()=>{ae(!1),R(null)},nn=()=>{L&&(De(L),ae(!1),R(null))},Bn=re=>{!re||re.metodoEntrega==="tienda"||(S(re.id),m("domicilio"),D(re.provincia||""),F(re.ciudad||""),Q(re.sector||""),V(re.numeroCalle||""),j(re.numeroCasa||""),U(re.telefono||""),P(re.referencia||""),Se(re.ubicacion||""),Ke(re.coords||null),At(!1))},fe=()=>{if(!navigator.geolocation){alert("Geolocalización no soportada en este navegador.");return}vt(!0),navigator.geolocation.getCurrentPosition(re=>{const Te=re.coords.latitude.toFixed(6),je=re.coords.longitude.toFixed(6),et=`https://www.google.com/maps?q=${Te},${je}`;Se(et),Ke({lat:Te,lon:je}),V(`${Te}, ${je}`),vt(!1)},re=>{console.error("Error geolocalización:",re);let Te="No se pudo obtener la ubicación.";switch(re.code){case re.PERMISSION_DENIED:Te="Permisos denegados. Haz clic en el candado 🔒 junto a la URL y permite la ubicación.";break;case re.POSITION_UNAVAILABLE:Te="Ubicación no disponible. Asegúrate de estar conectado a internet y tener servicios de ubicación activados.";break;case re.TIMEOUT:Te="Tiempo agotado. Intenta de nuevo.";break;default:Te="Error desconocido. Verifica permisos del navegador."}alert(Te),vt(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},ge=()=>{Se(""),Ke(null),G&&/^\s*-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?\s*$/.test(G)&&V("")};if(!t)return null;const ke=y.filter(re=>re.metodoEntrega!=="tienda");return Uy.createPortal(l.jsxs(l.Fragment,{children:[l.jsx(te.div,{className:"entrega-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),l.jsx(te.div,{className:"entrega-slider",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:200},role:"dialog","aria-modal":"true",onClick:re=>re.stopPropagation(),children:l.jsxs("div",{className:"entrega-slider-content","aria-labelledby":"entrega-title",children:[l.jsx("div",{className:"entrega-drag-handle"}),l.jsxs("div",{className:"entrega-header",children:[l.jsxs("div",{className:"entrega-header-content",children:[l.jsx("div",{className:"entrega-icon-wrapper",children:l.jsx("div",{className:"entrega-icon",children:"🚚"})}),l.jsxs("div",{className:"entrega-title-section",children:[l.jsx("h3",{id:"entrega-title",className:"entrega-title",children:"Método de entrega"}),l.jsx("p",{className:"entrega-subtitle",children:"Elige cómo quieres recibir tu pedido"})]})]}),l.jsx("button",{onClick:e,className:"entrega-close-btn","aria-label":"Cerrar",children:l.jsx(Ku,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"entrega-methods",children:[l.jsxs(te.button,{type:"button",onClick:()=>Tn("domicilio"),className:`method-card ${h==="domicilio"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="domicilio",children:[l.jsx("div",{className:"method-icon domicilio-icon",children:l.jsx(Cu,{className:"w-6 h-6"})}),l.jsxs("div",{className:"method-info",children:[l.jsx("h4",{className:"method-title",children:"A domicilio"}),l.jsx("p",{className:"method-desc",children:"Entrega en tu dirección"})]}),h==="domicilio"&&l.jsx(te.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:l.jsx(Dl,{className:"w-5 h-5"})})]}),l.jsxs(te.button,{type:"button",onClick:()=>Tn("tienda"),className:`method-card ${h==="tienda"?"active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":h==="tienda",children:[l.jsx("div",{className:"method-icon tienda-icon",children:l.jsx(y0,{className:"w-6 h-6"})}),l.jsxs("div",{className:"method-info",children:[l.jsx("h4",{className:"method-title",children:"Recoger en tienda"}),l.jsx("p",{className:"method-desc",children:"Playcenter Universal"})]}),h==="tienda"&&l.jsx(te.div,{className:"method-check",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:l.jsx(Dl,{className:"w-5 h-5"})})]})]}),h==="domicilio"&&l.jsxs(te.button,{type:"button",onClick:fe,className:`location-btn ${at?"loading":""}`,disabled:at,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[l.jsx(BF,{className:`w-5 h-5 ${at?"animate-pulse":""}`}),l.jsx("span",{children:at?"Obteniendo ubicación...":"Usar mi ubicación actual"})]}),h==="tienda"&&l.jsx(te.div,{className:"tienda-phone-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Teléfono de contacto *"}),l.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:E,onChange:re=>{U(re.target.value),B&&Y("")},className:"form-input",required:!0}),B&&l.jsx("div",{className:"phone-error-message",children:l.jsxs("span",{children:["⚠️ ",B]})}),l.jsx("p",{className:"form-note",children:"📞 Te contactaremos cuando tu pedido esté listo para recoger"})]})}),l.jsxs("div",{className:"entrega-form",children:[l.jsx(Gt,{children:Ce&&l.jsxs(te.div,{className:"coords-display",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[l.jsxs("div",{className:"coords-header",children:[l.jsx(Xh,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"coords-title",children:"Ubicación detectada"}),l.jsx("button",{onClick:ge,className:"coords-remove","aria-label":"Quitar ubicación",children:l.jsx(Ku,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"coords-info",children:[l.jsxs("div",{className:"coord-item",children:[l.jsx("span",{className:"coord-label",children:"Lat:"}),l.jsx("span",{className:"coord-value",children:Ce.lat})]}),l.jsxs("div",{className:"coord-item",children:[l.jsx("span",{className:"coord-label",children:"Lng:"}),l.jsx("span",{className:"coord-value",children:Ce.lon})]})]})]})}),l.jsx(Gt,{mode:"wait",children:h==="domicilio"?l.jsxs(te.div,{className:"address-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[l.jsxs("div",{className:"form-section",children:[l.jsx("label",{className:"form-label",children:"Provincia *"}),l.jsxs("button",{type:"button",onClick:()=>ie(!0),className:"province-selector","aria-haspopup":"dialog","aria-expanded":Z,children:[l.jsx("span",{className:`province-text ${k?"":"placeholder"}`,children:k||"Selecciona tu provincia"}),l.jsx(lj,{className:"province-chevron"})]})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Ciudad *"}),l.jsx("input",{placeholder:"Ej: Santiago",value:M,onChange:re=>F(re.target.value),className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Sector"}),l.jsx("input",{placeholder:"Ej: Los Jardines",value:H,onChange:re=>Q(re.target.value),className:"form-input"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Calle y número *"}),l.jsx("input",{placeholder:"Ej: Av. Juan Pablo Duarte #123",value:G,onChange:re=>V(re.target.value),className:"form-input"})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Número de casa"}),l.jsx("input",{placeholder:"Ej: 45-B",value:I,onChange:re=>j(re.target.value),className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Teléfono *"}),l.jsx("input",{type:"tel",placeholder:"Ej: 809-555-1234",value:E,onChange:re=>{U(re.target.value),B&&Y("")},className:"form-input",required:!0}),B&&l.jsx("div",{className:"phone-error-message",children:l.jsxs("span",{children:["⚠️ ",B]})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Referencia"}),l.jsx("input",{placeholder:"Ej: Casa azul",value:$,onChange:re=>P(re.target.value),className:"form-input"})]}),!Ce&&l.jsxs("div",{className:"form-note",children:["💡 ",l.jsx("strong",{children:"Tip:"}),' Usa "Mi ubicación actual" para completar automáticamente las coordenadas']})]},"domicilio-form"):l.jsxs(te.div,{className:"store-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[l.jsxs("div",{className:"store-header",children:[l.jsx(y0,{className:"w-6 h-6 text-orange-500"}),l.jsx("h4",{className:"store-title",children:"Playcenter Universal"})]}),l.jsx("p",{className:"store-address",children:bi.direccionCompleta}),l.jsxs("a",{href:bi.ubicacion,target:"_blank",rel:"noreferrer",className:"store-map-link",children:[l.jsx(Xh,{className:"w-4 h-4"}),"Ver en Google Maps"]})]},"tienda-info")}),l.jsx(te.button,{onClick:ve,disabled:ye,className:`save-btn ${ye?"loading":""}`,whileHover:{scale:ye?1:1.02},whileTap:{scale:ye?1:.98},children:ye?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("span",{children:"Guardando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Dl,{className:"w-5 h-5"}),l.jsx("span",{children:h==="tienda"?"Seleccionar Playcenter":C?"Actualizar dirección":"Guardar dirección"})]})})]}),l.jsxs("div",{className:"saved-addresses",children:[l.jsx("h4",{className:"saved-title",children:"Direcciones guardadas"}),v?l.jsxs("div",{className:"loading-state",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("span",{children:"Cargando direcciones..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs(te.div,{className:"address-card store-card",whileHover:{scale:1.01},whileTap:{scale:.99},children:[l.jsxs("div",{className:"address-info",children:[l.jsxs("div",{className:"address-header",children:[l.jsx(y0,{className:"w-5 h-5 text-orange-500"}),l.jsx("span",{className:"address-type",children:"Recoger en tienda"})]}),l.jsx("p",{className:"address-name",children:"Playcenter Universal"}),l.jsx("p",{className:"address-details",children:bi.direccionCompleta}),l.jsxs("a",{href:bi.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[l.jsx(Xh,{className:"w-4 h-4"}),"Ver ubicación"]})]}),l.jsxs("button",{onClick:()=>Ue(bi),className:"address-select-btn store-select",children:[l.jsx(Dl,{className:"w-4 h-4"}),"Seleccionar"]})]}),l.jsx(Gt,{children:ke.length===0?l.jsxs(te.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[l.jsx(Cu,{className:"w-12 h-12 text-gray-300"}),l.jsx("p",{className:"empty-text",children:"No tienes direcciones guardadas"}),l.jsx("p",{className:"empty-subtext",children:"Agrega una dirección para entregas futuras"})]}):l.jsx("div",{className:"addresses-list",children:ke.map((re,Te)=>l.jsxs(te.div,{className:"address-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:Te*.1},whileHover:{scale:1.01},children:[l.jsxs("div",{className:"address-info",children:[l.jsxs("div",{className:"address-header",children:[l.jsx(Cu,{className:"w-5 h-5 text-blue-500"}),l.jsx("span",{className:"address-type",children:"Domicilio"})]}),l.jsx("p",{className:"address-details",children:re.direccionCompleta}),re.ubicacion&&l.jsxs("a",{href:re.ubicacion,target:"_blank",rel:"noreferrer",className:"address-map-link",children:[l.jsx(Xh,{className:"w-4 h-4"}),"Ver ubicación"]})]}),l.jsxs("div",{className:"address-actions",children:[l.jsx("button",{onClick:()=>Bn(re),className:"address-action-btn edit-btn","aria-label":"Editar dirección",children:l.jsx(uj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Ue(re),className:"address-action-btn select-btn","aria-label":"Seleccionar dirección",children:l.jsx(Dl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Ct(re.id),className:"address-action-btn delete-btn","aria-label":"Eliminar dirección",children:l.jsx(dj,{className:"w-4 h-4"})})]})]},re.id))})})]})]})]})}),l.jsx(Gt,{children:Me&&l.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:l.jsxs("div",{className:"loaderInner",children:[l.jsx("div",{className:"loader",children:l.jsxs("div",{className:"truckWrapper",children:[l.jsx("div",{className:"truckBody",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 198 93",className:"trucksvg",children:[l.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#F83D3D",d:"M135 22.5H177.264C178.295 22.5 179.22 23.133 179.594 24.0939L192.33 56.8443C192.442 57.1332 192.5 57.4404 192.5 57.7504V89C192.5 90.3807 191.381 91.5 190 91.5H135C133.619 91.5 132.5 90.3807 132.5 89V25C132.5 23.6193 133.619 22.5 135 22.5Z"}),l.jsx("path",{strokeWidth:"3",stroke:"#282828",fill:"#7D7C7C",d:"M146 33.5H181.741C182.779 33.5 183.709 34.1415 184.078 35.112L190.538 52.112C191.16 53.748 189.951 55.5 188.201 55.5H146C144.619 55.5 143.5 54.3807 143.5 53V36C143.5 34.6193 144.619 33.5 146 33.5Z"}),l.jsx("path",{strokeWidth:"2",stroke:"#282828",fill:"#282828",d:"M150 65C150 65.39 149.763 65.8656 149.127 66.2893C148.499 66.7083 147.573 67 146.5 67C145.427 67 144.501 66.7083 143.873 66.2893C143.237 65.8656 143 65.39 143 65C143 64.61 143.237 64.1344 143.873 63.7107C144.501 63.2917 145.427 63 146.5 63C147.573 63 148.499 63.2917 149.127 63.7107C149.763 64.1344 150 64.61 150 65Z"}),l.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#FFFCAB",rx:"1",height:"7",width:"5",y:"63",x:"187"}),l.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#282828",rx:"1",height:"11",width:"4",y:"81",x:"193"}),l.jsx("rect",{strokeWidth:"3",stroke:"#282828",fill:"#DFDFDF",rx:"2.5",height:"90",width:"121",y:"1.5",x:"6.5"}),l.jsx("rect",{strokeWidth:"2",stroke:"#282828",fill:"#DFDFDF",rx:"2",height:"4",width:"6",y:"84",x:"1"})]})}),l.jsxs("div",{className:"truckTires",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[l.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),l.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 30 30",className:"tiresvg",children:[l.jsx("circle",{strokeWidth:"3",stroke:"#282828",fill:"#282828",r:"13.5",cy:"15",cx:"15"}),l.jsx("circle",{fill:"#DFDFDF",r:"7",cy:"15",cx:"15"})]})]}),l.jsx("div",{className:"road"}),l.jsx("svg",{xmlSpace:"preserve",viewBox:"0 0 453.459 453.459",xmlns:"http://www.w3.org/2000/svg",className:"lampPost",fill:"#000000",children:l.jsx("path",{d:`M252.882,0c-37.781,0-68.686,29.953-70.245,67.358h-6.917v8.954c-26.109,2.163-45.463,10.011-45.463,19.366h9.993
c-1.65,5.146-2.507,10.54-2.507,16.017c0,28.956,23.558,52.514,52.514,52.514c28.956,0,52.514-23.558,52.514-52.514
c0-5.478-0.856-10.872-2.506-16.017h9.992c0-9.354-19.352-17.204-45.463-19.366v-8.954h-6.149C200.189,38.779,223.924,16,252.882,16
c29.952,0,54.32,24.368,54.32,54.32c0,28.774-11.078,37.009-25.105,47.437c-17.444,12.968-37.216,27.667-37.216,78.884v113.914
h-0.797c-5.068,0-9.174,4.108-9.174,9.177c0,2.844,1.293,5.383,3.321,7.066c-3.432,27.933-26.851,95.744-8.226,115.459v11.202h45.75
v-11.202c18.625-19.715-4.794-87.527-8.227-115.459c2.029-1.683,3.322-4.223,3.322-7.066c0-5.068-4.107-9.177-9.176-9.177h-0.795
V196.641c0-43.174,14.942-54.283,30.762-66.043c14.793-10.997,31.559-23.461,31.559-60.277C323.202,31.545,291.656,0,252.882,0z
M232.77,111.694c0,23.442-19.071,42.514-42.514,42.514c-23.442,0-42.514-19.072-42.514-42.514c0-5.531,1.078-10.957,3.141-16.017
h78.747C231.693,100.736,232.77,106.162,232.77,111.694z`})})]})}),l.jsx("div",{className:"loaderText",children:"¡Dirección seleccionada!"})]})})}),l.jsx(Gt,{children:W&&l.jsx(te.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:l.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"¿Eliminar dirección?"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"¿Estás seguro que quieres eliminar esta dirección? Esta acción no se puede deshacer."}),l.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[l.jsx("button",{onClick:wt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:re=>re.target.style.backgroundColor="#f9fafb",onMouseOut:re=>re.target.style.backgroundColor="white",children:"Cancelar"}),l.jsx("button",{onClick:nn,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:re=>re.target.style.backgroundColor="#dc2626",onMouseOut:re=>re.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),Me&&l.jsxs("div",{className:"truck-loader-overlay",children:[l.jsxs("div",{className:"spinner",children:[l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{})]}),l.jsx("div",{className:"truck-loader-text",children:"Procesando entrega..."})]}),l.jsx(yU,{abierto:Z,onClose:()=>ie(!1),onPick:re=>D(re),valorActual:k})]}),document.body)}const v0={provincia:"Santiago",ciudad:"Santiago de los Caballeros",numeroCalle:"Av. Juan Pablo Duarte 68",direccionCompleta:"Playcenter Universal, Av. Juan Pablo Duarte 68, Santiago de los Caballeros 51000, República Dominicana",ubicacion:"https://maps.app.goo.gl/kszSTHedLYWCby1E7",metodoEntrega:"tienda"},vU=(t="")=>String(t||"").trim()?String(t).trim().charAt(0).toUpperCase():"?",xU=(t="")=>{let e=0;for(let o=0;o<t.length;o++)e=t.charCodeAt(o)+((e<<5)-e),e=e&e;const n=e>>0&255,r=e>>8&255,s=e>>16&255;return`#${[n,r,s].map(o=>o.toString(16).padStart(2,"0")).join("")}`},bU=(t="",e=512)=>{const n=vU(t),r=xU(t||n),s=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${e}' viewBox='0 0 ${e} ${e}'>
    <rect width='100%' height='100%' fill='${r}' rx='${Math.floor(e*.12)}' />
    <text x='50%' y='50%' dy='.04em' font-family='Inter, system-ui, Arial' font-size='${Math.floor(e*.42)}' fill='#fff' text-anchor='middle' alignment-baseline='middle'>${n}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(s)}`},wU={hidden:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:.36,ease:[.2,.8,.2,1]}},exit:{opacity:0,y:-8,transition:{duration:.25}}},Nu={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.26}}};function _U({historial:t}){var y,g;const[e,n]=N.useState(null),[r,s]=N.useState("all"),o=!1;if(!(t!=null&&t.length))return l.jsxs(te.div,{variants:Nu,className:"empty-state-beautiful",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[l.jsx("div",{className:"empty-illustration",children:l.jsx(te.div,{className:"empty-box",animate:{y:[0,-10,0],rotateY:[0,5,0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0,children:l.jsx(jE,{size:56})})}),l.jsx(te.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"¡Tu historial está esperando!"}),l.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Cuando realices tu primera compra, aparecerá aquí."}),l.jsx(te.div,{className:"empty-cta",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},children:l.jsx("button",{className:"btn-beautiful-primary",children:"Explorar productos"})})]});const c=v=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(v||0),d=v=>{if(!v)return"—";let _;return v!=null&&v.seconds?_=new Date(v.seconds*1e3):_=new Date(v),isNaN(_)?"—":_.toLocaleString("es-DO",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},h=v=>{switch(v){case"completado":return{color:"status-completed",Icon:pm,text:"Completado",gradient:"linear-gradient(135deg, #10b981, #059669)"};case"cancelado":return{color:"status-cancelled",Icon:Ku,text:"Cancelado",gradient:"linear-gradient(135deg, #ef4444, #dc2626)"};case"pendiente":default:return{color:"status-pending",Icon:LF,text:"Pendiente",gradient:"linear-gradient(135deg, #f59e0b, #d97706)"}}},m=t.filter(v=>r==="all"?!0:v.estado===r);return l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        .history-compact { --fs-1:.95rem; --fs-2:.9rem; --fs-3:.85rem; --pad-1:.55rem; --pad-2:.8rem; --radius:12px; }
        .history-compact .order-card-beautiful { padding: var(--pad-2); border-radius: var(--radius); }
        .history-compact .order-number-beautiful { font-size: var(--fs-1); }
        .history-compact .order-date-beautiful { font-size: var(--fs-3); opacity:.8; }
        .history-compact .status-badge-beautiful { padding:.35rem .55rem; border-radius:999px; font-size: var(--fs-3); }
        .history-compact .order-total-beautiful { font-size: var(--fs-1); }
        .history-compact .products-grid { gap:.5rem; }
        .history-compact .product-preview-beautiful { padding: var(--pad-1); border-radius:10px; }
        .history-compact .product-name-beautiful { font-size: var(--fs-2); }
        .history-compact .product-details-beautiful { font-size: var(--fs-3); opacity:.85; }
      `}),o,l.jsx(te.div,{variants:Nu,className:"orders-container-beautiful history-compact",layout:!0,children:l.jsx(Gt,{children:m.map((v,_)=>{var k,D;const C=h(v.estado),S=C.Icon;return l.jsxs(te.div,{className:"order-card-beautiful",onClick:()=>n(v),initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.35,delay:_*.05,type:"spring",stiffness:120},whileHover:{scale:1.01,y:-3,boxShadow:"0 16px 32px rgba(0,0,0,0.08)"},whileTap:{scale:.99},layout:!0,children:[l.jsx("div",{className:"order-card-glow",style:{background:C.gradient}}),l.jsxs("div",{className:"order-header-beautiful",style:{display:"flex",justifyContent:"space-between",gap:"0.6rem"},children:[l.jsxs("div",{className:"order-info-beautiful",children:[l.jsx(te.h4,{className:"order-number-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:v.numeroOrden||`Orden #${v.id.slice(-8)}`}),l.jsx(te.p,{className:"order-date-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:l.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[l.jsx(NE,{size:14})," ",d(v.fecha)]})})]}),l.jsxs("div",{className:"order-status-beautiful",style:{display:"flex",alignItems:"center",gap:".5rem"},children:[l.jsxs(te.div,{className:`status-badge-beautiful ${C.color}`,style:{background:C.gradient,display:"inline-flex",alignItems:"center",gap:6},whileHover:{scale:1.05},initial:{scale:0},animate:{scale:1},transition:{delay:.35,type:"spring"},children:[l.jsx(S,{size:14}),l.jsx("span",{className:"status-text",children:C.text})]}),l.jsx(te.div,{className:"order-total-beautiful",initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.4},children:c(v.total)})]})]}),l.jsxs(te.div,{className:"order-products-preview-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},children:[l.jsx("div",{className:"products-grid",children:(k=v.productos)==null?void 0:k.slice(0,3).map((M,F)=>l.jsxs(te.div,{className:"product-preview-beautiful",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5+F*.08},whileHover:{scale:1.03},children:[l.jsx("div",{className:"product-image-placeholder","aria-hidden":!0,style:{display:"flex",alignItems:"center"},children:l.jsx(jE,{size:18})}),l.jsxs("div",{className:"product-preview-info-beautiful",children:[l.jsx("span",{className:"product-name-beautiful",children:M.nombre}),l.jsxs("span",{className:"product-details-beautiful",children:[M.cantidad,"x •"," ",c(M.precio)]}),(M==null?void 0:M.id)&&l.jsxs("button",{className:"product-view-link",onClick:H=>{H.stopPropagation(),window.location.href=`/producto/${M.id}`},title:"Ver producto","aria-label":`Ver producto ${M.nombre}`,children:[l.jsx(kE,{size:14}),"Ver producto",l.jsx(te.span,{className:"pv-arrow",animate:{x:[0,4,0]},transition:{duration:1.6,repeat:1/0},children:l.jsx(CE,{size:14})})]})]})]},F))}),((D=v.productos)==null?void 0:D.length)>3&&l.jsxs(te.div,{className:"more-products-beautiful",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},whileHover:{scale:1.06},children:[l.jsxs("span",{className:"more-count",children:["+",v.productos.length-3]}),l.jsx("span",{className:"more-text",children:"más productos"})]})]}),l.jsx(te.div,{className:"order-card-footer",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:l.jsxs("div",{className:"view-details-hint",children:[l.jsx("span",{children:"Toque para ver detalles"}),l.jsx(te.span,{className:"arrow-icon",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},"aria-hidden":!0,children:l.jsx(CE,{size:16})})]})})]},v.id)})})}),l.jsx(Gt,{children:e&&l.jsx(te.div,{className:"order-modal-overlay-beautiful",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:l.jsxs(te.div,{className:"order-modal-beautiful",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:v=>v.stopPropagation(),children:[l.jsxs("div",{className:"modal-header-beautiful",children:[l.jsxs("div",{className:"modal-title-section",children:[l.jsx("h3",{className:"modal-title",children:e.numeroOrden||`Orden #${e.id.slice(-8)}`}),l.jsx("div",{className:"modal-subtitle",children:"Detalles de tu compra"})]}),l.jsx("button",{className:"close-modal-beautiful",onClick:()=>n(null),children:"×"})]}),l.jsxs("div",{className:"modal-content-beautiful",children:[l.jsx("div",{className:"order-summary-beautiful",children:l.jsxs("div",{className:"summary-card",children:[l.jsxs("div",{className:"summary-item",children:[l.jsxs("span",{className:"summary-label",children:[l.jsx(NE,{size:14})," Fecha"]}),l.jsx("span",{className:"summary-value",children:new Date((y=e.fecha)!=null&&y.seconds?e.fecha.seconds*1e3:e.fecha).toLocaleString("es-DO")})]}),l.jsxs("div",{className:"summary-item",children:[l.jsxs("span",{className:"summary-label",children:[l.jsx(XF,{size:14})," Estado"]}),l.jsx("span",{className:"summary-status",children:e.estado})]}),l.jsxs("div",{className:"summary-item",children:[l.jsxs("span",{className:"summary-label",children:[l.jsx(NF,{size:14})," Total"]}),l.jsxs("span",{className:"summary-total",children:["DOP"," ",new Intl.NumberFormat("es-DO").format(e.total)]})]})]})}),l.jsx("div",{className:"products-grid-modal",children:(g=e.productos)==null?void 0:g.map((v,_)=>l.jsxs("div",{className:"product-item-beautiful",children:[l.jsxs("div",{className:"product-info-modal",children:[l.jsx("span",{className:"product-name-modal",children:v.nombre}),l.jsxs("span",{className:"product-details-modal",children:[v.cantidad," × DOP"," ",new Intl.NumberFormat("es-DO").format(v.precio)]})]}),l.jsxs("div",{className:"product-subtotal-beautiful",children:["DOP"," ",new Intl.NumberFormat("es-DO").format(v.cantidad*v.precio)]}),l.jsxs("button",{className:"btn-view-product-modal",onClick:()=>window.location.href=`/producto/${v.id}`,children:[l.jsx(kE,{size:16})," Ver producto"]})]},_))})]})]})})})]})}function Jh({name:t}){const e={perfil:l.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[l.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),historial:l.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[l.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7L21 7"}),l.jsx("path",{d:"M12 7v6l4 2"})]}),direcciones:l.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[l.jsx("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 1 1 18 0z"}),l.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),logout:l.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[l.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.jsx("path",{d:"M16 17l5-5-5-5"}),l.jsx("path",{d:"M21 12H9"})]})};return l.jsx("span",{className:"icon",children:e[t]})}function EU({visible:t,text:e="Cargando..."}){return t?l.jsx("div",{className:"loaderOverlay",role:"status","aria-live":"polite",children:l.jsxs("div",{className:"loaderInner",children:[l.jsx("div",{className:"loader",children:l.jsxs("div",{className:"spinner",children:[l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{}),l.jsx("div",{})]})}),l.jsx("p",{className:"loaderText",children:e})]})}):null}function RE({abierto:t,titulo:e,descripcion:n,onCancel:r,onConfirm:s,dangerText:o="Confirmar"}){return t?l.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:l.jsxs(te.div,{className:"modal-card card",initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},children:[l.jsx("h3",{id:"modal-title",className:"modal-title",children:e}),l.jsx("p",{className:"modal-desc",children:n}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"btn btn-ghost",onClick:r,children:"Cancelar"}),l.jsx("button",{className:"btn btn-danger",onClick:s,children:o})]})]})}):null}function SU(){const{usuario:t,usuarioInfo:e,actualizarUsuarioInfo:n,logout:r}=$r(),s=Sr(),[o,c]=N.useState("perfil"),[d,h]=N.useState(!1),[m,y]=N.useState(!1),[g,v]=N.useState({text:"",tipo:""}),[_,C]=N.useState({nombre:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",telefono:"",direccion:"",fotoURL:(t==null?void 0:t.photoURL)||""}),[S,k]=N.useState(null),[D,M]=N.useState(null),[F,H]=N.useState([]),[Q,G]=N.useState([]),[V,I]=N.useState(!1),[j,E]=N.useState(null),[U,$]=N.useState(!1),[P,ye]=N.useState(!1),[Le,Me]=N.useState(!1),[we,W]=N.useState(!1),[ae,L]=N.useState(null);N.useEffect(()=>{C(e?ve=>({...ve,telefono:e.telefono||"",direccion:e.direccion||"",fotoURL:e.fotoURL||(t==null?void 0:t.photoURL)||""}):ve=>({...ve,fotoURL:(t==null?void 0:t.photoURL)||""}))},[e,t==null?void 0:t.photoURL]),N.useEffect(()=>{t&&(R(),B())},[t]);const R=async()=>{try{const ve=Wt(St(Ee,"orders"),wr("userId","==",t.uid)),Ue=await _r(ve);H(Ue.docs.map(De=>({id:De.id,...De.data()})))}catch(ve){console.error("fetchHistorial:",ve)}},B=async()=>{try{const ve=Wt(St(Ee,"direcciones"),wr("usuarioId","==",t.uid)),Ue=await _r(ve);G(Ue.docs.map(De=>({id:De.id,...De.data()})))}catch(ve){console.error("fetchDirecciones:",ve)}},Y=N.useMemo(()=>{if(D)return D;if(_.fotoURL)return _.fotoURL;const ve=_.nombre||_.email||(t==null?void 0:t.email)||"U";return bU(ve,512)},[D,_.fotoURL,_.nombre,_.email,t==null?void 0:t.email]),Z=N.useMemo(()=>{if(_.nombre&&_.nombre.trim())return _.nombre;const Ue=(_.email||(t==null?void 0:t.email)||"").split("@")[0]||"Usuario";return Ue.charAt(0).toUpperCase()+Ue.slice(1)},[_.nombre,_.email,t==null?void 0:t.email]),ie=(ve,Ue="info",De=3500)=>{v({text:ve,tipo:Ue}),De&&setTimeout(()=>v({text:"",tipo:""}),De)},ue=async()=>{try{ye(!1),await r(),s("/")}catch(ve){console.error("logout:",ve),ie("Error cerrando sesión.","error",5e3)}},me=ve=>C(Ue=>({...Ue,[ve.target.name]:ve.target.value})),Se=ve=>{var Ct;const Ue=(Ct=ve.target.files)==null?void 0:Ct[0];if(!Ue)return;k(Ue);const De=URL.createObjectURL(Ue);M(De)},Ce=()=>{D&&URL.revokeObjectURL(D),k(null),M(null)},Ke=async()=>{if(!S)return ie("Selecciona una imagen primero.","error");y(!0);try{const ve=await gU(S);await n({fotoURL:ve}),await ql(t,{photoURL:ve}),C(Ue=>({...Ue,fotoURL:ve})),Ce(),ie("Foto actualizada.","success")}catch(ve){console.error("uploadLocalImage:",ve),ie("Error subiendo imagen.","error",5e3)}finally{y(!1)}},at=async()=>{y(!0);try{await n({telefono:_.telefono,direccion:_.direccion,displayName:_.nombre});const ve={telefono:_.telefono,direccion:_.direccion,displayName:_.nombre,updatedAt:new Date};try{await En($e(Ee,"users",t.uid),ve,{merge:!0})}catch(De){console.warn("No se pudo escribir users/{uid}:",De)}try{await En($e(Ee,"usuarios",t.uid),ve,{merge:!0})}catch(De){console.warn("No se pudo escribir usuarios/{uid}:",De)}const Ue={};t.displayName!==_.nombre&&(Ue.displayName=_.nombre),Object.keys(Ue).length&&await ql(t,Ue),h(!1),ie("Perfil guardado.","success")}catch(ve){console.error("Error guardando perfil:",ve),ie("Error guardando perfil.","error")}finally{y(!1)}},vt=async()=>{y(!0);try{await ql(t,{photoURL:""}),await n({fotoURL:""}),C(ve=>({...ve,fotoURL:""})),Ce(),ie("Imagen de perfil removida.","success")}catch(ve){console.error("confirmRemoveImage:",ve),ie("Error removiendo imagen.","error")}finally{y(!1),$(!1)}},ut=async ve=>{try{const Ue=typeof ve=="string"?ve:(ve==null?void 0:ve.direccionCompleta)||"",De=ve&&ve.metodoEntrega?ve.metodoEntrega:"domicilio";Me(!0),await n({direccion:Ue,metodoEntrega:De});const Ct={direccion:Ue,metodoEntrega:De,updatedAt:new Date};try{await En($e(Ee,"users",t.uid),Ct,{merge:!0})}catch(wt){console.warn("No se pudo escribir users/{uid}:",wt)}try{await En($e(Ee,"usuarios",t.uid),Ct,{merge:!0})}catch(wt){console.warn("No se pudo escribir usuarios/{uid}:",wt)}try{let wt=await _i($e(Ee,"users",t.uid));if(wt.exists()||(wt=await _i($e(Ee,"usuarios",t.uid))),wt&&wt.exists()){const nn=wt.data()||{};await n({direccion:nn.direccion||Ue,metodoEntrega:nn.metodoEntrega||De})}}catch(wt){console.warn("No se pudo releer documento de usuario:",wt)}V&&I(!1),await B(),C(wt=>({...wt,direccion:Ue})),ie("Dirección seleccionada y guardada.","success"),window.location.reload()}catch(Ue){console.error("handleSeleccionarDireccion error:",Ue),Me(!1),ie("Error seleccionando dirección.","error",5e3)}},At=async ve=>{try{if(await Wm($e(Ee,"direcciones",ve)),t!=null&&t.direccion){const Ue=Q.find(De=>De.id===ve);Ue&&t.direccion===Ue.direccionCompleta&&(await n({direccion:"",metodoEntrega:"",selectedDeliveryMethod:""}),setTimeout(()=>{window.location.reload()},1e3))}await B(),ie("Dirección eliminada correctamente.","success")}catch(Ue){console.error("eliminarDireccion:",Ue),ie("Error eliminando dirección.","error")}},un=ve=>{L(ve),W(!0)},Tn=()=>{W(!1),L(null)},xt=()=>{ae&&(At(ae),W(!1),L(null))};return!t||!e?l.jsx("main",{className:"min-h-screen flex items-start justify-center bg-slate-50 pt-28",children:l.jsx("p",{className:"text-lg animate-pulse",children:"Cargando perfil..."})}):l.jsxs(te.main,{className:"profile-page",variants:wU,initial:"hidden",animate:"enter",exit:"exit",children:[l.jsx("div",{className:"navigation-container",children:l.jsxs("nav",{className:"profile-dock","aria-label":"Navegación de perfil",children:[l.jsxs("button",{className:`dock-btn ${o==="perfil"?"active":""}`,onClick:()=>c("perfil"),"aria-label":"Perfil",children:[l.jsx(Jh,{name:"perfil"}),l.jsx("span",{children:"Perfil"})]}),l.jsxs("button",{className:`dock-btn ${o==="historial"?"active":""}`,onClick:()=>c("historial"),"aria-label":"Historial",children:[l.jsx(Jh,{name:"historial"}),l.jsx("span",{children:"Historial"})]}),l.jsxs("button",{className:`dock-btn ${o==="direcciones"?"active":""}`,onClick:()=>c("direcciones"),"aria-label":"Direcciones",children:[l.jsx(Jh,{name:"direcciones"}),l.jsx("span",{children:"Direcciones"})]}),l.jsxs("button",{className:"dock-btn danger",onClick:()=>ye(!0),"aria-label":"Cerrar sesión",children:[l.jsx(Jh,{name:"logout"}),l.jsx("span",{children:"Salir"})]})]})}),l.jsx("main",{className:"main-content",children:l.jsx("div",{className:"main-card",children:l.jsxs(Gt,{mode:"wait",children:[o==="perfil"&&l.jsxs(te.section,{variants:Nu,initial:"hidden",animate:"show",exit:"hidden",children:[l.jsxs("div",{className:"profile-header big",children:[l.jsx("div",{className:"avatar-block large",children:l.jsx("img",{src:Y,alt:"Avatar",className:"avatar-img"})}),l.jsxs("div",{className:"profile-meta big",children:[l.jsx("h1",{className:"profile-name",children:Z}),l.jsx("p",{className:"profile-email",children:_.email}),l.jsxs("p",{className:"muted small",children:["UID: ",l.jsx("span",{className:"mono",children:t.uid})]}),l.jsxs("div",{className:"profile-actions",children:[l.jsxs("label",{className:"btn btn-primary upload-btn",children:["Subir foto",l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Se,className:"hidden","aria-label":"Subir foto"})]}),l.jsx("button",{className:"btn btn-ghost",onClick:()=>$(!0),children:"Quitar"}),D&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"btn btn-success",onClick:Ke,disabled:m,children:"Guardar foto"}),l.jsx("button",{className:"btn btn-outline",onClick:Ce,children:"Cancelar"})]})]})]})]}),l.jsxs("div",{className:"form-grid big",children:[l.jsxs("div",{className:"form-row",children:[l.jsx("label",{children:"Nombre"}),l.jsx("input",{name:"nombre",value:_.nombre,onChange:me,disabled:!d})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("label",{children:"Email"}),l.jsx("input",{name:"email",value:_.email,disabled:!0})]}),l.jsxs("div",{className:"form-row",children:[l.jsx("label",{children:"Teléfono"}),l.jsx("input",{name:"telefono",value:_.telefono,onChange:me,disabled:!d})]}),l.jsxs("div",{className:"form-row full",children:[l.jsx("label",{children:"Dirección completa"}),l.jsx("textarea",{name:"direccion",value:_.direccion,onChange:me,disabled:!d,rows:4}),l.jsx("p",{className:"muted hint",children:'Pulsa "Editar" para modificar.'})]}),l.jsx("div",{className:"form-actions",children:d?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:at,className:"btn btn-success",disabled:m,children:"Guardar"}),l.jsx("button",{onClick:()=>{h(!1),Ce()},className:"btn btn-ghost",children:"Cancelar"})]}):l.jsx("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Editar perfil"})})]})]},"perfil"),o==="historial"&&l.jsxs(te.section,{variants:Nu,initial:"hidden",animate:"show",exit:"hidden",children:[l.jsx("h2",{className:"section-title large",children:"Historial de compras"}),l.jsx(_U,{historial:F})]},"historial"),o==="direcciones"&&l.jsxs(te.section,{variants:Nu,initial:"hidden",animate:"show",exit:"hidden",children:[l.jsxs("div",{className:"direcciones-head",children:[l.jsx("h2",{className:"section-title large",children:"Direcciones"}),l.jsx("div",{children:l.jsx("button",{className:"btn btn-primary",onClick:()=>{E(null),I(!0)},children:"Añadir dirección"})})]}),l.jsxs("div",{className:"cards-list",children:[l.jsxs("div",{className:"address-card large",children:[l.jsxs("div",{className:"address-content",children:[l.jsx("div",{className:"address-title",children:"Recoger en: Playcenter Universal Santiago"}),l.jsx("div",{className:"muted break-words",children:v0.direccionCompleta}),l.jsx("a",{href:v0.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),l.jsx("div",{className:"address-actions",children:l.jsx("button",{onClick:()=>ut(v0),className:"btn btn-success",children:"Seleccionar"})})]}),Q.length===0?l.jsx("div",{className:"empty",children:"No tienes direcciones guardadas."}):Q.map(ve=>l.jsxs("div",{className:"address-card large",children:[l.jsxs("div",{className:"address-content",children:[l.jsx("div",{className:"address-title break-words",children:ve.direccionCompleta||`${ve.numeroCalle||""} ${ve.numeroCasa?"Casa "+ve.numeroCasa:""}, ${ve.ciudad||""}, ${ve.provincia||""}`}),l.jsxs("div",{className:"muted",children:["Método: ",ve.metodoEntrega||"domicilio"]}),ve.referencia&&l.jsxs("div",{className:"muted",children:["Ref: ",ve.referencia]}),ve.ubicacion&&l.jsx("a",{href:ve.ubicacion,target:"_blank",rel:"noreferrer",className:"link",children:"Ver en Maps"})]}),l.jsxs("div",{className:"address-actions",children:[l.jsx("button",{onClick:()=>{E(ve),I(!0)},className:"address-action-btn edit-btn","aria-label":"Editar dirección",children:l.jsx(uj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ut(ve),className:"address-action-btn select-btn","aria-label":"Seleccionar dirección",children:l.jsx(Dl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>un(ve.id),className:"address-action-btn delete-btn","aria-label":"Eliminar dirección",children:l.jsx(dj,{className:"w-4 h-4"})})]})]},ve.id))]}),V&&l.jsx(fj,{abierto:V,onClose:async()=>{I(!1),E(null),await B()},usuarioId:t.uid,direccionEditar:j,actualizarLista:B})]},"direcciones")]})})}),l.jsx(RE,{abierto:U,titulo:"Quitar imagen de perfil",descripcion:"Se quitará la URL de tu perfil (no borra el archivo en Cloudinary).",onCancel:()=>$(!1),onConfirm:vt,dangerText:"Quitar imagen"}),l.jsx(RE,{abierto:P,titulo:"Cerrar sesión",descripcion:"¿Estás seguro que quieres cerrar sesión?",onCancel:()=>ye(!1),onConfirm:ue,dangerText:"Cerrar sesión"}),l.jsx(EU,{visible:Le,text:"Guardando..."}),l.jsx(Gt,{children:we&&l.jsx(te.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},children:l.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"90%",textAlign:"center",zIndex:9999999},children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"¿Eliminar dirección?"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"2rem",lineHeight:"1.5"},children:"¿Estás seguro que quieres eliminar esta dirección? Esta acción no se puede deshacer."}),l.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[l.jsx("button",{onClick:Tn,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ve=>ve.target.style.backgroundColor="#f9fafb",onMouseOut:ve=>ve.target.style.backgroundColor="white",children:"Cancelar"}),l.jsx("button",{onClick:xt,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:ve=>ve.target.style.backgroundColor="#dc2626",onMouseOut:ve=>ve.target.style.backgroundColor="#ef4444",children:"Eliminar"})]})]})})}),g.text&&l.jsx(te.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`toast ${g.tipo==="success"?"toast-success":g.tipo==="error"?"toast-error":"toast-info"}`,children:g.text})]})}const mj=N.createContext(),TU=({children:t})=>{const[e,n]=N.useState(()=>{const v=localStorage.getItem("carrito");return v?JSON.parse(v):[]}),[r,s]=N.useState(()=>{const v=localStorage.getItem("favoritos");return v?JSON.parse(v):[]});N.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),N.useEffect(()=>{n(v=>v.map(_=>{if(_.maxStock!==void 0)return _;if(Array.isArray(_.variantes)&&_.colorSeleccionado){const C=_.variantes.find(S=>S.color===_.colorSeleccionado);if(C&&C.cantidad!==void 0)return{..._,maxStock:Number(C.cantidad)||0}}if(_.cantidadProducto!==void 0){const C=Number(_.cantidadProducto);if(!Number.isNaN(C))return{..._,maxStock:C}}return _}))},[]),N.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(r))},[r]);const o=(v,_=null)=>{n(C=>{var M,F,H,Q;const S=_&&Array.isArray(v.variantes)?v.variantes.find(G=>G.color===_):null,k=(S&&Number(S.cantidad))??(v.maxStock!==void 0?Number(v.maxStock):void 0)??(v.cantidad!==void 0?Number(v.cantidad):void 0)??(((F=(M=v.variantes)==null?void 0:M[0])==null?void 0:F.cantidad)!==void 0?Number((Q=(H=v.variantes)==null?void 0:H[0])==null?void 0:Q.cantidad):void 0)??1/0,D=C.find(G=>G.id===v.id&&(G.colorSeleccionado??null)===(_??null));if(D){const G=D.maxStock!==void 0?Number(D.maxStock):k;return D.cantidad<G?C.map(V=>V.id===v.id&&(V.colorSeleccionado??null)===(_??null)?{...V,cantidad:V.cantidad+1}:V):C}return k>0?[...C,{...v,cantidad:1,colorSeleccionado:_??null,maxStock:k}]:C})},c=(v,_=null)=>{n(C=>C.map(S=>S.id===v&&(S.colorSeleccionado??null)===(_??null)?{...S,cantidad:S.cantidad-1}:S).filter(S=>S.cantidad>0))},d=(v,_=null)=>{n(C=>C.filter(S=>!(S.id===v&&(S.colorSeleccionado??null)===(_??null))))},h=v=>{n(_=>_.find(S=>S.id===v.id)?_.filter(S=>S.id!==v.id):[..._,{...v,cantidad:1}])},m=v=>{s(_=>_.find(C=>C.id===v.id)?_:[..._,v])},y=v=>{s(_=>_.filter(C=>C.id!==v))},g=()=>{n([])};return l.jsx(mj.Provider,{value:{carrito:e,favoritos:r,agregarAlCarrito:o,eliminarUnidadDelCarrito:c,quitarDelCarrito:d,toggleCarrito:h,agregarAFavoritos:m,eliminarDeFavoritos:y,vaciarCarrito:g},children:t})},xd=()=>N.useContext(mj);function CU({productoActual:t,onProductoClick:e}){const{products:n,loading:r}=yN(t==null?void 0:t.categoria),s=N.useRef(null),o=N.useRef(null),c=N.useRef(!1),d=N.useRef(!1),h=N.useCallback(()=>{const D=s.current;if(!D)return 0;const M=D.querySelector(".prl-card");if(!M)return 0;const F=getComputedStyle(D),H=parseInt(F.getPropertyValue("--gap")||"16",10)||16;return M.getBoundingClientRect().width+H},[]),m=N.useCallback(()=>{const D=s.current;if(!D)return;const M=h();if(!M)return;const H=Math.round(D.scrollLeft/M)*M;D.classList.add("no-smooth"),D.scrollTo({left:H}),setTimeout(()=>D.classList.remove("no-smooth"),40)},[h]),y=()=>{c.current||(o.current&&clearTimeout(o.current),o.current=setTimeout(m,90))},g=()=>{var D;c.current=!0,d.current=!1,(D=s.current)==null||D.classList.add("no-smooth")},v=D=>{c.current&&(Math.abs(D.movementX)>2||Math.abs(D.movementY)>2)&&(d.current=!0)},_=()=>{c.current=!1,m()};N.useEffect(()=>()=>o.current&&clearTimeout(o.current),[]);const C=D=>{D&&(e?e(D):window.location.href=`/producto/${D}`)},S=D=>{const M=s.current;if(M&&M.firstChild){const F=M.firstChild.getBoundingClientRect().width,H=parseInt(getComputedStyle(M).getPropertyValue("--gap")||"16",10)||16,Q=D*(F+H);M.scrollBy({left:Q,behavior:"smooth"})}},k=N.useMemo(()=>!t||!n?[]:n.filter(D=>(D==null?void 0:D.id)!==(t==null?void 0:t.id)).slice(0,20),[n,t==null?void 0:t.id]);return r?l.jsxs("div",{className:"productos-relacionados-container",children:[l.jsx("h3",{className:"prl-title",children:"Productos Relacionados"}),l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})})]}):l.jsx("section",{className:"prl-section","aria-label":"Productos relacionados",children:l.jsxs("div",{className:"prl-container",children:[l.jsx("h2",{className:"prl-title",children:"Productos relacionados"}),l.jsxs("div",{className:"prl-wrapper","aria-roledescription":"carrusel",children:[l.jsx("button",{className:"prl-arrow left hidden lg:flex",onClick:()=>S(-1),"aria-label":"Anterior",type:"button",children:l.jsx(O7,{size:20})}),l.jsx("div",{ref:s,className:"prl-rail",onScroll:y,onPointerDown:g,onPointerMove:v,onPointerUp:_,onPointerCancel:_,onPointerLeave:_,children:k.length>0?k.map(D=>{var H;const M=(D==null?void 0:D.imagen)||((H=D==null?void 0:D.imagenes)==null?void 0:H[0])||"",F=(D==null?void 0:D.nombre)||"Producto";return l.jsxs("article",{className:"prl-card",role:"group","aria-label":F,onClick:()=>{d.current||C(D==null?void 0:D.id)},children:[l.jsx("div",{className:"prl-imgbox",children:M?l.jsx("img",{src:M,alt:F,className:"prl-img",loading:"lazy",draggable:"false",decoding:"async"}):l.jsx("div",{className:"prl-img-fallback","aria-hidden":!0})}),l.jsxs("div",{className:"prl-meta",children:[l.jsx("h3",{className:"prl-name",title:F,children:F}),l.jsx("div",{className:"prl-cta",children:l.jsxs("button",{className:"prl-btn",type:"button",tabIndex:-1,"aria-label":`Ver ${F}`,onClick:Q=>{Q.stopPropagation(),C(D==null?void 0:D.id)},children:["Ver producto",l.jsx("svg",{className:"prl-btn-icon",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:l.jsx("path",{fillRule:"evenodd",d:`M12 2.25c-5.385 0-9.75 4.365-9.75 
                              9.75s4.365 9.75 9.75 9.75 9.75-4.365 
                              9.75-9.75S17.385 2.25 12 2.25zm4.28 
                              10.28a.75.75 0 000-1.06l-3-3a.75.75 
                              0 10-1.06 1.06l1.72 1.72H8.25a.75.75 
                              0 000 1.5h5.69l-1.72 1.72a.75.75 0 
                              101.06 1.06l3-3z`,clipRule:"evenodd"})})]})})]})]},D==null?void 0:D.id)}):l.jsx("div",{className:"prl-empty",children:"No hay productos relacionados."})}),l.jsx("button",{className:"prl-arrow right hidden lg:flex",onClick:()=>S(1),"aria-label":"Siguiente",type:"button",children:l.jsx(L7,{size:20})})]})]})})}const NU="https://playcenter-universal.onrender.com";function ky({className:t,total:e,label:n}){const[r,s]=N.useState(null),o=async()=>{try{const c=document.querySelector(".pay-btn");c&&(c.disabled=!0,c.classList.add("loading"));const h=await(await fetch(`${NU}/cardnet/create-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total:e})})).json();if(!h.SESSION){alert("❌ No se pudo crear la sesión de pago"),c&&(c.disabled=!1,c.classList.remove("loading"));return}s(h.SESSION),document.getElementById("cardnetForm").submit()}catch{alert("❌ No se pudo conectar al backend");const d=document.querySelector(".pay-btn");d&&(d.disabled=!1,d.classList.remove("loading"))}};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:o,className:`pay-btn ${t||""}`,children:[l.jsx("span",{className:"btn-text",children:n||"Comprar ahora"}),l.jsxs("div",{className:"icon-container",children:[l.jsx("svg",{viewBox:"0 0 24 24",className:"icon card-icon",children:l.jsx("path",{d:"M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18C2,19.11 2.89,20 4,20H20C21.11,20 22,19.11 22,18V6C22,4.89 21.11,4 20,4Z",fill:"currentColor"})}),l.jsx("svg",{viewBox:"0 0 24 24",className:"icon payment-icon",children:l.jsx("path",{d:"M2,17H22V21H2V17M6.25,7H9V6H6V3H18V6H15V7H17.75L19,17H5L6.25,7M9,10H15V8H9V10M9,13H15V11H9V13Z",fill:"currentColor"})}),l.jsx("svg",{viewBox:"0 0 24 24",className:"icon dollar-icon",children:l.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z",fill:"currentColor"})}),l.jsx("svg",{viewBox:"0 0 24 24",className:"icon wallet-icon default-icon",children:l.jsx("path",{d:"M21,18V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V6H12C10.89,6 10,6.9 10,8V16A2,2 0 0,0 12,18M12,16H22V8H12M16,13.5A1.5,1.5 0 0,1 14.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,12A1.5,1.5 0 0,1 16,13.5Z",fill:"currentColor"})}),l.jsx("svg",{viewBox:"0 0 24 24",className:"icon check-icon",children:l.jsx("path",{d:"M9,16.17L4.83,12L3.41,13.41L9,19L21,7L19.59,5.59L9,16.17Z",fill:"currentColor"})})]})]}),r&&l.jsx("form",{id:"cardnetForm",action:"https://lab.cardnet.com.do/authorize",method:"post",children:l.jsx("input",{type:"hidden",name:"SESSION",value:r})})]})}function DE(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function VE(t,e,n){try{const r={mode:t,items:e,total:n,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(r))}catch{}}function kU(){var et,lt,Ye,Ot,or,ks,zr,Hr,Tr;const{carrito:t,agregarAlCarrito:e,quitarDelCarrito:n,eliminarUnidadDelCarrito:r}=xd(),{usuario:s}=$r(),{id:o}=Wy(),c=Sr(),[d,h]=N.useState(!1),[m,y]=N.useState(null),[g,v]=N.useState(!1),[_,C]=N.useState(0),[S,k]=N.useState(0),D=N.useRef(0),M=N.useRef(0),F=N.useRef(null),H=N.useRef(null),[Q,G]=N.useState(!1),[V,I]=N.useState(""),[j,E]=N.useState({x:50,y:50}),[U,$]=N.useState({w:200,h:200}),{product:P,loading:ye,error:Le}=zV(o),Me=()=>{window.history&&window.history.length>1?c(-1):c("/productos")};if(ye)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-700 mx-auto mb-4"}),l.jsx("p",{className:"text-lg",children:"Cargando producto..."})]})});if(Le||!P)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Producto no encontrado."}),l.jsx("button",{onClick:Me,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver"})]})});const we=((et=P.variantes)==null?void 0:et.find(be=>be.color===m))||((lt=P.variantes)==null?void 0:lt[0]),W=t.find(be=>be.id===P.id&&(be.colorSeleccionado??null)===(m??null)),ae=(W==null?void 0:W.cantidad)||0,L=()=>{if(!s){h(!0);return}W||e({...P,cantidad:1},m)},R=()=>{if(!s){h(!0);return}e(P,m)},B=()=>{if(!s){h(!0);return}r(P.id,m)},Y=()=>{if(!s){h(!0);return}n(P.id,m)},Z=(Ye=P.variantes)==null?void 0:Ye.filter(be=>be.color&&be.color.trim()!==""),ie=(we==null?void 0:we.cantidad)!==void 0?Number(we.cantidad)||0:P.cantidad!==void 0?Number(P.cantidad)||0:1/0,ue=ie>0,me=Number.isFinite(ie)?Math.max(0,ie-((W==null?void 0:W.cantidad)||0)):1/0,Se=Number(P.precio)||0,Ce=[{id:P.id,nombre:P.nombre,precio:Se,cantidad:1}],Ke=Array.isArray(we==null?void 0:we.imagenes)?we.imagenes:[],at=we!=null&&we.imagen?[we.imagen]:[],vt=Array.isArray(P.imagenes)?P.imagenes:[],ut=P.imagen?[P.imagen]:[],At=Array.isArray(we==null?void 0:we.videoUrls)?we.videoUrls:[],un=Array.isArray(P.videoUrls)?P.videoUrls:[],Tn=be=>{const Fe=new Set;return be.filter(We=>!We||typeof We!="string"||!We.trim()||Fe.has(We)?!1:(Fe.add(We),!0))},xt=Ke.length||at.length?[...at,...Ke]:[...ut,...vt],ve=Tn(xt),Ue=Tn(At.length?At:un),De=[...ve.map(be=>({tipo:"imagen",url:be,titulo:"Imagen"})),...Ue.map(be=>({tipo:"video",url:be,titulo:"Video"}))].filter(be=>!!be.url);if(De.length===0&&(P.imagen||P.imagenes&&P.imagenes.length>0)){const be=P.imagen||P.imagenes[0];be&&De.push({tipo:"imagen",url:be,titulo:"Imagen principal"})}const Ct=be=>{C(be),v(!0)},wt=()=>{v(!1)},nn=()=>{C(be=>be===De.length-1?0:be+1)},Bn=()=>{C(be=>be===0?De.length-1:be-1)},fe=be=>{D.current=be.touches[0].clientX,M.current=0},ge=be=>{M.current=be.touches[0].clientX-D.current},ke=()=>{M.current>40?Bn():M.current<-40&&nn(),D.current=0,M.current=0},re=()=>{var We,_t;if(window.innerWidth<1024||((We=De[_])==null?void 0:We.tipo)==="video")return;const be=(_t=De[_])==null?void 0:_t.url;I(be);const Fe=H.current;if(Fe&&Fe.naturalWidth&&Fe.clientWidth){const vn=Math.max(2,Math.min(4,Fe.naturalWidth/Fe.clientWidth));$({w:vn*100,h:vn*100})}else $({w:200,h:200});G(!0)},Te=be=>{var Cr;if(!Q||window.innerWidth<1024||((Cr=De[_])==null?void 0:Cr.tipo)==="video")return;const Fe=F.current;if(!Fe)return;const We=Fe.getBoundingClientRect(),_t=(be.clientX-We.left)/We.width*100,vn=(be.clientY-We.top)/We.height*100;E({x:Math.max(0,Math.min(100,_t)),y:Math.max(0,Math.min(100,vn))})},je=()=>{G(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"vp-mobile-topbar",children:[l.jsx("button",{className:"vp-icon-btn",onClick:Me,"aria-label":"Volver",children:l.jsx(vE,{})}),l.jsx("div",{className:"vp-topbar-title",title:P.nombre,children:P.nombre}),l.jsx("button",{className:"vp-icon-btn",onClick:Me,"aria-label":"Cerrar",children:l.jsx(xE,{})})]}),l.jsxs("main",{className:"min-h-screen bg-white px-3 sm:px-4 pb-16 pt-[30px] lg:pt-20 text-gray-800 flex flex-col items-center overflow-visible",children:[l.jsxs("section",{className:"max-w-7xl w-full flex flex-col lg:flex-row gap-8 lg:gap-12 overflow-visible",children:[l.jsxs(te.div,{className:"relative flex flex-col items-center w-full lg:w-1/2 overflow-visible",children:[l.jsx("button",{className:"vp-back-fab",onClick:Me,"aria-label":"Volver",children:l.jsx(vE,{size:18})}),l.jsxs("div",{className:"vp-image-container vp-image-zoom-wrap",ref:F,onMouseEnter:re,onMouseMove:Te,onMouseLeave:je,children:[((Ot=De[_])==null?void 0:Ot.tipo)==="video"?l.jsx("video",{src:De[_].url,controls:!0,className:"vp-main-image",onClick:()=>Ct(_)}):l.jsx("img",{ref:H,src:(or=De[_])==null?void 0:or.url,alt:P.nombre,className:"vp-main-image",onClick:()=>Ct(_)}),Q&&l.jsx("div",{className:"vp-zoom-pane",style:{backgroundImage:`url(${V})`,backgroundSize:`${U.w}% ${U.h}%`,backgroundPosition:`${j.x}% ${j.y}%`}})]}),De.length>1&&l.jsx("div",{className:"vp-gallery-thumbs",children:De.map((be,Fe)=>l.jsx("button",{className:`vp-thumb-btn ${Fe===_?"active":""}`,onClick:()=>C(Fe),children:be.tipo==="video"?l.jsxs("div",{className:"relative",children:[l.jsx("video",{src:be.url,className:"vp-thumb-video"}),l.jsx("span",{className:"vp-badge-video",children:"Video"})]}):l.jsx("img",{src:be.url,alt:`${P.nombre} ${Fe+1}`})},Fe))}),Z&&Z.length>1&&l.jsx("div",{className:"vp-variants",children:Z.map((be,Fe)=>{const We=m?m===be.color:Fe===0;return l.jsxs("button",{onClick:()=>y(be.color),className:`vp-variant-chip ${We?"is-active":""}`,children:[l.jsx("img",{src:be.imagen,alt:be.color,className:"vp-variant-thumb"}),l.jsx("span",{className:"vp-variant-label",children:be.color})]},Fe)})})]}),l.jsxs(te.div,{className:"flex flex-col gap-4 sm:gap-5 w-full lg:w-1/2 overflow-visible",children:[l.jsx("h1",{className:"vp-title",children:P.nombre}),l.jsx("p",{className:"vp-desc",children:P.descripcion||"Contáctanos para más detalles."}),l.jsxs("p",{className:"vp-price",children:["DOP ",DE(Se)]}),l.jsxs("div",{className:"lg:hidden flex flex-col gap-3 overflow-visible",children:[l.jsx("div",{className:`vp-stock ${me===0?"vp-stock-out":me<=2?"vp-stock-low":"vp-stock-ok"}`,children:me===0?"No disponible":Number.isFinite(me)?`Quedan ${me} disponibles`:"Disponible"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 overflow-visible",children:[W?l.jsxs("div",{className:"vp-qty-row w-full sm:w-1/2",children:[l.jsx("button",{onClick:B,className:"vp-qty-btn",children:"−"}),l.jsx("span",{className:"vp-qty",children:ae}),l.jsx("button",{onClick:R,className:"vp-qty-btn",disabled:ae>=ie,title:ae>=ie?"Has alcanzado el máximo disponible":"Agregar una unidad",children:"+"}),l.jsx("button",{onClick:Y,className:"vp-remove",children:l.jsx(bE,{})})]}):l.jsx("button",{className:`button w-full sm:w-1/2 ${ue?"":"opacity-60 cursor-not-allowed"}`,onClick:L,disabled:!ue,title:ue?"Agregar al carrito":"No disponible",children:"Agregar al carrito"}),l.jsx("div",{className:"w-full sm:w-1/2",onClick:()=>VE("single",Ce,Se),children:l.jsx(ky,{className:"w-full",total:Se*100,label:"Comprar ahora"})})]})]}),P.acerca&&l.jsxs("div",{children:[l.jsx("h3",{className:"vp-subtitle",children:"Acerca de este artículo"}),l.jsx("ul",{className:"vp-bullets",children:P.acerca.map((be,Fe)=>l.jsx("li",{children:be},Fe))})]})]}),l.jsx("aside",{className:"vp-buy-card w-full lg:w-[360px] hidden lg:block",children:l.jsxs("div",{className:"vp-buy-inner",children:[l.jsxs("div",{className:"vp-buy-price",children:["DOP ",DE(Se)]}),l.jsx("div",{className:`vp-stock ${me===0?"vp-stock-out":me<=2?"vp-stock-low":"vp-stock-ok"}`,children:me===0?"No disponible":Number.isFinite(me)?`Quedan ${me} disponibles`:"Disponible"}),l.jsxs("div",{className:"flex flex-col gap-3",children:[W?l.jsxs("div",{className:"vp-qty-row",children:[l.jsx("button",{onClick:B,className:"vp-qty-btn",children:"−"}),l.jsx("span",{className:"vp-qty",children:ae}),l.jsx("button",{onClick:R,className:"vp-qty-btn",disabled:ae>=ie,title:ae>=ie?"Has alcanzado el máximo disponible":"Agregar una unidad",children:"+"}),l.jsx("button",{onClick:Y,className:"vp-remove",children:l.jsx(bE,{})})]}):l.jsx("button",{className:`button w-full ${ue?"":"opacity-60 cursor-not-allowed"}`,onClick:L,disabled:!ue,title:ue?"Agregar al carrito":"No disponible",children:"Agregar al carrito"}),l.jsx("div",{onClick:()=>VE("single",Ce,Se),children:l.jsx(ky,{className:"w-full",total:Se*100,label:"Comprar ahora"})})]})]})})]}),l.jsx("div",{className:"max-w-7xl w-full mt-10",children:l.jsx(CU,{productoActual:P,onProductoClick:be=>c(`/producto/${be}`)})}),l.jsxs("section",{className:"max-w-7xl w-full mt-12 px-1 sm:px-2",children:[l.jsx("h2",{className:"vp-section-title",children:"Más Información del Producto"}),De.length>1&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Galería Completa"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:De.map((be,Fe)=>l.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>Ct(Fe),children:be.tipo==="video"?l.jsxs(l.Fragment,{children:[l.jsx("video",{src:be.url,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:l.jsx("div",{className:"bg-white/90 rounded-full p-2",children:l.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),l.jsx("span",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:"Video"})]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:be.url,alt:`${P.nombre} - ${be.titulo}`,className:"w-full h-full object-cover"}),l.jsx("span",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:"Imagen"})]})},Fe))})]}),Ue.length>0&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Videos del Producto"}),l.jsxs("div",{className:"vp-video-carousel relative",children:[l.jsx("div",{className:"vp-video-card",children:l.jsx("video",{src:Ue[S],controls:!0,className:"vp-video",preload:"metadata",controlsList:"nodownload"})}),Ue.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"vp-arrow left","aria-label":"Video anterior",onClick:()=>k(be=>{const Fe=Ue.length;return be===0?Fe-1:be-1}),children:"‹"}),l.jsx("button",{className:"vp-arrow right","aria-label":"Siguiente video",onClick:()=>k(be=>{const Fe=Ue.length;return be===Fe-1?0:be+1}),children:"›"})]}),Ue.length>1&&l.jsx("div",{className:"vp-video-dots",children:Ue.map((be,Fe)=>l.jsx("button",{className:`vp-dot ${Fe===S?"active":""}`,"aria-label":`Ir al video ${Fe+1}`,onClick:()=>k(Fe)},Fe))})]})]}),P.videoUrl&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Video Adicional"}),l.jsx("div",{className:"vp-video-single",children:l.jsx("video",{src:P.videoUrl,controls:!0,className:"vp-video",preload:"metadata",controlsList:"nodownload"})})]}),((ks=P.imagenesExtra)==null?void 0:ks.length)>0&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Imágenes Adicionales"}),l.jsx("div",{className:"vp-extras-grid",children:P.imagenesExtra.slice(0,6).map((be,Fe)=>l.jsx("img",{src:be,alt:`Vista extra ${Fe+1}`,className:"vp-extra-img cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{const We=De.length;De.push({tipo:"imagen",url:be,titulo:`Extra ${Fe+1}`}),Ct(We)}},Fe))})]})]})]}),l.jsx(vd,{abierto:d,onCerrar:()=>h(!1)}),g&&l.jsx("div",{className:"imagen-modal-overlay",onClick:wt,children:l.jsxs("div",{className:"imagen-modal-container",children:[l.jsx("button",{className:"imagen-modal-close",onClick:wt,"aria-label":"Cerrar",children:l.jsx(xE,{size:24})}),De.length>1&&l.jsx("div",{className:"imagen-modal-thumbnails",children:De.map((be,Fe)=>l.jsx("button",{className:`thumbnail-btn ${Fe===_?"active":""}`,onClick:We=>{We.stopPropagation(),C(Fe)},children:be.tipo==="video"?l.jsxs("div",{className:"relative",children:[l.jsx("video",{src:be.url,className:"thumbnail-video"}),l.jsx("span",{className:"vp-badge-video",children:"Video"})]}):l.jsx("img",{src:be.url,alt:`${P.nombre} ${Fe+1}`})},Fe))}),l.jsx("div",{className:"imagen-modal-main",onClick:be=>be.stopPropagation(),onTouchStart:fe,onTouchMove:ge,onTouchEnd:ke,children:((zr=De[_])==null?void 0:zr.tipo)==="video"?l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("video",{src:De[_].url,controls:!0,className:"imagen-modal-video max-w-full max-h-full",controlsList:"nodownload",preload:"metadata",autoPlay:!1}),l.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:["Video ",_+1," de ",De.length]})]}):l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("img",{src:(Hr=De[_])==null?void 0:Hr.url,alt:`${P.nombre} - ${((Tr=De[_])==null?void 0:Tr.titulo)||"Imagen"}`,className:"imagen-modal-img max-w-full max-h-full object-contain",draggable:!1}),l.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:["Imagen ",_+1," de ",De.length]})]})}),De.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors z-10",onClick:be=>{be.stopPropagation(),Bn()},"aria-label":"Imagen anterior",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors z-10",onClick:be=>{be.stopPropagation(),nn()},"aria-label":"Siguiente imagen",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]})}function jU(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function AU(t,e){if(!e)return jy(t);if(Array.isArray(e.variantes)&&t.colorSeleccionado){const n=e.variantes.find(r=>r.color===t.colorSeleccionado);if(n&&n.cantidad!==void 0)return Number(n.cantidad)||0}return e.cantidad!==void 0?Number(e.cantidad)||0:jy(t)}function jy(t){if(t.maxStock!==void 0&&t.maxStock!==null){const e=Number(t.maxStock);if(!Number.isNaN(e))return e}if(Array.isArray(t.variantes)&&t.colorSeleccionado){const e=t.variantes.find(n=>n.color===t.colorSeleccionado);if(e&&e.cantidad!==void 0)return Number(e.cantidad)||0}if(t.cantidadProducto!==void 0){const e=Number(t.cantidadProducto);if(!Number.isNaN(e))return e}return t.cantidad!==void 0&&t.cantidad,Number.POSITIVE_INFINITY}function IU(t,e){try{const n={mode:"cart",items:t,total:e,at:Date.now()};sessionStorage.setItem("checkoutPayload",JSON.stringify(n))}catch{}}function PU(){const{carrito:t,agregarAlCarrito:e,eliminarUnidadDelCarrito:n,quitarDelCarrito:r}=xd(),s=Sr(),[o,c]=N.useState(null),[d,h]=N.useState({});N.useEffect(()=>{const g=[],v=new Set;return t.forEach(_=>{if(_!=null&&_.id&&!v.has(_.id)){v.add(_.id);const C=$e(Ee,"productos",_.id),S=Jn(C,k=>{k.exists()&&h(D=>({...D,[_.id]:k.data()}))});g.push(S)}}),()=>{g.forEach(_=>_&&_())}},[t]);const m=t.reduce((g,v)=>g+(Number(v.precio)||0)*v.cantidad,0),y=t.map(g=>({id:g.id,nombre:g.nombre,precio:Number(g.precio)||0,cantidad:g.cantidad}));return l.jsxs("main",{className:"carrito-page",children:[l.jsx("h1",{className:"carrito-title",children:"Mi Carrito"}),t.length===0?l.jsx("p",{className:"carrito-empty",children:"Tu carrito está vacío."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"carrito-grid",children:t.map(g=>{var S;const v=d[g.id];jy(g);const _=AU(g,v),C=Number.isFinite(_)?Math.max(0,_-(Number(g.cantidad)||0)):_;return l.jsxs("div",{className:"carrito-card",onClick:()=>s(`/producto/${g.id}`),children:[l.jsx("img",{src:g.imagen||((S=g.imagenes)==null?void 0:S[0]),alt:g.nombre,className:"carrito-img"}),l.jsxs("div",{className:"carrito-info",children:[l.jsx("h2",{className:"carrito-nombre",children:g.nombre}),l.jsx("p",{className:`carrito-stock ${C===0?"stock-out":Number.isFinite(C)&&C<=2?"stock-low":"stock-ok"}`,children:C===0?"No disponible":Number.isFinite(C)&&C<=2?`Casi agotado (${C})`:Number.isFinite(C)?`Disponible (${C})`:"Disponible"}),l.jsxs("div",{className:"carrito-actions",children:[l.jsx("button",{onClick:k=>{k.stopPropagation(),n(g.id,g.colorSeleccionado??null)},className:"vp-qty-btn",children:"−"}),l.jsx("span",{className:"vp-qty",children:g.cantidad}),l.jsx("button",{onClick:k=>{k.stopPropagation(),(!Number.isFinite(_)||g.cantidad<_)&&e(g,g.colorSeleccionado??null)},className:"vp-qty-btn",disabled:Number.isFinite(_)&&g.cantidad>=_,children:"+"}),l.jsx("button",{onClick:k=>{k.stopPropagation(),c(g)},className:"vp-remove",title:"Quitar",children:l.jsx(tj,{})})]})]}),l.jsxs("div",{className:"carrito-subtotal",children:["DOP"," ",jU((Number(g.precio)||0)*g.cantidad)]})]},g.id)})}),l.jsx("div",{className:"carrito-footer",children:l.jsx("div",{className:"carrito-pay-wrap",onClick:()=>IU(y,m),children:l.jsx(ky,{className:"carrito-cardnet-btn w-full",total:m*100})})})]}),o&&l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal",children:[l.jsx("h2",{children:"¿Eliminar producto?"}),l.jsxs("p",{children:["¿Seguro que quieres quitar"," ",l.jsx("strong",{children:o.nombre})," del carrito?"]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"btn-cancel",onClick:()=>c(null),children:"Cancelar"}),l.jsx("button",{className:"btn-confirm",onClick:()=>{r(o.id,o.colorSeleccionado??null),c(null)},children:"Sí, eliminar"})]})]})})]})}function pj(){return l.jsx("div",{className:"waves-container"})}function RU(){return l.jsxs("div",{className:"relative min-h-screen flex flex-col items-center px-4 sm:px-8 pt-12 pb-20 font-sans text-gray-800 bg-transparent overflow-hidden",children:[l.jsx(pj,{}),l.jsx("h1",{className:"text-2xl sm:text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"CONTÁCTANOS"}),l.jsx("h2",{className:"text-lg sm:text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),l.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-4 sm:gap-6 text-sm sm:text-lg z-10 px-4 py-4 sm:px-8 sm:py-6",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[l.jsx("img",{src:"/toy/asoma.png",alt:"Muñeco asomándose",className:"hidden sm:block absolute z-20 pointer-events-none w-[300px]",style:{top:"-160px",right:"-80px",height:"auto"}}),l.jsx(Zh,{icon:l.jsx(yd,{}),label:"Dirección",text:"Av. Estrella Sadhalá #55, Santiago, República Dominicana"}),l.jsx(Zh,{icon:l.jsx(hm,{}),label:"Teléfono Tienda",text:"+1 (849)-635-7000"}),l.jsx(Zh,{icon:l.jsx(hm,{}),label:"Teléfono Internet",text:"+1 (809)-582-1212"}),l.jsx(Zh,{icon:l.jsx(Dx,{}),label:"Correo",text:"playcenter121@gmail.com"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center mt-4 w-full",children:[l.jsx(ME,{href:"https://wa.me/18496357000",text:"WhatsApp Tienda"}),l.jsx(ME,{href:"https://wa.me/18095821212",text:"WhatsApp Internet"})]})]})]})}const Zh=({icon:t,label:e,text:n})=>l.jsxs("div",{className:"flex items-start gap-3 w-full z-10",children:[l.jsx("div",{className:"text-xl sm:text-2xl text-gray-400",children:t}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-sm sm:text-base text-gray-700",children:[e,":"]}),l.jsx("p",{className:"text-gray-600 text-sm sm:text-base break-words",children:n})]})]}),ME=({href:t,text:e})=>l.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 sm:gap-3 px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-bold rounded-xl transition-transform z-10 w-full sm:w-auto",style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",n.currentTarget.style.transform="scale(1.05)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",n.currentTarget.style.transform="scale(1)"},children:[l.jsx(dm,{className:"text-lg sm:text-xl text-cyan-500"}),e]});function DU(){return l.jsxs("div",{className:`relative min-h-screen flex flex-col items-center px-4 pt-12 pb-20 font-sans text-gray-800
                 bg-transparent overflow-hidden`,children:[l.jsx(pj,{}),l.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-center text-gray-800 z-10",style:{fontFamily:"'Orbitron', sans-serif"},children:"NOSOTROS"}),l.jsx("h2",{className:"text-2xl font-semibold mb-10 text-center text-gray-600 z-10",style:{fontFamily:"'Montserrat', sans-serif"},children:"PlayCenter Universal"}),l.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center gap-6 text-lg z-10",style:{background:"rgba(255, 255, 255, 0.25)",borderRadius:"1rem",padding:"2rem",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0 0 40px rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[l.jsx("img",{src:"/toy/asoman.png",alt:"Muñeco asomándose",className:"hidden lg:block absolute z-20",style:{top:"-160px",right:"-230px",width:"300px",height:"auto"}}),l.jsx(x0,{icon:l.jsx(V7,{className:"text-yellow-400"}),label:"Quiénes somos",text:"Somos una empresa dominicana ubicada en Santiago, especializada en brindar lo último en tecnología, innovación y productos para el estilo de vida moderno."}),l.jsx(x0,{icon:l.jsx(B7,{className:"text-cyan-500"}),label:"Nuestra misión",text:"Superar las expectativas de nuestros clientes ofreciendo artículos de calidad como consolas, videojuegos, tablets, móviles, accesorios y más, con un servicio humano, eficiente y profesional."}),l.jsx(x0,{icon:l.jsx(yd,{className:"text-green-500"}),label:"Nuestro compromiso",text:"PlayCenter Universal no solo vende productos, crea experiencias memorables con cada compra. ¡Gracias por confiar en nosotros!"}),l.jsx("div",{className:"flex justify-center mt-6",children:l.jsxs(st,{to:"/contacto",className:`flex items-center gap-3 px-6 py-3 text-base font-bold
                       rounded-xl transition-transform z-10 animate-fade-in`,style:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 0 20px rgba(255, 255, 255, 0.2)",color:"#333",transition:"all 0.3s ease"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 0 30px rgba(255, 255, 255, 0.4)",t.currentTarget.style.transform="scale(1.05)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 0 20px rgba(255, 255, 255, 0.2)",t.currentTarget.style.transform="scale(1)"},children:[l.jsx(Cy,{className:"text-xl text-cyan-500"}),"Contáctanos"]})})]})]})}const x0=({icon:t,label:e,text:n})=>l.jsxs("div",{className:"flex items-start gap-4 w-full z-10",children:[l.jsx("div",{className:"text-2xl text-gray-400",children:t}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-gray-700",children:[e,":"]}),l.jsx("p",{className:"text-gray-600 break-words",children:n})]})]}),VU=[{id:1,nombre:"Audífonos Sony WH-1000XM5",imagen:"/products/sony-wh1000xm5.png",precio:349.99,descripcion:"Cancelación de ruido líder, hasta 30h de batería, diseño premium."},{id:2,nombre:"AirPods Pro 2da Gen",imagen:"/products/airpods-pro-2.png",precio:249.99,descripcion:"Audio espacial personalizado, chip H2 de Apple, resistente al agua."}];function MU(){const{id:t}=Wy(),e=VU.find(n=>n.id===parseInt(t));return e?l.jsxs("div",{className:"pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",children:[l.jsx("div",{className:"w-full lg:w-1/2 flex justify-center",children:l.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow"})}),l.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.nombre}),l.jsx("p",{className:"text-gray-700 text-lg",children:e.descripcion}),l.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",e.precio]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",children:"Agregar al carrito"}),l.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",children:"Añadir a favoritos ❤️"})]})]})]}):l.jsx("div",{className:"pt-24 text-center text-red-600 font-semibold",children:"Producto no encontrado"})}function b0(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").trim()}function OU(t){const e=Math.round(Number(t)||0);return new Intl.NumberFormat("es-DO").format(e)}function gj({producto:t}){const{carrito:e,agregarAlCarrito:n,eliminarUnidadDelCarrito:r,quitarDelCarrito:s}=xd(),{usuario:o}=$r(),{abrirModal:c}=hc(),d=Sr(),[h,m]=N.useState(!1),y=t.cantidad===void 0||t.cantidad>0,g=e.find(M=>M.id===t.id),v=(g==null?void 0:g.cantidad)||0,_=M=>{if(M.stopPropagation(),!o){m(!0);return}g||n({...t,cantidad:1})},C=M=>{if(M.stopPropagation(),!o){m(!0);return}(t.cantidad===void 0||v<t.cantidad)&&n(t)},S=M=>{if(M.stopPropagation(),!o){m(!0);return}r(t.id)},k=M=>{if(M.stopPropagation(),!o){m(!0);return}s(t.id)},D=()=>{d(`/producto/${t.id}`,{state:{producto:t}})};return l.jsx(l.Fragment,{children:l.jsxs("div",{onClick:M=>{M.target.closest("button")||D()},className:"tarjeta-producto group",children:[l.jsxs("div",{className:"tarjeta-img-zone",children:[(()=>{const M=t.imagen||(t.imagenes&&t.imagenes.length>0?t.imagenes[0]:null)||(t.variantes&&t.variantes.length>0&&t.variantes[0].imagen?t.variantes[0].imagen:null)||(t.variantes&&t.variantes.length>0&&t.variantes[0].imagenes&&t.variantes[0].imagenes.length>0?t.variantes[0].imagenes[0]:null);return M?l.jsx("img",{src:M,alt:t.nombre,className:"tarjeta-img",onError:F=>{F.target.style.display="none",F.target.nextSibling.style.display="flex"}}):null})(),l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",style:{display:"none"},children:l.jsx("span",{children:"Sin imagen"})})]}),l.jsxs("div",{className:"tarjeta-info-zone",children:[l.jsx("h2",{className:"tarjeta-nombre",children:t.nombre}),l.jsx("p",{className:"tarjeta-descripcion",children:t.descripcion||"Descripción del producto."}),l.jsxs("p",{className:"tarjeta-precio",children:[OU(t.precio)," DOP"]}),l.jsx("div",{className:"botones-wrapper",children:g?l.jsxs("div",{className:"flex items-center gap-2 justify-center w-full",children:[l.jsx("button",{onClick:S,className:"carrito-btn",children:"−"}),l.jsx("span",{className:"font-semibold text-lg",children:v}),l.jsx("button",{onClick:C,className:"carrito-btn",disabled:t.cantidad!==void 0&&v>=t.cantidad,children:"+"}),l.jsx("button",{onClick:k,className:"ml-2 text-red-600 hover:text-red-700 font-semibold transition carrito-quitar",title:"Quitar",children:l.jsx(tj,{})})]}):l.jsxs("button",{onClick:_,className:`w-full flex items-center justify-center gap-2 carrito-main-btn ${y?"":"opacity-60 cursor-not-allowed bg-gray-300 text-gray-600 hover:bg-gray-300"}`,disabled:!y,title:y?"Agregar al carrito":"No quedan productos",children:[l.jsx(ej,{size:16})," Agregar al carrito"]})}),l.jsx(vd,{isOpen:h,onClose:()=>m(!1),onIniciarSesion:()=>{m(!1),c()}})]})]})})}function yj(){return l.jsxs("div",{className:"wave-background",children:[l.jsx("div",{className:"wave wave1"}),l.jsx("div",{className:"wave wave2"}),l.jsx("div",{className:"wave wave3"})]})}const OE={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.2)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 4px rgba(60, 80, 120, 0.4)"}},LU={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.4)","0 0 10px rgba(80, 100, 140, 0.6)","0 0 4px rgba(80, 100, 140, 0.4)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function ym({categoriaActiva:t,mostrarEnMovil:e,setMostrarEnMovil:n}){const r=Sr(),{categories:s,loading:o,error:c}=vN(),d=y=>{r(`/Productos/${y.ruta}`),n&&n(!1)},h=y=>y===t,m=[{nombre:"Todos",ruta:"",id:"todos"},...s];return o?l.jsx("aside",{className:"hidden lg:flex flex-col w-56 px-2 relative z-40",children:l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"})})}):c?l.jsx("aside",{className:"hidden lg:flex flex-col w-56 px-2 relative z-40",children:l.jsx("div",{className:"text-red-500 text-sm p-4",children:"Error cargando categorías"})}):l.jsxs(l.Fragment,{children:[l.jsxs("aside",{className:"hidden lg:flex flex-col w-56 px-2 relative z-40",style:{height:"100vh",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Categorías",children:[l.jsx("div",{className:"absolute inset-0 z-0",style:{overflow:"visible",minHeight:"2000px",backgroundColor:"transparent",pointerEvents:"none"},children:l.jsx(yj,{})}),l.jsxs("div",{className:"scrollbar-light relative z-10 flex-1",style:{overflowY:"auto",backgroundColor:"transparent",paddingRight:"0.25rem"},children:[l.jsx(te.h2,{className:"text-lg font-semibold mb-4 text-center tracking-wide text-blue-700 select-none",variants:LU,animate:"animate",children:"Categorías"}),l.jsx("ul",{className:"space-y-2 text-sm",children:m.map((y,g)=>l.jsx(te.li,{whileHover:{scale:1.02},children:l.jsx(te.button,{onClick:()=>d(y),initial:"initial",whileHover:"hover",whileTap:"tap",variants:OE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${h(y.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:y.nombre})},y.id||g))})]})]}),l.jsx(Gt,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(te.div,{className:"fixed inset-0 bg-gray-200 bg-opacity-40 backdrop-blur-sm z-[9998]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1)}),l.jsxs(te.nav,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",stiffness:250,damping:30},className:"fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-gray-50 to-gray-100 border border-gray-300 z-[9999] flex flex-col shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-700 tracking-wide select-none",children:"Categorías"}),l.jsx("button",{onClick:()=>n(!1),className:"text-red-500 font-bold text-2xl hover:text-red-700","aria-label":"Cerrar categorías",children:"✕"})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto px-4 py-2 scrollbar-light",children:l.jsx("ul",{className:"space-y-2 text-sm",children:m.map((y,g)=>l.jsx(te.li,{whileHover:{scale:1.02},children:l.jsx(te.button,{onClick:()=>d(y),initial:"initial",whileHover:"hover",whileTap:"tap",variants:OE,className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors duration-200 ${h(y.nombre)?"bg-blue-100 text-blue-900 font-semibold":"bg-transparent text-blue-700 hover:bg-blue-100"}`,style:{border:"none",boxShadow:"none"},children:y.nombre})},y.id||g))})})]})]})})]})}function vj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ei(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vj(t))&&(r&&(r+=" "),r+=e);return r}function xj(t,e,n=void 0){const r={};for(const s in t){const o=t[s];let c="",d=!0;for(let h=0;h<o.length;h+=1){const m=o[h];m&&(c+=(d===!0?"":" ")+e(m),d=!1,n&&n[m]&&(c+=" "+n[m]))}r[s]=c}return r}function Ia(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Vl(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Mx(t,e=0,n=1){return Vl(t,e,n)}function FU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ro(t){if(t.type)return t;if(t.charAt(0)==="#")return Ro(FU(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ia(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ia(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:s}}const UU=t=>{const e=Ro(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},hu=(t,e)=>{try{return UU(t)}catch{return t}};function ep(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function bj(t){t=Ro(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),c=(m,y=(m+n/30)%12)=>s-o*Math.max(Math.min(y-3,9-y,1),-1);let d="rgb";const h=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(d+="a",h.push(e[3])),ep({type:d,values:h})}function Ay(t){t=Ro(t);let e=t.type==="hsl"||t.type==="hsla"?Ro(bj(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function BU(t,e){const n=Ay(t),r=Ay(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Iy(t,e){return t=Ro(t),e=Mx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ep(t)}function ef(t,e,n){try{return Iy(t,e)}catch{return t}}function Qu(t,e){if(t=Ro(t),e=Mx(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ep(t)}function kt(t,e,n){try{return Qu(t,e)}catch{return t}}function Yu(t,e){if(t=Ro(t),e=Mx(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ep(t)}function jt(t,e,n){try{return Yu(t,e)}catch{return t}}function $U(t,e=.15){return Ay(t)>.5?Qu(t,e):Yu(t,e)}function tf(t,e,n){try{return $U(t,e)}catch{return t}}const zU=N.createContext(),HU=()=>N.useContext(zU)??!1;function wj(...t){const e=N.useRef(void 0),n=N.useCallback(r=>{const s=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const c=o,d=c(r);return typeof d=="function"?d:()=>{c(null)}}return o.current=r,()=>{o.current=null}});return()=>{s.forEach(o=>o==null?void 0:o())}},t);return N.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function WU(t){return typeof t=="string"}function qU(t,e,n){return t===void 0||WU(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Tf(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function LE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function GU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:o}=t;if(!e){const _=ei(n==null?void 0:n.className,o,s==null?void 0:s.className,r==null?void 0:r.className),C={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},S={...n,...s,...r};return _.length>0&&(S.className=_),Object.keys(C).length>0&&(S.style=C),{props:S,internalRef:void 0}}const c=Tf({...s,...r}),d=LE(r),h=LE(s),m=e(c),y=ei(m==null?void 0:m.className,n==null?void 0:n.className,o,s==null?void 0:s.className,r==null?void 0:r.className),g={...m==null?void 0:m.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},v={...m,...n,...h,...d};return y.length>0&&(v.className=y),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:m.ref}}function KU(t,e,n){return typeof t=="function"?t(e,n):t}function lo(t){var g;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...o}=t,c=s?{}:KU(n,r),{props:d,internalRef:h}=GU({...o,externalSlotProps:c}),m=wj(h,c==null?void 0:c.ref,(g=t.additionalProps)==null?void 0:g.ref);return qU(e,{...d,ref:m},r)}function Cf(t){return t&&t.ownerDocument||document}function QU(t){const{controlled:e,default:n}=t,{current:r}=N.useRef(e!==void 0),[s,o]=N.useState(n),c=r?e:s,d=N.useCallback(h=>{r||o(h)},[]);return[c,d]}const _j=typeof window<"u"?N.useLayoutEffect:N.useEffect;function w0(t){const e=N.useRef(t);return _j(()=>{e.current=t}),N.useRef((...n)=>(0,e.current)(...n)).current}function FE(t){try{return t.matches(":focus-visible")}catch{}return!1}const YU={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function XU(t,e,n=(r,s)=>r===s){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}const JU=2;function El(t,e,n,r,s){return n===1?Math.min(t+e,s):Math.max(t-e,r)}function Ej(t,e){return t-e}function UE(t,e){const{index:n}=t.reduce((r,s,o)=>{const c=Math.abs(e-s);return r===null||c<r.distance||c===r.distance?{distance:c,index:o}:r},null)??{};return n}function nf(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const s=n.changedTouches[r];if(s.identifier===e.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function vm(t,e,n){return(t-e)*100/(n-e)}function ZU(t,e,n){return(n-e)*t+e}function eB(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function tB(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(eB(e)))}function BE({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(Ej)}function rf({sliderRef:t,activeIndex:e,setActive:n}){var s,o,c;const r=Cf(t.current);(!((s=t.current)!=null&&s.contains(r.activeElement))||Number((o=r==null?void 0:r.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((c=t.current)==null||c.querySelector(`[type="range"][data-index="${e}"]`).focus()),n&&n(e)}function sf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?XU(t,e):!1}const nB={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},rB=t=>t;let of;function $E(){return of===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?of=CSS.supports("touch-action","none"):of=!0),of}function sB(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:s=!1,isRtl:o=!1,marks:c=!1,max:d=100,min:h=0,name:m,onChange:y,onChangeCommitted:g,orientation:v="horizontal",rootRef:_,scale:C=rB,step:S=1,shiftStep:k=10,tabIndex:D,value:M}=t,F=N.useRef(void 0),[H,Q]=N.useState(-1),[G,V]=N.useState(-1),[I,j]=N.useState(!1),E=N.useRef(0),U=N.useRef(null),[$,P]=QU({controlled:M,default:n??h}),ye=y&&((fe,ge,ke)=>{const re=fe.nativeEvent||fe,Te=new re.constructor(re.type,re);Object.defineProperty(Te,"target",{writable:!0,value:{value:ge,name:m}}),U.current=ge,y(Te,ge,ke)}),Le=Array.isArray($);let Me=Le?$.slice().sort(Ej):[$];Me=Me.map(fe=>fe==null?h:Vl(fe,h,d));const we=c===!0&&S!==null?[...Array(Math.floor((d-h)/S)+1)].map((fe,ge)=>({value:h+S*ge})):c||[],W=we.map(fe=>fe.value),[ae,L]=N.useState(-1),R=N.useRef(null),B=wj(_,R),Y=fe=>ge=>{var re;const ke=Number(ge.currentTarget.getAttribute("data-index"));FE(ge.target)&&L(ke),V(ke),(re=fe==null?void 0:fe.onFocus)==null||re.call(fe,ge)},Z=fe=>ge=>{var ke;FE(ge.target)||L(-1),V(-1),(ke=fe==null?void 0:fe.onBlur)==null||ke.call(fe,ge)},ie=(fe,ge)=>{const ke=Number(fe.currentTarget.getAttribute("data-index")),re=Me[ke],Te=W.indexOf(re);let je=ge;if(we&&S==null){const et=W[W.length-1];je>=et?je=et:je<=W[0]?je=W[0]:je=je<re?W[Te-1]:W[Te+1]}if(je=Vl(je,h,d),Le){s&&(je=Vl(je,Me[ke-1]||-1/0,Me[ke+1]||1/0));const et=je;je=BE({values:Me,newValue:je,index:ke});let lt=ke;s||(lt=je.indexOf(et)),rf({sliderRef:R,activeIndex:lt})}P(je),L(ke),ye&&!sf(je,$)&&ye(fe,je,ke),g&&g(fe,U.current??je)},ue=fe=>ge=>{var ke;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ge.key)){ge.preventDefault();const re=Number(ge.currentTarget.getAttribute("data-index")),Te=Me[re];let je=null;if(S!=null){const et=ge.shiftKey?k:S;switch(ge.key){case"ArrowUp":je=El(Te,et,1,h,d);break;case"ArrowRight":je=El(Te,et,o?-1:1,h,d);break;case"ArrowDown":je=El(Te,et,-1,h,d);break;case"ArrowLeft":je=El(Te,et,o?1:-1,h,d);break;case"PageUp":je=El(Te,k,1,h,d);break;case"PageDown":je=El(Te,k,-1,h,d);break;case"Home":je=h;break;case"End":je=d;break}}else if(we){const et=W[W.length-1],lt=W.indexOf(Te),Ye=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ot=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ye.includes(ge.key)?lt===0?je=W[0]:je=W[lt-1]:Ot.includes(ge.key)&&(lt===W.length-1?je=et:je=W[lt+1])}je!=null&&ie(ge,je)}(ke=fe==null?void 0:fe.onKeyDown)==null||ke.call(fe,ge)};_j(()=>{var fe;r&&R.current.contains(document.activeElement)&&((fe=document.activeElement)==null||fe.blur())},[r]),r&&H!==-1&&Q(-1),r&&ae!==-1&&L(-1);const me=fe=>ge=>{var ke;(ke=fe.onChange)==null||ke.call(fe,ge),ie(ge,ge.target.valueAsNumber)},Se=N.useRef(void 0);let Ce=v;o&&v==="horizontal"&&(Ce+="-reverse");const Ke=({finger:fe,move:ge=!1})=>{const{current:ke}=R,{width:re,height:Te,bottom:je,left:et}=ke.getBoundingClientRect();let lt;Ce.startsWith("vertical")?lt=(je-fe.y)/Te:lt=(fe.x-et)/re,Ce.includes("-reverse")&&(lt=1-lt);let Ye;if(Ye=ZU(lt,h,d),S)Ye=tB(Ye,S,h);else{const or=UE(W,Ye);Ye=W[or]}Ye=Vl(Ye,h,d);let Ot=0;if(Le){ge?Ot=Se.current:Ot=UE(Me,Ye),s&&(Ye=Vl(Ye,Me[Ot-1]||-1/0,Me[Ot+1]||1/0));const or=Ye;Ye=BE({values:Me,newValue:Ye,index:Ot}),s&&ge||(Ot=Ye.indexOf(or),Se.current=Ot)}return{newValue:Ye,activeIndex:Ot}},at=w0(fe=>{const ge=nf(fe,F);if(!ge)return;if(E.current+=1,fe.type==="mousemove"&&fe.buttons===0){vt(fe);return}const{newValue:ke,activeIndex:re}=Ke({finger:ge,move:!0});rf({sliderRef:R,activeIndex:re,setActive:Q}),P(ke),!I&&E.current>JU&&j(!0),ye&&!sf(ke,$)&&ye(fe,ke,re)}),vt=w0(fe=>{const ge=nf(fe,F);if(j(!1),!ge)return;const{newValue:ke}=Ke({finger:ge,move:!0});Q(-1),fe.type==="touchend"&&V(-1),g&&g(fe,U.current??ke),F.current=void 0,At()}),ut=w0(fe=>{if(r)return;$E()||fe.preventDefault();const ge=fe.changedTouches[0];ge!=null&&(F.current=ge.identifier);const ke=nf(fe,F);if(ke!==!1){const{newValue:Te,activeIndex:je}=Ke({finger:ke});rf({sliderRef:R,activeIndex:je,setActive:Q}),P(Te),ye&&!sf(Te,$)&&ye(fe,Te,je)}E.current=0;const re=Cf(R.current);re.addEventListener("touchmove",at,{passive:!0}),re.addEventListener("touchend",vt,{passive:!0})}),At=N.useCallback(()=>{const fe=Cf(R.current);fe.removeEventListener("mousemove",at),fe.removeEventListener("mouseup",vt),fe.removeEventListener("touchmove",at),fe.removeEventListener("touchend",vt)},[vt,at]);N.useEffect(()=>{const{current:fe}=R;return fe.addEventListener("touchstart",ut,{passive:$E()}),()=>{fe.removeEventListener("touchstart",ut),At()}},[At,ut]),N.useEffect(()=>{r&&At()},[r,At]);const un=fe=>ge=>{var Te;if((Te=fe.onMouseDown)==null||Te.call(fe,ge),r||ge.defaultPrevented||ge.button!==0)return;ge.preventDefault();const ke=nf(ge,F);if(ke!==!1){const{newValue:je,activeIndex:et}=Ke({finger:ke});rf({sliderRef:R,activeIndex:et,setActive:Q}),P(je),ye&&!sf(je,$)&&ye(ge,je,et)}E.current=0;const re=Cf(R.current);re.addEventListener("mousemove",at,{passive:!0}),re.addEventListener("mouseup",vt)},Tn=vm(Le?Me[0]:h,h,d),xt=vm(Me[Me.length-1],h,d)-Tn,ve=(fe={})=>{const ge=Tf(fe),ke={onMouseDown:un(ge||{})},re={...ge,...ke};return{...fe,ref:B,...re}},Ue=fe=>ge=>{var re;(re=fe.onMouseOver)==null||re.call(fe,ge);const ke=Number(ge.currentTarget.getAttribute("data-index"));V(ke)},De=fe=>ge=>{var ke;(ke=fe.onMouseLeave)==null||ke.call(fe,ge),V(-1)},Ct=(fe={})=>{const ge=Tf(fe),ke={onMouseOver:Ue(ge||{}),onMouseLeave:De(ge||{})};return{...fe,...ge,...ke}},wt=fe=>({pointerEvents:H!==-1&&H!==fe?"none":void 0});let nn;return v==="vertical"&&(nn=o?"vertical-rl":"vertical-lr"),{active:H,axis:Ce,axisProps:nB,dragging:I,focusedThumbIndex:ae,getHiddenInputProps:(fe={})=>{const ge=Tf(fe),ke={onChange:me(ge||{}),onFocus:Y(ge||{}),onBlur:Z(ge||{}),onKeyDown:ue(ge||{})},re={...ge,...ke};return{tabIndex:D,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":C(d),"aria-valuemin":C(h),name:m,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:r,...fe,...re,style:{...YU,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:nn}}},getRootProps:ve,getThumbProps:Ct,marks:we,open:G,range:Le,rootRef:B,trackLeap:xt,trackOffset:Tn,values:Me,getThumbStyle:wt}}function Nf(t){return typeof t=="string"}function Lr(t){if(typeof t!="string")throw new Error(Ia(7));return t.charAt(0).toUpperCase()+t.slice(1)}var _0={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function iB(){if(zE)return Tt;zE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function C(S){if(typeof S=="object"&&S!==null){var k=S.$$typeof;switch(k){case t:switch(S=S.type,S){case n:case s:case r:case h:case m:case v:return S;default:switch(S=S&&S.$$typeof,S){case c:case d:case g:case y:return S;case o:return S;default:return k}}case e:return k}}}return Tt.ContextConsumer=o,Tt.ContextProvider=c,Tt.Element=t,Tt.ForwardRef=d,Tt.Fragment=n,Tt.Lazy=g,Tt.Memo=y,Tt.Portal=e,Tt.Profiler=s,Tt.StrictMode=r,Tt.Suspense=h,Tt.SuspenseList=m,Tt.isContextConsumer=function(S){return C(S)===o},Tt.isContextProvider=function(S){return C(S)===c},Tt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Tt.isForwardRef=function(S){return C(S)===d},Tt.isFragment=function(S){return C(S)===n},Tt.isLazy=function(S){return C(S)===g},Tt.isMemo=function(S){return C(S)===y},Tt.isPortal=function(S){return C(S)===e},Tt.isProfiler=function(S){return C(S)===s},Tt.isStrictMode=function(S){return C(S)===r},Tt.isSuspense=function(S){return C(S)===h},Tt.isSuspenseList=function(S){return C(S)===m},Tt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===s||S===r||S===h||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===y||S.$$typeof===c||S.$$typeof===o||S.$$typeof===d||S.$$typeof===_||S.getModuleId!==void 0)},Tt.typeOf=C,Tt}var HE;function oB(){return HE||(HE=1,_0.exports=iB()),_0.exports}var Sj=oB();function $s(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Tj(t){if(N.isValidElement(t)||Sj.isValidElementType(t)||!$s(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Tj(t[n])}),e}function Ur(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return $s(t)&&$s(e)&&Object.keys(e).forEach(s=>{N.isValidElement(e[s])||Sj.isValidElementType(e[s])?r[s]=e[s]:$s(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&$s(t[s])?r[s]=Ur(t[s],e[s],n):n.clone?r[s]=$s(e[s])?Tj(e[s]):e[s]:r[s]=e[s]}),r}function ku(t,e){return e?Ur(t,e,{clone:!1}):t}function WE(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var c,d;const o=/min-width:\s*([0-9.]+)/;return+(((c=r.match(o))==null?void 0:c[1])||0)-+(((d=s.match(o))==null?void 0:d[1])||0)});return n.length?n.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function aB(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function lB(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(o)}function cB(t){const e=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function n(o,c){o.up=(...d)=>e(t.breakpoints.up(...d),c),o.down=(...d)=>e(t.breakpoints.down(...d),c),o.between=(...d)=>e(t.breakpoints.between(...d),c),o.only=(...d)=>e(t.breakpoints.only(...d),c),o.not=(...d)=>{const h=e(t.breakpoints.not(...d),c);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},s=o=>(n(r,o),r);return n(s),{...t,containerQueries:s}}const tp={xs:0,sm:600,md:900,lg:1200,xl:1536},qE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${tp[t]}px)`},uB={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:tp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Di(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||qE;return e.reduce((c,d,h)=>(c[o.up(o.keys[h])]=n(e[h]),c),{})}if(typeof e=="object"){const o=r.breakpoints||qE;return Object.keys(e).reduce((c,d)=>{if(aB(o.keys,d)){const h=lB(r.containerQueries?r:uB,d);h&&(c[h]=n(e[d],d))}else if(Object.keys(o.values||tp).includes(d)){const h=o.up(d);c[h]=n(e[d],d)}else{const h=d;c[h]=e[h]}return c},{})}return n(e)}function dB(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,s)=>{const o=t.up(s);return r[o]={},r},{}))||{}}function GE(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function np(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function xm(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=np(t,n)||r,e&&(s=e(s,r,t)),s}function cn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,o=c=>{if(c[e]==null)return null;const d=c[e],h=c.theme,m=np(h,r)||{};return Di(c,d,g=>{let v=xm(m,s,g);return g===v&&typeof g=="string"&&(v=xm(m,s,`${e}${g==="default"?"":Lr(g)}`,g)),n===!1?v:{[n]:v}})};return o.propTypes={},o.filterProps=[e],o}function hB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const fB={m:"margin",p:"padding"},mB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},KE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pB=hB(t=>{if(t.length>2)if(KE[t])t=KE[t];else return[t];const[e,n]=t.split(""),r=fB[e],s=mB[n]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),Ox=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Lx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ox,...Lx];function bd(t,e,n,r){const s=np(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),d=s[c];return o>=0?d:typeof d=="number"?-d:typeof d=="string"&&d.startsWith("var(")?`calc(-1 * ${d})`:`-${d}`}:typeof s=="function"?s:()=>{}}function Fx(t){return bd(t,"spacing",8)}function wd(t,e){return typeof e=="string"||e==null?e:t(e)}function gB(t,e){return n=>t.reduce((r,s)=>(r[s]=wd(e,n),r),{})}function yB(t,e,n,r){if(!e.includes(n))return null;const s=pB(n),o=gB(s,r),c=t[n];return Di(t,c,o)}function Cj(t,e){const n=Fx(t.theme);return Object.keys(t).map(r=>yB(t,e,r,n)).reduce(ku,{})}function Yt(t){return Cj(t,Ox)}Yt.propTypes={};Yt.filterProps=Ox;function Xt(t){return Cj(t,Lx)}Xt.propTypes={};Xt.filterProps=Lx;function rp(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),n=r=>Object.keys(r).reduce((s,o)=>e[o]?ku(s,e[o](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function ns(t){return typeof t!="number"?t:`${t}px solid`}function as(t,e){return cn({prop:t,themeKey:"borders",transform:e})}const vB=as("border",ns),xB=as("borderTop",ns),bB=as("borderRight",ns),wB=as("borderBottom",ns),_B=as("borderLeft",ns),EB=as("borderColor"),SB=as("borderTopColor"),TB=as("borderRightColor"),CB=as("borderBottomColor"),NB=as("borderLeftColor"),kB=as("outline",ns),jB=as("outlineColor"),sp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=bd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:wd(e,r)});return Di(t,t.borderRadius,n)}return null};sp.propTypes={};sp.filterProps=["borderRadius"];rp(vB,xB,bB,wB,_B,EB,SB,TB,CB,NB,sp,kB,jB);const ip=t=>{if(t.gap!==void 0&&t.gap!==null){const e=bd(t.theme,"spacing",8),n=r=>({gap:wd(e,r)});return Di(t,t.gap,n)}return null};ip.propTypes={};ip.filterProps=["gap"];const op=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=bd(t.theme,"spacing",8),n=r=>({columnGap:wd(e,r)});return Di(t,t.columnGap,n)}return null};op.propTypes={};op.filterProps=["columnGap"];const ap=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=bd(t.theme,"spacing",8),n=r=>({rowGap:wd(e,r)});return Di(t,t.rowGap,n)}return null};ap.propTypes={};ap.filterProps=["rowGap"];const AB=cn({prop:"gridColumn"}),IB=cn({prop:"gridRow"}),PB=cn({prop:"gridAutoFlow"}),RB=cn({prop:"gridAutoColumns"}),DB=cn({prop:"gridAutoRows"}),VB=cn({prop:"gridTemplateColumns"}),MB=cn({prop:"gridTemplateRows"}),OB=cn({prop:"gridTemplateAreas"}),LB=cn({prop:"gridArea"});rp(ip,op,ap,AB,IB,PB,RB,DB,VB,MB,OB,LB);function Gl(t,e){return e==="grey"?e:t}const FB=cn({prop:"color",themeKey:"palette",transform:Gl}),UB=cn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gl}),BB=cn({prop:"backgroundColor",themeKey:"palette",transform:Gl});rp(FB,UB,BB);function Vr(t){return t<=1&&t!==0?`${t*100}%`:t}const $B=cn({prop:"width",transform:Vr}),Ux=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,o,c,d,h;const r=((c=(o=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:o.values)==null?void 0:c[n])||tp[n];return r?((h=(d=t.theme)==null?void 0:d.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Vr(n)}};return Di(t,t.maxWidth,e)}return null};Ux.filterProps=["maxWidth"];const zB=cn({prop:"minWidth",transform:Vr}),HB=cn({prop:"height",transform:Vr}),WB=cn({prop:"maxHeight",transform:Vr}),qB=cn({prop:"minHeight",transform:Vr});cn({prop:"size",cssProperty:"width",transform:Vr});cn({prop:"size",cssProperty:"height",transform:Vr});const GB=cn({prop:"boxSizing"});rp($B,Ux,zB,HB,WB,qB,GB);const _d={border:{themeKey:"borders",transform:ns},borderTop:{themeKey:"borders",transform:ns},borderRight:{themeKey:"borders",transform:ns},borderBottom:{themeKey:"borders",transform:ns},borderLeft:{themeKey:"borders",transform:ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ns},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sp},color:{themeKey:"palette",transform:Gl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gl},backgroundColor:{themeKey:"palette",transform:Gl},p:{style:Xt},pt:{style:Xt},pr:{style:Xt},pb:{style:Xt},pl:{style:Xt},px:{style:Xt},py:{style:Xt},padding:{style:Xt},paddingTop:{style:Xt},paddingRight:{style:Xt},paddingBottom:{style:Xt},paddingLeft:{style:Xt},paddingX:{style:Xt},paddingY:{style:Xt},paddingInline:{style:Xt},paddingInlineStart:{style:Xt},paddingInlineEnd:{style:Xt},paddingBlock:{style:Xt},paddingBlockStart:{style:Xt},paddingBlockEnd:{style:Xt},m:{style:Yt},mt:{style:Yt},mr:{style:Yt},mb:{style:Yt},ml:{style:Yt},mx:{style:Yt},my:{style:Yt},margin:{style:Yt},marginTop:{style:Yt},marginRight:{style:Yt},marginBottom:{style:Yt},marginLeft:{style:Yt},marginX:{style:Yt},marginY:{style:Yt},marginInline:{style:Yt},marginInlineStart:{style:Yt},marginInlineEnd:{style:Yt},marginBlock:{style:Yt},marginBlockStart:{style:Yt},marginBlockEnd:{style:Yt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ip},rowGap:{style:ap},columnGap:{style:op},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vr},maxWidth:{style:Ux},minWidth:{transform:Vr},height:{transform:Vr},maxHeight:{transform:Vr},minHeight:{transform:Vr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function KB(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function QB(t,e){return typeof t=="function"?t(e):t}function YB(){function t(n,r,s,o){const c={[n]:r,theme:s},d=o[n];if(!d)return{[n]:r};const{cssProperty:h=n,themeKey:m,transform:y,style:g}=d;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const v=np(s,m)||{};return g?g(c):Di(c,r,C=>{let S=xm(v,y,C);return C===S&&typeof C=="string"&&(S=xm(v,y,`${n}${C==="default"?"":Lr(C)}`,C)),h===!1?S:{[h]:S}})}function e(n){const{sx:r,theme:s={},nested:o}=n||{};if(!r)return null;const c=s.unstable_sxConfig??_d;function d(h){let m=h;if(typeof h=="function")m=h(s);else if(typeof h!="object")return h;if(!m)return null;const y=dB(s.breakpoints),g=Object.keys(y);let v=y;return Object.keys(m).forEach(_=>{const C=QB(m[_],s);if(C!=null)if(typeof C=="object")if(c[_])v=ku(v,t(_,C,s,c));else{const S=Di({theme:s},C,k=>({[_]:k}));KB(S,C)?v[_]=e({sx:C,theme:s,nested:!0}):v=ku(v,S)}else v=ku(v,t(_,C,s,c))}),!o&&s.modularCssLayers?{"@layer sx":WE(s,GE(g,v))}:WE(s,GE(g,v))}return Array.isArray(r)?r.map(d):d(r)}return e}const Pa=YB();Pa.filterProps=["sx"];const XB=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??_d;return Object.keys(t).forEach(s=>{n[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function Nj(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=XB(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...c)=>{const d=e(...c);return $s(d)?{...r,...d}:r}:o={...r,...e},{...s,sx:o}}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(null,arguments)}function JB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ZB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var e$=function(){function t(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ZB(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=JB(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",bm="-moz-",gt="-webkit-",kj="comm",Bx="rule",$x="decl",t$="@import",jj="@keyframes",n$="@layer",r$=Math.abs,lp=String.fromCharCode,s$=Object.assign;function i$(t,e){return Ln(t,0)^45?(((e<<2^Ln(t,0))<<2^Ln(t,1))<<2^Ln(t,2))<<2^Ln(t,3):0}function Aj(t){return t.trim()}function o$(t,e){return(t=e.exec(t))?t[0]:t}function yt(t,e,n){return t.replace(e,n)}function Ry(t,e){return t.indexOf(e)}function Ln(t,e){return t.charCodeAt(e)|0}function Xu(t,e,n){return t.slice(e,n)}function Us(t){return t.length}function zx(t){return t.length}function af(t,e){return e.push(t),t}function a$(t,e){return t.map(e).join("")}var cp=1,rc=1,Ij=0,Er=0,pn=0,gc="";function up(t,e,n,r,s,o,c){return{value:t,root:e,parent:n,type:r,props:s,children:o,line:cp,column:rc,length:c,return:""}}function ru(t,e){return s$(up("",null,null,"",null,null,0),t,{length:-t.length},e)}function l$(){return pn}function c$(){return pn=Er>0?Ln(gc,--Er):0,rc--,pn===10&&(rc=1,cp--),pn}function Br(){return pn=Er<Ij?Ln(gc,Er++):0,rc++,pn===10&&(rc=1,cp++),pn}function ti(){return Ln(gc,Er)}function kf(){return Er}function Ed(t,e){return Xu(gc,t,e)}function Ju(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pj(t){return cp=rc=1,Ij=Us(gc=t),Er=0,[]}function Rj(t){return gc="",t}function jf(t){return Aj(Ed(Er-1,Dy(t===91?t+2:t===40?t+1:t)))}function u$(t){for(;(pn=ti())&&pn<33;)Br();return Ju(t)>2||Ju(pn)>3?"":" "}function d$(t,e){for(;--e&&Br()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return Ed(t,kf()+(e<6&&ti()==32&&Br()==32))}function Dy(t){for(;Br();)switch(pn){case t:return Er;case 34:case 39:t!==34&&t!==39&&Dy(pn);break;case 40:t===41&&Dy(t);break;case 92:Br();break}return Er}function h$(t,e){for(;Br()&&t+pn!==57;)if(t+pn===84&&ti()===47)break;return"/*"+Ed(e,Er-1)+"*"+lp(t===47?t:Br())}function f$(t){for(;!Ju(ti());)Br();return Ed(t,Er)}function m$(t){return Rj(Af("",null,null,null,[""],t=Pj(t),0,[0],t))}function Af(t,e,n,r,s,o,c,d,h){for(var m=0,y=0,g=c,v=0,_=0,C=0,S=1,k=1,D=1,M=0,F="",H=s,Q=o,G=r,V=F;k;)switch(C=M,M=Br()){case 40:if(C!=108&&Ln(V,g-1)==58){Ry(V+=yt(jf(M),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:V+=jf(M);break;case 9:case 10:case 13:case 32:V+=u$(C);break;case 92:V+=d$(kf()-1,7);continue;case 47:switch(ti()){case 42:case 47:af(p$(h$(Br(),kf()),e,n),h);break;default:V+="/"}break;case 123*S:d[m++]=Us(V)*D;case 125*S:case 59:case 0:switch(M){case 0:case 125:k=0;case 59+y:D==-1&&(V=yt(V,/\f/g,"")),_>0&&Us(V)-g&&af(_>32?YE(V+";",r,n,g-1):YE(yt(V," ","")+";",r,n,g-2),h);break;case 59:V+=";";default:if(af(G=QE(V,e,n,m,y,s,d,F,H=[],Q=[],g),o),M===123)if(y===0)Af(V,e,G,G,H,o,g,d,Q);else switch(v===99&&Ln(V,3)===110?100:v){case 100:case 108:case 109:case 115:Af(t,G,G,r&&af(QE(t,G,G,0,0,s,d,F,s,H=[],g),Q),s,Q,g,d,r?H:Q);break;default:Af(V,G,G,G,[""],Q,0,d,Q)}}m=y=_=0,S=D=1,F=V="",g=c;break;case 58:g=1+Us(V),_=C;default:if(S<1){if(M==123)--S;else if(M==125&&S++==0&&c$()==125)continue}switch(V+=lp(M),M*S){case 38:D=y>0?1:(V+="\f",-1);break;case 44:d[m++]=(Us(V)-1)*D,D=1;break;case 64:ti()===45&&(V+=jf(Br())),v=ti(),y=g=Us(F=V+=f$(kf())),M++;break;case 45:C===45&&Us(V)==2&&(S=0)}}return o}function QE(t,e,n,r,s,o,c,d,h,m,y){for(var g=s-1,v=s===0?o:[""],_=zx(v),C=0,S=0,k=0;C<r;++C)for(var D=0,M=Xu(t,g+1,g=r$(S=c[C])),F=t;D<_;++D)(F=Aj(S>0?v[D]+" "+M:yt(M,/&\f/g,v[D])))&&(h[k++]=F);return up(t,e,n,s===0?Bx:d,h,m,y)}function p$(t,e,n){return up(t,e,n,kj,lp(l$()),Xu(t,2,-2),0)}function YE(t,e,n,r){return up(t,e,n,$x,Xu(t,0,r),Xu(t,r+1,-1),r)}function Kl(t,e){for(var n="",r=zx(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function g$(t,e,n,r){switch(t.type){case n$:if(t.children.length)break;case t$:case $x:return t.return=t.return||t.value;case kj:return"";case jj:return t.return=t.value+"{"+Kl(t.children,r)+"}";case Bx:t.value=t.props.join(",")}return Us(n=Kl(t.children,r))?t.return=t.value+"{"+n+"}":""}function y$(t){var e=zx(t);return function(n,r,s,o){for(var c="",d=0;d<e;d++)c+=t[d](n,r,s,o)||"";return c}}function v$(t){return function(e){e.root||(e=e.return)&&t(e)}}function Dj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var x$=function(e,n,r){for(var s=0,o=0;s=o,o=ti(),s===38&&o===12&&(n[r]=1),!Ju(o);)Br();return Ed(e,Er)},b$=function(e,n){var r=-1,s=44;do switch(Ju(s)){case 0:s===38&&ti()===12&&(n[r]=1),e[r]+=x$(Er-1,n,r);break;case 2:e[r]+=jf(s);break;case 4:if(s===44){e[++r]=ti()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lp(s)}while(s=Br());return e},w$=function(e,n){return Rj(b$(Pj(e),n))},XE=new WeakMap,_$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!XE.get(r))&&!s){XE.set(e,!0);for(var o=[],c=w$(n,o),d=r.props,h=0,m=0;h<c.length;h++)for(var y=0;y<d.length;y++,m++)e.props[m]=o[h]?c[h].replace(/&\f/g,d[y]):d[y]+" "+c[h]}}},E$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Vj(t,e){switch(i$(t,e)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+bm+t+Kn+t+t;case 6828:case 4268:return gt+t+Kn+t+t;case 6165:return gt+t+Kn+"flex-"+t+t;case 5187:return gt+t+yt(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return gt+t+Kn+"flex-item-"+yt(t,/flex-|-self/,"")+t;case 4675:return gt+t+Kn+"flex-line-pack"+yt(t,/align-content|flex-|-self/,"")+t;case 5548:return gt+t+Kn+yt(t,"shrink","negative")+t;case 5292:return gt+t+Kn+yt(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+yt(t,"-grow","")+gt+t+Kn+yt(t,"grow","positive")+t;case 4554:return gt+yt(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return yt(yt(yt(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return yt(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return yt(yt(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4095:case 3583:case 4068:case 2532:return yt(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Us(t)-1-e>6)switch(Ln(t,e+1)){case 109:if(Ln(t,e+4)!==45)break;case 102:return yt(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+bm+(Ln(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ry(t,"stretch")?Vj(yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ln(t,e+1)!==115)break;case 6444:switch(Ln(t,Us(t)-3-(~Ry(t,"!important")&&10))){case 107:return yt(t,":",":"+gt)+t;case 101:return yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(Ln(t,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(Ln(t,e+11)){case 114:return gt+t+Kn+yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+Kn+yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+Kn+yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gt+t+Kn+t+t}return t}var S$=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case $x:e.return=Vj(e.value,e.length);break;case jj:return Kl([ru(e,{value:yt(e.value,"@","@"+gt)})],s);case Bx:if(e.length)return a$(e.props,function(o){switch(o$(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Kl([ru(e,{props:[yt(o,/:(read-\w+)/,":"+bm+"$1")]})],s);case"::placeholder":return Kl([ru(e,{props:[yt(o,/:(plac\w+)/,":"+gt+"input-$1")]}),ru(e,{props:[yt(o,/:(plac\w+)/,":"+bm+"$1")]}),ru(e,{props:[yt(o,/:(plac\w+)/,Kn+"input-$1")]})],s)}return""})}},T$=[S$],C$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var k=S.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||T$,o={},c,d=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var k=S.getAttribute("data-emotion").split(" "),D=1;D<k.length;D++)o[k[D]]=!0;d.push(S)});var h,m=[_$,E$];{var y,g=[g$,v$(function(S){y.insert(S)})],v=y$(m.concat(s,g)),_=function(k){return Kl(m$(k),v)};h=function(k,D,M,F){y=M,_(k?k+"{"+D.styles+"}":D.styles),F&&(C.inserted[D.name]=!0)}}var C={key:n,sheet:new e$({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return C.sheet.hydrate(d),C},N$=!0;function k$(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var Mj=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||N$===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},j$=function(e,n,r){Mj(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function A$(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var I$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},P$=/[A-Z]|^ms/g,R$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oj=function(e){return e.charCodeAt(1)===45},JE=function(e){return e!=null&&typeof e!="boolean"},E0=Dj(function(t){return Oj(t)?t:t.replace(P$,"-$&").toLowerCase()}),ZE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(R$,function(r,s,o){return Bs={name:s,styles:o,next:Bs},s})}return I$[e]!==1&&!Oj(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Bs={name:s.name,styles:s.styles,next:Bs},s.name;var o=n;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)Bs={name:c.name,styles:c.styles,next:Bs},c=c.next;var d=o.styles+";";return d}return D$(t,e,n)}case"function":{if(t!==void 0){var h=Bs,m=n(t);return Bs=h,Zu(t,e,m)}break}}var y=n;if(e==null)return y;var g=e[y];return g!==void 0?g:y}function D$(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Zu(t,e,n[s])+";";else for(var o in n){var c=n[o];if(typeof c!="object"){var d=c;e!=null&&e[d]!==void 0?r+=o+"{"+e[d]+"}":JE(d)&&(r+=E0(o)+":"+ZE(o,d)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var h=0;h<c.length;h++)JE(c[h])&&(r+=E0(o)+":"+ZE(o,c[h])+";");else{var m=Zu(t,e,c);switch(o){case"animation":case"animationName":{r+=E0(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var eS=/label:\s*([^\s;{]+)\s*(;|$)/g,Bs;function Lj(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Bs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,s+=Zu(n,e,o);else{var c=o;s+=c[0]}for(var d=1;d<t.length;d++)if(s+=Zu(n,e,t[d]),r){var h=o;s+=h[d]}eS.lastIndex=0;for(var m="",y;(y=eS.exec(s))!==null;)m+="-"+y[1];var g=A$(s)+m;return{name:g,styles:s,next:Bs}}var V$=function(e){return e()},M$=k0.useInsertionEffect?k0.useInsertionEffect:!1,O$=M$||V$,Fj=N.createContext(typeof HTMLElement<"u"?C$({key:"css"}):null);Fj.Provider;var L$=function(e){return N.forwardRef(function(n,r){var s=N.useContext(Fj);return e(n,s,r)})},Uj=N.createContext({}),F$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,U$=Dj(function(t){return F$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),B$=U$,$$=function(e){return e!=="theme"},tS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?B$:$$},nS=function(e,n,r){var s;if(n){var o=n.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},z$=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return Mj(n,r,s),O$(function(){return j$(n,r,s)}),null},H$=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,c;n!==void 0&&(o=n.label,c=n.target);var d=nS(e,n,r),h=d||tS(s),m=!h("as");return function(){var y=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),y[0]==null||y[0].raw===void 0)g.push.apply(g,y);else{var v=y[0];g.push(v[0]);for(var _=y.length,C=1;C<_;C++)g.push(y[C],v[C])}var S=L$(function(k,D,M){var F=m&&k.as||s,H="",Q=[],G=k;if(k.theme==null){G={};for(var V in k)G[V]=k[V];G.theme=N.useContext(Uj)}typeof k.className=="string"?H=k$(D.registered,Q,k.className):k.className!=null&&(H=k.className+" ");var I=Lj(g.concat(Q),D.registered,G);H+=D.key+"-"+I.name,c!==void 0&&(H+=" "+c);var j=m&&d===void 0?tS(F):h,E={};for(var U in k)m&&U==="as"||j(U)&&(E[U]=k[U]);return E.className=H,M&&(E.ref=M),N.createElement(N.Fragment,null,N.createElement(z$,{cache:D,serialized:I,isStringTag:typeof F=="string"}),N.createElement(F,E))});return S.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=g,S.__emotion_forwardProp=d,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(k,D){var M=t(k,Py({},n,D,{shouldForwardProp:nS(S,D,!0)}));return M.apply(void 0,g)},S}},W$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vy=H$.bind(null);W$.forEach(function(t){Vy[t]=Vy(t)});function Bj(t,e){return Vy(t,e)}function q$(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const rS=[];function Ea(t){return rS[0]=t,Lj(rS)}const G$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function K$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,o=G$(e),c=Object.keys(o);function d(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n})`}function h(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${n})`}function m(v,_){const C=c.indexOf(_);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${n}) and (max-width:${(C!==-1&&typeof e[c[C]]=="number"?e[c[C]]:_)-r/100}${n})`}function y(v){return c.indexOf(v)+1<c.length?m(v,c[c.indexOf(v)+1]):d(v)}function g(v){const _=c.indexOf(v);return _===0?d(c[1]):_===c.length-1?h(c[_]):m(v,c[c.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:d,down:h,between:m,only:y,not:g,unit:n,...s}}const Q$={borderRadius:4};function $j(t=8,e=Fx({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function Y$(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function Hx(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:o={},...c}=t,d=K$(n),h=$j(s);let m=Ur({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...Q$,...o}},c);return m=cB(m),m.applyStyles=Y$,m=e.reduce((y,g)=>Ur(y,g),m),m.unstable_sxConfig={..._d,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(g){return Pa({sx:g,theme:this})},m}function X$(t){return Object.keys(t).length===0}function J$(t=null){const e=N.useContext(Uj);return!e||X$(e)?t:e}const Z$=Hx();function ez(t=Z$){return J$(t)}const sS=t=>t,tz=()=>{let t=sS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=sS}}},zj=tz();function nz(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,o=Bj("div",{shouldForwardProp:d=>d!=="theme"&&d!=="sx"&&d!=="as"})(Pa);return N.forwardRef(function(h,m){const y=ez(n),{className:g,component:v="div",..._}=Nj(h);return l.jsx(o,{as:v,ref:m,className:ei(g,s?s(r):r),theme:e&&y[e]||y,..._})})}const rz={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Wx(t,e,n="Mui"){const r=rz[e];return r?`${n}-${r}`:`${zj.generate(t)}-${e}`}function qx(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Wx(t,s,n)}),r}function Hj(t){const{variants:e,...n}=t,r={variants:e,style:Ea(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=Ea(s.style))}),r}const sz=Hx();function S0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function ya(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function iz(t){return t?(e,n)=>n[t]:null}function oz(t,e,n){t.theme=cz(t.theme)?n:t.theme[e]||t.theme}function If(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(s=>If(t,s,n));if(Array.isArray(r==null?void 0:r.variants)){let s;if(r.isProcessed)s=n?ya(r.style,n):r.style;else{const{variants:o,...c}=r;s=n?ya(Ea(c),n):c}return Wj(t,r.variants,[s],n)}return r!=null&&r.isProcessed?n?ya(Ea(r.style),n):r.style:n?ya(Ea(r),n):r}function Wj(t,e,n=[],r=void 0){var o;let s;e:for(let c=0;c<e.length;c+=1){const d=e[c];if(typeof d.props=="function"){if(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),!d.props(s))continue}else for(const h in d.props)if(t[h]!==d.props[h]&&((o=t.ownerState)==null?void 0:o[h])!==d.props[h])continue e;typeof d.style=="function"?(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),n.push(r?ya(Ea(d.style(s)),r):d.style(s))):n.push(r?ya(Ea(d.style),r):d.style)}return n}function az(t={}){const{themeId:e,defaultTheme:n=sz,rootShouldForwardProp:r=S0,slotShouldForwardProp:s=S0}=t;function o(d){oz(d,e,n)}return(d,h={})=>{q$(d,G=>G.filter(V=>V!==Pa));const{name:m,slot:y,skipVariantsResolver:g,skipSx:v,overridesResolver:_=iz(dz(y)),...C}=h,S=m&&m.startsWith("Mui")||y?"components":"custom",k=g!==void 0?g:y&&y!=="Root"&&y!=="root"||!1,D=v||!1;let M=S0;y==="Root"||y==="root"?M=r:y?M=s:uz(d)&&(M=void 0);const F=Bj(d,{shouldForwardProp:M,label:lz(),...C}),H=G=>{if(G.__emotion_real===G)return G;if(typeof G=="function")return function(I){return If(I,G,I.theme.modularCssLayers?S:void 0)};if($s(G)){const V=Hj(G);return function(j){return V.variants?If(j,V,j.theme.modularCssLayers?S:void 0):j.theme.modularCssLayers?ya(V.style,S):V.style}}return G},Q=(...G)=>{const V=[],I=G.map(H),j=[];if(V.push(o),m&&_&&j.push(function(P){var we,W;const Le=(W=(we=P.theme.components)==null?void 0:we[m])==null?void 0:W.styleOverrides;if(!Le)return null;const Me={};for(const ae in Le)Me[ae]=If(P,Le[ae],P.theme.modularCssLayers?"theme":void 0);return _(P,Me)}),m&&!k&&j.push(function(P){var Me,we;const ye=P.theme,Le=(we=(Me=ye==null?void 0:ye.components)==null?void 0:Me[m])==null?void 0:we.variants;return Le?Wj(P,Le,[],P.theme.modularCssLayers?"theme":void 0):null}),D||j.push(Pa),Array.isArray(I[0])){const $=I.shift(),P=new Array(V.length).fill(""),ye=new Array(j.length).fill("");let Le;Le=[...P,...$,...ye],Le.raw=[...P,...$.raw,...ye],V.unshift(Le)}const E=[...V,...I,...j],U=F(...E);return d.muiName&&(U.muiName=d.muiName),U};return F.withConfig&&(Q.withConfig=F.withConfig),Q}}function lz(t,e){return void 0}function cz(t){for(const e in t)return!1;return!0}function uz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function dz(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function My(t,e,n=!1){const r={...e};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const o=s;if(o==="components"||o==="slots")r[o]={...t[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const c=t[o],d=e[o];if(!d)r[o]=c||{};else if(!c)r[o]=d;else{r[o]={...d};for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const m=h;r[o][m]=My(c[m],d[m],n)}}}else o==="className"&&n&&e.className?r.className=ei(t==null?void 0:t.className,e==null?void 0:e.className):o==="style"&&n&&e.style?r.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:r[o]===void 0&&(r[o]=t[o])}return r}const hz=N.createContext(void 0);function fz(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?My(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?My(s,r,e.components.mergeClassNameAndStyle):r}function mz({props:t,name:e}){const n=N.useContext(hz);return fz({props:t,name:e,theme:{components:n}})}const iS={theme:void 0};function pz(t){let e,n;return function(s){let o=e;return(o===void 0||s.theme!==n)&&(iS.theme=s.theme,o=Hj(t(iS)),e=o,n=s.theme),o}}function gz(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const oS=(t,e,n,r=[])=>{let s=t;e.forEach((o,c)=>{c===e.length-1?Array.isArray(s)?s[Number(o)]=n:s&&typeof s=="object"&&(s[o]=n):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},yz=(t,e,n)=>{function r(s,o=[],c=[]){Object.entries(s).forEach(([d,h])=>{(!n||n&&!n([...o,d]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...o,d],Array.isArray(h)?[...c,d]:c):e([...o,d],h,c))})}r(t)},vz=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function T0(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},o={},c={};return yz(t,(d,h,m)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(d,h))){const y=`--${n?`${n}-`:""}${d.join("-")}`,g=vz(d,h);Object.assign(s,{[y]:g}),oS(o,d,`var(${y})`,m),oS(c,d,`var(${y}, ${g})`,m)}},d=>d[0]==="vars"),{css:s,vars:o,varsWithDefaults:c}}function xz(t,e={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:o={},components:c,defaultColorScheme:d="light",...h}=t,{vars:m,css:y,varsWithDefaults:g}=T0(h,e);let v=g;const _={},{[d]:C,...S}=o;if(Object.entries(S||{}).forEach(([F,H])=>{const{vars:Q,css:G,varsWithDefaults:V}=T0(H,e);v=Ur(v,V),_[F]={css:G,vars:Q}}),C){const{css:F,vars:H,varsWithDefaults:Q}=T0(C,e);v=Ur(v,Q),_[d]={css:F,vars:H}}function k(F,H){var G,V;let Q=s;if(s==="class"&&(Q=".%s"),s==="data"&&(Q="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(Q=`[${s}="%s"]`),F){if(Q==="media")return t.defaultColorScheme===F?":root":{[`@media (prefers-color-scheme: ${((V=(G=o[F])==null?void 0:G.palette)==null?void 0:V.mode)||F})`]:{":root":H}};if(Q)return t.defaultColorScheme===F?`:root, ${Q.replace("%s",String(F))}`:Q.replace("%s",String(F))}return":root"}return{vars:v,generateThemeVars:()=>{let F={...m};return Object.entries(_).forEach(([,{vars:H}])=>{F=Ur(F,H)}),F},generateStyleSheets:()=>{var I,j;const F=[],H=t.defaultColorScheme||"light";function Q(E,U){Object.keys(U).length&&F.push(typeof E=="string"?{[E]:{...U}}:E)}Q(n(void 0,{...y}),y);const{[H]:G,...V}=_;if(G){const{css:E}=G,U=(j=(I=o[H])==null?void 0:I.palette)==null?void 0:j.mode,$=!r&&U?{colorScheme:U,...E}:{...E};Q(n(H,{...$}),$)}return Object.entries(V).forEach(([E,{css:U}])=>{var ye,Le;const $=(Le=(ye=o[E])==null?void 0:ye.palette)==null?void 0:Le.mode,P=!r&&$?{colorScheme:$,...U}:{...U};Q(n(E,{...P}),P)}),F}}}function bz(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const ed={black:"#000",white:"#fff"},wz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Sl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Tl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},su={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Cl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Nl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},kl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function qj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ed.white,default:ed.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const _z=qj();function Gj(){return{text:{primary:ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ed.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const aS=Gj();function lS(t,e,n,r){const s=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Yu(t.main,s):e==="dark"&&(t.dark=Qu(t.main,o)))}function Ez(t="light"){return t==="dark"?{main:Cl[200],light:Cl[50],dark:Cl[400]}:{main:Cl[700],light:Cl[400],dark:Cl[800]}}function Sz(t="light"){return t==="dark"?{main:Sl[200],light:Sl[50],dark:Sl[400]}:{main:Sl[500],light:Sl[300],dark:Sl[700]}}function Tz(t="light"){return t==="dark"?{main:Tl[500],light:Tl[300],dark:Tl[700]}:{main:Tl[700],light:Tl[400],dark:Tl[800]}}function Cz(t="light"){return t==="dark"?{main:Nl[400],light:Nl[300],dark:Nl[700]}:{main:Nl[700],light:Nl[500],dark:Nl[900]}}function Nz(t="light"){return t==="dark"?{main:kl[400],light:kl[300],dark:kl[700]}:{main:kl[800],light:kl[500],dark:kl[900]}}function kz(t="light"){return t==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:"#ed6c02",light:su[500],dark:su[900]}}function Gx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=t,o=t.primary||Ez(e),c=t.secondary||Sz(e),d=t.error||Tz(e),h=t.info||Cz(e),m=t.success||Nz(e),y=t.warning||kz(e);function g(S){return BU(S,aS.text.primary)>=n?aS.text.primary:_z.text.primary}const v=({color:S,name:k,mainShade:D=500,lightShade:M=300,darkShade:F=700})=>{if(S={...S},!S.main&&S[D]&&(S.main=S[D]),!S.hasOwnProperty("main"))throw new Error(Ia(11,k?` (${k})`:"",D));if(typeof S.main!="string")throw new Error(Ia(12,k?` (${k})`:"",JSON.stringify(S.main)));return lS(S,"light",M,r),lS(S,"dark",F,r),S.contrastText||(S.contrastText=g(S.main)),S};let _;return e==="light"?_=qj():e==="dark"&&(_=Gj()),Ur({common:{...ed},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:d,name:"error"}),warning:v({color:y,name:"warning"}),info:v({color:h,name:"info"}),success:v({color:m,name:"success"}),grey:wz,contrastThreshold:n,getContrastText:g,augmentColor:v,tonalOffset:r,..._},s)}function jz(t){const e={};return Object.entries(t).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Az(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Iz(t){return Math.round(t*1e5)/1e5}const cS={textTransform:"uppercase"},uS='"Roboto", "Helvetica", "Arial", sans-serif';function Pz(t,e){const{fontFamily:n=uS,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:m,pxToRem:y,...g}=typeof e=="function"?e(t):e,v=r/14,_=y||(k=>`${k/h*v}rem`),C=(k,D,M,F,H)=>({fontFamily:n,fontWeight:k,fontSize:_(D),lineHeight:M,...n===uS?{letterSpacing:`${Iz(F/D)}em`}:{},...H,...m}),S={h1:C(s,96,1.167,-1.5),h2:C(s,60,1.2,-.5),h3:C(o,48,1.167,0),h4:C(o,34,1.235,.25),h5:C(o,24,1.334,0),h6:C(c,20,1.6,.15),subtitle1:C(o,16,1.75,.15),subtitle2:C(c,14,1.57,.1),body1:C(o,16,1.5,.15),body2:C(o,14,1.43,.15),button:C(c,14,1.75,.4,cS),caption:C(o,12,1.66,.4),overline:C(o,12,2.66,1,cS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ur({htmlFontSize:h,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:d,...S},g,{clone:!1})}const Rz=.2,Dz=.14,Vz=.12;function Ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Rz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Dz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Vz})`].join(",")}const Mz=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],Oz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Lz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dS(t){return`${Math.round(t)}ms`}function Fz(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Uz(t){const e={...Oz,...t.easing},n={...Lz,...t.duration};return{getAutoHeightDuration:Fz,create:(s=["all"],o={})=>{const{duration:c=n.standard,easing:d=e.easeInOut,delay:h=0,...m}=o;return(Array.isArray(s)?s:[s]).map(y=>`${y} ${typeof c=="string"?c:dS(c)} ${d} ${typeof h=="string"?h:dS(h)}`).join(",")},...t,easing:e,duration:n}}const Bz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $z(t){return $s(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Kj(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[c,d]=s[o];!$z(d)||c.startsWith("unstable_")?delete r[c]:$s(d)&&(r[c]={...d},n(r[c]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Oy(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:o={},transitions:c={},typography:d={},shape:h,...m}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ia(20));const y=Gx(o),g=Hx(t);let v=Ur(g,{mixins:Az(g.breakpoints,r),palette:y,shadows:Mz.slice(),typography:Pz(y,d),transitions:Uz(c),zIndex:{...Bz}});return v=Ur(v,m),v=e.reduce((_,C)=>Ur(_,C),v),v.unstable_sxConfig={..._d,...m==null?void 0:m.unstable_sxConfig},v.unstable_sx=function(C){return Pa({sx:C,theme:this})},v.toRuntimeSource=Kj,v}function zz(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Hz=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=zz(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Qj(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Yj(t){return t==="dark"?Hz:[]}function Wz(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=t,o=Gx(e);return{palette:o,opacity:{...Qj(o.mode),...n},overlays:r||Yj(o.mode),...s}}function qz(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Gz=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Kz=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return Gz(t.cssVarPrefix).forEach(d=>{c[d]=n[d],delete n[d]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:c}}:o?{[o.replace("%s",e)]:c,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...c}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function Qz(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function oe(t,e,n){!t[e]&&n&&(t[e]=n)}function fu(t){return typeof t!="string"||!t.startsWith("hsl")?t:bj(t)}function wi(t,e){`${e}Channel`in t||(t[`${e}Channel`]=hu(fu(t[e])))}function Yz(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ls=t=>{try{return t()}catch{}},Xz=(t="mui")=>gz(t);function C0(t,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){t[r]=Wz({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:o,...c}=Oy({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...Qj(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Yj(s)},c}function Jz(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:c=qz,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:h=":root",...m}=t,y=Object.keys(n)[0],g=r||(n.light&&y!=="light"?"light":y),v=Xz(o),{[g]:_,light:C,dark:S,...k}=n,D={...k};let M=_;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(M=!0),!M)throw new Error(Ia(21,g));const F=C0(D,M,m,g);C&&!D.light&&C0(D,C,void 0,"light"),S&&!D.dark&&C0(D,S,void 0,"dark");let H={defaultColorScheme:g,...F,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:h,getCssVar:v,colorSchemes:D,font:{...jz(F.typography),...F.font},spacing:Yz(m.spacing)};Object.keys(H.colorSchemes).forEach(j=>{const E=H.colorSchemes[j].palette,U=$=>{const P=$.split("-"),ye=P[1],Le=P[2];return v($,E[ye][Le])};if(E.mode==="light"&&(oe(E.common,"background","#fff"),oe(E.common,"onBackground","#000")),E.mode==="dark"&&(oe(E.common,"background","#000"),oe(E.common,"onBackground","#fff")),Qz(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){oe(E.Alert,"errorColor",kt(E.error.light,.6)),oe(E.Alert,"infoColor",kt(E.info.light,.6)),oe(E.Alert,"successColor",kt(E.success.light,.6)),oe(E.Alert,"warningColor",kt(E.warning.light,.6)),oe(E.Alert,"errorFilledBg",U("palette-error-main")),oe(E.Alert,"infoFilledBg",U("palette-info-main")),oe(E.Alert,"successFilledBg",U("palette-success-main")),oe(E.Alert,"warningFilledBg",U("palette-warning-main")),oe(E.Alert,"errorFilledColor",Ls(()=>E.getContrastText(E.error.main))),oe(E.Alert,"infoFilledColor",Ls(()=>E.getContrastText(E.info.main))),oe(E.Alert,"successFilledColor",Ls(()=>E.getContrastText(E.success.main))),oe(E.Alert,"warningFilledColor",Ls(()=>E.getContrastText(E.warning.main))),oe(E.Alert,"errorStandardBg",jt(E.error.light,.9)),oe(E.Alert,"infoStandardBg",jt(E.info.light,.9)),oe(E.Alert,"successStandardBg",jt(E.success.light,.9)),oe(E.Alert,"warningStandardBg",jt(E.warning.light,.9)),oe(E.Alert,"errorIconColor",U("palette-error-main")),oe(E.Alert,"infoIconColor",U("palette-info-main")),oe(E.Alert,"successIconColor",U("palette-success-main")),oe(E.Alert,"warningIconColor",U("palette-warning-main")),oe(E.AppBar,"defaultBg",U("palette-grey-100")),oe(E.Avatar,"defaultBg",U("palette-grey-400")),oe(E.Button,"inheritContainedBg",U("palette-grey-300")),oe(E.Button,"inheritContainedHoverBg",U("palette-grey-A100")),oe(E.Chip,"defaultBorder",U("palette-grey-400")),oe(E.Chip,"defaultAvatarColor",U("palette-grey-700")),oe(E.Chip,"defaultIconColor",U("palette-grey-700")),oe(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(E.LinearProgress,"primaryBg",jt(E.primary.main,.62)),oe(E.LinearProgress,"secondaryBg",jt(E.secondary.main,.62)),oe(E.LinearProgress,"errorBg",jt(E.error.main,.62)),oe(E.LinearProgress,"infoBg",jt(E.info.main,.62)),oe(E.LinearProgress,"successBg",jt(E.success.main,.62)),oe(E.LinearProgress,"warningBg",jt(E.warning.main,.62)),oe(E.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),oe(E.Slider,"primaryTrack",jt(E.primary.main,.62)),oe(E.Slider,"secondaryTrack",jt(E.secondary.main,.62)),oe(E.Slider,"errorTrack",jt(E.error.main,.62)),oe(E.Slider,"infoTrack",jt(E.info.main,.62)),oe(E.Slider,"successTrack",jt(E.success.main,.62)),oe(E.Slider,"warningTrack",jt(E.warning.main,.62));const $=tf(E.background.default,.8);oe(E.SnackbarContent,"bg",$),oe(E.SnackbarContent,"color",Ls(()=>E.getContrastText($))),oe(E.SpeedDialAction,"fabHoverBg",tf(E.background.paper,.15)),oe(E.StepConnector,"border",U("palette-grey-400")),oe(E.StepContent,"border",U("palette-grey-400")),oe(E.Switch,"defaultColor",U("palette-common-white")),oe(E.Switch,"defaultDisabledColor",U("palette-grey-100")),oe(E.Switch,"primaryDisabledColor",jt(E.primary.main,.62)),oe(E.Switch,"secondaryDisabledColor",jt(E.secondary.main,.62)),oe(E.Switch,"errorDisabledColor",jt(E.error.main,.62)),oe(E.Switch,"infoDisabledColor",jt(E.info.main,.62)),oe(E.Switch,"successDisabledColor",jt(E.success.main,.62)),oe(E.Switch,"warningDisabledColor",jt(E.warning.main,.62)),oe(E.TableCell,"border",jt(ef(E.divider,1),.88)),oe(E.Tooltip,"bg",ef(E.grey[700],.92))}if(E.mode==="dark"){oe(E.Alert,"errorColor",jt(E.error.light,.6)),oe(E.Alert,"infoColor",jt(E.info.light,.6)),oe(E.Alert,"successColor",jt(E.success.light,.6)),oe(E.Alert,"warningColor",jt(E.warning.light,.6)),oe(E.Alert,"errorFilledBg",U("palette-error-dark")),oe(E.Alert,"infoFilledBg",U("palette-info-dark")),oe(E.Alert,"successFilledBg",U("palette-success-dark")),oe(E.Alert,"warningFilledBg",U("palette-warning-dark")),oe(E.Alert,"errorFilledColor",Ls(()=>E.getContrastText(E.error.dark))),oe(E.Alert,"infoFilledColor",Ls(()=>E.getContrastText(E.info.dark))),oe(E.Alert,"successFilledColor",Ls(()=>E.getContrastText(E.success.dark))),oe(E.Alert,"warningFilledColor",Ls(()=>E.getContrastText(E.warning.dark))),oe(E.Alert,"errorStandardBg",kt(E.error.light,.9)),oe(E.Alert,"infoStandardBg",kt(E.info.light,.9)),oe(E.Alert,"successStandardBg",kt(E.success.light,.9)),oe(E.Alert,"warningStandardBg",kt(E.warning.light,.9)),oe(E.Alert,"errorIconColor",U("palette-error-main")),oe(E.Alert,"infoIconColor",U("palette-info-main")),oe(E.Alert,"successIconColor",U("palette-success-main")),oe(E.Alert,"warningIconColor",U("palette-warning-main")),oe(E.AppBar,"defaultBg",U("palette-grey-900")),oe(E.AppBar,"darkBg",U("palette-background-paper")),oe(E.AppBar,"darkColor",U("palette-text-primary")),oe(E.Avatar,"defaultBg",U("palette-grey-600")),oe(E.Button,"inheritContainedBg",U("palette-grey-800")),oe(E.Button,"inheritContainedHoverBg",U("palette-grey-700")),oe(E.Chip,"defaultBorder",U("palette-grey-700")),oe(E.Chip,"defaultAvatarColor",U("palette-grey-300")),oe(E.Chip,"defaultIconColor",U("palette-grey-300")),oe(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(E.LinearProgress,"primaryBg",kt(E.primary.main,.5)),oe(E.LinearProgress,"secondaryBg",kt(E.secondary.main,.5)),oe(E.LinearProgress,"errorBg",kt(E.error.main,.5)),oe(E.LinearProgress,"infoBg",kt(E.info.main,.5)),oe(E.LinearProgress,"successBg",kt(E.success.main,.5)),oe(E.LinearProgress,"warningBg",kt(E.warning.main,.5)),oe(E.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),oe(E.Slider,"primaryTrack",kt(E.primary.main,.5)),oe(E.Slider,"secondaryTrack",kt(E.secondary.main,.5)),oe(E.Slider,"errorTrack",kt(E.error.main,.5)),oe(E.Slider,"infoTrack",kt(E.info.main,.5)),oe(E.Slider,"successTrack",kt(E.success.main,.5)),oe(E.Slider,"warningTrack",kt(E.warning.main,.5));const $=tf(E.background.default,.98);oe(E.SnackbarContent,"bg",$),oe(E.SnackbarContent,"color",Ls(()=>E.getContrastText($))),oe(E.SpeedDialAction,"fabHoverBg",tf(E.background.paper,.15)),oe(E.StepConnector,"border",U("palette-grey-600")),oe(E.StepContent,"border",U("palette-grey-600")),oe(E.Switch,"defaultColor",U("palette-grey-300")),oe(E.Switch,"defaultDisabledColor",U("palette-grey-600")),oe(E.Switch,"primaryDisabledColor",kt(E.primary.main,.55)),oe(E.Switch,"secondaryDisabledColor",kt(E.secondary.main,.55)),oe(E.Switch,"errorDisabledColor",kt(E.error.main,.55)),oe(E.Switch,"infoDisabledColor",kt(E.info.main,.55)),oe(E.Switch,"successDisabledColor",kt(E.success.main,.55)),oe(E.Switch,"warningDisabledColor",kt(E.warning.main,.55)),oe(E.TableCell,"border",kt(ef(E.divider,1),.68)),oe(E.Tooltip,"bg",ef(E.grey[700],.92))}wi(E.background,"default"),wi(E.background,"paper"),wi(E.common,"background"),wi(E.common,"onBackground"),wi(E,"divider"),Object.keys(E).forEach($=>{const P=E[$];$!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&oe(E[$],"mainChannel",hu(fu(P.main))),P.light&&oe(E[$],"lightChannel",hu(fu(P.light))),P.dark&&oe(E[$],"darkChannel",hu(fu(P.dark))),P.contrastText&&oe(E[$],"contrastTextChannel",hu(fu(P.contrastText))),$==="text"&&(wi(E[$],"primary"),wi(E[$],"secondary")),$==="action"&&(P.active&&wi(E[$],"active"),P.selected&&wi(E[$],"selected")))})}),H=e.reduce((j,E)=>Ur(j,E),H);const Q={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:c,getSelector:Kz(H)},{vars:G,generateThemeVars:V,generateStyleSheets:I}=xz(H,Q);return H.vars=G,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([j,E])=>{H[j]=E}),H.generateThemeVars=V,H.generateStyleSheets=I,H.generateSpacing=function(){return $j(m.spacing,Fx(this))},H.getColorSchemeSelector=bz(d),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=c,H.unstable_sxConfig={..._d,...m==null?void 0:m.unstable_sxConfig},H.unstable_sx=function(E){return Pa({sx:E,theme:this})},H.toRuntimeSource=Kj,H}function hS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Gx({...n===!0?{}:n.palette,mode:e})})}function Xj(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...c}=t,d=o||"light",h=s==null?void 0:s[d],m={...s,...n?{[d]:{...typeof h!="boolean"&&h,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Oy(t,...e);let y=n;"palette"in t||m[d]&&(m[d]!==!0?y=m[d].palette:d==="dark"&&(y={mode:"dark"}));const g=Oy({...t,palette:y},...e);return g.defaultColorScheme=d,g.colorSchemes=m,g.palette.mode==="light"&&(g.colorSchemes.light={...m.light!==!0&&m.light,palette:g.palette},hS(g,"dark",m.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:g.palette},hS(g,"light",m.light)),g}return!n&&!("light"in m)&&d==="light"&&(m.light=!0),Jz({...c,colorSchemes:m,defaultColorScheme:d,...typeof r!="boolean"&&r},...e)}const Zz=Xj(),Jj="$$material";function Kx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const eH=t=>Kx(t)&&t!=="classes",Uo=az({themeId:Jj,defaultTheme:Zz,rootShouldForwardProp:eH});function tH(){return Nj}const Oa=pz;function Zj(t){return mz(t)}const nH=t=>!t||!Nf(t);function rH(t){return typeof t.main=="string"}function sH(t,e=[]){if(!rH(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function dp(t=[]){return([,e])=>e&&sH(e,t)}function iH(t){return Wx("MuiSlider",t)}const ss=qx("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),oH=t=>{const{open:e}=t;return{offset:ei(e&&ss.valueLabelOpen),circle:ss.valueLabelCircle,label:ss.valueLabelLabel}};function aH(t){const{children:e,className:n,value:r}=t,s=oH(t);return e?N.cloneElement(e,{className:e.props.className},l.jsxs(N.Fragment,{children:[e.props.children,l.jsx("span",{className:ei(s.offset,n),"aria-hidden":!0,children:l.jsx("span",{className:s.circle,children:l.jsx("span",{className:s.label,children:r})})})]})):null}function fS(t){return t}const lH=Uo("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Lr(n.color)}`],n.size!=="medium"&&e[`size${Lr(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(Oa(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${ss.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${ss.dragging}`]:{[`& .${ss.thumb}, & .${ss.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(dp()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),cH=Uo("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),uH=Uo("span",{name:"MuiSlider",slot:"Track"})(Oa(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(dp()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Yu(t.palette[e].main,.62),borderColor:Yu(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:Qu(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:Qu(t.palette[e].main,.5)})}}}))]}))),dH=Uo("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Lr(n.color)}`],n.size!=="medium"&&e[`thumbSize${Lr(n.size)}`]]}})(Oa(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${ss.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(dp()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${ss.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Iy(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${ss.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Iy(t.palette[e].main,.16)}`}}}}))]}))),hH=Uo(aH,{name:"MuiSlider",slot:"ValueLabel"})(Oa(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${ss.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${ss.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),fH=Uo("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Kx(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(Oa(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),mH=Uo("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Kx(t)&&t!=="markLabelActive"})(Oa(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),pH=t=>{const{disabled:e,dragging:n,marked:r,orientation:s,track:o,classes:c,color:d,size:h}=t,m={root:["root",e&&"disabled",n&&"dragging",r&&"marked",s==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",d&&`color${Lr(d)}`,h&&`size${Lr(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${Lr(h)}`,d&&`thumbColor${Lr(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return xj(m,iH,c)},gH=({children:t})=>t,e4=N.forwardRef(function(e,n){const r=Zj({props:e,name:"MuiSlider"}),s=HU(),{"aria-label":o,"aria-valuetext":c,"aria-labelledby":d,component:h="span",components:m={},componentsProps:y={},color:g="primary",classes:v,className:_,disableSwap:C=!1,disabled:S=!1,getAriaLabel:k,getAriaValueText:D,marks:M=!1,max:F=100,min:H=0,name:Q,onChange:G,onChangeCommitted:V,orientation:I="horizontal",shiftStep:j=10,size:E="medium",step:U=1,scale:$=fS,slotProps:P,slots:ye,tabIndex:Le,track:Me="normal",value:we,valueLabelDisplay:W="off",valueLabelFormat:ae=fS,...L}=r,R={...r,isRtl:s,max:F,min:H,classes:v,disabled:S,disableSwap:C,orientation:I,marks:M,color:g,size:E,step:U,shiftStep:j,scale:$,track:Me,valueLabelDisplay:W,valueLabelFormat:ae},{axisProps:B,getRootProps:Y,getHiddenInputProps:Z,getThumbProps:ie,open:ue,active:me,axis:Se,focusedThumbIndex:Ce,range:Ke,dragging:at,marks:vt,values:ut,trackOffset:At,trackLeap:un,getThumbStyle:Tn}=sB({...R,rootRef:n});R.marked=vt.length>0&&vt.some(We=>We.label),R.dragging=at,R.focusedThumbIndex=Ce;const xt=pH(R),ve=(ye==null?void 0:ye.root)??m.Root??lH,Ue=(ye==null?void 0:ye.rail)??m.Rail??cH,De=(ye==null?void 0:ye.track)??m.Track??uH,Ct=(ye==null?void 0:ye.thumb)??m.Thumb??dH,wt=(ye==null?void 0:ye.valueLabel)??m.ValueLabel??hH,nn=(ye==null?void 0:ye.mark)??m.Mark??fH,Bn=(ye==null?void 0:ye.markLabel)??m.MarkLabel??mH,fe=(ye==null?void 0:ye.input)??m.Input??"input",ge=(P==null?void 0:P.root)??y.root,ke=(P==null?void 0:P.rail)??y.rail,re=(P==null?void 0:P.track)??y.track,Te=(P==null?void 0:P.thumb)??y.thumb,je=(P==null?void 0:P.valueLabel)??y.valueLabel,et=(P==null?void 0:P.mark)??y.mark,lt=(P==null?void 0:P.markLabel)??y.markLabel,Ye=(P==null?void 0:P.input)??y.input,Ot=lo({elementType:ve,getSlotProps:Y,externalSlotProps:ge,externalForwardedProps:L,additionalProps:{...nH(ve)&&{as:h}},ownerState:{...R,...ge==null?void 0:ge.ownerState},className:[xt.root,_]}),or=lo({elementType:Ue,externalSlotProps:ke,ownerState:R,className:xt.rail}),ks=lo({elementType:De,externalSlotProps:re,additionalProps:{style:{...B[Se].offset(At),...B[Se].leap(un)}},ownerState:{...R,...re==null?void 0:re.ownerState},className:xt.track}),zr=lo({elementType:Ct,getSlotProps:ie,externalSlotProps:Te,ownerState:{...R,...Te==null?void 0:Te.ownerState},className:xt.thumb}),Hr=lo({elementType:wt,externalSlotProps:je,ownerState:{...R,...je==null?void 0:je.ownerState},className:xt.valueLabel}),Tr=lo({elementType:nn,externalSlotProps:et,ownerState:R,className:xt.mark}),be=lo({elementType:Bn,externalSlotProps:lt,ownerState:R,className:xt.markLabel}),Fe=lo({elementType:fe,getSlotProps:Z,externalSlotProps:Ye,ownerState:R});return l.jsxs(ve,{...Ot,children:[l.jsx(Ue,{...or}),l.jsx(De,{...ks}),vt.filter(We=>We.value>=H&&We.value<=F).map((We,_t)=>{const vn=vm(We.value,H,F),Cr=B[Se].offset(vn);let In;return Me===!1?In=ut.includes(We.value):In=Me==="normal"&&(Ke?We.value>=ut[0]&&We.value<=ut[ut.length-1]:We.value<=ut[0])||Me==="inverted"&&(Ke?We.value<=ut[0]||We.value>=ut[ut.length-1]:We.value>=ut[0]),l.jsxs(N.Fragment,{children:[l.jsx(nn,{"data-index":_t,...Tr,...!Nf(nn)&&{markActive:In},style:{...Cr,...Tr.style},className:ei(Tr.className,In&&xt.markActive)}),We.label!=null?l.jsx(Bn,{"aria-hidden":!0,"data-index":_t,...be,...!Nf(Bn)&&{markLabelActive:In},style:{...Cr,...be.style},className:ei(xt.markLabel,be.className,In&&xt.markLabelActive),children:We.label}):null]},_t)}),ut.map((We,_t)=>{const vn=vm(We,H,F),Cr=B[Se].offset(vn),In=W==="off"?gH:wt;return l.jsx(In,{...!Nf(In)&&{valueLabelFormat:ae,valueLabelDisplay:W,value:typeof ae=="function"?ae($(We),_t):ae,index:_t,open:ue===_t||me===_t||W==="on",disabled:S},...Hr,children:l.jsx(Ct,{"data-index":_t,...zr,className:ei(xt.thumb,zr.className,me===_t&&xt.active,Ce===_t&&xt.focusVisible),style:{...Cr,...Tn(_t),...zr.style},children:l.jsx(fe,{"data-index":_t,"aria-label":k?k(_t):o,"aria-valuenow":$(We),"aria-labelledby":d,"aria-valuetext":D?D($(We),_t):c,value:ut[_t],...Fe})})},_t)})]})});function yH(t){return Wx("MuiTypography",t)}qx("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const vH={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},xH=tH(),bH=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:o,classes:c}=t,d={root:["root",o,t.align!=="inherit"&&`align${Lr(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return xj(d,yH,c)},wH=Uo("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Lr(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Oa(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(dp()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Lr(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),mS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},t4=N.forwardRef(function(e,n){const{color:r,...s}=Zj({props:e,name:"MuiTypography"}),o=!vH[r],c=xH({...s,...o&&{color:r}}),{align:d="inherit",className:h,component:m,gutterBottom:y=!1,noWrap:g=!1,paragraph:v=!1,variant:_="body1",variantMapping:C=mS,...S}=c,k={...c,align:d,color:r,className:h,component:m,gutterBottom:y,noWrap:g,paragraph:v,variant:_,variantMapping:C},D=m||(v?"p":C[_]||mS[_])||"span",M=bH(k);return l.jsx(wH,{as:D,ref:n,className:ei(M.root,h),...S,ownerState:k,style:{...d!=="inherit"&&{"--Typography-textAlign":d},...S.style}})}),_H=qx("MuiBox",["root"]),EH=Xj(),n4=nz({themeId:Jj,defaultTheme:EH,defaultClassName:_H.root,generateClassName:zj.generate}),SH={initial:{scale:1,boxShadow:"none"},hover:{scale:1.04,boxShadow:"0 4px 8px rgba(60, 80, 120, 0.3)",transition:{type:"spring",stiffness:200,damping:20}},tap:{scale:.97,boxShadow:"0 0 6px rgba(60, 80, 120, 0.5)"}},TH={animate:{textShadow:["0 0 4px rgba(80, 100, 140, 0.6)","0 0 10px rgba(80, 100, 140, 0.9)","0 0 4px rgba(80, 100, 140, 0.6)"],transition:{repeat:1/0,repeatType:"mirror",duration:3,ease:"easeInOut"}}};function r4({filtros:t,setFiltros:e,productosOriginales:n}){const[r,s]=N.useState([]);N.useEffect(()=>{let h=n;(t.estado.nuevo||t.estado.usado)&&(h=h.filter(g=>t.estado.nuevo&&t.estado.usado?!0:t.estado.nuevo?g.estado==="Nuevo":t.estado.usado?g.estado==="Usado":!0));const m=t.precio.min!==""?Number(t.precio.min):0,y=t.precio.max!==""?Number(t.precio.max):1/0;h=h.filter(g=>g.precio>=m&&g.precio<=y),s(h)},[t,n]);const o=(h,m)=>{e(y=>({...y,precio:{min:m[0],max:m[1]}}))},c=()=>{e({estado:{nuevo:!1,usado:!1},precio:{min:0,max:1e3}})},d=76;return l.jsxs("aside",{className:"hidden lg:block w-56 max-w-[240px] relative z-40",style:{height:`calc(100vh - ${d}px)`,overflow:"hidden",backgroundColor:"transparent",border:"none",boxShadow:"none"},"aria-label":"Filtros",children:[l.jsx(yj,{}),l.jsxs("div",{style:{position:"relative",zIndex:1,height:`calc(100vh - ${d}px)`,overflowY:"auto",padding:"1rem",backgroundColor:"transparent",border:"none",boxShadow:"none"},children:[l.jsx(te.h2,{className:"text-lg font-semibold mb-4 text-blue-800",variants:TH,animate:"animate",children:"Filtros"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Estado"}),l.jsxs("label",{className:"switch-container",children:[l.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.nuevo,onChange:()=>e(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),l.jsx("div",{className:"slider"}),l.jsx("span",{className:"ml-2",children:"Nuevo"})]}),l.jsxs("label",{className:"switch-container mt-2",children:[l.jsx("input",{type:"checkbox",className:"checkbox",checked:t.estado.usado,onChange:()=>e(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),l.jsx("div",{className:"slider"}),l.jsx("span",{className:"ml-2",children:"Usado"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx(t4,{gutterBottom:!0,children:"Precio (RD$)"}),l.jsx(n4,{sx:{px:1,"& .MuiSlider-thumb":{width:14,height:14,bgcolor:"#1976d2",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 8px rgba(25, 118, 210, 0.16)"}},"& .MuiSlider-rail":{height:6,opacity:.5,bgcolor:"#bfbfbf",borderRadius:3},"& .MuiSlider-track":{height:6,borderRadius:3},"& .MuiSlider-root":{padding:"15px 0"}},children:l.jsx(e4,{value:[typeof t.precio.min=="number"?t.precio.min:0,typeof t.precio.max=="number"?t.precio.max:1e3],onChange:o,valueLabelDisplay:"auto",min:0,max:1e3})}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 text-gray-700",children:[l.jsxs("span",{children:["RD$",t.precio.min]}),l.jsxs("span",{children:["RD$",t.precio.max]})]})]}),l.jsx(te.button,{onClick:c,variants:SH,initial:"initial",whileHover:"hover",whileTap:"tap",className:"bg-blue-600 text-white text-sm px-3 py-2 rounded w-full",children:"Restablecer filtros"}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:r.length===0?"No hay productos que coincidan con los filtros.":`Mostrando ${r.length} producto${r.length>1?"s":""}`})]})]})}function s4({filtros:t,setFiltros:e,onReset:n,visible:r,onClose:s}){const[o,c]=N.useState(t);N.useEffect(()=>{c(t)},[t,r]);const d=(h,m)=>{c(y=>({...y,precio:{min:m[0],max:m[1]}}))};return l.jsxs("div",{className:`fixed top-0 right-0 h-full w-72 bg-white border-l shadow-lg z-[9999] transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b border-gray-300",children:[l.jsx("h2",{className:"text-lg font-semibold text-indigo-700",children:"Filtros"}),l.jsx("button",{onClick:s,className:"text-indigo-600 font-extrabold text-xl hover:text-indigo-800 transition-colors","aria-label":"Cerrar filtro",children:"✕"})]}),l.jsxs("div",{className:"p-4 pt-6 flex flex-col gap-6 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-3 text-indigo-700",children:"Estado"}),l.jsxs("label",{className:"switch-container mb-2",children:[l.jsx("input",{type:"checkbox",className:"checkbox",checked:o.estado.nuevo,onChange:()=>c(h=>({...h,estado:{...h.estado,nuevo:!h.estado.nuevo}}))}),l.jsx("div",{className:"slider"}),l.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Nuevo"})]}),l.jsxs("label",{className:"switch-container",children:[l.jsx("input",{type:"checkbox",className:"checkbox",checked:o.estado.usado,onChange:()=>c(h=>({...h,estado:{...h.estado,usado:!h.estado.usado}}))}),l.jsx("div",{className:"slider"}),l.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:"Usado"})]})]}),l.jsxs("div",{children:[l.jsx(t4,{gutterBottom:!0,className:"text-sm font-semibold text-indigo-700",children:"Precio (RD$)"}),l.jsx(n4,{sx:{px:1,"& .MuiSlider-thumb":{width:16,height:16,bgcolor:"#5a67d8",border:"2px solid white","&:focus, &:hover, &.Mui-active":{boxShadow:"0 0 0 10px rgba(90, 103, 216, 0.2)"}},"& .MuiSlider-rail":{height:8,opacity:.3,bgcolor:"#cbd5e1",borderRadius:4},"& .MuiSlider-track":{height:8,borderRadius:4,bgcolor:"#5a67d8"},"& .MuiSlider-root":{padding:"20px 0"}},children:l.jsx(e4,{value:[o.precio.min,o.precio.max],onChange:d,valueLabelDisplay:"auto",min:0,max:1e3})}),l.jsxs("div",{className:"flex justify-between text-xs text-indigo-700 mt-1 font-semibold",children:[l.jsxs("span",{children:["RD$",o.precio.min]}),l.jsxs("span",{children:["RD$",o.precio.max]})]})]})]}),l.jsxs("div",{className:"flex justify-between gap-3 border-t border-gray-300 p-4 mt-4",children:[l.jsx("button",{onClick:()=>{n(),s()},className:"w-1/2 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 font-semibold text-sm py-2 rounded transition-colors",children:"Restablecer"}),l.jsx("button",{onClick:()=>{e(o),s()},className:"w-1/2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold text-sm py-2 rounded transition-colors",children:"Aplicar filtros"})]})]})}function i4({onClick:t}){return l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 rounded-full text-sm font-medium",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Filtros"]})}function CH(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[];for(let r=0;r<=e.length;r++)n[r]=[r];for(let r=0;r<=t.length;r++)n[0][r]=r;for(let r=1;r<=e.length;r++)for(let s=1;s<=t.length;s++)e.charAt(r-1)===t.charAt(s-1)?n[r][s]=n[r-1][s-1]:n[r][s]=Math.min(n[r-1][s-1]+1,n[r][s-1]+1,n[r-1][s]+1);return n[e.length][t.length]}function lf(t,e){return!t||!e?!1:CH(t,e)<=2||t.includes(e)||e.includes(t)}const NH=56;function kH(){const t=ri(),{products:e,loading:n}=$V(),[r,s]=N.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[o,c]=N.useState(!1),[d,h]=N.useState(!1),y=new URLSearchParams(t.search).get("q")||"",g=b0(y),v=N.useMemo(()=>(e||[]).filter(S=>{const k=b0(S.nombre),D=b0(S.empresa||"");return g.split(" ").filter(Boolean).some(F=>lf(k,F)||lf(D,F))||lf(k,g)||lf(D,g)}),[e,g]),_=N.useMemo(()=>v.filter(S=>{const k=r.precio.min===""||S.precio>=Number(r.precio.min),D=r.precio.max===""||S.precio<=Number(r.precio.max),M=!r.estado.nuevo&&!r.estado.usado||r.estado.nuevo&&S.estado==="Nuevo"||r.estado.usado&&S.estado==="Usado";return k&&D&&M}),[v,r]),C=()=>{s({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}})};return l.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen bg-white pt-0",style:{paddingTop:NH},children:[l.jsx("aside",{className:"hidden lg:block w-64 border-r border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto",children:l.jsx(ym,{categoriaActiva:null,setMostrarEnMovil:h})}),l.jsxs("main",{className:"flex-1 p-4 overflow-y-auto relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[l.jsx("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"📂 Categorías"}),l.jsx(i4,{onClick:()=>c(!0)})]}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-800",children:"Resultados de búsqueda"}),n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-700"})}):_.length===0?l.jsxs("p",{className:"text-gray-600",children:["No se encontraron productos relacionados con ",l.jsx("span",{className:"font-bold",children:y}),"."]}):l.jsx("div",{className:"productos-grid",children:_.map(S=>l.jsx(gj,{producto:S},S.id))})]}),l.jsx("aside",{className:"hidden lg:block w-64 border-l border-gray-200 sticky top-14 h-[calc(100vh-56px)] overflow-y-auto px-4 py-4",children:l.jsx(r4,{filtros:r,setFiltros:s,productosOriginales:v})}),d&&l.jsx(ym,{categoriaActiva:null,mostrarEnMovil:d,setMostrarEnMovil:h}),l.jsx("div",{className:"lg:hidden",children:l.jsx(s4,{filtros:r,setFiltros:s,visible:o,onClose:()=>c(!1),onReset:C})})]})}function pS(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}function gS(){const{categoria:t}=Wy(),e=Sr(),{categories:n,loading:r}=vN(),s=t&&t!=="todos"?t:"",{products:o,loading:c}=yN(s),[d,h]=N.useState({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),[m,y]=N.useState({norm:"",display:""}),[g,v]=N.useState(!1),[_,C]=N.useState(!1),[S,k]=N.useState("Todos"),[D,M]=N.useState(0);N.useEffect(()=>{function I(){const E=document.querySelector(".shadow-md.px-4.py-2.flex.justify-between.items-center"),U=E?Math.ceil(E.getBoundingClientRect().height):0;M(U),document.documentElement.style.setProperty("--topbar-height",`${U}px`)}I(),window.addEventListener("resize",I);const j=new MutationObserver(I);return j.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",I),j.disconnect()}},[]),N.useEffect(()=>{if(!t||t==="todos")k("Todos");else{const I=n.find(j=>pS(j.ruta)===pS(t));k(I?I.nombre:"Todos")}},[t,n]);const F=N.useMemo(()=>S==="Todos"?o:o.filter(I=>I==null?void 0:I.id),[o,S]),H=N.useMemo(()=>(F||[]).filter(I=>{const j=d.precio.min===""||I.precio>=Number(d.precio.min),E=d.precio.max===""||I.precio<=Number(d.precio.max),U=!d.estado.nuevo&&!d.estado.usado||d.estado.nuevo&&I.estado==="Nuevo"||d.estado.usado&&I.estado==="Usado",$=I.empresaNorm||(I.empresa||"").toString().trim().toLowerCase(),P=!m.norm||$===m.norm;return j&&E&&U&&P}),[F,d,m]),Q=(I,j)=>{e(`/productos/${j}`),v(!1),C(!1),y({norm:"",display:""})},G=()=>{h({precio:{min:"",max:""},estado:{nuevo:!1,usado:!1}}),y({norm:"",display:""})},V=[{nombre:"PlayStation",norm:"playstation",imagen:"/logos/PlayStation_logo.svg.png"},{nombre:"Xbox",norm:"xbox",imagen:"/logos/xbox-logo.png"},{nombre:"Nintendo",norm:"nintendo",imagen:"/logos/nintendo-logo.png"}];return r||c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-700 mx-auto mb-4"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Cargando productos..."})]})}):l.jsxs("div",{className:"flex flex-col min-h-screen bg-white pb-[96px]",style:{position:"relative",marginTop:0,paddingTop:`${D}px`,transition:"padding-top 0.2s",boxSizing:"border-box"},children:[l.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row w-full",children:[l.jsx(ym,{categoriaActiva:S,onCategoriaClick:Q,className:"bg-transparent border-none shadow-none"}),l.jsxs("main",{className:"flex-1 p-0 lg:p-4 relative pb-32",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 lg:hidden",children:[l.jsx("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"📂 Categorías"}),l.jsx(i4,{onClick:()=>v(!0)})]}),l.jsxs("div",{className:"px-4 lg:px-0 mb-6 animate-fadeIn",children:[l.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-gradient bg-gradient-to-r from-blue-700 via-purple-600 to-pink-500 text-transparent bg-clip-text drop-shadow-md",children:S==="Todos"?"Todos los productos":S}),S!=="Todos"&&l.jsxs("p",{className:"text-gray-500 text-base sm:text-lg mt-2",children:["Encuentra lo mejor en ",l.jsx("span",{className:"font-semibold text-blue-700",children:S})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-5 px-4 lg:px-0 mb-10 justify-center sm:justify-start",children:[V.map(I=>{const j=m.norm===I.norm;return l.jsxs("button",{onClick:()=>y({norm:I.norm,display:I.nombre}),className:`group relative w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white border-4 flex items-center justify-center shadow-xl hover:scale-110 transition-all duration-300 ${j?"border-blue-700 ring-4 ring-offset-2 ring-blue-500 animate-spin-slow":"border-gray-300 hover:border-blue-400"}`,title:I.nombre,children:[l.jsx("img",{src:I.imagen,alt:I.nombre,className:"w-8 h-8 sm:w-10 sm:h-10 object-contain z-10"}),j&&l.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-blue-500 animate-pulse z-0"})]},I.norm)}),l.jsx("button",{onClick:()=>y({norm:"",display:""}),className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 flex items-center justify-center text-lg sm:text-xl font-bold bg-gradient-to-br from-red-100 to-red-300 text-red-700 border-red-600 shadow-lg hover:scale-110 transition-all duration-300",title:"Quitar filtro",children:"❌"})]}),H.length===0?l.jsx("p",{className:"text-center text-gray-600 mt-10",children:"No hay productos que coincidan con tus filtros."}):l.jsx("div",{className:"productos-grid px-4 lg:px-0",children:H.map(I=>l.jsx(gj,{producto:I},I.id))})]}),l.jsx(r4,{filtros:d,setFiltros:h,productosOriginales:F,className:"bg-transparent border-none shadow-none"})]}),_&&l.jsx(ym,{categoriaActiva:S,onCategoriaClick:Q,mostrarEnMovil:_,setMostrarEnMovil:C,className:"bg-transparent border-none shadow-none"}),l.jsx("div",{className:"xl:hidden",children:l.jsx(s4,{filtros:d,setFiltros:h,visible:g,onClose:()=>v(!1),onReset:G})})]})}const jH=[{id:0,nombre:"Estafeta Principal (Oficina)",descripcion:"Playcenter Universal",direccion:"Av Estrella Sadhala Nº 55, Frente a la doble vía, Santiago",telefono:"809-582-1212",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'13.2%22N+70%C2%B041'23.3%22W/@19.436998,-70.689812,17z/data=!4m4!3m3!8m2!3d19.437!4d-70.6898056",imagen:"/estafetas/oficina.png"},{id:1,nombre:"Estafeta Villa-Olímpica",descripcion:"Minimarket Los Hermanos",direccion:"Calle Penetración Nº 1, Suburbanización Mare López, La villa-Olímpica, Próximo a la calle 1",telefono:"809-626-3262",ubicacionLink:"https://www.google.com/maps/place/19%C2%B025'43.1%22N+70%C2%B041'12.7%22W/@19.4286338,-70.6894342,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.4286338!4d-70.6868593?hl=es&entry=ttu",imagen:"/estafetas/loshermanos.png"},{id:2,nombre:"Estafeta Nibaje",descripcion:"Cafetería Guido",direccion:"Avenida Franco Vido, Nº 148, Nibaje",telefono:"829-324-2318",ubicacionLink:"https://www.google.com/maps/place//@19.420887,-70.6811611,3857m/data=!3m2!1e3!4b1?entry=ttu",imagen:"/estafetas/cafeteria-guido.png"},{id:3,nombre:"Estafeta El Ensueño",descripcion:"Salón y Cafetería Marais",direccion:"Calle Paseo de los Locutores, Esquina 11, El Ensueño",telefono:"829-755-3636",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'22.4%22N+70%C2%B041'26.1%22W/@19.439565,-70.690574,964m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.439565!4d-70.690574?entry=ttu",imagen:"/estafetas/salon-y-cafeteria-maraez.png"},{id:4,nombre:"Estafeta La Lotería",descripcion:"Colmado Espinal",direccion:"La Lotería, calle Salcedo, Nº 10",telefono:"829-288-9168",ubicacionLink:"https://www.google.com/maps/place/19.439565,-70.690574/data=!4m6!3m5!1s0!7e2!8m2!3d19.439564999999998!4d-70.690574",imagen:"/estafetas/colmado-espinal.png"},{id:5,nombre:"Estafeta La Villa-Olímpica",descripcion:"Palmatec Solutions",direccion:"Villa-Olímpica, frente Manzana F, al lado del antiguo Colegio Génesis",telefono:"809-785-3354",ubicacionLink:"https://www.google.com/maps/place/19.435309,-70.685961/data=!4m6!3m5!1s0!7e2!8m2!3d19.435309!4d-70.68596099999999",imagen:"/estafetas/palmatech-solution.png"},{id:6,nombre:"Estafeta Ensanche Bermúdez",descripcion:"St Electronics",direccion:"Calle 11, número 27, Ensanche Bermúdez",telefono:"849-437-3100",ubicacionLink:"https://www.google.com/maps/place/Espailla,+51000+Santiago+de+los+Caballeros/@19.4717075,-70.7148707,964m/data=!3m2!1e3!4b1!4m6!3m5!1s0x8eb1c5e2c3c79d7d:0x3a75c6d5f2312708!8m2!3d19.4717075!4d-70.7148707",imagen:"/estafetas/St electronics.png"},{id:7,nombre:"Estafeta Los Guandules",descripcion:"Mini Market El Vecino",direccion:"Estafeta de pago Los Guandules, próximo al puente",telefono:"+1 829 218 1889",ubicacionLink:"https://www.google.com/maps/place/19%C2%B026'15.3%22N+70%C2%B041'22.2%22W/@19.4381999,-70.6893169,526m/data=!3m1!1e3!4m4!3m3!8m2!3d19.437576!4d-70.689512?entry=ttu",imagen:"/estafetas/losguandules.png"}],AH=[{banco:"BANRESERVAS",numero:"9600153322",tipo:"Cuenta Corriente",titular:"PLAYCENTER"},{banco:"POPULAR",numero:"0798928750",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"BHD",numero:"18673320016",tipo:"Cuenta Corriente",titular:"FRANKLYN SANTOS"},{banco:"SantaCruz",numero:"11142010011632",tipo:"Cuenta Ahorro",titular:"PLAYCENTER"},{banco:"Scotiabank",numero:"12010008845",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"},{banco:"ASOC. CIBAO",numero:"100090238474",tipo:"Cuenta Ahorro",titular:"FRANKLYN SANTOS"}];function IH(){const[t,e]=N.useState(null),n=(r,s)=>{navigator.clipboard.writeText(r),e(s),setTimeout(()=>e(null),2e3)};return l.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 py-10",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-center mb-2 text-gray-800 tracking-tight",children:"Estafetas de Pago y Métodos de Pago"}),l.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Puedes pagar tu factura en cualquiera de nuestros puntos autorizados o mediante transferencia bancaria."}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-7 mb-12 shadow-lg",children:[l.jsxs("h2",{className:"text-2xl font-semibold text-blue-700 flex items-center gap-2 mb-3",children:[l.jsx(U7,{className:"text-blue-500"}),"Cuentas Bancarias para Transferencias"]}),l.jsxs("p",{className:"text-red-600 font-semibold mb-2",children:["⚠️ Incluye tu ",l.jsx("span",{className:"underline",children:"código de cliente"})," o",l.jsx("span",{className:"underline",children:" nombre completo"})," en la descripción del pago."]}),l.jsxs("p",{className:"text-gray-700 mb-4 text-[15px]",children:["Es indispensable enviar el comprobante de pago al 809-582-1212 para poder aplicarlo.",l.jsx("br",{}),l.jsx("span",{className:"text-red-500 font-bold",children:"Sin el comprobante no podremos procesar tu pago."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:AH.map((r,s)=>l.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-5 flex flex-col shadow group hover:shadow-xl transition",children:[l.jsxs("h3",{className:"text-lg font-bold text-indigo-700 flex items-center gap-2 mb-2",children:[l.jsx(z7,{className:"text-indigo-500"}),r.banco]}),l.jsxs("p",{className:"text-gray-700 mb-1 flex items-center",children:[l.jsx("span",{className:"font-semibold mr-1",children:"Número: "}),l.jsxs("span",{className:"text-gray-900 font-mono flex items-center",children:[r.numero,l.jsx("button",{onClick:()=>n(r.numero,s),className:"text-indigo-600 hover:text-indigo-800 ml-1",title:"Copiar número",children:t===s?l.jsx(M7,{}):l.jsx(W7,{})})]})]}),l.jsxs("p",{className:"text-gray-700 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Tipo: "}),r.tipo]}),l.jsxs("p",{className:"text-gray-700",children:[l.jsx("span",{className:"font-semibold",children:"Titular: "}),r.titular]})]},s))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:jH.map(r=>l.jsxs("div",{className:"flex flex-col md:flex-row bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl transition",children:[l.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-blue-50 flex items-center justify-center p-3",children:l.jsx("img",{src:r.imagen,alt:r.nombre,className:"w-full h-full object-contain rounded-xl"})}),l.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-1",children:r.nombre}),l.jsx("p",{className:"text-gray-700 text-lg font-medium mb-1",children:r.descripcion}),l.jsx("p",{className:"text-gray-600 mb-1",children:r.direccion}),l.jsxs("p",{className:"text-green-600 flex items-center gap-2 mb-2",children:[l.jsx(dm,{className:"text-green-500"}),r.telefono]})]}),l.jsxs("a",{href:r.ubicacionLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline mt-3 font-semibold flex items-center gap-2",children:[l.jsx("span",{role:"img","aria-label":"location",children:"📍"}),"Ver Ubicación"]})]})]},r.id))}),l.jsx("p",{className:"text-center text-gray-500 mt-12 text-lg",children:"¡Agradecemos su preferencia! Estamos para servirle."})]})}function PH({children:t}){const{usuario:e}=$r();return e?t:l.jsx(cI,{to:"/login",replace:!0})}const yS="https://playcenter-universal.onrender.com";function RH(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function DH(){const[t]=qy(),e=Sr(),{usuario:n,usuarioInfo:r}=$r(),{carrito:s,vaciarCarrito:o}=xd(),[c,d]=N.useState(1),[h,m]=N.useState(0);N.useEffect(()=>{const g=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=g}},[]),N.useEffect(()=>{const g=t.get("session"),v=RH(),_=setInterval(()=>{m(D=>D>=90?D:Math.min(90,D+Math.random()*15))},200),C=setTimeout(()=>d(2),900),S=setTimeout(()=>d(3),1600),k=async()=>{var D;try{if(!g){e("/payment/cancel");return}const M=await fetch(`${yS}/cardnet/get-sk/${g}`),{sk:F}=await M.json();if(!F){e(`/payment/cancel?session=${g}`);return}const Q=await(await fetch(`${yS}/cardnet/verify/${g}/${F}`)).json(),G=(D=v==null?void 0:v.items)!=null&&D.length?v.items.map(j=>({id:j.id,nombre:j.nombre,precio:Number(j.precio)||0,cantidad:j.cantidad,imagen:j.imagen||"/Productos/default.jpg",empresa:j.empresa||"N/A",subtotal:(Number(j.precio)||0)*j.cantidad})):(s||[]).map(j=>({id:j.id,nombre:j.nombre,precio:Number(j.precio)||0,cantidad:j.cantidad,imagen:j.imagen||"/Productos/default.jpg",empresa:j.empresa||"N/A",subtotal:(Number(j.precio)||0)*j.cantidad})),V=(v==null?void 0:v.total)??(s||[]).reduce((j,E)=>j+(Number(E.precio)||0)*E.cantidad,0),I={userId:(n==null?void 0:n.uid)||null,userEmail:(r==null?void 0:r.email)||(n==null?void 0:n.email)||null,userName:(r==null?void 0:r.displayName)||null,userPhone:(r==null?void 0:r.telefono)||null,productos:G,total:V,subtotal:G.reduce((j,E)=>j+E.subtotal,0),impuestos:0,envio:0,estado:(Q==null?void 0:Q.ResponseCode)==="00"?"completado":"cancelado",estadoPago:(Q==null?void 0:Q.ResponseCode)==="00"?"pagado":"fallido",metodoPago:"CardNet",fecha:xC(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(v==null?void 0:v.mode)||(v?"unknown":"cart"),direccionEntrega:(r==null?void 0:r.direccionCompleta)||null,telefonoContacto:(r==null?void 0:r.telefono)||null,notasEspeciales:null,raw:{...Q,SESSION:g}};try{await Ov(St(Ee,"orders"),I)}catch(j){console.error("❌ Error guardando orden:",j)}try{sessionStorage.removeItem("checkoutPayload")}catch{}m(100),d(4),setTimeout(()=>{(Q==null?void 0:Q.ResponseCode)==="00"?(((v==null?void 0:v.mode)||"cart")==="cart"&&o(),e(`/payment/success?session=${g}`)):e(`/payment/cancel?session=${g}`)},900)}catch(M){console.error("❌ Error verificando pago:",M),e("/payment/cancel")}};if(g){const D=setTimeout(k,9e3);return()=>{clearTimeout(D),clearInterval(_),clearTimeout(C),clearTimeout(S)}}else e("/payment/cancel")},[t,e,n,r,s,o]);const y=[{id:1,icon:IF,title:"Conectando con CardNet",description:"Estableciendo conexión segura"},{id:2,icon:gm,title:"Verificando seguridad",description:"Validando datos de pago"},{id:3,icon:hj,title:"Procesando transacción",description:"Confirmando tu compra"},{id:4,icon:pm,title:"¡Completado!",description:"Redirigiendo..."}];return l.jsxs(te.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-3 sm:px-6 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((g,v)=>l.jsx(te.div,{className:"absolute w-2 h-2 bg-blue-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*12+12,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},v))}),l.jsxs(te.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-2xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 rounded-2xl sm:rounded-3xl"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Progreso"}),l.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(h),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:l.jsx(te.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5,ease:"easeOut"}})})]}),l.jsx("div",{className:"mb-8",children:l.jsx(Gt,{mode:"wait",children:y.map(g=>c>=g.id&&l.jsxs(te.div,{initial:{opacity:0,y:16,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.98},transition:{duration:.35,type:"spring"},className:`flex items-center gap-4 p-4 rounded-2xl mb-3 ${c===g.id?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[l.jsx(te.div,{className:`p-3 rounded-xl ${c===g.id?"bg-gradient-to-br from-blue-500 to-purple-600 text-white":"bg-green-100 text-green-600"}`,animate:c===g.id?{scale:[1,1.08,1],rotate:[0,5,-5,0]}:{},transition:{duration:2,repeat:1/0},children:l.jsx(g.icon,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:g.title}),l.jsx("p",{className:"text-gray-600 text-sm",children:g.description})]}),c>g.id&&l.jsx(te.div,{initial:{scale:0},animate:{scale:1},className:"text-green-500",children:l.jsx(pm,{className:"w-6 h-6"})})]},g.id))})}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"loader mx-auto",children:[l.jsx("div",{className:"loader__bar"}),l.jsx("div",{className:"loader__bar"}),l.jsx("div",{className:"loader__bar"}),l.jsx("div",{className:"loader__bar"}),l.jsx("div",{className:"loader__bar"}),l.jsx("div",{className:"loader__ball"})]})}),l.jsx(te.h1,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",animate:{opacity:[.85,1,.85]},transition:{duration:2,repeat:1/0},children:"Procesando tu pago"}),l.jsxs(te.p,{className:"text-gray-600 mb-8 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:["Estamos verificando tu transacción con CardNet de forma segura.",l.jsx("br",{}),l.jsx("span",{className:"font-semibold text-blue-600",children:"Por favor, no cierres esta ventana."})]}),l.jsxs(te.div,{className:"flex justify-center items-center gap-4 text-sm text-gray-500",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.6},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gm,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:"Conexión segura"})]}),l.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cj,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{children:"Tiempo real"})]})]})]})]})]})}const vS="https://playcenter-universal.onrender.com";function VH(){var g,v;const[t]=qy(),[e,n]=N.useState(null),[r,s]=N.useState(null),[o,c]=N.useState(!0),[d,h]=N.useState(!1);N.useEffect(()=>{const _=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=_}},[]),N.useEffect(()=>{const _=t.get("session");_&&(async()=>{try{const k=Wt(St(Ee,"orders"),wr("raw.SESSION","==",_),Cs("fecha","desc"),Gf(1)),D=await _r(k);D.empty||n({id:D.docs[0].id,...D.docs[0].data()});const M=await fetch(`${vS}/cardnet/get-sk/${_}`),{sk:F}=await M.json();if(F){const Q=await(await fetch(`${vS}/cardnet/verify/${_}/${F}`)).json();s(Q)}}catch(k){console.error("Error cargando datos:",k)}})();const S=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(S)},[t]);const m=_=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2}).format(_||0),y=_=>{if(!_)return"Fecha no disponible";let C;return typeof _=="object"&&(_!=null&&_.seconds)?C=new Date(_.seconds*1e3):C=new Date(_),C.toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return l.jsxs(te.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 px-3 sm:px-6 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[l.jsx(Gt,{children:o&&l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map((_,C)=>l.jsx(te.div,{className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:["#10b981","#059669","#34d399","#6ee7b7","#a7f3d0"][Math.floor(Math.random()*5)],left:Math.random()*100+"%",top:-10},animate:{y:window.innerHeight+50,x:[0,Math.random()*200-100,Math.random()*200-100],rotate:[0,360,720],scale:[1,.5,1]},transition:{duration:Math.random()*3+2,ease:"easeOut",delay:Math.random()*2},exit:{opacity:0}},C))})}),l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((_,C)=>l.jsx(te.div,{className:"absolute w-2 h-2 bg-green-200 rounded-full opacity-30",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},C))}),l.jsxs(te.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-3xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 rounded-3xl"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(te.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:16,stiffness:300,delay:.15},children:l.jsxs(te.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[l.jsx(pm,{className:"w-28 h-28 text-green-500 mx-auto drop-shadow-lg"}),l.jsx(te.div,{className:"absolute -top-3 -right-3 w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.25,1],rotate:[0,12,-12,0]},transition:{duration:2,repeat:1/0},children:l.jsx(lU,{className:"w-5 h-5 text-yellow-600"})}),l.jsx(te.div,{className:"absolute -bottom-2 -left-2 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,delay:.5},children:l.jsx(tU,{className:"w-4 h-4 text-green-600"})})]})}),l.jsxs(te.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3},children:[l.jsx(te.h1,{className:"text-5xl font-extrabold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-4",animate:{scale:[1,1.04,1]},transition:{duration:2,repeat:1/0},children:"¡Pago exitoso!"}),l.jsx(te.div,{className:"flex items-center justify-center gap-2 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[...Array(5)].map((_,C)=>l.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7+C*.08,type:"spring"},children:l.jsx(rU,{className:"w-6 h-6 text-yellow-400 fill-current"})},C))}),l.jsxs(te.p,{className:"text-gray-700 text-lg leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:["Tu transacción fue procesada correctamente.",l.jsx("br",{}),"¡Gracias por tu compra en ",l.jsx("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"PlayCenter Universal"}),"!"]})]}),e?l.jsx(te.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:1},children:l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(MF,{className:"w-6 h-6 text-green-600"}),"Resumen de tu compra"]}),l.jsx(te.div,{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold",whileHover:{scale:1.05},children:"✓ Completado"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Orden ID:"}),l.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.numeroOrden||((g=e.id)==null?void 0:g.slice(-8))})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Email:"}),l.jsx("span",{className:"font-medium",children:e.userEmail})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Fecha:"}),l.jsx("span",{className:"font-medium",children:y(e.fecha)})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Método de pago:"}),l.jsxs("span",{className:"font-medium flex items-center gap-2",children:[l.jsx(hj,{className:"w-4 h-4 text-blue-500"}),"CardNet"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total:"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:m(e.total)})]})]})]}),((v=e.productos)==null?void 0:v.length)>0&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>h(_=>!_),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-medium mb-4 transition-colors",type:"button",children:[l.jsxs("span",{children:["Ver productos (",e.productos.length,")"]}),l.jsx(te.div,{animate:{rotate:d?180:0},transition:{duration:.25},children:"▼"})]}),l.jsx(Gt,{children:d&&l.jsx(te.div,{className:"space-y-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},children:e.productos.map((_,C)=>l.jsxs(te.div,{className:"flex items-center justify-between bg-white rounded-xl p-4 border border-green-100",initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:C*.06},whileHover:{scale:1.02},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:"🎮"}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-800",children:_.nombre}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Cantidad: ",_.cantidad," × ",m(_.precio)]})]})]}),l.jsx("span",{className:"font-bold text-green-600",children:m((Number(_.precio)||0)*_.cantidad)})]},`${_.id}-${C}`))})})]})]})}):null,l.jsxs(te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:1.2},children:[l.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:l.jsxs(st,{to:"/",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Cu,{className:"w-5 h-5"}),l.jsx("span",{children:"Seguir comprando"})]})}),l.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:l.jsxs(st,{to:"/profile",className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-700 rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300",children:[l.jsx(RF,{className:"w-5 h-5"}),l.jsx("span",{children:"Ver historial"})]})})]}),r&&l.jsxs(te.details,{className:"mt-2 text-left",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6},children:[l.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-800 font-medium mb-2",children:"Detalles técnicos de la transacción"}),l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 max-h-64 overflow-y-auto",children:l.jsx("pre",{className:"whitespace-pre-wrap text-gray-600 text-xs font-mono",children:JSON.stringify(r,null,2)})})]})]})]})]})}function MH(){try{const t=sessionStorage.getItem("checkoutPayload");return t?JSON.parse(t):null}catch{return null}}function OH(){const[t]=qy(),{usuarioInfo:e}=$r(),{carrito:n}=xd(),[r,s]=N.useState(!1),[o,c]=N.useState(!1);N.useEffect(()=>{const h=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=h}},[]),N.useEffect(()=>{const m=setTimeout(async()=>{var C;if(r)return;const y=t.get("session"),g=MH(),v=(C=g==null?void 0:g.items)!=null&&C.length?g.items:(n||[]).map(S=>({id:S.id,nombre:S.nombre,precio:Number(S.precio)||0,cantidad:S.cantidad})),_=(g==null?void 0:g.total)??(n||[]).reduce((S,k)=>S+(Number(k.precio)||0)*k.cantidad,0);try{if(y){const S=Wt(St(Ee,"orders"),wr("raw.SESSION","==",y),Gf(1));if(!(await _r(S)).empty){try{sessionStorage.removeItem("checkoutPayload")}catch{}s(!0);return}}if(e&&(v.length>0||_>=0)){const S=v.map(k=>({id:k.id,nombre:k.nombre,precio:Number(k.precio)||0,cantidad:k.cantidad,imagen:k.imagen||"/Productos/default.jpg",empresa:k.empresa||"N/A",subtotal:(Number(k.precio)||0)*k.cantidad}));await Ov(St(Ee,"orders"),{userId:e.uid,userEmail:e.email,userName:e.displayName,userPhone:(e==null?void 0:e.telefono)||null,productos:S,total:_,subtotal:S.reduce((k,D)=>k+D.subtotal,0),impuestos:0,envio:0,estado:"cancelado",estadoPago:"fallido",metodoPago:"CardNet",fecha:xC(),fechaCreacion:new Date().toISOString(),numeroOrden:`PCU-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,checkoutMode:(g==null?void 0:g.mode)||(g?"unknown":"cart"),direccionEntrega:(e==null?void 0:e.direccionCompleta)||null,telefonoContacto:(e==null?void 0:e.telefono)||null,notasEspeciales:null,raw:{SESSION:y||null}});try{sessionStorage.removeItem("checkoutPayload")}catch{}s(!0)}}catch(S){console.error("Error guardando orden cancelada:",S)}},600);return()=>clearTimeout(m)},[e,n,r,t]);const d=[{icon:gm,title:"Datos incorrectos",desc:"Verifica la información de tu tarjeta"},{icon:cj,title:"Sesión expirada",desc:"El tiempo límite para el pago se agotó"},{icon:AE,title:"Fondos insuficientes",desc:"Tu tarjeta no tiene saldo disponible"},{icon:Ku,title:"Cancelado por el usuario",desc:"El pago fue cancelado manualmente"}];return l.jsxs(te.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-rose-50 via-red-50 to-pink-50 px-3 sm:px-6 overflow-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.35},role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(16)].map((h,m)=>l.jsx(te.div,{className:"absolute w-3 h-3 bg-red-200 rounded-full opacity-20",animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],rotate:[0,360]},transition:{duration:Math.random()*14+14,repeat:1/0,ease:"linear"},style:{left:Math.random()*100+"%",top:Math.random()*100+"%"}},m))}),l.jsxs(te.div,{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-10 max-w-lg sm:max-w-2xl w-full text-center relative overflow-hidden border border-white/30 my-4",initial:{scale:.94,y:28},animate:{scale:1,y:0},transition:{type:"spring",damping:22,stiffness:280},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-pink-500/5 rounded-3xl"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(te.div,{className:"mb-8",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:16,stiffness:300,delay:.15},children:l.jsxs(te.div,{className:"relative inline-block",animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[l.jsx(Ku,{className:"w-24 h-24 text-red-500 mx-auto drop-shadow-lg"}),l.jsx(te.div,{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:l.jsx(AE,{className:"w-4 h-4 text-red-600"})})]})}),l.jsx(te.h1,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent mb-6",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.3},children:"Pago cancelado"}),l.jsxs(te.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.45},children:[l.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-4",children:"Tu transacción no pudo ser completada."}),l.jsxs(te.div,{className:"inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full border border-green-200",initial:{scale:0},animate:{scale:1},transition:{delay:.65,type:"spring"},children:[l.jsx(gm,{className:"w-4 h-4"}),l.jsx("span",{className:"font-semibold",children:"No se realizó ningún cargo a tu tarjeta"})]})]}),l.jsxs(te.div,{className:"mb-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.6},children:[l.jsxs("button",{onClick:()=>c(h=>!h),className:"flex items-center gap-2 mx-auto text-gray-600 hover:text-gray-800 transition-colors",type:"button",children:[l.jsx("span",{className:"font-medium",children:"¿Por qué falló mi pago?"}),l.jsx(te.div,{animate:{rotate:o?180:0},transition:{duration:.25},children:l.jsx(KF,{className:"w-4 h-4"})})]}),l.jsx(Gt,{children:o&&l.jsx(te.div,{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},children:d.map((h,m)=>l.jsx(te.div,{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:m*.08},whileHover:{scale:1.02,backgroundColor:"#f8fafc"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx(h.icon,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:h.title}),l.jsx("p",{className:"text-sm text-gray-600",children:h.desc})]})]})},m))})})]}),l.jsxs(te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.8},children:[l.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:l.jsxs(st,{to:"/carrito",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(ZF,{className:"w-5 h-5"}),l.jsx("span",{children:"Intentar de nuevo"})]})}),l.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.97},children:l.jsxs(st,{to:"/",className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-700 rounded-xl font-bold shadow-lg border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300",children:[l.jsx(Cu,{className:"w-5 h-5"}),l.jsx("span",{children:"Ir al inicio"})]})})]}),l.jsxs(te.div,{className:"mt-8 p-4 bg-blue-50 rounded-xl border border-blue-200",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:1},children:[l.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"¿Necesitas ayuda?"}),l.jsx("p",{className:"text-blue-700 text-sm",children:"Si el problema persiste, contacta a nuestro equipo de soporte. Estamos aquí para ayudarte a completar tu compra."}),l.jsx(te.a,{href:"/contacto",className:"mt-3 inline-block text-blue-600 font-semibold hover:text-blue-800 transition-colors",whileHover:{scale:1.03},children:"Contactar soporte →"})]})]})]})]})}function LH(){const t=ri();return l.jsx(bN,{children:l.jsx(Gt,{mode:"wait",children:l.jsxs(dI,{location:t,children:[l.jsx(Gn,{path:"/",element:l.jsx(gr,{children:l.jsx(pU,{})})}),l.jsx(Gn,{path:"/profile",element:l.jsx(PH,{children:l.jsx(gr,{children:l.jsx(SU,{})})})}),l.jsx(Gn,{path:"/admin",element:l.jsx(dF,{})}),l.jsx(Gn,{path:"/producto/:id",element:l.jsx(gr,{children:l.jsx(kU,{})})}),l.jsx(Gn,{path:"/producto/:id/detalle",element:l.jsx(gr,{children:l.jsx(MU,{})})}),l.jsx(Gn,{path:"/carrito",element:l.jsx(gr,{children:l.jsx(PU,{})})}),l.jsx(Gn,{path:"/contacto",element:l.jsx(gr,{children:l.jsx(RU,{})})}),l.jsx(Gn,{path:"/nosotros",element:l.jsx(gr,{children:l.jsx(DU,{})})}),l.jsx(Gn,{path:"/buscar",element:l.jsx(gr,{children:l.jsx(kH,{})})}),l.jsx(Gn,{path:"/categorias",element:l.jsx(gr,{children:l.jsx(gS,{})})}),l.jsx(Gn,{path:"/Productos/:categoria?",element:l.jsx(gr,{children:l.jsx(gS,{})})}),l.jsx(Gn,{path:"/estafetas",element:l.jsx(gr,{children:l.jsx(IH,{})})}),l.jsx(Gn,{path:"/payment/pending",element:l.jsx(gr,{children:l.jsx(DH,{})})}),l.jsx(Gn,{path:"/payment/success",element:l.jsx(gr,{children:l.jsx(VH,{})})}),l.jsx(Gn,{path:"/payment/cancel",element:l.jsx(gr,{children:l.jsx(OH,{})})})]},t.pathname)})})}function gr({children:t}){return l.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},children:t})}function FH(){const{pathname:t}=ri(),e=Sr(),{usuario:n}=$r(),{abrirModal:r}=hc(),[s,o]=N.useState(!1),c=h=>t===h,d=h=>{(h==="/profile"||h==="/carrito")&&!n?o(!0):e(h)};return l.jsxs(l.Fragment,{children:[l.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t shadow-md flex justify-around items-center h-14 text-sm lg:hidden",children:[l.jsx(cf,{onClick:()=>d("/"),icon:l.jsx(F7,{}),label:"Inicio",active:c("/")}),l.jsx(cf,{onClick:()=>d("/categorias"),icon:l.jsx($7,{}),label:"Categorías",active:c("/categorias")}),l.jsx(cf,{onClick:()=>d("/carrito"),icon:l.jsx(ej,{}),label:"Carrito",active:c("/carrito")}),l.jsx(cf,{onClick:()=>d("/profile"),icon:l.jsx(nj,{}),label:"Perfil",active:c("/profile")})]}),l.jsx(vd,{isOpen:s,onClose:()=>o(!1),onIniciarSesion:()=>{o(!1),r()}})]})}function cf({onClick:t,icon:e,label:n,active:r}){return l.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center transition text-xs w-full py-1 ${r?"text-blue-600 font-semibold":"text-gray-500"}`,"aria-label":n,type:"button",children:[l.jsx("div",{className:"text-lg",children:e}),l.jsx("div",{children:n})]})}function UH(){const{modalAbierto:t,setModalAbierto:e,modo:n,setModo:r}=hc(),{login:s,signup:o,usuario:c}=$r(),[d,h]=N.useState(n),[m,y]=N.useState(""),[g,v]=N.useState(""),[_,C]=N.useState(""),[S,k]=N.useState("");N.useEffect(()=>{h(n),k(""),y(""),v(""),C("")},[t,n]);async function D(M){M.preventDefault(),k("");try{if(d==="login")await s(m,g);else{const F=await o(m,g);await En($e(Ee,"users",F.uid),{displayName:_||"Usuario",email:m,telefono:"",direccion:"",codigo:"",metodoEntrega:"",admin:!1,createdAt:new Date}),_&&await updateProfile(F,{displayName:_})}e(!1)}catch(F){k("Error: "+F.message)}}return t?l.jsx("div",{onClick:()=>e(!1),className:"fixed inset-0 bg-gradient-to-br from-black/90 to-gray-900/90 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:l.jsxs(te.div,{onClick:M=>M.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40",children:[l.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",children:"×"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",children:d==="login"?l.jsxs(l.Fragment,{children:[l.jsx(nj,{className:"text-[#3b82f6]"})," Iniciar Sesión"]}):l.jsxs(l.Fragment,{children:[l.jsx(H7,{className:"text-[#3b82f6]"})," Registrarse"]})}),S&&l.jsx("p",{className:"text-red-400 mb-4 text-center font-semibold",children:S}),l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Nombre de usuario"}),l.jsx("input",{type:"text",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:_,onChange:M=>C(M.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Correo electrónico"}),l.jsx("input",{type:"email",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:m,onChange:M=>y(M.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Contraseña"}),l.jsx("input",{type:"password",required:!0,className:"w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",value:g,onChange:M=>v(M.target.value)})]}),l.jsx("button",{type:"submit",className:"w-full bg-[#3b82f6] hover:bg-[#2563eb] text-white font-semibold py-2 rounded-lg shadow-lg transition transform hover:scale-105",children:d==="login"?"Iniciar sesión":"Registrarse"})]}),l.jsx("p",{className:"mt-4 text-center text-sm cursor-pointer text-[#3b82f6] hover:underline select-none",onClick:()=>{k("");const M=d==="login"?"signup":"login";h(M),r(M)},children:d==="login"?"¿No tienes una cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})]})}):null}const BH=()=>{const{pathname:t}=ri();return N.useEffect(()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0;const e=document.querySelector("main");e&&(e.scrollTop=0)},[t]),null},N0=["/animacion/img1.png","/animacion/img2.png","/animacion/img3.png","/animacion/img4.png","/animacion/img5.png","/animacion/img6.png","/animacion/img7.png","/animacion/img8.png","/animacion/img9.png","/animacion/img10.png"],$H=[...N0,...N0,...N0.slice(0,5)],zH=()=>l.jsx("div",{className:"loader2",role:"presentation","aria-hidden":"true",children:$H.map((t,e)=>l.jsx("img",{src:t,alt:`Animación TopBar ${e+1}`},e))});function HH(){const{usuarioInfo:t}=$r(),{abrirModal:e}=hc(),[n,r]=N.useState(!1),[s,o]=N.useState(!1),[c,d]=N.useState("Selecciona método de entrega"),[h,m]=N.useState(0),y=N.useRef(null),[g,v]=N.useState(!0),_=N.useRef(typeof window<"u"?window.scrollY:0),C=N.useRef(!1);N.useEffect(()=>{if(!t){d("Selecciona método de entrega");return}t.metodoEntrega==="tienda"?d("Recoger en: Playcenter Universal Santiago"):t.metodoEntrega==="domicilio"&&t.direccion?d(`Entregar en: ${t.direccion}`):d("Selecciona método de entrega")},[t]),N.useEffect(()=>{const D=()=>{const H=document.querySelector("header"),Q=H?Math.ceil(H.getBoundingClientRect().height):0;m(Q)};D();const M=()=>D();window.addEventListener("resize",M);const F=new MutationObserver(()=>D());return F.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),()=>{window.removeEventListener("resize",M),F.disconnect()}},[]),N.useEffect(()=>{const D=()=>{C.current||(C.current=!0,requestAnimationFrame(()=>{const M=window.scrollY,F=_.current,H=M-F;M<=0?v(!0):Math.abs(H)<5||(H>0&&M>60?v(!1):H<0&&v(!0)),_.current=M,C.current=!1}))};return window.addEventListener("scroll",D,{passive:!0}),()=>window.removeEventListener("scroll",D)},[]);const S={position:"fixed",left:0,right:0,top:`${h}px`,zIndex:900,transform:g?"translateY(0)":"translateY(-110%)",transition:"transform 220ms ease, opacity 220ms ease",pointerEvents:g?"auto":"none",background:"white"},k=()=>{t?r(!0):o(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:y,style:S,className:"shadow-md px-4 py-2 flex justify-between items-center",children:[l.jsxs(te.div,{className:"flex items-center gap-2 cursor-pointer group",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},children:[l.jsx(te.div,{whileHover:{rotate:-10},className:"p-1.5 rounded-full bg-gray-100 group-hover:bg-blue-100 transition",children:l.jsx(zF,{className:"w-5 h-5 text-gray-700 group-hover:text-blue-600 transition"})}),l.jsx(te.span,{className:`font-semibold text-gray-800 
                       max-w-[220px] sm:max-w-[280px] md:max-w-[350px] 
                       truncate text-sm sm:text-base tracking-wide`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c}),l.jsx(te.div,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:l.jsx(lj,{className:"w-5 h-5 text-gray-600 group-hover:text-blue-600 transition"})})]}),l.jsx(zH,{})]}),n&&t&&l.jsx(fj,{abierto:n,onClose:()=>r(!1),usuarioId:t==null?void 0:t.uid,direccionEditar:null,actualizarLista:()=>{}}),l.jsx(vd,{isOpen:s,onClose:()=>o(!1),onIniciarSesion:()=>{o(!1),e()}})]})}function WH(){return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(q7,{}),l.jsx(HH,{}),l.jsxs("main",{className:"flex-grow",children:[l.jsx(BH,{}),l.jsx(LH,{})]}),l.jsx(G7,{}),l.jsx(FH,{}),l.jsx(UH,{})]})}vA.createRoot(document.getElementById("root")).render(l.jsx(Fr.StrictMode,{children:l.jsx(xI,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(bN,{children:l.jsx(TU,{children:l.jsx(qV,{children:l.jsx(WH,{})})})})})}));
