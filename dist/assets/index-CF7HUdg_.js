function v2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qf={exports:{}},Rl={},Kf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function _2(){if(y0)return be;y0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function C(L,Y,me){this.props=L,this.context=Y,this.refs=D,this.updater=me||S}C.prototype.isReactComponent={},C.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=C.prototype;function G(L,Y,me){this.props=L,this.context=Y,this.refs=D,this.updater=me||S}var W=G.prototype=new H;W.constructor=G,k(W,C.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,J=Object.prototype.hasOwnProperty,re={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(L,Y,me){var Ae,Re={},je=null,Ue=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)J.call(Y,Ae)&&!N.hasOwnProperty(Ae)&&(Re[Ae]=Y[Ae]);var Be=arguments.length-2;if(Be===1)Re.children=me;else if(1<Be){for(var Ke=Array(Be),kt=0;kt<Be;kt++)Ke[kt]=arguments[kt+2];Re.children=Ke}if(L&&L.defaultProps)for(Ae in Be=L.defaultProps,Be)Re[Ae]===void 0&&(Re[Ae]=Be[Ae]);return{$$typeof:t,type:L,key:je,ref:Ue,props:Re,_owner:re.current}}function R(L,Y){return{$$typeof:t,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function M(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return Y[me]})}var F=/\/+/g;function b(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):Y.toString(36)}function Ze(L,Y,me,Ae,Re){var je=typeof L;(je==="undefined"||je==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(je){case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=L,Re=Re(Ue),L=Ae===""?"."+b(Ue,0):Ae,Q(Re)?(me="",L!=null&&(me=L.replace(F,"$&/")+"/"),Ze(Re,Y,me,"",function(kt){return kt})):Re!=null&&(V(Re)&&(Re=R(Re,me+(!Re.key||Ue&&Ue.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+L)),Y.push(Re)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",Q(L))for(var Be=0;Be<L.length;Be++){je=L[Be];var Ke=Ae+b(je,Be);Ue+=Ze(je,Y,me,Ke,Re)}else if(Ke=x(L),typeof Ke=="function")for(L=Ke.call(L),Be=0;!(je=L.next()).done;)je=je.value,Ke=Ae+b(je,Be++),Ue+=Ze(je,Y,me,Ke,Re);else if(je==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Mt(L,Y,me){if(L==null)return L;var Ae=[],Re=0;return Ze(L,Ae,"","",function(je){return Y.call(me,je,Re++)}),Ae}function Lt(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var Ie={current:null},se={transition:null},pe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:se,ReactCurrentOwner:re};function ae(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Mt,forEach:function(L,Y,me){Mt(L,function(){Y.apply(this,arguments)},me)},count:function(L){var Y=0;return Mt(L,function(){Y++}),Y},toArray:function(L){return Mt(L,function(Y){return Y})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},be.Component=C,be.Fragment=n,be.Profiler=s,be.PureComponent=G,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,be.act=ae,be.cloneElement=function(L,Y,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ae=k({},L.props),Re=L.key,je=L.ref,Ue=L._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Ue=re.current),Y.key!==void 0&&(Re=""+Y.key),L.type&&L.type.defaultProps)var Be=L.type.defaultProps;for(Ke in Y)J.call(Y,Ke)&&!N.hasOwnProperty(Ke)&&(Ae[Ke]=Y[Ke]===void 0&&Be!==void 0?Be[Ke]:Y[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=me;else if(1<Ke){Be=Array(Ke);for(var kt=0;kt<Ke;kt++)Be[kt]=arguments[kt+2];Ae.children=Be}return{$$typeof:t,type:L.type,key:Re,ref:je,props:Ae,_owner:Ue}},be.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},be.createElement=P,be.createFactory=function(L){var Y=P.bind(null,L);return Y.type=L,Y},be.createRef=function(){return{current:null}},be.forwardRef=function(L){return{$$typeof:h,render:L}},be.isValidElement=V,be.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Lt}},be.memo=function(L,Y){return{$$typeof:m,type:L,compare:Y===void 0?null:Y}},be.startTransition=function(L){var Y=se.transition;se.transition={};try{L()}finally{se.transition=Y}},be.unstable_act=ae,be.useCallback=function(L,Y){return Ie.current.useCallback(L,Y)},be.useContext=function(L){return Ie.current.useContext(L)},be.useDebugValue=function(){},be.useDeferredValue=function(L){return Ie.current.useDeferredValue(L)},be.useEffect=function(L,Y){return Ie.current.useEffect(L,Y)},be.useId=function(){return Ie.current.useId()},be.useImperativeHandle=function(L,Y,me){return Ie.current.useImperativeHandle(L,Y,me)},be.useInsertionEffect=function(L,Y){return Ie.current.useInsertionEffect(L,Y)},be.useLayoutEffect=function(L,Y){return Ie.current.useLayoutEffect(L,Y)},be.useMemo=function(L,Y){return Ie.current.useMemo(L,Y)},be.useReducer=function(L,Y,me){return Ie.current.useReducer(L,Y,me)},be.useRef=function(L){return Ie.current.useRef(L)},be.useState=function(L){return Ie.current.useState(L)},be.useSyncExternalStore=function(L,Y,me){return Ie.current.useSyncExternalStore(L,Y,me)},be.useTransition=function(){return Ie.current.useTransition()},be.version="18.3.1",be}var v0;function Im(){return v0||(v0=1,Kf.exports=_2()),Kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function w2(){if(_0)return Rl;_0=1;var t=Im(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var g,w={},x=null,S=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:h,key:x,ref:S,props:w,_owner:s.current}}return Rl.Fragment=n,Rl.jsx=u,Rl.jsxs=u,Rl}var w0;function E2(){return w0||(w0=1,qf.exports=w2()),qf.exports}var v=E2(),B=Im();const ti=b1(B),x2=v2({__proto__:null,default:ti},[B]);var Wc={},Gf={exports:{}},gn={},Qf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function T2(){return E0||(E0=1,function(t){function e(se,pe){var ae=se.length;se.push(pe);e:for(;0<ae;){var L=ae-1>>>1,Y=se[L];if(0<s(Y,pe))se[L]=pe,se[ae]=Y,ae=L;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var pe=se[0],ae=se.pop();if(ae!==pe){se[0]=ae;e:for(var L=0,Y=se.length,me=Y>>>1;L<me;){var Ae=2*(L+1)-1,Re=se[Ae],je=Ae+1,Ue=se[je];if(0>s(Re,ae))je<Y&&0>s(Ue,Re)?(se[L]=Ue,se[je]=ae,L=je):(se[L]=Re,se[Ae]=ae,L=Ae);else if(je<Y&&0>s(Ue,ae))se[L]=Ue,se[je]=ae,L=je;else break e}}return pe}function s(se,pe){var ae=se.sortIndex-pe.sortIndex;return ae!==0?ae:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,w=null,x=3,S=!1,k=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(se){for(var pe=n(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=se)r(m),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=n(m)}}function Q(se){if(D=!1,W(se),!k)if(n(f)!==null)k=!0,Lt(J);else{var pe=n(m);pe!==null&&Ie(Q,pe.startTime-se)}}function J(se,pe){k=!1,D&&(D=!1,H(P),P=-1),S=!0;var ae=x;try{for(W(pe),w=n(f);w!==null&&(!(w.expirationTime>pe)||se&&!M());){var L=w.callback;if(typeof L=="function"){w.callback=null,x=w.priorityLevel;var Y=L(w.expirationTime<=pe);pe=t.unstable_now(),typeof Y=="function"?w.callback=Y:w===n(f)&&r(f),W(pe)}else r(f);w=n(f)}if(w!==null)var me=!0;else{var Ae=n(m);Ae!==null&&Ie(Q,Ae.startTime-pe),me=!1}return me}finally{w=null,x=ae,S=!1}}var re=!1,N=null,P=-1,R=5,V=-1;function M(){return!(t.unstable_now()-V<R)}function F(){if(N!==null){var se=t.unstable_now();V=se;var pe=!0;try{pe=N(!0,se)}finally{pe?b():(re=!1,N=null)}}else re=!1}var b;if(typeof G=="function")b=function(){G(F)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Mt=Ze.port2;Ze.port1.onmessage=F,b=function(){Mt.postMessage(null)}}else b=function(){C(F,0)};function Lt(se){N=se,re||(re=!0,b())}function Ie(se,pe){P=C(function(){se(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,Lt(J))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var ae=x;x=pe;try{return se()}finally{x=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=x;x=se;try{return pe()}finally{x=ae}},t.unstable_scheduleCallback=function(se,pe,ae){var L=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,se={id:g++,callback:pe,priorityLevel:se,startTime:ae,expirationTime:Y,sortIndex:-1},ae>L?(se.sortIndex=ae,e(m,se),n(f)===null&&se===n(m)&&(D?(H(P),P=-1):D=!0,Ie(Q,ae-L))):(se.sortIndex=Y,e(f,se),k||S||(k=!0,Lt(J))),se},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(se){var pe=x;return function(){var ae=x;x=pe;try{return se.apply(this,arguments)}finally{x=ae}}}}(Xf)),Xf}var x0;function S2(){return x0||(x0=1,Qf.exports=T2()),Qf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function I2(){if(T0)return gn;T0=1;var t=Im(),e=S2();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function x(i){return f.call(w,i)?!0:f.call(g,i)?!1:m.test(i)?w[i]=!0:(g[i]=!0,!1)}function S(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,l,d){if(o===null||typeof o>"u"||S(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,d,p,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,G);C[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,G);C[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,G);C[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,l,d){var p=C.hasOwnProperty(o)?C[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,l,p,d)&&(l=null),d||p===null?x(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),re=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Mt=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,L;function Y(i){if(L===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+i}var me=!1;function Ae(i,o){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var d=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){d=q}i.call(o.prototype)}else{try{throw Error()}catch(q){d=q}i()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),_=d.stack.split(`
`),T=p.length-1,A=_.length-1;1<=T&&0<=A&&p[T]!==_[A];)A--;for(;1<=T&&0<=A;T--,A--)if(p[T]!==_[A]){if(T!==1||A!==1)do if(T--,A--,0>A||p[T]!==_[A]){var j=`
`+p[T].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=T&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Re(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case re:return"Portal";case R:return"Profiler";case P:return"StrictMode";case b:return"Suspense";case Ze:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Mt:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case Lt:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(i){var o=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){d=""+T,_.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function jr(i){i._valueTracker||(i._valueTracker=kt(i))}function lo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Ke(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function di(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ds(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function uo(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Be(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ja(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function Oa(i,o){ja(i,o);var l=Be(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?co(i,o.type,l):o.hasOwnProperty("defaultValue")&&co(i,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function bu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function co(i,o,l){(o!=="number"||di(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Or=Array.isArray;function Mr(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Ma(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ho(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Or(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Be(l)}}function fo(i,o){var l=Be(o.value),d=Be(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function La(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Tt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Tt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Lr,Fa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Lr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function fi(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(i){ps.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),fs[o]=fs[i]})});function Ua(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||fs.hasOwnProperty(i)&&fs[i]?(""+o).trim():o+"px"}function Ba(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ua(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var za=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(i,o){if(o){if(za[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ha(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=null;function po(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mo=null,Nn=null,ur=null;function go(i){if(i=pl(i)){if(typeof mo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=oc(o),mo(i.stateNode,i.type,o))}}function cr(i){Nn?ur?ur.push(i):ur=[i]:Nn=i}function Wa(){if(Nn){var i=Nn,o=ur;if(ur=Nn=null,go(i),o)for(i=0;i<o.length;i++)go(o[i])}}function gs(i,o){return i(o)}function qa(){}var Fr=!1;function Ka(i,o,l){if(Fr)return i(o,l);Fr=!0;try{return gs(i,o,l)}finally{Fr=!1,(Nn!==null||ur!==null)&&(qa(),Wa())}}function ft(i,o){var l=i.stateNode;if(l===null)return null;var d=oc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var yo=!1;if(h)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{yo=!1}function ys(i,o,l,d,p,_,T,A,j){var q=Array.prototype.slice.call(arguments,3);try{o.apply(l,q)}catch(ee){this.onError(ee)}}var vs=!1,vo=null,qn=!1,Ga=null,_d={onError:function(i){vs=!0,vo=i}};function _o(i,o,l,d,p,_,T,A,j){vs=!1,vo=null,ys.apply(_d,arguments)}function ku(i,o,l,d,p,_,T,A,j){if(_o.apply(this,arguments),vs){if(vs){var q=vo;vs=!1,vo=null}else throw Error(n(198));qn||(qn=!0,Ga=q)}}function Kn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function _s(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gn(i){if(Kn(i)!==i)throw Error(n(188))}function Nu(i){var o=i.alternate;if(!o){if(o=Kn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return Gn(p),i;if(_===d)return Gn(p),o;_=_.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=_;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,d=_;break}if(A===d){T=!0,d=p,l=_;break}A=A.sibling}if(!T){for(A=_.child;A;){if(A===l){T=!0,l=_,d=p;break}if(A===d){T=!0,d=_,l=p;break}A=A.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function Qa(i){return i=Nu(i),i!==null?wo(i):null}function wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=wo(i);if(o!==null)return o;i=i.sibling}return null}var Eo=e.unstable_scheduleCallback,Xa=e.unstable_cancelCallback,Du=e.unstable_shouldYield,wd=e.unstable_requestPaint,Ge=e.unstable_now,Vu=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,ju=e.unstable_IdlePriority,Es=null,wn=null;function Ou(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Es,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Lu,Ja=Math.log,Mu=Math.LN2;function Lu(i){return i>>>=0,i===0?32:31-(Ja(i)/Mu|0)|0}var xo=64,To=4194304;function mi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xs(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,_=i.pingedLanes,T=l&268435455;if(T!==0){var A=T&~p;A!==0?d=mi(A):(_&=T,_!==0&&(d=mi(_)))}else T=l&~p,T!==0?d=mi(T):_!==0&&(d=mi(_));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,_=o&-o,p>=_||p===16&&(_&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-nn(o),p=1<<l,d|=i[l],o&=~p;return d}function Ed(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-nn(_),A=1<<T,j=p[T];j===-1?((A&l)===0||(A&d)!==0)&&(p[T]=Ed(A,o)):j<=o&&(i.expiredLanes|=A),_&=~A}}function En(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ts(){var i=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),i}function gi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function yi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=l}function He(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-nn(l),_=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~_}}function vi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-nn(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var Ve=0;function _i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fu,So,Uu,Bu,zu,Za=!1,hr=[],Ft=null,Qn=null,Xn=null,wi=new Map,Vn=new Map,dr=[],xd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(i,o){switch(i){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(o.pointerId)}}function un(i,o,l,d,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[p]},o!==null&&(o=pl(o),o!==null&&So(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Td(i,o,l,d,p){switch(o){case"focusin":return Ft=un(Ft,i,o,l,d,p),!0;case"dragenter":return Qn=un(Qn,i,o,l,d,p),!0;case"mouseover":return Xn=un(Xn,i,o,l,d,p),!0;case"pointerover":var _=p.pointerId;return wi.set(_,un(wi.get(_)||null,i,o,l,d,p)),!0;case"gotpointercapture":return _=p.pointerId,Vn.set(_,un(Vn.get(_)||null,i,o,l,d,p)),!0}return!1}function Hu(i){var o=Cs(i.target);if(o!==null){var l=Kn(o);if(l!==null){if(o=l.tag,o===13){if(o=_s(l),o!==null){i.blockedOn=o,zu(i.priority,function(){Uu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Io(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ms=d,l.target.dispatchEvent(d),ms=null}else return o=pl(l),o!==null&&So(o),i.blockedOn=l,!1;o.shift()}return!0}function Ss(i,o,l){Br(i)&&l.delete(o)}function Wu(){Za=!1,Ft!==null&&Br(Ft)&&(Ft=null),Qn!==null&&Br(Qn)&&(Qn=null),Xn!==null&&Br(Xn)&&(Xn=null),wi.forEach(Ss),Vn.forEach(Ss)}function Yn(i,o){i.blockedOn===o&&(i.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wu)))}function Jn(i){function o(p){return Yn(p,i)}if(0<hr.length){Yn(hr[0],i);for(var l=1;l<hr.length;l++){var d=hr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Ft!==null&&Yn(Ft,i),Qn!==null&&Yn(Qn,i),Xn!==null&&Yn(Xn,i),wi.forEach(o),Vn.forEach(o),l=0;l<dr.length;l++)d=dr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)Hu(l),l.blockedOn===null&&dr.shift()}var zr=Q.ReactCurrentBatchConfig,Ei=!0;function et(i,o,l,d){var p=Ve,_=zr.transition;zr.transition=null;try{Ve=1,el(i,o,l,d)}finally{Ve=p,zr.transition=_}}function Sd(i,o,l,d){var p=Ve,_=zr.transition;zr.transition=null;try{Ve=4,el(i,o,l,d)}finally{Ve=p,zr.transition=_}}function el(i,o,l,d){if(Ei){var p=Io(i,o,l,d);if(p===null)jd(i,o,d,Is,l),$u(i,d);else if(Td(p,i,o,l,d))d.stopPropagation();else if($u(i,d),o&4&&-1<xd.indexOf(i)){for(;p!==null;){var _=pl(p);if(_!==null&&Fu(_),_=Io(i,o,l,d),_===null&&jd(i,o,d,Is,l),_===p)break;p=_}p!==null&&d.stopPropagation()}else jd(i,o,d,null,l)}}var Is=null;function Io(i,o,l,d){if(Is=null,i=po(d),i=Cs(i),i!==null)if(o=Kn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=_s(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Is=i,null}function tl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vu()){case ws:return 1;case pi:return 4;case Dn:case Ya:return 16;case ju:return 536870912;default:return 16}default:return 16}}var xn=null,Po=null,cn=null;function nl(){if(cn)return cn;var i,o=Po,l=o.length,d,p="value"in xn?xn.value:xn.textContent,_=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===p[_-d];d++);return cn=p.slice(i,1<d?1-d:void 0)}function Ao(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function rl(){return!1}function Ut(i){function o(l,d,p,_,T){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(_):_[A]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fr:rl,this.isPropagationStopped=rl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),o}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ut(Zn),pr=ae({},Zn,{view:0,detail:0}),Id=Ut(pr),Ro,$r,xi,Ps=ae({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xi&&(xi&&i.type==="mousemove"?(Ro=i.screenX-xi.screenX,$r=i.screenY-xi.screenY):$r=Ro=0,xi=i),Ro)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),bo=Ut(Ps),il=ae({},Ps,{dataTransfer:0}),qu=Ut(il),ko=ae({},pr,{relatedTarget:0}),No=Ut(ko),Ku=ae({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ut(Ku),Gu=ae({},Zn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qu=Ut(Gu),Xu=ae({},Zn,{data:0}),sl=Ut(Xu),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Yu[i])?!!o[i]:!1}function mr(){return Ju}var c=ae({},pr,{key:function(i){if(i.key){var o=Do[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ao(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(i){return i.type==="keypress"?Ao(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ao(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ut(c),E=ae({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ut(E),U=ae({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),K=Ut(U),oe=ae({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Ut(oe),It=ae({},Ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Ut(It),Nt=[9,13,27,32],vt=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Tn=h&&"TextEvent"in window&&!jn,As=h&&(!vt||jn&&8<jn&&11>=jn),Vo=" ",hy=!1;function dy(i,o){switch(i){case"keyup":return Nt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jo=!1;function mI(i,o){switch(i){case"compositionend":return fy(o);case"keypress":return o.which!==32?null:(hy=!0,Vo);case"textInput":return i=o.data,i===Vo&&hy?null:i;default:return null}}function gI(i,o){if(jo)return i==="compositionend"||!vt&&dy(i,o)?(i=nl(),cn=Po=xn=null,jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return As&&o.locale!=="ko"?null:o.data;default:return null}}var yI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yI[i.type]:o==="textarea"}function my(i,o,l,d){cr(d),o=rc(o,"onChange"),0<o.length&&(l=new Co("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var ol=null,al=null;function vI(i){Dy(i,0)}function Zu(i){var o=Uo(i);if(lo(o))return i}function _I(i,o){if(i==="change")return o}var gy=!1;if(h){var Pd;if(h){var Ad="oninput"in document;if(!Ad){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Ad=typeof yy.oninput=="function"}Pd=Ad}else Pd=!1;gy=Pd&&(!document.documentMode||9<document.documentMode)}function vy(){ol&&(ol.detachEvent("onpropertychange",_y),al=ol=null)}function _y(i){if(i.propertyName==="value"&&Zu(al)){var o=[];my(o,al,i,po(i)),Ka(vI,o)}}function wI(i,o,l){i==="focusin"?(vy(),ol=o,al=l,ol.attachEvent("onpropertychange",_y)):i==="focusout"&&vy()}function EI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zu(al)}function xI(i,o){if(i==="click")return Zu(o)}function TI(i,o){if(i==="input"||i==="change")return Zu(o)}function SI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var er=typeof Object.is=="function"?Object.is:SI;function ll(i,o){if(er(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!er(i[p],o[p]))return!1}return!0}function wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ey(i,o){var l=wy(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wy(l)}}function xy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?xy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ty(){for(var i=window,o=di();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=di(i.document)}return o}function Cd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function II(i){var o=Ty(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&xy(l.ownerDocument.documentElement,l)){if(d!==null&&Cd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,_=Math.min(d.start,p);d=d.end===void 0?_:Math.min(d.end,p),!i.extend&&_>d&&(p=d,d=_,_=p),p=Ey(l,_);var T=Ey(l,d);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),_>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var PI=h&&"documentMode"in document&&11>=document.documentMode,Oo=null,Rd=null,ul=null,bd=!1;function Sy(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bd||Oo==null||Oo!==di(d)||(d=Oo,"selectionStart"in d&&Cd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ul&&ll(ul,d)||(ul=d,d=rc(Rd,"onSelect"),0<d.length&&(o=new Co("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Oo)))}function ec(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Mo={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},kd={},Iy={};h&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function tc(i){if(kd[i])return kd[i];if(!Mo[i])return i;var o=Mo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Iy)return kd[i]=o[l];return i}var Py=tc("animationend"),Ay=tc("animationiteration"),Cy=tc("animationstart"),Ry=tc("transitionend"),by=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(i,o){by.set(i,o),a(o,[i])}for(var Nd=0;Nd<ky.length;Nd++){var Dd=ky[Nd],AI=Dd.toLowerCase(),CI=Dd[0].toUpperCase()+Dd.slice(1);Ti(AI,"on"+CI)}Ti(Py,"onAnimationEnd"),Ti(Ay,"onAnimationIteration"),Ti(Cy,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Ry,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RI=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Ny(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,ku(d,o,void 0,i),i.currentTarget=null}function Dy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var T=d.length-1;0<=T;T--){var A=d[T],j=A.instance,q=A.currentTarget;if(A=A.listener,j!==_&&p.isPropagationStopped())break e;Ny(p,A,q),_=j}else for(T=0;T<d.length;T++){if(A=d[T],j=A.instance,q=A.currentTarget,A=A.listener,j!==_&&p.isPropagationStopped())break e;Ny(p,A,q),_=j}}}if(qn)throw i=Ga,qn=!1,Ga=null,i}function Ye(i,o){var l=o[Bd];l===void 0&&(l=o[Bd]=new Set);var d=i+"__bubble";l.has(d)||(Vy(o,i,2,!1),l.add(d))}function Vd(i,o,l){var d=0;o&&(d|=4),Vy(l,i,d,o)}var nc="_reactListening"+Math.random().toString(36).slice(2);function hl(i){if(!i[nc]){i[nc]=!0,r.forEach(function(l){l!=="selectionchange"&&(RI.has(l)||Vd(l,!1,i),Vd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[nc]||(o[nc]=!0,Vd("selectionchange",!1,o))}}function Vy(i,o,l,d){switch(tl(o)){case 1:var p=et;break;case 4:p=Sd;break;default:p=el}l=p.bind(null,o,l,i),p=void 0,!yo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function jd(i,o,l,d,p){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(T===4)for(T=d.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;T=T.return}for(;A!==null;){if(T=Cs(A),T===null)return;if(j=T.tag,j===5||j===6){d=_=T;continue e}A=A.parentNode}}d=d.return}Ka(function(){var q=_,ee=po(l),te=[];e:{var Z=by.get(i);if(Z!==void 0){var le=Co,he=i;switch(i){case"keypress":if(Ao(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":he="focus",le=No;break;case"focusout":he="blur",le=No;break;case"beforeblur":case"afterblur":le=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=K;break;case Py:case Ay:case Cy:le=Hr;break;case Ry:le=$e;break;case"scroll":le=Id;break;case"wheel":le=Oe;break;case"copy":case"cut":case"paste":le=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=I}var de=(o&4)!==0,pt=!de&&i==="scroll",z=de?Z!==null?Z+"Capture":null:Z;de=[];for(var O=q,$;O!==null;){$=O;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,z!==null&&(ie=ft(O,z),ie!=null&&de.push(dl(O,ie,$)))),pt)break;O=O.return}0<de.length&&(Z=new le(Z,he,null,l,ee),te.push({event:Z,listeners:de}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",Z&&l!==ms&&(he=l.relatedTarget||l.fromElement)&&(Cs(he)||he[Wr]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=q,he=he?Cs(he):null,he!==null&&(pt=Kn(he),he!==pt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=q),le!==he)){if(de=bo,ie="onMouseLeave",z="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(de=I,ie="onPointerLeave",z="onPointerEnter",O="pointer"),pt=le==null?Z:Uo(le),$=he==null?Z:Uo(he),Z=new de(ie,O+"leave",le,l,ee),Z.target=pt,Z.relatedTarget=$,ie=null,Cs(ee)===q&&(de=new de(z,O+"enter",he,l,ee),de.target=$,de.relatedTarget=pt,ie=de),pt=ie,le&&he)t:{for(de=le,z=he,O=0,$=de;$;$=Lo($))O++;for($=0,ie=z;ie;ie=Lo(ie))$++;for(;0<O-$;)de=Lo(de),O--;for(;0<$-O;)z=Lo(z),$--;for(;O--;){if(de===z||z!==null&&de===z.alternate)break t;de=Lo(de),z=Lo(z)}de=null}else de=null;le!==null&&jy(te,Z,le,de,!1),he!==null&&pt!==null&&jy(te,pt,he,de,!0)}}e:{if(Z=q?Uo(q):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var fe=_I;else if(py(Z))if(gy)fe=TI;else{fe=EI;var ge=wI}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(fe=xI);if(fe&&(fe=fe(i,q))){my(te,fe,l,ee);break e}ge&&ge(i,Z,q),i==="focusout"&&(ge=Z._wrapperState)&&ge.controlled&&Z.type==="number"&&co(Z,"number",Z.value)}switch(ge=q?Uo(q):window,i){case"focusin":(py(ge)||ge.contentEditable==="true")&&(Oo=ge,Rd=q,ul=null);break;case"focusout":ul=Rd=Oo=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Sy(te,l,ee);break;case"selectionchange":if(PI)break;case"keydown":case"keyup":Sy(te,l,ee)}var ye;if(vt)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else jo?dy(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(As&&l.locale!=="ko"&&(jo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&jo&&(ye=nl()):(xn=ee,Po="value"in xn?xn.value:xn.textContent,jo=!0)),ge=rc(q,Te),0<ge.length&&(Te=new sl(Te,i,null,l,ee),te.push({event:Te,listeners:ge}),ye?Te.data=ye:(ye=fy(l),ye!==null&&(Te.data=ye)))),(ye=Tn?mI(i,l):gI(i,l))&&(q=rc(q,"onBeforeInput"),0<q.length&&(ee=new sl("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:q}),ee.data=ye))}Dy(te,o)})}function dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function rc(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,_=p.stateNode;p.tag===5&&_!==null&&(p=_,_=ft(i,l),_!=null&&d.unshift(dl(i,_,p)),_=ft(i,o),_!=null&&d.push(dl(i,_,p))),i=i.return}return d}function Lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jy(i,o,l,d,p){for(var _=o._reactName,T=[];l!==null&&l!==d;){var A=l,j=A.alternate,q=A.stateNode;if(j!==null&&j===d)break;A.tag===5&&q!==null&&(A=q,p?(j=ft(l,_),j!=null&&T.unshift(dl(l,j,A))):p||(j=ft(l,_),j!=null&&T.push(dl(l,j,A)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var bI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function Oy(i){return(typeof i=="string"?i:""+i).replace(bI,`
`).replace(kI,"")}function ic(i,o,l){if(o=Oy(o),Oy(i)!==o&&l)throw Error(n(425))}function sc(){}var Od=null,Md=null;function Ld(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,NI=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(i){return My.resolve(null).then(i).catch(VI)}:Fd;function VI(i){setTimeout(function(){throw i})}function Ud(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),Jn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Jn(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ly(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),gr="__reactFiber$"+Fo,fl="__reactProps$"+Fo,Wr="__reactContainer$"+Fo,Bd="__reactEvents$"+Fo,jI="__reactListeners$"+Fo,OI="__reactHandles$"+Fo;function Cs(i){var o=i[gr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Wr]||l[gr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ly(i);i!==null;){if(l=i[gr])return l;i=Ly(i)}return o}i=l,l=i.parentNode}return null}function pl(i){return i=i[gr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Uo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function oc(i){return i[fl]||null}var zd=[],Bo=-1;function Ii(i){return{current:i}}function Je(i){0>Bo||(i.current=zd[Bo],zd[Bo]=null,Bo--)}function Qe(i,o){Bo++,zd[Bo]=i.current,i.current=o}var Pi={},Kt=Ii(Pi),hn=Ii(!1),Rs=Pi;function zo(i,o){var l=i.type.contextTypes;if(!l)return Pi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},_;for(_ in l)p[_]=o[_];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function dn(i){return i=i.childContextTypes,i!=null}function ac(){Je(hn),Je(Kt)}function Fy(i,o,l){if(Kt.current!==Pi)throw Error(n(168));Qe(Kt,o),Qe(hn,l)}function Uy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(n(108,Ue(i)||"Unknown",p));return ae({},l,d)}function lc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,Rs=Kt.current,Qe(Kt,i),Qe(hn,hn.current),!0}function By(i,o,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=Uy(i,o,Rs),d.__reactInternalMemoizedMergedChildContext=i,Je(hn),Je(Kt),Qe(Kt,i)):Je(hn),Qe(hn,l)}var qr=null,uc=!1,$d=!1;function zy(i){qr===null?qr=[i]:qr.push(i)}function MI(i){uc=!0,zy(i)}function Ai(){if(!$d&&qr!==null){$d=!0;var i=0,o=Ve;try{var l=qr;for(Ve=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}qr=null,uc=!1}catch(p){throw qr!==null&&(qr=qr.slice(i+1)),Eo(ws,Ai),p}finally{Ve=o,$d=!1}}return null}var $o=[],Ho=0,cc=null,hc=0,On=[],Mn=0,bs=null,Kr=1,Gr="";function ks(i,o){$o[Ho++]=hc,$o[Ho++]=cc,cc=i,hc=o}function $y(i,o,l){On[Mn++]=Kr,On[Mn++]=Gr,On[Mn++]=bs,bs=i;var d=Kr;i=Gr;var p=32-nn(d)-1;d&=~(1<<p),l+=1;var _=32-nn(o)+p;if(30<_){var T=p-p%5;_=(d&(1<<T)-1).toString(32),d>>=T,p-=T,Kr=1<<32-nn(o)+p|l<<p|d,Gr=_+i}else Kr=1<<_|l<<p|d,Gr=i}function Hd(i){i.return!==null&&(ks(i,1),$y(i,1,0))}function Wd(i){for(;i===cc;)cc=$o[--Ho],$o[Ho]=null,hc=$o[--Ho],$o[Ho]=null;for(;i===bs;)bs=On[--Mn],On[Mn]=null,Gr=On[--Mn],On[Mn]=null,Kr=On[--Mn],On[Mn]=null}var Sn=null,In=null,tt=!1,tr=null;function Hy(i,o){var l=Bn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Wy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Sn=i,In=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Sn=i,In=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=bs!==null?{id:Kr,overflow:Gr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Bn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Sn=i,In=null,!0):!1;default:return!1}}function qd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kd(i){if(tt){var o=In;if(o){var l=o;if(!Wy(i,o)){if(qd(i))throw Error(n(418));o=Si(l.nextSibling);var d=Sn;o&&Wy(i,o)?Hy(d,l):(i.flags=i.flags&-4097|2,tt=!1,Sn=i)}}else{if(qd(i))throw Error(n(418));i.flags=i.flags&-4097|2,tt=!1,Sn=i}}}function qy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Sn=i}function dc(i){if(i!==Sn)return!1;if(!tt)return qy(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ld(i.type,i.memoizedProps)),o&&(o=In)){if(qd(i))throw Ky(),Error(n(418));for(;o;)Hy(i,o),o=Si(o.nextSibling)}if(qy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){In=Si(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}In=null}}else In=Sn?Si(i.stateNode.nextSibling):null;return!0}function Ky(){for(var i=In;i;)i=Si(i.nextSibling)}function Wo(){In=Sn=null,tt=!1}function Gd(i){tr===null?tr=[i]:tr.push(i)}var LI=Q.ReactCurrentBatchConfig;function ml(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var p=d,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var A=p.refs;T===null?delete A[_]:A[_]=T},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function fc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Gy(i){var o=i._init;return o(i._payload)}function Qy(i){function o(z,O){if(i){var $=z.deletions;$===null?(z.deletions=[O],z.flags|=16):$.push(O)}}function l(z,O){if(!i)return null;for(;O!==null;)o(z,O),O=O.sibling;return null}function d(z,O){for(z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function p(z,O){return z=ji(z,O),z.index=0,z.sibling=null,z}function _(z,O,$){return z.index=$,i?($=z.alternate,$!==null?($=$.index,$<O?(z.flags|=2,O):$):(z.flags|=2,O)):(z.flags|=1048576,O)}function T(z){return i&&z.alternate===null&&(z.flags|=2),z}function A(z,O,$,ie){return O===null||O.tag!==6?(O=Uf($,z.mode,ie),O.return=z,O):(O=p(O,$),O.return=z,O)}function j(z,O,$,ie){var fe=$.type;return fe===N?ee(z,O,$.props.children,ie,$.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Lt&&Gy(fe)===O.type)?(ie=p(O,$.props),ie.ref=ml(z,O,$),ie.return=z,ie):(ie=Mc($.type,$.key,$.props,null,z.mode,ie),ie.ref=ml(z,O,$),ie.return=z,ie)}function q(z,O,$,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==$.containerInfo||O.stateNode.implementation!==$.implementation?(O=Bf($,z.mode,ie),O.return=z,O):(O=p(O,$.children||[]),O.return=z,O)}function ee(z,O,$,ie,fe){return O===null||O.tag!==7?(O=Fs($,z.mode,ie,fe),O.return=z,O):(O=p(O,$),O.return=z,O)}function te(z,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Uf(""+O,z.mode,$),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case J:return $=Mc(O.type,O.key,O.props,null,z.mode,$),$.ref=ml(z,null,O),$.return=z,$;case re:return O=Bf(O,z.mode,$),O.return=z,O;case Lt:var ie=O._init;return te(z,ie(O._payload),$)}if(Or(O)||pe(O))return O=Fs(O,z.mode,$,null),O.return=z,O;fc(z,O)}return null}function Z(z,O,$,ie){var fe=O!==null?O.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return fe!==null?null:A(z,O,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return $.key===fe?j(z,O,$,ie):null;case re:return $.key===fe?q(z,O,$,ie):null;case Lt:return fe=$._init,Z(z,O,fe($._payload),ie)}if(Or($)||pe($))return fe!==null?null:ee(z,O,$,ie,null);fc(z,$)}return null}function le(z,O,$,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get($)||null,A(O,z,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return z=z.get(ie.key===null?$:ie.key)||null,j(O,z,ie,fe);case re:return z=z.get(ie.key===null?$:ie.key)||null,q(O,z,ie,fe);case Lt:var ge=ie._init;return le(z,O,$,ge(ie._payload),fe)}if(Or(ie)||pe(ie))return z=z.get($)||null,ee(O,z,ie,fe,null);fc(O,ie)}return null}function he(z,O,$,ie){for(var fe=null,ge=null,ye=O,Te=O=0,jt=null;ye!==null&&Te<$.length;Te++){ye.index>Te?(jt=ye,ye=null):jt=ye.sibling;var Fe=Z(z,ye,$[Te],ie);if(Fe===null){ye===null&&(ye=jt);break}i&&ye&&Fe.alternate===null&&o(z,ye),O=_(Fe,O,Te),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe,ye=jt}if(Te===$.length)return l(z,ye),tt&&ks(z,Te),fe;if(ye===null){for(;Te<$.length;Te++)ye=te(z,$[Te],ie),ye!==null&&(O=_(ye,O,Te),ge===null?fe=ye:ge.sibling=ye,ge=ye);return tt&&ks(z,Te),fe}for(ye=d(z,ye);Te<$.length;Te++)jt=le(ye,z,Te,$[Te],ie),jt!==null&&(i&&jt.alternate!==null&&ye.delete(jt.key===null?Te:jt.key),O=_(jt,O,Te),ge===null?fe=jt:ge.sibling=jt,ge=jt);return i&&ye.forEach(function(Oi){return o(z,Oi)}),tt&&ks(z,Te),fe}function de(z,O,$,ie){var fe=pe($);if(typeof fe!="function")throw Error(n(150));if($=fe.call($),$==null)throw Error(n(151));for(var ge=fe=null,ye=O,Te=O=0,jt=null,Fe=$.next();ye!==null&&!Fe.done;Te++,Fe=$.next()){ye.index>Te?(jt=ye,ye=null):jt=ye.sibling;var Oi=Z(z,ye,Fe.value,ie);if(Oi===null){ye===null&&(ye=jt);break}i&&ye&&Oi.alternate===null&&o(z,ye),O=_(Oi,O,Te),ge===null?fe=Oi:ge.sibling=Oi,ge=Oi,ye=jt}if(Fe.done)return l(z,ye),tt&&ks(z,Te),fe;if(ye===null){for(;!Fe.done;Te++,Fe=$.next())Fe=te(z,Fe.value,ie),Fe!==null&&(O=_(Fe,O,Te),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return tt&&ks(z,Te),fe}for(ye=d(z,ye);!Fe.done;Te++,Fe=$.next())Fe=le(ye,z,Te,Fe.value,ie),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),O=_(Fe,O,Te),ge===null?fe=Fe:ge.sibling=Fe,ge=Fe);return i&&ye.forEach(function(y2){return o(z,y2)}),tt&&ks(z,Te),fe}function pt(z,O,$,ie){if(typeof $=="object"&&$!==null&&$.type===N&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case J:e:{for(var fe=$.key,ge=O;ge!==null;){if(ge.key===fe){if(fe=$.type,fe===N){if(ge.tag===7){l(z,ge.sibling),O=p(ge,$.props.children),O.return=z,z=O;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Lt&&Gy(fe)===ge.type){l(z,ge.sibling),O=p(ge,$.props),O.ref=ml(z,ge,$),O.return=z,z=O;break e}l(z,ge);break}else o(z,ge);ge=ge.sibling}$.type===N?(O=Fs($.props.children,z.mode,ie,$.key),O.return=z,z=O):(ie=Mc($.type,$.key,$.props,null,z.mode,ie),ie.ref=ml(z,O,$),ie.return=z,z=ie)}return T(z);case re:e:{for(ge=$.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===$.containerInfo&&O.stateNode.implementation===$.implementation){l(z,O.sibling),O=p(O,$.children||[]),O.return=z,z=O;break e}else{l(z,O);break}else o(z,O);O=O.sibling}O=Bf($,z.mode,ie),O.return=z,z=O}return T(z);case Lt:return ge=$._init,pt(z,O,ge($._payload),ie)}if(Or($))return he(z,O,$,ie);if(pe($))return de(z,O,$,ie);fc(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,O!==null&&O.tag===6?(l(z,O.sibling),O=p(O,$),O.return=z,z=O):(l(z,O),O=Uf($,z.mode,ie),O.return=z,z=O),T(z)):l(z,O)}return pt}var qo=Qy(!0),Xy=Qy(!1),pc=Ii(null),mc=null,Ko=null,Qd=null;function Xd(){Qd=Ko=mc=null}function Yd(i){var o=pc.current;Je(pc),i._currentValue=o}function Jd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Go(i,o){mc=i,Qd=Ko=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(fn=!0),i.firstContext=null)}function Ln(i){var o=i._currentValue;if(Qd!==i)if(i={context:i,memoizedValue:o,next:null},Ko===null){if(mc===null)throw Error(n(308));Ko=i,mc.dependencies={lanes:0,firstContext:i}}else Ko=Ko.next=i;return o}var Ns=null;function Zd(i){Ns===null?Ns=[i]:Ns.push(i)}function Yy(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,Zd(o)):(l.next=p.next,p.next=l),o.interleaved=l,Qr(i,d)}function Qr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ci=!1;function ef(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Qr(i,l)}return p=d.interleaved,p===null?(o.next=o,Zd(d)):(o.next=p.next,p.next=o),d.interleaved=o,Qr(i,l)}function gc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,vi(i,l)}}function Zy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?p=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?p=_=o:_=_.next=o}else p=_=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function yc(i,o,l,d){var p=i.updateQueue;Ci=!1;var _=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var j=A,q=j.next;j.next=null,T===null?_=q:T.next=q,T=j;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==T&&(A===null?ee.firstBaseUpdate=q:A.next=q,ee.lastBaseUpdate=j))}if(_!==null){var te=p.baseState;T=0,ee=q=j=null,A=_;do{var Z=A.lane,le=A.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=i,de=A;switch(Z=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(le,te,Z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Z=typeof he=="function"?he.call(le,te,Z):he,Z==null)break e;te=ae({},te,Z);break e;case 2:Ci=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,Z=p.effects,Z===null?p.effects=[A]:Z.push(A))}else le={eventTime:le,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(q=ee=le,j=te):ee=ee.next=le,T|=Z;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(j=te),p.baseState=j,p.firstBaseUpdate=q,p.lastBaseUpdate=ee,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else _===null&&(p.shared.lanes=0);js|=T,i.lanes=T,i.memoizedState=te}}function ev(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var gl={},yr=Ii(gl),yl=Ii(gl),vl=Ii(gl);function Ds(i){if(i===gl)throw Error(n(174));return i}function tf(i,o){switch(Qe(vl,o),Qe(yl,i),Qe(yr,gl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:St(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=St(o,i)}Je(yr),Qe(yr,o)}function Qo(){Je(yr),Je(yl),Je(vl)}function tv(i){Ds(vl.current);var o=Ds(yr.current),l=St(o,i.type);o!==l&&(Qe(yl,i),Qe(yr,l))}function nf(i){yl.current===i&&(Je(yr),Je(yl))}var rt=Ii(0);function vc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var rf=[];function sf(){for(var i=0;i<rf.length;i++)rf[i]._workInProgressVersionPrimary=null;rf.length=0}var _c=Q.ReactCurrentDispatcher,of=Q.ReactCurrentBatchConfig,Vs=0,it=null,Pt=null,Dt=null,wc=!1,_l=!1,wl=0,FI=0;function Gt(){throw Error(n(321))}function af(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!er(i[l],o[l]))return!1;return!0}function lf(i,o,l,d,p,_){if(Vs=_,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_c.current=i===null||i.memoizedState===null?$I:HI,i=l(d,p),_l){_=0;do{if(_l=!1,wl=0,25<=_)throw Error(n(301));_+=1,Dt=Pt=null,o.updateQueue=null,_c.current=WI,i=l(d,p)}while(_l)}if(_c.current=Tc,o=Pt!==null&&Pt.next!==null,Vs=0,Dt=Pt=it=null,wc=!1,o)throw Error(n(300));return i}function uf(){var i=wl!==0;return wl=0,i}function vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?it.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Fn(){if(Pt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Dt===null?it.memoizedState:Dt.next;if(o!==null)Dt=o,Pt=i;else{if(i===null)throw Error(n(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?it.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function El(i,o){return typeof o=="function"?o(i):o}function cf(i){var o=Fn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=Pt,p=d.baseQueue,_=l.pending;if(_!==null){if(p!==null){var T=p.next;p.next=_.next,_.next=T}d.baseQueue=p=_,l.pending=null}if(p!==null){_=p.next,d=d.baseState;var A=T=null,j=null,q=_;do{var ee=q.lane;if((Vs&ee)===ee)j!==null&&(j=j.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:i(d,q.action);else{var te={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};j===null?(A=j=te,T=d):j=j.next=te,it.lanes|=ee,js|=ee}q=q.next}while(q!==null&&q!==_);j===null?T=d:j.next=A,er(d,o.memoizedState)||(fn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=j,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do _=p.lane,it.lanes|=_,js|=_,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function hf(i){var o=Fn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,_=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do _=i(_,T.action),T=T.next;while(T!==p);er(_,o.memoizedState)||(fn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,d]}function nv(){}function rv(i,o){var l=it,d=Fn(),p=o(),_=!er(d.memoizedState,p);if(_&&(d.memoizedState=p,fn=!0),d=d.queue,df(ov.bind(null,l,d,i),[i]),d.getSnapshot!==o||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,xl(9,sv.bind(null,l,d,p,o),void 0,null),Vt===null)throw Error(n(349));(Vs&30)!==0||iv(l,o,p)}return p}function iv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function sv(i,o,l,d){o.value=l,o.getSnapshot=d,av(o)&&lv(i)}function ov(i,o,l){return l(function(){av(o)&&lv(i)})}function av(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!er(i,l)}catch{return!0}}function lv(i){var o=Qr(i,1);o!==null&&sr(o,i,1,-1)}function uv(i){var o=vr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:i},o.queue=i,i=i.dispatch=zI.bind(null,it,i),[o.memoizedState,i]}function xl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function cv(){return Fn().memoizedState}function Ec(i,o,l,d){var p=vr();it.flags|=i,p.memoizedState=xl(1|o,l,void 0,d===void 0?null:d)}function xc(i,o,l,d){var p=Fn();d=d===void 0?null:d;var _=void 0;if(Pt!==null){var T=Pt.memoizedState;if(_=T.destroy,d!==null&&af(d,T.deps)){p.memoizedState=xl(o,l,_,d);return}}it.flags|=i,p.memoizedState=xl(1|o,l,_,d)}function hv(i,o){return Ec(8390656,8,i,o)}function df(i,o){return xc(2048,8,i,o)}function dv(i,o){return xc(4,2,i,o)}function fv(i,o){return xc(4,4,i,o)}function pv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function mv(i,o,l){return l=l!=null?l.concat([i]):null,xc(4,4,pv.bind(null,o,i),l)}function ff(){}function gv(i,o){var l=Fn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&af(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function yv(i,o){var l=Fn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&af(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function vv(i,o,l){return(Vs&21)===0?(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=l):(er(l,o)||(l=Ts(),it.lanes|=l,js|=l,i.baseState=!0),o)}function UI(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var d=of.transition;of.transition={};try{i(!1),o()}finally{Ve=l,of.transition=d}}function _v(){return Fn().memoizedState}function BI(i,o,l){var d=Di(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wv(i))Ev(o,l);else if(l=Yy(i,o,l,d),l!==null){var p=on();sr(l,i,d,p),xv(l,o,d)}}function zI(i,o,l){var d=Di(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wv(i))Ev(o,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,A=_(T,l);if(p.hasEagerState=!0,p.eagerState=A,er(A,T)){var j=o.interleaved;j===null?(p.next=p,Zd(o)):(p.next=j.next,j.next=p),o.interleaved=p;return}}catch{}finally{}l=Yy(i,o,p,d),l!==null&&(p=on(),sr(l,i,d,p),xv(l,o,d))}}function wv(i){var o=i.alternate;return i===it||o!==null&&o===it}function Ev(i,o){_l=wc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function xv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,vi(i,l)}}var Tc={readContext:Ln,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},$I={readContext:Ln,useCallback:function(i,o){return vr().memoizedState=[i,o===void 0?null:o],i},useContext:Ln,useEffect:hv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Ec(4194308,4,pv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Ec(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ec(4,2,i,o)},useMemo:function(i,o){var l=vr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=vr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=BI.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var o=vr();return i={current:i},o.memoizedState=i},useState:uv,useDebugValue:ff,useDeferredValue:function(i){return vr().memoizedState=i},useTransition:function(){var i=uv(!1),o=i[0];return i=UI.bind(null,i[1]),vr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=it,p=vr();if(tt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Vt===null)throw Error(n(349));(Vs&30)!==0||iv(d,o,l)}p.memoizedState=l;var _={value:l,getSnapshot:o};return p.queue=_,hv(ov.bind(null,d,_,i),[i]),d.flags|=2048,xl(9,sv.bind(null,d,_,l,o),void 0,null),l},useId:function(){var i=vr(),o=Vt.identifierPrefix;if(tt){var l=Gr,d=Kr;l=(d&~(1<<32-nn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=wl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=FI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},HI={readContext:Ln,useCallback:gv,useContext:Ln,useEffect:df,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:yv,useReducer:cf,useRef:cv,useState:function(){return cf(El)},useDebugValue:ff,useDeferredValue:function(i){var o=Fn();return vv(o,Pt.memoizedState,i)},useTransition:function(){var i=cf(El)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:nv,useSyncExternalStore:rv,useId:_v,unstable_isNewReconciler:!1},WI={readContext:Ln,useCallback:gv,useContext:Ln,useEffect:df,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:yv,useReducer:hf,useRef:cv,useState:function(){return hf(El)},useDebugValue:ff,useDeferredValue:function(i){var o=Fn();return Pt===null?o.memoizedState=i:vv(o,Pt.memoizedState,i)},useTransition:function(){var i=hf(El)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:nv,useSyncExternalStore:rv,useId:_v,unstable_isNewReconciler:!1};function nr(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function pf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Sc={isMounted:function(i){return(i=i._reactInternals)?Kn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=on(),p=Di(i),_=Xr(d,p);_.payload=o,l!=null&&(_.callback=l),o=Ri(i,_,p),o!==null&&(sr(o,i,p,d),gc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=on(),p=Di(i),_=Xr(d,p);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=Ri(i,_,p),o!==null&&(sr(o,i,p,d),gc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=on(),d=Di(i),p=Xr(l,d);p.tag=2,o!=null&&(p.callback=o),o=Ri(i,p,d),o!==null&&(sr(o,i,d,l),gc(o,i,d))}};function Tv(i,o,l,d,p,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,_,T):o.prototype&&o.prototype.isPureReactComponent?!ll(l,d)||!ll(p,_):!0}function Sv(i,o,l){var d=!1,p=Pi,_=o.contextType;return typeof _=="object"&&_!==null?_=Ln(_):(p=dn(o)?Rs:Kt.current,d=o.contextTypes,_=(d=d!=null)?zo(i,p):Pi),o=new o(l,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=_),o}function Iv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Sc.enqueueReplaceState(o,o.state,null)}function mf(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},ef(i);var _=o.contextType;typeof _=="object"&&_!==null?p.context=Ln(_):(_=dn(o)?Rs:Kt.current,p.context=zo(i,_)),p.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(pf(i,o,_,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Sc.enqueueReplaceState(p,p.state,null),yc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Xo(i,o){try{var l="",d=o;do l+=Re(d),d=d.return;while(d);var p=l}catch(_){p=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:p,digest:null}}function gf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function yf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function Pv(i,o,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){kc||(kc=!0,Nf=d),yf(i,o)},l}function Av(i,o,l){l=Xr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){yf(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){yf(i,o),typeof d!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Cv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new qI;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=o2.bind(null,i,o,l),o.then(i,i))}function Rv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function bv(i,o,l,d,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Xr(-1,1),o.tag=2,Ri(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var KI=Q.ReactCurrentOwner,fn=!1;function sn(i,o,l,d){o.child=i===null?Xy(o,null,l,d):qo(o,i.child,l,d)}function kv(i,o,l,d,p){l=l.render;var _=o.ref;return Go(o,p),d=lf(i,o,l,d,_,p),l=uf(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Yr(i,o,p)):(tt&&l&&Hd(o),o.flags|=1,sn(i,o,d,p),o.child)}function Nv(i,o,l,d,p){if(i===null){var _=l.type;return typeof _=="function"&&!Ff(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=_,Dv(i,o,_,d,p)):(i=Mc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&p)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(T,d)&&i.ref===o.ref)return Yr(i,o,p)}return o.flags|=1,i=ji(_,d),i.ref=o.ref,i.return=o,o.child=i}function Dv(i,o,l,d,p){if(i!==null){var _=i.memoizedProps;if(ll(_,d)&&i.ref===o.ref)if(fn=!1,o.pendingProps=d=_,(i.lanes&p)!==0)(i.flags&131072)!==0&&(fn=!0);else return o.lanes=i.lanes,Yr(i,o,p)}return vf(i,o,l,d,p)}function Vv(i,o,l){var d=o.pendingProps,p=d.children,_=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Jo,Pn),Pn|=l;else{if((l&1073741824)===0)return i=_!==null?_.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Qe(Jo,Pn),Pn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:l,Qe(Jo,Pn),Pn|=d}else _!==null?(d=_.baseLanes|l,o.memoizedState=null):d=l,Qe(Jo,Pn),Pn|=d;return sn(i,o,p,l),o.child}function jv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function vf(i,o,l,d,p){var _=dn(l)?Rs:Kt.current;return _=zo(o,_),Go(o,p),l=lf(i,o,l,d,_,p),d=uf(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Yr(i,o,p)):(tt&&d&&Hd(o),o.flags|=1,sn(i,o,l,p),o.child)}function Ov(i,o,l,d,p){if(dn(l)){var _=!0;lc(o)}else _=!1;if(Go(o,p),o.stateNode===null)Pc(i,o),Sv(o,l,d),mf(o,l,d,p),d=!0;else if(i===null){var T=o.stateNode,A=o.memoizedProps;T.props=A;var j=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=Ln(q):(q=dn(l)?Rs:Kt.current,q=zo(o,q));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==d||j!==q)&&Iv(o,T,d,q),Ci=!1;var Z=o.memoizedState;T.state=Z,yc(o,d,T,p),j=o.memoizedState,A!==d||Z!==j||hn.current||Ci?(typeof ee=="function"&&(pf(o,l,ee,d),j=o.memoizedState),(A=Ci||Tv(o,l,A,d,Z,j,q))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=j),T.props=d,T.state=j,T.context=q,d=A):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Jy(i,o),A=o.memoizedProps,q=o.type===o.elementType?A:nr(o.type,A),T.props=q,te=o.pendingProps,Z=T.context,j=l.contextType,typeof j=="object"&&j!==null?j=Ln(j):(j=dn(l)?Rs:Kt.current,j=zo(o,j));var le=l.getDerivedStateFromProps;(ee=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==te||Z!==j)&&Iv(o,T,d,j),Ci=!1,Z=o.memoizedState,T.state=Z,yc(o,d,T,p);var he=o.memoizedState;A!==te||Z!==he||hn.current||Ci?(typeof le=="function"&&(pf(o,l,le,d),he=o.memoizedState),(q=Ci||Tv(o,l,q,d,Z,he,j)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,j)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),T.props=d,T.state=he,T.context=j,d=q):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),d=!1)}return _f(i,o,l,d,_,p)}function _f(i,o,l,d,p,_){jv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return p&&By(o,l,!1),Yr(i,o,_);d=o.stateNode,KI.current=o;var A=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=qo(o,i.child,null,_),o.child=qo(o,null,A,_)):sn(i,o,A,_),o.memoizedState=d.state,p&&By(o,l,!0),o.child}function Mv(i){var o=i.stateNode;o.pendingContext?Fy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fy(i,o.context,!1),tf(i,o.containerInfo)}function Lv(i,o,l,d,p){return Wo(),Gd(p),o.flags|=256,sn(i,o,l,d),o.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fv(i,o,l){var d=o.pendingProps,p=rt.current,_=!1,T=(o.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Qe(rt,p&1),i===null)return Kd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,_?(d=o.mode,_=o.child,T={mode:"hidden",children:T},(d&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Lc(T,d,0,null),i=Fs(i,d,l,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=Ef(l),o.memoizedState=wf,i):xf(o,T));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return GI(i,o,T,d,A,p,l);if(_){_=d.fallback,T=o.mode,p=i.child,A=p.sibling;var j={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=j,o.deletions=null):(d=ji(p,j),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?_=ji(A,_):(_=Fs(_,T,l,null),_.flags|=2),_.return=o,d.return=o,d.sibling=_,o.child=d,d=_,_=o.child,T=i.child.memoizedState,T=T===null?Ef(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~l,o.memoizedState=wf,d}return _=i.child,i=_.sibling,d=ji(_,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function xf(i,o){return o=Lc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ic(i,o,l,d){return d!==null&&Gd(d),qo(o,i.child,null,l),i=xf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function GI(i,o,l,d,p,_,T){if(l)return o.flags&256?(o.flags&=-257,d=gf(Error(n(422))),Ic(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=d.fallback,p=o.mode,d=Lc({mode:"visible",children:d.children},p,0,null),_=Fs(_,p,T,null),_.flags|=2,d.return=o,_.return=o,d.sibling=_,o.child=d,(o.mode&1)!==0&&qo(o,i.child,null,T),o.child.memoizedState=Ef(T),o.memoizedState=wf,_);if((o.mode&1)===0)return Ic(i,o,T,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,_=Error(n(419)),d=gf(_,d,void 0),Ic(i,o,T,d)}if(A=(T&i.childLanes)!==0,fn||A){if(d=Vt,d!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|T))!==0?0:p,p!==0&&p!==_.retryLane&&(_.retryLane=p,Qr(i,p),sr(d,i,p,-1))}return Lf(),d=gf(Error(n(421))),Ic(i,o,T,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=a2.bind(null,i),p._reactRetry=o,null):(i=_.treeContext,In=Si(p.nextSibling),Sn=o,tt=!0,tr=null,i!==null&&(On[Mn++]=Kr,On[Mn++]=Gr,On[Mn++]=bs,Kr=i.id,Gr=i.overflow,bs=o),o=xf(o,d.children),o.flags|=4096,o)}function Uv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Jd(i.return,o,l)}function Tf(i,o,l,d,p){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=p)}function Bv(i,o,l){var d=o.pendingProps,p=d.revealOrder,_=d.tail;if(sn(i,o,d.children,l),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Uv(i,l,o);else if(i.tag===19)Uv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Qe(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&vc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Tf(o,!1,p,l,_);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&vc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Tf(o,!0,l,null,_);break;case"together":Tf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=ji(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ji(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function QI(i,o,l){switch(o.tag){case 3:Mv(o),Wo();break;case 5:tv(o);break;case 1:dn(o.type)&&lc(o);break;case 4:tf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Qe(pc,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Fv(i,o,l):(Qe(rt,rt.current&1),i=Yr(i,o,l),i!==null?i.sibling:null);Qe(rt,rt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Bv(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Qe(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Vv(i,o,l)}return Yr(i,o,l)}var zv,Sf,$v,Hv;zv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sf=function(){},$v=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,Ds(yr.current);var _=null;switch(l){case"input":p=ds(i,p),d=ds(i,d),_=[];break;case"select":p=ae({},p,{value:void 0}),d=ae({},d,{value:void 0}),_=[];break;case"textarea":p=Ma(i,p),d=Ma(i,d),_=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=sc)}$a(l,d);var T;l=null;for(q in p)if(!d.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var A=p[q];for(T in A)A.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in d){var j=d[q];if(A=p!=null?p[q]:void 0,d.hasOwnProperty(q)&&j!==A&&(j!=null||A!=null))if(q==="style")if(A){for(T in A)!A.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in j)j.hasOwnProperty(T)&&A[T]!==j[T]&&(l||(l={}),l[T]=j[T])}else l||(_||(_=[]),_.push(q,l)),l=j;else q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,A=A?A.__html:void 0,j!=null&&A!==j&&(_=_||[]).push(q,j)):q==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(q,""+j):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(j!=null&&q==="onScroll"&&Ye("scroll",i),_||A===j||(_=[])):(_=_||[]).push(q,j))}l&&(_=_||[]).push("style",l);var q=_;(o.updateQueue=q)&&(o.flags|=4)}},Hv=function(i,o,l,d){l!==d&&(o.flags|=4)};function Tl(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function XI(i,o,l){var d=o.pendingProps;switch(Wd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return dn(o.type)&&ac(),Qt(o),null;case 3:return d=o.stateNode,Qo(),Je(hn),Je(Kt),sf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(dc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tr!==null&&(jf(tr),tr=null))),Sf(i,o),Qt(o),null;case 5:nf(o);var p=Ds(vl.current);if(l=o.type,i!==null&&o.stateNode!=null)$v(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Qt(o),null}if(i=Ds(yr.current),dc(o)){d=o.stateNode,l=o.type;var _=o.memoizedProps;switch(d[gr]=o,d[fl]=_,i=(o.mode&1)!==0,l){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(p=0;p<cl.length;p++)Ye(cl[p],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":uo(d,_),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},Ye("invalid",d);break;case"textarea":ho(d,_),Ye("invalid",d)}$a(l,_),p=null;for(var T in _)if(_.hasOwnProperty(T)){var A=_[T];T==="children"?typeof A=="string"?d.textContent!==A&&(_.suppressHydrationWarning!==!0&&ic(d.textContent,A,i),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(_.suppressHydrationWarning!==!0&&ic(d.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(T)&&A!=null&&T==="onScroll"&&Ye("scroll",d)}switch(l){case"input":jr(d),bu(d,_,!0);break;case"textarea":jr(d),La(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=sc)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[gr]=o,i[fl]=d,zv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ha(l,d),l){case"dialog":Ye("cancel",i),Ye("close",i),p=d;break;case"iframe":case"object":case"embed":Ye("load",i),p=d;break;case"video":case"audio":for(p=0;p<cl.length;p++)Ye(cl[p],i);p=d;break;case"source":Ye("error",i),p=d;break;case"img":case"image":case"link":Ye("error",i),Ye("load",i),p=d;break;case"details":Ye("toggle",i),p=d;break;case"input":uo(i,d),p=ds(i,d),Ye("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=ae({},d,{value:void 0}),Ye("invalid",i);break;case"textarea":ho(i,d),p=Ma(i,d),Ye("invalid",i);break;default:p=d}$a(l,p),A=p;for(_ in A)if(A.hasOwnProperty(_)){var j=A[_];_==="style"?Ba(i,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Fa(i,j)):_==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&fi(i,j):typeof j=="number"&&fi(i,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?j!=null&&_==="onScroll"&&Ye("scroll",i):j!=null&&W(i,_,j,T))}switch(l){case"input":jr(i),bu(i,d,!1);break;case"textarea":jr(i),La(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Be(d.value));break;case"select":i.multiple=!!d.multiple,_=d.value,_!=null?Mr(i,!!d.multiple,_,!1):d.defaultValue!=null&&Mr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=sc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(i&&o.stateNode!=null)Hv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(l=Ds(vl.current),Ds(yr.current),dc(o)){if(d=o.stateNode,l=o.memoizedProps,d[gr]=o,(_=d.nodeValue!==l)&&(i=Sn,i!==null))switch(i.tag){case 3:ic(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ic(d.nodeValue,l,(i.mode&1)!==0)}_&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[gr]=o,o.stateNode=d}return Qt(o),null;case 13:if(Je(rt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&In!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ky(),Wo(),o.flags|=98560,_=!1;else if(_=dc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[gr]=o}else Wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),_=!1}else tr!==null&&(jf(tr),tr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(rt.current&1)!==0?At===0&&(At=3):Lf())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return Qo(),Sf(i,o),i===null&&hl(o.stateNode.containerInfo),Qt(o),null;case 10:return Yd(o.type._context),Qt(o),null;case 17:return dn(o.type)&&ac(),Qt(o),null;case 19:if(Je(rt),_=o.memoizedState,_===null)return Qt(o),null;if(d=(o.flags&128)!==0,T=_.rendering,T===null)if(d)Tl(_,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=vc(i),T!==null){for(o.flags|=128,Tl(_,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)_=l,i=d,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Qe(rt,rt.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ge()>Zo&&(o.flags|=128,d=!0,Tl(_,!1),o.lanes=4194304)}else{if(!d)if(i=vc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Tl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!tt)return Qt(o),null}else 2*Ge()-_.renderingStartTime>Zo&&l!==1073741824&&(o.flags|=128,d=!0,Tl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(l=_.last,l!==null?l.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ge(),o.sibling=null,l=rt.current,Qe(rt,d?l&1|2:l&1),o):(Qt(o),null);case 22:case 23:return Mf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function YI(i,o){switch(Wd(o),o.tag){case 1:return dn(o.type)&&ac(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qo(),Je(hn),Je(Kt),sf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return nf(o),null;case 13:if(Je(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Wo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(rt),null;case 4:return Qo(),null;case 10:return Yd(o.type._context),null;case 22:case 23:return Mf(),null;case 24:return null;default:return null}}var Ac=!1,Xt=!1,JI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Yo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){lt(i,o,d)}else l.current=null}function If(i,o,l){try{l()}catch(d){lt(i,o,d)}}var Wv=!1;function ZI(i,o){if(Od=Ei,i=Ty(),Cd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,A=-1,j=-1,q=0,ee=0,te=i,Z=null;t:for(;;){for(var le;te!==l||p!==0&&te.nodeType!==3||(A=T+p),te!==_||d!==0&&te.nodeType!==3||(j=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(le=te.firstChild)!==null;)Z=te,te=le;for(;;){if(te===i)break t;if(Z===l&&++q===p&&(A=T),Z===_&&++ee===d&&(j=T),(le=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=le}l=A===-1||j===-1?null:{start:A,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:i,selectionRange:l},Ei=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,pt=he.memoizedState,z=o.stateNode,O=z.getSnapshotBeforeUpdate(o.elementType===o.type?de:nr(o.type,de),pt);z.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=Wv,Wv=!1,he}function Sl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var _=p.destroy;p.destroy=void 0,_!==void 0&&If(o,l,_)}p=p.next}while(p!==d)}}function Cc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Pf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function qv(i){var o=i.alternate;o!==null&&(i.alternate=null,qv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[gr],delete o[fl],delete o[Bd],delete o[jI],delete o[OI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Kv(i){return i.tag===5||i.tag===3||i.tag===4}function Gv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Af(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=sc));else if(d!==4&&(i=i.child,i!==null))for(Af(i,o,l),i=i.sibling;i!==null;)Af(i,o,l),i=i.sibling}function Cf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Cf(i,o,l),i=i.sibling;i!==null;)Cf(i,o,l),i=i.sibling}var Bt=null,rr=!1;function bi(i,o,l){for(l=l.child;l!==null;)Qv(i,o,l),l=l.sibling}function Qv(i,o,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Es,l)}catch{}switch(l.tag){case 5:Xt||Yo(l,o);case 6:var d=Bt,p=rr;Bt=null,bi(i,o,l),Bt=d,rr=p,Bt!==null&&(rr?(i=Bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Bt.removeChild(l.stateNode));break;case 18:Bt!==null&&(rr?(i=Bt,l=l.stateNode,i.nodeType===8?Ud(i.parentNode,l):i.nodeType===1&&Ud(i,l),Jn(i)):Ud(Bt,l.stateNode));break;case 4:d=Bt,p=rr,Bt=l.stateNode.containerInfo,rr=!0,bi(i,o,l),Bt=d,rr=p;break;case 0:case 11:case 14:case 15:if(!Xt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var _=p,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&If(l,o,T),p=p.next}while(p!==d)}bi(i,o,l);break;case 1:if(!Xt&&(Yo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){lt(l,o,A)}bi(i,o,l);break;case 21:bi(i,o,l);break;case 22:l.mode&1?(Xt=(d=Xt)||l.memoizedState!==null,bi(i,o,l),Xt=d):bi(i,o,l);break;default:bi(i,o,l)}}function Xv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new JI),o.forEach(function(d){var p=l2.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function ir(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var _=i,T=o,A=T;e:for(;A!==null;){switch(A.tag){case 5:Bt=A.stateNode,rr=!1;break e;case 3:Bt=A.stateNode.containerInfo,rr=!0;break e;case 4:Bt=A.stateNode.containerInfo,rr=!0;break e}A=A.return}if(Bt===null)throw Error(n(160));Qv(_,T,p),Bt=null,rr=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(q){lt(p,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Yv(o,i),o=o.sibling}function Yv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ir(o,i),_r(i),d&4){try{Sl(3,i,i.return),Cc(3,i)}catch(de){lt(i,i.return,de)}try{Sl(5,i,i.return)}catch(de){lt(i,i.return,de)}}break;case 1:ir(o,i),_r(i),d&512&&l!==null&&Yo(l,l.return);break;case 5:if(ir(o,i),_r(i),d&512&&l!==null&&Yo(l,l.return),i.flags&32){var p=i.stateNode;try{fi(p,"")}catch(de){lt(i,i.return,de)}}if(d&4&&(p=i.stateNode,p!=null)){var _=i.memoizedProps,T=l!==null?l.memoizedProps:_,A=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{A==="input"&&_.type==="radio"&&_.name!=null&&ja(p,_),Ha(A,T);var q=Ha(A,_);for(T=0;T<j.length;T+=2){var ee=j[T],te=j[T+1];ee==="style"?Ba(p,te):ee==="dangerouslySetInnerHTML"?Fa(p,te):ee==="children"?fi(p,te):W(p,ee,te,q)}switch(A){case"input":Oa(p,_);break;case"textarea":fo(p,_);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!_.multiple;var le=_.value;le!=null?Mr(p,!!_.multiple,le,!1):Z!==!!_.multiple&&(_.defaultValue!=null?Mr(p,!!_.multiple,_.defaultValue,!0):Mr(p,!!_.multiple,_.multiple?[]:"",!1))}p[fl]=_}catch(de){lt(i,i.return,de)}}break;case 6:if(ir(o,i),_r(i),d&4){if(i.stateNode===null)throw Error(n(162));p=i.stateNode,_=i.memoizedProps;try{p.nodeValue=_}catch(de){lt(i,i.return,de)}}break;case 3:if(ir(o,i),_r(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Jn(o.containerInfo)}catch(de){lt(i,i.return,de)}break;case 4:ir(o,i),_r(i);break;case 13:ir(o,i),_r(i),p=i.child,p.flags&8192&&(_=p.memoizedState!==null,p.stateNode.isHidden=_,!_||p.alternate!==null&&p.alternate.memoizedState!==null||(kf=Ge())),d&4&&Xv(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(Xt=(q=Xt)||ee,ir(o,i),Xt=q):ir(o,i),_r(i),d&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!ee&&(i.mode&1)!==0)for(ce=i,ee=i.child;ee!==null;){for(te=ce=ee;ce!==null;){switch(Z=ce,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:Sl(4,Z,Z.return);break;case 1:Yo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){d=Z,l=Z.return;try{o=d,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){lt(d,l,de)}}break;case 5:Yo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){e0(te);continue}}le!==null?(le.return=Z,ce=le):e0(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,q?(_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(A=te.stateNode,j=te.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,A.style.display=Ua("display",T))}catch(de){lt(i,i.return,de)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=q?"":te.memoizedProps}catch(de){lt(i,i.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:ir(o,i),_r(i),d&4&&Xv(i);break;case 21:break;default:ir(o,i),_r(i)}}function _r(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Kv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(fi(p,""),d.flags&=-33);var _=Gv(i);Cf(i,_,p);break;case 3:case 4:var T=d.stateNode.containerInfo,A=Gv(i);Af(i,A,T);break;default:throw Error(n(161))}}catch(j){lt(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function e2(i,o,l){ce=i,Jv(i)}function Jv(i,o,l){for(var d=(i.mode&1)!==0;ce!==null;){var p=ce,_=p.child;if(p.tag===22&&d){var T=p.memoizedState!==null||Ac;if(!T){var A=p.alternate,j=A!==null&&A.memoizedState!==null||Xt;A=Ac;var q=Xt;if(Ac=T,(Xt=j)&&!q)for(ce=p;ce!==null;)T=ce,j=T.child,T.tag===22&&T.memoizedState!==null?t0(p):j!==null?(j.return=T,ce=j):t0(p);for(;_!==null;)ce=_,Jv(_),_=_.sibling;ce=p,Ac=A,Xt=q}Zv(i)}else(p.subtreeFlags&8772)!==0&&_!==null?(_.return=p,ce=_):Zv(i)}}function Zv(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||Cc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Xt)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:nr(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&ev(o,_,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ev(o,T,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Jn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&Pf(o)}catch(Z){lt(o,o.return,Z)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function e0(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function t0(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Cc(4,o)}catch(j){lt(o,l,j)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(j){lt(o,p,j)}}var _=o.return;try{Pf(o)}catch(j){lt(o,_,j)}break;case 5:var T=o.return;try{Pf(o)}catch(j){lt(o,T,j)}}}catch(j){lt(o,o.return,j)}if(o===i){ce=null;break}var A=o.sibling;if(A!==null){A.return=o.return,ce=A;break}ce=o.return}}var t2=Math.ceil,Rc=Q.ReactCurrentDispatcher,Rf=Q.ReactCurrentOwner,Un=Q.ReactCurrentBatchConfig,Le=0,Vt=null,_t=null,zt=0,Pn=0,Jo=Ii(0),At=0,Il=null,js=0,bc=0,bf=0,Pl=null,pn=null,kf=0,Zo=1/0,Jr=null,kc=!1,Nf=null,ki=null,Nc=!1,Ni=null,Dc=0,Al=0,Df=null,Vc=-1,jc=0;function on(){return(Le&6)!==0?Ge():Vc!==-1?Vc:Vc=Ge()}function Di(i){return(i.mode&1)===0?1:(Le&2)!==0&&zt!==0?zt&-zt:LI.transition!==null?(jc===0&&(jc=Ts()),jc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:tl(i.type)),i)}function sr(i,o,l,d){if(50<Al)throw Al=0,Df=null,Error(n(185));yi(i,l,d),((Le&2)===0||i!==Vt)&&(i===Vt&&((Le&2)===0&&(bc|=l),At===4&&Vi(i,zt)),mn(i,d),l===1&&Le===0&&(o.mode&1)===0&&(Zo=Ge()+500,uc&&Ai()))}function mn(i,o){var l=i.callbackNode;Ur(i,o);var d=xs(i,i===Vt?zt:0);if(d===0)l!==null&&Xa(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Xa(l),o===1)i.tag===0?MI(r0.bind(null,i)):zy(r0.bind(null,i)),DI(function(){(Le&6)===0&&Ai()}),l=null;else{switch(_i(d)){case 1:l=ws;break;case 4:l=pi;break;case 16:l=Dn;break;case 536870912:l=ju;break;default:l=Dn}l=h0(l,n0.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function n0(i,o){if(Vc=-1,jc=0,(Le&6)!==0)throw Error(n(327));var l=i.callbackNode;if(ea()&&i.callbackNode!==l)return null;var d=xs(i,i===Vt?zt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Oc(i,d);else{o=d;var p=Le;Le|=2;var _=s0();(Vt!==i||zt!==o)&&(Jr=null,Zo=Ge()+500,Ms(i,o));do try{i2();break}catch(A){i0(i,A)}while(!0);Xd(),Rc.current=_,Le=p,_t!==null?o=0:(Vt=null,zt=0,o=At)}if(o!==0){if(o===2&&(p=En(i),p!==0&&(d=p,o=Vf(i,p))),o===1)throw l=Il,Ms(i,0),Vi(i,d),mn(i,Ge()),l;if(o===6)Vi(i,d);else{if(p=i.current.alternate,(d&30)===0&&!n2(p)&&(o=Oc(i,d),o===2&&(_=En(i),_!==0&&(d=_,o=Vf(i,_))),o===1))throw l=Il,Ms(i,0),Vi(i,d),mn(i,Ge()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Ls(i,pn,Jr);break;case 3:if(Vi(i,d),(d&130023424)===d&&(o=kf+500-Ge(),10<o)){if(xs(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){on(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Fd(Ls.bind(null,i,pn,Jr),o);break}Ls(i,pn,Jr);break;case 4:if(Vi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var T=31-nn(d);_=1<<T,T=o[T],T>p&&(p=T),d&=~_}if(d=p,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*t2(d/1960))-d,10<d){i.timeoutHandle=Fd(Ls.bind(null,i,pn,Jr),d);break}Ls(i,pn,Jr);break;case 5:Ls(i,pn,Jr);break;default:throw Error(n(329))}}}return mn(i,Ge()),i.callbackNode===l?n0.bind(null,i):null}function Vf(i,o){var l=Pl;return i.current.memoizedState.isDehydrated&&(Ms(i,o).flags|=256),i=Oc(i,o),i!==2&&(o=pn,pn=l,o!==null&&jf(o)),i}function jf(i){pn===null?pn=i:pn.push.apply(pn,i)}function n2(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],_=p.getSnapshot;p=p.value;try{if(!er(_(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~bf,o&=~bc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-nn(o),d=1<<l;i[l]=-1,o&=~d}}function r0(i){if((Le&6)!==0)throw Error(n(327));ea();var o=xs(i,0);if((o&1)===0)return mn(i,Ge()),null;var l=Oc(i,o);if(i.tag!==0&&l===2){var d=En(i);d!==0&&(o=d,l=Vf(i,d))}if(l===1)throw l=Il,Ms(i,0),Vi(i,o),mn(i,Ge()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ls(i,pn,Jr),mn(i,Ge()),null}function Of(i,o){var l=Le;Le|=1;try{return i(o)}finally{Le=l,Le===0&&(Zo=Ge()+500,uc&&Ai())}}function Os(i){Ni!==null&&Ni.tag===0&&(Le&6)===0&&ea();var o=Le;Le|=1;var l=Un.transition,d=Ve;try{if(Un.transition=null,Ve=1,i)return i()}finally{Ve=d,Un.transition=l,Le=o,(Le&6)===0&&Ai()}}function Mf(){Pn=Jo.current,Je(Jo)}function Ms(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,NI(l)),_t!==null)for(l=_t.return;l!==null;){var d=l;switch(Wd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ac();break;case 3:Qo(),Je(hn),Je(Kt),sf();break;case 5:nf(d);break;case 4:Qo();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Yd(d.type._context);break;case 22:case 23:Mf()}l=l.return}if(Vt=i,_t=i=ji(i.current,null),zt=Pn=o,At=0,Il=null,bf=bc=js=0,pn=Pl=null,Ns!==null){for(o=0;o<Ns.length;o++)if(l=Ns[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,_=l.pending;if(_!==null){var T=_.next;_.next=p,d.next=T}l.pending=d}Ns=null}return i}function i0(i,o){do{var l=_t;try{if(Xd(),_c.current=Tc,wc){for(var d=it.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wc=!1}if(Vs=0,Dt=Pt=it=null,_l=!1,wl=0,Rf.current=null,l===null||l.return===null){At=1,Il=o,_t=null;break}e:{var _=i,T=l.return,A=l,j=o;if(o=zt,A.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var q=j,ee=A,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=Rv(T);if(le!==null){le.flags&=-257,bv(le,T,A,_,o),le.mode&1&&Cv(_,q,o),o=le,j=q;var he=o.updateQueue;if(he===null){var de=new Set;de.add(j),o.updateQueue=de}else he.add(j);break e}else{if((o&1)===0){Cv(_,q,o),Lf();break e}j=Error(n(426))}}else if(tt&&A.mode&1){var pt=Rv(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),bv(pt,T,A,_,o),Gd(Xo(j,A));break e}}_=j=Xo(j,A),At!==4&&(At=2),Pl===null?Pl=[_]:Pl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var z=Pv(_,j,o);Zy(_,z);break e;case 1:A=j;var O=_.type,$=_.stateNode;if((_.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ki===null||!ki.has($)))){_.flags|=65536,o&=-o,_.lanes|=o;var ie=Av(_,A,o);Zy(_,ie);break e}}_=_.return}while(_!==null)}a0(l)}catch(fe){o=fe,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function s0(){var i=Rc.current;return Rc.current=Tc,i===null?Tc:i}function Lf(){(At===0||At===3||At===2)&&(At=4),Vt===null||(js&268435455)===0&&(bc&268435455)===0||Vi(Vt,zt)}function Oc(i,o){var l=Le;Le|=2;var d=s0();(Vt!==i||zt!==o)&&(Jr=null,Ms(i,o));do try{r2();break}catch(p){i0(i,p)}while(!0);if(Xd(),Le=l,Rc.current=d,_t!==null)throw Error(n(261));return Vt=null,zt=0,At}function r2(){for(;_t!==null;)o0(_t)}function i2(){for(;_t!==null&&!Du();)o0(_t)}function o0(i){var o=c0(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,o===null?a0(i):_t=o,Rf.current=null}function a0(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=XI(l,o,Pn),l!==null){_t=l;return}}else{if(l=YI(l,o),l!==null){l.flags&=32767,_t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);At===0&&(At=5)}function Ls(i,o,l){var d=Ve,p=Un.transition;try{Un.transition=null,Ve=1,s2(i,o,l,d)}finally{Un.transition=p,Ve=d}return null}function s2(i,o,l,d){do ea();while(Ni!==null);if((Le&6)!==0)throw Error(n(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=l.lanes|l.childLanes;if(He(i,_),i===Vt&&(_t=Vt=null,zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Nc||(Nc=!0,h0(Dn,function(){return ea(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=Un.transition,Un.transition=null;var T=Ve;Ve=1;var A=Le;Le|=4,Rf.current=null,ZI(i,l),Yv(l,i),II(Md),Ei=!!Od,Md=Od=null,i.current=l,e2(l),wd(),Le=A,Ve=T,Un.transition=_}else i.current=l;if(Nc&&(Nc=!1,Ni=i,Dc=p),_=i.pendingLanes,_===0&&(ki=null),Ou(l.stateNode),mn(i,Ge()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(kc)throw kc=!1,i=Nf,Nf=null,i;return(Dc&1)!==0&&i.tag!==0&&ea(),_=i.pendingLanes,(_&1)!==0?i===Df?Al++:(Al=0,Df=i):Al=0,Ai(),null}function ea(){if(Ni!==null){var i=_i(Dc),o=Un.transition,l=Ve;try{if(Un.transition=null,Ve=16>i?16:i,Ni===null)var d=!1;else{if(i=Ni,Ni=null,Dc=0,(Le&6)!==0)throw Error(n(331));var p=Le;for(Le|=4,ce=i.current;ce!==null;){var _=ce,T=_.child;if((ce.flags&16)!==0){var A=_.deletions;if(A!==null){for(var j=0;j<A.length;j++){var q=A[j];for(ce=q;ce!==null;){var ee=ce;switch(ee.tag){case 0:case 11:case 15:Sl(8,ee,_)}var te=ee.child;if(te!==null)te.return=ee,ce=te;else for(;ce!==null;){ee=ce;var Z=ee.sibling,le=ee.return;if(qv(ee),ee===q){ce=null;break}if(Z!==null){Z.return=le,ce=Z;break}ce=le}}}var he=_.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var pt=de.sibling;de.sibling=null,de=pt}while(de!==null)}}ce=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ce=T;else e:for(;ce!==null;){if(_=ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Sl(9,_,_.return)}var z=_.sibling;if(z!==null){z.return=_.return,ce=z;break e}ce=_.return}}var O=i.current;for(ce=O;ce!==null;){T=ce;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,ce=$;else e:for(T=O;ce!==null;){if(A=ce,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Cc(9,A)}}catch(fe){lt(A,A.return,fe)}if(A===T){ce=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,ce=ie;break e}ce=A.return}}if(Le=p,Ai(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Es,i)}catch{}d=!0}return d}finally{Ve=l,Un.transition=o}}return!1}function l0(i,o,l){o=Xo(l,o),o=Pv(i,o,1),i=Ri(i,o,1),o=on(),i!==null&&(yi(i,1,o),mn(i,o))}function lt(i,o,l){if(i.tag===3)l0(i,i,l);else for(;o!==null;){if(o.tag===3){l0(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))){i=Xo(l,i),i=Av(o,i,1),o=Ri(o,i,1),i=on(),o!==null&&(yi(o,1,i),mn(o,i));break}}o=o.return}}function o2(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&l,Vt===i&&(zt&l)===l&&(At===4||At===3&&(zt&130023424)===zt&&500>Ge()-kf?Ms(i,0):bf|=l),mn(i,o)}function u0(i,o){o===0&&((i.mode&1)===0?o=1:(o=To,To<<=1,(To&130023424)===0&&(To=4194304)));var l=on();i=Qr(i,o),i!==null&&(yi(i,o,l),mn(i,l))}function a2(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),u0(i,l)}function l2(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),u0(i,l)}var c0;c0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||hn.current)fn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return fn=!1,QI(i,o,l);fn=(i.flags&131072)!==0}else fn=!1,tt&&(o.flags&1048576)!==0&&$y(o,hc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Pc(i,o),i=o.pendingProps;var p=zo(o,Kt.current);Go(o,l),p=lf(null,o,d,i,p,l);var _=uf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(d)?(_=!0,lc(o)):_=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ef(o),p.updater=Sc,o.stateNode=p,p._reactInternals=o,mf(o,d,i,l),o=_f(null,o,d,!0,_,l)):(o.tag=0,tt&&_&&Hd(o),sn(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Pc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=c2(d),i=nr(d,i),p){case 0:o=vf(null,o,d,i,l);break e;case 1:o=Ov(null,o,d,i,l);break e;case 11:o=kv(null,o,d,i,l);break e;case 14:o=Nv(null,o,d,nr(d.type,i),l);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:nr(d,p),vf(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:nr(d,p),Ov(i,o,d,p,l);case 3:e:{if(Mv(o),i===null)throw Error(n(387));d=o.pendingProps,_=o.memoizedState,p=_.element,Jy(i,o),yc(o,d,null,l);var T=o.memoizedState;if(d=T.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){p=Xo(Error(n(423)),o),o=Lv(i,o,d,l,p);break e}else if(d!==p){p=Xo(Error(n(424)),o),o=Lv(i,o,d,l,p);break e}else for(In=Si(o.stateNode.containerInfo.firstChild),Sn=o,tt=!0,tr=null,l=Xy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wo(),d===p){o=Yr(i,o,l);break e}sn(i,o,d,l)}o=o.child}return o;case 5:return tv(o),i===null&&Kd(o),d=o.type,p=o.pendingProps,_=i!==null?i.memoizedProps:null,T=p.children,Ld(d,p)?T=null:_!==null&&Ld(d,_)&&(o.flags|=32),jv(i,o),sn(i,o,T,l),o.child;case 6:return i===null&&Kd(o),null;case 13:return Fv(i,o,l);case 4:return tf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=qo(o,null,d,l):sn(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:nr(d,p),kv(i,o,d,p,l);case 7:return sn(i,o,o.pendingProps,l),o.child;case 8:return sn(i,o,o.pendingProps.children,l),o.child;case 12:return sn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,_=o.memoizedProps,T=p.value,Qe(pc,d._currentValue),d._currentValue=T,_!==null)if(er(_.value,T)){if(_.children===p.children&&!hn.current){o=Yr(i,o,l);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var A=_.dependencies;if(A!==null){T=_.child;for(var j=A.firstContext;j!==null;){if(j.context===d){if(_.tag===1){j=Xr(-1,l&-l),j.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?j.next=j:(j.next=ee.next,ee.next=j),q.pending=j}}_.lanes|=l,j=_.alternate,j!==null&&(j.lanes|=l),Jd(_.return,l,o),A.lanes|=l;break}j=j.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=l,A=T.alternate,A!==null&&(A.lanes|=l),Jd(T,l,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}sn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Go(o,l),p=Ln(p),d=d(p),o.flags|=1,sn(i,o,d,l),o.child;case 14:return d=o.type,p=nr(d,o.pendingProps),p=nr(d.type,p),Nv(i,o,d,p,l);case 15:return Dv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:nr(d,p),Pc(i,o),o.tag=1,dn(d)?(i=!0,lc(o)):i=!1,Go(o,l),Sv(o,d,p),mf(o,d,p,l),_f(null,o,d,!0,i,l);case 19:return Bv(i,o,l);case 22:return Vv(i,o,l)}throw Error(n(156,o.tag))};function h0(i,o){return Eo(i,o)}function u2(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,o,l,d){return new u2(i,o,l,d)}function Ff(i){return i=i.prototype,!(!i||!i.isReactComponent)}function c2(i){if(typeof i=="function")return Ff(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Mt)return 14}return 2}function ji(i,o){var l=i.alternate;return l===null?(l=Bn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Mc(i,o,l,d,p,_){var T=2;if(d=i,typeof i=="function")Ff(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case N:return Fs(l.children,p,_,o);case P:T=8,p|=8;break;case R:return i=Bn(12,l,o,p|2),i.elementType=R,i.lanes=_,i;case b:return i=Bn(13,l,o,p),i.elementType=b,i.lanes=_,i;case Ze:return i=Bn(19,l,o,p),i.elementType=Ze,i.lanes=_,i;case Ie:return Lc(l,p,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case M:T=9;break e;case F:T=11;break e;case Mt:T=14;break e;case Lt:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Bn(T,l,o,p),o.elementType=i,o.type=d,o.lanes=_,o}function Fs(i,o,l,d){return i=Bn(7,i,d,o),i.lanes=l,i}function Lc(i,o,l,d){return i=Bn(22,i,d,o),i.elementType=Ie,i.lanes=l,i.stateNode={isHidden:!1},i}function Uf(i,o,l){return i=Bn(6,i,null,o),i.lanes=l,i}function Bf(i,o,l){return o=Bn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function h2(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function zf(i,o,l,d,p,_,T,A,j){return i=new h2(i,o,l,A,j),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Bn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(_),i}function d2(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function d0(i){if(!i)return Pi;i=i._reactInternals;e:{if(Kn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(dn(l))return Uy(i,l,o)}return o}function f0(i,o,l,d,p,_,T,A,j){return i=zf(l,d,!0,i,p,_,T,A,j),i.context=d0(null),l=i.current,d=on(),p=Di(l),_=Xr(d,p),_.callback=o??null,Ri(l,_,p),i.current.lanes=p,yi(i,p,d),mn(i,d),i}function Fc(i,o,l,d){var p=o.current,_=on(),T=Di(p);return l=d0(l),o.context===null?o.context=l:o.pendingContext=l,o=Xr(_,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ri(p,o,T),i!==null&&(sr(i,p,T,_),gc(i,p,T)),T}function Uc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function p0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function $f(i,o){p0(i,o),(i=i.alternate)&&p0(i,o)}function f2(){return null}var m0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Hf(i){this._internalRoot=i}Bc.prototype.render=Hf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Fc(i,o,null,null)},Bc.prototype.unmount=Hf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Os(function(){Fc(null,i,null,null)}),o[Wr]=null}};function Bc(i){this._internalRoot=i}Bc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Bu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<dr.length&&o!==0&&o<dr[l].priority;l++);dr.splice(l,0,i),l===0&&Hu(i)}};function Wf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function zc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function g0(){}function p2(i,o,l,d,p){if(p){if(typeof d=="function"){var _=d;d=function(){var q=Uc(T);_.call(q)}}var T=f0(o,d,i,0,null,!1,!1,"",g0);return i._reactRootContainer=T,i[Wr]=T.current,hl(i.nodeType===8?i.parentNode:i),Os(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var q=Uc(j);A.call(q)}}var j=zf(i,0,!1,null,null,!1,!1,"",g0);return i._reactRootContainer=j,i[Wr]=j.current,hl(i.nodeType===8?i.parentNode:i),Os(function(){Fc(o,j,l,d)}),j}function $c(i,o,l,d,p){var _=l._reactRootContainer;if(_){var T=_;if(typeof p=="function"){var A=p;p=function(){var j=Uc(T);A.call(j)}}Fc(o,T,i,p)}else T=p2(l,o,i,p,d);return Uc(T)}Fu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=mi(o.pendingLanes);l!==0&&(vi(o,l|1),mn(o,Ge()),(Le&6)===0&&(Zo=Ge()+500,Ai()))}break;case 13:Os(function(){var d=Qr(i,1);if(d!==null){var p=on();sr(d,i,1,p)}}),$f(i,1)}},So=function(i){if(i.tag===13){var o=Qr(i,134217728);if(o!==null){var l=on();sr(o,i,134217728,l)}$f(i,134217728)}},Uu=function(i){if(i.tag===13){var o=Di(i),l=Qr(i,o);if(l!==null){var d=on();sr(l,i,o,d)}$f(i,o)}},Bu=function(){return Ve},zu=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},mo=function(i,o,l){switch(o){case"input":if(Oa(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=oc(d);if(!p)throw Error(n(90));lo(d),Oa(d,p)}}}break;case"textarea":fo(i,l);break;case"select":o=l.value,o!=null&&Mr(i,!!l.multiple,o,!1)}},gs=Of,qa=Os;var m2={usingClientEntryPoint:!1,Events:[pl,Uo,oc,cr,Wa,Of]},Cl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g2={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qa(i),i===null?null:i.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||f2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Es=Hc.inject(g2),wn=Hc}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m2,gn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(o))throw Error(n(200));return d2(i,o,null,l)},gn.createRoot=function(i,o){if(!Wf(i))throw Error(n(299));var l=!1,d="",p=m0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=zf(i,1,!1,null,null,l,!1,d,p),i[Wr]=o.current,hl(i.nodeType===8?i.parentNode:i),new Hf(o)},gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Qa(o),i=i===null?null:i.stateNode,i},gn.flushSync=function(i){return Os(i)},gn.hydrate=function(i,o,l){if(!zc(o))throw Error(n(200));return $c(null,i,o,!0,l)},gn.hydrateRoot=function(i,o,l){if(!Wf(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,_="",T=m0;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=f0(o,null,i,1,l??null,p,!1,_,T),i[Wr]=o.current,hl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Bc(o)},gn.render=function(i,o,l){if(!zc(o))throw Error(n(200));return $c(null,i,o,!1,l)},gn.unmountComponentAtNode=function(i){if(!zc(i))throw Error(n(40));return i._reactRootContainer?(Os(function(){$c(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},gn.unstable_batchedUpdates=Of,gn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!zc(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return $c(i,o,l,!1,d)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var S0;function k1(){if(S0)return Gf.exports;S0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gf.exports=I2(),Gf.exports}var I0;function P2(){if(I0)return Wc;I0=1;var t=k1();return Wc.createRoot=t.createRoot,Wc.hydrateRoot=t.hydrateRoot,Wc}var A2=P2();const C2=b1(A2);k1();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const P0="popstate";function R2(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Ap("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:vh(s)}return k2(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b2(){return Math.random().toString(36).substr(2,8)}function A0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ap(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ia(e):e,{state:n,key:e&&e.key||r||b2()})}function vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ia(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=Hi.Pop,f=null,m=g();m==null&&(m=0,u.replaceState(Xl({},u.state,{idx:m}),""));function g(){return(u.state||{idx:null}).idx}function w(){h=Hi.Pop;let C=g(),H=C==null?null:C-m;m=C,f&&f({action:h,location:D.location,delta:H})}function x(C,H){h=Hi.Push;let G=Ap(D.location,C,H);m=g()+1;let W=A0(G,m),Q=D.createHref(G);try{u.pushState(W,"",Q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(Q)}a&&f&&f({action:h,location:D.location,delta:1})}function S(C,H){h=Hi.Replace;let G=Ap(D.location,C,H);m=g();let W=A0(G,m),Q=D.createHref(G);u.replaceState(W,"",Q),a&&f&&f({action:h,location:D.location,delta:0})}function k(C){let H=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof C=="string"?C:vh(C);return G=G.replace(/ $/,"%20"),xt(H,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,H)}let D={get action(){return h},get location(){return t(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(P0,w),f=C,()=>{s.removeEventListener(P0,w),f=null}},createHref(C){return e(s,C)},createURL:k,encodeLocation(C){let H=k(C);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:S,go(C){return u.go(C)}};return D}var C0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C0||(C0={}));function N2(t,e,n){return n===void 0&&(n="/"),D2(t,e,n)}function D2(t,e,n,r){let s=typeof e=="string"?Ia(e):e,a=Pm(s.pathname||"/",n);if(a==null)return null;let u=D1(t);V2(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=q2(a);h=$2(u[f],m)}return h}function D1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=qi([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),D1(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:B2(m,a.index),routesMeta:g})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of V1(a.path))s(a,u,f)}),e}function V1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=V1(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function V2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const j2=/^:[\w-]+$/,O2=3,M2=2,L2=1,F2=10,U2=-2,R0=t=>t==="*";function B2(t,e){let n=t.split("/"),r=n.length;return n.some(R0)&&(r+=U2),e&&(r+=M2),n.filter(s=>!R0(s)).reduce((s,a)=>s+(j2.test(a)?O2:a===""?L2:F2),r)}function z2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $2(t,e,n){let{routesMeta:r}=t,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=H2({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:qi([a,w.pathname]),pathnameBase:X2(qi([a,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(a=qi([a,w.pathnameBase]))}return u}function H2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,g,w)=>{let{paramName:x,isOptional:S}=g;if(x==="*"){let D=h[w]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const k=h[w];return S&&!k?m[x]=void 0:m[x]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function W2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),N1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function q2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return N1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ia(t):t;return{pathname:n?n.startsWith("/")?n:G2(n,e):e,search:Y2(r),hash:J2(s)}}function G2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j1(t,e){let n=Q2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ia(t):(s=Xl({},t),xt(!s.pathname||!s.pathname.includes("?"),Yf("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Yf("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Yf("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=n;else{let w=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;s.pathname=x.join("/")}h=w>=0?e[w]:"/"}let f=K2(s,h),m=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const qi=t=>t.join("/").replace(/\/\/+/g,"/"),X2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M1=["post","put","patch","delete"];new Set(M1);const eP=["get",...M1];new Set(eP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}const Am=B.createContext(null),tP=B.createContext(null),ro=B.createContext(null),Kh=B.createContext(null),ci=B.createContext({outlet:null,matches:[],isDataRoute:!1}),L1=B.createContext(null);function nP(t,e){let{relative:n}=e===void 0?{}:e;pu()||xt(!1);let{basename:r,navigator:s}=B.useContext(ro),{hash:a,pathname:u,search:h}=U1(t,{relative:n}),f=u;return r!=="/"&&(f=u==="/"?r:qi([r,u])),s.createHref({pathname:f,search:h,hash:a})}function pu(){return B.useContext(Kh)!=null}function Pa(){return pu()||xt(!1),B.useContext(Kh).location}function F1(t){B.useContext(ro).static||B.useLayoutEffect(t)}function Cm(){let{isDataRoute:t}=B.useContext(ci);return t?vP():rP()}function rP(){pu()||xt(!1);let t=B.useContext(Am),{basename:e,future:n,navigator:r}=B.useContext(ro),{matches:s}=B.useContext(ci),{pathname:a}=Pa(),u=JSON.stringify(j1(s,n.v7_relativeSplatPath)),h=B.useRef(!1);return F1(()=>{h.current=!0}),B.useCallback(function(m,g){if(g===void 0&&(g={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let w=O1(m,JSON.parse(u),a,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:qi([e,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[e,r,u,a,t])}const iP=B.createContext(null);function sP(t){let e=B.useContext(ci).outlet;return e&&B.createElement(iP.Provider,{value:t},e)}function oP(){let{matches:t}=B.useContext(ci),e=t[t.length-1];return e?e.params:{}}function U1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(ro),{matches:s}=B.useContext(ci),{pathname:a}=Pa(),u=JSON.stringify(j1(s,r.v7_relativeSplatPath));return B.useMemo(()=>O1(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function aP(t,e){return lP(t,e)}function lP(t,e,n,r){pu()||xt(!1);let{navigator:s}=B.useContext(ro),{matches:a}=B.useContext(ci),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=Pa(),g;if(e){var w;let C=typeof e=="string"?Ia(e):e;f==="/"||(w=C.pathname)!=null&&w.startsWith(f)||xt(!1),g=C}else g=m;let x=g.pathname||"/",S=x;if(f!=="/"){let C=f.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=N2(t,{pathname:S}),D=fP(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:qi([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:qi([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&D?B.createElement(Kh.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Hi.Pop}},D):D}function uP(){let t=yP(),e=Z2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,null)}const cP=B.createElement(uP,null);class hP extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(ci.Provider,{value:this.props.routeContext},B.createElement(L1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dP(t){let{routeContext:e,match:n,children:r}=t,s=B.useContext(Am);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(ci.Provider,{value:e},r)}function fP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(s=n)==null?void 0:s.errors;if(h!=null){let g=u.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);g>=0||xt(!1),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let w=u[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=g),w.route.id){let{loaderData:x,errors:S}=n,k=w.route.loader&&x[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||k){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,w,x)=>{let S,k=!1,D=null,C=null;n&&(S=h&&w.route.id?h[w.route.id]:void 0,D=w.route.errorElement||cP,f&&(m<0&&x===0?(_P("route-fallback"),k=!0,C=null):m===x&&(k=!0,C=w.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,x+1)),G=()=>{let W;return S?W=D:k?W=C:w.route.Component?W=B.createElement(w.route.Component,null):w.route.element?W=w.route.element:W=g,B.createElement(dP,{match:w,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:W})};return n&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?B.createElement(hP,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:G(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):G()},null)}var B1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B1||{}),z1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(z1||{});function pP(t){let e=B.useContext(Am);return e||xt(!1),e}function mP(t){let e=B.useContext(tP);return e||xt(!1),e}function gP(t){let e=B.useContext(ci);return e||xt(!1),e}function $1(t){let e=gP(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function yP(){var t;let e=B.useContext(L1),n=mP(),r=$1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vP(){let{router:t}=pP(B1.UseNavigateStable),e=$1(z1.UseNavigateStable),n=B.useRef(!1);return F1(()=>{n.current=!0}),B.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yl({fromRouteId:e},a)))},[t,e])}const b0={};function _P(t,e,n){b0[t]||(b0[t]=!0)}function wP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function EP(t){return sP(t.context)}function ke(t){xt(!1)}function xP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Hi.Pop,navigator:a,static:u=!1,future:h}=t;pu()&&xt(!1);let f=e.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:a,static:u,future:Yl({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=Ia(r));let{pathname:g="/",search:w="",hash:x="",state:S=null,key:k="default"}=r,D=B.useMemo(()=>{let C=Pm(g,f);return C==null?null:{location:{pathname:C,search:w,hash:x,state:S,key:k},navigationType:s}},[f,g,w,x,S,k,s]);return D==null?null:B.createElement(ro.Provider,{value:m},B.createElement(Kh.Provider,{children:n,value:D}))}function TP(t){let{children:e,location:n}=t;return aP(Cp(e),n)}new Promise(()=>{});function Cp(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,s)=>{if(!B.isValidElement(r))return;let a=[...e,s];if(r.type===B.Fragment){n.push.apply(n,Cp(r.props.children,a));return}r.type!==ke&&xt(!1),!r.props.index||!r.props.children||xt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cp(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function SP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function IP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PP(t,e){return t.button===0&&(!e||e==="_self")&&!IP(t)}const AP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CP="6";try{window.__reactRouterVersion=CP}catch{}const RP="startTransition",k0=x2[RP];function bP(t){let{basename:e,children:n,future:r,window:s}=t,a=B.useRef();a.current==null&&(a.current=R2({window:s,v5Compat:!0}));let u=a.current,[h,f]=B.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},g=B.useCallback(w=>{m&&k0?k0(()=>f(w)):f(w)},[f,m]);return B.useLayoutEffect(()=>u.listen(g),[u,g]),B.useEffect(()=>wP(r),[r]),B.createElement(xP,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=B.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:w}=e,x=SP(e,AP),{basename:S}=B.useContext(ro),k,D=!1;if(typeof m=="string"&&NP.test(m)&&(k=m,kP))try{let W=new URL(window.location.href),Q=m.startsWith("//")?new URL(W.protocol+m):new URL(m),J=Pm(Q.pathname,S);Q.origin===W.origin&&J!=null?m=J+Q.search+Q.hash:D=!0}catch{}let C=nP(m,{relative:s}),H=DP(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:w});function G(W){r&&r(W),W.defaultPrevented||H(W)}return B.createElement("a",Rp({},x,{href:k||C,onClick:D||a?r:G,ref:n,target:f}))});var N0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(N0||(N0={}));var D0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D0||(D0={}));function DP(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=Cm(),m=Pa(),g=U1(t,{relative:u});return B.useCallback(w=>{if(PP(w,n)){w.preventDefault();let x=r!==void 0?r:vh(m)===vh(g);f(t,{replace:x,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[m,f,g,r,s,n,t,a,u,h])}const VP=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,g=a>>2,w=(a&3)<<4|h>>4;let x=(h&15)<<2|m>>6,S=m&63;f||(S=64,u||(x=64)),r.push(n[g],n[w],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||m==null||w==null)throw new OP;const x=a<<2|h>>4;if(r.push(x),m!==64){const S=h<<4&240|m>>2;if(r.push(S),w!==64){const k=m<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MP=function(t){const e=H1(t);return W1.encodeByteArray(e,!0)},_h=function(t){return MP(t).replace(/\./g,"")},q1=function(t){try{return W1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=()=>LP().__FIREBASE_DEFAULTS__,UP=()=>{if(typeof process>"u"||typeof V0>"u")return;const t=V0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return VP()||FP()||UP()||BP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K1=t=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G1=t=>{const e=K1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=Gh())===null||t===void 0?void 0:t.config},X1=t=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return t.endsWith(".cloudworkstations.dev")}async function Rm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_h(JSON.stringify(n)),_h(JSON.stringify(u)),""].join(".")}const Ll={};function $P(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?t.emulator.push(e):t.prod.push(e);return t}function HP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j0=!1;function bm(t,e){if(typeof window>"u"||typeof document>"u"||!as(window.location.host)||Ll[t]===e||Ll[t]||j0)return;Ll[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=$P().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{j0=!0,u()},x}function g(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=HP(r),S=n("text"),k=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),C=document.getElementById(D)||document.createElement("a"),H=n("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;h(W),g(C,D);const Q=m();f(G,H),W.append(G,k,C,Q),document.body.appendChild(W)}a?(k.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function qP(){var t;const e=(t=Gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XP(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YP(){return!qP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JP(){try{return typeof indexedDB=="object"}catch{return!1}}function ZP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eA,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?tA(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Vr(s,h,r)}}function tA(t,e){return t.replace(nA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nA=/\{\$([^}]+)}/g;function rA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(O0(a)&&O0(u)){if(!Qs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iA(t,e){const n=new sA(t,e);return n.subscribe.bind(n)}class sA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Jf),s.error===void 0&&(s.error=Jf),s.complete===void 0&&(s.complete=Jf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uA(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(t){return t===Bs?void 0:t}function uA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const hA={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},dA=Ne.INFO,fA={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},pA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const mA=(t,e)=>e.some(n=>t instanceof n);let M0,L0;function gA(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,bp=new WeakMap,Z1=new WeakMap,Zf=new WeakMap,Nm=new WeakMap;function vA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ki(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&J1.set(n,t)}).catch(()=>{}),Nm.set(e,t),e}function _A(t){if(bp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});bp.set(t,e)}let kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wA(t){kp=t(kp)}function EA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return Z1.set(r,e.sort?e.sort():[e]),Ki(r)}:yA().includes(t)?function(...e){return t.apply(ep(this),e),Ki(J1.get(this))}:function(...e){return Ki(t.apply(ep(this),e))}}function xA(t){return typeof t=="function"?EA(t):(t instanceof IDBTransaction&&_A(t),mA(t,gA())?new Proxy(t,kp):t)}function Ki(t){if(t instanceof IDBRequest)return vA(t);if(Zf.has(t))return Zf.get(t);const e=xA(t);return e!==t&&(Zf.set(t,e),Nm.set(e,t)),e}const ep=t=>Nm.get(t);function TA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Ki(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ki(u.result),f.oldVersion,f.newVersion,Ki(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const SA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],tp=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=IA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SA.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),s&&f.done]))[0]};return tp.set(e,a),a}wA(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Np="@firebase/app",U0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new km("@firebase/app"),CA="@firebase/app-compat",RA="@firebase/analytics-compat",bA="@firebase/analytics",kA="@firebase/app-check-compat",NA="@firebase/app-check",DA="@firebase/auth",VA="@firebase/auth-compat",jA="@firebase/database",OA="@firebase/data-connect",MA="@firebase/database-compat",LA="@firebase/functions",FA="@firebase/functions-compat",UA="@firebase/installations",BA="@firebase/installations-compat",zA="@firebase/messaging",$A="@firebase/messaging-compat",HA="@firebase/performance",WA="@firebase/performance-compat",qA="@firebase/remote-config",KA="@firebase/remote-config-compat",GA="@firebase/storage",QA="@firebase/storage-compat",XA="@firebase/firestore",YA="@firebase/ai",JA="@firebase/firestore-compat",ZA="firebase",eC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",tC={[Np]:"fire-core",[CA]:"fire-core-compat",[bA]:"fire-analytics",[RA]:"fire-analytics-compat",[NA]:"fire-app-check",[kA]:"fire-app-check-compat",[DA]:"fire-auth",[VA]:"fire-auth-compat",[jA]:"fire-rtdb",[OA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[LA]:"fire-fn",[FA]:"fire-fn-compat",[UA]:"fire-iid",[BA]:"fire-iid-compat",[zA]:"fire-fcm",[$A]:"fire-fcm-compat",[HA]:"fire-perf",[WA]:"fire-perf-compat",[qA]:"fire-rc",[KA]:"fire-rc-compat",[GA]:"fire-gcs",[QA]:"fire-gcs-compat",[XA]:"fire-fst",[JA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,nC=new Map,Vp=new Map;function B0(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xs(t){const e=t.name;if(Vp.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,t);for(const n of wh.values())B0(n,t);for(const n of nC.values())B0(n,t);return!0}function Qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new mu("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=eC;function eE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Gi.create("bad-app-name",{appName:String(s)});if(n||(n=Q1()),!n)throw Gi.create("no-options");const a=wh.get(s);if(a){if(Qs(n,a.options)&&Qs(r,a.config))return a;throw Gi.create("duplicate-app",{appName:s})}const u=new cA(s);for(const f of Vp.values())u.addComponent(f);const h=new iC(n,r,u);return wh.set(s,h),h}function Dm(t=Dp){const e=wh.get(t);if(!e&&t===Dp&&Q1())return eE();if(!e)throw Gi.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let s=(r=tC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(h.join(" "));return}Xs(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",oC=1,Jl="firebase-heartbeat-store";let np=null;function tE(){return np||(np=TA(sC,oC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),np}async function aC(t){try{const n=(await tE()).transaction(Jl),r=await n.objectStore(Jl).get(nE(t));return await n.done,r}catch(e){if(e instanceof Vr)ri.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function z0(t,e){try{const r=(await tE()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,nE(t)),await r.done}catch(n){if(n instanceof Vr)ri.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(r.message)}}}function nE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,uC=30;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>uC){const u=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$0(),{heartbeatsToSend:r,unsentEntries:s}=hC(this._heartbeatsCache.heartbeats),a=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ri.warn(n),""}}}function $0(){return new Date().toISOString().substring(0,10)}function hC(t,e=lC){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),H0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JP()?ZP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function fC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){Xs(new Yi("platform-logger",e=>new PA(e),"PRIVATE")),Xs(new Yi("heartbeat",e=>new cC(e),"PRIVATE")),Tr(Np,U0,t),Tr(Np,U0,"esm2017"),Tr("fire-js","")}pC("");var mC="firebase",gC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(mC,gC,"app");function Vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yC=rE,iE=new mu("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new km("@firebase/auth");function vC(t,...e){Eh.logLevel<=Ne.WARN&&Eh.warn(`Auth (${io}): ${t}`,...e)}function sh(t,...e){Eh.logLevel<=Ne.ERROR&&Eh.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,...e){throw jm(t,...e)}function Sr(t,...e){return jm(t,...e)}function sE(t,e,n){const r=Object.assign(Object.assign({},yC()),{[e]:n});return new mu("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return sE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iE.create(t,...e)}function we(t,e,...n){if(!t)throw jm(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function ii(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _C(){return W0()==="http:"||W0()==="https:"}function W0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||GP()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=WP()||QP()}get(){return wC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SC=new yu(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hi(t,e,n,r,s={}){return aE(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=gu(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},a);return KP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&as(t.emulatorConfig.host)&&(m.credentials="include"),oE.fetch()(await lE(t,t.config.apiHost,n,h),m)})}async function aE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xC),e);try{const s=new PC(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw qc(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw qc(t,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sE(t,g,m);lr(t,g)}}catch(s){if(s instanceof Vr)throw s;lr(t,"network-request-failed",{message:String(s)})}}async function vu(t,e,n,r,s={}){const a=await hi(t,e,n,r,s);return"mfaPendingCredential"in a&&lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function lE(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?Om(t.config,s):`${t.config.apiScheme}://${s}`;return TC.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function IC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),SC.get())})}}function qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}function q0(t){return t!==void 0&&t.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CC(t,e){return hi(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function xh(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=Mm(r);we(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Fl(rp(s.auth_time)),issuedAtTime:Fl(rp(s.iat)),expirationTime:Fl(rp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function Mm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=q1(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function K0(t){const e=Mm(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&kC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ma(t,xh(n,{idToken:r}));we(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?uE(a.providerUserInfo):[],h=VC(t.providerData,u),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Op(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function DC(t){const e=yt(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VC(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uE(t){return t.map(e=>{var{providerId:n}=e,r=Vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e){const n=await aE(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await lE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&as(t.emulatorConfig.host)&&(f.credentials="include"),oE.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OC(t,e){return hi(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=K0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await jC(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new ha;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Op(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bC(this,e)}reload(){return DC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await ma(this,RC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,h,f,m,g;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,H=(m=n.createdAt)!==null&&m!==void 0?m:void 0,G=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:Q,isAnonymous:J,providerData:re,stsTokenManager:N}=n;we(W&&N,e,"internal-error");const P=ha.fromJSON(this.name,N);we(typeof W=="string",e,"internal-error"),Mi(w,e.name),Mi(x,e.name),we(typeof Q=="boolean",e,"internal-error"),we(typeof J=="boolean",e,"internal-error"),Mi(S,e.name),Mi(k,e.name),Mi(D,e.name),Mi(C,e.name),Mi(H,e.name),Mi(G,e.name);const R=new ar({uid:W,auth:e,email:x,emailVerified:Q,displayName:w,isAnonymous:J,photoURL:k,phoneNumber:S,tenantId:D,stsTokenManager:P,createdAt:H,lastLoginAt:G});return re&&Array.isArray(re)&&(R.providerData=re.map(V=>Object.assign({},V))),C&&(R._redirectEventId=C),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new ha;s.updateFromServerResponse(n);const a=new ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];we(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?uE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ha;h.updateFromIdToken(r);const f=new ar({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;function ei(t){ii(t instanceof Function,"Expected a class definition");let e=G0.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cE.type="NONE";const Q0=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=oh(this.userKey,s.apiKey,a),this.fullPersistenceKey=oh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new da(ei(Q0),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ei(Q0);const u=oh(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){let w;if(typeof g=="string"){const x=await xh(e,{idToken:g}).catch(()=>{});if(!x)break;w=await ar._fromGetAccountInfoResponse(e,x,g)}else w=ar._fromJSON(e,g);m!==a&&(h=w),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new da(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new da(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gE(e))return"Blackberry";if(yE(e))return"Webos";if(dE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(mE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hE(t=tn()){return/firefox\//i.test(t)}function dE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(t=tn()){return/crios\//i.test(t)}function pE(t=tn()){return/iemobile/i.test(t)}function mE(t=tn()){return/android/i.test(t)}function gE(t=tn()){return/blackberry/i.test(t)}function yE(t=tn()){return/webos/i.test(t)}function Lm(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MC(t=tn()){var e;return Lm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LC(){return XP()&&document.documentMode===10}function vE(t=tn()){return Lm(t)||mE(t)||yE(t)||gE(t)||/windows phone/i.test(t)||pE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e=[]){let n;switch(t){case"Browser":n=X0(tn());break;case"Worker":n=`${X0(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e={}){return hi(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=6;class zC{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:BC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y0(this),this.idTokenSubscription=new Y0(this),this.beforeStateQueue=new FC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(ni(this));const n=e?yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),n=new zC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function so(t){return yt(t)}class Y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iA(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(t){Xh=t}function wE(t){return Xh.loadJS(t)}function WC(){return Xh.recaptchaEnterpriseScript}function qC(){return Xh.gapiScript}function KC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GC{constructor(){this.enterprise=new QC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XC="recaptcha-enterprise",EE="NO_RECAPTCHA";class YC{constructor(e){this.type=XC,this.auth=so(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{CC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new AC(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;q0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(EE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&q0(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=WC();f.length!==0&&(f+=h),wE(f).then(()=>{s(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function J0(t,e,n,r=!1,s=!1){const a=new YC(t);let u;if(s)u=EE;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Mp(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J0(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await J0(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){const n=Qh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Qs(a,e??{}))return s;lr(s,"already-initialized")}return n.initialize({options:e})}function ZC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eR(t,e,n){const r=so(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=xE(e),{host:u,port:h}=tR(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Qs(m,r.config.emulator)&&Qs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,as(u)?(Rm(`${a}//${u}${f}`),bm("Auth",!0)):nR()}function xE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tR(t){const e=xE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Z0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Z0(u)}}}function Z0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function rR(t,e){return hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return vu(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return vu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function oR(t,e){return vu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Fm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",iR);case"emailLink":return sR(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",rR);case"emailLink":return oR(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return vu(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="http://localhost";class Ys extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Vm(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ys(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uR(t){const e=Nl(Dl(t)).link,n=e?Nl(Dl(e)).deep_link_id:null,r=Nl(Dl(t)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||n||e||t}class Um{constructor(e){var n,r,s,a,u,h;const f=Nl(Dl(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,w=lR((s=f.mode)!==null&&s!==void 0?s:null);we(m&&g&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=uR(e);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Um.parseLink(n);return we(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends TE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends _u{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends _u{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends _u{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e){return vu(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ar._fromIdTokenResponse(e,r,s),u=e_(r);return new Js({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=e_(r);return new Js({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function e_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Vr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function SE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,a,e,r):a})}async function hR(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){const{auth:r}=t;if(An(r.app))return Promise.reject(ni(r));const s="reauthenticate";try{const a=await ma(t,SE(r,s,e,t),n);we(a.idToken,r,"internal-error");const u=Mm(a.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(t.uid===h,r,"user-mismatch"),Js._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e,n=!1){if(An(t.app))return Promise.reject(ni(t));const r="signIn",s=await SE(t,r,e),a=await Js._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function fR(t,e){return IE(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pR(t,e,n){if(An(t.app))return Promise.reject(ni(t));const r=so(t),u=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&PE(t),f}),h=await Js._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function mR(t,e,n){return An(t.app)?Promise.reject(ni(t)):fR(yt(t),Aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e){return hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await ma(r,gR(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function yR(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function vR(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function _R(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function wR(t){return yt(t).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,xR=10;class CE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);LC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const TR=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RE.type="SESSION";const bE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(n.origin,a)),f=await SR(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Bm("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const x=w;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function PR(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function AR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RR(){return kE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firebaseLocalStorageDb",bR=1,Ph="firebaseLocalStorage",DE="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function kR(){const t=indexedDB.deleteDatabase(NE);return new wu(t).toPromise()}function Fp(){const t=indexedDB.open(NE,bR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:DE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await kR(),e(await Fp()))})})}async function t_(t,e,n){const r=Jh(t,!0).put({[DE]:e,value:n});return new wu(r).toPromise()}async function NR(t,e){const n=Jh(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function n_(t,e){const n=Jh(t,!0).delete(e);return new wu(n).toPromise()}const DR=800,VR=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(RR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await t_(e,Ih,"1"),await n_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Jh(s,!1).getAll();return new wu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const jR=VE;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){return e?ei(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MR(t){return IE(t.auth,new zm(t),t.bypassAuthState)}function LR(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),dR(n,new zm(t),t.bypassAuthState)}async function FR(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),hR(n,new zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MR;case"linkViaPopup":case"linkViaRedirect":return FR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:lr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new yu(2e3,1e4);class sa extends jE{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UR.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="pendingRedirect",ah=new Map;class zR extends jE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await $R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $R(t,e){const n=qR(e),r=WR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function HR(t,e){ah.set(t._key(),e)}function WR(t){return ei(t._redirectPersistence)}function qR(t){return oh(BR,t.config.apiKey,t.name)}async function KR(t,e,n=!1){if(An(t.app))return Promise.reject(ni(t));const r=so(t),s=OR(r,e),u=await new zR(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=10*60*1e3;class QR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(r_(e))}saveEventToCache(e){this.cachedEventUids.add(r_(e)),this.lastProcessedEventTime=Date.now()}}function r_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function eb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YR(t);for(const n of e)try{if(tb(n))return}catch{}lr(t,"unauthorized-domain")}function tb(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!ZR.test(n))return!1;if(JR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new yu(3e4,6e4);function i_(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rb(t){return new Promise((e,n)=>{var r,s,a;function u(){i_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i_(),n(Sr(t,"network-request-failed"))},timeout:nb.get()})}if(!((s=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)u();else{const h=KC("iframefcb");return Ir()[h]=()=>{gapi.load?u():n(Sr(t,"network-request-failed"))},wE(`${qC()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw lh=null,e})}let lh=null;function ib(t){return lh=lh||rb(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new yu(5e3,15e3),ob="__/auth/iframe",ab="emulator/auth/iframe",lb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ub=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cb(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Om(e,ab):`https://${t.config.authDomain}/${ob}`,r={apiKey:e.apiKey,appName:t.name,v:io},s=ub.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gu(r).slice(1)}`}async function hb(t){const e=await ib(t),n=Ir().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:cb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Sr(t,"network-request-failed"),h=Ir().setTimeout(()=>{a(u)},sb.get());function f(){Ir().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fb=500,pb=600,mb="_blank",gb="http://localhost";class s_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yb(t,e,n,r=fb,s=pb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},db),{width:r.toString(),height:s.toString(),top:a,left:u}),m=tn().toLowerCase();n&&(h=fE(m)?mb:n),hE(m)&&(e=e||gb,f.scrollbars="yes");const g=Object.entries(f).reduce((x,[S,k])=>`${x}${S}=${k},`,"");if(MC(m)&&h!=="_self")return vb(e||"",h),new s_(null);const w=window.open(e||"",h,g);we(w,t,"popup-blocked");try{w.focus()}catch{}return new s_(w)}function vb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__/auth/handler",wb="emulator/auth/handler",Eb=encodeURIComponent("fac");async function o_(t,e,n,r,s,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:s};if(e instanceof TE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",rA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof _u){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),m=f?`#${Eb}=${encodeURIComponent(f)}`:"";return`${xb(t)}?${gu(h).slice(1)}${m}`}function xb({config:t}){return t.emulator?Om(t,wb):`https://${t.authDomain}/${_b}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class Tb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=KR,this._overrideRedirectResult=HR}async _openPopup(e,n,r,s){var a;ii((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await o_(e,n,r,jp(),s);return yb(e,u,Bm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await o_(e,n,r,jp(),s);return PR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hb(e),r=new QR(e);return n.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ip];u!==void 0&&n(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vE()||dE()||Lm()}}const Sb=Tb;var a_="@firebase/auth",l_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ab(t){Xs(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(t)},m=new $C(r,s,a,f);return ZC(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xs(new Yi("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(r=>new Ib(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(a_,l_,Pb(t)),Tr(a_,l_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=5*60,Rb=X1("authIdTokenMaxAge")||Cb;let u_=null;const bb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rb)return;const s=n==null?void 0:n.token;u_!==s&&(u_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kb(t=Dm()){const e=Qh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JC(t,{popupRedirectResolver:Sb,persistence:[jR,TR,bE]}),r=X1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bb(a.toString());vR(n,u,()=>u(n.currentUser)),yR(n,h=>u(h))}}const s=K1("auth");return s&&eR(n,`http://${s}`),n}function Nb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Sr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",Nb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ab("Browser");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,ME;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function R(){}R.prototype=P.prototype,N.D=P.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(V,M,F){for(var b=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)b[Ze-2]=arguments[Ze];return P.prototype[M].apply(V,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,P,R){R||(R=0);var V=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)V[M]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(M=0;16>M;++M)V[M]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=N.g[0],R=N.g[1],M=N.g[2];var F=N.g[3],b=P+(F^R&(M^F))+V[0]+3614090360&4294967295;P=R+(b<<7&4294967295|b>>>25),b=F+(M^P&(R^M))+V[1]+3905402710&4294967295,F=P+(b<<12&4294967295|b>>>20),b=M+(R^F&(P^R))+V[2]+606105819&4294967295,M=F+(b<<17&4294967295|b>>>15),b=R+(P^M&(F^P))+V[3]+3250441966&4294967295,R=M+(b<<22&4294967295|b>>>10),b=P+(F^R&(M^F))+V[4]+4118548399&4294967295,P=R+(b<<7&4294967295|b>>>25),b=F+(M^P&(R^M))+V[5]+1200080426&4294967295,F=P+(b<<12&4294967295|b>>>20),b=M+(R^F&(P^R))+V[6]+2821735955&4294967295,M=F+(b<<17&4294967295|b>>>15),b=R+(P^M&(F^P))+V[7]+4249261313&4294967295,R=M+(b<<22&4294967295|b>>>10),b=P+(F^R&(M^F))+V[8]+1770035416&4294967295,P=R+(b<<7&4294967295|b>>>25),b=F+(M^P&(R^M))+V[9]+2336552879&4294967295,F=P+(b<<12&4294967295|b>>>20),b=M+(R^F&(P^R))+V[10]+4294925233&4294967295,M=F+(b<<17&4294967295|b>>>15),b=R+(P^M&(F^P))+V[11]+2304563134&4294967295,R=M+(b<<22&4294967295|b>>>10),b=P+(F^R&(M^F))+V[12]+1804603682&4294967295,P=R+(b<<7&4294967295|b>>>25),b=F+(M^P&(R^M))+V[13]+4254626195&4294967295,F=P+(b<<12&4294967295|b>>>20),b=M+(R^F&(P^R))+V[14]+2792965006&4294967295,M=F+(b<<17&4294967295|b>>>15),b=R+(P^M&(F^P))+V[15]+1236535329&4294967295,R=M+(b<<22&4294967295|b>>>10),b=P+(M^F&(R^M))+V[1]+4129170786&4294967295,P=R+(b<<5&4294967295|b>>>27),b=F+(R^M&(P^R))+V[6]+3225465664&4294967295,F=P+(b<<9&4294967295|b>>>23),b=M+(P^R&(F^P))+V[11]+643717713&4294967295,M=F+(b<<14&4294967295|b>>>18),b=R+(F^P&(M^F))+V[0]+3921069994&4294967295,R=M+(b<<20&4294967295|b>>>12),b=P+(M^F&(R^M))+V[5]+3593408605&4294967295,P=R+(b<<5&4294967295|b>>>27),b=F+(R^M&(P^R))+V[10]+38016083&4294967295,F=P+(b<<9&4294967295|b>>>23),b=M+(P^R&(F^P))+V[15]+3634488961&4294967295,M=F+(b<<14&4294967295|b>>>18),b=R+(F^P&(M^F))+V[4]+3889429448&4294967295,R=M+(b<<20&4294967295|b>>>12),b=P+(M^F&(R^M))+V[9]+568446438&4294967295,P=R+(b<<5&4294967295|b>>>27),b=F+(R^M&(P^R))+V[14]+3275163606&4294967295,F=P+(b<<9&4294967295|b>>>23),b=M+(P^R&(F^P))+V[3]+4107603335&4294967295,M=F+(b<<14&4294967295|b>>>18),b=R+(F^P&(M^F))+V[8]+1163531501&4294967295,R=M+(b<<20&4294967295|b>>>12),b=P+(M^F&(R^M))+V[13]+2850285829&4294967295,P=R+(b<<5&4294967295|b>>>27),b=F+(R^M&(P^R))+V[2]+4243563512&4294967295,F=P+(b<<9&4294967295|b>>>23),b=M+(P^R&(F^P))+V[7]+1735328473&4294967295,M=F+(b<<14&4294967295|b>>>18),b=R+(F^P&(M^F))+V[12]+2368359562&4294967295,R=M+(b<<20&4294967295|b>>>12),b=P+(R^M^F)+V[5]+4294588738&4294967295,P=R+(b<<4&4294967295|b>>>28),b=F+(P^R^M)+V[8]+2272392833&4294967295,F=P+(b<<11&4294967295|b>>>21),b=M+(F^P^R)+V[11]+1839030562&4294967295,M=F+(b<<16&4294967295|b>>>16),b=R+(M^F^P)+V[14]+4259657740&4294967295,R=M+(b<<23&4294967295|b>>>9),b=P+(R^M^F)+V[1]+2763975236&4294967295,P=R+(b<<4&4294967295|b>>>28),b=F+(P^R^M)+V[4]+1272893353&4294967295,F=P+(b<<11&4294967295|b>>>21),b=M+(F^P^R)+V[7]+4139469664&4294967295,M=F+(b<<16&4294967295|b>>>16),b=R+(M^F^P)+V[10]+3200236656&4294967295,R=M+(b<<23&4294967295|b>>>9),b=P+(R^M^F)+V[13]+681279174&4294967295,P=R+(b<<4&4294967295|b>>>28),b=F+(P^R^M)+V[0]+3936430074&4294967295,F=P+(b<<11&4294967295|b>>>21),b=M+(F^P^R)+V[3]+3572445317&4294967295,M=F+(b<<16&4294967295|b>>>16),b=R+(M^F^P)+V[6]+76029189&4294967295,R=M+(b<<23&4294967295|b>>>9),b=P+(R^M^F)+V[9]+3654602809&4294967295,P=R+(b<<4&4294967295|b>>>28),b=F+(P^R^M)+V[12]+3873151461&4294967295,F=P+(b<<11&4294967295|b>>>21),b=M+(F^P^R)+V[15]+530742520&4294967295,M=F+(b<<16&4294967295|b>>>16),b=R+(M^F^P)+V[2]+3299628645&4294967295,R=M+(b<<23&4294967295|b>>>9),b=P+(M^(R|~F))+V[0]+4096336452&4294967295,P=R+(b<<6&4294967295|b>>>26),b=F+(R^(P|~M))+V[7]+1126891415&4294967295,F=P+(b<<10&4294967295|b>>>22),b=M+(P^(F|~R))+V[14]+2878612391&4294967295,M=F+(b<<15&4294967295|b>>>17),b=R+(F^(M|~P))+V[5]+4237533241&4294967295,R=M+(b<<21&4294967295|b>>>11),b=P+(M^(R|~F))+V[12]+1700485571&4294967295,P=R+(b<<6&4294967295|b>>>26),b=F+(R^(P|~M))+V[3]+2399980690&4294967295,F=P+(b<<10&4294967295|b>>>22),b=M+(P^(F|~R))+V[10]+4293915773&4294967295,M=F+(b<<15&4294967295|b>>>17),b=R+(F^(M|~P))+V[1]+2240044497&4294967295,R=M+(b<<21&4294967295|b>>>11),b=P+(M^(R|~F))+V[8]+1873313359&4294967295,P=R+(b<<6&4294967295|b>>>26),b=F+(R^(P|~M))+V[15]+4264355552&4294967295,F=P+(b<<10&4294967295|b>>>22),b=M+(P^(F|~R))+V[6]+2734768916&4294967295,M=F+(b<<15&4294967295|b>>>17),b=R+(F^(M|~P))+V[13]+1309151649&4294967295,R=M+(b<<21&4294967295|b>>>11),b=P+(M^(R|~F))+V[4]+4149444226&4294967295,P=R+(b<<6&4294967295|b>>>26),b=F+(R^(P|~M))+V[11]+3174756917&4294967295,F=P+(b<<10&4294967295|b>>>22),b=M+(P^(F|~R))+V[2]+718787259&4294967295,M=F+(b<<15&4294967295|b>>>17),b=R+(F^(M|~P))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var R=P-this.blockSize,V=this.B,M=this.h,F=0;F<P;){if(M==0)for(;F<=R;)s(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<P;)if(V[M++]=N.charCodeAt(F++),M==this.blockSize){s(this,V),M=0;break}}else for(;F<P;)if(V[M++]=N[F++],M==this.blockSize){s(this,V),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var R=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=R&255,R/=256;for(this.u(N),N=Array(16),P=R=0;4>P;++P)for(var V=0;32>V;V+=8)N[R++]=this.g[P]>>>V&255;return N};function a(N,P){var R=h;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=P(N)}function u(N,P){this.h=P;for(var R=[],V=!0,M=N.length-1;0<=M;M--){var F=N[M]|0;V&&F==P||(R[M]=F,V=!1)}this.g=R}var h={};function f(N){return-128<=N&&128>N?a(N,function(P){return new u([P|0],0>P?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return C(m(-N));for(var P=[],R=1,V=0;N>=R;V++)P[V]=N/R|0,R*=4294967296;return new u(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return C(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(P,8)),V=w,M=0;M<N.length;M+=8){var F=Math.min(8,N.length-M),b=parseInt(N.substring(M,M+F),P);8>F?(F=m(Math.pow(P,F)),V=V.j(F).add(m(b))):(V=V.j(R),V=V.add(m(b)))}return V}var w=f(0),x=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(D(this))return-C(this).m();for(var N=0,P=1,R=0;R<this.g.length;R++){var V=this.i(R);N+=(0<=V?V:4294967296+V)*P,P*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(D(this))return"-"+C(this).toString(N);for(var P=m(Math.pow(N,6)),R=this,V="";;){var M=Q(R,P).g;R=H(R,M.j(P));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,k(R))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function D(N){return N.h==-1}t.l=function(N){return N=H(this,N),D(N)?-1:k(N)?0:1};function C(N){for(var P=N.g.length,R=[],V=0;V<P;V++)R[V]=~N.g[V];return new u(R,~N.h).add(x)}t.abs=function(){return D(this)?C(this):this},t.add=function(N){for(var P=Math.max(this.g.length,N.g.length),R=[],V=0,M=0;M<=P;M++){var F=V+(this.i(M)&65535)+(N.i(M)&65535),b=(F>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=b>>>16,F&=65535,b&=65535,R[M]=b<<16|F}return new u(R,R[R.length-1]&-2147483648?-1:0)};function H(N,P){return N.add(C(P))}t.j=function(N){if(k(this)||k(N))return w;if(D(this))return D(N)?C(this).j(C(N)):C(C(this).j(N));if(D(N))return C(this.j(C(N)));if(0>this.l(S)&&0>N.l(S))return m(this.m()*N.m());for(var P=this.g.length+N.g.length,R=[],V=0;V<2*P;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<N.g.length;M++){var F=this.i(V)>>>16,b=this.i(V)&65535,Ze=N.i(M)>>>16,Mt=N.i(M)&65535;R[2*V+2*M]+=b*Mt,G(R,2*V+2*M),R[2*V+2*M+1]+=F*Mt,G(R,2*V+2*M+1),R[2*V+2*M+1]+=b*Ze,G(R,2*V+2*M+1),R[2*V+2*M+2]+=F*Ze,G(R,2*V+2*M+2)}for(V=0;V<P;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=P;V<2*P;V++)R[V]=0;return new u(R,0)};function G(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function W(N,P){this.g=N,this.h=P}function Q(N,P){if(k(P))throw Error("division by zero");if(k(N))return new W(w,w);if(D(N))return P=Q(C(N),P),new W(C(P.g),C(P.h));if(D(P))return P=Q(N,C(P)),new W(C(P.g),P.h);if(30<N.g.length){if(D(N)||D(P))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=P;0>=V.l(N);)R=J(R),V=J(V);var M=re(R,1),F=re(V,1);for(V=re(V,2),R=re(R,2);!k(V);){var b=F.add(V);0>=b.l(N)&&(M=M.add(R),F=b),V=re(V,1),R=re(R,1)}return P=H(N,M.j(P)),new W(M,P)}for(M=w;0<=N.l(P);){for(R=Math.max(1,Math.floor(N.m()/P.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=m(R),b=F.j(P);D(b)||0<b.l(N);)R-=V,F=m(R),b=F.j(P);k(F)&&(F=x),M=M.add(F),N=H(N,b)}return new W(M,N)}t.A=function(N){return Q(this,N).h},t.and=function(N){for(var P=Math.max(this.g.length,N.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)&N.i(V);return new u(R,this.h&N.h)},t.or=function(N){for(var P=Math.max(this.g.length,N.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)|N.i(V);return new u(R,this.h|N.h)},t.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),R=[],V=0;V<P;V++)R[V]=this.i(V)^N.i(V);return new u(R,this.h^N.h)};function J(N){for(var P=N.g.length+1,R=[],V=0;V<P;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(R,N.h)}function re(N,P){var R=P>>5;P%=32;for(var V=N.g.length-R,M=[],F=0;F<V;F++)M[F]=0<P?N.i(F+R)>>>P|N.i(F+R+1)<<32-P:N.i(F+R);return new u(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ME=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Qi=u}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,Vl,FE,uh,Up,UE,BE,zE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var E=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var U=c[I];if(!(U in E))break e;E=E[U]}c=c[c.length-1],I=E[c],y=y(I),y!=I&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,I=!1,U={next:function(){if(!I&&E<c.length){var K=E++;return{value:y(K,c[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function w(c,y,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function x(c,y,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,x.apply(null,arguments)}function S(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function k(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,U,K){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return y.prototype[U].apply(I,oe)}}function D(c){const y=c.length;if(0<y){const E=Array(y);for(let I=0;I<y;I++)E[I]=c[I];return E}return[]}function C(c,y){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const U=c.length||0,K=I.length||0;c.length=U+K;for(let oe=0;oe<K;oe++)c[U+oe]=I[oe]}else c.push(I)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var J=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function re(c,y,E){for(const I in c)y.call(E,c[I],I,c)}function N(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let E,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(E in I)c[E]=I[E];for(let K=0;K<R.length;K++)E=R[K],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function M(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function F(c){h.setTimeout(()=>{throw c},0)}function b(){var c=pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ze{constructor(){this.h=this.g=null}add(y,E){const I=Mt.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Mt=new H(()=>new Lt,c=>c.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,se=!1,pe=new Ze,ae=()=>{const c=h.Promise.resolve(void 0);Ie=()=>{c.then(L)}};var L=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(E){F(E)}var y=Mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c}();function Re(c,y){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{Q(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}k(Re,me);var je={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ke(c,y,E,I,U){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=U,this.key=++Be,this.da=this.fa=!1}function kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jr(c){this.src=c,this.g={},this.h=0}jr.prototype.add=function(c,y,E,I,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=di(c,y,I,U);return-1<oe?(y=c[oe],E||(y.fa=!1)):(y=new Ke(y,this.src,K,!!I,U),y.fa=E,c.push(y)),y};function lo(c,y){var E=y.type;if(E in c.g){var I=c.g[E],U=Array.prototype.indexOf.call(I,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(I,U,1),K&&(kt(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function di(c,y,E,I){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==I)return U}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),uo={};function ja(c,y,E,I,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)ja(c,y[K],E,I,U);return null}return E=La(E),c&&c[Ue]?c.K(y,E,m(I)?!!I.capture:!1,U):Oa(c,y,E,!1,I,U)}function Oa(c,y,E,I,U,K){if(!y)throw Error("Invalid event type");var oe=m(U)?!!U.capture:!!U,$e=ho(c);if($e||(c[ds]=$e=new jr(c)),E=$e.add(y,E,I,oe,K),E.proxy)return E;if(I=bu(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)Ae||(U=oe),U===void 0&&(U=!1),c.addEventListener(y.toString(),I,U);else if(c.attachEvent)c.attachEvent(Mr(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bu(){function c(E){return y.call(c.src,c.listener,E)}const y=Ma;return c}function co(c,y,E,I,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)co(c,y[K],E,I,U);else I=m(I)?!!I.capture:!!I,E=La(E),c&&c[Ue]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],E=di(K,E,I,U),-1<E&&(kt(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ho(c))&&(y=c.g[y.toString()],c=-1,y&&(c=di(y,E,I,U)),(E=-1<c?y[c]:null)&&Or(E))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])lo(y.i,c);else{var E=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(E,I,c.capture):y.detachEvent?y.detachEvent(Mr(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=ho(y))?(lo(E,c),E.h==0&&(E.src=null,y[ds]=null)):kt(c)}}}function Mr(c){return c in uo?uo[c]:uo[c]="on"+c}function Ma(c,y){if(c.da)c=!0;else{y=new Re(y,this);var E=c.listener,I=c.ha||c.src;c.fa&&Or(c),c=E.call(I,y)}return c}function ho(c){return c=c[ds],c instanceof jr?c:null}var fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(y){return c.handleEvent(y)}),c[fo])}function Tt(){Y.call(this),this.i=new jr(this),this.M=this,this.F=null}k(Tt,Y),Tt.prototype[Ue]=!0,Tt.prototype.removeEventListener=function(c,y,E,I){co(this,c,y,E,I)};function St(c,y){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new me(y,c);else if(y instanceof me)y.target=y.target||c;else{var U=y;y=new me(I,c),V(y,U)}if(U=!0,E)for(var K=E.length-1;0<=K;K--){var oe=y.g=E[K];U=Lr(oe,I,!0,y)&&U}if(oe=y.g=c,U=Lr(oe,I,!0,y)&&U,U=Lr(oe,I,!1,y)&&U,E)for(K=0;K<E.length;K++)oe=y.g=E[K],U=Lr(oe,I,!1,y)&&U}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],I=0;I<E.length;I++)kt(E[I]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,E,I){return this.i.add(String(c),y,!1,E,I)},Tt.prototype.L=function(c,y,E,I){return this.i.add(String(c),y,!0,E,I)};function Lr(c,y,E,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var oe=y[K];if(oe&&!oe.da&&oe.capture==E){var $e=oe.listener,It=oe.ha||oe.src;oe.fa&&lo(c.i,oe),U=$e.call(It,I)!==!1&&U}}return U&&!I.defaultPrevented}function Fa(c,y,E){if(typeof c=="function")E&&(c=x(c,E));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function fi(c){c.g=Fa(()=>{c.g=null,c.i&&(c.i=!1,fi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class fs extends Y{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){Y.call(this),this.h=c,this.g={}}k(ps,Y);var Ua=[];function Ba(c){re(c.g,function(y,E){this.g.hasOwnProperty(E)&&Or(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Ba(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=h.JSON.stringify,$a=h.JSON.parse,Ha=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ms(){}ms.prototype.h=null;function po(c){return c.h||(c.h=c.i())}function mo(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){me.call(this,"d")}k(ur,me);function go(){me.call(this,"c")}k(go,me);var cr={},Wa=null;function gs(){return Wa=Wa||new Tt}cr.La="serverreachability";function qa(c){me.call(this,cr.La,c)}k(qa,me);function Fr(c){const y=gs();St(y,new qa(y))}cr.STAT_EVENT="statevent";function Ka(c,y){me.call(this,cr.STAT_EVENT,c),this.stat=y}k(Ka,me);function ft(c){const y=gs();St(y,new Ka(y,c))}cr.Ma="timingevent";function yo(c,y){me.call(this,cr.Ma,c),this.size=y}k(yo,me);function Wn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(c,y,E,I,U,K){c.info(function(){if(c.g)if(K)for(var oe="",$e=K.split("&"),It=0;It<$e.length;It++){var Oe=$e[It].split("=");if(1<Oe.length){var Nt=Oe[0];Oe=Oe[1];var vt=Nt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(Nt+"="+Oe+"&"):oe+(Nt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+y+`
`+E+`
`+oe})}function vo(c,y,E,I,U,K,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+y+`
`+E+`
`+K+" "+oe})}function qn(c,y,E,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_d(c,E)+(I?" "+I:"")})}function Ga(c,y){c.info(function(){return"TIMEOUT: "+y})}ys.prototype.info=function(){};function _d(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return za(E)}catch{return y}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ku={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function _s(){}k(_s,ms),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Kn=new _s;function Gn(c,y,E,I){this.j=c,this.i=y,this.l=E,this.R=I||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nu}function Nu(){this.i=null,this.g="",this.h=!1}var Qa={},wo={};function Eo(c,y,E){c.L=1,c.v=vi(En(y)),c.m=E,c.P=!0,Xa(c,null)}function Xa(c,y){c.F=Date.now(),Ge(c),c.A=En(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),wi(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Nu,c.g=Xu(c.j,E?y:null,!c.m),0<c.O&&(c.M=new fs(x(c.Y,c,c.g),c.O)),y=c.U,E=c.g,I=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ua[0]=U.toString()),U=Ua);for(var K=0;K<U.length;K++){var oe=ja(E,U[K],I||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fr(),vs(c.i,c.u,c.A,c.l,c.R,c.m)}Gn.prototype.ca=function(c){c=c.target;const y=this.M;y&&cn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=cn(this.g);var y=this.g.Ba();const jn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||nl(this.g)))){this.J||vt!=4||y==7||(y==8||0>=jn?Fr(3):Fr(2)),ws(this);var E=this.g.Z();this.X=E;t:if(Du(this)){var I=nl(this.g);c="";var U=I.length,K=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),pi(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(K&&y==U-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,vo(this.i,this.u,this.A,this.l,this.R,vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,It=this.g;if(($e=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G($e)){var Oe=$e;break t}}Oe=null}if(E=Oe)qn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,E);else{this.o=!1,this.s=3,ft(12),Dn(this),pi(this);break e}}if(this.P){E=!0;let Tn;for(;!this.J&&this.C<oe.length;)if(Tn=wd(this,oe),Tn==wo){vt==4&&(this.s=4,ft(14),E=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Qa){this.s=4,ft(15),qn(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else qn(this.i,this.l,Tn,null),Ya(this,Tn);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),E=!1),this.o=this.o&&E,!E)qn(this.i,this.l,oe,"[Invalid Chunked Response]"),Dn(this),pi(this);else if(0<oe.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),il(Nt),Nt.M=!0,ft(11))}}else qn(this.i,this.l,oe,null),Ya(this,oe);vt==4&&Dn(this),this.o&&!this.J&&(vt==4?No(this.j,this):(this.o=!1,Ge(this)))}else Ao(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Dn(this),pi(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wd(c,y){var E=c.C,I=y.indexOf(`
`,E);return I==-1?wo:(E=Number(y.substring(E,I)),isNaN(E)?Qa:(I+=1,I+E>y.length?wo:(y=y.slice(I,I+E),c.C=I+E,y)))}Gn.prototype.cancel=function(){this.J=!0,Dn(this)};function Ge(c){c.S=Date.now()+c.I,Vu(c,c.I)}function Vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wn(x(c.ba,c),y)}function ws(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ga(this.i,this.A),this.L!=2&&(Fr(),ft(17)),Dn(this),this.s=2,pi(this)):Vu(this,this.S-c)};function pi(c){c.j.G==0||c.J||No(c.j,c)}function Dn(c){ws(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ba(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ya(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||nn(E.h,c))){if(!c.K&&nn(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)ko(E),Zn(E);else break e;bo(E),ft(18)}}else E.za=U[1],0<E.za-E.T&&37500>U[2]&&E.F&&E.v==0&&!E.C&&(E.C=Wn(x(E.Za,E),6e3));if(1>=Ou(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Hr(E,11)}else if((c.K||E.g==c)&&ko(E),!G(y))for(U=E.Da.g.parse(y),y=0;y<U.length;y++){let Oe=U[y];if(E.T=Oe[0],Oe=Oe[1],E.G==2)if(Oe[0]=="c"){E.K=Oe[1],E.ia=Oe[2];const Nt=Oe[3];Nt!=null&&(E.la=Nt,E.j.info("VER="+E.la));const vt=Oe[4];vt!=null&&(E.Aa=vt,E.j.info("SVER="+E.Aa));const jn=Oe[5];jn!=null&&typeof jn=="number"&&0<jn&&(I=1.5*jn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Tn=c.g;if(Tn){const As=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var K=I.h;K.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ja(K,K.h),K.h=null))}if(I.D){const Vo=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(I.ya=Vo,He(I.I,I.D,Vo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var oe=c;if(I.qa=Qu(I,I.J?I.ia:null,I.W),oe.K){Mu(I.h,oe);var $e=oe,It=I.L;It&&($e.I=It),$e.B&&(ws($e),Ge($e)),I.g=oe}else Ps(I);0<E.i.length&&pr(E)}else Oe[0]!="stop"&&Oe[0]!="close"||Hr(E,7);else E.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Hr(E,7):Ut(E):Oe[0]!="noop"&&E.l&&E.l.ta(Oe),E.v=0)}}Fr(4)}catch{}}var ju=class{constructor(c,y){this.g=c,this.map=y}};function Es(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ou(c){return c.h?1:c.g?c.g.size:0}function nn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ja(c,y){c.g?c.g.add(y):c.h=y}function Mu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Es.prototype.cancel=function(){if(this.i=Lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return D(c.i)}function xo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],E=c.length,I=0;I<E;I++)y.push(c[I]);return y}y=[],E=0;for(I in c)y[E++]=c[I];return y}function To(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const I in c)y[E++]=I;return y}}}function mi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=To(c),I=xo(c),U=I.length,K=0;K<U;K++)y.call(void 0,I[K],E&&E[K],c)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),U=null;if(0<=I){var K=c[E].substring(0,I);U=c[E].substring(I+1)}else K=c[E];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var y=c.i,E=new hr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),yi(this,E),this.m=c.m}else c&&(y=String(c).match(xs))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),gi(this,y[4]),this.l=Ve(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Ur.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_i(y,So,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_i(y,So,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(_i(E,E.charAt(0)=="/"?Bu:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",_i(E,Za)),c.join("")};function En(c){return new Ur(c)}function Ts(c,y,E){c.j=E?Ve(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,E){y instanceof hr?(c.i=y,dr(c.i,c.h)):(E||(y=_i(y,zu)),c.i=new hr(y,c.h))}function He(c,y,E){c.i.set(y,E)}function vi(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Fu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var So=/[#\/\?@]/g,Uu=/[#\?:]/g,Bu=/[#\?]/g,zu=/[#\?@]/g,Za=/#/g;function hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ft(c){c.g||(c.g=new Map,c.h=0,c.i&&Ed(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=hr.prototype,t.add=function(c,y){Ft(this),this.i=null,c=Vn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Qn(c,y){Ft(c),y=Vn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xn(c,y){return Ft(c),y=Vn(c,y),c.g.has(y)}t.forEach=function(c,y){Ft(this),this.g.forEach(function(E,I){E.forEach(function(U){c.call(y,U,I,this)},this)},this)},t.na=function(){Ft(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let I=0;I<y.length;I++){const U=c[I];for(let K=0;K<U.length;K++)E.push(y[I])}return E},t.V=function(c){Ft(this);let y=[];if(typeof c=="string")Xn(this,c)&&(y=y.concat(this.g.get(Vn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},t.set=function(c,y){return Ft(this),this.i=null,c=Vn(this,c),Xn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function wi(c,y,E){Qn(c,y),0<E.length&&(c.i=null,c.g.set(Vn(c,y),D(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var I=y[E];const K=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var U=K;oe[I]!==""&&(U+="="+encodeURIComponent(String(oe[I]))),c.push(U)}}return this.i=c.join("&")};function Vn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dr(c,y){y&&!c.j&&(Ft(c),c.i=null,c.g.forEach(function(E,I){var U=I.toLowerCase();I!=U&&(Qn(this,I),wi(this,U,E))},c)),c.j=y}function xd(c,y){const E=new ys;if(h.Image){const I=new Image;I.onload=S(un,E,"TestLoadImage: loaded",!0,y,I),I.onerror=S(un,E,"TestLoadImage: error",!1,y,I),I.onabort=S(un,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=S(un,E,"TestLoadImage: timeout",!1,y,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function $u(c,y){const E=new ys,I=new AbortController,U=setTimeout(()=>{I.abort(),un(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(K=>{clearTimeout(U),K.ok?un(E,"TestPingServer: ok",!0,y):un(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),un(E,"TestPingServer: error",!1,y)})}function un(c,y,E,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(E)}catch{}}function Td(){this.g=new Ha}function Hu(c,y,E){const I=E||"";try{mi(c,function(U,K){let oe=U;m(U)&&(oe=za(U)),y.push(I+K+"="+encodeURIComponent(oe))})}catch(U){throw y.push(I+"type="+encodeURIComponent("_badmap")),U}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Br,ms),Br.prototype.g=function(){return new Ss(this.l,this.j)},Br.prototype.i=function(c){return function(){return c}}({});function Ss(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ss,Tt),t=Ss.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Jn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yn(this):Jn(this),this.readyState==3&&Wu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zr(c){let y="";return re(c,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function Ei(c,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=zr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):He(c,y,E))}function et(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(et,Tt);var Sd=/^https?$/i,el=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?po(this.o):po(Kn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Is(this,K);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)E.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())E.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(el,y,void 0))||I||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Is(this,K)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Io(c),xn(c)}function Io(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)Fa(c.Ea,0,c);else if(St(c,"readystatechange"),cn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=oe===0){var U=String(c.D).match(xs)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),I=!Sd.test(U?U.toLowerCase():"")}E=I}if(E)St(c,"complete"),St(c,"success");else{c.m=6;try{var K=2<cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Io(c)}}finally{xn(c)}}}}function xn(c,y){if(c.g){Po(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||St(c,"ready");try{E.onreadystatechange=I}catch{}}}function Po(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),$a(y)}};function nl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(c){const y={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(G(c[I]))continue;var E=M(c[I]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[U]||[];y[U]=K,K.push(E)}N(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function rl(c){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,c),this.cb=fr("retryDelaySeedMs",1e4,c),this.Wa=fr("forwardChannelMaxRetries",2,c),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(c&&c.concurrentRequestLimit),this.Da=new Td,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rl.prototype,t.la=8,t.G=1,t.connect=function(c,y,E,I){ft(0),this.W=c,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Qu(this,null,this.W),pr(this)};function Ut(c){if(Co(c),c.G==3){var y=c.U++,E=En(c.I);if(He(E,"SID",c.K),He(E,"RID",y),He(E,"TYPE","terminate"),$r(c,E),y=new Gn(c,c.j,y),y.L=2,y.v=vi(En(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ge(y)}Gu(c)}function Zn(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function Co(c){Zn(c),c.u&&(h.clearTimeout(c.u),c.u=null),ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function pr(c){if(!wn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ie||ae(),se||(Ie(),se=!0),pe.add(y,c),c.B=0}}function Id(c,y){return Ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wn(x(c.Ga,c,y),Ku(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Gn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=P(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=xi(this,U,y),E=En(this.I),He(E,"RID",c),He(E,"CVER",22),this.D&&He(E,"X-HTTP-Session-Id",this.D),$r(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(zr(K)))+"&"+y:this.m&&Ei(E,this.m,K)),Ja(this.h,U),this.Ua&&He(E,"TYPE","init"),this.P?(He(E,"$req",y),He(E,"SID","null"),U.T=!0,Eo(U,E,null)):Eo(U,E,y),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||wn(this.h)||Ro(this))};function Ro(c,y){var E;y?E=y.l:E=c.U++;const I=En(c.I);He(I,"SID",c.K),He(I,"RID",E),He(I,"AID",c.T),$r(c,I),c.m&&c.o&&Ei(I,c.m,c.o),E=new Gn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xi(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ja(c.h,E),Eo(E,I,y)}function $r(c,y){c.H&&re(c.H,function(E,I){He(y,I,E)}),c.l&&mi({},function(E,I){He(y,I,E)})}function xi(c,y,E){E=Math.min(c.i.length,E);var I=c.l?x(c.l.Na,c.l,c):null;e:{var U=c.i;let K=-1;for(;;){const oe=["count="+E];K==-1?0<E?(K=U[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let $e=!0;for(let It=0;It<E;It++){let Oe=U[It].g;const Nt=U[It].map;if(Oe-=K,0>Oe)K=Math.max(0,U[It].g-100),$e=!1;else try{Hu(Nt,oe,"req"+Oe+"_")}catch{I&&I(Nt)}}if($e){I=oe.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,I}function Ps(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ie||ae(),se||(Ie(),se=!0),pe.add(y,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wn(x(c.Fa,c),Ku(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wn(x(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Zn(this),qu(this))};function il(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&Ei(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=vi(En(y)),E.m=null,E.P=!0,Xa(E,c)}t.Za=function(){this.C!=null&&(this.C=null,Zn(this),bo(this),ft(19))};function ko(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function No(c,y){var E=null;if(c.g==y){ko(c),il(c),c.g=null;var I=2}else if(nn(c.h,y))E=y.D,Mu(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;I=gs(),St(I,new yo(I,E)),pr(c)}else Ps(c);else if(U=y.s,U==3||U==0&&0<y.X||!(I==1&&Id(c,y)||I==2&&bo(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),U){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function Ku(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var E=x(c.fb,c),I=c.Xa;const U=!I;I=new Ur(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(I,"https"),vi(I),U?xd(I.toString(),E):$u(I.toString(),E)}else ft(2);c.G=0,c.l&&c.l.sa(y),Gu(c),Co(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=Lu(c.h);(y.length!=0||c.i.length!=0)&&(C(c.ka,y),C(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,E){var I=E instanceof Ur?En(E):new Ur(E);if(I.g!="")y&&(I.g=y+"."+I.g),gi(I,I.s);else{var U=h.location;I=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new Ur(null);I&&Ts(K,I),y&&(K.g=y),U&&gi(K,U),E&&(K.l=E),I=K}return E=c.D,y=c.ya,E&&y&&He(I,E,y),He(I,"VER",c.la),$r(c,I),I}function Xu(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new et(new Br({eb:E})):new et(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sl(){}t=sl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Do(){}Do.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new rl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}k(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ut(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=za(c),c=E);y.i.push(new ju(y.Ya++,c)),y.G==3&&pr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,rn.aa.N.call(this)};function Yu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Yu,ur);function Ju(){go.call(this),this.status=1}k(Ju,go);function mr(c){this.g=c}k(mr,sl),mr.prototype.ua=function(){St(this.g,"a")},mr.prototype.ta=function(c){St(this.g,new Yu(c))},mr.prototype.sa=function(c){St(this.g,new Ju)},mr.prototype.ra=function(){St(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,zE=function(){return new Do},BE=function(){return gs()},UE=cr,Up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,uh=_o,ku.COMPLETE="complete",FE=ku,mo.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Vl=mo,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,LE=et}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",d_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new km("@firebase/firestore");function ta(){return Zs.logLevel}function ue(t,...e){if(Zs.logLevel<=Ne.DEBUG){const n=e.map($m);Zs.debug(`Firestore (${Ca}): ${t}`,...n)}}function si(t,...e){if(Zs.logLevel<=Ne.ERROR){const n=e.map($m);Zs.error(`Firestore (${Ca}): ${t}`,...n)}}function ga(t,...e){if(Zs.logLevel<=Ne.WARN){const n=e.map($m);Zs.warn(`Firestore (${Ca}): ${t}`,...n)}}function $m(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$E(t,r,n)}function $E(t,e,n){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw si(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||$E(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class Vb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jb{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new HE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class Ob{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ob(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Fb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Bp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ce(r,s);{const a=WE(),u=Ub(a.encode(p_(t,n)),a.encode(p_(e,n)));return u!==0?u:Ce(r,s)}}n+=r>65535?2:1}return Ce(t.length,e.length)}function p_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ub(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ce(t[n],e[n]);return Ce(t.length,e.length)}function ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*g_);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Er.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ce(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),s=Er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ct extends Er{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const Bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Er{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return Bb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Wt([y_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function zb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Ji(s,_e.empty(),e)}function $b(t){return new Ji(t.readTime,t.key,eu)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(Se.min(),_e.empty(),eu)}static max(){return new Ji(Se.max(),_e.empty(),eu)}}function Hb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==Wb)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&n()},f=>r(f))}),u=!0,a===s&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(s=>s?X.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new X((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next(g=>{u[m]=g,++h,h===a&&r(u)},g=>s(g))}})}static doWhile(e,n){return new X((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function Kb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function ed(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}function Gb(t){return typeof t=="number"&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function Qb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v_(e)),e=Xb(t.get(n),e);return v_(e)}function Xb(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case KE:n+="";break;default:n+=a}}return n}function v_(t){return t+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ht(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new bt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QE("Invalid base64 string: "+a):a}}(e);return new qt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Yb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=Yb.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="server_timestamp",YE="__type__",JE="__previous_value__",ZE="__local_write_time__";function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[YE])===null||n===void 0?void 0:n.stringValue)===XE}function td(t){const e=t.mapValue.fields[JE];return Wm(e)?td(e):e}function tu(t){const e=Zi(t.mapValue.fields[ZE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,s,a,u,h,f,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const Ch="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="__type__",Zb="__max__",Qc={mapValue:{}},tx="__vector__",Rh="value";function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:tk(t)?9007199254740991:ek(t)?10:11:xe(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Zi(s.timestampValue),h=Zi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return es(s.bytesValue).isEqual(es(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return gt(s.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return gt(s.integerValue)===gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=gt(s.doubleValue),h=gt(a.doubleValue);return u===h?Ah(u)===Ah(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(__(u)!==__(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Nr(u[f],h[f])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function ru(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=gt(a.integerValue||a.doubleValue),f=gt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(tu(t),tu(e));case 5:return Bp(t.stringValue,e.stringValue);case 6:return function(a,u){const h=es(a),f=es(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Ce(h[m],f[m]);if(g!==0)return g}return Ce(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ce(gt(a.latitude),gt(u.latitude));return h!==0?h:Ce(gt(a.longitude),gt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,g;const w=a.fields||{},x=u.fields||{},S=(h=w[Rh])===null||h===void 0?void 0:h.arrayValue,k=(f=x[Rh])===null||f===void 0?void 0:f.arrayValue,D=Ce(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:x_(S,k)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qc.mapValue&&u===Qc.mapValue)return 0;if(a===Qc.mapValue)return 1;if(u===Qc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const x=Bp(f[w],g[w]);if(x!==0)return x;const S=va(h[f[w]],m[g[w]]);if(S!==0)return S}return Ce(f.length,g.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{Pe:n})}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Zi(t),r=Zi(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function x_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=va(n[s],r[s]);if(a)return a}return Ce(n.length,r.length)}function _a(t){return zp(t)}function zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=zp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${zp(n.fields[u])}`;return s+"}"}(t.mapValue):xe(61005,{value:t})}function ch(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=td(t);return e?16+ch(e):16;case 5:return 2*t.stringValue.length;case 6:return es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+ch(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return us(r.fields,(a,u)=>{s+=a.length+ch(u)}),s}(t.mapValue);default:throw xe(13486,{value:t})}}function $p(t){return!!t&&"integerValue"in t}function qm(t){return!!t&&"arrayValue"in t}function T_(t){return!!t&&"nullValue"in t}function S_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hh(t){return!!t&&"mapValue"in t}function ek(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ex])===null||n===void 0?void 0:n.stringValue)===tx}function Ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Wt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}u?r[h.lastSegment()]=Ul(u):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){us(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new vn(Ul(this.value))}}function nx(t){const e=[];return us(t.fields,(n,r)=>{const s=new Wt([n]);if(hh(r)){const a=nx(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function I_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),n.key):r=va(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{}class Ct extends rx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ik(e,n,r):n==="array-contains"?new ak(e,r):n==="in"?new lk(e,r):n==="not-in"?new uk(e,r):n==="array-contains-any"?new ck(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sk(e,r):new ok(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends rx{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Dr(e,n)}matches(e){return ix(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ix(t){return t.op==="and"}function sx(t){return rk(t)&&ix(t)}function rk(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function Hp(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(sx(t))return t.filters.map(e=>Hp(e)).join(",");{const e=t.filters.map(n=>Hp(n)).join(",");return`${t.op}(${e})`}}function ox(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)}(t,e):t instanceof Dr?function(r,s){return s instanceof Dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&ox(u,s.filters[h]),!0):!1}(t,e):void xe(19439)}function ax(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(ax).join(" ,")+"}"}(t):"Filter"}class ik extends Ct{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class sk extends Ct{constructor(e,n){super(e,"in",n),this.keys=lx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ok extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=lx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class ak extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&ru(n.arrayValue,this.value)}}class lk extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class uk extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class ck extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Ie=null}}function A_(t,e=null,n=[],r=[],s=null,a=null,u=null){return new hk(t,e,n,r,s,a,u)}function Km(t){const e=Pe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.Ie=n}return e.Ie}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ox(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function Wp(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dk(t,e,n,r,s,a,u,h){return new nd(t,e,n,r,s,a,u,h)}function Qm(t){return new nd(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fk(t){return t.collectionGroup!==null}function Bl(t){const e=Pe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new bt(Wt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new kh(a,r))}),n.has(Wt.keyField().canonicalString())||e.Ee.push(new kh(Wt.keyField(),r))}return e.Ee}function Pr(t){const e=Pe(t);return e.de||(e.de=pk(e,Bl(t))),e.de}function pk(t,e){if(t.limitType==="F")return A_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new kh(s.field,a)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return A_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qp(t,e,n){return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return Gm(Pr(t),Pr(e))&&t.limitType===e.limitType}function ux(t){return`${Km(Pr(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ax(s)).join(", ")}]`),ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_a(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_a(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Bl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const m=I_(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Bl(r),s)||r.endAt&&!function(u,h,f){const m=I_(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Bl(r),s))}(t,e)}function mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cx(t){return(e,n)=>{let r=!1;for(const s of Bl(t)){const a=gk(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function gk(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?va(f,m):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new at(_e.comparator);function oi(){return yk}const hx=new at(_e.comparator);function jl(...t){let e=hx;for(const n of t)e=e.insert(n.key,n);return e}function dx(t){let e=hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $s(){return zl()}function fx(){return zl()}function zl(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const vk=new at(_e.comparator),_k=new bt(_e.comparator);function De(...t){let e=_k;for(const n of t)e=e.add(n);return e}const wk=new bt(Ce);function Ek(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function px(t){return{integerValue:""+t}}function xk(t,e){return Gb(e)?px(e):Xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function Tk(t,e,n){return t instanceof Nh?function(s,a){const u={fields:{[YE]:{stringValue:XE},[ZE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Wm(a)&&(a=td(a)),a&&(u.fields[JE]=a),{mapValue:u}}(n,e):t instanceof iu?gx(t,e):t instanceof su?yx(t,e):function(s,a){const u=mx(s,a),h=R_(u)+R_(s.Re);return $p(u)&&$p(s.Re)?px(h):Xm(s.serializer,h)}(t,e)}function Sk(t,e,n){return t instanceof iu?gx(t,e):t instanceof su?yx(t,e):n}function mx(t,e){return t instanceof Dh?function(r){return $p(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Nh extends sd{}class iu extends sd{constructor(e){super(),this.elements=e}}function gx(t,e){const n=vx(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class su extends sd{constructor(e){super(),this.elements=e}}function yx(t,e){let n=vx(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class Dh extends sd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function R_(t){return gt(t.integerValue||t.doubleValue)}function vx(t){return qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ik(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof iu&&s instanceof iu||r instanceof su&&s instanceof su?ya(r.elements,s.elements,Nr):r instanceof Dh&&s instanceof Dh?Nr(r.Re,s.Re):r instanceof Nh&&s instanceof Nh}(t.transform,e.transform)}class Pk{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function _x(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ex(t.key,Ar.none()):new Eu(t.key,t.data,Ar.none());{const n=t.data,r=vn.empty();let s=new bt(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new cs(t.key,r,new Cn(s.toArray()),Ar.none())}}function Ak(t,e,n){t instanceof Eu?function(s,a,u){const h=s.value.clone(),f=k_(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof cs?function(s,a,u){if(!dh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=k_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(wx(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function $l(t,e,n,r){return t instanceof Eu?function(a,u,h,f){if(!dh(a.precondition,u))return h;const m=a.value.clone(),g=N_(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof cs?function(a,u,h,f){if(!dh(a.precondition,u))return h;const m=N_(a.fieldTransforms,f,u),g=u.data;return g.setAll(wx(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,u,h){return dh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function Ck(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=mx(r.transform,s||null);a!=null&&(n===null&&(n=vn.empty()),n.set(r.field,a))}return n||null}function b_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ya(r,s,(a,u)=>Ik(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends od{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cs extends od{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k_(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,Sk(u,h,n[s]))}return r}function N_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,Tk(a,u,e))}return r}class Ex extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rk extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Ak(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fx();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(s.key)?null:h;const f=_x(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>b_(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>b_(n,r))}}class Ym{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return vk}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Ym(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Me;function Dk(t){switch(t){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function xx(t){if(t===void 0)return si("GRPC error has no .code"),ne.UNKNOWN;switch(t){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:t})}}(Me=wt||(wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new Qi([4294967295,4294967295],0);function D_(t){const e=WE().encode(t),n=new ME;return n.update(e),new Uint8Array(n.digest())}function V_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([s,a],0)]}class Jm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qi.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Qi.fromNumber(r)));return s.compare(Vk)===1&&(s=new Qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=D_(e),[r,s]=V_(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Jm(a,s,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=D_(e),[r,s]=V_(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(Se.min(),s,new at(Ce),oi(),De())}}class xu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Tx{constructor(e,n){this.targetId=e,this.Ce=n}}class Sx{constructor(e,n,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class j_{constructor(){this.Fe=0,this.Me=O_(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=De(),n=De(),r=De();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:a})}}),new xu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=O_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jk{constructor(e){this.ze=e,this.je=new Map,this.He=oi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new at(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(Wp(a))if(r===0){const u=new _e(a.path);this.tt(n,u,Zt.newNoDocument(u,Se.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,h;try{u=es(r).toUint8Array()}catch(f){if(f instanceof QE)return ga("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Jm(u,s,a)}catch(f){return ga(f instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,u)=>{const h=this._t(u);if(h){if(a.current&&Wp(h.target)){const f=new _e(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Zt.newNoDocument(f,e))}a.Le&&(n.set(u,a.qe()),a.Qe())}});let r=De();this.Ye.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new ad(e,n,this.Ze,this.He,r);return this.He=oi(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new at(Ce),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new j_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new bt(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new bt(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new j_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new at(_e.comparator)}function O_(){return new at(_e.comparator)}const Ok={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lk={and:"AND",or:"OR"};class Fk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kp(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ix(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uk(t,e){return Vh(t,e.toTimestamp())}function Cr(t){return ze(!!t,49232),Se.fromTimestamp(function(n){const r=Zi(n);return new Rt(r.seconds,r.nanos)}(t))}function Zm(t,e){return Gp(t,e).canonicalString()}function Gp(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Px(t){const e=ct.fromString(t);return ze(kx(e),10190,{key:e.toString()}),e}function Qp(t,e){return Zm(t.databaseId,e.path)}function sp(t,e){const n=Px(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Cx(n))}function Ax(t,e){return Zm(t.databaseId,e)}function Bk(t){const e=Px(t);return e.length===4?ct.emptyPath():Cx(e)}function Xp(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cx(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function M_(t,e,n){return{name:Qp(t,e),fields:n.value.mapValue.fields}}function zk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(ze(g===void 0||typeof g=="string",58123),qt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?ne.UNKNOWN:xx(m.code);return new ve(g,m.message||"")}(u);n=new Sx(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sp(t,r.document.name),a=Cr(r.document.updateTime),u=r.document.createTime?Cr(r.document.createTime):Se.min(),h=new vn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,u,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new fh(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sp(t,r.document),a=r.readTime?Cr(r.readTime):Se.min(),u=Zt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new fh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sp(t,r.document),a=r.removedTargetIds||[];n=new fh([],a,s,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Nk(s,a),h=r.targetId;n=new Tx(h,u)}}return n}function $k(t,e){let n;if(e instanceof Eu)n={update:M_(t,e.key,e.value)};else if(e instanceof Ex)n={delete:Qp(t,e.key)};else if(e instanceof cs)n={update:M_(t,e.key,e.data),updateMask:Jk(e.fieldMask)};else{if(!(e instanceof Rk))return xe(16599,{ft:e.type});n={verify:Qp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw xe(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Uk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)}(t,e.precondition)),n}function Hk(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?Cr(s.updateTime):Cr(a);return u.isEqual(Se.min())&&(u=Cr(a)),new Pk(u,s.transformResults||[])}(n,e))):[]}function Wk(t,e){return{documents:[Ax(t,e.path)]}}function qk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ax(t,s);const a=function(m){if(m.length!==0)return bx(Dr.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(g=>function(x){return{field:ra(x.field),direction:Qk(x.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Kp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:s}}function Kk(t){let e=Bk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(w){const x=Rx(w);return x instanceof Dr&&sx(x)?x.getFilters():[x]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(x=>function(k){return new kh(ia(k.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(x))}(n.orderBy));let h=null;n.limit&&(h=function(w){let x;return x=typeof w=="object"?w.value:w,ed(x)?null:x}(n.limit));let f=null;n.startAt&&(f=function(w){const x=!!w.before,S=w.values||[];return new bh(S,x)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const x=!w.before,S=w.values||[];return new bh(S,x)}(n.endAt)),dk(e,s,u,a,h,"F",f,m)}function Gk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ia(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ia(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ia(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ia(n.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ia(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>Rx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function Qk(t){return Ok[t]}function Xk(t){return Mk[t]}function Yk(t){return Lk[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return Wt.fromServerFormat(t.fieldPath)}function bx(t){return t instanceof Ct?function(n){if(n.op==="=="){if(S_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(T_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(T_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:Xk(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(s=>bx(s));return r.length===1?r[0]:{compositeFilter:{op:Yk(n.op),filters:r}}}(t):xe(54877,{filter:t})}function Jk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,s,a=Se.min(),u=Se.min(),h=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.wt=e}}function eN(t){const e=Kk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Cn=new nN}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Ji.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class nN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(ct.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nx=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Nx,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new wa(0)}static lr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",rN=1048576;function U_([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class iN{constructor(e){this.Er=e,this.buffer=new bt(U_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();U_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(F_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?ue(F_,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.mr(3e5)})}}class oN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return X.resolve(Zh.le);const r=new iN(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(L_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,u,h,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),ta()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function aN(t,e){return new oN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$l(r.mutation,s,Cn.empty(),Rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=jl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,s){let a=oi();const u=zl(),h=function(){return zl()}();return n.forEach((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof cs)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),$l(g.mutation,m,g.mutation.getFieldMask(),Rt.now())):u.set(m.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var w;return h.set(m,new uN(g,(w=u.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const r=zl();let s=new at((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let g=r.get(f)||Cn.empty();g=h.applyToLocalView(m,g),r.set(f,g);const w=(s.get(h.batchId)||De()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,g=f.value,w=fx();g.forEach(x=>{if(!a.has(x)){const S=_x(n.get(x),r.get(x));S!==null&&w.set(x,S),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):X.resolve($s());let h=eu,f=a;return u.next(m=>X.forEach(m,(g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{f=f.insert(g,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,De())).next(g=>({batchId:h,changes:dx(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=jl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,f=>{const m=function(w,x){return new nd(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(g=>{g.forEach((w,x)=>{u=u.insert(w,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))});let h=jl();return u.forEach((f,m)=>{const g=a.get(f);g!==void 0&&$l(g.mutation,m,Cn.empty(),Rt.now()),id(n,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return X.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Cr(s.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:eN(s.bundledQuery),readTime:Cr(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.overlays=new at(_e.comparator),this.Qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return X.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const s=$s(),a=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new at((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=$s(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=$s(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=s)););return X.resolve(h)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kk(n,r));let a=this.Qr.get(n);a===void 0&&(a=De(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.$r=new bt(Ot.Ur),this.Kr=new bt(Ot.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ot(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new _e(new ct([])),r=new Ot(n,e),s=new Ot(n,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new ct([])),r=new Ot(n,e),s=new Ot(n,e+1);let a=De();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Ot(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||Ce(e.Zr,n.Zr)}static Wr(e,n){return Ce(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new bt(Ot.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bk(a,n,r,s);this.mutationQueue.push(u);for(const h of s)this.Xr=this.Xr.add(new Ot(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,n){return X.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Hm:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const h=this.ei(u.Zr);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ce);return n.forEach(s=>{const a=new Ot(s,0),u=new Ot(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],h=>{r=r.add(h.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new _e(a),0);let h=new bt(Ce);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.Zr)),!0)},u),X.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(n.mutations,s=>{const a=new Ot(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ot(n,0),s=this.Xr.firstAfterOrEqual(r);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.ii=e,this.docs=function(){return new at(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=oi();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Hb($b(g),r)<=0||(s.has(g.key)||id(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}si(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gN(this)}getSize(e){return X.resolve(this.size)}}class gN extends lN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.persistence=e,this.oi=new oo(n=>Km(n),Gm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new eg,this.targetCount=0,this.ui=wa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),X.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new wa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Tr(n),X.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.ci={},this.overlays={},this.li=new Zh(0),this.hi=!1,this.hi=!0,this.Pi=new fN,this.referenceDelegate=e(this),this.Ti=new yN(this),this.indexManager=new tN,this.remoteDocumentCache=function(s){return new mN(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Zk(n),this.Ei=new hN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new pN(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new vN(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class vN extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Vi=new eg,this.mi=null}static fi(e){return new tg(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const s=_e.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return X.or([()=>X.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.yi=new oo(r=>Qb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=aN(this,n)}static fi(e,n){return new jh(e,n)}di(){}Ai(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return X.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?X.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(h=>{h||(r++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),X.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}Dr(e,n,r){return X.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=De(),s=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ng(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return YP()?8:Kb(tn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new _N;return this.Ss(e,n,u).next(h=>{if(a.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ta()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(ta()<=Ne.DEBUG&&ue("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ta()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):X.resolve())}ws(e,n){if(C_(n))return X.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qp(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.vs(n,h);return this.Cs(n,m,u,f.readTime)?this.ws(e,qp(n,null,"F")):this.Fs(e,m,n,f)}))})))}bs(e,n,r,s){return C_(n)||s.isEqual(Se.min())?X.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,r,s)?X.resolve(null):(ta()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),na(n)),this.Fs(e,u,n,zb(s,eu)).next(h=>h))})}vs(e,n){let r=new bt(cx(e));return n.forEach((s,a)=>{id(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return ta()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",na(n)),this.ys.getDocumentsMatchingQuery(e,n,Ji.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",EN=3e8;class xN{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new at(Ce),this.Os=new oo(a=>Km(a),Gm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function TN(t,e,n,r){return new xN(t,e,n,r)}async function Vx(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=De();for(const m of s){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){h.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:h}))})})}function SN(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,g){const w=m.batch,x=w.keys();let S=X.resolve();return x.forEach(k=>{S=S.next(()=>g.getEntry(f,k)).next(D=>{const C=m.docVersions.get(k);ze(C!==null,48541),D.version.compareTo(C)<0&&(w.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),g.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=De();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jx(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function IN(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const h=[];e.targetChanges.forEach((g,w)=>{const x=s.get(w);if(!x)return;h.push(n.Ti.removeMatchingKeys(a,g.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(a,g.addedDocuments,w)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(w,S),function(D,C,H){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=EN?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(x,S,g)&&h.push(n.Ti.updateTargetData(a,S))});let f=oi(),m=De();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(PN(a,u,e.documentUpdates).next(g=>{f=g.qs,m=g.Qs})),!r.isEqual(Se.min())){const g=n.Ti.getLastRemoteSnapshotVersion(a).next(w=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(n.xs=s,a))}function PN(t,e,n){let r=De(),s=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=oi();return n.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(rg,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function AN(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CN(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,X.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new Wi(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Yp(t,e,n){const r=Pe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ba(u))throw u;ue(rg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function B_(t,e,n){const r=Pe(t);let s=Se.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,g){const w=Pe(f),x=w.Os.get(g);return x!==void 0?X.resolve(w.xs.get(x)):w.Ti.getTargetData(m,g)}(r,u,Pr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:Se.min(),n?a:De())).next(h=>(RN(r,mk(e),h),{documents:h,$s:a})))}function RN(t,e,n){let r=t.Ns.get(e)||Se.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class z_{constructor(){this.activeTargetIds=Ek()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.xo=new z_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="ConnectivityMonitor";class H_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue($_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Jp(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const u=Jp(),h=this.jo(e,n.toUriEncodedString());ue(op,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,a);const{host:m}=new URL(h),g=as(m);return this.Jo(e,h,f,r,g).then(w=>(ue(op,`Received RPC '${e}' ${u}: `,w),w),w=>{throw ga(op,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",r),w})}Yo(e,n,r,s,a,u){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=NN[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class jN extends DN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=Jp();return new Promise((h,f)=>{const m=new LE;m.setWithCredentials(!0),m.listenOnce(FE.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uh.NO_ERROR:const w=m.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case uh.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),f(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const x=m.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,x,"response text:",m.getResponseText()),x>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const D=function(H){const G=H.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN}(k.status);f(new ve(D,k.message))}else f(new ve(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);ue(Yt,`RPC '${e}' ${u} sending request:`,s),m.send(n,"POST",g,r,15)})}I_(e,n,r){const s=Jp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=zE(),h=BE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ue(Yt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const w=u.createWebChannel(g,f);this.E_(w);let x=!1,S=!1;const k=new VN({Zo:C=>{S?ue(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(x||(ue(Yt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),x=!0),ue(Yt,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},Xo:()=>w.close()}),D=(C,H,G)=>{C.listen(H,W=>{try{G(W)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(w,Vl.EventType.OPEN,()=>{S||(ue(Yt,`RPC '${e}' stream ${s} transport opened.`),k.__())}),D(w,Vl.EventType.CLOSE,()=>{S||(S=!0,ue(Yt,`RPC '${e}' stream ${s} transport closed`),k.u_(),this.d_(w))}),D(w,Vl.EventType.ERROR,C=>{S||(S=!0,ga(Yt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),k.u_(new ve(ne.UNAVAILABLE,"The operation could not be completed")))}),D(w,Vl.EventType.MESSAGE,C=>{var H;if(!S){const G=C.data[0];ze(!!G,16349);const W=G,Q=(W==null?void 0:W.error)||((H=W[0])===null||H===void 0?void 0:H.error);if(Q){ue(Yt,`RPC '${e}' stream ${s} received error:`,Q);const J=Q.status;let re=function(R){const V=wt[R];if(V!==void 0)return xx(V)}(J),N=Q.message;re===void 0&&(re=ne.INTERNAL,N="Unknown error status: "+J+" with message "+Q.message),S=!0,k.u_(new ve(re,N)),w.close()}else ue(Yt,`RPC '${e}' stream ${s} received:`,G),k.c_(G)}}),D(h,UE.STAT_EVENT,C=>{C.stat===Up.PROXY?ue(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Up.NOPROXY&&ue(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new Fk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="PersistentStream";class Mx{constructor(e,n,r,s,a,u,h,f){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ox(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ve(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ue(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ue(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ON extends Mx{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=zk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Cr(u.readTime):Se.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=Wp(f)?{documents:Wk(a,f)}:{query:qk(a,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Ix(a,u.resumeToken);const m=Kp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=Vh(a,u.snapshotVersion.toTimestamp());const m=Kp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=Gk(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.Q_(n)}}class MN extends Mx{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=Hk(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Xp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$k(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{}class FN extends LN{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,Gp(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ne.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Gp(n,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ne.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class UN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(si(n),this.ua=!1):ue("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class BN{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{ao(this)&&(ue(eo,"Restarting streams for network reachability change."),await async function(f){const m=Pe(f);m.da.add(4),await Tu(m),m.Va.set("Unknown"),m.da.delete(4),await ud(m)}(this))})}),this.Va=new UN(r,s)}}async function ud(t){if(ao(t))for(const e of t.Aa)await e(!0)}async function Tu(t){for(const e of t.Aa)await e(!1)}function Lx(t,e){const n=Pe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ag(n)?og(n):ka(n).N_()&&sg(n,e))}function ig(t,e){const n=Pe(t),r=ka(n);n.Ea.delete(e),r.N_()&&Fx(n,e),n.Ea.size===0&&(r.N_()?r.k_():ao(n)&&n.Va.set("Unknown"))}function sg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).Z_(e)}function Fx(t,e){t.ma.Ke(e),ka(t).X_(e)}function og(t){t.ma=new jk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.Va.ca()}function ag(t){return ao(t)&&!ka(t).O_()&&t.Ea.size>0}function ao(t){return Pe(t).da.size===0}function Ux(t){t.ma=void 0}async function zN(t){t.Va.set("Online")}async function $N(t){t.Ea.forEach((e,n)=>{sg(t,e)})}async function HN(t,e){Ux(t),ag(t)?(t.Va.Pa(e),og(t)):t.Va.set("Unknown")}async function WN(t,e,n){if(t.Va.set("Online"),e instanceof Sx&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ea.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ea.delete(h),s.ma.removeTarget(h))}(t,e)}catch(r){ue(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof fh?t.ma.Xe(e):e instanceof Tx?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Se.min()))try{const r=await jx(t.localStore);n.compareTo(r)>=0&&await function(a,u){const h=a.ma.It(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ea.get(m);g&&a.Ea.set(m,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const g=a.Ea.get(f);if(!g)return;a.Ea.set(f,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),Fx(a,f);const w=new Wi(g.target,f,m,g.sequenceNumber);sg(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ue(eo,"Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!ba(e))throw e;t.da.add(1),await Tu(t),t.Va.set("Offline"),n||(n=()=>jx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(eo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ud(t)})}function Bx(t,e){return e().catch(n=>Oh(t,n,e))}async function cd(t){const e=Pe(t),n=ns(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hm;for(;qN(e);)try{const s=await AN(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,KN(e,s)}catch(s){await Oh(e,s)}zx(e)&&$x(e)}function qN(t){return ao(t)&&t.Ia.length<10}function KN(t,e){t.Ia.push(e);const n=ns(t);n.N_()&&n.ea&&n.ta(e.mutations)}function zx(t){return ao(t)&&!ns(t).O_()&&t.Ia.length>0}function $x(t){ns(t).start()}async function GN(t){ns(t).ia()}async function QN(t){const e=ns(t);for(const n of t.Ia)e.ta(n.mutations)}async function XN(t,e,n){const r=t.Ia.shift(),s=Ym.from(r,e,n);await Bx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cd(t)}async function YN(t,e){e&&ns(t).ea&&await async function(r,s){if(function(u){return Dk(u)&&u!==ne.ABORTED}(s.code)){const a=r.Ia.shift();ns(r).L_(),await Bx(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await cd(r)}}(t,e),zx(t)&&$x(t)}async function q_(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ue(eo,"RemoteStore received new credentials");const r=ao(n);n.da.add(3),await Tu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ud(n)}async function JN(t,e){const n=Pe(t);e?(n.da.delete(2),await ud(n)):e||(n.da.add(2),await Tu(n),n.Va.set("Unknown"))}function ka(t){return t.fa||(t.fa=function(n,r,s){const a=Pe(n);return a.oa(),new ON(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:zN.bind(null,t),n_:$N.bind(null,t),i_:HN.bind(null,t),Y_:WN.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),ag(t)?og(t):t.Va.set("Unknown")):(await t.fa.stop(),Ux(t))})),t.fa}function ns(t){return t.ga||(t.ga=function(n,r,s){const a=Pe(n);return a.oa(),new MN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:GN.bind(null,t),i_:YN.bind(null,t),na:QN.bind(null,t),ra:XN.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await cd(t)):(await t.ga.stop(),t.Ia.length>0&&(ue(eo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,h=new lg(e,n,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(t,e){if(si("AsyncQueue",`${e}: ${t}`),ba(t))return new ve(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.pa=new at(_e.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,s,a,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Ea(e,n,pa.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class e4{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),a=s.queries;s.queries=G_(),a.forEach((u,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function G_(){return new oo(t=>ux(t),rd)}async function t4(t,e){const n=Pe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new ZN,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=ug(u,`Initialization of query '${na(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&cg(n)}async function n4(t,e){const n=Pe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r4(t,e){const n=Pe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Ma(s)&&(r=!0);u.ba=s}}r&&cg(n)}function i4(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function cg(t){t.Ca.forEach(e=>{e.next()})}var Zp,Q_;(Q_=Zp||(Zp={})).xa="default",Q_.Cache="cache";class s4{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.key=e}}class Wx{constructor(e){this.key=e}}class o4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=De(),this.mutatedKeys=De(),this.Za=cx(e),this.Xa=new pa(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new K_,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,w)=>{const x=s.get(g),S=id(this.query,w)?w:null,k=!!x&&this.mutatedKeys.has(x.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;x&&S?x.data.isEqual(S.data)?k!==D&&(r.track({type:3,doc:S}),C=!0):this.ru(x,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.Za(S,f)>0||m&&this.Za(S,m)<0)&&(h=!0)):!x&&S?(r.track({type:0,doc:S}),C=!0):x&&!S&&(r.track({type:1,doc:x}),C=!0,(f||m)&&(h=!0)),C&&(S?(u=u.add(S),a=D?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Xa:u,nu:r,Cs:h,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((g,w)=>function(S,k){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:C})}};return D(S)-D(k)}(g.type,w.type)||this.Za(g.doc,w.doc)),this.iu(r),s=s!=null&&s;const h=n&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Ja;return this.Ja=f,u.length!==0||m?{snapshot:new Ea(this.query,e.Xa,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=De(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Wx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Hx(r))}),n}au(e){this.Ha=e.$s,this.Ya=De();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ea.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hg="SyncEngine";class a4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l4{constructor(e){this.key=e,this.cu=!1}}class u4{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new oo(h=>ux(h),rd),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(_e.comparator),this.Eu=new Map,this.du=new eg,this.Au={},this.Ru=new Map,this.Vu=wa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function c4(t,e,n=!0){const r=Yx(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await qx(r,e,n,!0),s}async function h4(t,e){const n=Yx(t);await qx(n,e,!0,!1)}async function qx(t,e,n,r){const s=await CN(t.localStore,Pr(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await d4(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&Lx(t.remoteStore,s),h}async function d4(t,e,n,r,s){t.fu=(w,x,S)=>async function(D,C,H,G){let W=C.view.tu(H);W.Cs&&(W=await B_(D.localStore,C.query,!1).then(({documents:N})=>C.view.tu(N,W)));const Q=G&&G.targetChanges.get(C.targetId),J=G&&G.targetMismatches.get(C.targetId)!=null,re=C.view.applyChanges(W,D.isPrimaryClient,Q,J);return Y_(D,C.targetId,re.ou),re.snapshot}(t,w,x,S);const a=await B_(t.localStore,e,!0),u=new o4(e,a.$s),h=u.tu(a.documents),f=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=u.applyChanges(h,t.isPrimaryClient,f);Y_(t,n,m.ou);const g=new a4(e,n,u);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function f4(t,e,n){const r=Pe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!rd(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ig(r.remoteStore,s.targetId),em(r,s.targetId)}).catch(Ra)):(em(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function p4(t,e){const n=Pe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function m4(t,e,n){const r=x4(t);try{const s=await function(u,h){const f=Pe(u),m=Rt.now(),g=h.reduce((S,k)=>S.add(k.key),De());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=oi(),D=De();return f.Bs.getEntries(S,g).next(C=>{k=C,k.forEach((H,G)=>{G.isValidDocument()||(D=D.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,k)).next(C=>{w=C;const H=[];for(const G of h){const W=Ck(G,w.get(G.key).overlayedDocument);W!=null&&H.push(new cs(G.key,W,nx(W.value.mapValue),Ar.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,H,h)}).next(C=>{x=C;const H=C.applyToLocalDocumentSet(w,D);return f.documentOverlayCache.saveOverlays(S,C.batchId,H)})}).then(()=>({batchId:x.batchId,changes:dx(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let m=u.Au[u.currentUser.toKey()];m||(m=new at(Ce)),m=m.insert(h,f),u.Au[u.currentUser.toKey()]=m}(r,s.batchId,n),await Su(r,s.changes),await cd(r.remoteStore)}catch(s){const a=ug(s,"Failed to persist write");n.reject(a)}}async function Kx(t,e){const n=Pe(t);try{const r=await IN(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Eu.get(a);u&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?ze(u.cu,14607):s.removedDocuments.size>0&&(ze(u.cu,42227),u.cu=!1))}),await Su(n,r,e)}catch(r){await Ra(r)}}function X_(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,u)=>{const h=u.view.Fa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let m=!1;f.queries.forEach((g,w)=>{for(const x of w.Sa)x.Fa(h)&&(m=!0)}),m&&cg(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g4(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new at(_e.comparator);u=u.insert(a,Zt.newNoDocument(a,Se.min()));const h=De().add(a),f=new ad(Se.min(),new Map,new at(Ce),u,h);await Kx(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),dg(r)}else await Yp(r.localStore,e,!1).then(()=>em(r,e,n)).catch(Ra)}async function y4(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await SN(n.localStore,e);Qx(n,r,null),Gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,s)}catch(s){await Ra(s)}}async function v4(t,e,n){const r=Pe(t);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next(w=>(ze(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>f.localDocuments.getDocuments(m,g))})}(r.localStore,e);Qx(r,e,n),Gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,s)}catch(s){await Ra(s)}}function Gx(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Qx(t,e,n){const r=Pe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function em(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||Xx(t,r)})}function Xx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ig(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),dg(t))}function Y_(t,e,n){for(const r of n)r instanceof Hx?(t.du.addReference(r.key,e),_4(t,r)):r instanceof Wx?(ue(hg,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||Xx(t,r.key)):xe(19791,{pu:r})}function _4(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ue(hg,"New document in limbo: "+n),t.Tu.add(r),dg(t))}function dg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new _e(ct.fromString(e)),r=t.Vu.next();t.Eu.set(r,new l4(n)),t.Iu=t.Iu.insert(n,r),Lx(t.remoteStore,new Wi(Pr(Qm(n.path)),r,"TargetPurposeLimboResolution",Zh.le))}}async function Su(t,e,n){const r=Pe(t),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((h,f)=>{u.push(r.fu(f,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){s.push(m);const w=ng.Rs(f.targetId,m);a.push(w)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(f,m){const g=Pe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(m,x=>X.forEach(x.ds,S=>g.persistence.referenceDelegate.addReference(w,x.targetId,S)).next(()=>X.forEach(x.As,S=>g.persistence.referenceDelegate.removeReference(w,x.targetId,S)))))}catch(w){if(!ba(w))throw w;ue(rg,"Failed to update sequence numbers: "+w)}for(const w of m){const x=w.targetId;if(!w.fromCache){const S=g.xs.get(x),k=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(k);g.xs=g.xs.insert(x,D)}}}(r.localStore,a))}async function w4(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ue(hg,"User change. New user:",e.toKey());const r=await Vx(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(h=>{h.forEach(f=>{f.reject(new ve(ne.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.ks)}}function E4(t,e){const n=Pe(t),r=n.Eu.get(e);if(r&&r.cu)return De().add(r.key);{let s=De();const a=n.Pu.get(e);if(!a)return s;for(const u of a){const h=n.hu.get(u);s=s.unionWith(h.view.eu)}return s}}function Yx(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.lu.Y_=r4.bind(null,e.eventManager),e.lu.gu=i4.bind(null,e.eventManager),e}function x4(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return TN(this.persistence,new wN,e.initialUser,this.serializer)}Su(e){return new Dx(tg.fi,this.serializer)}bu(e){return new bN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class T4 extends Mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ze(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sN(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Dx(r=>jh.fi(r,n),this.serializer)}}class tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e4}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=function(a){return new jN(a)}(e.databaseInfo);return function(a,u,h,f){return new FN(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,h){return new BN(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return H_.C()?new H_:new kN}())}createSyncEngine(e,n){return function(s,a,u,h,f,m,g){const w=new u4(s,a,u,h,f,m);return g&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Pe(s);ue(eo,"RemoteStore shutting down."),a.da.add(5),await Tu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class I4{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=qE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue(rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),ue(rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Vx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P4(t);ue(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q_(e.remoteStore,s)),t._onlineComponents=e}async function P4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(rs,"Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new Mh)}}else ue(rs,"Using default OfflineComponentProvider"),await lp(t,new T4(void 0));return t._offlineComponents}async function Jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(rs,"Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(ue(rs,"Using default OnlineComponentProvider"),await J_(t,new tm))),t._onlineComponents}function A4(t){return Jx(t).then(e=>e.syncEngine)}async function C4(t){const e=await Jx(t),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=f4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),n}function R4(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const g=new S4({next:x=>{g.xu(),u.enqueueAndForget(()=>n4(a,w));const S=x.docs.has(h);!S&&x.fromCache?m.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&f&&f.source==="server"?m.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new s4(Qm(h.path),g,{includeMetadataChanges:!0,Qa:!0});return t4(a,w)}(await C4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e,n){if(!n)throw new ve(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k4(t,e,n,r){if(e===!0&&r===!0)throw new ve(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!_e.isDocumentKey(t))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(t);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",tw=!0;class nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=tw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rN)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Db;switch(r.type){case"firstParty":return new Mb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function N4(t,e,n,r={}){var s;t=to(t,pg);const a=as(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a&&(Rm(`https://${f}`),bm("Firestore",!0)),u.host!==eT&&u.host!==f&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!Qs(m,h)&&(t._setSettings(m),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Jt.MOCK_USER;else{g=Y1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(x)}t._authCredentials=new Vb(new HE(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mg(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ou extends mg{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new _e(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function up(t,e,...n){if(t=yt(t),arguments.length===1&&(e=qE.newId()),b4("doc","path",e),t instanceof pg){const r=ct.fromString(e,...n);return ew(r),new bn(t,null,new _e(r))}{if(!(t instanceof bn||t instanceof ou))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return ew(r),new bn(t.firestore,t instanceof ou?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ox(this,"async_queue_retry"),this.rc=()=>{const r=ap();r&&ue(rw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Xi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ba(e))throw e;ue(rw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,si("INTERNAL UNHANDLED ERROR: ",sw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=lg.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&xe(47125,{cc:sw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function sw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hd extends pg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new iw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function D4(t,e){const n=typeof t=="object"?t:Dm(),r=typeof t=="string"?t:Ch,s=Qh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=G1("firestore");a&&N4(s,...a)}return s}function tT(t){if(t._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var e,n,r;const s=t._freezeSettings(),a=function(h,f,m,g){return new Jb(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Zx(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new I4(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(qt.fromBase64String(e))}catch(n){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=/^__.*__$/;class O4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class nT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ic:t})}}class _g{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new _g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Lh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(rT(this.Ic)&&j4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class M4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}bc(e,n,r,s=!1){return new _g({Ic:e,methodName:n,wc:r,path:Wt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iT(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new M4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L4(t,e,n,r,s,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,s);wg("Data must be an object, but it was:",u,r);const h=sT(r,u);let f,m;if(a.merge)f=new Cn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const x=nm(e,w,n);if(!u.contains(x))throw new ve(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);aT(g,x)||g.push(x)}f=new Cn(g),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new O4(new vn(h),f,m)}class fd extends gg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function F4(t,e,n,r){const s=t.bc(1,e,n);wg("Data must be an object, but it was:",s,r);const a=[],u=vn.empty();us(r,(f,m)=>{const g=Eg(e,f,n);m=yt(m);const w=s.mc(g);if(m instanceof fd)a.push(g);else{const x=pd(m,w);x!=null&&(a.push(g),u.set(g,x))}});const h=new Cn(a);return new nT(u,h,s.fieldTransforms)}function U4(t,e,n,r,s,a){const u=t.bc(1,e,n),h=[nm(e,r,n)],f=[s];if(a.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)h.push(nm(e,a[x])),f.push(a[x+1]);const m=[],g=vn.empty();for(let x=h.length-1;x>=0;--x)if(!aT(m,h[x])){const S=h[x];let k=f[x];k=yt(k);const D=u.mc(S);if(k instanceof fd)m.push(S);else{const C=pd(k,D);C!=null&&(m.push(S),g.set(S,C))}}const w=new Cn(m);return new nT(g,w,u.fieldTransforms)}function pd(t,e){if(oT(t=yt(t)))return wg("Unsupported field value:",e,t),sT(t,e);if(t instanceof gg)return function(r,s){if(!rT(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=pd(h,s.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Rt.fromDate(r);return{timestampValue:Vh(s.serializer,a)}}if(r instanceof Rt){const a=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(s.serializer,a)}}if(r instanceof yg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:Ix(s.serializer,r._byteString)};if(r instanceof bn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vg)return function(u,h){return{mapValue:{fields:{[ex]:{stringValue:tx},[Rh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return Xm(h.serializer,m)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${fg(r)}`)}(t,e)}function sT(t,e){const n={};return GE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(t,(r,s)=>{const a=pd(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function oT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof yg||t instanceof xa||t instanceof bn||t instanceof gg||t instanceof vg)}function wg(t,e,n){if(!oT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=fg(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function nm(t,e,n){if((e=yt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return Eg(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const B4=new RegExp("[~\\*/\\[\\]]");function Eg(t,e,n){if(e.search(B4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ve(ne.INVALID_ARGUMENT,h+t+f)}function aT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z4 extends lT{data(){return super.data()}}function uT(t,e){return typeof e=="string"?Eg(t,e):e instanceof dd?e._internalPath:e._delegate._internalPath}class $4{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return us(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>gt(u.doubleValue));return new vg(a)}convertGeoPoint(e){return new yg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=td(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);ze(kx(r),9688,{name:e});const s=new nu(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(n)||si(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cT extends lT{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new q4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class q4 extends cT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){t=to(t,bn);const e=to(t.firestore,hd);return R4(tT(e),t._key).then(n=>X4(e,t,n))}class G4 extends $4{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function ow(t,e,n){t=to(t,bn);const r=to(t.firestore,hd),s=H4(t.converter,e);return hT(r,[L4(iT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ar.none())])}function Q4(t,e,n,...r){t=to(t,bn);const s=to(t.firestore,hd),a=iT(s);let u;return u=typeof(e=yt(e))=="string"||e instanceof dd?U4(a,"updateDoc",t._key,e,n,r):F4(a,"updateDoc",t._key,e),hT(s,[u.toMutation(t._key,Ar.exists(!0))])}function hT(t,e){return function(r,s){const a=new Xi;return r.asyncQueue.enqueueAndForget(async()=>m4(await A4(r),s,a)),a.promise}(tT(t),e)}function X4(t,e,n){const r=n.docs.get(e._key),s=new G4(t);return new cT(t,s,e._key,r,new W4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ca=s})(io),Xs(new Yi("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new hd(new jb(r.getProvider("auth-internal")),new Lb(u,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(m.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Tr(h_,d_,e),Tr(h_,d_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebasestorage.googleapis.com",fT="storageBucket",Y4=2*60*1e3,J4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Vr{constructor(e,n,r=0){super(cp(e),`Firebase Storage: ${n} (${cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function cp(t){return"storage/"+t}function xg(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,t)}function Z4(t){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eD(t){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,t)}function nD(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rD(t){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iD(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sD(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function oD(t){return new dt(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function aD(t){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lD(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fT+"' property when initializing the app?")}function uD(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cD(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hD(t){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rm(t){return new dt(ht.INVALID_ARGUMENT,t)}function pT(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function dD(t){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(t,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bl(t){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(r.path==="")return r;throw aD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${g}/b/${s}/o${x}`,"i"),k={bucket:1,path:3},D=n===dT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",H=new RegExp(`^https?://${D}/${s}/${C}`,"i"),W=[{regex:h,indices:f,postModify:a},{regex:S,indices:k,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let Q=0;Q<W.length;Q++){const J=W[Q],re=J.regex.exec(e);if(re){const N=re[J.indices.bucket];let P=re[J.indices.path];P||(P=""),r=new Rn(N,P),J.postModify(r);break}}if(r==null)throw oD(e);return r}}class fD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e,n){let r=1,s=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function g(...C){m||(m=!0,e.apply(null,C))}function w(C){s=setTimeout(()=>{s=null,t(S,f())},C)}function x(){a&&clearTimeout(a)}function S(C,...H){if(m){x();return}if(C){x(),g.call(null,C,...H);return}if(f()||u){x(),g.call(null,C,...H);return}r<64&&(r*=2);let W;h===1?(h=2,W=0):W=(r+Math.random())*1e3,w(W)}let k=!1;function D(C){k||(k=!0,x(),!m&&(s!==null?(C||(h=2),clearTimeout(s),w(0)):C||(h=1)))}return w(0),a=setTimeout(()=>{u=!0,D(!0)},n),D}function mD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){return t!==void 0}function yD(t){return typeof t=="object"&&!Array.isArray(t)}function Tg(t){return typeof t=="string"||t instanceof String}function aw(t){return Sg()&&t instanceof Blob}function Sg(){return typeof Blob<"u"}function lw(t,e,n,r){if(r<e)throw rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function mT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,s,a,u,h,f,m,g,w,x=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=w,this.retry=x,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,D)=>{this.resolve_=k,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Jc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===qs.NO_ERROR,f=a.getStatus();if(!h||vD(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===qs.ABORT;r(!1,new Jc(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Jc(m,a))})},n=(r,s)=>{const a=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());gD(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=xg();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?pT():sD();u(f)}else{const f=iD();u(f)}};this.canceled_?n(!1,new Jc(!1,null,!0)):this.backoffId_=pD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ED(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SD(t,e,n,r,s,a,u=!0,h=!1){const f=mT(t.urlParams),m=t.url+f,g=Object.assign({},t.headers);return xD(g,e),wD(g,n),ED(g,a),TD(g,r),new _D(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PD(...t){const e=ID();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Sg())return new Blob(t);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){if(typeof atob>"u")throw hD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,n){this.data=e,this.contentType=n||null}}function RD(t,e){switch(t){case xr.RAW:return new hp(gT(e));case xr.BASE64:case xr.BASE64URL:return new hp(yT(t,e));case xr.DATA_URL:return new hp(kD(e),ND(e))}throw xg()}function gT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=t.charCodeAt(++n);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bD(t){let e;try{e=decodeURIComponent(t)}catch{throw Hl(xr.DATA_URL,"Malformed data URL.")}return gT(e)}function yT(t,e){switch(t){case xr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Hl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Hl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CD(e)}catch(s){throw s.message.includes("polyfill")?s:Hl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class vT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hl(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=DD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kD(t){const e=new vT(t);return e.base64?yT(xr.BASE64,e.rest):bD(e.rest)}function ND(t){return new vT(t).contentType}function DD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){let r=0,s="";aw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(aw(this.data_)){const r=this.data_,s=AD(r,e,n);return s===null?null:new $i(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $i(r,!0)}}static getBlob(...e){if(Sg()){const n=e.map(r=>r instanceof $i?r.data_:r);return new $i(PD.apply(null,n))}else{const n=e.map(u=>Tg(u)?RD(xr.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)s[a++]=u[h]}),new $i(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){let e;try{e=JSON.parse(t)}catch{return null}return yD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function wT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||OD}}let Zc=null;function MD(t){return!Tg(t)||t.length<2?t:wT(t)}function ET(){if(Zc)return Zc;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,u){return MD(u)}const n=new an("name");n.xform=e,t.push(n);function r(a,u){return u!==void 0?Number(u):u}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),Zc=t,Zc}function LD(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Rn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function FD(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const u=n[a];r[u.local]=u.xform(r,e[u.server])}return LD(r,t),r}function xT(t,e,n){const r=_T(e);return r===null?null:FD(t,r,n)}function UD(t,e,n,r){const s=_T(e);if(s===null||!Tg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const g=t.bucket,w=t.fullPath,x="/b/"+u(g)+"/o/"+u(w),S=Ig(x,n,r),k=mT({alt:"media",token:m});return S+k})[0]}function BD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class TT{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){if(!t)throw xg()}function zD(t,e){function n(r,s){const a=xT(t,s,e);return ST(a!==null),a}return n}function $D(t,e){function n(r,s){const a=xT(t,s,e);return ST(a!==null),UD(a,s,t.host,t._protocol)}return n}function IT(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=nD():s=tD():n.getStatus()===402?s=eD(t.bucket):n.getStatus()===403?s=rD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function HD(t){const e=IT(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=Z4(t.path)),a.serverResponse=s.serverResponse,a}return n}function WD(t,e,n){const r=e.fullServerUrl(),s=Ig(r,t.host,t._protocol),a="GET",u=t.maxOperationRetryTime,h=new TT(s,a,$D(t,n),u);return h.errorHandler=HD(e),h}function qD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function KD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=qD(null,e)),r}function GD(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let W="";for(let Q=0;Q<2;Q++)W=W+Math.random().toString().slice(2);return W}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const m=KD(e,r,s),g=BD(m,n),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+f+"--",S=$i.getBlob(w,r,x);if(S===null)throw uD();const k={name:m.fullPath},D=Ig(a,t.host,t._protocol),C="POST",H=t.maxUploadRetryTime,G=new TT(D,C,zD(t,n),H);return G.urlParams=k,G.headers=u,G.body=S.uploadData(),G.errorHandler=IT(e),G}class QD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw bl("cannot .send() more than once");if(as(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XD extends QD{initXhr(){this.xhr_.responseType="text"}}function PT(){return new XD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new no(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wT(this._location.path)}get storage(){return this._service}get parent(){const e=VD(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new no(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dD(e)}}function YD(t,e,n){t._throwIfRoot("uploadBytes");const r=GD(t.storage,t._location,ET(),new $i(e,!0),n);return t.storage.makeRequestWithTokens(r,PT).then(s=>({metadata:s,ref:t}))}function JD(t){t._throwIfRoot("getDownloadURL");const e=WD(t.storage,t._location,ET());return t.storage.makeRequestWithTokens(e,PT).then(n=>{if(n===null)throw cD();return n})}function ZD(t,e){const n=jD(t._location.path,e),r=new Rn(t._location.bucket,n);return new no(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){return/^[A-Za-z]+:\/\//.test(t)}function tV(t,e){return new no(t,e)}function AT(t,e){if(t instanceof Pg){const n=t;if(n._bucket==null)throw lD();const r=new no(n,n._bucket);return e!=null?AT(r,e):r}else return e!==void 0?ZD(t,e):t}function nV(t,e){if(e&&eV(e)){if(t instanceof Pg)return tV(t,e);throw rm("To use ref(service, url), the first argument must be a Storage instance.")}else return AT(t,e)}function uw(t,e){const n=e==null?void 0:e[fT];return n==null?null:Rn.makeFromBucketSpec(n,t)}function rV(t,e,n,r={}){t.host=`${e}:${n}`;const s=as(e);s&&(Rm(`https://${t.host}/b`),bm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Y1(a,t.app.options.projectId))}class Pg{constructor(e,n,r,s,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=dT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y4,this._maxUploadRetryTime=J4,this._requests=new Set,s!=null?this._bucket=Rn.makeFromBucketSpec(s,this._host):this._bucket=uw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=uw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new no(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new fD(pT());{const u=SD(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const cw="@firebase/storage",hw="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="storage";function iV(t,e,n){return t=yt(t),YD(t,e,n)}function sV(t){return t=yt(t),JD(t)}function oV(t,e){return t=yt(t),nV(t,e)}function aV(t=Dm(),e){t=yt(t);const r=Qh(t,CT).getImmediate({identifier:e}),s=G1("storage");return s&&lV(r,...s),r}function lV(t,e,n,r={}){rV(t,e,n,r)}function uV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Pg(n,r,s,e,io)}function cV(){Xs(new Yi(CT,uV,"PUBLIC").setMultipleInstances(!0)),Tr(cw,hw,""),Tr(cw,hw,"esm2017")}cV();const hV={apiKey:"AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",authDomain:"playcenter-universal.firebaseapp.com",projectId:"playcenter-universal",storageBucket:"playcenter-universal.appspot.com",messagingSenderId:"876884906641",appId:"1:876884906641:web:a0a5b7526b7f4161452530",measurementId:"G-4MPL62WSKW"},Ag=eE(hV),eh=kb(Ag),dp=D4(Ag),dV=aV(Ag),RT=B.createContext();function bT(){return B.useContext(RT)}function kT({children:t}){const[e,n]=B.useState(null),[r,s]=B.useState(null),[a,u]=B.useState(!0);B.useEffect(()=>_R(eh,async k=>{if(n(k),k){const D=up(dp,"users",k.uid),C=await K4(D);C.exists()?s(C.data()):(await ow(D,{telefono:"",direccion:""}),s({telefono:"",direccion:""}))}else s(null);u(!1)}),[]);function h(S,k){return mR(eh,S,k)}async function f(S,k,D){const C=await pR(eh,S,k);await Lp(C.user,{displayName:D}),await ow(up(dp,"users",C.user.uid),{telefono:"",direccion:""}),n(C.user),s({telefono:"",direccion:""})}function m(){return wR(eh)}async function g(S){if(!e)throw new Error("No user logged in");const k=up(dp,"users",e.uid);await Q4(k,S),s(D=>({...D,...S}))}async function w(S){if(!e)throw new Error("No user logged in");const k=oV(dV,`usuarios/${e.uid}/perfil.jpg`);await iV(k,S);const D=await sV(k);return await Lp(e,{photoURL:D}),n({...e,photoURL:D}),D}const x={usuario:e,usuarioInfo:r,login:h,signup:f,logout:m,actualizarUsuarioInfo:g,subirImagen:w};return v.jsx(RT.Provider,{value:x,children:!a&&t})}async function fV(t){const e="https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","perfil_usuarios"),n.append("folder","muestras/comercio electrónico"),console.log("Archivo que se va a subir:",t),console.log("Preset usado:","perfil_usuarios"),console.log("Carpeta folder usada:","muestras/comercio electrónico");const r=await fetch(e,{method:"POST",body:n});if(!r.ok){const a=await r.text();throw console.error("Error Cloudinary:",a),new Error("❌ Error al subir la imagen a Cloudinary")}const s=await r.json();return console.log("Respuesta de Cloudinary:",s),s.secure_url}const Cg=B.createContext({});function Rg(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const bg=typeof window<"u",NT=bg?B.useLayoutEffect:B.useEffect,md=B.createContext(null);function kg(t,e){t.indexOf(e)===-1&&t.push(e)}function Ng(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ai=(t,e,n)=>n>e?e:n<t?t:n;let Dg=()=>{};const li={},DT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function VT(t){return typeof t=="object"&&t!==null}const jT=t=>/^0[^.\s]+$/u.test(t);function Vg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hn=t=>t,pV=(t,e)=>n=>e(t(n)),Iu=(...t)=>t.reduce(pV),au=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class jg{constructor(){this.subscriptions=[]}add(e){return kg(this.subscriptions,e),()=>Ng(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=t=>t*1e3,br=t=>t/1e3;function OT(t,e){return e?t*(1e3/e):0}const MT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mV=1e-7,gV=12;function yV(t,e,n,r,s){let a,u,h=0;do u=e+(n-e)/2,a=MT(u,r,s)-t,a>0?n=u:e=u;while(Math.abs(a)>mV&&++h<gV);return u}function Pu(t,e,n,r){if(t===e&&n===r)return Hn;const s=a=>yV(a,0,1,t,n);return a=>a===0||a===1?a:MT(s(a),e,r)}const LT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FT=t=>e=>1-t(1-e),UT=Pu(.33,1.53,.69,.99),Og=FT(UT),BT=LT(Og),zT=t=>(t*=2)<1?.5*Og(t):.5*(2-Math.pow(2,-10*(t-1))),Mg=t=>1-Math.sin(Math.acos(t)),$T=FT(Mg),HT=LT(Mg),vV=Pu(.42,0,1,1),_V=Pu(0,0,.58,1),WT=Pu(.42,0,.58,1),wV=t=>Array.isArray(t)&&typeof t[0]!="number",qT=t=>Array.isArray(t)&&typeof t[0]=="number",EV={linear:Hn,easeIn:vV,easeInOut:WT,easeOut:_V,circIn:Mg,circInOut:HT,circOut:$T,backIn:Og,backInOut:BT,backOut:UT,anticipate:zT},xV=t=>typeof t=="string",dw=t=>{if(qT(t)){Dg(t.length===4);const[e,n,r,s]=t;return Pu(e,n,r,s)}else if(xV(t))return EV[t];return t},th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],fw={value:null};function TV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function m(w){u.has(w)&&(g.schedule(w),t()),f++,w(h)}const g={schedule:(w,x=!1,S=!1)=>{const D=S&&s?n:r;return x&&u.add(w),D.has(w)||D.add(w),w},cancel:w=>{r.delete(w),u.delete(w)},process:w=>{if(h=w,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),e&&fw.value&&fw.value.frameloop[e].push(f),f=0,n.clear(),s=!1,a&&(a=!1,g.process(w))}};return g}const SV=40;function KT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=th.reduce((W,Q)=>(W[Q]=TV(a,e?Q:void 0),W),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:g,update:w,preRender:x,render:S,postRender:k}=u,D=()=>{const W=li.useManualTiming?s.timestamp:performance.now();n=!1,li.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(W-s.timestamp,SV),1)),s.timestamp=W,s.isProcessing=!0,h.process(s),f.process(s),m.process(s),g.process(s),w.process(s),x.process(s),S.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(D))},C=()=>{n=!0,r=!0,s.isProcessing||t(D)};return{schedule:th.reduce((W,Q)=>{const J=u[Q];return W[Q]=(re,N=!1,P=!1)=>(n||C(),J.schedule(re,N,P)),W},{}),cancel:W=>{for(let Q=0;Q<th.length;Q++)u[th[Q]].cancel(W)},state:s,steps:u}}const{schedule:ot,cancel:is,state:$t,steps:fp}=KT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let ph;function IV(){ph=void 0}const _n={now:()=>(ph===void 0&&_n.set($t.isProcessing||li.useManualTiming?$t.timestamp:performance.now()),ph),set:t=>{ph=t,queueMicrotask(IV)}},GT=t=>e=>typeof e=="string"&&e.startsWith(t),Lg=GT("--"),PV=GT("var(--"),Fg=t=>PV(t)?AV.test(t.split("/*")[0].trim()):!1,AV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Na={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Na,transform:t=>ai(0,1,t)},nh={...Na,default:1},Wl=t=>Math.round(t*1e5)/1e5,Ug=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CV(t){return t==null}const RV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bg=(t,e)=>n=>!!(typeof n=="string"&&RV.test(n)&&n.startsWith(t)||e&&!CV(n)&&Object.prototype.hasOwnProperty.call(n,e)),QT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(Ug);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},bV=t=>ai(0,255,t),pp={...Na,transform:t=>Math.round(bV(t))},Hs={test:Bg("rgb","red"),parse:QT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pp.transform(t)+", "+pp.transform(e)+", "+pp.transform(n)+", "+Wl(lu.transform(r))+")"};function kV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const im={test:Bg("#"),parse:kV,transform:Hs.transform},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=Au("deg"),kr=Au("%"),Ee=Au("px"),NV=Au("vh"),DV=Au("vw"),pw={...kr,parse:t=>kr.parse(t)/100,transform:t=>kr.transform(t*100)},oa={test:Bg("hsl","hue"),parse:QT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kr.transform(Wl(e))+", "+kr.transform(Wl(n))+", "+Wl(lu.transform(r))+")"},Et={test:t=>Hs.test(t)||im.test(t)||oa.test(t),parse:t=>Hs.test(t)?Hs.parse(t):oa.test(t)?oa.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):oa.transform(t),getAnimatableNone:t=>{const e=Et.parse(t);return e.alpha=0,Et.transform(e)}},VV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ug))==null?void 0:e.length)||0)+(((n=t.match(VV))==null?void 0:n.length)||0)>0}const XT="number",YT="color",OV="var",MV="var(",mw="${}",LV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(LV,f=>(Et.test(f)?(r.color.push(a),s.push(YT),n.push(Et.parse(f))):f.startsWith(MV)?(r.var.push(a),s.push(OV),n.push(f)):(r.number.push(a),s.push(XT),n.push(parseFloat(f))),++a,mw)).split(mw);return{values:n,split:h,indexes:r,types:s}}function JT(t){return uu(t).values}function ZT(t){const{split:e,types:n}=uu(t),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=n[u];h===XT?a+=Wl(s[u]):h===YT?a+=Et.transform(s[u]):a+=s[u]}return a}}const FV=t=>typeof t=="number"?0:Et.test(t)?Et.getAnimatableNone(t):t;function UV(t){const e=JT(t);return ZT(t)(e.map(FV))}const ss={test:jV,parse:JT,createTransformer:ZT,getAnimatableNone:UV};function mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,u=0;if(!e)s=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=mp(f,h,t+1/3),a=mp(f,h,t),u=mp(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Fh(t,e){return n=>n>0?e:t}const st=(t,e,n)=>t+(e-t)*n,gp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},zV=[im,Hs,oa],$V=t=>zV.find(e=>e.test(t));function gw(t){const e=$V(t);if(!e)return!1;let n=e.parse(t);return e===oa&&(n=BV(n)),n}const yw=(t,e)=>{const n=gw(t),r=gw(e);if(!n||!r)return Fh(t,e);const s={...n};return a=>(s.red=gp(n.red,r.red,a),s.green=gp(n.green,r.green,a),s.blue=gp(n.blue,r.blue,a),s.alpha=st(n.alpha,r.alpha,a),Hs.transform(s))},sm=new Set(["none","hidden"]);function HV(t,e){return sm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WV(t,e){return n=>st(t,e,n)}function zg(t){return typeof t=="number"?WV:typeof t=="string"?Fg(t)?Fh:Et.test(t)?yw:GV:Array.isArray(t)?eS:typeof t=="object"?Et.test(t)?yw:qV:Fh}function eS(t,e){const n=[...t],r=n.length,s=t.map((a,u)=>zg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=s[u](a);return n}}function qV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=zg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function KV(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=t.indexes[a][r[a]],h=t.values[u]??0;n[s]=h,r[a]++}return n}const GV=(t,e)=>{const n=ss.createTransformer(e),r=uu(t),s=uu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?sm.has(t)&&!s.values.length||sm.has(e)&&!r.values.length?HV(t,e):Iu(eS(KV(r,s),s.values),n):Fh(t,e)};function tS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):zg(t)(t,e)}const QV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>is(e),now:()=>$t.isProcessing?$t.timestamp:_n.now()}},nS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function $g(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Uh;)e+=n,r=t.next(e);return e>=Uh?1/0:e}function XV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min($g(r),Uh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:br(s)}}const YV=5;function rS(t,e,n){const r=Math.max(e-YV,0);return OT(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yp=.001;function JV({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let s,a,u=1-e;u=ai(ut.minDamping,ut.maxDamping,u),t=ai(ut.minDuration,ut.maxDuration,br(t)),u<1?(s=m=>{const g=m*u,w=g*t,x=g-n,S=om(m,u),k=Math.exp(-w);return yp-x/S*k},a=m=>{const w=m*u*t,x=w*n+n,S=Math.pow(u,2)*Math.pow(m,2)*t,k=Math.exp(-w),D=om(Math.pow(m,2),u);return(-s(m)+yp>0?-1:1)*((x-S)*k)/D}):(s=m=>{const g=Math.exp(-m*t),w=(m-n)*t+1;return-yp+g*w},a=m=>{const g=Math.exp(-m*t),w=(n-m)*(t*t);return g*w});const h=5/t,f=ej(s,a,h);if(t=Rr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:t}}}const ZV=12;function ej(t,e,n){let r=n;for(let s=1;s<ZV;s++)r=r-t(r)/e(r);return r}function om(t,e){return t*Math.sqrt(1-e*e)}const tj=["duration","bounce"],nj=["stiffness","damping","mass"];function vw(t,e){return e.some(n=>t[n]!==void 0)}function rj(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!vw(t,nj)&&vw(t,tj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ai(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ut.mass,stiffness:s,damping:a}}else{const n=JV(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function Bh(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:m,mass:g,duration:w,velocity:x,isResolvedFromDuration:S}=rj({...n,velocity:-br(n.velocity||0)}),k=x||0,D=m/(2*Math.sqrt(f*g)),C=u-a,H=br(Math.sqrt(f/g)),G=Math.abs(C)<5;r||(r=G?ut.restSpeed.granular:ut.restSpeed.default),s||(s=G?ut.restDelta.granular:ut.restDelta.default);let W;if(D<1){const J=om(H,D);W=re=>{const N=Math.exp(-D*H*re);return u-N*((k+D*H*C)/J*Math.sin(J*re)+C*Math.cos(J*re))}}else if(D===1)W=J=>u-Math.exp(-H*J)*(C+(k+H*C)*J);else{const J=H*Math.sqrt(D*D-1);W=re=>{const N=Math.exp(-D*H*re),P=Math.min(J*re,300);return u-N*((k+D*H*C)*Math.sinh(P)+J*C*Math.cosh(P))/J}}const Q={calculatedDuration:S&&w||null,next:J=>{const re=W(J);if(S)h.done=J>=w;else{let N=J===0?k:0;D<1&&(N=J===0?Rr(k):rS(W,J,re));const P=Math.abs(N)<=r,R=Math.abs(u-re)<=s;h.done=P&&R}return h.value=h.done?u:re,h},toString:()=>{const J=Math.min($g(Q),Uh),re=nS(N=>Q.next(J*N).value,J,30);return J+"ms "+re},toTransition:()=>{}};return Q}Bh.applyToOptions=t=>{const e=XV(t,100,Bh);return t.ease=e.ease,t.duration=Rr(e.duration),t.type="keyframes",t};function am({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:m=.5,restSpeed:g}){const w=t[0],x={done:!1,value:w},S=P=>h!==void 0&&P<h||f!==void 0&&P>f,k=P=>h===void 0?f:f===void 0||Math.abs(h-P)<Math.abs(f-P)?h:f;let D=n*e;const C=w+D,H=u===void 0?C:u(C);H!==C&&(D=H-w);const G=P=>-D*Math.exp(-P/r),W=P=>H+G(P),Q=P=>{const R=G(P),V=W(P);x.done=Math.abs(R)<=m,x.value=x.done?H:V};let J,re;const N=P=>{S(x.value)&&(J=P,re=Bh({keyframes:[x.value,k(x.value)],velocity:rS(W,P,x.value),damping:s,stiffness:a,restDelta:m,restSpeed:g}))};return N(0),{calculatedDuration:null,next:P=>{let R=!1;return!re&&J===void 0&&(R=!0,Q(P),N(P)),J!==void 0&&P>=J?re.next(P-J):(!R&&Q(P),x)}}}function ij(t,e,n){const r=[],s=n||li.mix||tS,a=t.length-1;for(let u=0;u<a;u++){let h=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Hn:e;h=Iu(f,h)}r.push(h)}return r}function sj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Dg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=ij(e,r,s),f=h.length,m=g=>{if(u&&g<t[0])return e[0];let w=0;if(f>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const x=au(t[w],t[w+1],g);return h[w](x)};return n?g=>m(ai(t[0],t[a-1],g)):m}function oj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=au(0,e,r);t.push(st(n,1,s))}}function aj(t){const e=[0];return oj(e,t.length-1),e}function lj(t,e){return t.map(n=>n*e)}function uj(t,e){return t.map(()=>e||WT).splice(0,t.length-1)}function ql({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=wV(r)?r.map(dw):dw(r),a={done:!1,value:e[0]},u=lj(n&&n.length===e.length?n:aj(e),t),h=sj(u,e,{ease:Array.isArray(s)?s:uj(e,s)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const cj=t=>t!==null;function Hg(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(cj),h=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const hj={decay:am,inertia:am,tween:ql,keyframes:ql,spring:Bh};function iS(t){typeof t.type=="string"&&(t.type=hj[t.type])}class Wg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dj=t=>t/100;class qg extends Wg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;iS(e);const{type:n=ql,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=n||ql;f!==ql&&typeof h[0]!="number"&&(this.mixKeyframes=Iu(dj,tS(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=$g(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:w,repeatType:x,repeatDelay:S,type:k,onUpdate:D,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-m*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?H<0:H>s;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let W=this.currentTime,Q=r;if(w){const P=Math.min(this.currentTime,s)/h;let R=Math.floor(P),V=P%1;!V&&P>=1&&(V=1),V===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(x==="reverse"?(V=1-V,S&&(V-=S/h)):x==="mirror"&&(Q=u)),W=ai(0,1,V)*h}const J=G?{done:!1,value:g[0]}:Q.next(W);a&&(J.value=a(J.value));let{done:re}=J;!G&&f!==null&&(re=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return N&&k!==am&&(J.value=Hg(g,this.options,C,this.speed)),D&&D(J.value),N&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return br(this.calculatedDuration)}get time(){return br(this.currentTime)}set time(e){var n;e=Rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=br(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=QV,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ws=t=>t*180/Math.PI,lm=t=>{const e=Ws(Math.atan2(t[1],t[0]));return um(e)},pj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lm,rotateZ:lm,skewX:t=>Ws(Math.atan(t[1])),skewY:t=>Ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},um=t=>(t=t%360,t<0&&(t+=360),t),_w=lm,ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ew=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ww,scaleY:Ew,scale:t=>(ww(t)+Ew(t))/2,rotateX:t=>um(Ws(Math.atan2(t[6],t[5]))),rotateY:t=>um(Ws(Math.atan2(-t[2],t[0]))),rotateZ:_w,rotate:_w,skewX:t=>Ws(Math.atan(t[4])),skewY:t=>Ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cm(t){return t.includes("scale")?1:0}function hm(t,e){if(!t||t==="none")return cm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=mj,s=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pj,s=h}if(!s)return cm(e);const a=r[e],u=s[1].split(",").map(yj);return typeof a=="function"?a(u):u[a]}const gj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hm(n,e)};function yj(t){return parseFloat(t.trim())}const Da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(Da),xw=t=>t===Na||t===Ee,vj=new Set(["x","y","z"]),_j=Da.filter(t=>!vj.has(t));function wj(t){const e=[];return _j.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ks={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hm(e,"x"),y:(t,{transform:e})=>hm(e,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Gs=new Set;let dm=!1,fm=!1,pm=!1;function sS(){if(fm){const t=Array.from(Gs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=wj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fm=!1,dm=!1,Gs.forEach(t=>t.complete(pm)),Gs.clear()}function oS(){Gs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fm=!0)})}function Ej(){pm=!0,oS(),sS(),pm=!1}class Kg{constructor(e,n,r,s,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Gs.add(this),dm||(dm=!0,ot.read(oS),ot.resolveKeyframes(sS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&a===void 0&&s.set(e[0])}fj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gs.delete(this)}cancel(){this.state==="scheduled"&&(Gs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xj=t=>t.startsWith("--");function Tj(t,e,n){xj(e)?t.style.setProperty(e,n):t.style[e]=n}const Sj=Vg(()=>window.ScrollTimeline!==void 0),Ij={};function Pj(t,e){const n=Vg(t);return()=>Ij[e]??n()}const aS=Pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ml([0,.65,.55,1]),circOut:Ml([.55,0,1,.45]),backIn:Ml([.31,.01,.66,-.59]),backOut:Ml([.33,1.53,.69,.99])};function lS(t,e){if(t)return typeof t=="function"?aS()?nS(t,e):"ease-out":qT(t)?Ml(t):Array.isArray(t)?t.map(n=>lS(n,e)||Tw.easeOut):Tw[t]}function Aj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},m=void 0){const g={[e]:n};f&&(g.offset=f);const w=lS(h,s);Array.isArray(w)&&(g.easing=w);const x={delay:r,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function uS(t){return typeof t=="function"&&"applyToOptions"in t}function Cj({type:t,...e}){return uS(t)&&aS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Rj extends Wg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Dg(typeof e.type!="string");const m=Cj(e);this.animation=Aj(n,r,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Hg(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):Tj(n,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return br(Number(e))}get time(){return br(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Sj()?(this.animation.timeline=e,Hn):n(this)}}const cS={anticipate:zT,backInOut:BT,circInOut:HT};function bj(t){return t in cS}function kj(t){typeof t.ease=="string"&&bj(t.ease)&&(t.ease=cS[t.ease])}const Sw=10;class Nj extends Rj{constructor(e){kj(e),iS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new qg({...u,autoplay:!1}),f=Rr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Sw).value,h.sample(f).value,Sw),h.stop()}}const Iw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ss.test(t)||t==="0")&&!t.startsWith("url("));function Dj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Iw(s,e),h=Iw(a,e);return!u||!h?!1:Dj(t)||(n==="spring"||uS(n))&&r}function Gg(t){return VT(t)&&"offsetHeight"in t}const jj=new Set(["opacity","clipPath","filter","transform"]),Oj=Vg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Mj(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:u}=t;if(!Gg((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return Oj()&&n&&jj.has(n)&&(n!=="transform"||!f)&&!h&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}const Lj=40;class Fj extends Wg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:m,element:g,...w}){var k;super(),this.stop=()=>{var D,C;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=_n.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:u,name:f,motionValue:m,element:g,...w},S=(g==null?void 0:g.KeyframeResolver)||Kg;this.keyframeResolver=new S(h,(D,C,H)=>this.onKeyframesResolved(D,C,x,!H),f,m,g),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:m,onUpdate:g}=r;this.resolvedAt=_n.now(),Vj(e,a,u,h)||((li.instantAnimations||!f)&&(g==null||g(Hg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Lj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!m&&Mj(x)?new Nj({...x,element:x.motionValue.owner.current}):new qg(x);S.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ej()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Uj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bj(t){const e=Uj.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hS(t,e,n=1){const[r,s]=Bj(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return DT(u)?parseFloat(u):u}return Fg(s)?hS(s,e,n+1):s}function Qg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const dS=new Set(["width","height","top","left","right","bottom",...Da]),zj={test:t=>t==="auto",parse:t=>t},fS=t=>e=>e.test(t),pS=[Na,Ee,kr,Li,DV,NV,zj],Pw=t=>pS.find(fS(t));function $j(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jT(t):!0}const Hj=new Set(["brightness","contrast","saturate","opacity"]);function Wj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ug)||[];if(!r)return t;const s=n.replace(r,"");let a=Hj.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const qj=/\b([a-z-]*)\(.*?\)/gu,mm={...ss,getAnimatableNone:t=>{const e=t.match(qj);return e?e.map(Wj).join(" "):t}},Aw={...Na,transform:Math.round},Kj={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:nh,scaleX:nh,scaleY:nh,scaleZ:nh,skew:Li,skewX:Li,skewY:Li,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:lu,originX:pw,originY:pw,originZ:Ee},Xg={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...Kj,zIndex:Aw,fillOpacity:lu,strokeOpacity:lu,numOctaves:Aw},Gj={...Xg,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:mm,WebkitFilter:mm},mS=t=>Gj[t];function gS(t,e){let n=mS(t);return n!==mm&&(n=ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qj=new Set(["auto","none","0"]);function Xj(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!Qj.has(a)&&uu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=gS(n,s)}class Yj extends Kg{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Fg(m))){const g=hS(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!dS.has(r)||e.length!==2)return;const[s,a]=e,u=Pw(s),h=Pw(a);if(u!==h)if(xw(u)&&xw(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$j(e[s]))&&r.push(s);r.length&&Xj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Ks[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Jj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const yS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cw=30,Zj=t=>!isNaN(parseFloat(t));class eO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var u,h;const a=_n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cw);return OT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ta(t,e){return new eO(t,e)}const{schedule:Yg}=KT(queueMicrotask,!1),or={x:!1,y:!1};function vS(){return or.x||or.y}function tO(t){return t==="x"||t==="y"?or[t]?null:(or[t]=!0,()=>{or[t]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function _S(t,e){const n=Jj(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Rw(t){return!(t.pointerType==="touch"||vS())}function nO(t,e,n={}){const[r,s,a]=_S(t,n),u=h=>{if(!Rw(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=w=>{Rw(w)&&(m(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const wS=(t,e)=>e?t===e?!0:wS(t,e.parentElement):!1,Jg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iO(t){return rO.has(t.tagName)||t.tabIndex!==-1}const mh=new WeakSet;function bw(t){return e=>{e.key==="Enter"&&t(e)}}function vp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bw(()=>{if(mh.has(n))return;vp(n,"down");const s=bw(()=>{vp(n,"up")}),a=()=>vp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kw(t){return Jg(t)&&!vS()}function oO(t,e,n={}){const[r,s,a]=_S(t,n),u=h=>{const f=h.currentTarget;if(!kw(h))return;mh.add(f);const m=e(f,h),g=(S,k)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",x),mh.has(f)&&mh.delete(f),kw(S)&&typeof m=="function"&&m(S,{success:k})},w=S=>{g(S,f===window||f===document||n.useGlobalTarget||wS(f,S.target))},x=S=>{g(S,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",x,s)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),Gg(h)&&(h.addEventListener("focus",m=>sO(m,s)),!iO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function ES(t){return VT(t)&&"ownerSVGElement"in t}function aO(t){return ES(t)&&t.tagName==="svg"}const en=t=>!!(t&&t.getVelocity),lO=[...pS,Et,ss],uO=t=>lO.find(fS(t)),Zg=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class cO extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Gg(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hO({children:t,isPresent:e,anchorX:n}){const r=B.useId(),s=B.useRef(null),a=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=B.useContext(Zg);return B.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:g,right:w}=a.current;if(e||!s.current||!h||!f)return;const x=n==="left"?`left: ${g}`:`right: ${w}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(S)&&document.head.removeChild(S)}},[e]),v.jsx(cO,{isPresent:e,childRef:s,sizeRef:a,children:B.cloneElement(t,{ref:s})})}const dO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u,anchorX:h})=>{const f=Rg(fO),m=B.useId();let g=!0,w=B.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:x=>{f.set(x,!0);for(const S of f.values())if(!S)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return a&&g&&(w={...w}),B.useMemo(()=>{f.forEach((x,S)=>f.set(S,!1))},[n]),B.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),u==="popLayout"&&(t=v.jsx(hO,{isPresent:n,anchorX:h,children:t})),v.jsx(md.Provider,{value:w,children:t})};function fO(){return new Map}function xS(t=!0){const e=B.useContext(md);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=B.useId();B.useEffect(()=>{if(t)return s(a)},[t]);const u=B.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}const rh=t=>t.key||"";function Nw(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const zh=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,m]=xS(u),g=B.useMemo(()=>Nw(t),[t]),w=u&&!f?[]:g.map(rh),x=B.useRef(!0),S=B.useRef(g),k=Rg(()=>new Map),[D,C]=B.useState(g),[H,G]=B.useState(g);NT(()=>{x.current=!1,S.current=g;for(let J=0;J<H.length;J++){const re=rh(H[J]);w.includes(re)?k.delete(re):k.get(re)!==!0&&k.set(re,!1)}},[H,w.length,w.join("-")]);const W=[];if(g!==D){let J=[...g];for(let re=0;re<H.length;re++){const N=H[re],P=rh(N);w.includes(P)||(J.splice(re,0,N),W.push(N))}return a==="wait"&&W.length&&(J=W),G(Nw(J)),C(g),null}const{forceRender:Q}=B.useContext(Cg);return v.jsx(v.Fragment,{children:H.map(J=>{const re=rh(J),N=u&&!f?!1:g===H||w.includes(re),P=()=>{if(k.has(re))k.set(re,!0);else return;let R=!0;k.forEach(V=>{V||(R=!1)}),R&&(Q==null||Q(),G(S.current),u&&(m==null||m()),r&&r())};return v.jsx(dO,{isPresent:N,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:N?void 0:P,anchorX:h,children:J},re)})})},TS=B.createContext({strict:!1}),Dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sa={};for(const t in Dw)Sa[t]={isEnabled:e=>Dw[t].some(n=>!!e[n])};function pO(t){for(const e in t)Sa[e]={...Sa[e],...t[e]}}const mO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mO.has(t)}let SS=t=>!$h(t);function gO(t){typeof t=="function"&&(SS=e=>e.startsWith("on")?!$h(e):t(e))}try{gO(require("@emotion/is-prop-valid").default)}catch{}function yO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SS(s)||n===!0&&$h(s)||!e&&!$h(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function vO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const gd=B.createContext({});function yd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ty=["initial",...ey];function vd(t){return yd(t.animate)||ty.some(e=>cu(t[e]))}function IS(t){return!!(vd(t)||t.variants)}function _O(t,e){if(vd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function wO(t){const{initial:e,animate:n}=_O(t,B.useContext(gd));return B.useMemo(()=>({initial:e,animate:n}),[Vw(e),Vw(n)])}function Vw(t){return Array.isArray(t)?t.join(" "):t}const EO=Symbol.for("motionComponentSymbol");function aa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xO(t,e,n){return B.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):aa(n)&&(n.current=r))},[e])}const ny=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TO="framerAppearId",PS="data-"+ny(TO),AS=B.createContext({});function SO(t,e,n,r,s){var D,C;const{visualElement:a}=B.useContext(gd),u=B.useContext(TS),h=B.useContext(md),f=B.useContext(Zg).reducedMotion,m=B.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,w=B.useContext(AS);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&IO(m.current,n,s,w);const x=B.useRef(!1);B.useInsertionEffect(()=>{g&&x.current&&g.update(n,h)});const S=n[PS],k=B.useRef(!!S&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return NT(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Yg.render(g.render),k.current&&g.animationState&&g.animationState.animateChanges())}),B.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)==null||H.call(window,S)}),k.current=!1))}),g}function IO(t,e,n,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&aa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:m})}function CS(t){if(t)return t.options.allowProjection!==!1?t.projection:CS(t.parent)}function PO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&pO(t);function a(h,f){let m;const g={...B.useContext(Zg),...h,layoutId:AO(h)},{isStatic:w}=g,x=wO(h),S=r(h,w);if(!w&&bg){CO();const k=RO(g);m=k.MeasureLayout,x.visualElement=SO(s,S,g,e,k.ProjectionNode)}return v.jsxs(gd.Provider,{value:x,children:[m&&x.visualElement?v.jsx(m,{visualElement:x.visualElement,...g}):null,n(s,h,xO(S,x.visualElement,f),S,w,x.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=B.forwardRef(a);return u[EO]=s,u}function AO({layoutId:t}){const e=B.useContext(Cg).id;return e&&t!==void 0?e+"-"+t:t}function CO(t,e){B.useContext(TS).strict}function RO(t){const{drag:e,layout:n}=Sa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hu={};function bO(t){for(const e in t)hu[e]=t[e],Lg(e)&&(hu[e].isCSSVariable=!0)}function RS(t,{layout:e,layoutId:n}){return Va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hu[t]||t==="opacity")}const kO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NO=Da.length;function DO(t,e,n){let r="",s=!0;for(let a=0;a<NO;a++){const u=Da[a],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=yS(h,Xg[u]);if(!f){s=!1;const g=kO[u]||u;r+=`${g}(${m}) `}n&&(e[u]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ry(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let u=!1,h=!1;for(const f in e){const m=e[f];if(Va.has(f)){u=!0;continue}else if(Lg(f)){s[f]=m;continue}else{const g=yS(m,Xg[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=DO(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${m} ${g}`}}const iy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bS(t,e,n){for(const r in e)!en(e[r])&&!RS(r,n)&&(t[r]=e[r])}function VO({transformTemplate:t},e){return B.useMemo(()=>{const n=iy();return ry(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jO(t,e){const n=t.style||{},r={};return bS(r,n,t),Object.assign(r,VO(t,e)),r}function OO(t,e){const n={},r=jO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const MO={offset:"stroke-dashoffset",array:"stroke-dasharray"},LO={offset:"strokeDashoffset",array:"strokeDasharray"};function FO(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?MO:LO;t[a.offset]=Ee.transform(-r);const u=Ee.transform(e),h=Ee.transform(n);t[a.array]=`${u} ${h}`}function kS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...h},f,m,g){if(ry(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:x}=t;w.transform&&(x.transform=w.transform,delete w.transform),(x.transform||w.transformOrigin)&&(x.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),s!==void 0&&FO(w,s,a,u,!1)}const NS=()=>({...iy(),attrs:{}}),DS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UO(t,e,n,r){const s=B.useMemo(()=>{const a=NS();return kS(a,e,DS(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};bS(a,t.style,t),s.style={...a,...s.style}}return s}const BO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sy(t){return typeof t!="string"||t.includes("-")?!1:!!(BO.indexOf(t)>-1||/[A-Z]/u.test(t))}function zO(t=!1){return(n,r,s,{latestValues:a},u)=>{const f=(sy(n)?UO:OO)(r,a,u,n),m=yO(r,typeof n=="string",t),g=n!==B.Fragment?{...m,...f,ref:s}:{},{children:w}=r,x=B.useMemo(()=>en(w)?w.get():w,[w]);return B.createElement(n,{...g,children:x})}}function jw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function oy(t,e,n,r){if(typeof e=="function"){const[s,a]=jw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=jw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function gh(t){return en(t)?t.get():t}function $O({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:HO(n,r,s,t),renderState:e()}}const VS=t=>(e,n)=>{const r=B.useContext(gd),s=B.useContext(md),a=()=>$O(t,e,r,s);return n?a():Rg(a)};function HO(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=gh(a[x]);let{initial:u,animate:h}=t;const f=vd(t),m=IS(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const w=g?h:u;if(w&&typeof w!="boolean"&&!yd(w)){const x=Array.isArray(w)?w:[w];for(let S=0;S<x.length;S++){const k=oy(t,x[S]);if(k){const{transitionEnd:D,transition:C,...H}=k;for(const G in H){let W=H[G];if(Array.isArray(W)){const Q=g?W.length-1:0;W=W[Q]}W!==null&&(s[G]=W)}for(const G in D)s[G]=D[G]}}}return s}function ay(t,e,n){var a;const{style:r}=t,s={};for(const u in r)(en(r[u])||e.style&&en(e.style[u])||RS(u,t)||((a=n==null?void 0:n.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(s[u]=r[u]);return s}const WO={useVisualState:VS({scrapeMotionValuesFromProps:ay,createRenderState:iy})};function jS(t,e,n){const r=ay(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const a=Da.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const qO={useVisualState:VS({scrapeMotionValuesFromProps:jS,createRenderState:NS})};function KO(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...sy(r)?qO:WO,preloadedFeatures:t,useRender:zO(s),createVisualElement:e,Component:r};return PO(u)}}function du(t,e,n){const r=t.getProps();return oy(r,e,n!==void 0?n:r.custom,t)}const gm=t=>Array.isArray(t);function GO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ta(n))}function QO(t){return gm(t)?t[t.length-1]||0:t}function XO(t,e){const n=du(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const u in a){const h=QO(a[u]);GO(t,u,h)}}function YO(t){return!!(en(t)&&t.add)}function ym(t,e){const n=t.getValue("willChange");if(YO(n))return n.add(e);if(!n&&li.WillChange){const r=new li.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function OS(t){return t.props[PS]}const JO=t=>t!==null;function ZO(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(JO),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const e3={type:"spring",stiffness:500,damping:25,restSpeed:10},t3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n3={type:"keyframes",duration:.8},r3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i3=(t,{keyframes:e})=>e.length>2?n3:Va.has(t)?t.startsWith("scale")?t3(e[1]):e3:r3;function s3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const ly=(t,e,n,r={},s,a)=>u=>{const h=Qg(r,t)||{},f=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Rr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};s3(h)||Object.assign(g,i3(t,g)),g.duration&&(g.duration=Rr(g.duration)),g.repeatDelay&&(g.repeatDelay=Rr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),(li.instantAnimations||li.skipAnimations)&&(w=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,w&&!a&&e.get()!==void 0){const x=ZO(g.keyframes,h);if(x!==void 0){ot.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new qg(g):new Fj(g)};function o3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function MS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(a=r);const f=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in h){const w=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&o3(m,g))continue;const S={delay:n,...Qg(a||{},g)},k=w.get();if(k!==void 0&&!w.isAnimating&&!Array.isArray(x)&&x===k&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const H=OS(t);if(H){const G=window.MotionHandoffAnimation(H,g,ot);G!==null&&(S.startTime=G,D=!0)}}ym(t,g),w.start(ly(g,w,x,t.shouldReduceMotion&&dS.has(g)?{type:!1}:S,t,D));const C=w.animation;C&&f.push(C)}return u&&Promise.all(f).then(()=>{ot.update(()=>{u&&XO(t,u)})}),f}function vm(t,e,n={}){var f;const r=du(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(MS(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:x}=s;return a3(t,e,g+m,w,x,n)}:()=>Promise.resolve(),{when:h}=s;if(h){const[m,g]=h==="beforeChildren"?[a,u]:[u,a];return m().then(()=>g())}else return Promise.all([a(),u(n.delay)])}function a3(t,e,n=0,r=0,s=1,a){const u=[],h=(t.variantChildren.size-1)*r,f=s===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(l3).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(vm(m,e,{...a,delay:n+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function l3(t,e){return t.sortNodePosition(e)}function u3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>vm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=vm(t,e,n);else{const s=typeof e=="function"?du(t,e,n.custom):e;r=Promise.all(MS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const c3=ty.length;function FS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c3;n++){const r=ty[n],s=t.props[r];(cu(s)||s===!1)&&(e[r]=s)}return e}const h3=[...ey].reverse(),d3=ey.length;function f3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u3(t,n,r)))}function p3(t){let e=f3(t),n=Ow(),r=!0;const s=f=>(m,g)=>{var x;const w=du(t,g,f==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(w){const{transition:S,transitionEnd:k,...D}=w;m={...m,...D,...k}}return m};function a(f){e=f(t)}function u(f){const{props:m}=t,g=FS(t.parent)||{},w=[],x=new Set;let S={},k=1/0;for(let C=0;C<d3;C++){const H=h3[C],G=n[H],W=m[H]!==void 0?m[H]:g[H],Q=cu(W),J=H===f?G.isActive:null;J===!1&&(k=C);let re=W===g[H]&&W!==m[H]&&Q;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),G.protectedKeys={...S},!G.isActive&&J===null||!W&&!G.prevProp||yd(W)||typeof W=="boolean")continue;const N=m3(G.prevProp,W);let P=N||H===f&&G.isActive&&!re&&Q||C>k&&Q,R=!1;const V=Array.isArray(W)?W:[W];let M=V.reduce(s(H),{});J===!1&&(M={});const{prevResolvedValues:F={}}=G,b={...F,...M},Ze=Ie=>{P=!0,x.has(Ie)&&(R=!0,x.delete(Ie)),G.needsAnimating[Ie]=!0;const se=t.getValue(Ie);se&&(se.liveStyle=!1)};for(const Ie in b){const se=M[Ie],pe=F[Ie];if(S.hasOwnProperty(Ie))continue;let ae=!1;gm(se)&&gm(pe)?ae=!LS(se,pe):ae=se!==pe,ae?se!=null?Ze(Ie):x.add(Ie):se!==void 0&&x.has(Ie)?Ze(Ie):G.protectedKeys[Ie]=!0}G.prevProp=W,G.prevResolvedValues=M,G.isActive&&(S={...S,...M}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(re&&N)||R)&&w.push(...V.map(Ie=>({animation:Ie,options:{type:H}})))}if(x.size){const C={};if(typeof m.initial!="boolean"){const H=du(t,Array.isArray(m.initial)?m.initial[0]:m.initial);H&&H.transition&&(C.transition=H.transition)}x.forEach(H=>{const G=t.getBaseTarget(H),W=t.getValue(H);W&&(W.liveStyle=!0),C[H]=G??null}),w.push({animation:C})}let D=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function h(f,m){var w;if(n[f].isActive===m)return Promise.resolve();(w=t.variantChildren)==null||w.forEach(x=>{var S;return(S=x.animationState)==null?void 0:S.setActive(f,m)}),n[f].isActive=m;const g=u(f);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ow(),r=!0}}}function m3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LS(e,t):!1}function Us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ow(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g3 extends hs{constructor(e){super(e),e.animationState||(e.animationState=p3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y3=0;class v3 extends hs{constructor(){super(...arguments),this.id=y3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _3={animation:{Feature:g3},exit:{Feature:v3}};function fu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Cu(t){return{point:{x:t.pageX,y:t.pageY}}}const w3=t=>e=>Jg(e)&&t(e,Cu(e));function Kl(t,e,n,r){return fu(t,e,w3(n),r)}function US({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function E3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const BS=1e-4,T3=1-BS,S3=1+BS,zS=.01,I3=0-zS,P3=0+zS;function ln(t){return t.max-t.min}function A3(t,e,n){return Math.abs(t-e)<=n}function Mw(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=T3&&t.scale<=S3||isNaN(t.scale))&&(t.scale=1),(t.translate>=I3&&t.translate<=P3||isNaN(t.translate))&&(t.translate=0)}function Gl(t,e,n,r){Mw(t.x,e.x,n.x,r?r.originX:void 0),Mw(t.y,e.y,n.y,r?r.originY:void 0)}function Lw(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function C3(t,e,n){Lw(t.x,e.x,n.x),Lw(t.y,e.y,n.y)}function Fw(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function Ql(t,e,n){Fw(t.x,e.x,n.x),Fw(t.y,e.y,n.y)}const Uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:Uw(),y:Uw()}),Bw=()=>({min:0,max:0}),mt=()=>({x:Bw(),y:Bw()});function $n(t){return[t("x"),t("y")]}function _p(t){return t===void 0||t===1}function _m({scale:t,scaleX:e,scaleY:n}){return!_p(t)||!_p(e)||!_p(n)}function zs(t){return _m(t)||$S(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $S(t){return zw(t.x)||zw(t.y)}function zw(t){return t&&t!=="0%"}function Hh(t,e,n){const r=t-n,s=e*r;return n+s}function $w(t,e,n,r,s){return s!==void 0&&(t=Hh(t,s,r)),Hh(t,n,r)+e}function wm(t,e=0,n=1,r,s){t.min=$w(t.min,e,n,r,s),t.max=$w(t.max,e,n,r,s)}function HS(t,{x:e,y:n}){wm(t.x,e.translate,e.scale,e.originPoint),wm(t.y,n.translate,n.scale,n.originPoint)}const Hw=.999999999999,Ww=1.0000000000001;function R3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=n[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,HS(t,u)),r&&zs(a.latestValues)&&ca(t,a.latestValues))}e.x<Ww&&e.x>Hw&&(e.x=1),e.y<Ww&&e.y>Hw&&(e.y=1)}function ua(t,e){t.min=t.min+e,t.max=t.max+e}function qw(t,e,n,r,s=.5){const a=st(t.min,t.max,s);wm(t,e,n,a,r)}function ca(t,e){qw(t.x,e.x,e.scaleX,e.scale,e.originX),qw(t.y,e.y,e.scaleY,e.scale,e.originY)}function WS(t,e){return US(x3(t.getBoundingClientRect(),e))}function b3(t,e,n){const r=WS(t,n),{scroll:s}=e;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const qS=({current:t})=>t?t.ownerDocument.defaultView:null,Kw=(t,e)=>Math.abs(t-e);function k3(t,e){const n=Kw(t.x,e.x),r=Kw(t.y,e.y);return Math.sqrt(n**2+r**2)}class KS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ep(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=k3(w.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:k}=w,{timestamp:D}=$t;this.history.push({...k,timestamp:D});const{onStart:C,onMove:H}=this.handlers;x||(C&&C(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=wp(x,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:S,onSessionEnd:k,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ep(w.type==="pointercancel"?this.lastMoveEventInfo:wp(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,C),k&&k(w,C)},!Jg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=Cu(e),h=wp(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=$t;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Ep(h,this.history)),this.removeListeners=Iu(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function wp(t,e){return e?{point:e(t.point)}:t}function Gw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ep({point:t},e){return{point:t,delta:Gw(t,GS(e)),offset:Gw(t,N3(e)),velocity:D3(e,.1)}}function N3(t){return t[0]}function GS(t){return t[t.length-1]}function D3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=GS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Rr(e)));)n--;if(!r)return{x:0,y:0};const a=br(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function V3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function Qw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j3(t,{top:e,left:n,bottom:r,right:s}){return{x:Qw(t.x,n,s),y:Qw(t.y,e,r)}}function Xw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function O3(t,e){return{x:Xw(t.x,e.x),y:Xw(t.y,e.y)}}function M3(t,e){let n=.5;const r=ln(t),s=ln(e);return s>r?n=au(e.min,e.max-r,t.min):r>s&&(n=au(t.min,t.max-s,e.min)),ai(0,1,n)}function L3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Em=.35;function F3(t=Em){return t===!1?t=0:t===!0&&(t=Em),{x:Yw(t,"left","right"),y:Yw(t,"top","bottom")}}function Yw(t,e,n){return{min:Jw(t,e),max:Jw(t,n)}}function Jw(t,e){return typeof t=="number"?t:t[e]||0}const U3=new WeakMap;class B3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cu(g).point)},a=(g,w)=>{const{drag:x,dragPropagation:S,onDragStart:k}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tO(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(C=>{let H=this.getAxisMotionValue(C).get()||0;if(kr.test(H)){const{projection:G}=this.visualElement;if(G&&G.layout){const W=G.layout.layoutBox[C];W&&(H=ln(W)*(parseFloat(H)/100))}}this.originPoint[C]=H}),k&&ot.postRender(()=>k(g,w)),ym(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(g,w)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:k,onDrag:D}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=w;if(S&&this.currentDirection===null){this.currentDirection=z3(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),D&&D(g,w)},h=(g,w)=>this.stop(g,w),f=()=>$n(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KS(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:qS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ot.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ih(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=V3(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=j3(r.layoutBox,e):this.constraints=!1,this.elastic=F3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$n(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=L3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!aa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=b3(r,s.root,this.visualElement.getTransformPagePoint());let u=O3(s.layout.layoutBox,a);if(n){const h=n(E3(u));this.hasMutatedConstraints=!!h,h&&(u=US(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=$n(g=>{if(!ih(g,n,this.currentDirection))return;let w=f&&f[g]||{};u&&(w={min:0,max:0});const x=s?200:1e6,S=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ym(this.visualElement,e),r.start(ly(e,r,0,n,this.visualElement,!1))}stopAnimation(){$n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){$n(n=>{const{drag:r}=this.getProps();if(!ih(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];a.set(e[n]-st(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!aa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$n(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=M3({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$n(u=>{if(!ih(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];h.set(st(f,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;U3.set(this.visualElement,this);const e=this.visualElement.current,n=Kl(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();aa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const u=fu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&($n(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Em,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function ih(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function z3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $3 extends hs{constructor(e){super(e),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new B3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class H3 extends hs{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(e){this.session=new KS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zw(e),onStart:Zw(n),onMove:r,onEnd:(a,u)=>{delete this.session,s&&ot.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=e1(t,e.target.x),r=e1(t,e.target.y);return`${n}% ${r}%`}},W3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ss.parse(t);if(s.length>5)return r;const a=ss.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const m=st(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),a(s)}};class q3 extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;bO(K3),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ot.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QS(t){const[e,n]=xS(),r=B.useContext(Cg);return v.jsx(q3,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(AS),isPresent:e,safeToRemove:n})}const K3={borderRadius:{...kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kl,borderTopRightRadius:kl,borderBottomLeftRadius:kl,borderBottomRightRadius:kl,boxShadow:W3};function G3(t,e,n){const r=en(t)?t:Ta(t);return r.start(ly("",r,e,n)),r.animation}const Q3=(t,e)=>t.depth-e.depth;class X3{constructor(){this.children=[],this.isDirty=!1}add(e){kg(this.children,e),this.isDirty=!0}remove(e){Ng(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Q3),this.isDirty=!1,this.children.forEach(e)}}function Y3(t,e){const n=_n.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(is(r),t(a-e))};return ot.setup(r,!0),()=>is(r)}const XS=["TopLeft","TopRight","BottomLeft","BottomRight"],J3=XS.length,t1=t=>typeof t=="string"?parseFloat(t):t,n1=t=>typeof t=="number"||Ee.test(t);function Z3(t,e,n,r,s,a){s?(t.opacity=st(0,n.opacity??1,e6(r)),t.opacityExit=st(e.opacity??1,0,t6(r))):a&&(t.opacity=st(e.opacity??1,n.opacity??1,r));for(let u=0;u<J3;u++){const h=`border${XS[u]}Radius`;let f=r1(e,h),m=r1(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||n1(f)===n1(m)?(t[h]=Math.max(st(t1(f),t1(m),r),0),(kr.test(m)||kr.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function r1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e6=YS(0,.5,$T),t6=YS(.5,.95,Hn);function YS(t,e,n){return r=>r<t?0:r>e?1:n(au(t,e,r))}function i1(t,e){t.min=e.min,t.max=e.max}function zn(t,e){i1(t.x,e.x),i1(t.y,e.y)}function s1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function o1(t,e,n,r,s){return t-=e,t=Hh(t,1/n,r),s!==void 0&&(t=Hh(t,1/s,r)),t}function n6(t,e=0,n=1,r=.5,s,a=t,u=t){if(kr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=st(a.min,a.max,r);t===a&&(h-=e),t.min=o1(t.min,e,n,h,s),t.max=o1(t.max,e,n,h,s)}function a1(t,e,[n,r,s],a,u){n6(t,e[n],e[r],e[s],e.scale,a,u)}const r6=["x","scaleX","originX"],i6=["y","scaleY","originY"];function l1(t,e,n,r){a1(t.x,e,r6,n?n.x:void 0,r?r.x:void 0),a1(t.y,e,i6,n?n.y:void 0,r?r.y:void 0)}function u1(t){return t.translate===0&&t.scale===1}function JS(t){return u1(t.x)&&u1(t.y)}function c1(t,e){return t.min===e.min&&t.max===e.max}function s6(t,e){return c1(t.x,e.x)&&c1(t.y,e.y)}function h1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ZS(t,e){return h1(t.x,e.x)&&h1(t.y,e.y)}function d1(t){return ln(t.x)/ln(t.y)}function f1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o6{constructor(){this.members=[]}add(e){kg(this.members,e),e.scheduleRender()}remove(e){if(Ng(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a6(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:w,rotateY:x,skewX:S,skewY:k}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),k&&(r+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const xp=["","X","Y","Z"],l6={visibility:"hidden"},u6=1e3;let c6=0;function Tp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function eI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=OS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&eI(r)}function tI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=c6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f6),this.nodes.forEach(y6),this.nodes.forEach(v6),this.nodes.forEach(p6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new X3)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new jg),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ES(u)&&!aO(u),this.instance=u;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Y3(w,250),yh.hasAnimatedSinceResize&&(yh.hasAnimatedSinceResize=!1,this.nodes.forEach(g1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||T6,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=m.getProps(),H=!this.targetLayout||!ZS(this.targetLayout,S),G=!w&&x;if(this.options.layoutRoot||this.resumeFrom||G||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...Qg(k,"layout"),onPlay:D,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(g,G)}else w||g1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m1);return}this.isUpdating||this.nodes.forEach(m1),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(g6),this.nodes.forEach(h6),this.nodes.forEach(d6),this.clearAllSnapshots();const h=_n.now();$t.delta=ai(0,1e3/60,h-$t.timestamp),$t.timestamp=h,$t.isProcessing=!0,fp.update.process($t),fp.preRender.process($t),fp.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m6),this.sharedNodes.forEach(w6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!JS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||zs(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),S6(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return mt();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(I6))){const{scroll:g}=this.root;g&&(ua(h.x,g.offset.x),ua(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=mt();if(zn(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:w,options:x}=g;g!==this.root&&w&&x.layoutScroll&&(w.wasRoot&&zn(h,u),ua(h.x,w.offset.x),ua(h.y,w.offset.y))}return h}applyTransform(u,h=!1){const f=mt();zn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ca(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),zs(g.latestValues)&&ca(f,g.latestValues)}return zs(this.latestValues)&&ca(f,this.latestValues),f}removeTransform(u){const h=mt();zn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!zs(m.latestValues))continue;_m(m.latestValues)&&m.updateSnapshot();const g=mt(),w=m.measurePageBox();zn(g,w),l1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return zs(this.latestValues)&&l1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ql(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),HS(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ql(this.relativeTargetOrigin,this.target,S.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_m(this.parent.latestValues)||$S(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;zn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;R3(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=mt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s1(this.prevProjectionDelta.x,this.projectionDelta.x),s1(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!f1(this.projectionDelta.x,this.prevProjectionDelta.x)||!f1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},w=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=mt(),S=f?f.source:void 0,k=this.layout?this.layout.source:void 0,D=S!==k,C=this.getStack(),H=!C||C.members.length<=1,G=!!(D&&!H&&this.options.crossfade===!0&&!this.path.some(x6));this.animationProgress=0;let W;this.mixTargetDelta=Q=>{const J=Q/1e3;y1(w.x,u.x,J),y1(w.y,u.y,J),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E6(this.relativeTarget,this.relativeTargetOrigin,x,J),W&&s6(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=mt()),zn(W,this.relativeTarget)),D&&(this.animationValues=g,Z3(g,m,this.latestValues,J,G,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{yh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ta(0)),this.currentAnimation=G3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&nI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||mt();const w=ln(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const x=ln(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}zn(h,f),ca(h,g),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new o6),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Tp("z",u,m,this.animationValues);for(let g=0;g<xp.length;g++)Tp(`rotate${xp[g]}`,u,m,this.animationValues),Tp(`skew${xp[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return l6;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=gh(u==null?void 0:u.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=gh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=a6(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:w,y:x}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in hu){if(g[S]===void 0)continue;const{correct:k,applyTo:D,isCSSVariable:C}=hu[S],H=h.transform==="none"?g[S]:k(g[S],m);if(D){const G=D.length;for(let W=0;W<G;W++)h[D[W]]=H}else C?this.options.visualElement.renderState.vars[S]=H:h[S]=H}return this.options.layoutId&&(h.pointerEvents=m===this?gh(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(p1),this.root.sharedNodes.clear()}}}function h6(t){t.updateLayout()}function d6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,u=e.source!==t.layout.source;a==="size"?$n(w=>{const x=u?e.measuredBox[w]:e.layoutBox[w],S=ln(x);x.min=r[w].min,x.max=x.min+S}):nI(a,e.layoutBox,r)&&$n(w=>{const x=u?e.measuredBox[w]:e.layoutBox[w],S=ln(r[w]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+S)});const h=la();Gl(h,r,e.layoutBox);const f=la();u?Gl(f,t.applyTransform(s,!0),e.measuredBox):Gl(f,r,e.layoutBox);const m=!JS(h);let g=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:x,layout:S}=w;if(x&&S){const k=mt();Ql(k,e.layoutBox,x.layoutBox);const D=mt();Ql(D,r,S.layoutBox),ZS(k,D)||(g=!0),w.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=k,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m6(t){t.clearSnapshot()}function p1(t){t.clearMeasurements()}function m1(t){t.isLayoutDirty=!1}function g6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function g1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function y6(t){t.resolveTargetDelta()}function v6(t){t.calcProjection()}function _6(t){t.resetSkewAndRotation()}function w6(t){t.removeLeadSnapshot()}function y1(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v1(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function E6(t,e,n,r){v1(t.x,e.x,n.x,r),v1(t.y,e.y,n.y,r)}function x6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const T6={duration:.45,ease:[.4,0,.1,1]},_1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w1=_1("applewebkit/")&&!_1("chrome/")?Math.round:Hn;function E1(t){t.min=w1(t.min),t.max=w1(t.max)}function S6(t){E1(t.x),E1(t.y)}function nI(t,e,n){return t==="position"||t==="preserve-aspect"&&!A3(d1(e),d1(n),.2)}function I6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const P6=tI({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sp={current:void 0},rI=tI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sp.current){const t=new P6({});t.mount(window),t.setOptions({layoutScroll:!0}),Sp.current=t}return Sp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A6={pan:{Feature:H3},drag:{Feature:$3,ProjectionNode:rI,MeasureLayout:QS}};function x1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&ot.postRender(()=>a(e,Cu(e)))}class C6 extends hs{mount(){const{current:e}=this.node;e&&(this.unmount=nO(e,(n,r)=>(x1(this.node,r,"Start"),s=>x1(this.node,s,"End"))))}unmount(){}}class R6 extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iu(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&ot.postRender(()=>a(e,Cu(e)))}class b6 extends hs{mount(){const{current:e}=this.node;e&&(this.unmount=oO(e,(n,r)=>(T1(this.node,r,"Start"),(s,{success:a})=>T1(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xm=new WeakMap,Ip=new WeakMap,k6=t=>{const e=xm.get(t.target);e&&e(t)},N6=t=>{t.forEach(k6)};function D6({root:t,...e}){const n=t||document;Ip.has(n)||Ip.set(n,{});const r=Ip.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(N6,{root:t,...e})),r[s]}function V6(t,e,n){const r=D6(e);return xm.set(t,n),r.observe(t),()=>{xm.delete(t),r.unobserve(t)}}const j6={some:0,all:1};class O6 extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:j6[s]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),x=m?g:w;x&&x(f)};return V6(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M6(e,n))&&this.startObserver()}unmount(){}}function M6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L6={inView:{Feature:O6},tap:{Feature:b6},focus:{Feature:R6},hover:{Feature:C6}},F6={layout:{ProjectionNode:rI,MeasureLayout:QS}},Tm={current:null},iI={current:!1};function U6(){if(iI.current=!0,!!bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tm.current=t.matches;t.addListener(e),e()}else Tm.current=!1}const B6=new WeakMap;function z6(t,e,n){for(const r in e){const s=e[r],a=n[r];if(en(s))t.addValue(r,s);else if(en(a))t.addValue(r,Ta(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(r);t.addValue(r,Ta(u!==void 0?u:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const S1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=_n.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=vd(n),this.isVariantNode=IS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in w){const S=w[x];f[x]!==void 0&&en(S)&&S.set(f[x],!1)}}mount(e){this.current=e,B6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iI.current||U6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Va.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sa){const n=Sa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S1.length;r++){const s=S1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=z6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ta(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DT(r)||jT(r))?r=parseFloat(r):!uO(r)&&ss.test(n)&&(r=gS(e,n)),this.setBaseTarget(e,en(r)?r.get():r)),en(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=oy(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!en(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class sI extends $6{constructor(){super(...arguments),this.KeyframeResolver=Yj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function H6(t){return window.getComputedStyle(t)}class W6 extends sI{constructor(){super(...arguments),this.type="html",this.renderInstance=oI}readValueFromInstance(e,n){var r;if(Va.has(n))return(r=this.projection)!=null&&r.isProjecting?cm(n):gj(e,n);{const s=H6(e),a=(Lg(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WS(e,n)}build(e,n,r){ry(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ay(e,n,r)}}const aI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q6(t,e,n,r){oI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(aI.has(s)?s:ny(s),e.attrs[s])}class K6 extends sI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Va.has(n)){const r=mS(n);return r&&r.default||0}return n=aI.has(n)?n:ny(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jS(e,n,r)}build(e,n,r){kS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){q6(e,n,r,s)}mount(e){this.isSVGTag=DS(e.tagName),super.mount(e)}}const G6=(t,e)=>sy(t)?new K6(e):new W6(e,{allowProjection:t!==B.Fragment}),Q6=KO({..._3,...L6,...A6,...F6},G6),We=vO(Q6);function X6(){var G,W;const{usuario:t,usuarioInfo:e,actualizarUsuarioInfo:n}=bT(),[r,s]=B.useState(!1),[a,u]=B.useState(!1),[h,f]=B.useState(""),[m,g]=B.useState(null),[w,x]=B.useState({nombre:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",telefono:"",direccion:"",fotoURL:(t==null?void 0:t.photoURL)||""}),[S,k]=B.useState(w.fotoURL);B.useEffect(()=>{e&&x(Q=>({...Q,telefono:e.telefono||"",direccion:e.direccion||""}))},[e]),B.useEffect(()=>{k(w.fotoURL)},[w.fotoURL]);const D=Q=>{const{name:J,value:re}=Q.target;x(N=>({...N,[J]:re}))},C=Q=>{const J=Q.target.files[0];if(!J)return;g(J);const re=new FileReader;re.onloadend=()=>k(re.result),re.readAsDataURL(J)},H=async()=>{u(!0),f("");try{let Q=w.fotoURL;m&&(Q=await fV(m)),await n({telefono:w.telefono,direccion:w.direccion});const J={};t.displayName!==w.nombre&&(J.displayName=w.nombre),t.photoURL!==Q&&(J.photoURL=Q),Object.keys(J).length>0&&await Lp(t,J),x(re=>({...re,fotoURL:Q})),f("✅ Perfil actualizado con éxito."),s(!1),g(null)}catch(Q){f("❌ Error guardando perfil."),console.error(Q)}finally{u(!1)}};return t?e?v.jsx("main",{className:"min-h-screen bg-[#0F1117] text-gray-300 flex flex-col items-center py-24 px-6",children:v.jsxs(We.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl w-full bg-[#1E222A] rounded-3xl shadow-xl p-10 ring-2 ring-[#4FC3F7]",children:[v.jsx("h1",{className:"text-5xl font-extrabold text-[#4FC3F7] mb-10 tracking-wide select-none text-center",children:"Mi Cuenta"}),r?v.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),H()},className:"space-y-8",children:[v.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[v.jsxs("div",{className:"w-40 h-40 rounded-full overflow-hidden border-8 border-[#4FC3F7] relative cursor-pointer hover:brightness-110 transition select-none",children:[S?v.jsx("img",{src:S,alt:"Preview",className:"object-cover w-full h-full rounded-full"}):v.jsx("div",{className:"flex items-center justify-center w-full h-full bg-[#292E3B] text-[#4FC3F7] font-bold text-6xl rounded-full select-none",children:((W=w.nombre[0])==null?void 0:W.toUpperCase())||"U"}),v.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"Subir nueva foto"})]}),v.jsx("small",{className:"text-[#5A90B2] select-none",children:"Haz click en la imagen para cambiarla"})]}),["nombre","email","telefono","direccion"].map(Q=>v.jsxs("div",{className:"max-w-lg mx-auto",children:[v.jsx("label",{htmlFor:Q,className:"block text-[#75D6FF] font-semibold mb-2 select-none",children:Q.charAt(0).toUpperCase()+Q.slice(1)}),v.jsx("input",{id:Q,name:Q,type:Q==="email"?"email":"text",value:w[Q],onChange:D,placeholder:Q==="telefono"?"+1 809 000 0000":"",className:"w-full bg-[#292E3B] border border-[#4FC3F7] rounded-lg px-5 py-3 text-gray-300 focus:outline-none focus:ring-4 focus:ring-[#4FC3F7] transition",required:!0,autoComplete:"off"})]},Q)),h&&v.jsx("p",{className:`text-center text-sm font-semibold ${h.includes("Error")?"text-red-500":"text-green-400"}`,children:h}),v.jsxs("div",{className:"flex justify-center gap-8 max-w-lg mx-auto",children:[v.jsx(We.button,{type:"submit",disabled:a,className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] transition rounded-full px-8 py-3 font-semibold text-black shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-60 select-none",whileTap:{scale:.95},children:a?"Guardando...":"Guardar Cambios"}),v.jsx("button",{type:"button",disabled:a,onClick:()=>{s(!1),f(""),k(w.fotoURL),g(null)},className:"bg-[#2C313C] hover:bg-[#414A5A] transition rounded-full px-8 py-3 font-semibold text-gray-300 select-none",children:"Cancelar"})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-12 mb-10 items-center",children:[v.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-8 border-[#4FC3F7] shadow-lg shadow-[#4FC3F7]/40 transition-transform duration-300 hover:scale-105 cursor-pointer select-none",children:S?v.jsx(We.img,{src:S,alt:"Foto de perfil",className:"object-cover w-full h-full rounded-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},whileHover:{scale:1.05}}):v.jsx("div",{className:"flex items-center justify-center w-full h-full bg-[#292E3B] text-[#4FC3F7] font-bold text-6xl rounded-full select-none",children:((G=w.nombre[0])==null?void 0:G.toUpperCase())||"U"})}),v.jsxs("div",{className:"flex flex-col flex-1 gap-6 text-lg select-none",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Nombre"}),v.jsx("p",{children:w.nombre})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Correo"}),v.jsx("p",{children:w.email})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Teléfono"}),v.jsx("p",{children:w.telefono||"No definido"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[#75D6FF] font-semibold mb-1",children:"Dirección"}),v.jsx("p",{children:w.direccion||"No definida"})]})]})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx(We.button,{onClick:()=>s(!0),className:"bg-[#4FC3F7] hover:bg-[#3BB0F3] transition rounded-full px-10 py-4 font-semibold text-black shadow-lg hover:shadow-xl transform hover:scale-105 select-none",whileTap:{scale:.95},children:"Editar Perfil"})})]}),v.jsxs("footer",{className:"mt-16 text-center text-gray-500 text-sm select-none",children:[v.jsx("p",{children:"Playcenter Universal"}),v.jsx("p",{children:"Tu universo de tecnología, estilo e innovación en Santiago, R.D."}),v.jsx("p",{children:"+1 (809) 582-1212"}),v.jsx("p",{children:"info@playcenteruniversal.com"})]})]})}):v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0F1117] text-white text-xl font-medium",children:"Cargando perfil..."}):v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#121212] text-white text-xl font-semibold",children:"Por favor inicia sesión para ver tu perfil."})}function Y6(){return v.jsxs("form",{className:"search-form",children:[v.jsx("button",{type:"submit",children:v.jsx("svg",{width:"17",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("input",{className:"input",placeholder:"Buscar",required:!0,type:"text"})]})}function J6({isOpen:t,onClose:e}){return v.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-lg z-50 transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Menú"}),v.jsx("button",{onClick:e,className:"text-2xl font-bold",children:"✖"})]}),v.jsxs("nav",{className:"flex flex-col gap-4 p-4 text-lg",children:[v.jsx(nt,{to:"/",onClick:e,className:"hover:text-pink-600",children:"Inicio"}),v.jsx(nt,{to:"/categorias",onClick:e,className:"hover:text-pink-600",children:"Categorías"}),v.jsx(nt,{to:"/nosotros",onClick:e,className:"hover:text-pink-600",children:"Nosotros"}),v.jsx(nt,{to:"/contacto",onClick:e,className:"hover:text-pink-600",children:"Contáctanos"}),v.jsx(nt,{to:"/favoritos",onClick:e,className:"hover:text-pink-600",children:"❤️ Favoritos"}),v.jsx(nt,{to:"/carrito",onClick:e,className:"hover:text-pink-600",children:"🛒 Mi carrito"})]})]})}function Z6({onClose:t,onLogin:e,onSignup:n}){const[r,s]=B.useState(!0),[a,u]=B.useState(""),[h,f]=B.useState(""),[m,g]=B.useState(""),w=async x=>{if(x.preventDefault(),!a||!h||!r&&!m){alert("Completa todos los campos");return}try{r?await e(a,h):await n(a,h,m),t()}catch(S){console.error("🔥 Firebase error:",S),alert(S.message||"Ocurrió un error")}};return v.jsx("div",{className:"modal-overlay",onClick:t,children:v.jsxs("div",{className:"form-container",onClick:x=>x.stopPropagation(),children:[v.jsx("button",{className:"close-button",onClick:t,"aria-label":"Cerrar modal",children:"×"}),r?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"title",children:"Welcome back"}),v.jsxs("form",{className:"form",onSubmit:w,children:[v.jsx("input",{type:"email",className:"input",placeholder:"Email",value:a,onChange:x=>u(x.target.value),required:!0}),v.jsx("input",{type:"password",className:"input",placeholder:"Password",value:h,onChange:x=>f(x.target.value),required:!0}),v.jsx("p",{className:"page-link",children:v.jsx("span",{className:"page-link-label",children:"Forgot Password?"})}),v.jsx("button",{type:"submit",className:"form-btn",children:"Log in"})]}),v.jsxs("p",{className:"sign-up-label",children:["Don't have an account?"," ",v.jsx("span",{className:"sign-up-link",onClick:()=>s(!1),children:"Sign up"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"title",children:"Create account"}),v.jsx("p",{className:"sub-title",children:"Let's get started with your 30 days free trial"}),v.jsxs("form",{className:"form",onSubmit:w,children:[v.jsx("input",{type:"text",className:"input",placeholder:"Name",value:m,onChange:x=>g(x.target.value),required:!0}),v.jsx("input",{type:"email",className:"input",placeholder:"Email",value:a,onChange:x=>u(x.target.value),required:!0}),v.jsx("input",{type:"password",className:"input",placeholder:"Password",value:h,onChange:x=>f(x.target.value),required:!0}),v.jsx("button",{type:"submit",className:"form-btn",children:"Create account"})]}),v.jsxs("p",{className:"sign-up-label",children:["Already have an account?"," ",v.jsx("span",{className:"sign-up-link",onClick:()=>s(!0),children:"Log in"})]})]})]})})}function eM(){const t=B.useRef(null),e=Cm(),[n,r]=B.useState(!1),s=()=>{t.current&&(t.current.currentTime=0,t.current.play(),r(!0),t.current.onended=()=>{r(!1),e("/arcade")})},a=Array.from({length:150});return v.jsxs(v.Fragment,{children:[v.jsxs(We.div,{whileTap:{y:-8,rotate:[0,-10,10,0]},className:"cursor-pointer inline-block z-[100]",onClick:s,title:"¡Haz clic!",children:[v.jsx("img",{src:"/bloquemario.webp",alt:"Bloque de monedas de Mario",className:"w-12 h-13"}),v.jsx("audio",{ref:t,src:"/mario_coin_sound.mp3",preload:"auto"})]}),v.jsx(zh,{children:n&&v.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black bg-opacity-95 pointer-events-auto z-[9999] overflow-hidden",children:a.map((u,h)=>v.jsx(tM,{index:h},h))},"coin-rain")})]})}const tM=({index:t})=>{const e=Math.random()*window.innerWidth,n=e+(Math.random()*150-75),r=Math.random()*.7,s=2+Math.random();return v.jsx(We.img,{src:"/mario_coin.png",alt:"Moneda",className:"absolute",style:{top:-50,left:e,width:200,height:200,pointerEvents:"none",userSelect:"none"},initial:{y:-50,opacity:1,rotate:0,x:0},animate:{y:[-50,window.innerHeight-40,window.innerHeight-70,window.innerHeight-40],x:[0,n-e,n-e,n-e],rotate:[0,360,450,360],opacity:[1,1,1,0]},transition:{y:{duration:s,ease:"easeIn",times:[0,.7,.85,1],delay:r},x:{duration:s,ease:"easeInOut",delay:r},rotate:{duration:s,ease:"linear",delay:r},opacity:{duration:.3,delay:r+s*.85,ease:"easeOut"}}})};function nM(){var k;const[t,e]=B.useState(!1),[n,r]=B.useState(!1),[s,a]=B.useState(!1),{usuario:u,logout:h,login:f,signup:m}=bT(),g=B.useRef(null),w=async()=>{try{await h(),a(!1)}catch(D){console.error("Error cerrando sesión",D)}},x=async(D,C)=>{try{await f(D,C),r(!1)}catch(H){console.error("Error al iniciar sesión:",H),alert("Correo o contraseña incorrectos.")}},S=async(D,C,H)=>{try{await m(D,C,H),r(!1)}catch(G){console.error("Error al registrarse:",G),alert("Error al crear la cuenta.")}};return B.useEffect(()=>{function D(C){g.current&&!g.current.contains(C.target)&&a(!1)}return s&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[s]),v.jsxs(v.Fragment,{children:[v.jsxs(We.header,{initial:{y:-120,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 w-full bg-white shadow-md z-[9999] flex flex-col md:flex-row items-center justify-between px-6 py-3 gap-4 md:gap-8",style:{backdropFilter:"saturate(180%) blur(15px)"},children:[v.jsx(nt,{to:"/",className:"flex items-center",children:v.jsx(We.img,{src:"/playcenter.jpeg",alt:"Playcenter Universal",className:"h-14 sm:h-16 object-contain cursor-pointer",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300}})}),v.jsx(We.div,{className:"w-full md:w-auto flex-1 max-w-md",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:v.jsx(Y6,{})}),v.jsx(We.button,{className:"md:hidden text-3xl",onClick:()=>e(!0),"aria-label":"Abrir menú",whileTap:{scale:.9},children:"☰"}),v.jsxs("nav",{className:"hidden md:flex gap-6 items-center",children:[v.jsx(eM,{}),v.jsx(nt,{to:"/",className:"nav-link hover:text-[#4FC3F7] transition-colors font-semibold",children:"Inicio"}),v.jsx(nt,{to:"/productos",className:"nav-link hover:text-[#4FC3F7] transition-colors font-semibold",children:"Categorías"}),v.jsx(nt,{to:"/arcade",className:"nav-link",children:"Arcade"}),v.jsx(nt,{to:"/nosotros",className:"nav-link hover:text-[#4FC3F7] transition-colors font-semibold",children:"Nosotros"}),v.jsx(nt,{to:"/contacto",className:"nav-link hover:text-[#4FC3F7] transition-colors font-semibold",children:"Contáctanos"}),v.jsx(nt,{to:"/favoritos",className:"link hover:scale-110 transition-transform text-xl",children:"❤️"}),v.jsx(nt,{to:"/carrito",className:"link hover:scale-110 transition-transform text-xl",children:"🛒"}),u?v.jsxs(We.div,{className:"relative ml-6 cursor-pointer",ref:g,onClick:()=>a(!s),whileTap:{scale:.95},children:[v.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow-lg hover:shadow-xl transition-shadow duration-300",children:u.photoURL?v.jsx("img",{src:u.photoURL,alt:"Perfil",className:"w-full h-full object-cover rounded-full"}):v.jsx("div",{className:"w-full h-full bg-[#4FC3F7] text-white font-bold flex items-center justify-center text-xl select-none",children:((k=u.displayName)==null?void 0:k.charAt(0).toUpperCase())||"U"})}),v.jsx(zh,{children:s&&v.jsxs(We.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:[v.jsx(nt,{to:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-[#4FC3F7] hover:text-white rounded-t-md transition",onClick:()=>a(!1),children:"Mi Perfil"}),v.jsx("button",{onClick:w,className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-red-500 hover:text-white rounded-b-md transition",children:"Cerrar sesión"})]})})]}):v.jsx(We.button,{onClick:()=>r(!0),className:"ml-4 px-6 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white font-semibold rounded-lg transition shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Iniciar sesión"})]})]}),v.jsx(J6,{isOpen:t,onClose:()=>e(!1)}),v.jsx(zh,{children:n&&v.jsx(Z6,{onClose:()=>r(!1),onLogin:x,onSignup:S})}),v.jsx("div",{className:"h-[72px] md:h-[72px]"})]})}/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),I1=t=>{const e=iM(t);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>B.createElement("svg",{ref:f,...oM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lI("lucide",s),...!a&&!sM(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>B.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=(t,e)=>{const n=B.forwardRef(({className:r,...s},a)=>B.createElement(aM,{ref:a,iconNode:e,className:lI(`lucide-${rM(I1(t))}`,`lucide-${t}`,r),...s}));return n.displayName=I1(t),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uM=uI("chevron-left",lM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hM=uI("chevron-right",cM),wr=[{id:1,img:"/ads/consolas.png",link:"/productos/consolas",isExternal:!1},{id:2,img:"/ads/ubicacion.png",link:"https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",isExternal:!0},{id:3,img:"/ads/videojuegos.png",link:"/productos/videojuegos",isExternal:!1},{id:4,img:"/ads/verofertas.png",link:"/productos/ofertas-especiales",isExternal:!1},{id:5,img:"/ads/productos.png",link:"/productos",isExternal:!1}];function dM(){const[t,e]=B.useState(0),n=B.useRef(null),r=4e3;B.useEffect(()=>(n.current=setTimeout(()=>{e(u=>u===wr.length-1?0:u+1)},r),()=>clearTimeout(n.current)),[t]);const s=()=>{clearTimeout(n.current),e(u=>u===0?wr.length-1:u-1)},a=()=>{clearTimeout(n.current),e(u=>u===wr.length-1?0:u+1)};return v.jsxs("div",{className:"relative max-w-[1280px] mx-auto rounded-xl shadow-lg overflow-hidden",style:{aspectRatio:"16 / 9",maxHeight:"720px"},onMouseEnter:()=>clearTimeout(n.current),onMouseLeave:()=>{n.current=setTimeout(()=>{e(u=>u===wr.length-1?0:u+1)},r)},children:[v.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{width:`${wr.length*100}%`,transform:`translateX(-${t*(100/wr.length)}%)`},children:wr.map(u=>u.isExternal?v.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0",style:{width:`${100/wr.length}%`},children:v.jsx("img",{src:u.img,alt:`Anuncio ${u.id}`,className:"w-full h-full object-contain rounded-xl bg-white",loading:"lazy"})},u.id):v.jsx(nt,{to:u.link,className:"flex-shrink-0",style:{width:`${100/wr.length}%`},children:v.jsx("img",{src:u.img,alt:`Anuncio ${u.id}`,className:"w-full h-full object-contain rounded-xl bg-white",loading:"lazy"})},u.id))}),v.jsx("button",{onClick:s,className:"absolute top-1/2 left-4 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg z-10","aria-label":"Anterior",children:v.jsx(uM,{className:"text-gray-700 w-8 h-8"})}),v.jsx("button",{onClick:a,className:"absolute top-1/2 right-4 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg z-10","aria-label":"Siguiente",children:v.jsx(hM,{className:"text-gray-700 w-8 h-8"})}),v.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:wr.map((u,h)=>v.jsx("button",{className:`w-3 h-3 rounded-full ${h===t?"bg-gray-800":"bg-gray-400"}`,"aria-label":`Ir al slide ${h+1}`,onClick:()=>{clearTimeout(n.current),e(h)}},h))})]})}var cI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P1=ti.createContext&&ti.createContext(cI),fM=["attr","size","title"];function pM(t,e){if(t==null)return{};var n=mM(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){gM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gM(t,e,n){return e=yM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yM(t){var e=vM(t,"string");return typeof e=="symbol"?e:e+""}function vM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hI(t){return t&&t.map((e,n)=>ti.createElement(e.tag,qh({key:n},e.attr),hI(e.child)))}function kn(t){return e=>ti.createElement(_M,Wh({attr:qh({},t.attr)},e),hI(t.child))}function _M(t){var e=n=>{var{attr:r,size:s,title:a}=t,u=pM(t,fM),h=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),ti.createElement("svg",Wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:qh(qh({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&ti.createElement("title",null,a),t.children)};return P1!==void 0?ti.createElement(P1.Consumer,null,n=>e(n)):e(cI)}function wM(t){return kn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function EM(t){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function xM(t){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function ui(t){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function TM(t){return kn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function SM(t){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function Ru(t){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function dI(t){return kn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function IM(t){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function uy(t){return kn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Sm(t){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function os(t){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function PM(t){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}const fI=B.createContext(),AM=({children:t})=>{const[e,n]=B.useState(()=>{const g=localStorage.getItem("carrito");return g?JSON.parse(g):[]}),[r,s]=B.useState(()=>{const g=localStorage.getItem("favoritos");return g?JSON.parse(g):[]});B.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]),B.useEffect(()=>{localStorage.setItem("favoritos",JSON.stringify(r))},[r]);const a=g=>{n(w=>w.find(S=>S.id===g.id)?w.map(S=>S.id===g.id?{...S,cantidad:S.cantidad+1}:S):[...w,{...g,cantidad:1}])},u=g=>{n(w=>w.map(x=>x.id===g?{...x,cantidad:x.cantidad-1}:x).filter(x=>x.cantidad>0))},h=g=>{n(w=>w.find(S=>S.id===g.id)?w.filter(S=>S.id!==g.id):[...w,{...g,cantidad:1}])},f=g=>{s(w=>w.find(x=>x.id===g.id)?w:[...w,g])},m=g=>{s(w=>w.filter(x=>x.id!==g))};return v.jsx(fI.Provider,{value:{carrito:e,favoritos:r,agregarAlCarrito:a,eliminarDelCarrito:u,toggleCarrito:h,agregarAFavoritos:f,eliminarDeFavoritos:m},children:t})},cy=()=>B.useContext(fI);function qe({producto:t}){const{agregarAlCarrito:e,favoritos:n,carrito:r,agregarAFavoritos:s,eliminarDeFavoritos:a,eliminarDelCarrito:u}=cy(),h=Cm(),f=n.some(S=>S.id===t.id),m=r.some(S=>S.id===t.id),g=S=>{S.stopPropagation(),f?a(t.id):s(t)},w=S=>{S.stopPropagation(),m?u(t.id):e(t)},x=()=>{h(`/producto/${t.id}`,{state:{producto:t}})};return v.jsxs("div",{onClick:x,className:"card bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition duration-300 cursor-pointer",title:t.nombre,children:[v.jsx("div",{className:"flex justify-center items-center h-40 bg-gray-100 rounded-xl mb-4",children:v.jsx("img",{src:t.imagen,alt:t.nombre,className:"w-40 h-40 object-contain rounded-lg shadow"})}),v.jsx("h2",{className:"text-gray-800 font-bold text-base",children:t.nombre}),v.jsxs("p",{className:"text-gray-600 font-semibold mb-3",children:["$",t.precio.toFixed(2)]}),v.jsxs("div",{className:"actions flex justify-between items-center",children:[v.jsx("button",{onClick:g,className:"p-2 rounded-full bg-gray-200 shadow hover:scale-110 transition","aria-label":f?"Eliminar de favoritos":"Agregar a favoritos",children:v.jsx(IM,{className:`text-xl ${f?"text-red-500 animate-pulse":"text-gray-500 hover:text-red-400"}`})}),v.jsxs("button",{onClick:w,className:`px-5 py-2 rounded-full text-sm font-semibold transition-colors duration-300 shadow ${m?"bg-green-500 text-white hover:bg-green-600":"bg-pink-500 text-white hover:bg-pink-600"}`,children:["🛒 ",m?"Quitar":"Agregar"]})]})]})}function Pp({productos:t}){return v.jsx("div",{className:"relative w-full overflow-x-auto pb-4",children:v.jsx("div",{className:"flex gap-4 px-4 pb-2 snap-x snap-mandatory overflow-x-auto scroll-smooth scrollbar-thin scrollbar-thumb-blue-300 scrollbar-track-transparent",children:t.map((e,n)=>v.jsx("div",{className:"snap-start flex-shrink-0 w-[230px] sm:w-[250px] md:w-[260px] lg:w-[280px] xl:w-[300px] transition-transform duration-300",children:v.jsx(qe,{producto:e})},n))})})}const Xe=[{categoria:"AccesoriosVideojuegos",productos:[{id:1,nombre:"Soporte de control PS5 doble carga",imagen:"/Productos/soporte-controles.jpg",precio:25.99,descripcion:"Soporte dual para cargar tus controles de PS5 con diseño compacto y moderno que ahorra espacio.",imagenes:["/Productos/soporte-controles.jpg","/Productos/soporte-controles-2.jpg","/Productos/soporte-controles-3.jpg"],oferta:!0},{id:2,nombre:"Base refrigeradora para consola Xbox",imagen:"/Productos/base-refrigeracion.jpg",precio:34.99,descripcion:"Mantén tu Xbox fresca y sin sobrecalentamientos con esta base refrigeradora silenciosa y eficiente.",imagenes:["/Productos/base-refrigeracion.jpg","/Productos/base-refrigeracion-2.jpg"],oferta:!0},{id:3,nombre:"Auriculares Gaming con micrófono",imagen:"/Productos/auriculares-gamer.jpg",precio:44.99,descripcion:"Auriculares con sonido envolvente y micrófono ajustable para la mejor experiencia gamer y comunicación clara.",imagenes:["/Productos/auriculares-gamer.jpg","/Productos/auriculares-gamer-2.jpg"],oferta:!0},{id:4,nombre:"Grip antideslizante para Nintendo Switch",imagen:"/Productos/grip-switch.jpg",precio:14.99,descripcion:"Mejora el agarre y la comodidad de tu Nintendo Switch con este grip antideslizante y ergonómico.",imagenes:["/Productos/grip-switch.jpg"],oferta:!0}]},{categoria:"Audifonos",productos:[{id:101,nombre:"Audífonos Bluetooth",imagen:"/Productos/audifonos-bluetooth.jpg",precio:999,descripcion:"Audífonos inalámbricos Bluetooth con alta calidad de sonido y batería de larga duración.",imagenes:["/Productos/audifonos-bluetooth.jpg"],oferta:!0},{id:102,nombre:"Audífonos Gamer RGB",imagen:"/Productos/audifonos-gamer.jpg",precio:1299,descripcion:"Audífonos gamer con iluminación RGB, micrófono ajustable y sonido envolvente para gaming pro.",imagenes:["/Productos/audifonos-gamer.jpg"],oferta:!0}]},{categoria:"Cables",productos:[{id:1901,nombre:"Cable USB-C a Lightning (1m)",imagen:"/Productos/cable-usb-c-lightning.jpg",precio:14.99,descripcion:"Cable USB-C a Lightning de 1 metro compatible con carga rápida y transferencia de datos.",imagenes:["/Productos/cable-usb-c-lightning.jpg"],oferta:!0},{id:1902,nombre:"Cable HDMI 4K 2m",imagen:"/Productos/cable-hdmi.jpg",precio:12.99,descripcion:"Cable HDMI 4K de 2 metros para transmisión de video y audio en alta definición.",imagenes:["/Productos/cable-hdmi.jpg"],oferta:!0}]},{categoria:"Camaras",productos:[{id:401,nombre:"Cámara Canon EOS 2000D",imagen:"/Productos/canon-eos.jpg",precio:499.99,descripcion:"Cámara DSLR Canon EOS 2000D con sensor APS-C, ideal para fotografía y video de alta calidad.",imagenes:["/Productos/canon-eos.jpg","/Productos/canon-eos-2.jpg"],oferta:!0},{id:402,nombre:"Cámara GoPro Hero 10",imagen:"/Productos/gopro-hero10.jpg",precio:399.99,descripcion:"GoPro Hero 10 con video 5.3K, estabilización HyperSmooth y diseño resistente para aventuras extremas.",imagenes:["/Productos/gopro-hero10.jpg","/Productos/gopro-hero10-2.jpg"],oferta:!0}]},{categoria:"Cargadores",productos:[{id:201,nombre:"Cargador rápido USB-C",imagen:"/Productos/cargador-rapido.jpg",precio:499,descripcion:"Cargador rápido USB-C compatible con la mayoría de smartphones y tablets para carga eficiente.",imagenes:["/Productos/cargador-rapido.jpg"],oferta:!0},{id:202,nombre:"Cargador inalámbrico",imagen:"/Productos/cargador-inalambrico.jpg",precio:599,descripcion:"Cargador inalámbrico rápido con diseño elegante y base antideslizante para smartphones compatibles.",imagenes:["/Productos/cargador-inalambrico.jpg"],oferta:!0}]},{categoria:"Celulares",productos:[{id:301,nombre:"iPhone 14 Pro",imagen:"/Productos/iphone14pro.jpg",precio:999.99,descripcion:"iPhone 14 Pro con pantalla Super Retina XDR, cámara avanzada y rendimiento potente.",imagenes:["/Productos/iphone14pro.jpg","/Productos/iphone14pro-2.jpg"],oferta:!0},{id:302,nombre:"Samsung Galaxy S22",imagen:"/Productos/galaxy-s22.jpg",precio:899.99,descripcion:"Samsung Galaxy S22 con pantalla AMOLED, cámara versátil y batería de larga duración.",imagenes:["/Productos/galaxy-s22.jpg","/Productos/galaxy-s22-2.jpg"],oferta:!0}]},{categoria:"Consolas",productos:[{id:501,nombre:"PlayStation 5",imagen:"/Productos/ps5.jpg",precio:499.99,descripcion:"Consola PlayStation 5 con tecnología de nueva generación, juegos exclusivos y gráficos espectaculares.",imagenes:["/Productos/ps5.jpg","/Productos/ps5-2.jpg","/Productos/ps5-3.jpg"],oferta:!0},{id:502,nombre:"Xbox Series X",imagen:"/Productos/xbox.jpg",precio:499.99,descripcion:"Xbox Series X con potencia increíble, retrocompatibilidad y juegos de última generación.",imagenes:["/Productos/xbox.jpg","/Productos/xbox-2.jpg","/Productos/xbox-3.jpg"],oferta:!0}]},{categoria:"DiscosDuros",productos:[{id:2001,nombre:"Disco duro externo Seagate 1TB",imagen:"/Productos/disco-seagate.jpg",precio:59.99,descripcion:"Disco duro externo Seagate de 1TB con conexión USB 3.0 para almacenamiento rápido y seguro.",imagenes:["/Productos/disco-seagate.jpg"],oferta:!0},{id:2002,nombre:"SSD Samsung 500GB",imagen:"/Productos/ssd-samsung.jpg",precio:89.99,descripcion:"Unidad SSD Samsung de 500GB para aumentar la velocidad y rendimiento de tu PC o laptop.",imagenes:["/Productos/ssd-samsung.jpg"],oferta:!0}]},{categoria:"Electrodomesticos",productos:[{id:601,nombre:"Licuadora Oster",imagen:"/Productos/licuadora-oster.jpg",precio:69.99,descripcion:"Licuadora Oster potente con múltiples velocidades para preparar tus jugos y batidos favoritos.",imagenes:["/Productos/licuadora-oster.jpg"],oferta:!0},{id:602,nombre:"Microondas Samsung 1000W",imagen:"/Productos/microondas.jpg",precio:129.99,descripcion:"Microondas Samsung de 1000W con varias funciones y diseño moderno para tu cocina.",imagenes:["/Productos/microondas.jpg"],oferta:!0}]},{categoria:"GamingChairs",productos:[{id:701,nombre:"Silla Gamer Reclinable RGB",imagen:"/Productos/silla-gamer-rgb.jpg",precio:229.99,descripcion:"Silla gamer reclinable con iluminación RGB y soporte ergonómico para largas sesiones de juego.",imagenes:["/Productos/silla-gamer-rgb.jpg","/Productos/silla-gamer-rgb-2.jpg"],oferta:!0},{id:702,nombre:"Silla ergonómica con soporte lumbar",imagen:"/Productos/silla-ergonomica.jpg",precio:189.99,descripcion:"Silla ergonómica con soporte lumbar ajustable para máxima comodidad y postura saludable.",imagenes:["/Productos/silla-ergonomica.jpg"],oferta:!0}]},{categoria:"HogarInteligente",productos:[{id:801,nombre:"Bombillo Wi-Fi inteligente",imagen:"/Productos/bombillo-wifi.jpg",precio:19.99,descripcion:"Bombillo inteligente Wi-Fi compatible con Alexa y Google Home para controlar la luz desde el móvil.",imagenes:["/Productos/bombillo-wifi.jpg"],oferta:!0},{id:802,nombre:"Enchufe inteligente Alexa",imagen:"/Productos/enchufe-inteligente.jpg",precio:24.99,descripcion:"Enchufe inteligente compatible con Alexa para controlar tus dispositivos con comandos de voz.",imagenes:["/Productos/enchufe-inteligente.jpg"],oferta:!0}]},{categoria:"Impresoras",productos:[{id:901,nombre:"Impresora HP DeskJet",imagen:"/Productos/hp-deskjet.jpg",precio:79.99,descripcion:"Impresora HP DeskJet compacta y fácil de usar, ideal para impresión doméstica y documentos básicos.",imagenes:["/Productos/hp-deskjet.jpg"],oferta:!0},{id:902,nombre:"Impresora multifunción Epson",imagen:"/Productos/epson-multifuncion.jpg",precio:129.99,descripcion:"Impresora multifunción Epson con funciones de escaneo, copia y Wi-Fi integrado.",imagenes:["/Productos/epson-multifuncion.jpg"],oferta:!0}]},{categoria:"Laptops",productos:[{id:1001,nombre:"Laptop Lenovo IdeaPad 3",imagen:"/Productos/lenovo-ideapad.jpg",precio:599.99,descripcion:"Laptop Lenovo IdeaPad 3 con procesador Intel, 8GB RAM y almacenamiento SSD para trabajo y estudio.",imagenes:["/Productos/lenovo-ideapad.jpg"],oferta:!0},{id:1002,nombre:"MacBook Air M1",imagen:"/Productos/macbook-air-m1.jpg",precio:999.99,descripcion:"MacBook Air con chip M1, rendimiento sorprendente y batería de larga duración para usuarios Apple.",imagenes:["/Productos/macbook-air-m1.jpg"],oferta:!0}]},{categoria:"MemoriasUSB",productos:[{id:1101,nombre:"USB Kingston 32GB",imagen:"/Productos/usb-kingston.jpg",precio:9.99,descripcion:"Memoria USB Kingston de 32GB para almacenamiento rápido y confiable en formato compacto.",imagenes:["/Productos/usb-kingston.jpg"],oferta:!0},{id:1102,nombre:"USB SanDisk 64GB",imagen:"/Productos/usb-sandisk.jpg",precio:14.99,descripcion:"Memoria USB SanDisk de 64GB, perfecta para transportar tus archivos con velocidad y seguridad.",imagenes:["/Productos/usb-sandisk.jpg"],oferta:!0}]},{categoria:"Monitores",productos:[{id:1201,nombre:"Monitor LG 24'' FHD",imagen:"/Productos/monitor-lg.jpg",precio:169.99,descripcion:"Monitor LG de 24 pulgadas con resolución Full HD, ideal para trabajo y entretenimiento.",imagenes:["/Productos/monitor-lg.jpg"],oferta:!0},{id:1202,nombre:"Monitor Samsung Curvo 27''",imagen:"/Productos/monitor-samsung.jpg",precio:219.99,descripcion:"Monitor Samsung curvo de 27 pulgadas para inmersión total en juegos y contenido multimedia.",imagenes:["/Productos/monitor-samsung.jpg"],oferta:!0}]},{categoria:"Mouses",productos:[{id:1301,nombre:"Mouse Logitech G203 RGB",imagen:"/Productos/logitech-g203.jpg",precio:39.99,descripcion:"Mouse gamer Logitech G203 con iluminación RGB personalizable y alta precisión.",imagenes:["/Productos/logitech-g203.jpg"],oferta:!0},{id:1302,nombre:"Mouse inalámbrico Xiaomi",imagen:"/Productos/mouse-xiaomi.jpg",precio:19.99,descripcion:"Mouse inalámbrico Xiaomi con diseño ergonómico y conectividad estable para uso diario.",imagenes:["/Productos/mouse-xiaomi.jpg"],oferta:!0}]},{categoria:"NuevosLanzamiento",productos:[{id:1401,nombre:"PlayStation Portal",imagen:"/Productos/playstation-portal.jpg",precio:299.99,descripcion:"Dispositivo portátil PlayStation Portal para jugar en streaming con alta calidad gráfica.",imagenes:["/Productos/playstation-portal.jpg"],oferta:!0},{id:1402,nombre:"Apple Vision Pro",imagen:"/Productos/vision-pro.jpg",precio:3499.99,descripcion:"Apple Vision Pro, tecnología de realidad mixta con pantalla de alta resolución y controles avanzados.",imagenes:["/Productos/vision-pro.jpg"],oferta:!0}]},{categoria:"OfertasEspeciales",productos:[{id:1501,nombre:"Combo Teclado + Mouse RGB",imagen:"/Productos/combo-rgb.jpg",precio:49.99,descripcion:"Combo gaming con teclado mecánico y mouse RGB para una experiencia completa y estilizada.",imagenes:["/Productos/combo-rgb.jpg","/Productos/combo-rgb-2.jpg"],oferta:!0},{id:1502,nombre:"TV LG 50'' con 20% OFF",imagen:"/Productos/tv-lg-oferta.jpg",precio:399.99,descripcion:"Televisor LG 50 pulgadas UHD con descuento especial para disfrutar de tu contenido favorito.",imagenes:["/Productos/tv-lg-oferta.jpg","/Productos/tv-lg-oferta-2.jpg"],oferta:!0}]},{categoria:"RelojesInteligentes",productos:[{id:1601,nombre:"Apple Watch Series 8",imagen:"/Productos/apple-watch.jpg",precio:399.99,descripcion:"Apple Watch Series 8 con monitoreo avanzado de salud y conectividad total con tu iPhone.",imagenes:["/Productos/apple-watch.jpg"],oferta:!0},{id:1602,nombre:"Xiaomi Watch S1 Active",imagen:"/Productos/xiaomi-watch.jpg",precio:199.99,descripcion:"Smartwatch Xiaomi Watch S1 Active con GPS, monitoreo de ritmo cardíaco y pantalla AMOLED.",imagenes:["/Productos/xiaomi-watch.jpg"],oferta:!0}]},{categoria:"SmartTV",productos:[{id:1701,nombre:"Samsung 55'' QLED Smart TV",imagen:"/Productos/samsung-qled.jpg",precio:799.99,descripcion:"Televisor Samsung QLED de 55 pulgadas con resolución 4K y funciones inteligentes.",imagenes:["/Productos/samsung-qled.jpg","/Productos/samsung-qled-2.jpg"],oferta:!0},{id:1702,nombre:"LG 50'' UHD Smart TV",imagen:"/Productos/lg-uhd.jpg",precio:599.99,descripcion:"Televisor LG 50 pulgadas UHD con sistema Smart TV y conectividad múltiple.",imagenes:["/Productos/lg-uhd.jpg"],oferta:!0}]},{categoria:"Tablets",productos:[{id:1801,nombre:"iPad 9na generación",imagen:"/Productos/ipad9.jpg",precio:329.99,descripcion:"iPad de 9na generación con pantalla Retina, cámara frontal HD y potente rendimiento.",imagenes:["/Productos/ipad9.jpg"],oferta:!0},{id:1802,nombre:"Samsung Galaxy Tab S8",imagen:"/Productos/galaxy-tab.jpg",precio:699.99,descripcion:"Tablet Samsung Galaxy Tab S8 con pantalla AMOLED, lápiz táctil y batería de larga duración.",imagenes:["/Productos/galaxy-tab.jpg"],oferta:!0}]},{categoria:"Teclados",productos:[{id:2101,nombre:"Teclado mecánico Redragon RGB",imagen:"/Productos/teclado-redragon.jpg",precio:49.99,descripcion:"Teclado mecánico Redragon con iluminación RGB personalizable y teclas anti-ghosting.",imagenes:["/Productos/teclado-redragon.jpg"],oferta:!0},{id:2102,nombre:"Teclado inalámbrico Logitech",imagen:"/Productos/teclado-logitech.jpg",precio:39.99,descripcion:"Teclado inalámbrico Logitech compacto y cómodo, ideal para trabajo y ocio.",imagenes:["/Productos/teclado-logitech.jpg"],oferta:!0}]},{categoria:"Videojuegos",productos:[{id:2201,nombre:"The Legend of Zelda: Tears of the Kingdom",imagen:"/Productos/zelda-tears.jpg",precio:69.99,descripcion:"Aventura épica en The Legend of Zelda: Tears of the Kingdom, exclusiva para Nintendo Switch.",imagenes:["/Productos/zelda-tears.jpg"],oferta:!0},{id:2202,nombre:"God of War Ragnarök PS5",imagen:"/Productos/god-of-war.jpg",precio:59.99,descripcion:"Juego God of War Ragnarök para PS5, acción intensa y narrativa envolvente en la mitología nórdica.",imagenes:["/Productos/god-of-war.jpg"],oferta:!0}]}];function CM(){return v.jsx(We.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},viewport:{once:!0},className:"max-w-5xl mx-auto px-4 mb-16",children:v.jsxs(nt,{to:"/arcade",className:"group block relative bg-gradient-to-br from-purple-700 via-pink-600 to-yellow-500 rounded-3xl overflow-hidden shadow-2xl hover:shadow-purple-600/50 transition transform hover:scale-105",children:[v.jsxs("div",{className:"relative w-full h-64 sm:h-80 md:h-96 overflow-hidden",children:[v.jsx("img",{src:"/mario.png",alt:"Arcade Retro",className:"w-full h-full object-cover object-center opacity-90 group-hover:opacity-100 transition"}),v.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition"}),v.jsx(We.div,{className:"absolute -inset-1 rounded-3xl border-4 border-transparent group-hover:border-pink-400 animate-pulse pointer-events-none"})]}),v.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-4",children:v.jsxs(We.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4,duration:.6,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[v.jsx(dI,{className:"text-white text-5xl sm:text-6xl animate-bounce"}),v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white drop-shadow-lg",children:"¡Explora el Arcade Retro!"}),v.jsx("p",{className:"text-white text-lg font-medium",children:"Haz click aquí y juega gratis 🎮"}),v.jsx("span",{className:"inline-block mt-3 px-5 py-2 bg-blue-500 rounded-full text-black font-semibold shadow-md group-hover:bg-pink-400 transition",children:"Jugar Ahora"})]})})]})})}const pI=Xe.flatMap(t=>t.productos),C1=Xe.find(t=>t.categoria==="Consolas"),RM=C1?C1.productos:[],bM=pI.filter(t=>t.oferta);function R1(){return v.jsxs("div",{className:"pt-[80px] bg-white min-h-screen",children:[v.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px] md:h-[500px] overflow-hidden rounded-3xl shadow-md mb-12 border border-gray-300",children:[v.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-3xl",children:[v.jsx("source",{src:"/videos/playcenter_intro.mp4",type:"video/mp4"}),"Tu navegador no soporta video HTML5."]}),v.jsx(We.div,{className:"absolute inset-0 bg-gradient-to-t from-gray-200/40 to-transparent rounded-3xl pointer-events-none",animate:{opacity:[0,.15,0]},transition:{repeat:1/0,duration:10,ease:"easeInOut"}})]}),v.jsx(We.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"slider-anuncios-container",children:v.jsx(dM,{})}),v.jsxs(We.section,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"btn-container",children:[v.jsx("h2",{className:"btn-title",children:"Mira nuestras mejores ofertas"}),v.jsxs("div",{className:"btn-wrapper",children:[v.jsxs(nt,{to:"/productos",className:"btn btn-primary",children:["Explorar Productos",v.jsx("span",{className:"btn-glow"})]}),v.jsxs(nt,{to:"/productos/ofertas-especiales",className:"btn btn-secondary",children:["Ver Ofertas",v.jsx("span",{className:"btn-glow"})]})]})]}),v.jsxs("section",{className:"max-w-7xl mx-auto mb-12 px-4",children:[v.jsx("h2",{className:"section-title",children:"Recomendaciones para ti"}),v.jsx(Pp,{productos:pI.slice(0,10),tipo:"recomendados"}),v.jsx("div",{className:"text-right mt-4",children:v.jsx(nt,{to:"/productos",className:"link-primary",children:"Ver todos los productos →"})})]}),v.jsxs("section",{className:"max-w-7xl mx-auto mb-12 px-4",children:[v.jsx("h2",{className:"section-title",children:"Consolas populares"}),v.jsx(Pp,{productos:RM.slice(0,10),tipo:"consolas"}),v.jsx("div",{className:"text-right mt-4",children:v.jsx(nt,{to:"/categorias/consolas",className:"link-primary",children:"Ver todas las consolas →"})})]}),v.jsxs("section",{className:"max-w-7xl mx-auto mb-12 px-4",children:[v.jsx("h2",{className:"section-title",children:"Ofertas Especiales"}),v.jsx(Pp,{productos:bM.slice(0,10),tipo:"ofertas"}),v.jsx("div",{className:"text-right mt-4",children:v.jsx(nt,{to:"/productos/ofertas-especiales",className:"link-primary",children:"Seguir viendo ofertas →"})})]}),v.jsx(CM,{}),v.jsxs("section",{className:"contact-section",children:[v.jsx("h2",{className:"contact-title",children:"Contáctanos"}),v.jsxs("div",{className:"contact-card",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-4 flex flex-wrap items-center gap-1",children:[v.jsx("span",{className:"text-red-600",children:"P"}),v.jsx("span",{className:"text-orange-500",children:"l"}),v.jsx("span",{className:"text-yellow-500",children:"a"}),v.jsx("span",{className:"text-green-600",children:"y"}),v.jsx("span",{className:"text-blue-600",children:"c"}),v.jsx("span",{className:"text-indigo-600",children:"e"}),v.jsx("span",{className:"text-purple-600",children:"n"}),v.jsx("span",{className:"text-pink-600",children:"t"}),v.jsx("span",{className:"text-teal-600",children:"e"}),v.jsx("span",{className:"text-emerald-600",children:"r"}),v.jsx("span",{className:"ml-2 text-green-800",children:"Universal"})]}),v.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[v.jsx(uy,{className:"mr-2 text-red-600"}),"Av. Estrella Sadhalá, Santiago, República Dominicana"]}),v.jsxs("p",{className:"flex items-center mb-3 text-blue-700 font-medium",children:[v.jsx(os,{className:"mr-2 text-blue-600"}),"+1 (849)-635-7000 (Tienda)"]}),v.jsxs("p",{className:"flex items-center mb-3 text-red-700 font-medium",children:[v.jsx(os,{className:"mr-2 text-red-600"}),"+1 (809)-582-1212 (Internet)"]}),v.jsxs("p",{className:"flex items-center mb-3",children:[v.jsx(Ru,{className:"mr-2 text-green-600"}),"playcenter121@gmail.com"]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[v.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Tienda"]}),v.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-rose-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})]})}const kM=[{nombre:"Todos los productos",ruta:""},{nombre:"Accesorios Videojuegos",ruta:"accesorios-videojuegos"},{nombre:"Audífonos",ruta:"audifonos"},{nombre:"Cables",ruta:"cables"},{nombre:"Cámaras",ruta:"camaras"},{nombre:"Cargadores",ruta:"cargadores"},{nombre:"Celulares",ruta:"celulares"},{nombre:"Consolas",ruta:"consolas"},{nombre:"Discos Duros",ruta:"discos-duros"},{nombre:"Electrodomésticos",ruta:"electrodomesticos"},{nombre:"Gaming Chairs",ruta:"gaming-chairs"},{nombre:"Hogar Inteligente",ruta:"hogar-inteligente"},{nombre:"Impresoras",ruta:"impresoras"},{nombre:"Laptops",ruta:"laptops"},{nombre:"Memorias USB",ruta:"memorias-usb"},{nombre:"Monitores",ruta:"monitores"},{nombre:"Mouses",ruta:"mouses"},{nombre:"Nuevos Lanzamientos",ruta:"nuevos-lanzamientos"},{nombre:"Ofertas Especiales",ruta:"ofertas-especiales"},{nombre:"Relojes Inteligentes",ruta:"relojes-inteligentes"},{nombre:"Smart TV",ruta:"smart-tv"},{nombre:"Tablets",ruta:"tablets"},{nombre:"Teclados",ruta:"teclados"},{nombre:"Videojuegos",ruta:"videojuegos"}];function NM(){const t=Pa();return v.jsxs("aside",{className:"w-40 sm:w-44 md:w-48 bg-white border-r border-gray-200 shadow-md p-3 sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto z-30",children:[v.jsx("h2",{className:"text-lg sm:text-xl font-bold text-blue-800 mb-4",children:"Categorías"}),v.jsx("ul",{className:"space-y-2 text-sm sm:text-base",children:kM.map((e,n)=>{const r=`/productos/${e.ruta}`,s=t.pathname===r||e.ruta===""&&t.pathname==="/productos";return v.jsx("li",{children:v.jsx(nt,{to:r,className:`block px-3 py-2 rounded-md font-medium transition-all duration-200 ${s?"bg-blue-600 text-white":"text-gray-700 hover:bg-blue-100 hover:text-blue-800"}`,children:e.nombre})},n)})})]})}function DM(){return v.jsxs("div",{className:"flex flex-col sm:flex-row min-h-screen bg-white pt-[90px]",children:[v.jsx(NM,{}),v.jsx("main",{className:"flex-1 p-2 sm:p-4 relative z-[1]",children:v.jsx(EP,{})})]})}function VM(){const t=Xe.flatMap(e=>e.productos.map(n=>({...n,categoria:e.categoria})));return v.jsxs("div",{className:"p-6 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Todos los Productos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))})]})}function jM(){return v.jsxs("section",{className:"max-w-4xl mx-auto mt-12 p-6 bg-white rounded-xl shadow-lg text-center",children:[v.jsx("p",{className:"text-lg font-semibold text-[#1E40AF] mb-4",children:"Si te interesa algún producto o quieres más información, ¡contáctanos directamente por WhatsApp!"}),v.jsxs("p",{className:"flex items-center mb-3 text-blue-700 font-medium justify-center",children:[v.jsx(os,{className:"mr-2 text-blue-600"}),"+1 (849)-635-7000 (Tienda)"]}),v.jsxs("p",{className:"flex items-center mb-3 text-red-700 font-medium justify-center",children:[v.jsx(os,{className:"mr-2 text-red-600"}),"+1 (809)-582-1212 (Internet)"]}),v.jsxs("p",{className:"flex items-center mb-3 justify-center",children:[v.jsx(Ru,{className:"mr-2 text-green-600"}),"playcenter121@gmail.com"]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6 justify-center",children:[v.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Tienda"]}),v.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-rose-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Internet"]})]})]})}function OM(){const{carrito:t}=cy(),e=t.reduce((n,r)=>n+r.precio*r.cantidad,0);return v.jsxs("main",{className:"pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-white text-[#1E2A47]",children:[v.jsx("h1",{className:`text-3xl sm:text-4xl font-bold text-center mb-10
                    bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 
                    bg-clip-text text-transparent animate-text-glow`,children:"Mi Carrito"}),t.length===0?v.jsx("p",{className:"text-center text-[#4B5563] text-lg",children:"Tu carrito está vacío."}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map(n=>v.jsx(qe,{producto:n},n.id))}),v.jsxs("div",{className:"mt-10 text-center",children:[v.jsxs("p",{className:"text-lg font-semibold mb-3 text-[#2563EB]",children:["Total: $",e.toFixed(2)]}),v.jsx("button",{className:"mt-4 bg-[#2563EB] hover:bg-[#1E40AF] text-white font-medium px-6 py-3 rounded-lg transition-all",children:"Finalizar compra"})]})]}),v.jsx(jM,{})]})}function MM(){const{favoritos:t}=cy();return v.jsxs("main",{className:"pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-white text-[#1E2A47]",children:[v.jsx("h1",{className:`text-3xl sm:text-4xl font-bold text-center mb-10
            bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 
            bg-clip-text text-transparent animate-text-glow`,children:"Favoritos"}),t.length===0?v.jsx("p",{className:"text-center text-[#4B5563] text-lg",children:"No tienes productos favoritos."}):v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))}),v.jsxs("section",{className:"max-w-4xl mx-auto mt-16 p-6 bg-white rounded-xl shadow-lg text-center border border-blue-200",children:[v.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"¿Te interesa algún producto? ¡Escríbenos directamente a WhatsApp!"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad@%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Tienda"]}),v.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad@%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-rose-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Internet"]})]}),v.jsxs("div",{className:"mt-6 space-y-2",children:[v.jsxs("p",{className:"flex items-center justify-center text-blue-700 font-medium",children:[v.jsx(os,{className:"mr-2 text-blue-600"}),"+1 (849)-635-7000 (Tienda)"]}),v.jsxs("p",{className:"flex items-center justify-center text-red-700 font-medium",children:[v.jsx(os,{className:"mr-2 text-red-600"}),"+1 (809)-582-1212 (Internet)"]}),v.jsxs("p",{className:"flex items-center justify-center",children:[v.jsx(Ru,{className:"mr-2 text-green-600"}),"playcenter121@gmail.com"]})]})]})]})}function LM(){return v.jsxs("div",{className:"pt-24 px-4 sm:px-8 lg:px-24 pb-16 bg-white min-h-screen text-gray-800",children:[v.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mb-10 text-red-600",children:"Contáctanos"}),v.jsxs("div",{className:"max-w-3xl mx-auto bg-red-50 p-6 rounded-2xl shadow-md",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-4 flex flex-wrap items-center gap-1",children:[v.jsx("span",{className:"text-red-600",children:"P"}),v.jsx("span",{className:"text-orange-500",children:"l"}),v.jsx("span",{className:"text-yellow-500",children:"a"}),v.jsx("span",{className:"text-green-600",children:"y"}),v.jsx("span",{className:"text-blue-600",children:"c"}),v.jsx("span",{className:"text-indigo-600",children:"e"}),v.jsx("span",{className:"text-purple-600",children:"n"}),v.jsx("span",{className:"text-pink-600",children:"t"}),v.jsx("span",{className:"text-teal-600",children:"e"}),v.jsx("span",{className:"text-emerald-600",children:"r"}),v.jsx("span",{className:"ml-2 text-green-800",children:"Universal"})]}),v.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[v.jsx(uy,{className:"mr-2 text-red-600"}),"Av. Estrella Sadhalá, Santiago, República Dominicana"]}),v.jsxs("p",{className:"flex items-center mb-2 text-blue-700 font-medium ",children:[v.jsx(os,{className:"mr-2 text-blue-500"}),"+1 (849)-635-7000 (Tienda)"]}),v.jsxs("p",{className:"flex items-center mb-2 text-green-700 font-medium",children:[v.jsx(os,{className:"mr-2 text-green-500"}),"+1 (809)-582-1212 (Internet)"]}),v.jsxs("p",{className:"flex items-center mb-3 text-gray-700",children:[v.jsx(Ru,{className:"mr-2 text-red-600"}),"playcenter121@gmail.com"]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[v.jsxs("a",{href:"https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Tienda"]}),v.jsxs("a",{href:"https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 text-white bg-green-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",children:[v.jsx(ui,{className:"text-xl"}),"WhatsApp Internet"]})]})]})]})}const FM=[{id:1,nombre:"Audífonos Sony WH-1000XM5",imagen:"/products/sony-wh1000xm5.png",precio:349.99,descripcion:"Cancelación de ruido líder, hasta 30h de batería, diseño premium."},{id:2,nombre:"AirPods Pro 2da Gen",imagen:"/products/airpods-pro-2.png",precio:249.99,descripcion:"Audio espacial personalizado, chip H2 de Apple, resistente al agua."}];function UM(){const{id:t}=oP(),e=FM.find(n=>n.id===parseInt(t));return e?v.jsxs("div",{className:"pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",children:[v.jsx("div",{className:"w-full lg:w-1/2 flex justify-center",children:v.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow"})}),v.jsxs("div",{className:"w-full lg:w-1/2 space-y-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:e.nombre}),v.jsx("p",{className:"text-gray-700 text-lg",children:e.descripcion}),v.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",e.precio]}),v.jsxs("div",{className:"flex gap-4 mt-6",children:[v.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",children:"Agregar al carrito"}),v.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",children:"Añadir a favoritos ❤️"})]})]})]}):v.jsx("div",{className:"pt-24 text-center text-red-600 font-semibold",children:"Producto no encontrado"})}function BM(){return v.jsxs("div",{className:"nosotros-container pt-28 min-h-screen px-6 pb-20",children:[v.jsxs("div",{className:"max-w-5xl mx-auto text-center z-10 relative",children:[v.jsx("h1",{className:"text-5xl font-extrabold bg-gradient-to-r from-blue-800 via-cyan-400 to-yellow-400 text-transparent bg-clip-text animate-pulse mb-6 drop-shadow-lg",children:"Conoce Playcenter Universal"}),v.jsxs("p",{className:"text-xl text-gray-900 font-medium mb-6 leading-relaxed",children:[v.jsx(SM,{className:"inline-block mr-2 text-yellow-400"}),"Somos una empresa dominicana ubicada en ",v.jsx("strong",{className:"text-blue-800",children:"Santiago"}),", especializada en brindar lo último en tecnología, innovación y productos para el estilo de vida moderno."]}),v.jsxs("p",{className:"text-lg text-gray-800 mb-6 leading-loose",children:[v.jsx(PM,{className:"inline-block mr-2 text-cyan-500"}),"Nuestra misión es superar las expectativas de nuestros clientes ofreciendo artículos de calidad como consolas, videojuegos, tablets, móviles, accesorios y más, con un servicio humano, eficiente y profesional."]}),v.jsxs("p",{className:"text-lg text-gray-800 mb-10 leading-loose",children:[v.jsx(uy,{className:"inline-block mr-2 text-green-500"}),"¡Gracias por confiar en nosotros! Playcenter Universal no solo vende productos, crea experiencias memorables con cada compra."]}),v.jsxs(nt,{to:"/contacto",className:"contacto-btn bg-gradient-to-r from-blue-700 via-cyan-500 to-yellow-400 text-white font-bold py-3 px-6 rounded-full shadow-xl hover:scale-105 transition-all duration-300",children:[v.jsx(Sm,{className:"inline-block mr-2"}),"Contáctanos"]})]}),v.jsx("div",{className:"animated-bg"})]})}function zM(){return v.jsxs("footer",{className:"relative bg-black text-gray-300 px-6 py-12 mt-20 overflow-hidden",children:[v.jsx("div",{className:"box-of-star1",children:Array.from({length:7}).map((t,e)=>v.jsx("div",{className:`star star-position${e+1}`},e))}),v.jsx("div",{className:"box-of-star2",children:Array.from({length:7}).map((t,e)=>v.jsx("div",{className:`star star-position${e+1}`},e))}),v.jsx("div",{className:"box-of-star3",children:Array.from({length:7}).map((t,e)=>v.jsx("div",{className:`star star-position${e+1}`},e))}),v.jsx("div",{className:"box-of-star4",children:Array.from({length:7}).map((t,e)=>v.jsx("div",{className:`star star-position${e+1}`},e))}),v.jsxs("div",{"data-js":"astro",className:"astronaut",children:[v.jsx("div",{className:"head"}),v.jsx("div",{className:"arm arm-left"}),v.jsx("div",{className:"arm arm-right"}),v.jsx("div",{className:"body",children:v.jsx("div",{className:"panel"})}),v.jsx("div",{className:"leg leg-left"}),v.jsx("div",{className:"leg leg-right"}),v.jsx("div",{className:"schoolbag"})]}),v.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Playcenter Universal"}),v.jsx("p",{children:"Tu universo de tecnología, estilo e innovación en Santiago, R.D."}),v.jsxs("p",{className:"mt-2 flex items-center gap-2",children:[v.jsx(Sm,{})," +1 (809) 582-1212  (Internet)"]}),v.jsxs("p",{className:"mt-2 flex items-center gap-2",children:[v.jsx(Sm,{})," +1 (849) 635-7000 (Tienda)"]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx(Ru,{})," playcenter121@gmail.com"]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Enlaces útiles"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx("a",{href:"/productos",className:"hover:text-white transition",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:"/productos/ofertas-especiales",className:"hover:text-white transition",children:"Ofertas Especiales"})}),v.jsx("li",{children:v.jsx("a",{href:"/favoritos",className:"hover:text-white transition",children:"Favoritos"})}),v.jsx("li",{children:v.jsx("a",{href:"/contacto",className:"hover:text-white transition",children:"Contáctanos"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Horario"}),v.jsx("p",{children:"Lunes a Viernes: 9:00am - 6:00pm"}),v.jsx("p",{children:"Sábados: 10:00am - 2:00pm"}),v.jsx("p",{children:"Domingo: Cerrado"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Síguenos"}),v.jsxs("div",{className:"flex flex-col gap-3 text-base",children:[v.jsxs("a",{href:"https://www.facebook.com/pcu12",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-blue-500 transition",children:[v.jsx(wM,{className:"text-xl"})," Facebook"]}),v.jsxs("a",{href:"https://www.instagram.com/playcenter_universal/?hl=es",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-pink-500 transition",children:[v.jsx(EM,{className:"text-xl"})," Instagram"]}),v.jsxs("a",{href:"https://www.tiktok.com/@playcenter_universal?lang=es",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-gray-100 transition",children:[v.jsx(xM,{className:"text-xl"})," TikTok"]}),v.jsxs("a",{href:"https://youtube.com/@playcenteruniversal1916",target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 text-white hover:text-red-500 transition",children:[v.jsx(TM,{className:"text-xl"})," YouTube"]})]})]})]}),v.jsxs("p",{className:"text-center text-gray-500 text-sm mt-10 relative z-20",children:["© ",new Date().getFullYear()," Playcenter Universal. Todos los derechos reservados."]})]})}function $M({imagenes:t}){const[e,n]=B.useState(0);return v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:"overflow-hidden rounded-xl shadow-md mb-4",children:v.jsx(zh,{mode:"wait",children:v.jsx(We.img,{src:t[e],alt:`Imagen ${e+1}`,className:"w-full h-[400px] object-contain bg-gray-100",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5}},t[e])})}),v.jsx("div",{className:"flex gap-3 justify-center",children:t.map((r,s)=>v.jsx(We.img,{src:r,alt:`Miniatura ${s+1}`,className:`w-16 h-16 object-contain rounded cursor-pointer border-2 ${s===e?"border-pink-500":"border-transparent"}`,onClick:()=>n(s),whileHover:{scale:1.1},transition:{type:"spring",stiffness:300}},r))})]})}function HM(){const t=Pa(),{producto:e}=t.state||{};if(!e)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-gray-700",children:"Producto no encontrado."});const n=`https://wa.me/18496357000?text=${encodeURIComponent(`¡Hola! Estoy interesado/a en el producto "${e.nombre}". ¿Sigue disponible?`)}`,r=["¿Tienen envíos disponibles?","¿Puedo reservarlo?","¿Está disponible en otro color o modelo?"];return v.jsx("main",{className:"min-h-screen bg-[#f5f7fa] px-4 py-10 text-gray-800",children:v.jsxs("section",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-10 bg-white shadow-xl rounded-2xl p-8 animate-fadeIn",children:[v.jsx(We.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:.5},children:v.jsx($M,{imagenes:e.imagenes||[e.imagen]})}),v.jsxs(We.div,{className:"flex flex-col gap-6",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.5},children:[v.jsx("h1",{className:"text-3xl font-extrabold text-[#333]",children:e.nombre}),v.jsxs("p",{className:"text-2xl font-semibold text-[#FF4081]",children:["$",e.precio.toFixed(2)]}),v.jsx(We.p,{className:"text-gray-600 text-lg leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:e.descripcion||"Contáctanos para más detalles o para coordinar una compra en nuestra tienda física."}),v.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full shadow-md transition-transform hover:scale-105",children:[v.jsx(ui,{className:"text-2xl"}),"Escribir por WhatsApp"]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:"Preguntas comunes:"}),v.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:r.map((s,a)=>v.jsx("li",{children:s},a))})]})]})]})})}function WM(){return v.jsxs("main",{className:"pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-gradient-to-br from-purple-50 to-blue-100 text-[#1E2A47]",children:[v.jsxs(We.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-center mb-8",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold flex items-center justify-center gap-3 text-indigo-700",children:[v.jsx(dI,{className:"text-pink-500"}),"Arcade"]}),v.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Disfruta de un juego clásico directamente aquí 🎮"})]}),v.jsx(We.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"max-w-4xl mx-auto rounded-xl overflow-hidden shadow-lg border border-gray-300",children:v.jsx("div",{className:"aspect-w-16 aspect-h-9",children:v.jsx("iframe",{title:"Super Mario Game",width:"100%",height:"100%",allow:"fullscreen; autoplay; encrypted-media",src:"https://games.construct.net/769/latest",frameBorder:"0",allowFullScreen:!0,sandbox:"allow-same-origin allow-forms allow-scripts allow-pointer-lock allow-orientation-lock allow-popups",scrolling:"no",className:"w-full h-[500px] sm:h-[600px] bg-black"})})}),v.jsx("div",{className:"text-center mt-6",children:v.jsx("p",{className:"text-gray-500",children:"¡Dale play y a disfrutar!"})})]})}function qM(){const t=Xe.find(n=>n.categoria==="AccesoriosVideojuegos"),e=t?t.productos:[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Accesorios para Videojuegos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(n=>v.jsx(qe,{producto:n},n.id))})]})}function KM(){var n;const t="Audifonos",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Audífonos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function GM(){var n;const t="Cables",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cables"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function QM(){var n;const t="Camaras",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cámaras"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function XM(){var n;const t="Cargadores",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Cargadores"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function YM(){var n;const t="Celulares",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Celulares"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function JM(){var n;const t="Consolas",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Consolas"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function ZM(){var n;const t="DiscosDuros",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Discos Duros"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function eL(){var n;const t="Electrodomesticos",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Electrodomésticos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function tL(){var n;const t="GamingChairs",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Sillas Gamer"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function nL(){var n;const t="HogarInteligente",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Hogar Inteligente"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function rL(){var n;const t="Impresoras",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Impresoras"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function iL(){var n;const t="Laptops",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Laptops"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function sL(){var n;const t="MemoriasUSB",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Memorias USB"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function oL(){var n;const t="Monitores",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Monitores"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function aL(){var n;const t="Mouses",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Mouses"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function lL(){var n;const t="NuevosLanzamiento",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Nuevos Lanzamientos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function uL(){var n;const t="OfertasEspeciales",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Ofertas Especiales"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function cL(){var n;const t="RelojesInteligentes",e=((n=Xe.find(r=>r.categoria===t))==null?void 0:n.productos)||[];return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Relojes Inteligentes"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>v.jsx(qe,{producto:r},r.id))})]})}function hL(){const t=Xe.filter(e=>e.categoria==="smarttv");return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Smart TV"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))})]})}function dL(){const t=Xe.filter(e=>e.categoria==="tablets");return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Tablets"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))})]})}function fL(){const t=Xe.teclados;return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Teclados"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))})]})}function pL(){const t=Xe.videojuegos;return v.jsxs("div",{className:"p-6 pt-28 bg-white min-h-screen",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Videojuegos"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(e=>v.jsx(qe,{producto:e},e.id))})]})}function mL(){return v.jsxs(kT,{children:[v.jsx(nM,{}),v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsx("main",{className:"flex-grow",children:v.jsxs(TP,{children:[v.jsx(ke,{path:"/",element:v.jsx(R1,{})}),v.jsx(ke,{path:"/arcade",element:v.jsx(WM,{})}),v.jsx(ke,{path:"/profile",element:v.jsx(X6,{})}),v.jsx(ke,{path:"/producto/:id",element:v.jsx(HM,{})}),v.jsxs(ke,{path:"/productos",element:v.jsx(DM,{}),children:[v.jsx(ke,{index:!0,element:v.jsx(VM,{})}),v.jsx(ke,{path:"accesorios-videojuegos",element:v.jsx(qM,{})}),v.jsx(ke,{path:"audifonos",element:v.jsx(KM,{})}),v.jsx(ke,{path:"cables",element:v.jsx(GM,{})}),v.jsx(ke,{path:"camaras",element:v.jsx(QM,{})}),v.jsx(ke,{path:"cargadores",element:v.jsx(XM,{})}),v.jsx(ke,{path:"celulares",element:v.jsx(YM,{})}),v.jsx(ke,{path:"consolas",element:v.jsx(JM,{})}),v.jsx(ke,{path:"discos-duros",element:v.jsx(ZM,{})}),v.jsx(ke,{path:"electrodomesticos",element:v.jsx(eL,{})}),v.jsx(ke,{path:"gaming-chairs",element:v.jsx(tL,{})}),v.jsx(ke,{path:"hogar-inteligente",element:v.jsx(nL,{})}),v.jsx(ke,{path:"impresoras",element:v.jsx(rL,{})}),v.jsx(ke,{path:"laptops",element:v.jsx(iL,{})}),v.jsx(ke,{path:"memorias-usb",element:v.jsx(sL,{})}),v.jsx(ke,{path:"monitores",element:v.jsx(oL,{})}),v.jsx(ke,{path:"mouses",element:v.jsx(aL,{})}),v.jsx(ke,{path:"nuevos-lanzamientos",element:v.jsx(lL,{})}),v.jsx(ke,{path:"ofertas-especiales",element:v.jsx(uL,{})}),v.jsx(ke,{path:"relojes-inteligentes",element:v.jsx(cL,{})}),v.jsx(ke,{path:"smart-tv",element:v.jsx(hL,{})}),v.jsx(ke,{path:"tablets",element:v.jsx(dL,{})}),v.jsx(ke,{path:"teclados",element:v.jsx(fL,{})}),v.jsx(ke,{path:"videojuegos",element:v.jsx(pL,{})})]}),v.jsx(ke,{path:"/",element:v.jsx(R1,{})}),v.jsx(ke,{path:"/carrito",element:v.jsx(OM,{})}),v.jsx(ke,{path:"/favoritos",element:v.jsx(MM,{})}),v.jsx(ke,{path:"/contacto",element:v.jsx(LM,{})}),v.jsx(ke,{path:"/nosotros",element:v.jsx(BM,{})}),v.jsx(ke,{path:"/producto/:id",element:v.jsx(UM,{})})]})}),v.jsx(zM,{})]})]})}C2.createRoot(document.getElementById("root")).render(v.jsx(ti.StrictMode,{children:v.jsx(bP,{children:v.jsx(kT,{children:v.jsx(AM,{children:v.jsx(mL,{})})})})}));
