function kS(t, e) {
  for (var n = 0; n < e.length; n++) {
    const r = e[n];
    if (typeof r != "string" && !Array.isArray(r)) {
      for (const s in r)
        if (s !== "default" && !(s in t)) {
          const a = Object.getOwnPropertyDescriptor(r, s);
          a &&
            Object.defineProperty(
              t,
              s,
              a.get ? a : { enumerable: !0, get: () => r[s] }
            );
        }
    }
  }
  return Object.freeze(
    Object.defineProperty(t, Symbol.toStringTag, { value: "Module" })
  );
}
(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const s of document.querySelectorAll('link[rel="modulepreload"]')) r(s);
  new MutationObserver((s) => {
    for (const a of s)
      if (a.type === "childList")
        for (const l of a.addedNodes)
          l.tagName === "LINK" && l.rel === "modulepreload" && r(l);
  }).observe(document, { childList: !0, subtree: !0 });
  function n(s) {
    const a = {};
    return (
      s.integrity && (a.integrity = s.integrity),
      s.referrerPolicy && (a.referrerPolicy = s.referrerPolicy),
      s.crossOrigin === "use-credentials"
        ? (a.credentials = "include")
        : s.crossOrigin === "anonymous"
        ? (a.credentials = "omit")
        : (a.credentials = "same-origin"),
      a
    );
  }
  function r(s) {
    if (s.ep) return;
    s.ep = !0;
    const a = n(s);
    fetch(s.href, a);
  }
})();
function Lm(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default")
    ? t.default
    : t;
}
var op = { exports: {} },
  Vl = {},
  ap = { exports: {} },
  ke = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var j0;
function NS() {
  if (j0) return ke;
  j0 = 1;
  var t = Symbol.for("react.element"),
    e = Symbol.for("react.portal"),
    n = Symbol.for("react.fragment"),
    r = Symbol.for("react.strict_mode"),
    s = Symbol.for("react.profiler"),
    a = Symbol.for("react.provider"),
    l = Symbol.for("react.context"),
    d = Symbol.for("react.forward_ref"),
    f = Symbol.for("react.suspense"),
    p = Symbol.for("react.memo"),
    g = Symbol.for("react.lazy"),
    w = Symbol.iterator;
  function x(F) {
    return F === null || typeof F != "object"
      ? null
      : ((F = (w && F[w]) || F["@@iterator"]),
        typeof F == "function" ? F : null);
  }
  var P = {
      isMounted: function () {
        return !1;
      },
      enqueueForceUpdate: function () {},
      enqueueReplaceState: function () {},
      enqueueSetState: function () {},
    },
    b = Object.assign,
    N = {};
  function k(F, X, ye) {
    (this.props = F),
      (this.context = X),
      (this.refs = N),
      (this.updater = ye || P);
  }
  (k.prototype.isReactComponent = {}),
    (k.prototype.setState = function (F, X) {
      if (typeof F != "object" && typeof F != "function" && F != null)
        throw Error(
          "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, F, X, "setState");
    }),
    (k.prototype.forceUpdate = function (F) {
      this.updater.enqueueForceUpdate(this, F, "forceUpdate");
    });
  function $() {}
  $.prototype = k.prototype;
  function G(F, X, ye) {
    (this.props = F),
      (this.context = X),
      (this.refs = N),
      (this.updater = ye || P);
  }
  var q = (G.prototype = new $());
  (q.constructor = G), b(q, k.prototype), (q.isPureReactComponent = !0);
  var Y = Array.isArray,
    ne = Object.prototype.hasOwnProperty,
    oe = { current: null },
    C = { key: !0, ref: !0, __self: !0, __source: !0 };
  function I(F, X, ye) {
    var Ce,
      Re = {},
      Ve = null,
      Ue = null;
    if (X != null)
      for (Ce in (X.ref !== void 0 && (Ue = X.ref),
      X.key !== void 0 && (Ve = "" + X.key),
      X))
        ne.call(X, Ce) && !C.hasOwnProperty(Ce) && (Re[Ce] = X[Ce]);
    var Be = arguments.length - 2;
    if (Be === 1) Re.children = ye;
    else if (1 < Be) {
      for (var We = Array(Be), Rt = 0; Rt < Be; Rt++)
        We[Rt] = arguments[Rt + 2];
      Re.children = We;
    }
    if (F && F.defaultProps)
      for (Ce in ((Be = F.defaultProps), Be))
        Re[Ce] === void 0 && (Re[Ce] = Be[Ce]);
    return {
      $$typeof: t,
      type: F,
      key: Ve,
      ref: Ue,
      props: Re,
      _owner: oe.current,
    };
  }
  function A(F, X) {
    return {
      $$typeof: t,
      type: F.type,
      key: X,
      ref: F.ref,
      props: F.props,
      _owner: F._owner,
    };
  }
  function D(F) {
    return typeof F == "object" && F !== null && F.$$typeof === t;
  }
  function M(F) {
    var X = { "=": "=0", ":": "=2" };
    return (
      "$" +
      F.replace(/[=:]/g, function (ye) {
        return X[ye];
      })
    );
  }
  var U = /\/+/g;
  function j(F, X) {
    return typeof F == "object" && F !== null && F.key != null
      ? M("" + F.key)
      : X.toString(36);
  }
  function Ye(F, X, ye, Ce, Re) {
    var Ve = typeof F;
    (Ve === "undefined" || Ve === "boolean") && (F = null);
    var Ue = !1;
    if (F === null) Ue = !0;
    else
      switch (Ve) {
        case "string":
        case "number":
          Ue = !0;
          break;
        case "object":
          switch (F.$$typeof) {
            case t:
            case e:
              Ue = !0;
          }
      }
    if (Ue)
      return (
        (Ue = F),
        (Re = Re(Ue)),
        (F = Ce === "" ? "." + j(Ue, 0) : Ce),
        Y(Re)
          ? ((ye = ""),
            F != null && (ye = F.replace(U, "$&/") + "/"),
            Ye(Re, X, ye, "", function (Rt) {
              return Rt;
            }))
          : Re != null &&
            (D(Re) &&
              (Re = A(
                Re,
                ye +
                  (!Re.key || (Ue && Ue.key === Re.key)
                    ? ""
                    : ("" + Re.key).replace(U, "$&/") + "/") +
                  F
              )),
            X.push(Re)),
        1
      );
    if (((Ue = 0), (Ce = Ce === "" ? "." : Ce + ":"), Y(F)))
      for (var Be = 0; Be < F.length; Be++) {
        Ve = F[Be];
        var We = Ce + j(Ve, Be);
        Ue += Ye(Ve, X, ye, We, Re);
      }
    else if (((We = x(F)), typeof We == "function"))
      for (F = We.call(F), Be = 0; !(Ve = F.next()).done; )
        (Ve = Ve.value), (We = Ce + j(Ve, Be++)), (Ue += Ye(Ve, X, ye, We, Re));
    else if (Ve === "object")
      throw (
        ((X = String(F)),
        Error(
          "Objects are not valid as a React child (found: " +
            (X === "[object Object]"
              ? "object with keys {" + Object.keys(F).join(", ") + "}"
              : X) +
            "). If you meant to render a collection of children, use an array instead."
        ))
      );
    return Ue;
  }
  function Ot(F, X, ye) {
    if (F == null) return F;
    var Ce = [],
      Re = 0;
    return (
      Ye(F, Ce, "", "", function (Ve) {
        return X.call(ye, Ve, Re++);
      }),
      Ce
    );
  }
  function Mt(F) {
    if (F._status === -1) {
      var X = F._result;
      (X = X()),
        X.then(
          function (ye) {
            (F._status === 0 || F._status === -1) &&
              ((F._status = 1), (F._result = ye));
          },
          function (ye) {
            (F._status === 0 || F._status === -1) &&
              ((F._status = 2), (F._result = ye));
          }
        ),
        F._status === -1 && ((F._status = 0), (F._result = X));
    }
    if (F._status === 1) return F._result.default;
    throw F._result;
  }
  var Ie = { current: null },
    ie = { transition: null },
    ge = {
      ReactCurrentDispatcher: Ie,
      ReactCurrentBatchConfig: ie,
      ReactCurrentOwner: oe,
    };
  function ae() {
    throw Error("act(...) is not supported in production builds of React.");
  }
  return (
    (ke.Children = {
      map: Ot,
      forEach: function (F, X, ye) {
        Ot(
          F,
          function () {
            X.apply(this, arguments);
          },
          ye
        );
      },
      count: function (F) {
        var X = 0;
        return (
          Ot(F, function () {
            X++;
          }),
          X
        );
      },
      toArray: function (F) {
        return (
          Ot(F, function (X) {
            return X;
          }) || []
        );
      },
      only: function (F) {
        if (!D(F))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return F;
      },
    }),
    (ke.Component = k),
    (ke.Fragment = n),
    (ke.Profiler = s),
    (ke.PureComponent = G),
    (ke.StrictMode = r),
    (ke.Suspense = f),
    (ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ge),
    (ke.act = ae),
    (ke.cloneElement = function (F, X, ye) {
      if (F == null)
        throw Error(
          "React.cloneElement(...): The argument must be a React element, but you passed " +
            F +
            "."
        );
      var Ce = b({}, F.props),
        Re = F.key,
        Ve = F.ref,
        Ue = F._owner;
      if (X != null) {
        if (
          (X.ref !== void 0 && ((Ve = X.ref), (Ue = oe.current)),
          X.key !== void 0 && (Re = "" + X.key),
          F.type && F.type.defaultProps)
        )
          var Be = F.type.defaultProps;
        for (We in X)
          ne.call(X, We) &&
            !C.hasOwnProperty(We) &&
            (Ce[We] = X[We] === void 0 && Be !== void 0 ? Be[We] : X[We]);
      }
      var We = arguments.length - 2;
      if (We === 1) Ce.children = ye;
      else if (1 < We) {
        Be = Array(We);
        for (var Rt = 0; Rt < We; Rt++) Be[Rt] = arguments[Rt + 2];
        Ce.children = Be;
      }
      return {
        $$typeof: t,
        type: F.type,
        key: Re,
        ref: Ve,
        props: Ce,
        _owner: Ue,
      };
    }),
    (ke.createContext = function (F) {
      return (
        (F = {
          $$typeof: l,
          _currentValue: F,
          _currentValue2: F,
          _threadCount: 0,
          Provider: null,
          Consumer: null,
          _defaultValue: null,
          _globalName: null,
        }),
        (F.Provider = { $$typeof: a, _context: F }),
        (F.Consumer = F)
      );
    }),
    (ke.createElement = I),
    (ke.createFactory = function (F) {
      var X = I.bind(null, F);
      return (X.type = F), X;
    }),
    (ke.createRef = function () {
      return { current: null };
    }),
    (ke.forwardRef = function (F) {
      return { $$typeof: d, render: F };
    }),
    (ke.isValidElement = D),
    (ke.lazy = function (F) {
      return { $$typeof: g, _payload: { _status: -1, _result: F }, _init: Mt };
    }),
    (ke.memo = function (F, X) {
      return { $$typeof: p, type: F, compare: X === void 0 ? null : X };
    }),
    (ke.startTransition = function (F) {
      var X = ie.transition;
      ie.transition = {};
      try {
        F();
      } finally {
        ie.transition = X;
      }
    }),
    (ke.unstable_act = ae),
    (ke.useCallback = function (F, X) {
      return Ie.current.useCallback(F, X);
    }),
    (ke.useContext = function (F) {
      return Ie.current.useContext(F);
    }),
    (ke.useDebugValue = function () {}),
    (ke.useDeferredValue = function (F) {
      return Ie.current.useDeferredValue(F);
    }),
    (ke.useEffect = function (F, X) {
      return Ie.current.useEffect(F, X);
    }),
    (ke.useId = function () {
      return Ie.current.useId();
    }),
    (ke.useImperativeHandle = function (F, X, ye) {
      return Ie.current.useImperativeHandle(F, X, ye);
    }),
    (ke.useInsertionEffect = function (F, X) {
      return Ie.current.useInsertionEffect(F, X);
    }),
    (ke.useLayoutEffect = function (F, X) {
      return Ie.current.useLayoutEffect(F, X);
    }),
    (ke.useMemo = function (F, X) {
      return Ie.current.useMemo(F, X);
    }),
    (ke.useReducer = function (F, X, ye) {
      return Ie.current.useReducer(F, X, ye);
    }),
    (ke.useRef = function (F) {
      return Ie.current.useRef(F);
    }),
    (ke.useState = function (F) {
      return Ie.current.useState(F);
    }),
    (ke.useSyncExternalStore = function (F, X, ye) {
      return Ie.current.useSyncExternalStore(F, X, ye);
    }),
    (ke.useTransition = function () {
      return Ie.current.useTransition();
    }),
    (ke.version = "18.3.1"),
    ke
  );
}
var D0;
function Fm() {
  return D0 || ((D0 = 1), (ap.exports = NS())), ap.exports;
}
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var V0;
function jS() {
  if (V0) return Vl;
  V0 = 1;
  var t = Fm(),
    e = Symbol.for("react.element"),
    n = Symbol.for("react.fragment"),
    r = Object.prototype.hasOwnProperty,
    s = t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
    a = { key: !0, ref: !0, __self: !0, __source: !0 };
  function l(d, f, p) {
    var g,
      w = {},
      x = null,
      P = null;
    p !== void 0 && (x = "" + p),
      f.key !== void 0 && (x = "" + f.key),
      f.ref !== void 0 && (P = f.ref);
    for (g in f) r.call(f, g) && !a.hasOwnProperty(g) && (w[g] = f[g]);
    if (d && d.defaultProps)
      for (g in ((f = d.defaultProps), f)) w[g] === void 0 && (w[g] = f[g]);
    return {
      $$typeof: e,
      type: d,
      key: x,
      ref: P,
      props: w,
      _owner: s.current,
    };
  }
  return (Vl.Fragment = n), (Vl.jsx = l), (Vl.jsxs = l), Vl;
}
var O0;
function DS() {
  return O0 || ((O0 = 1), (op.exports = jS())), op.exports;
}
var v = DS(),
  L = Fm();
const si = Lm(L),
  VS = kS({ __proto__: null, default: si }, [L]);
var ed = {},
  lp = { exports: {} },
  gn = {},
  up = { exports: {} },
  cp = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var M0;
function OS() {
  return (
    M0 ||
      ((M0 = 1),
      (function (t) {
        function e(ie, ge) {
          var ae = ie.length;
          ie.push(ge);
          e: for (; 0 < ae; ) {
            var F = (ae - 1) >>> 1,
              X = ie[F];
            if (0 < s(X, ge)) (ie[F] = ge), (ie[ae] = X), (ae = F);
            else break e;
          }
        }
        function n(ie) {
          return ie.length === 0 ? null : ie[0];
        }
        function r(ie) {
          if (ie.length === 0) return null;
          var ge = ie[0],
            ae = ie.pop();
          if (ae !== ge) {
            ie[0] = ae;
            e: for (var F = 0, X = ie.length, ye = X >>> 1; F < ye; ) {
              var Ce = 2 * (F + 1) - 1,
                Re = ie[Ce],
                Ve = Ce + 1,
                Ue = ie[Ve];
              if (0 > s(Re, ae))
                Ve < X && 0 > s(Ue, Re)
                  ? ((ie[F] = Ue), (ie[Ve] = ae), (F = Ve))
                  : ((ie[F] = Re), (ie[Ce] = ae), (F = Ce));
              else if (Ve < X && 0 > s(Ue, ae))
                (ie[F] = Ue), (ie[Ve] = ae), (F = Ve);
              else break e;
            }
          }
          return ge;
        }
        function s(ie, ge) {
          var ae = ie.sortIndex - ge.sortIndex;
          return ae !== 0 ? ae : ie.id - ge.id;
        }
        if (
          typeof performance == "object" &&
          typeof performance.now == "function"
        ) {
          var a = performance;
          t.unstable_now = function () {
            return a.now();
          };
        } else {
          var l = Date,
            d = l.now();
          t.unstable_now = function () {
            return l.now() - d;
          };
        }
        var f = [],
          p = [],
          g = 1,
          w = null,
          x = 3,
          P = !1,
          b = !1,
          N = !1,
          k = typeof setTimeout == "function" ? setTimeout : null,
          $ = typeof clearTimeout == "function" ? clearTimeout : null,
          G = typeof setImmediate < "u" ? setImmediate : null;
        typeof navigator < "u" &&
          navigator.scheduling !== void 0 &&
          navigator.scheduling.isInputPending !== void 0 &&
          navigator.scheduling.isInputPending.bind(navigator.scheduling);
        function q(ie) {
          for (var ge = n(p); ge !== null; ) {
            if (ge.callback === null) r(p);
            else if (ge.startTime <= ie)
              r(p), (ge.sortIndex = ge.expirationTime), e(f, ge);
            else break;
            ge = n(p);
          }
        }
        function Y(ie) {
          if (((N = !1), q(ie), !b))
            if (n(f) !== null) (b = !0), Mt(ne);
            else {
              var ge = n(p);
              ge !== null && Ie(Y, ge.startTime - ie);
            }
        }
        function ne(ie, ge) {
          (b = !1), N && ((N = !1), $(I), (I = -1)), (P = !0);
          var ae = x;
          try {
            for (
              q(ge), w = n(f);
              w !== null && (!(w.expirationTime > ge) || (ie && !M()));

            ) {
              var F = w.callback;
              if (typeof F == "function") {
                (w.callback = null), (x = w.priorityLevel);
                var X = F(w.expirationTime <= ge);
                (ge = t.unstable_now()),
                  typeof X == "function"
                    ? (w.callback = X)
                    : w === n(f) && r(f),
                  q(ge);
              } else r(f);
              w = n(f);
            }
            if (w !== null) var ye = !0;
            else {
              var Ce = n(p);
              Ce !== null && Ie(Y, Ce.startTime - ge), (ye = !1);
            }
            return ye;
          } finally {
            (w = null), (x = ae), (P = !1);
          }
        }
        var oe = !1,
          C = null,
          I = -1,
          A = 5,
          D = -1;
        function M() {
          return !(t.unstable_now() - D < A);
        }
        function U() {
          if (C !== null) {
            var ie = t.unstable_now();
            D = ie;
            var ge = !0;
            try {
              ge = C(!0, ie);
            } finally {
              ge ? j() : ((oe = !1), (C = null));
            }
          } else oe = !1;
        }
        var j;
        if (typeof G == "function")
          j = function () {
            G(U);
          };
        else if (typeof MessageChannel < "u") {
          var Ye = new MessageChannel(),
            Ot = Ye.port2;
          (Ye.port1.onmessage = U),
            (j = function () {
              Ot.postMessage(null);
            });
        } else
          j = function () {
            k(U, 0);
          };
        function Mt(ie) {
          (C = ie), oe || ((oe = !0), j());
        }
        function Ie(ie, ge) {
          I = k(function () {
            ie(t.unstable_now());
          }, ge);
        }
        (t.unstable_IdlePriority = 5),
          (t.unstable_ImmediatePriority = 1),
          (t.unstable_LowPriority = 4),
          (t.unstable_NormalPriority = 3),
          (t.unstable_Profiling = null),
          (t.unstable_UserBlockingPriority = 2),
          (t.unstable_cancelCallback = function (ie) {
            ie.callback = null;
          }),
          (t.unstable_continueExecution = function () {
            b || P || ((b = !0), Mt(ne));
          }),
          (t.unstable_forceFrameRate = function (ie) {
            0 > ie || 125 < ie
              ? console.error(
                  "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
                )
              : (A = 0 < ie ? Math.floor(1e3 / ie) : 5);
          }),
          (t.unstable_getCurrentPriorityLevel = function () {
            return x;
          }),
          (t.unstable_getFirstCallbackNode = function () {
            return n(f);
          }),
          (t.unstable_next = function (ie) {
            switch (x) {
              case 1:
              case 2:
              case 3:
                var ge = 3;
                break;
              default:
                ge = x;
            }
            var ae = x;
            x = ge;
            try {
              return ie();
            } finally {
              x = ae;
            }
          }),
          (t.unstable_pauseExecution = function () {}),
          (t.unstable_requestPaint = function () {}),
          (t.unstable_runWithPriority = function (ie, ge) {
            switch (ie) {
              case 1:
              case 2:
              case 3:
              case 4:
              case 5:
                break;
              default:
                ie = 3;
            }
            var ae = x;
            x = ie;
            try {
              return ge();
            } finally {
              x = ae;
            }
          }),
          (t.unstable_scheduleCallback = function (ie, ge, ae) {
            var F = t.unstable_now();
            switch (
              (typeof ae == "object" && ae !== null
                ? ((ae = ae.delay),
                  (ae = typeof ae == "number" && 0 < ae ? F + ae : F))
                : (ae = F),
              ie)
            ) {
              case 1:
                var X = -1;
                break;
              case 2:
                X = 250;
                break;
              case 5:
                X = 1073741823;
                break;
              case 4:
                X = 1e4;
                break;
              default:
                X = 5e3;
            }
            return (
              (X = ae + X),
              (ie = {
                id: g++,
                callback: ge,
                priorityLevel: ie,
                startTime: ae,
                expirationTime: X,
                sortIndex: -1,
              }),
              ae > F
                ? ((ie.sortIndex = ae),
                  e(p, ie),
                  n(f) === null &&
                    ie === n(p) &&
                    (N ? ($(I), (I = -1)) : (N = !0), Ie(Y, ae - F)))
                : ((ie.sortIndex = X), e(f, ie), b || P || ((b = !0), Mt(ne))),
              ie
            );
          }),
          (t.unstable_shouldYield = M),
          (t.unstable_wrapCallback = function (ie) {
            var ge = x;
            return function () {
              var ae = x;
              x = ge;
              try {
                return ie.apply(this, arguments);
              } finally {
                x = ae;
              }
            };
          });
      })(cp)),
    cp
  );
}
var L0;
function MS() {
  return L0 || ((L0 = 1), (up.exports = OS())), up.exports;
}
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var F0;
function LS() {
  if (F0) return gn;
  F0 = 1;
  var t = Fm(),
    e = MS();
  function n(i) {
    for (
      var o = "https://reactjs.org/docs/error-decoder.html?invariant=" + i,
        u = 1;
      u < arguments.length;
      u++
    )
      o += "&args[]=" + encodeURIComponent(arguments[u]);
    return (
      "Minified React error #" +
      i +
      "; visit " +
      o +
      " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    );
  }
  var r = new Set(),
    s = {};
  function a(i, o) {
    l(i, o), l(i + "Capture", o);
  }
  function l(i, o) {
    for (s[i] = o, i = 0; i < o.length; i++) r.add(o[i]);
  }
  var d = !(
      typeof window > "u" ||
      typeof window.document > "u" ||
      typeof window.document.createElement > "u"
    ),
    f = Object.prototype.hasOwnProperty,
    p =
      /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
    g = {},
    w = {};
  function x(i) {
    return f.call(w, i)
      ? !0
      : f.call(g, i)
      ? !1
      : p.test(i)
      ? (w[i] = !0)
      : ((g[i] = !0), !1);
  }
  function P(i, o, u, h) {
    if (u !== null && u.type === 0) return !1;
    switch (typeof o) {
      case "function":
      case "symbol":
        return !0;
      case "boolean":
        return h
          ? !1
          : u !== null
          ? !u.acceptsBooleans
          : ((i = i.toLowerCase().slice(0, 5)), i !== "data-" && i !== "aria-");
      default:
        return !1;
    }
  }
  function b(i, o, u, h) {
    if (o === null || typeof o > "u" || P(i, o, u, h)) return !0;
    if (h) return !1;
    if (u !== null)
      switch (u.type) {
        case 3:
          return !o;
        case 4:
          return o === !1;
        case 5:
          return isNaN(o);
        case 6:
          return isNaN(o) || 1 > o;
      }
    return !1;
  }
  function N(i, o, u, h, m, _, T) {
    (this.acceptsBooleans = o === 2 || o === 3 || o === 4),
      (this.attributeName = h),
      (this.attributeNamespace = m),
      (this.mustUseProperty = u),
      (this.propertyName = i),
      (this.type = o),
      (this.sanitizeURL = _),
      (this.removeEmptyString = T);
  }
  var k = {};
  "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
    .split(" ")
    .forEach(function (i) {
      k[i] = new N(i, 0, !1, i, null, !1, !1);
    }),
    [
      ["acceptCharset", "accept-charset"],
      ["className", "class"],
      ["htmlFor", "for"],
      ["httpEquiv", "http-equiv"],
    ].forEach(function (i) {
      var o = i[0];
      k[o] = new N(o, 1, !1, i[1], null, !1, !1);
    }),
    ["contentEditable", "draggable", "spellCheck", "value"].forEach(function (
      i
    ) {
      k[i] = new N(i, 2, !1, i.toLowerCase(), null, !1, !1);
    }),
    [
      "autoReverse",
      "externalResourcesRequired",
      "focusable",
      "preserveAlpha",
    ].forEach(function (i) {
      k[i] = new N(i, 2, !1, i, null, !1, !1);
    }),
    "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
      .split(" ")
      .forEach(function (i) {
        k[i] = new N(i, 3, !1, i.toLowerCase(), null, !1, !1);
      }),
    ["checked", "multiple", "muted", "selected"].forEach(function (i) {
      k[i] = new N(i, 3, !0, i, null, !1, !1);
    }),
    ["capture", "download"].forEach(function (i) {
      k[i] = new N(i, 4, !1, i, null, !1, !1);
    }),
    ["cols", "rows", "size", "span"].forEach(function (i) {
      k[i] = new N(i, 6, !1, i, null, !1, !1);
    }),
    ["rowSpan", "start"].forEach(function (i) {
      k[i] = new N(i, 5, !1, i.toLowerCase(), null, !1, !1);
    });
  var $ = /[\-:]([a-z])/g;
  function G(i) {
    return i[1].toUpperCase();
  }
  "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
    .split(" ")
    .forEach(function (i) {
      var o = i.replace($, G);
      k[o] = new N(o, 1, !1, i, null, !1, !1);
    }),
    "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
      .split(" ")
      .forEach(function (i) {
        var o = i.replace($, G);
        k[o] = new N(o, 1, !1, i, "http://www.w3.org/1999/xlink", !1, !1);
      }),
    ["xml:base", "xml:lang", "xml:space"].forEach(function (i) {
      var o = i.replace($, G);
      k[o] = new N(o, 1, !1, i, "http://www.w3.org/XML/1998/namespace", !1, !1);
    }),
    ["tabIndex", "crossOrigin"].forEach(function (i) {
      k[i] = new N(i, 1, !1, i.toLowerCase(), null, !1, !1);
    }),
    (k.xlinkHref = new N(
      "xlinkHref",
      1,
      !1,
      "xlink:href",
      "http://www.w3.org/1999/xlink",
      !0,
      !1
    )),
    ["src", "href", "action", "formAction"].forEach(function (i) {
      k[i] = new N(i, 1, !1, i.toLowerCase(), null, !0, !0);
    });
  function q(i, o, u, h) {
    var m = k.hasOwnProperty(o) ? k[o] : null;
    (m !== null
      ? m.type !== 0
      : h ||
        !(2 < o.length) ||
        (o[0] !== "o" && o[0] !== "O") ||
        (o[1] !== "n" && o[1] !== "N")) &&
      (b(o, u, m, h) && (u = null),
      h || m === null
        ? x(o) &&
          (u === null ? i.removeAttribute(o) : i.setAttribute(o, "" + u))
        : m.mustUseProperty
        ? (i[m.propertyName] = u === null ? (m.type === 3 ? !1 : "") : u)
        : ((o = m.attributeName),
          (h = m.attributeNamespace),
          u === null
            ? i.removeAttribute(o)
            : ((m = m.type),
              (u = m === 3 || (m === 4 && u === !0) ? "" : "" + u),
              h ? i.setAttributeNS(h, o, u) : i.setAttribute(o, u))));
  }
  var Y = t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
    ne = Symbol.for("react.element"),
    oe = Symbol.for("react.portal"),
    C = Symbol.for("react.fragment"),
    I = Symbol.for("react.strict_mode"),
    A = Symbol.for("react.profiler"),
    D = Symbol.for("react.provider"),
    M = Symbol.for("react.context"),
    U = Symbol.for("react.forward_ref"),
    j = Symbol.for("react.suspense"),
    Ye = Symbol.for("react.suspense_list"),
    Ot = Symbol.for("react.memo"),
    Mt = Symbol.for("react.lazy"),
    Ie = Symbol.for("react.offscreen"),
    ie = Symbol.iterator;
  function ge(i) {
    return i === null || typeof i != "object"
      ? null
      : ((i = (ie && i[ie]) || i["@@iterator"]),
        typeof i == "function" ? i : null);
  }
  var ae = Object.assign,
    F;
  function X(i) {
    if (F === void 0)
      try {
        throw Error();
      } catch (u) {
        var o = u.stack.trim().match(/\n( *(at )?)/);
        F = (o && o[1]) || "";
      }
    return (
      `
` +
      F +
      i
    );
  }
  var ye = !1;
  function Ce(i, o) {
    if (!i || ye) return "";
    ye = !0;
    var u = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
      if (o)
        if (
          ((o = function () {
            throw Error();
          }),
          Object.defineProperty(o.prototype, "props", {
            set: function () {
              throw Error();
            },
          }),
          typeof Reflect == "object" && Reflect.construct)
        ) {
          try {
            Reflect.construct(o, []);
          } catch (W) {
            var h = W;
          }
          Reflect.construct(i, [], o);
        } else {
          try {
            o.call();
          } catch (W) {
            h = W;
          }
          i.call(o.prototype);
        }
      else {
        try {
          throw Error();
        } catch (W) {
          h = W;
        }
        i();
      }
    } catch (W) {
      if (W && h && typeof W.stack == "string") {
        for (
          var m = W.stack.split(`
`),
            _ = h.stack.split(`
`),
            T = m.length - 1,
            R = _.length - 1;
          1 <= T && 0 <= R && m[T] !== _[R];

        )
          R--;
        for (; 1 <= T && 0 <= R; T--, R--)
          if (m[T] !== _[R]) {
            if (T !== 1 || R !== 1)
              do
                if ((T--, R--, 0 > R || m[T] !== _[R])) {
                  var V =
                    `
` + m[T].replace(" at new ", " at ");
                  return (
                    i.displayName &&
                      V.includes("<anonymous>") &&
                      (V = V.replace("<anonymous>", i.displayName)),
                    V
                  );
                }
              while (1 <= T && 0 <= R);
            break;
          }
      }
    } finally {
      (ye = !1), (Error.prepareStackTrace = u);
    }
    return (i = i ? i.displayName || i.name : "") ? X(i) : "";
  }
  function Re(i) {
    switch (i.tag) {
      case 5:
        return X(i.type);
      case 16:
        return X("Lazy");
      case 13:
        return X("Suspense");
      case 19:
        return X("SuspenseList");
      case 0:
      case 2:
      case 15:
        return (i = Ce(i.type, !1)), i;
      case 11:
        return (i = Ce(i.type.render, !1)), i;
      case 1:
        return (i = Ce(i.type, !0)), i;
      default:
        return "";
    }
  }
  function Ve(i) {
    if (i == null) return null;
    if (typeof i == "function") return i.displayName || i.name || null;
    if (typeof i == "string") return i;
    switch (i) {
      case C:
        return "Fragment";
      case oe:
        return "Portal";
      case A:
        return "Profiler";
      case I:
        return "StrictMode";
      case j:
        return "Suspense";
      case Ye:
        return "SuspenseList";
    }
    if (typeof i == "object")
      switch (i.$$typeof) {
        case M:
          return (i.displayName || "Context") + ".Consumer";
        case D:
          return (i._context.displayName || "Context") + ".Provider";
        case U:
          var o = i.render;
          return (
            (i = i.displayName),
            i ||
              ((i = o.displayName || o.name || ""),
              (i = i !== "" ? "ForwardRef(" + i + ")" : "ForwardRef")),
            i
          );
        case Ot:
          return (
            (o = i.displayName || null), o !== null ? o : Ve(i.type) || "Memo"
          );
        case Mt:
          (o = i._payload), (i = i._init);
          try {
            return Ve(i(o));
          } catch {}
      }
    return null;
  }
  function Ue(i) {
    var o = i.type;
    switch (i.tag) {
      case 24:
        return "Cache";
      case 9:
        return (o.displayName || "Context") + ".Consumer";
      case 10:
        return (o._context.displayName || "Context") + ".Provider";
      case 18:
        return "DehydratedFragment";
      case 11:
        return (
          (i = o.render),
          (i = i.displayName || i.name || ""),
          o.displayName || (i !== "" ? "ForwardRef(" + i + ")" : "ForwardRef")
        );
      case 7:
        return "Fragment";
      case 5:
        return o;
      case 4:
        return "Portal";
      case 3:
        return "Root";
      case 6:
        return "Text";
      case 16:
        return Ve(o);
      case 8:
        return o === I ? "StrictMode" : "Mode";
      case 22:
        return "Offscreen";
      case 12:
        return "Profiler";
      case 21:
        return "Scope";
      case 13:
        return "Suspense";
      case 19:
        return "SuspenseList";
      case 25:
        return "TracingMarker";
      case 1:
      case 0:
      case 17:
      case 2:
      case 14:
      case 15:
        if (typeof o == "function") return o.displayName || o.name || null;
        if (typeof o == "string") return o;
    }
    return null;
  }
  function Be(i) {
    switch (typeof i) {
      case "boolean":
      case "number":
      case "string":
      case "undefined":
        return i;
      case "object":
        return i;
      default:
        return "";
    }
  }
  function We(i) {
    var o = i.type;
    return (
      (i = i.nodeName) &&
      i.toLowerCase() === "input" &&
      (o === "checkbox" || o === "radio")
    );
  }
  function Rt(i) {
    var o = We(i) ? "checked" : "value",
      u = Object.getOwnPropertyDescriptor(i.constructor.prototype, o),
      h = "" + i[o];
    if (
      !i.hasOwnProperty(o) &&
      typeof u < "u" &&
      typeof u.get == "function" &&
      typeof u.set == "function"
    ) {
      var m = u.get,
        _ = u.set;
      return (
        Object.defineProperty(i, o, {
          configurable: !0,
          get: function () {
            return m.call(this);
          },
          set: function (T) {
            (h = "" + T), _.call(this, T);
          },
        }),
        Object.defineProperty(i, o, { enumerable: u.enumerable }),
        {
          getValue: function () {
            return h;
          },
          setValue: function (T) {
            h = "" + T;
          },
          stopTracking: function () {
            (i._valueTracker = null), delete i[o];
          },
        }
      );
    }
  }
  function Mr(i) {
    i._valueTracker || (i._valueTracker = Rt(i));
  }
  function go(i) {
    if (!i) return !1;
    var o = i._valueTracker;
    if (!o) return !0;
    var u = o.getValue(),
      h = "";
    return (
      i && (h = We(i) ? (i.checked ? "true" : "false") : i.value),
      (i = h),
      i !== u ? (o.setValue(i), !0) : !1
    );
  }
  function mi(i) {
    if (
      ((i = i || (typeof document < "u" ? document : void 0)), typeof i > "u")
    )
      return null;
    try {
      return i.activeElement || i.body;
    } catch {
      return i.body;
    }
  }
  function ys(i, o) {
    var u = o.checked;
    return ae({}, o, {
      defaultChecked: void 0,
      defaultValue: void 0,
      value: void 0,
      checked: u ?? i._wrapperState.initialChecked,
    });
  }
  function yo(i, o) {
    var u = o.defaultValue == null ? "" : o.defaultValue,
      h = o.checked != null ? o.checked : o.defaultChecked;
    (u = Be(o.value != null ? o.value : u)),
      (i._wrapperState = {
        initialChecked: h,
        initialValue: u,
        controlled:
          o.type === "checkbox" || o.type === "radio"
            ? o.checked != null
            : o.value != null,
      });
  }
  function Ba(i, o) {
    (o = o.checked), o != null && q(i, "checked", o, !1);
  }
  function za(i, o) {
    Ba(i, o);
    var u = Be(o.value),
      h = o.type;
    if (u != null)
      h === "number"
        ? ((u === 0 && i.value === "") || i.value != u) && (i.value = "" + u)
        : i.value !== "" + u && (i.value = "" + u);
    else if (h === "submit" || h === "reset") {
      i.removeAttribute("value");
      return;
    }
    o.hasOwnProperty("value")
      ? vo(i, o.type, u)
      : o.hasOwnProperty("defaultValue") && vo(i, o.type, Be(o.defaultValue)),
      o.checked == null &&
        o.defaultChecked != null &&
        (i.defaultChecked = !!o.defaultChecked);
  }
  function Fu(i, o, u) {
    if (o.hasOwnProperty("value") || o.hasOwnProperty("defaultValue")) {
      var h = o.type;
      if (
        !(
          (h !== "submit" && h !== "reset") ||
          (o.value !== void 0 && o.value !== null)
        )
      )
        return;
      (o = "" + i._wrapperState.initialValue),
        u || o === i.value || (i.value = o),
        (i.defaultValue = o);
    }
    (u = i.name),
      u !== "" && (i.name = ""),
      (i.defaultChecked = !!i._wrapperState.initialChecked),
      u !== "" && (i.name = u);
  }
  function vo(i, o, u) {
    (o !== "number" || mi(i.ownerDocument) !== i) &&
      (u == null
        ? (i.defaultValue = "" + i._wrapperState.initialValue)
        : i.defaultValue !== "" + u && (i.defaultValue = "" + u));
  }
  var Lr = Array.isArray;
  function Fr(i, o, u, h) {
    if (((i = i.options), o)) {
      o = {};
      for (var m = 0; m < u.length; m++) o["$" + u[m]] = !0;
      for (u = 0; u < i.length; u++)
        (m = o.hasOwnProperty("$" + i[u].value)),
          i[u].selected !== m && (i[u].selected = m),
          m && h && (i[u].defaultSelected = !0);
    } else {
      for (u = "" + Be(u), o = null, m = 0; m < i.length; m++) {
        if (i[m].value === u) {
          (i[m].selected = !0), h && (i[m].defaultSelected = !0);
          return;
        }
        o !== null || i[m].disabled || (o = i[m]);
      }
      o !== null && (o.selected = !0);
    }
  }
  function $a(i, o) {
    if (o.dangerouslySetInnerHTML != null) throw Error(n(91));
    return ae({}, o, {
      value: void 0,
      defaultValue: void 0,
      children: "" + i._wrapperState.initialValue,
    });
  }
  function _o(i, o) {
    var u = o.value;
    if (u == null) {
      if (((u = o.children), (o = o.defaultValue), u != null)) {
        if (o != null) throw Error(n(92));
        if (Lr(u)) {
          if (1 < u.length) throw Error(n(93));
          u = u[0];
        }
        o = u;
      }
      o == null && (o = ""), (u = o);
    }
    i._wrapperState = { initialValue: Be(u) };
  }
  function wo(i, o) {
    var u = Be(o.value),
      h = Be(o.defaultValue);
    u != null &&
      ((u = "" + u),
      u !== i.value && (i.value = u),
      o.defaultValue == null && i.defaultValue !== u && (i.defaultValue = u)),
      h != null && (i.defaultValue = "" + h);
  }
  function Ha(i) {
    var o = i.textContent;
    o === i._wrapperState.initialValue &&
      o !== "" &&
      o !== null &&
      (i.value = o);
  }
  function Et(i) {
    switch (i) {
      case "svg":
        return "http://www.w3.org/2000/svg";
      case "math":
        return "http://www.w3.org/1998/Math/MathML";
      default:
        return "http://www.w3.org/1999/xhtml";
    }
  }
  function Tt(i, o) {
    return i == null || i === "http://www.w3.org/1999/xhtml"
      ? Et(o)
      : i === "http://www.w3.org/2000/svg" && o === "foreignObject"
      ? "http://www.w3.org/1999/xhtml"
      : i;
  }
  var Ur,
    Wa = (function (i) {
      return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
        ? function (o, u, h, m) {
            MSApp.execUnsafeLocalFunction(function () {
              return i(o, u, h, m);
            });
          }
        : i;
    })(function (i, o) {
      if (i.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in i)
        i.innerHTML = o;
      else {
        for (
          Ur = Ur || document.createElement("div"),
            Ur.innerHTML = "<svg>" + o.valueOf().toString() + "</svg>",
            o = Ur.firstChild;
          i.firstChild;

        )
          i.removeChild(i.firstChild);
        for (; o.firstChild; ) i.appendChild(o.firstChild);
      }
    });
  function gi(i, o) {
    if (o) {
      var u = i.firstChild;
      if (u && u === i.lastChild && u.nodeType === 3) {
        u.nodeValue = o;
        return;
      }
    }
    i.textContent = o;
  }
  var vs = {
      animationIterationCount: !0,
      aspectRatio: !0,
      borderImageOutset: !0,
      borderImageSlice: !0,
      borderImageWidth: !0,
      boxFlex: !0,
      boxFlexGroup: !0,
      boxOrdinalGroup: !0,
      columnCount: !0,
      columns: !0,
      flex: !0,
      flexGrow: !0,
      flexPositive: !0,
      flexShrink: !0,
      flexNegative: !0,
      flexOrder: !0,
      gridArea: !0,
      gridRow: !0,
      gridRowEnd: !0,
      gridRowSpan: !0,
      gridRowStart: !0,
      gridColumn: !0,
      gridColumnEnd: !0,
      gridColumnSpan: !0,
      gridColumnStart: !0,
      fontWeight: !0,
      lineClamp: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      tabSize: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0,
      fillOpacity: !0,
      floodOpacity: !0,
      stopOpacity: !0,
      strokeDasharray: !0,
      strokeDashoffset: !0,
      strokeMiterlimit: !0,
      strokeOpacity: !0,
      strokeWidth: !0,
    },
    _s = ["Webkit", "ms", "Moz", "O"];
  Object.keys(vs).forEach(function (i) {
    _s.forEach(function (o) {
      (o = o + i.charAt(0).toUpperCase() + i.substring(1)), (vs[o] = vs[i]);
    });
  });
  function qa(i, o, u) {
    return o == null || typeof o == "boolean" || o === ""
      ? ""
      : u || typeof o != "number" || o === 0 || (vs.hasOwnProperty(i) && vs[i])
      ? ("" + o).trim()
      : o + "px";
  }
  function Ga(i, o) {
    i = i.style;
    for (var u in o)
      if (o.hasOwnProperty(u)) {
        var h = u.indexOf("--") === 0,
          m = qa(u, o[u], h);
        u === "float" && (u = "cssFloat"), h ? i.setProperty(u, m) : (i[u] = m);
      }
  }
  var Ka = ae(
    { menuitem: !0 },
    {
      area: !0,
      base: !0,
      br: !0,
      col: !0,
      embed: !0,
      hr: !0,
      img: !0,
      input: !0,
      keygen: !0,
      link: !0,
      meta: !0,
      param: !0,
      source: !0,
      track: !0,
      wbr: !0,
    }
  );
  function Qa(i, o) {
    if (o) {
      if (Ka[i] && (o.children != null || o.dangerouslySetInnerHTML != null))
        throw Error(n(137, i));
      if (o.dangerouslySetInnerHTML != null) {
        if (o.children != null) throw Error(n(60));
        if (
          typeof o.dangerouslySetInnerHTML != "object" ||
          !("__html" in o.dangerouslySetInnerHTML)
        )
          throw Error(n(61));
      }
      if (o.style != null && typeof o.style != "object") throw Error(n(62));
    }
  }
  function Xa(i, o) {
    if (i.indexOf("-") === -1) return typeof o.is == "string";
    switch (i) {
      case "annotation-xml":
      case "color-profile":
      case "font-face":
      case "font-face-src":
      case "font-face-uri":
      case "font-face-format":
      case "font-face-name":
      case "missing-glyph":
        return !1;
      default:
        return !0;
    }
  }
  var ws = null;
  function xo(i) {
    return (
      (i = i.target || i.srcElement || window),
      i.correspondingUseElement && (i = i.correspondingUseElement),
      i.nodeType === 3 ? i.parentNode : i
    );
  }
  var Eo = null,
    Rn = null,
    lr = null;
  function To(i) {
    if ((i = wl(i))) {
      if (typeof Eo != "function") throw Error(n(280));
      var o = i.stateNode;
      o && ((o = mc(o)), Eo(i.stateNode, i.type, o));
    }
  }
  function ur(i) {
    Rn ? (lr ? lr.push(i) : (lr = [i])) : (Rn = i);
  }
  function Ya() {
    if (Rn) {
      var i = Rn,
        o = lr;
      if (((lr = Rn = null), To(i), o)) for (i = 0; i < o.length; i++) To(o[i]);
    }
  }
  function xs(i, o) {
    return i(o);
  }
  function Ja() {}
  var Br = !1;
  function Za(i, o, u) {
    if (Br) return i(o, u);
    Br = !0;
    try {
      return xs(i, o, u);
    } finally {
      (Br = !1), (Rn !== null || lr !== null) && (Ja(), Ya());
    }
  }
  function ct(i, o) {
    var u = i.stateNode;
    if (u === null) return null;
    var h = mc(u);
    if (h === null) return null;
    u = h[o];
    e: switch (o) {
      case "onClick":
      case "onClickCapture":
      case "onDoubleClick":
      case "onDoubleClickCapture":
      case "onMouseDown":
      case "onMouseDownCapture":
      case "onMouseMove":
      case "onMouseMoveCapture":
      case "onMouseUp":
      case "onMouseUpCapture":
      case "onMouseEnter":
        (h = !h.disabled) ||
          ((i = i.type),
          (h = !(
            i === "button" ||
            i === "input" ||
            i === "select" ||
            i === "textarea"
          ))),
          (i = !h);
        break e;
      default:
        i = !1;
    }
    if (i) return null;
    if (u && typeof u != "function") throw Error(n(231, o, typeof u));
    return u;
  }
  var Po = !1;
  if (d)
    try {
      var Hn = {};
      Object.defineProperty(Hn, "passive", {
        get: function () {
          Po = !0;
        },
      }),
        window.addEventListener("test", Hn, Hn),
        window.removeEventListener("test", Hn, Hn);
    } catch {
      Po = !1;
    }
  function Es(i, o, u, h, m, _, T, R, V) {
    var W = Array.prototype.slice.call(arguments, 3);
    try {
      o.apply(u, W);
    } catch (ee) {
      this.onError(ee);
    }
  }
  var Ts = !1,
    So = null,
    Wn = !1,
    el = null,
    jh = {
      onError: function (i) {
        (Ts = !0), (So = i);
      },
    };
  function Io(i, o, u, h, m, _, T, R, V) {
    (Ts = !1), (So = null), Es.apply(jh, arguments);
  }
  function Uu(i, o, u, h, m, _, T, R, V) {
    if ((Io.apply(this, arguments), Ts)) {
      if (Ts) {
        var W = So;
        (Ts = !1), (So = null);
      } else throw Error(n(198));
      Wn || ((Wn = !0), (el = W));
    }
  }
  function qn(i) {
    var o = i,
      u = i;
    if (i.alternate) for (; o.return; ) o = o.return;
    else {
      i = o;
      do (o = i), (o.flags & 4098) !== 0 && (u = o.return), (i = o.return);
      while (i);
    }
    return o.tag === 3 ? u : null;
  }
  function Ps(i) {
    if (i.tag === 13) {
      var o = i.memoizedState;
      if (
        (o === null && ((i = i.alternate), i !== null && (o = i.memoizedState)),
        o !== null)
      )
        return o.dehydrated;
    }
    return null;
  }
  function Gn(i) {
    if (qn(i) !== i) throw Error(n(188));
  }
  function Bu(i) {
    var o = i.alternate;
    if (!o) {
      if (((o = qn(i)), o === null)) throw Error(n(188));
      return o !== i ? null : i;
    }
    for (var u = i, h = o; ; ) {
      var m = u.return;
      if (m === null) break;
      var _ = m.alternate;
      if (_ === null) {
        if (((h = m.return), h !== null)) {
          u = h;
          continue;
        }
        break;
      }
      if (m.child === _.child) {
        for (_ = m.child; _; ) {
          if (_ === u) return Gn(m), i;
          if (_ === h) return Gn(m), o;
          _ = _.sibling;
        }
        throw Error(n(188));
      }
      if (u.return !== h.return) (u = m), (h = _);
      else {
        for (var T = !1, R = m.child; R; ) {
          if (R === u) {
            (T = !0), (u = m), (h = _);
            break;
          }
          if (R === h) {
            (T = !0), (h = m), (u = _);
            break;
          }
          R = R.sibling;
        }
        if (!T) {
          for (R = _.child; R; ) {
            if (R === u) {
              (T = !0), (u = _), (h = m);
              break;
            }
            if (R === h) {
              (T = !0), (h = _), (u = m);
              break;
            }
            R = R.sibling;
          }
          if (!T) throw Error(n(189));
        }
      }
      if (u.alternate !== h) throw Error(n(190));
    }
    if (u.tag !== 3) throw Error(n(188));
    return u.stateNode.current === u ? i : o;
  }
  function tl(i) {
    return (i = Bu(i)), i !== null ? bo(i) : null;
  }
  function bo(i) {
    if (i.tag === 5 || i.tag === 6) return i;
    for (i = i.child; i !== null; ) {
      var o = bo(i);
      if (o !== null) return o;
      i = i.sibling;
    }
    return null;
  }
  var Co = e.unstable_scheduleCallback,
    nl = e.unstable_cancelCallback,
    zu = e.unstable_shouldYield,
    Dh = e.unstable_requestPaint,
    qe = e.unstable_now,
    $u = e.unstable_getCurrentPriorityLevel,
    Ss = e.unstable_ImmediatePriority,
    yi = e.unstable_UserBlockingPriority,
    kn = e.unstable_NormalPriority,
    rl = e.unstable_LowPriority,
    Hu = e.unstable_IdlePriority,
    Is = null,
    wn = null;
  function Wu(i) {
    if (wn && typeof wn.onCommitFiberRoot == "function")
      try {
        wn.onCommitFiberRoot(Is, i, void 0, (i.current.flags & 128) === 128);
      } catch {}
  }
  var nn = Math.clz32 ? Math.clz32 : Gu,
    il = Math.log,
    qu = Math.LN2;
  function Gu(i) {
    return (i >>>= 0), i === 0 ? 32 : (31 - ((il(i) / qu) | 0)) | 0;
  }
  var Ao = 64,
    Ro = 4194304;
  function vi(i) {
    switch (i & -i) {
      case 1:
        return 1;
      case 2:
        return 2;
      case 4:
        return 4;
      case 8:
        return 8;
      case 16:
        return 16;
      case 32:
        return 32;
      case 64:
      case 128:
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return i & 4194240;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
      case 67108864:
        return i & 130023424;
      case 134217728:
        return 134217728;
      case 268435456:
        return 268435456;
      case 536870912:
        return 536870912;
      case 1073741824:
        return 1073741824;
      default:
        return i;
    }
  }
  function bs(i, o) {
    var u = i.pendingLanes;
    if (u === 0) return 0;
    var h = 0,
      m = i.suspendedLanes,
      _ = i.pingedLanes,
      T = u & 268435455;
    if (T !== 0) {
      var R = T & ~m;
      R !== 0 ? (h = vi(R)) : ((_ &= T), _ !== 0 && (h = vi(_)));
    } else (T = u & ~m), T !== 0 ? (h = vi(T)) : _ !== 0 && (h = vi(_));
    if (h === 0) return 0;
    if (
      o !== 0 &&
      o !== h &&
      (o & m) === 0 &&
      ((m = h & -h), (_ = o & -o), m >= _ || (m === 16 && (_ & 4194240) !== 0))
    )
      return o;
    if (((h & 4) !== 0 && (h |= u & 16), (o = i.entangledLanes), o !== 0))
      for (i = i.entanglements, o &= h; 0 < o; )
        (u = 31 - nn(o)), (m = 1 << u), (h |= i[u]), (o &= ~m);
    return h;
  }
  function Vh(i, o) {
    switch (i) {
      case 1:
      case 2:
      case 4:
        return o + 250;
      case 8:
      case 16:
      case 32:
      case 64:
      case 128:
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return o + 5e3;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
      case 67108864:
        return -1;
      case 134217728:
      case 268435456:
      case 536870912:
      case 1073741824:
        return -1;
      default:
        return -1;
    }
  }
  function zr(i, o) {
    for (
      var u = i.suspendedLanes,
        h = i.pingedLanes,
        m = i.expirationTimes,
        _ = i.pendingLanes;
      0 < _;

    ) {
      var T = 31 - nn(_),
        R = 1 << T,
        V = m[T];
      V === -1
        ? ((R & u) === 0 || (R & h) !== 0) && (m[T] = Vh(R, o))
        : V <= o && (i.expiredLanes |= R),
        (_ &= ~R);
    }
  }
  function xn(i) {
    return (
      (i = i.pendingLanes & -1073741825),
      i !== 0 ? i : i & 1073741824 ? 1073741824 : 0
    );
  }
  function Cs() {
    var i = Ao;
    return (Ao <<= 1), (Ao & 4194240) === 0 && (Ao = 64), i;
  }
  function _i(i) {
    for (var o = [], u = 0; 31 > u; u++) o.push(i);
    return o;
  }
  function wi(i, o, u) {
    (i.pendingLanes |= o),
      o !== 536870912 && ((i.suspendedLanes = 0), (i.pingedLanes = 0)),
      (i = i.eventTimes),
      (o = 31 - nn(o)),
      (i[o] = u);
  }
  function He(i, o) {
    var u = i.pendingLanes & ~o;
    (i.pendingLanes = o),
      (i.suspendedLanes = 0),
      (i.pingedLanes = 0),
      (i.expiredLanes &= o),
      (i.mutableReadLanes &= o),
      (i.entangledLanes &= o),
      (o = i.entanglements);
    var h = i.eventTimes;
    for (i = i.expirationTimes; 0 < u; ) {
      var m = 31 - nn(u),
        _ = 1 << m;
      (o[m] = 0), (h[m] = -1), (i[m] = -1), (u &= ~_);
    }
  }
  function xi(i, o) {
    var u = (i.entangledLanes |= o);
    for (i = i.entanglements; u; ) {
      var h = 31 - nn(u),
        m = 1 << h;
      (m & o) | (i[h] & o) && (i[h] |= o), (u &= ~m);
    }
  }
  var De = 0;
  function Ei(i) {
    return (
      (i &= -i),
      1 < i ? (4 < i ? ((i & 268435455) !== 0 ? 16 : 536870912) : 4) : 1
    );
  }
  var Ku,
    ko,
    Qu,
    Xu,
    Yu,
    sl = !1,
    cr = [],
    Lt = null,
    Kn = null,
    Qn = null,
    Ti = new Map(),
    Nn = new Map(),
    dr = [],
    Oh =
      "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
        " "
      );
  function Ju(i, o) {
    switch (i) {
      case "focusin":
      case "focusout":
        Lt = null;
        break;
      case "dragenter":
      case "dragleave":
        Kn = null;
        break;
      case "mouseover":
      case "mouseout":
        Qn = null;
        break;
      case "pointerover":
      case "pointerout":
        Ti.delete(o.pointerId);
        break;
      case "gotpointercapture":
      case "lostpointercapture":
        Nn.delete(o.pointerId);
    }
  }
  function un(i, o, u, h, m, _) {
    return i === null || i.nativeEvent !== _
      ? ((i = {
          blockedOn: o,
          domEventName: u,
          eventSystemFlags: h,
          nativeEvent: _,
          targetContainers: [m],
        }),
        o !== null && ((o = wl(o)), o !== null && ko(o)),
        i)
      : ((i.eventSystemFlags |= h),
        (o = i.targetContainers),
        m !== null && o.indexOf(m) === -1 && o.push(m),
        i);
  }
  function Mh(i, o, u, h, m) {
    switch (o) {
      case "focusin":
        return (Lt = un(Lt, i, o, u, h, m)), !0;
      case "dragenter":
        return (Kn = un(Kn, i, o, u, h, m)), !0;
      case "mouseover":
        return (Qn = un(Qn, i, o, u, h, m)), !0;
      case "pointerover":
        var _ = m.pointerId;
        return Ti.set(_, un(Ti.get(_) || null, i, o, u, h, m)), !0;
      case "gotpointercapture":
        return (
          (_ = m.pointerId), Nn.set(_, un(Nn.get(_) || null, i, o, u, h, m)), !0
        );
    }
    return !1;
  }
  function Zu(i) {
    var o = js(i.target);
    if (o !== null) {
      var u = qn(o);
      if (u !== null) {
        if (((o = u.tag), o === 13)) {
          if (((o = Ps(u)), o !== null)) {
            (i.blockedOn = o),
              Yu(i.priority, function () {
                Qu(u);
              });
            return;
          }
        } else if (o === 3 && u.stateNode.current.memoizedState.isDehydrated) {
          i.blockedOn = u.tag === 3 ? u.stateNode.containerInfo : null;
          return;
        }
      }
    }
    i.blockedOn = null;
  }
  function $r(i) {
    if (i.blockedOn !== null) return !1;
    for (var o = i.targetContainers; 0 < o.length; ) {
      var u = No(i.domEventName, i.eventSystemFlags, o[0], i.nativeEvent);
      if (u === null) {
        u = i.nativeEvent;
        var h = new u.constructor(u.type, u);
        (ws = h), u.target.dispatchEvent(h), (ws = null);
      } else return (o = wl(u)), o !== null && ko(o), (i.blockedOn = u), !1;
      o.shift();
    }
    return !0;
  }
  function As(i, o, u) {
    $r(i) && u.delete(o);
  }
  function ec() {
    (sl = !1),
      Lt !== null && $r(Lt) && (Lt = null),
      Kn !== null && $r(Kn) && (Kn = null),
      Qn !== null && $r(Qn) && (Qn = null),
      Ti.forEach(As),
      Nn.forEach(As);
  }
  function Xn(i, o) {
    i.blockedOn === o &&
      ((i.blockedOn = null),
      sl ||
        ((sl = !0),
        e.unstable_scheduleCallback(e.unstable_NormalPriority, ec)));
  }
  function Yn(i) {
    function o(m) {
      return Xn(m, i);
    }
    if (0 < cr.length) {
      Xn(cr[0], i);
      for (var u = 1; u < cr.length; u++) {
        var h = cr[u];
        h.blockedOn === i && (h.blockedOn = null);
      }
    }
    for (
      Lt !== null && Xn(Lt, i),
        Kn !== null && Xn(Kn, i),
        Qn !== null && Xn(Qn, i),
        Ti.forEach(o),
        Nn.forEach(o),
        u = 0;
      u < dr.length;
      u++
    )
      (h = dr[u]), h.blockedOn === i && (h.blockedOn = null);
    for (; 0 < dr.length && ((u = dr[0]), u.blockedOn === null); )
      Zu(u), u.blockedOn === null && dr.shift();
  }
  var Hr = Y.ReactCurrentBatchConfig,
    Pi = !0;
  function Je(i, o, u, h) {
    var m = De,
      _ = Hr.transition;
    Hr.transition = null;
    try {
      (De = 1), ol(i, o, u, h);
    } finally {
      (De = m), (Hr.transition = _);
    }
  }
  function Lh(i, o, u, h) {
    var m = De,
      _ = Hr.transition;
    Hr.transition = null;
    try {
      (De = 4), ol(i, o, u, h);
    } finally {
      (De = m), (Hr.transition = _);
    }
  }
  function ol(i, o, u, h) {
    if (Pi) {
      var m = No(i, o, u, h);
      if (m === null) Qh(i, o, h, Rs, u), Ju(i, h);
      else if (Mh(m, i, o, u, h)) h.stopPropagation();
      else if ((Ju(i, h), o & 4 && -1 < Oh.indexOf(i))) {
        for (; m !== null; ) {
          var _ = wl(m);
          if (
            (_ !== null && Ku(_),
            (_ = No(i, o, u, h)),
            _ === null && Qh(i, o, h, Rs, u),
            _ === m)
          )
            break;
          m = _;
        }
        m !== null && h.stopPropagation();
      } else Qh(i, o, h, null, u);
    }
  }
  var Rs = null;
  function No(i, o, u, h) {
    if (((Rs = null), (i = xo(h)), (i = js(i)), i !== null))
      if (((o = qn(i)), o === null)) i = null;
      else if (((u = o.tag), u === 13)) {
        if (((i = Ps(o)), i !== null)) return i;
        i = null;
      } else if (u === 3) {
        if (o.stateNode.current.memoizedState.isDehydrated)
          return o.tag === 3 ? o.stateNode.containerInfo : null;
        i = null;
      } else o !== i && (i = null);
    return (Rs = i), null;
  }
  function al(i) {
    switch (i) {
      case "cancel":
      case "click":
      case "close":
      case "contextmenu":
      case "copy":
      case "cut":
      case "auxclick":
      case "dblclick":
      case "dragend":
      case "dragstart":
      case "drop":
      case "focusin":
      case "focusout":
      case "input":
      case "invalid":
      case "keydown":
      case "keypress":
      case "keyup":
      case "mousedown":
      case "mouseup":
      case "paste":
      case "pause":
      case "play":
      case "pointercancel":
      case "pointerdown":
      case "pointerup":
      case "ratechange":
      case "reset":
      case "resize":
      case "seeked":
      case "submit":
      case "touchcancel":
      case "touchend":
      case "touchstart":
      case "volumechange":
      case "change":
      case "selectionchange":
      case "textInput":
      case "compositionstart":
      case "compositionend":
      case "compositionupdate":
      case "beforeblur":
      case "afterblur":
      case "beforeinput":
      case "blur":
      case "fullscreenchange":
      case "focus":
      case "hashchange":
      case "popstate":
      case "select":
      case "selectstart":
        return 1;
      case "drag":
      case "dragenter":
      case "dragexit":
      case "dragleave":
      case "dragover":
      case "mousemove":
      case "mouseout":
      case "mouseover":
      case "pointermove":
      case "pointerout":
      case "pointerover":
      case "scroll":
      case "toggle":
      case "touchmove":
      case "wheel":
      case "mouseenter":
      case "mouseleave":
      case "pointerenter":
      case "pointerleave":
        return 4;
      case "message":
        switch ($u()) {
          case Ss:
            return 1;
          case yi:
            return 4;
          case kn:
          case rl:
            return 16;
          case Hu:
            return 536870912;
          default:
            return 16;
        }
      default:
        return 16;
    }
  }
  var En = null,
    jo = null,
    cn = null;
  function ll() {
    if (cn) return cn;
    var i,
      o = jo,
      u = o.length,
      h,
      m = "value" in En ? En.value : En.textContent,
      _ = m.length;
    for (i = 0; i < u && o[i] === m[i]; i++);
    var T = u - i;
    for (h = 1; h <= T && o[u - h] === m[_ - h]; h++);
    return (cn = m.slice(i, 1 < h ? 1 - h : void 0));
  }
  function Do(i) {
    var o = i.keyCode;
    return (
      "charCode" in i
        ? ((i = i.charCode), i === 0 && o === 13 && (i = 13))
        : (i = o),
      i === 10 && (i = 13),
      32 <= i || i === 13 ? i : 0
    );
  }
  function hr() {
    return !0;
  }
  function ul() {
    return !1;
  }
  function Ft(i) {
    function o(u, h, m, _, T) {
      (this._reactName = u),
        (this._targetInst = m),
        (this.type = h),
        (this.nativeEvent = _),
        (this.target = T),
        (this.currentTarget = null);
      for (var R in i)
        i.hasOwnProperty(R) && ((u = i[R]), (this[R] = u ? u(_) : _[R]));
      return (
        (this.isDefaultPrevented = (
          _.defaultPrevented != null ? _.defaultPrevented : _.returnValue === !1
        )
          ? hr
          : ul),
        (this.isPropagationStopped = ul),
        this
      );
    }
    return (
      ae(o.prototype, {
        preventDefault: function () {
          this.defaultPrevented = !0;
          var u = this.nativeEvent;
          u &&
            (u.preventDefault
              ? u.preventDefault()
              : typeof u.returnValue != "unknown" && (u.returnValue = !1),
            (this.isDefaultPrevented = hr));
        },
        stopPropagation: function () {
          var u = this.nativeEvent;
          u &&
            (u.stopPropagation
              ? u.stopPropagation()
              : typeof u.cancelBubble != "unknown" && (u.cancelBubble = !0),
            (this.isPropagationStopped = hr));
        },
        persist: function () {},
        isPersistent: hr,
      }),
      o
    );
  }
  var Jn = {
      eventPhase: 0,
      bubbles: 0,
      cancelable: 0,
      timeStamp: function (i) {
        return i.timeStamp || Date.now();
      },
      defaultPrevented: 0,
      isTrusted: 0,
    },
    Vo = Ft(Jn),
    fr = ae({}, Jn, { view: 0, detail: 0 }),
    Fh = Ft(fr),
    Oo,
    Wr,
    Si,
    ks = ae({}, fr, {
      screenX: 0,
      screenY: 0,
      clientX: 0,
      clientY: 0,
      pageX: 0,
      pageY: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      getModifierState: pr,
      button: 0,
      buttons: 0,
      relatedTarget: function (i) {
        return i.relatedTarget === void 0
          ? i.fromElement === i.srcElement
            ? i.toElement
            : i.fromElement
          : i.relatedTarget;
      },
      movementX: function (i) {
        return "movementX" in i
          ? i.movementX
          : (i !== Si &&
              (Si && i.type === "mousemove"
                ? ((Oo = i.screenX - Si.screenX), (Wr = i.screenY - Si.screenY))
                : (Wr = Oo = 0),
              (Si = i)),
            Oo);
      },
      movementY: function (i) {
        return "movementY" in i ? i.movementY : Wr;
      },
    }),
    Mo = Ft(ks),
    cl = ae({}, ks, { dataTransfer: 0 }),
    tc = Ft(cl),
    Lo = ae({}, fr, { relatedTarget: 0 }),
    Fo = Ft(Lo),
    nc = ae({}, Jn, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
    qr = Ft(nc),
    rc = ae({}, Jn, {
      clipboardData: function (i) {
        return "clipboardData" in i ? i.clipboardData : window.clipboardData;
      },
    }),
    ic = Ft(rc),
    sc = ae({}, Jn, { data: 0 }),
    dl = Ft(sc),
    Uo = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified",
    },
    rn = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta",
    },
    oc = {
      Alt: "altKey",
      Control: "ctrlKey",
      Meta: "metaKey",
      Shift: "shiftKey",
    };
  function ac(i) {
    var o = this.nativeEvent;
    return o.getModifierState
      ? o.getModifierState(i)
      : (i = oc[i])
      ? !!o[i]
      : !1;
  }
  function pr() {
    return ac;
  }
  var c = ae({}, fr, {
      key: function (i) {
        if (i.key) {
          var o = Uo[i.key] || i.key;
          if (o !== "Unidentified") return o;
        }
        return i.type === "keypress"
          ? ((i = Do(i)), i === 13 ? "Enter" : String.fromCharCode(i))
          : i.type === "keydown" || i.type === "keyup"
          ? rn[i.keyCode] || "Unidentified"
          : "";
      },
      code: 0,
      location: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      repeat: 0,
      locale: 0,
      getModifierState: pr,
      charCode: function (i) {
        return i.type === "keypress" ? Do(i) : 0;
      },
      keyCode: function (i) {
        return i.type === "keydown" || i.type === "keyup" ? i.keyCode : 0;
      },
      which: function (i) {
        return i.type === "keypress"
          ? Do(i)
          : i.type === "keydown" || i.type === "keyup"
          ? i.keyCode
          : 0;
      },
    }),
    y = Ft(c),
    E = ae({}, ks, {
      pointerId: 0,
      width: 0,
      height: 0,
      pressure: 0,
      tangentialPressure: 0,
      tiltX: 0,
      tiltY: 0,
      twist: 0,
      pointerType: 0,
      isPrimary: 0,
    }),
    S = Ft(E),
    B = ae({}, fr, {
      touches: 0,
      targetTouches: 0,
      changedTouches: 0,
      altKey: 0,
      metaKey: 0,
      ctrlKey: 0,
      shiftKey: 0,
      getModifierState: pr,
    }),
    K = Ft(B),
    se = ae({}, Jn, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
    $e = Ft(se),
    Pt = ae({}, ks, {
      deltaX: function (i) {
        return "deltaX" in i
          ? i.deltaX
          : "wheelDeltaX" in i
          ? -i.wheelDeltaX
          : 0;
      },
      deltaY: function (i) {
        return "deltaY" in i
          ? i.deltaY
          : "wheelDeltaY" in i
          ? -i.wheelDeltaY
          : "wheelDelta" in i
          ? -i.wheelDelta
          : 0;
      },
      deltaZ: 0,
      deltaMode: 0,
    }),
    Oe = Ft(Pt),
    kt = [9, 13, 27, 32],
    gt = d && "CompositionEvent" in window,
    jn = null;
  d && "documentMode" in document && (jn = document.documentMode);
  var Tn = d && "TextEvent" in window && !jn,
    Ns = d && (!gt || (jn && 8 < jn && 11 >= jn)),
    Bo = " ",
    by = !1;
  function Cy(i, o) {
    switch (i) {
      case "keyup":
        return kt.indexOf(o.keyCode) !== -1;
      case "keydown":
        return o.keyCode !== 229;
      case "keypress":
      case "mousedown":
      case "focusout":
        return !0;
      default:
        return !1;
    }
  }
  function Ay(i) {
    return (i = i.detail), typeof i == "object" && "data" in i ? i.data : null;
  }
  var zo = !1;
  function CP(i, o) {
    switch (i) {
      case "compositionend":
        return Ay(o);
      case "keypress":
        return o.which !== 32 ? null : ((by = !0), Bo);
      case "textInput":
        return (i = o.data), i === Bo && by ? null : i;
      default:
        return null;
    }
  }
  function AP(i, o) {
    if (zo)
      return i === "compositionend" || (!gt && Cy(i, o))
        ? ((i = ll()), (cn = jo = En = null), (zo = !1), i)
        : null;
    switch (i) {
      case "paste":
        return null;
      case "keypress":
        if (!(o.ctrlKey || o.altKey || o.metaKey) || (o.ctrlKey && o.altKey)) {
          if (o.char && 1 < o.char.length) return o.char;
          if (o.which) return String.fromCharCode(o.which);
        }
        return null;
      case "compositionend":
        return Ns && o.locale !== "ko" ? null : o.data;
      default:
        return null;
    }
  }
  var RP = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0,
  };
  function Ry(i) {
    var o = i && i.nodeName && i.nodeName.toLowerCase();
    return o === "input" ? !!RP[i.type] : o === "textarea";
  }
  function ky(i, o, u, h) {
    ur(h),
      (o = hc(o, "onChange")),
      0 < o.length &&
        ((u = new Vo("onChange", "change", null, u, h)),
        i.push({ event: u, listeners: o }));
  }
  var hl = null,
    fl = null;
  function kP(i) {
    Qy(i, 0);
  }
  function lc(i) {
    var o = Go(i);
    if (go(o)) return i;
  }
  function NP(i, o) {
    if (i === "change") return o;
  }
  var Ny = !1;
  if (d) {
    var Uh;
    if (d) {
      var Bh = "oninput" in document;
      if (!Bh) {
        var jy = document.createElement("div");
        jy.setAttribute("oninput", "return;"),
          (Bh = typeof jy.oninput == "function");
      }
      Uh = Bh;
    } else Uh = !1;
    Ny = Uh && (!document.documentMode || 9 < document.documentMode);
  }
  function Dy() {
    hl && (hl.detachEvent("onpropertychange", Vy), (fl = hl = null));
  }
  function Vy(i) {
    if (i.propertyName === "value" && lc(fl)) {
      var o = [];
      ky(o, fl, i, xo(i)), Za(kP, o);
    }
  }
  function jP(i, o, u) {
    i === "focusin"
      ? (Dy(), (hl = o), (fl = u), hl.attachEvent("onpropertychange", Vy))
      : i === "focusout" && Dy();
  }
  function DP(i) {
    if (i === "selectionchange" || i === "keyup" || i === "keydown")
      return lc(fl);
  }
  function VP(i, o) {
    if (i === "click") return lc(o);
  }
  function OP(i, o) {
    if (i === "input" || i === "change") return lc(o);
  }
  function MP(i, o) {
    return (i === o && (i !== 0 || 1 / i === 1 / o)) || (i !== i && o !== o);
  }
  var Zn = typeof Object.is == "function" ? Object.is : MP;
  function pl(i, o) {
    if (Zn(i, o)) return !0;
    if (
      typeof i != "object" ||
      i === null ||
      typeof o != "object" ||
      o === null
    )
      return !1;
    var u = Object.keys(i),
      h = Object.keys(o);
    if (u.length !== h.length) return !1;
    for (h = 0; h < u.length; h++) {
      var m = u[h];
      if (!f.call(o, m) || !Zn(i[m], o[m])) return !1;
    }
    return !0;
  }
  function Oy(i) {
    for (; i && i.firstChild; ) i = i.firstChild;
    return i;
  }
  function My(i, o) {
    var u = Oy(i);
    i = 0;
    for (var h; u; ) {
      if (u.nodeType === 3) {
        if (((h = i + u.textContent.length), i <= o && h >= o))
          return { node: u, offset: o - i };
        i = h;
      }
      e: {
        for (; u; ) {
          if (u.nextSibling) {
            u = u.nextSibling;
            break e;
          }
          u = u.parentNode;
        }
        u = void 0;
      }
      u = Oy(u);
    }
  }
  function Ly(i, o) {
    return i && o
      ? i === o
        ? !0
        : i && i.nodeType === 3
        ? !1
        : o && o.nodeType === 3
        ? Ly(i, o.parentNode)
        : "contains" in i
        ? i.contains(o)
        : i.compareDocumentPosition
        ? !!(i.compareDocumentPosition(o) & 16)
        : !1
      : !1;
  }
  function Fy() {
    for (var i = window, o = mi(); o instanceof i.HTMLIFrameElement; ) {
      try {
        var u = typeof o.contentWindow.location.href == "string";
      } catch {
        u = !1;
      }
      if (u) i = o.contentWindow;
      else break;
      o = mi(i.document);
    }
    return o;
  }
  function zh(i) {
    var o = i && i.nodeName && i.nodeName.toLowerCase();
    return (
      o &&
      ((o === "input" &&
        (i.type === "text" ||
          i.type === "search" ||
          i.type === "tel" ||
          i.type === "url" ||
          i.type === "password")) ||
        o === "textarea" ||
        i.contentEditable === "true")
    );
  }
  function LP(i) {
    var o = Fy(),
      u = i.focusedElem,
      h = i.selectionRange;
    if (
      o !== u &&
      u &&
      u.ownerDocument &&
      Ly(u.ownerDocument.documentElement, u)
    ) {
      if (h !== null && zh(u)) {
        if (
          ((o = h.start),
          (i = h.end),
          i === void 0 && (i = o),
          "selectionStart" in u)
        )
          (u.selectionStart = o),
            (u.selectionEnd = Math.min(i, u.value.length));
        else if (
          ((i = ((o = u.ownerDocument || document) && o.defaultView) || window),
          i.getSelection)
        ) {
          i = i.getSelection();
          var m = u.textContent.length,
            _ = Math.min(h.start, m);
          (h = h.end === void 0 ? _ : Math.min(h.end, m)),
            !i.extend && _ > h && ((m = h), (h = _), (_ = m)),
            (m = My(u, _));
          var T = My(u, h);
          m &&
            T &&
            (i.rangeCount !== 1 ||
              i.anchorNode !== m.node ||
              i.anchorOffset !== m.offset ||
              i.focusNode !== T.node ||
              i.focusOffset !== T.offset) &&
            ((o = o.createRange()),
            o.setStart(m.node, m.offset),
            i.removeAllRanges(),
            _ > h
              ? (i.addRange(o), i.extend(T.node, T.offset))
              : (o.setEnd(T.node, T.offset), i.addRange(o)));
        }
      }
      for (o = [], i = u; (i = i.parentNode); )
        i.nodeType === 1 &&
          o.push({ element: i, left: i.scrollLeft, top: i.scrollTop });
      for (typeof u.focus == "function" && u.focus(), u = 0; u < o.length; u++)
        (i = o[u]),
          (i.element.scrollLeft = i.left),
          (i.element.scrollTop = i.top);
    }
  }
  var FP = d && "documentMode" in document && 11 >= document.documentMode,
    $o = null,
    $h = null,
    ml = null,
    Hh = !1;
  function Uy(i, o, u) {
    var h =
      u.window === u ? u.document : u.nodeType === 9 ? u : u.ownerDocument;
    Hh ||
      $o == null ||
      $o !== mi(h) ||
      ((h = $o),
      "selectionStart" in h && zh(h)
        ? (h = { start: h.selectionStart, end: h.selectionEnd })
        : ((h = (
            (h.ownerDocument && h.ownerDocument.defaultView) ||
            window
          ).getSelection()),
          (h = {
            anchorNode: h.anchorNode,
            anchorOffset: h.anchorOffset,
            focusNode: h.focusNode,
            focusOffset: h.focusOffset,
          })),
      (ml && pl(ml, h)) ||
        ((ml = h),
        (h = hc($h, "onSelect")),
        0 < h.length &&
          ((o = new Vo("onSelect", "select", null, o, u)),
          i.push({ event: o, listeners: h }),
          (o.target = $o))));
  }
  function uc(i, o) {
    var u = {};
    return (
      (u[i.toLowerCase()] = o.toLowerCase()),
      (u["Webkit" + i] = "webkit" + o),
      (u["Moz" + i] = "moz" + o),
      u
    );
  }
  var Ho = {
      animationend: uc("Animation", "AnimationEnd"),
      animationiteration: uc("Animation", "AnimationIteration"),
      animationstart: uc("Animation", "AnimationStart"),
      transitionend: uc("Transition", "TransitionEnd"),
    },
    Wh = {},
    By = {};
  d &&
    ((By = document.createElement("div").style),
    "AnimationEvent" in window ||
      (delete Ho.animationend.animation,
      delete Ho.animationiteration.animation,
      delete Ho.animationstart.animation),
    "TransitionEvent" in window || delete Ho.transitionend.transition);
  function cc(i) {
    if (Wh[i]) return Wh[i];
    if (!Ho[i]) return i;
    var o = Ho[i],
      u;
    for (u in o) if (o.hasOwnProperty(u) && u in By) return (Wh[i] = o[u]);
    return i;
  }
  var zy = cc("animationend"),
    $y = cc("animationiteration"),
    Hy = cc("animationstart"),
    Wy = cc("transitionend"),
    qy = new Map(),
    Gy =
      "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
        " "
      );
  function Ii(i, o) {
    qy.set(i, o), a(o, [i]);
  }
  for (var qh = 0; qh < Gy.length; qh++) {
    var Gh = Gy[qh],
      UP = Gh.toLowerCase(),
      BP = Gh[0].toUpperCase() + Gh.slice(1);
    Ii(UP, "on" + BP);
  }
  Ii(zy, "onAnimationEnd"),
    Ii($y, "onAnimationIteration"),
    Ii(Hy, "onAnimationStart"),
    Ii("dblclick", "onDoubleClick"),
    Ii("focusin", "onFocus"),
    Ii("focusout", "onBlur"),
    Ii(Wy, "onTransitionEnd"),
    l("onMouseEnter", ["mouseout", "mouseover"]),
    l("onMouseLeave", ["mouseout", "mouseover"]),
    l("onPointerEnter", ["pointerout", "pointerover"]),
    l("onPointerLeave", ["pointerout", "pointerover"]),
    a(
      "onChange",
      "change click focusin focusout input keydown keyup selectionchange".split(
        " "
      )
    ),
    a(
      "onSelect",
      "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
        " "
      )
    ),
    a("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
    a(
      "onCompositionEnd",
      "compositionend focusout keydown keypress keyup mousedown".split(" ")
    ),
    a(
      "onCompositionStart",
      "compositionstart focusout keydown keypress keyup mousedown".split(" ")
    ),
    a(
      "onCompositionUpdate",
      "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
    );
  var gl =
      "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
        " "
      ),
    zP = new Set(
      "cancel close invalid load scroll toggle".split(" ").concat(gl)
    );
  function Ky(i, o, u) {
    var h = i.type || "unknown-event";
    (i.currentTarget = u), Uu(h, o, void 0, i), (i.currentTarget = null);
  }
  function Qy(i, o) {
    o = (o & 4) !== 0;
    for (var u = 0; u < i.length; u++) {
      var h = i[u],
        m = h.event;
      h = h.listeners;
      e: {
        var _ = void 0;
        if (o)
          for (var T = h.length - 1; 0 <= T; T--) {
            var R = h[T],
              V = R.instance,
              W = R.currentTarget;
            if (((R = R.listener), V !== _ && m.isPropagationStopped()))
              break e;
            Ky(m, R, W), (_ = V);
          }
        else
          for (T = 0; T < h.length; T++) {
            if (
              ((R = h[T]),
              (V = R.instance),
              (W = R.currentTarget),
              (R = R.listener),
              V !== _ && m.isPropagationStopped())
            )
              break e;
            Ky(m, R, W), (_ = V);
          }
      }
    }
    if (Wn) throw ((i = el), (Wn = !1), (el = null), i);
  }
  function Ke(i, o) {
    var u = o[tf];
    u === void 0 && (u = o[tf] = new Set());
    var h = i + "__bubble";
    u.has(h) || (Xy(o, i, 2, !1), u.add(h));
  }
  function Kh(i, o, u) {
    var h = 0;
    o && (h |= 4), Xy(u, i, h, o);
  }
  var dc = "_reactListening" + Math.random().toString(36).slice(2);
  function yl(i) {
    if (!i[dc]) {
      (i[dc] = !0),
        r.forEach(function (u) {
          u !== "selectionchange" && (zP.has(u) || Kh(u, !1, i), Kh(u, !0, i));
        });
      var o = i.nodeType === 9 ? i : i.ownerDocument;
      o === null || o[dc] || ((o[dc] = !0), Kh("selectionchange", !1, o));
    }
  }
  function Xy(i, o, u, h) {
    switch (al(o)) {
      case 1:
        var m = Je;
        break;
      case 4:
        m = Lh;
        break;
      default:
        m = ol;
    }
    (u = m.bind(null, o, u, i)),
      (m = void 0),
      !Po ||
        (o !== "touchstart" && o !== "touchmove" && o !== "wheel") ||
        (m = !0),
      h
        ? m !== void 0
          ? i.addEventListener(o, u, { capture: !0, passive: m })
          : i.addEventListener(o, u, !0)
        : m !== void 0
        ? i.addEventListener(o, u, { passive: m })
        : i.addEventListener(o, u, !1);
  }
  function Qh(i, o, u, h, m) {
    var _ = h;
    if ((o & 1) === 0 && (o & 2) === 0 && h !== null)
      e: for (;;) {
        if (h === null) return;
        var T = h.tag;
        if (T === 3 || T === 4) {
          var R = h.stateNode.containerInfo;
          if (R === m || (R.nodeType === 8 && R.parentNode === m)) break;
          if (T === 4)
            for (T = h.return; T !== null; ) {
              var V = T.tag;
              if (
                (V === 3 || V === 4) &&
                ((V = T.stateNode.containerInfo),
                V === m || (V.nodeType === 8 && V.parentNode === m))
              )
                return;
              T = T.return;
            }
          for (; R !== null; ) {
            if (((T = js(R)), T === null)) return;
            if (((V = T.tag), V === 5 || V === 6)) {
              h = _ = T;
              continue e;
            }
            R = R.parentNode;
          }
        }
        h = h.return;
      }
    Za(function () {
      var W = _,
        ee = xo(u),
        te = [];
      e: {
        var J = qy.get(i);
        if (J !== void 0) {
          var le = Vo,
            de = i;
          switch (i) {
            case "keypress":
              if (Do(u) === 0) break e;
            case "keydown":
            case "keyup":
              le = y;
              break;
            case "focusin":
              (de = "focus"), (le = Fo);
              break;
            case "focusout":
              (de = "blur"), (le = Fo);
              break;
            case "beforeblur":
            case "afterblur":
              le = Fo;
              break;
            case "click":
              if (u.button === 2) break e;
            case "auxclick":
            case "dblclick":
            case "mousedown":
            case "mousemove":
            case "mouseup":
            case "mouseout":
            case "mouseover":
            case "contextmenu":
              le = Mo;
              break;
            case "drag":
            case "dragend":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "dragstart":
            case "drop":
              le = tc;
              break;
            case "touchcancel":
            case "touchend":
            case "touchmove":
            case "touchstart":
              le = K;
              break;
            case zy:
            case $y:
            case Hy:
              le = qr;
              break;
            case Wy:
              le = $e;
              break;
            case "scroll":
              le = Fh;
              break;
            case "wheel":
              le = Oe;
              break;
            case "copy":
            case "cut":
            case "paste":
              le = ic;
              break;
            case "gotpointercapture":
            case "lostpointercapture":
            case "pointercancel":
            case "pointerdown":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "pointerup":
              le = S;
          }
          var he = (o & 4) !== 0,
            dt = !he && i === "scroll",
            z = he ? (J !== null ? J + "Capture" : null) : J;
          he = [];
          for (var O = W, H; O !== null; ) {
            H = O;
            var re = H.stateNode;
            if (
              (H.tag === 5 &&
                re !== null &&
                ((H = re),
                z !== null &&
                  ((re = ct(O, z)), re != null && he.push(vl(O, re, H)))),
              dt)
            )
              break;
            O = O.return;
          }
          0 < he.length &&
            ((J = new le(J, de, null, u, ee)),
            te.push({ event: J, listeners: he }));
        }
      }
      if ((o & 7) === 0) {
        e: {
          if (
            ((J = i === "mouseover" || i === "pointerover"),
            (le = i === "mouseout" || i === "pointerout"),
            J &&
              u !== ws &&
              (de = u.relatedTarget || u.fromElement) &&
              (js(de) || de[Gr]))
          )
            break e;
          if (
            (le || J) &&
            ((J =
              ee.window === ee
                ? ee
                : (J = ee.ownerDocument)
                ? J.defaultView || J.parentWindow
                : window),
            le
              ? ((de = u.relatedTarget || u.toElement),
                (le = W),
                (de = de ? js(de) : null),
                de !== null &&
                  ((dt = qn(de)),
                  de !== dt || (de.tag !== 5 && de.tag !== 6)) &&
                  (de = null))
              : ((le = null), (de = W)),
            le !== de)
          ) {
            if (
              ((he = Mo),
              (re = "onMouseLeave"),
              (z = "onMouseEnter"),
              (O = "mouse"),
              (i === "pointerout" || i === "pointerover") &&
                ((he = S),
                (re = "onPointerLeave"),
                (z = "onPointerEnter"),
                (O = "pointer")),
              (dt = le == null ? J : Go(le)),
              (H = de == null ? J : Go(de)),
              (J = new he(re, O + "leave", le, u, ee)),
              (J.target = dt),
              (J.relatedTarget = H),
              (re = null),
              js(ee) === W &&
                ((he = new he(z, O + "enter", de, u, ee)),
                (he.target = H),
                (he.relatedTarget = dt),
                (re = he)),
              (dt = re),
              le && de)
            )
              t: {
                for (he = le, z = de, O = 0, H = he; H; H = Wo(H)) O++;
                for (H = 0, re = z; re; re = Wo(re)) H++;
                for (; 0 < O - H; ) (he = Wo(he)), O--;
                for (; 0 < H - O; ) (z = Wo(z)), H--;
                for (; O--; ) {
                  if (he === z || (z !== null && he === z.alternate)) break t;
                  (he = Wo(he)), (z = Wo(z));
                }
                he = null;
              }
            else he = null;
            le !== null && Yy(te, J, le, he, !1),
              de !== null && dt !== null && Yy(te, dt, de, he, !0);
          }
        }
        e: {
          if (
            ((J = W ? Go(W) : window),
            (le = J.nodeName && J.nodeName.toLowerCase()),
            le === "select" || (le === "input" && J.type === "file"))
          )
            var fe = NP;
          else if (Ry(J))
            if (Ny) fe = OP;
            else {
              fe = DP;
              var ve = jP;
            }
          else
            (le = J.nodeName) &&
              le.toLowerCase() === "input" &&
              (J.type === "checkbox" || J.type === "radio") &&
              (fe = VP);
          if (fe && (fe = fe(i, W))) {
            ky(te, fe, u, ee);
            break e;
          }
          ve && ve(i, J, W),
            i === "focusout" &&
              (ve = J._wrapperState) &&
              ve.controlled &&
              J.type === "number" &&
              vo(J, "number", J.value);
        }
        switch (((ve = W ? Go(W) : window), i)) {
          case "focusin":
            (Ry(ve) || ve.contentEditable === "true") &&
              (($o = ve), ($h = W), (ml = null));
            break;
          case "focusout":
            ml = $h = $o = null;
            break;
          case "mousedown":
            Hh = !0;
            break;
          case "contextmenu":
          case "mouseup":
          case "dragend":
            (Hh = !1), Uy(te, u, ee);
            break;
          case "selectionchange":
            if (FP) break;
          case "keydown":
          case "keyup":
            Uy(te, u, ee);
        }
        var _e;
        if (gt)
          e: {
            switch (i) {
              case "compositionstart":
                var Pe = "onCompositionStart";
                break e;
              case "compositionend":
                Pe = "onCompositionEnd";
                break e;
              case "compositionupdate":
                Pe = "onCompositionUpdate";
                break e;
            }
            Pe = void 0;
          }
        else
          zo
            ? Cy(i, u) && (Pe = "onCompositionEnd")
            : i === "keydown" &&
              u.keyCode === 229 &&
              (Pe = "onCompositionStart");
        Pe &&
          (Ns &&
            u.locale !== "ko" &&
            (zo || Pe !== "onCompositionStart"
              ? Pe === "onCompositionEnd" && zo && (_e = ll())
              : ((En = ee),
                (jo = "value" in En ? En.value : En.textContent),
                (zo = !0))),
          (ve = hc(W, Pe)),
          0 < ve.length &&
            ((Pe = new dl(Pe, i, null, u, ee)),
            te.push({ event: Pe, listeners: ve }),
            _e
              ? (Pe.data = _e)
              : ((_e = Ay(u)), _e !== null && (Pe.data = _e)))),
          (_e = Tn ? CP(i, u) : AP(i, u)) &&
            ((W = hc(W, "onBeforeInput")),
            0 < W.length &&
              ((ee = new dl("onBeforeInput", "beforeinput", null, u, ee)),
              te.push({ event: ee, listeners: W }),
              (ee.data = _e)));
      }
      Qy(te, o);
    });
  }
  function vl(i, o, u) {
    return { instance: i, listener: o, currentTarget: u };
  }
  function hc(i, o) {
    for (var u = o + "Capture", h = []; i !== null; ) {
      var m = i,
        _ = m.stateNode;
      m.tag === 5 &&
        _ !== null &&
        ((m = _),
        (_ = ct(i, u)),
        _ != null && h.unshift(vl(i, _, m)),
        (_ = ct(i, o)),
        _ != null && h.push(vl(i, _, m))),
        (i = i.return);
    }
    return h;
  }
  function Wo(i) {
    if (i === null) return null;
    do i = i.return;
    while (i && i.tag !== 5);
    return i || null;
  }
  function Yy(i, o, u, h, m) {
    for (var _ = o._reactName, T = []; u !== null && u !== h; ) {
      var R = u,
        V = R.alternate,
        W = R.stateNode;
      if (V !== null && V === h) break;
      R.tag === 5 &&
        W !== null &&
        ((R = W),
        m
          ? ((V = ct(u, _)), V != null && T.unshift(vl(u, V, R)))
          : m || ((V = ct(u, _)), V != null && T.push(vl(u, V, R)))),
        (u = u.return);
    }
    T.length !== 0 && i.push({ event: o, listeners: T });
  }
  var $P = /\r\n?/g,
    HP = /\u0000|\uFFFD/g;
  function Jy(i) {
    return (typeof i == "string" ? i : "" + i)
      .replace(
        $P,
        `
`
      )
      .replace(HP, "");
  }
  function fc(i, o, u) {
    if (((o = Jy(o)), Jy(i) !== o && u)) throw Error(n(425));
  }
  function pc() {}
  var Xh = null,
    Yh = null;
  function Jh(i, o) {
    return (
      i === "textarea" ||
      i === "noscript" ||
      typeof o.children == "string" ||
      typeof o.children == "number" ||
      (typeof o.dangerouslySetInnerHTML == "object" &&
        o.dangerouslySetInnerHTML !== null &&
        o.dangerouslySetInnerHTML.__html != null)
    );
  }
  var Zh = typeof setTimeout == "function" ? setTimeout : void 0,
    WP = typeof clearTimeout == "function" ? clearTimeout : void 0,
    Zy = typeof Promise == "function" ? Promise : void 0,
    qP =
      typeof queueMicrotask == "function"
        ? queueMicrotask
        : typeof Zy < "u"
        ? function (i) {
            return Zy.resolve(null).then(i).catch(GP);
          }
        : Zh;
  function GP(i) {
    setTimeout(function () {
      throw i;
    });
  }
  function ef(i, o) {
    var u = o,
      h = 0;
    do {
      var m = u.nextSibling;
      if ((i.removeChild(u), m && m.nodeType === 8))
        if (((u = m.data), u === "/$")) {
          if (h === 0) {
            i.removeChild(m), Yn(o);
            return;
          }
          h--;
        } else (u !== "$" && u !== "$?" && u !== "$!") || h++;
      u = m;
    } while (u);
    Yn(o);
  }
  function bi(i) {
    for (; i != null; i = i.nextSibling) {
      var o = i.nodeType;
      if (o === 1 || o === 3) break;
      if (o === 8) {
        if (((o = i.data), o === "$" || o === "$!" || o === "$?")) break;
        if (o === "/$") return null;
      }
    }
    return i;
  }
  function ev(i) {
    i = i.previousSibling;
    for (var o = 0; i; ) {
      if (i.nodeType === 8) {
        var u = i.data;
        if (u === "$" || u === "$!" || u === "$?") {
          if (o === 0) return i;
          o--;
        } else u === "/$" && o++;
      }
      i = i.previousSibling;
    }
    return null;
  }
  var qo = Math.random().toString(36).slice(2),
    mr = "__reactFiber$" + qo,
    _l = "__reactProps$" + qo,
    Gr = "__reactContainer$" + qo,
    tf = "__reactEvents$" + qo,
    KP = "__reactListeners$" + qo,
    QP = "__reactHandles$" + qo;
  function js(i) {
    var o = i[mr];
    if (o) return o;
    for (var u = i.parentNode; u; ) {
      if ((o = u[Gr] || u[mr])) {
        if (
          ((u = o.alternate),
          o.child !== null || (u !== null && u.child !== null))
        )
          for (i = ev(i); i !== null; ) {
            if ((u = i[mr])) return u;
            i = ev(i);
          }
        return o;
      }
      (i = u), (u = i.parentNode);
    }
    return null;
  }
  function wl(i) {
    return (
      (i = i[mr] || i[Gr]),
      !i || (i.tag !== 5 && i.tag !== 6 && i.tag !== 13 && i.tag !== 3)
        ? null
        : i
    );
  }
  function Go(i) {
    if (i.tag === 5 || i.tag === 6) return i.stateNode;
    throw Error(n(33));
  }
  function mc(i) {
    return i[_l] || null;
  }
  var nf = [],
    Ko = -1;
  function Ci(i) {
    return { current: i };
  }
  function Qe(i) {
    0 > Ko || ((i.current = nf[Ko]), (nf[Ko] = null), Ko--);
  }
  function Ge(i, o) {
    Ko++, (nf[Ko] = i.current), (i.current = o);
  }
  var Ai = {},
    Gt = Ci(Ai),
    dn = Ci(!1),
    Ds = Ai;
  function Qo(i, o) {
    var u = i.type.contextTypes;
    if (!u) return Ai;
    var h = i.stateNode;
    if (h && h.__reactInternalMemoizedUnmaskedChildContext === o)
      return h.__reactInternalMemoizedMaskedChildContext;
    var m = {},
      _;
    for (_ in u) m[_] = o[_];
    return (
      h &&
        ((i = i.stateNode),
        (i.__reactInternalMemoizedUnmaskedChildContext = o),
        (i.__reactInternalMemoizedMaskedChildContext = m)),
      m
    );
  }
  function hn(i) {
    return (i = i.childContextTypes), i != null;
  }
  function gc() {
    Qe(dn), Qe(Gt);
  }
  function tv(i, o, u) {
    if (Gt.current !== Ai) throw Error(n(168));
    Ge(Gt, o), Ge(dn, u);
  }
  function nv(i, o, u) {
    var h = i.stateNode;
    if (((o = o.childContextTypes), typeof h.getChildContext != "function"))
      return u;
    h = h.getChildContext();
    for (var m in h) if (!(m in o)) throw Error(n(108, Ue(i) || "Unknown", m));
    return ae({}, u, h);
  }
  function yc(i) {
    return (
      (i =
        ((i = i.stateNode) && i.__reactInternalMemoizedMergedChildContext) ||
        Ai),
      (Ds = Gt.current),
      Ge(Gt, i),
      Ge(dn, dn.current),
      !0
    );
  }
  function rv(i, o, u) {
    var h = i.stateNode;
    if (!h) throw Error(n(169));
    u
      ? ((i = nv(i, o, Ds)),
        (h.__reactInternalMemoizedMergedChildContext = i),
        Qe(dn),
        Qe(Gt),
        Ge(Gt, i))
      : Qe(dn),
      Ge(dn, u);
  }
  var Kr = null,
    vc = !1,
    rf = !1;
  function iv(i) {
    Kr === null ? (Kr = [i]) : Kr.push(i);
  }
  function XP(i) {
    (vc = !0), iv(i);
  }
  function Ri() {
    if (!rf && Kr !== null) {
      rf = !0;
      var i = 0,
        o = De;
      try {
        var u = Kr;
        for (De = 1; i < u.length; i++) {
          var h = u[i];
          do h = h(!0);
          while (h !== null);
        }
        (Kr = null), (vc = !1);
      } catch (m) {
        throw (Kr !== null && (Kr = Kr.slice(i + 1)), Co(Ss, Ri), m);
      } finally {
        (De = o), (rf = !1);
      }
    }
    return null;
  }
  var Xo = [],
    Yo = 0,
    _c = null,
    wc = 0,
    Dn = [],
    Vn = 0,
    Vs = null,
    Qr = 1,
    Xr = "";
  function Os(i, o) {
    (Xo[Yo++] = wc), (Xo[Yo++] = _c), (_c = i), (wc = o);
  }
  function sv(i, o, u) {
    (Dn[Vn++] = Qr), (Dn[Vn++] = Xr), (Dn[Vn++] = Vs), (Vs = i);
    var h = Qr;
    i = Xr;
    var m = 32 - nn(h) - 1;
    (h &= ~(1 << m)), (u += 1);
    var _ = 32 - nn(o) + m;
    if (30 < _) {
      var T = m - (m % 5);
      (_ = (h & ((1 << T) - 1)).toString(32)),
        (h >>= T),
        (m -= T),
        (Qr = (1 << (32 - nn(o) + m)) | (u << m) | h),
        (Xr = _ + i);
    } else (Qr = (1 << _) | (u << m) | h), (Xr = i);
  }
  function sf(i) {
    i.return !== null && (Os(i, 1), sv(i, 1, 0));
  }
  function of(i) {
    for (; i === _c; )
      (_c = Xo[--Yo]), (Xo[Yo] = null), (wc = Xo[--Yo]), (Xo[Yo] = null);
    for (; i === Vs; )
      (Vs = Dn[--Vn]),
        (Dn[Vn] = null),
        (Xr = Dn[--Vn]),
        (Dn[Vn] = null),
        (Qr = Dn[--Vn]),
        (Dn[Vn] = null);
  }
  var Pn = null,
    Sn = null,
    Ze = !1,
    er = null;
  function ov(i, o) {
    var u = Fn(5, null, null, 0);
    (u.elementType = "DELETED"),
      (u.stateNode = o),
      (u.return = i),
      (o = i.deletions),
      o === null ? ((i.deletions = [u]), (i.flags |= 16)) : o.push(u);
  }
  function av(i, o) {
    switch (i.tag) {
      case 5:
        var u = i.type;
        return (
          (o =
            o.nodeType !== 1 || u.toLowerCase() !== o.nodeName.toLowerCase()
              ? null
              : o),
          o !== null
            ? ((i.stateNode = o), (Pn = i), (Sn = bi(o.firstChild)), !0)
            : !1
        );
      case 6:
        return (
          (o = i.pendingProps === "" || o.nodeType !== 3 ? null : o),
          o !== null ? ((i.stateNode = o), (Pn = i), (Sn = null), !0) : !1
        );
      case 13:
        return (
          (o = o.nodeType !== 8 ? null : o),
          o !== null
            ? ((u = Vs !== null ? { id: Qr, overflow: Xr } : null),
              (i.memoizedState = {
                dehydrated: o,
                treeContext: u,
                retryLane: 1073741824,
              }),
              (u = Fn(18, null, null, 0)),
              (u.stateNode = o),
              (u.return = i),
              (i.child = u),
              (Pn = i),
              (Sn = null),
              !0)
            : !1
        );
      default:
        return !1;
    }
  }
  function af(i) {
    return (i.mode & 1) !== 0 && (i.flags & 128) === 0;
  }
  function lf(i) {
    if (Ze) {
      var o = Sn;
      if (o) {
        var u = o;
        if (!av(i, o)) {
          if (af(i)) throw Error(n(418));
          o = bi(u.nextSibling);
          var h = Pn;
          o && av(i, o)
            ? ov(h, u)
            : ((i.flags = (i.flags & -4097) | 2), (Ze = !1), (Pn = i));
        }
      } else {
        if (af(i)) throw Error(n(418));
        (i.flags = (i.flags & -4097) | 2), (Ze = !1), (Pn = i);
      }
    }
  }
  function lv(i) {
    for (
      i = i.return;
      i !== null && i.tag !== 5 && i.tag !== 3 && i.tag !== 13;

    )
      i = i.return;
    Pn = i;
  }
  function xc(i) {
    if (i !== Pn) return !1;
    if (!Ze) return lv(i), (Ze = !0), !1;
    var o;
    if (
      ((o = i.tag !== 3) &&
        !(o = i.tag !== 5) &&
        ((o = i.type),
        (o = o !== "head" && o !== "body" && !Jh(i.type, i.memoizedProps))),
      o && (o = Sn))
    ) {
      if (af(i)) throw (uv(), Error(n(418)));
      for (; o; ) ov(i, o), (o = bi(o.nextSibling));
    }
    if ((lv(i), i.tag === 13)) {
      if (((i = i.memoizedState), (i = i !== null ? i.dehydrated : null), !i))
        throw Error(n(317));
      e: {
        for (i = i.nextSibling, o = 0; i; ) {
          if (i.nodeType === 8) {
            var u = i.data;
            if (u === "/$") {
              if (o === 0) {
                Sn = bi(i.nextSibling);
                break e;
              }
              o--;
            } else (u !== "$" && u !== "$!" && u !== "$?") || o++;
          }
          i = i.nextSibling;
        }
        Sn = null;
      }
    } else Sn = Pn ? bi(i.stateNode.nextSibling) : null;
    return !0;
  }
  function uv() {
    for (var i = Sn; i; ) i = bi(i.nextSibling);
  }
  function Jo() {
    (Sn = Pn = null), (Ze = !1);
  }
  function uf(i) {
    er === null ? (er = [i]) : er.push(i);
  }
  var YP = Y.ReactCurrentBatchConfig;
  function xl(i, o, u) {
    if (
      ((i = u.ref),
      i !== null && typeof i != "function" && typeof i != "object")
    ) {
      if (u._owner) {
        if (((u = u._owner), u)) {
          if (u.tag !== 1) throw Error(n(309));
          var h = u.stateNode;
        }
        if (!h) throw Error(n(147, i));
        var m = h,
          _ = "" + i;
        return o !== null &&
          o.ref !== null &&
          typeof o.ref == "function" &&
          o.ref._stringRef === _
          ? o.ref
          : ((o = function (T) {
              var R = m.refs;
              T === null ? delete R[_] : (R[_] = T);
            }),
            (o._stringRef = _),
            o);
      }
      if (typeof i != "string") throw Error(n(284));
      if (!u._owner) throw Error(n(290, i));
    }
    return i;
  }
  function Ec(i, o) {
    throw (
      ((i = Object.prototype.toString.call(o)),
      Error(
        n(
          31,
          i === "[object Object]"
            ? "object with keys {" + Object.keys(o).join(", ") + "}"
            : i
        )
      ))
    );
  }
  function cv(i) {
    var o = i._init;
    return o(i._payload);
  }
  function dv(i) {
    function o(z, O) {
      if (i) {
        var H = z.deletions;
        H === null ? ((z.deletions = [O]), (z.flags |= 16)) : H.push(O);
      }
    }
    function u(z, O) {
      if (!i) return null;
      for (; O !== null; ) o(z, O), (O = O.sibling);
      return null;
    }
    function h(z, O) {
      for (z = new Map(); O !== null; )
        O.key !== null ? z.set(O.key, O) : z.set(O.index, O), (O = O.sibling);
      return z;
    }
    function m(z, O) {
      return (z = Li(z, O)), (z.index = 0), (z.sibling = null), z;
    }
    function _(z, O, H) {
      return (
        (z.index = H),
        i
          ? ((H = z.alternate),
            H !== null
              ? ((H = H.index), H < O ? ((z.flags |= 2), O) : H)
              : ((z.flags |= 2), O))
          : ((z.flags |= 1048576), O)
      );
    }
    function T(z) {
      return i && z.alternate === null && (z.flags |= 2), z;
    }
    function R(z, O, H, re) {
      return O === null || O.tag !== 6
        ? ((O = ep(H, z.mode, re)), (O.return = z), O)
        : ((O = m(O, H)), (O.return = z), O);
    }
    function V(z, O, H, re) {
      var fe = H.type;
      return fe === C
        ? ee(z, O, H.props.children, re, H.key)
        : O !== null &&
          (O.elementType === fe ||
            (typeof fe == "object" &&
              fe !== null &&
              fe.$$typeof === Mt &&
              cv(fe) === O.type))
        ? ((re = m(O, H.props)), (re.ref = xl(z, O, H)), (re.return = z), re)
        : ((re = qc(H.type, H.key, H.props, null, z.mode, re)),
          (re.ref = xl(z, O, H)),
          (re.return = z),
          re);
    }
    function W(z, O, H, re) {
      return O === null ||
        O.tag !== 4 ||
        O.stateNode.containerInfo !== H.containerInfo ||
        O.stateNode.implementation !== H.implementation
        ? ((O = tp(H, z.mode, re)), (O.return = z), O)
        : ((O = m(O, H.children || [])), (O.return = z), O);
    }
    function ee(z, O, H, re, fe) {
      return O === null || O.tag !== 7
        ? ((O = Hs(H, z.mode, re, fe)), (O.return = z), O)
        : ((O = m(O, H)), (O.return = z), O);
    }
    function te(z, O, H) {
      if ((typeof O == "string" && O !== "") || typeof O == "number")
        return (O = ep("" + O, z.mode, H)), (O.return = z), O;
      if (typeof O == "object" && O !== null) {
        switch (O.$$typeof) {
          case ne:
            return (
              (H = qc(O.type, O.key, O.props, null, z.mode, H)),
              (H.ref = xl(z, null, O)),
              (H.return = z),
              H
            );
          case oe:
            return (O = tp(O, z.mode, H)), (O.return = z), O;
          case Mt:
            var re = O._init;
            return te(z, re(O._payload), H);
        }
        if (Lr(O) || ge(O))
          return (O = Hs(O, z.mode, H, null)), (O.return = z), O;
        Ec(z, O);
      }
      return null;
    }
    function J(z, O, H, re) {
      var fe = O !== null ? O.key : null;
      if ((typeof H == "string" && H !== "") || typeof H == "number")
        return fe !== null ? null : R(z, O, "" + H, re);
      if (typeof H == "object" && H !== null) {
        switch (H.$$typeof) {
          case ne:
            return H.key === fe ? V(z, O, H, re) : null;
          case oe:
            return H.key === fe ? W(z, O, H, re) : null;
          case Mt:
            return (fe = H._init), J(z, O, fe(H._payload), re);
        }
        if (Lr(H) || ge(H)) return fe !== null ? null : ee(z, O, H, re, null);
        Ec(z, H);
      }
      return null;
    }
    function le(z, O, H, re, fe) {
      if ((typeof re == "string" && re !== "") || typeof re == "number")
        return (z = z.get(H) || null), R(O, z, "" + re, fe);
      if (typeof re == "object" && re !== null) {
        switch (re.$$typeof) {
          case ne:
            return (
              (z = z.get(re.key === null ? H : re.key) || null), V(O, z, re, fe)
            );
          case oe:
            return (
              (z = z.get(re.key === null ? H : re.key) || null), W(O, z, re, fe)
            );
          case Mt:
            var ve = re._init;
            return le(z, O, H, ve(re._payload), fe);
        }
        if (Lr(re) || ge(re))
          return (z = z.get(H) || null), ee(O, z, re, fe, null);
        Ec(O, re);
      }
      return null;
    }
    function de(z, O, H, re) {
      for (
        var fe = null, ve = null, _e = O, Pe = (O = 0), Dt = null;
        _e !== null && Pe < H.length;
        Pe++
      ) {
        _e.index > Pe ? ((Dt = _e), (_e = null)) : (Dt = _e.sibling);
        var Fe = J(z, _e, H[Pe], re);
        if (Fe === null) {
          _e === null && (_e = Dt);
          break;
        }
        i && _e && Fe.alternate === null && o(z, _e),
          (O = _(Fe, O, Pe)),
          ve === null ? (fe = Fe) : (ve.sibling = Fe),
          (ve = Fe),
          (_e = Dt);
      }
      if (Pe === H.length) return u(z, _e), Ze && Os(z, Pe), fe;
      if (_e === null) {
        for (; Pe < H.length; Pe++)
          (_e = te(z, H[Pe], re)),
            _e !== null &&
              ((O = _(_e, O, Pe)),
              ve === null ? (fe = _e) : (ve.sibling = _e),
              (ve = _e));
        return Ze && Os(z, Pe), fe;
      }
      for (_e = h(z, _e); Pe < H.length; Pe++)
        (Dt = le(_e, z, Pe, H[Pe], re)),
          Dt !== null &&
            (i &&
              Dt.alternate !== null &&
              _e.delete(Dt.key === null ? Pe : Dt.key),
            (O = _(Dt, O, Pe)),
            ve === null ? (fe = Dt) : (ve.sibling = Dt),
            (ve = Dt));
      return (
        i &&
          _e.forEach(function (Fi) {
            return o(z, Fi);
          }),
        Ze && Os(z, Pe),
        fe
      );
    }
    function he(z, O, H, re) {
      var fe = ge(H);
      if (typeof fe != "function") throw Error(n(150));
      if (((H = fe.call(H)), H == null)) throw Error(n(151));
      for (
        var ve = (fe = null), _e = O, Pe = (O = 0), Dt = null, Fe = H.next();
        _e !== null && !Fe.done;
        Pe++, Fe = H.next()
      ) {
        _e.index > Pe ? ((Dt = _e), (_e = null)) : (Dt = _e.sibling);
        var Fi = J(z, _e, Fe.value, re);
        if (Fi === null) {
          _e === null && (_e = Dt);
          break;
        }
        i && _e && Fi.alternate === null && o(z, _e),
          (O = _(Fi, O, Pe)),
          ve === null ? (fe = Fi) : (ve.sibling = Fi),
          (ve = Fi),
          (_e = Dt);
      }
      if (Fe.done) return u(z, _e), Ze && Os(z, Pe), fe;
      if (_e === null) {
        for (; !Fe.done; Pe++, Fe = H.next())
          (Fe = te(z, Fe.value, re)),
            Fe !== null &&
              ((O = _(Fe, O, Pe)),
              ve === null ? (fe = Fe) : (ve.sibling = Fe),
              (ve = Fe));
        return Ze && Os(z, Pe), fe;
      }
      for (_e = h(z, _e); !Fe.done; Pe++, Fe = H.next())
        (Fe = le(_e, z, Pe, Fe.value, re)),
          Fe !== null &&
            (i &&
              Fe.alternate !== null &&
              _e.delete(Fe.key === null ? Pe : Fe.key),
            (O = _(Fe, O, Pe)),
            ve === null ? (fe = Fe) : (ve.sibling = Fe),
            (ve = Fe));
      return (
        i &&
          _e.forEach(function (RS) {
            return o(z, RS);
          }),
        Ze && Os(z, Pe),
        fe
      );
    }
    function dt(z, O, H, re) {
      if (
        (typeof H == "object" &&
          H !== null &&
          H.type === C &&
          H.key === null &&
          (H = H.props.children),
        typeof H == "object" && H !== null)
      ) {
        switch (H.$$typeof) {
          case ne:
            e: {
              for (var fe = H.key, ve = O; ve !== null; ) {
                if (ve.key === fe) {
                  if (((fe = H.type), fe === C)) {
                    if (ve.tag === 7) {
                      u(z, ve.sibling),
                        (O = m(ve, H.props.children)),
                        (O.return = z),
                        (z = O);
                      break e;
                    }
                  } else if (
                    ve.elementType === fe ||
                    (typeof fe == "object" &&
                      fe !== null &&
                      fe.$$typeof === Mt &&
                      cv(fe) === ve.type)
                  ) {
                    u(z, ve.sibling),
                      (O = m(ve, H.props)),
                      (O.ref = xl(z, ve, H)),
                      (O.return = z),
                      (z = O);
                    break e;
                  }
                  u(z, ve);
                  break;
                } else o(z, ve);
                ve = ve.sibling;
              }
              H.type === C
                ? ((O = Hs(H.props.children, z.mode, re, H.key)),
                  (O.return = z),
                  (z = O))
                : ((re = qc(H.type, H.key, H.props, null, z.mode, re)),
                  (re.ref = xl(z, O, H)),
                  (re.return = z),
                  (z = re));
            }
            return T(z);
          case oe:
            e: {
              for (ve = H.key; O !== null; ) {
                if (O.key === ve)
                  if (
                    O.tag === 4 &&
                    O.stateNode.containerInfo === H.containerInfo &&
                    O.stateNode.implementation === H.implementation
                  ) {
                    u(z, O.sibling),
                      (O = m(O, H.children || [])),
                      (O.return = z),
                      (z = O);
                    break e;
                  } else {
                    u(z, O);
                    break;
                  }
                else o(z, O);
                O = O.sibling;
              }
              (O = tp(H, z.mode, re)), (O.return = z), (z = O);
            }
            return T(z);
          case Mt:
            return (ve = H._init), dt(z, O, ve(H._payload), re);
        }
        if (Lr(H)) return de(z, O, H, re);
        if (ge(H)) return he(z, O, H, re);
        Ec(z, H);
      }
      return (typeof H == "string" && H !== "") || typeof H == "number"
        ? ((H = "" + H),
          O !== null && O.tag === 6
            ? (u(z, O.sibling), (O = m(O, H)), (O.return = z), (z = O))
            : (u(z, O), (O = ep(H, z.mode, re)), (O.return = z), (z = O)),
          T(z))
        : u(z, O);
    }
    return dt;
  }
  var Zo = dv(!0),
    hv = dv(!1),
    Tc = Ci(null),
    Pc = null,
    ea = null,
    cf = null;
  function df() {
    cf = ea = Pc = null;
  }
  function hf(i) {
    var o = Tc.current;
    Qe(Tc), (i._currentValue = o);
  }
  function ff(i, o, u) {
    for (; i !== null; ) {
      var h = i.alternate;
      if (
        ((i.childLanes & o) !== o
          ? ((i.childLanes |= o), h !== null && (h.childLanes |= o))
          : h !== null && (h.childLanes & o) !== o && (h.childLanes |= o),
        i === u)
      )
        break;
      i = i.return;
    }
  }
  function ta(i, o) {
    (Pc = i),
      (cf = ea = null),
      (i = i.dependencies),
      i !== null &&
        i.firstContext !== null &&
        ((i.lanes & o) !== 0 && (fn = !0), (i.firstContext = null));
  }
  function On(i) {
    var o = i._currentValue;
    if (cf !== i)
      if (((i = { context: i, memoizedValue: o, next: null }), ea === null)) {
        if (Pc === null) throw Error(n(308));
        (ea = i), (Pc.dependencies = { lanes: 0, firstContext: i });
      } else ea = ea.next = i;
    return o;
  }
  var Ms = null;
  function pf(i) {
    Ms === null ? (Ms = [i]) : Ms.push(i);
  }
  function fv(i, o, u, h) {
    var m = o.interleaved;
    return (
      m === null ? ((u.next = u), pf(o)) : ((u.next = m.next), (m.next = u)),
      (o.interleaved = u),
      Yr(i, h)
    );
  }
  function Yr(i, o) {
    i.lanes |= o;
    var u = i.alternate;
    for (u !== null && (u.lanes |= o), u = i, i = i.return; i !== null; )
      (i.childLanes |= o),
        (u = i.alternate),
        u !== null && (u.childLanes |= o),
        (u = i),
        (i = i.return);
    return u.tag === 3 ? u.stateNode : null;
  }
  var ki = !1;
  function mf(i) {
    i.updateQueue = {
      baseState: i.memoizedState,
      firstBaseUpdate: null,
      lastBaseUpdate: null,
      shared: { pending: null, interleaved: null, lanes: 0 },
      effects: null,
    };
  }
  function pv(i, o) {
    (i = i.updateQueue),
      o.updateQueue === i &&
        (o.updateQueue = {
          baseState: i.baseState,
          firstBaseUpdate: i.firstBaseUpdate,
          lastBaseUpdate: i.lastBaseUpdate,
          shared: i.shared,
          effects: i.effects,
        });
  }
  function Jr(i, o) {
    return {
      eventTime: i,
      lane: o,
      tag: 0,
      payload: null,
      callback: null,
      next: null,
    };
  }
  function Ni(i, o, u) {
    var h = i.updateQueue;
    if (h === null) return null;
    if (((h = h.shared), (Le & 2) !== 0)) {
      var m = h.pending;
      return (
        m === null ? (o.next = o) : ((o.next = m.next), (m.next = o)),
        (h.pending = o),
        Yr(i, u)
      );
    }
    return (
      (m = h.interleaved),
      m === null ? ((o.next = o), pf(h)) : ((o.next = m.next), (m.next = o)),
      (h.interleaved = o),
      Yr(i, u)
    );
  }
  function Sc(i, o, u) {
    if (
      ((o = o.updateQueue), o !== null && ((o = o.shared), (u & 4194240) !== 0))
    ) {
      var h = o.lanes;
      (h &= i.pendingLanes), (u |= h), (o.lanes = u), xi(i, u);
    }
  }
  function mv(i, o) {
    var u = i.updateQueue,
      h = i.alternate;
    if (h !== null && ((h = h.updateQueue), u === h)) {
      var m = null,
        _ = null;
      if (((u = u.firstBaseUpdate), u !== null)) {
        do {
          var T = {
            eventTime: u.eventTime,
            lane: u.lane,
            tag: u.tag,
            payload: u.payload,
            callback: u.callback,
            next: null,
          };
          _ === null ? (m = _ = T) : (_ = _.next = T), (u = u.next);
        } while (u !== null);
        _ === null ? (m = _ = o) : (_ = _.next = o);
      } else m = _ = o;
      (u = {
        baseState: h.baseState,
        firstBaseUpdate: m,
        lastBaseUpdate: _,
        shared: h.shared,
        effects: h.effects,
      }),
        (i.updateQueue = u);
      return;
    }
    (i = u.lastBaseUpdate),
      i === null ? (u.firstBaseUpdate = o) : (i.next = o),
      (u.lastBaseUpdate = o);
  }
  function Ic(i, o, u, h) {
    var m = i.updateQueue;
    ki = !1;
    var _ = m.firstBaseUpdate,
      T = m.lastBaseUpdate,
      R = m.shared.pending;
    if (R !== null) {
      m.shared.pending = null;
      var V = R,
        W = V.next;
      (V.next = null), T === null ? (_ = W) : (T.next = W), (T = V);
      var ee = i.alternate;
      ee !== null &&
        ((ee = ee.updateQueue),
        (R = ee.lastBaseUpdate),
        R !== T &&
          (R === null ? (ee.firstBaseUpdate = W) : (R.next = W),
          (ee.lastBaseUpdate = V)));
    }
    if (_ !== null) {
      var te = m.baseState;
      (T = 0), (ee = W = V = null), (R = _);
      do {
        var J = R.lane,
          le = R.eventTime;
        if ((h & J) === J) {
          ee !== null &&
            (ee = ee.next =
              {
                eventTime: le,
                lane: 0,
                tag: R.tag,
                payload: R.payload,
                callback: R.callback,
                next: null,
              });
          e: {
            var de = i,
              he = R;
            switch (((J = o), (le = u), he.tag)) {
              case 1:
                if (((de = he.payload), typeof de == "function")) {
                  te = de.call(le, te, J);
                  break e;
                }
                te = de;
                break e;
              case 3:
                de.flags = (de.flags & -65537) | 128;
              case 0:
                if (
                  ((de = he.payload),
                  (J = typeof de == "function" ? de.call(le, te, J) : de),
                  J == null)
                )
                  break e;
                te = ae({}, te, J);
                break e;
              case 2:
                ki = !0;
            }
          }
          R.callback !== null &&
            R.lane !== 0 &&
            ((i.flags |= 64),
            (J = m.effects),
            J === null ? (m.effects = [R]) : J.push(R));
        } else
          (le = {
            eventTime: le,
            lane: J,
            tag: R.tag,
            payload: R.payload,
            callback: R.callback,
            next: null,
          }),
            ee === null ? ((W = ee = le), (V = te)) : (ee = ee.next = le),
            (T |= J);
        if (((R = R.next), R === null)) {
          if (((R = m.shared.pending), R === null)) break;
          (J = R),
            (R = J.next),
            (J.next = null),
            (m.lastBaseUpdate = J),
            (m.shared.pending = null);
        }
      } while (!0);
      if (
        (ee === null && (V = te),
        (m.baseState = V),
        (m.firstBaseUpdate = W),
        (m.lastBaseUpdate = ee),
        (o = m.shared.interleaved),
        o !== null)
      ) {
        m = o;
        do (T |= m.lane), (m = m.next);
        while (m !== o);
      } else _ === null && (m.shared.lanes = 0);
      (Us |= T), (i.lanes = T), (i.memoizedState = te);
    }
  }
  function gv(i, o, u) {
    if (((i = o.effects), (o.effects = null), i !== null))
      for (o = 0; o < i.length; o++) {
        var h = i[o],
          m = h.callback;
        if (m !== null) {
          if (((h.callback = null), (h = u), typeof m != "function"))
            throw Error(n(191, m));
          m.call(h);
        }
      }
  }
  var El = {},
    gr = Ci(El),
    Tl = Ci(El),
    Pl = Ci(El);
  function Ls(i) {
    if (i === El) throw Error(n(174));
    return i;
  }
  function gf(i, o) {
    switch ((Ge(Pl, o), Ge(Tl, i), Ge(gr, El), (i = o.nodeType), i)) {
      case 9:
      case 11:
        o = (o = o.documentElement) ? o.namespaceURI : Tt(null, "");
        break;
      default:
        (i = i === 8 ? o.parentNode : o),
          (o = i.namespaceURI || null),
          (i = i.tagName),
          (o = Tt(o, i));
    }
    Qe(gr), Ge(gr, o);
  }
  function na() {
    Qe(gr), Qe(Tl), Qe(Pl);
  }
  function yv(i) {
    Ls(Pl.current);
    var o = Ls(gr.current),
      u = Tt(o, i.type);
    o !== u && (Ge(Tl, i), Ge(gr, u));
  }
  function yf(i) {
    Tl.current === i && (Qe(gr), Qe(Tl));
  }
  var tt = Ci(0);
  function bc(i) {
    for (var o = i; o !== null; ) {
      if (o.tag === 13) {
        var u = o.memoizedState;
        if (
          u !== null &&
          ((u = u.dehydrated), u === null || u.data === "$?" || u.data === "$!")
        )
          return o;
      } else if (o.tag === 19 && o.memoizedProps.revealOrder !== void 0) {
        if ((o.flags & 128) !== 0) return o;
      } else if (o.child !== null) {
        (o.child.return = o), (o = o.child);
        continue;
      }
      if (o === i) break;
      for (; o.sibling === null; ) {
        if (o.return === null || o.return === i) return null;
        o = o.return;
      }
      (o.sibling.return = o.return), (o = o.sibling);
    }
    return null;
  }
  var vf = [];
  function _f() {
    for (var i = 0; i < vf.length; i++)
      vf[i]._workInProgressVersionPrimary = null;
    vf.length = 0;
  }
  var Cc = Y.ReactCurrentDispatcher,
    wf = Y.ReactCurrentBatchConfig,
    Fs = 0,
    nt = null,
    St = null,
    Nt = null,
    Ac = !1,
    Sl = !1,
    Il = 0,
    JP = 0;
  function Kt() {
    throw Error(n(321));
  }
  function xf(i, o) {
    if (o === null) return !1;
    for (var u = 0; u < o.length && u < i.length; u++)
      if (!Zn(i[u], o[u])) return !1;
    return !0;
  }
  function Ef(i, o, u, h, m, _) {
    if (
      ((Fs = _),
      (nt = o),
      (o.memoizedState = null),
      (o.updateQueue = null),
      (o.lanes = 0),
      (Cc.current = i === null || i.memoizedState === null ? nS : rS),
      (i = u(h, m)),
      Sl)
    ) {
      _ = 0;
      do {
        if (((Sl = !1), (Il = 0), 25 <= _)) throw Error(n(301));
        (_ += 1),
          (Nt = St = null),
          (o.updateQueue = null),
          (Cc.current = iS),
          (i = u(h, m));
      } while (Sl);
    }
    if (
      ((Cc.current = Nc),
      (o = St !== null && St.next !== null),
      (Fs = 0),
      (Nt = St = nt = null),
      (Ac = !1),
      o)
    )
      throw Error(n(300));
    return i;
  }
  function Tf() {
    var i = Il !== 0;
    return (Il = 0), i;
  }
  function yr() {
    var i = {
      memoizedState: null,
      baseState: null,
      baseQueue: null,
      queue: null,
      next: null,
    };
    return Nt === null ? (nt.memoizedState = Nt = i) : (Nt = Nt.next = i), Nt;
  }
  function Mn() {
    if (St === null) {
      var i = nt.alternate;
      i = i !== null ? i.memoizedState : null;
    } else i = St.next;
    var o = Nt === null ? nt.memoizedState : Nt.next;
    if (o !== null) (Nt = o), (St = i);
    else {
      if (i === null) throw Error(n(310));
      (St = i),
        (i = {
          memoizedState: St.memoizedState,
          baseState: St.baseState,
          baseQueue: St.baseQueue,
          queue: St.queue,
          next: null,
        }),
        Nt === null ? (nt.memoizedState = Nt = i) : (Nt = Nt.next = i);
    }
    return Nt;
  }
  function bl(i, o) {
    return typeof o == "function" ? o(i) : o;
  }
  function Pf(i) {
    var o = Mn(),
      u = o.queue;
    if (u === null) throw Error(n(311));
    u.lastRenderedReducer = i;
    var h = St,
      m = h.baseQueue,
      _ = u.pending;
    if (_ !== null) {
      if (m !== null) {
        var T = m.next;
        (m.next = _.next), (_.next = T);
      }
      (h.baseQueue = m = _), (u.pending = null);
    }
    if (m !== null) {
      (_ = m.next), (h = h.baseState);
      var R = (T = null),
        V = null,
        W = _;
      do {
        var ee = W.lane;
        if ((Fs & ee) === ee)
          V !== null &&
            (V = V.next =
              {
                lane: 0,
                action: W.action,
                hasEagerState: W.hasEagerState,
                eagerState: W.eagerState,
                next: null,
              }),
            (h = W.hasEagerState ? W.eagerState : i(h, W.action));
        else {
          var te = {
            lane: ee,
            action: W.action,
            hasEagerState: W.hasEagerState,
            eagerState: W.eagerState,
            next: null,
          };
          V === null ? ((R = V = te), (T = h)) : (V = V.next = te),
            (nt.lanes |= ee),
            (Us |= ee);
        }
        W = W.next;
      } while (W !== null && W !== _);
      V === null ? (T = h) : (V.next = R),
        Zn(h, o.memoizedState) || (fn = !0),
        (o.memoizedState = h),
        (o.baseState = T),
        (o.baseQueue = V),
        (u.lastRenderedState = h);
    }
    if (((i = u.interleaved), i !== null)) {
      m = i;
      do (_ = m.lane), (nt.lanes |= _), (Us |= _), (m = m.next);
      while (m !== i);
    } else m === null && (u.lanes = 0);
    return [o.memoizedState, u.dispatch];
  }
  function Sf(i) {
    var o = Mn(),
      u = o.queue;
    if (u === null) throw Error(n(311));
    u.lastRenderedReducer = i;
    var h = u.dispatch,
      m = u.pending,
      _ = o.memoizedState;
    if (m !== null) {
      u.pending = null;
      var T = (m = m.next);
      do (_ = i(_, T.action)), (T = T.next);
      while (T !== m);
      Zn(_, o.memoizedState) || (fn = !0),
        (o.memoizedState = _),
        o.baseQueue === null && (o.baseState = _),
        (u.lastRenderedState = _);
    }
    return [_, h];
  }
  function vv() {}
  function _v(i, o) {
    var u = nt,
      h = Mn(),
      m = o(),
      _ = !Zn(h.memoizedState, m);
    if (
      (_ && ((h.memoizedState = m), (fn = !0)),
      (h = h.queue),
      If(Ev.bind(null, u, h, i), [i]),
      h.getSnapshot !== o || _ || (Nt !== null && Nt.memoizedState.tag & 1))
    ) {
      if (
        ((u.flags |= 2048),
        Cl(9, xv.bind(null, u, h, m, o), void 0, null),
        jt === null)
      )
        throw Error(n(349));
      (Fs & 30) !== 0 || wv(u, o, m);
    }
    return m;
  }
  function wv(i, o, u) {
    (i.flags |= 16384),
      (i = { getSnapshot: o, value: u }),
      (o = nt.updateQueue),
      o === null
        ? ((o = { lastEffect: null, stores: null }),
          (nt.updateQueue = o),
          (o.stores = [i]))
        : ((u = o.stores), u === null ? (o.stores = [i]) : u.push(i));
  }
  function xv(i, o, u, h) {
    (o.value = u), (o.getSnapshot = h), Tv(o) && Pv(i);
  }
  function Ev(i, o, u) {
    return u(function () {
      Tv(o) && Pv(i);
    });
  }
  function Tv(i) {
    var o = i.getSnapshot;
    i = i.value;
    try {
      var u = o();
      return !Zn(i, u);
    } catch {
      return !0;
    }
  }
  function Pv(i) {
    var o = Yr(i, 1);
    o !== null && ir(o, i, 1, -1);
  }
  function Sv(i) {
    var o = yr();
    return (
      typeof i == "function" && (i = i()),
      (o.memoizedState = o.baseState = i),
      (i = {
        pending: null,
        interleaved: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: bl,
        lastRenderedState: i,
      }),
      (o.queue = i),
      (i = i.dispatch = tS.bind(null, nt, i)),
      [o.memoizedState, i]
    );
  }
  function Cl(i, o, u, h) {
    return (
      (i = { tag: i, create: o, destroy: u, deps: h, next: null }),
      (o = nt.updateQueue),
      o === null
        ? ((o = { lastEffect: null, stores: null }),
          (nt.updateQueue = o),
          (o.lastEffect = i.next = i))
        : ((u = o.lastEffect),
          u === null
            ? (o.lastEffect = i.next = i)
            : ((h = u.next), (u.next = i), (i.next = h), (o.lastEffect = i))),
      i
    );
  }
  function Iv() {
    return Mn().memoizedState;
  }
  function Rc(i, o, u, h) {
    var m = yr();
    (nt.flags |= i),
      (m.memoizedState = Cl(1 | o, u, void 0, h === void 0 ? null : h));
  }
  function kc(i, o, u, h) {
    var m = Mn();
    h = h === void 0 ? null : h;
    var _ = void 0;
    if (St !== null) {
      var T = St.memoizedState;
      if (((_ = T.destroy), h !== null && xf(h, T.deps))) {
        m.memoizedState = Cl(o, u, _, h);
        return;
      }
    }
    (nt.flags |= i), (m.memoizedState = Cl(1 | o, u, _, h));
  }
  function bv(i, o) {
    return Rc(8390656, 8, i, o);
  }
  function If(i, o) {
    return kc(2048, 8, i, o);
  }
  function Cv(i, o) {
    return kc(4, 2, i, o);
  }
  function Av(i, o) {
    return kc(4, 4, i, o);
  }
  function Rv(i, o) {
    if (typeof o == "function")
      return (
        (i = i()),
        o(i),
        function () {
          o(null);
        }
      );
    if (o != null)
      return (
        (i = i()),
        (o.current = i),
        function () {
          o.current = null;
        }
      );
  }
  function kv(i, o, u) {
    return (
      (u = u != null ? u.concat([i]) : null), kc(4, 4, Rv.bind(null, o, i), u)
    );
  }
  function bf() {}
  function Nv(i, o) {
    var u = Mn();
    o = o === void 0 ? null : o;
    var h = u.memoizedState;
    return h !== null && o !== null && xf(o, h[1])
      ? h[0]
      : ((u.memoizedState = [i, o]), i);
  }
  function jv(i, o) {
    var u = Mn();
    o = o === void 0 ? null : o;
    var h = u.memoizedState;
    return h !== null && o !== null && xf(o, h[1])
      ? h[0]
      : ((i = i()), (u.memoizedState = [i, o]), i);
  }
  function Dv(i, o, u) {
    return (Fs & 21) === 0
      ? (i.baseState && ((i.baseState = !1), (fn = !0)), (i.memoizedState = u))
      : (Zn(u, o) ||
          ((u = Cs()), (nt.lanes |= u), (Us |= u), (i.baseState = !0)),
        o);
  }
  function ZP(i, o) {
    var u = De;
    (De = u !== 0 && 4 > u ? u : 4), i(!0);
    var h = wf.transition;
    wf.transition = {};
    try {
      i(!1), o();
    } finally {
      (De = u), (wf.transition = h);
    }
  }
  function Vv() {
    return Mn().memoizedState;
  }
  function eS(i, o, u) {
    var h = Oi(i);
    if (
      ((u = {
        lane: h,
        action: u,
        hasEagerState: !1,
        eagerState: null,
        next: null,
      }),
      Ov(i))
    )
      Mv(o, u);
    else if (((u = fv(i, o, u, h)), u !== null)) {
      var m = on();
      ir(u, i, h, m), Lv(u, o, h);
    }
  }
  function tS(i, o, u) {
    var h = Oi(i),
      m = {
        lane: h,
        action: u,
        hasEagerState: !1,
        eagerState: null,
        next: null,
      };
    if (Ov(i)) Mv(o, m);
    else {
      var _ = i.alternate;
      if (
        i.lanes === 0 &&
        (_ === null || _.lanes === 0) &&
        ((_ = o.lastRenderedReducer), _ !== null)
      )
        try {
          var T = o.lastRenderedState,
            R = _(T, u);
          if (((m.hasEagerState = !0), (m.eagerState = R), Zn(R, T))) {
            var V = o.interleaved;
            V === null
              ? ((m.next = m), pf(o))
              : ((m.next = V.next), (V.next = m)),
              (o.interleaved = m);
            return;
          }
        } catch {
        } finally {
        }
      (u = fv(i, o, m, h)),
        u !== null && ((m = on()), ir(u, i, h, m), Lv(u, o, h));
    }
  }
  function Ov(i) {
    var o = i.alternate;
    return i === nt || (o !== null && o === nt);
  }
  function Mv(i, o) {
    Sl = Ac = !0;
    var u = i.pending;
    u === null ? (o.next = o) : ((o.next = u.next), (u.next = o)),
      (i.pending = o);
  }
  function Lv(i, o, u) {
    if ((u & 4194240) !== 0) {
      var h = o.lanes;
      (h &= i.pendingLanes), (u |= h), (o.lanes = u), xi(i, u);
    }
  }
  var Nc = {
      readContext: On,
      useCallback: Kt,
      useContext: Kt,
      useEffect: Kt,
      useImperativeHandle: Kt,
      useInsertionEffect: Kt,
      useLayoutEffect: Kt,
      useMemo: Kt,
      useReducer: Kt,
      useRef: Kt,
      useState: Kt,
      useDebugValue: Kt,
      useDeferredValue: Kt,
      useTransition: Kt,
      useMutableSource: Kt,
      useSyncExternalStore: Kt,
      useId: Kt,
      unstable_isNewReconciler: !1,
    },
    nS = {
      readContext: On,
      useCallback: function (i, o) {
        return (yr().memoizedState = [i, o === void 0 ? null : o]), i;
      },
      useContext: On,
      useEffect: bv,
      useImperativeHandle: function (i, o, u) {
        return (
          (u = u != null ? u.concat([i]) : null),
          Rc(4194308, 4, Rv.bind(null, o, i), u)
        );
      },
      useLayoutEffect: function (i, o) {
        return Rc(4194308, 4, i, o);
      },
      useInsertionEffect: function (i, o) {
        return Rc(4, 2, i, o);
      },
      useMemo: function (i, o) {
        var u = yr();
        return (
          (o = o === void 0 ? null : o),
          (i = i()),
          (u.memoizedState = [i, o]),
          i
        );
      },
      useReducer: function (i, o, u) {
        var h = yr();
        return (
          (o = u !== void 0 ? u(o) : o),
          (h.memoizedState = h.baseState = o),
          (i = {
            pending: null,
            interleaved: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: i,
            lastRenderedState: o,
          }),
          (h.queue = i),
          (i = i.dispatch = eS.bind(null, nt, i)),
          [h.memoizedState, i]
        );
      },
      useRef: function (i) {
        var o = yr();
        return (i = { current: i }), (o.memoizedState = i);
      },
      useState: Sv,
      useDebugValue: bf,
      useDeferredValue: function (i) {
        return (yr().memoizedState = i);
      },
      useTransition: function () {
        var i = Sv(!1),
          o = i[0];
        return (i = ZP.bind(null, i[1])), (yr().memoizedState = i), [o, i];
      },
      useMutableSource: function () {},
      useSyncExternalStore: function (i, o, u) {
        var h = nt,
          m = yr();
        if (Ze) {
          if (u === void 0) throw Error(n(407));
          u = u();
        } else {
          if (((u = o()), jt === null)) throw Error(n(349));
          (Fs & 30) !== 0 || wv(h, o, u);
        }
        m.memoizedState = u;
        var _ = { value: u, getSnapshot: o };
        return (
          (m.queue = _),
          bv(Ev.bind(null, h, _, i), [i]),
          (h.flags |= 2048),
          Cl(9, xv.bind(null, h, _, u, o), void 0, null),
          u
        );
      },
      useId: function () {
        var i = yr(),
          o = jt.identifierPrefix;
        if (Ze) {
          var u = Xr,
            h = Qr;
          (u = (h & ~(1 << (32 - nn(h) - 1))).toString(32) + u),
            (o = ":" + o + "R" + u),
            (u = Il++),
            0 < u && (o += "H" + u.toString(32)),
            (o += ":");
        } else (u = JP++), (o = ":" + o + "r" + u.toString(32) + ":");
        return (i.memoizedState = o);
      },
      unstable_isNewReconciler: !1,
    },
    rS = {
      readContext: On,
      useCallback: Nv,
      useContext: On,
      useEffect: If,
      useImperativeHandle: kv,
      useInsertionEffect: Cv,
      useLayoutEffect: Av,
      useMemo: jv,
      useReducer: Pf,
      useRef: Iv,
      useState: function () {
        return Pf(bl);
      },
      useDebugValue: bf,
      useDeferredValue: function (i) {
        var o = Mn();
        return Dv(o, St.memoizedState, i);
      },
      useTransition: function () {
        var i = Pf(bl)[0],
          o = Mn().memoizedState;
        return [i, o];
      },
      useMutableSource: vv,
      useSyncExternalStore: _v,
      useId: Vv,
      unstable_isNewReconciler: !1,
    },
    iS = {
      readContext: On,
      useCallback: Nv,
      useContext: On,
      useEffect: If,
      useImperativeHandle: kv,
      useInsertionEffect: Cv,
      useLayoutEffect: Av,
      useMemo: jv,
      useReducer: Sf,
      useRef: Iv,
      useState: function () {
        return Sf(bl);
      },
      useDebugValue: bf,
      useDeferredValue: function (i) {
        var o = Mn();
        return St === null ? (o.memoizedState = i) : Dv(o, St.memoizedState, i);
      },
      useTransition: function () {
        var i = Sf(bl)[0],
          o = Mn().memoizedState;
        return [i, o];
      },
      useMutableSource: vv,
      useSyncExternalStore: _v,
      useId: Vv,
      unstable_isNewReconciler: !1,
    };
  function tr(i, o) {
    if (i && i.defaultProps) {
      (o = ae({}, o)), (i = i.defaultProps);
      for (var u in i) o[u] === void 0 && (o[u] = i[u]);
      return o;
    }
    return o;
  }
  function Cf(i, o, u, h) {
    (o = i.memoizedState),
      (u = u(h, o)),
      (u = u == null ? o : ae({}, o, u)),
      (i.memoizedState = u),
      i.lanes === 0 && (i.updateQueue.baseState = u);
  }
  var jc = {
    isMounted: function (i) {
      return (i = i._reactInternals) ? qn(i) === i : !1;
    },
    enqueueSetState: function (i, o, u) {
      i = i._reactInternals;
      var h = on(),
        m = Oi(i),
        _ = Jr(h, m);
      (_.payload = o),
        u != null && (_.callback = u),
        (o = Ni(i, _, m)),
        o !== null && (ir(o, i, m, h), Sc(o, i, m));
    },
    enqueueReplaceState: function (i, o, u) {
      i = i._reactInternals;
      var h = on(),
        m = Oi(i),
        _ = Jr(h, m);
      (_.tag = 1),
        (_.payload = o),
        u != null && (_.callback = u),
        (o = Ni(i, _, m)),
        o !== null && (ir(o, i, m, h), Sc(o, i, m));
    },
    enqueueForceUpdate: function (i, o) {
      i = i._reactInternals;
      var u = on(),
        h = Oi(i),
        m = Jr(u, h);
      (m.tag = 2),
        o != null && (m.callback = o),
        (o = Ni(i, m, h)),
        o !== null && (ir(o, i, h, u), Sc(o, i, h));
    },
  };
  function Fv(i, o, u, h, m, _, T) {
    return (
      (i = i.stateNode),
      typeof i.shouldComponentUpdate == "function"
        ? i.shouldComponentUpdate(h, _, T)
        : o.prototype && o.prototype.isPureReactComponent
        ? !pl(u, h) || !pl(m, _)
        : !0
    );
  }
  function Uv(i, o, u) {
    var h = !1,
      m = Ai,
      _ = o.contextType;
    return (
      typeof _ == "object" && _ !== null
        ? (_ = On(_))
        : ((m = hn(o) ? Ds : Gt.current),
          (h = o.contextTypes),
          (_ = (h = h != null) ? Qo(i, m) : Ai)),
      (o = new o(u, _)),
      (i.memoizedState =
        o.state !== null && o.state !== void 0 ? o.state : null),
      (o.updater = jc),
      (i.stateNode = o),
      (o._reactInternals = i),
      h &&
        ((i = i.stateNode),
        (i.__reactInternalMemoizedUnmaskedChildContext = m),
        (i.__reactInternalMemoizedMaskedChildContext = _)),
      o
    );
  }
  function Bv(i, o, u, h) {
    (i = o.state),
      typeof o.componentWillReceiveProps == "function" &&
        o.componentWillReceiveProps(u, h),
      typeof o.UNSAFE_componentWillReceiveProps == "function" &&
        o.UNSAFE_componentWillReceiveProps(u, h),
      o.state !== i && jc.enqueueReplaceState(o, o.state, null);
  }
  function Af(i, o, u, h) {
    var m = i.stateNode;
    (m.props = u), (m.state = i.memoizedState), (m.refs = {}), mf(i);
    var _ = o.contextType;
    typeof _ == "object" && _ !== null
      ? (m.context = On(_))
      : ((_ = hn(o) ? Ds : Gt.current), (m.context = Qo(i, _))),
      (m.state = i.memoizedState),
      (_ = o.getDerivedStateFromProps),
      typeof _ == "function" && (Cf(i, o, _, u), (m.state = i.memoizedState)),
      typeof o.getDerivedStateFromProps == "function" ||
        typeof m.getSnapshotBeforeUpdate == "function" ||
        (typeof m.UNSAFE_componentWillMount != "function" &&
          typeof m.componentWillMount != "function") ||
        ((o = m.state),
        typeof m.componentWillMount == "function" && m.componentWillMount(),
        typeof m.UNSAFE_componentWillMount == "function" &&
          m.UNSAFE_componentWillMount(),
        o !== m.state && jc.enqueueReplaceState(m, m.state, null),
        Ic(i, u, m, h),
        (m.state = i.memoizedState)),
      typeof m.componentDidMount == "function" && (i.flags |= 4194308);
  }
  function ra(i, o) {
    try {
      var u = "",
        h = o;
      do (u += Re(h)), (h = h.return);
      while (h);
      var m = u;
    } catch (_) {
      m =
        `
Error generating stack: ` +
        _.message +
        `
` +
        _.stack;
    }
    return { value: i, source: o, stack: m, digest: null };
  }
  function Rf(i, o, u) {
    return { value: i, source: null, stack: u ?? null, digest: o ?? null };
  }
  function kf(i, o) {
    try {
      console.error(o.value);
    } catch (u) {
      setTimeout(function () {
        throw u;
      });
    }
  }
  var sS = typeof WeakMap == "function" ? WeakMap : Map;
  function zv(i, o, u) {
    (u = Jr(-1, u)), (u.tag = 3), (u.payload = { element: null });
    var h = o.value;
    return (
      (u.callback = function () {
        Uc || ((Uc = !0), (qf = h)), kf(i, o);
      }),
      u
    );
  }
  function $v(i, o, u) {
    (u = Jr(-1, u)), (u.tag = 3);
    var h = i.type.getDerivedStateFromError;
    if (typeof h == "function") {
      var m = o.value;
      (u.payload = function () {
        return h(m);
      }),
        (u.callback = function () {
          kf(i, o);
        });
    }
    var _ = i.stateNode;
    return (
      _ !== null &&
        typeof _.componentDidCatch == "function" &&
        (u.callback = function () {
          kf(i, o),
            typeof h != "function" &&
              (Di === null ? (Di = new Set([this])) : Di.add(this));
          var T = o.stack;
          this.componentDidCatch(o.value, {
            componentStack: T !== null ? T : "",
          });
        }),
      u
    );
  }
  function Hv(i, o, u) {
    var h = i.pingCache;
    if (h === null) {
      h = i.pingCache = new sS();
      var m = new Set();
      h.set(o, m);
    } else (m = h.get(o)), m === void 0 && ((m = new Set()), h.set(o, m));
    m.has(u) || (m.add(u), (i = _S.bind(null, i, o, u)), o.then(i, i));
  }
  function Wv(i) {
    do {
      var o;
      if (
        ((o = i.tag === 13) &&
          ((o = i.memoizedState),
          (o = o !== null ? o.dehydrated !== null : !0)),
        o)
      )
        return i;
      i = i.return;
    } while (i !== null);
    return null;
  }
  function qv(i, o, u, h, m) {
    return (i.mode & 1) === 0
      ? (i === o
          ? (i.flags |= 65536)
          : ((i.flags |= 128),
            (u.flags |= 131072),
            (u.flags &= -52805),
            u.tag === 1 &&
              (u.alternate === null
                ? (u.tag = 17)
                : ((o = Jr(-1, 1)), (o.tag = 2), Ni(u, o, 1))),
            (u.lanes |= 1)),
        i)
      : ((i.flags |= 65536), (i.lanes = m), i);
  }
  var oS = Y.ReactCurrentOwner,
    fn = !1;
  function sn(i, o, u, h) {
    o.child = i === null ? hv(o, null, u, h) : Zo(o, i.child, u, h);
  }
  function Gv(i, o, u, h, m) {
    u = u.render;
    var _ = o.ref;
    return (
      ta(o, m),
      (h = Ef(i, o, u, h, _, m)),
      (u = Tf()),
      i !== null && !fn
        ? ((o.updateQueue = i.updateQueue),
          (o.flags &= -2053),
          (i.lanes &= ~m),
          Zr(i, o, m))
        : (Ze && u && sf(o), (o.flags |= 1), sn(i, o, h, m), o.child)
    );
  }
  function Kv(i, o, u, h, m) {
    if (i === null) {
      var _ = u.type;
      return typeof _ == "function" &&
        !Zf(_) &&
        _.defaultProps === void 0 &&
        u.compare === null &&
        u.defaultProps === void 0
        ? ((o.tag = 15), (o.type = _), Qv(i, o, _, h, m))
        : ((i = qc(u.type, null, h, o, o.mode, m)),
          (i.ref = o.ref),
          (i.return = o),
          (o.child = i));
    }
    if (((_ = i.child), (i.lanes & m) === 0)) {
      var T = _.memoizedProps;
      if (
        ((u = u.compare), (u = u !== null ? u : pl), u(T, h) && i.ref === o.ref)
      )
        return Zr(i, o, m);
    }
    return (
      (o.flags |= 1),
      (i = Li(_, h)),
      (i.ref = o.ref),
      (i.return = o),
      (o.child = i)
    );
  }
  function Qv(i, o, u, h, m) {
    if (i !== null) {
      var _ = i.memoizedProps;
      if (pl(_, h) && i.ref === o.ref)
        if (((fn = !1), (o.pendingProps = h = _), (i.lanes & m) !== 0))
          (i.flags & 131072) !== 0 && (fn = !0);
        else return (o.lanes = i.lanes), Zr(i, o, m);
    }
    return Nf(i, o, u, h, m);
  }
  function Xv(i, o, u) {
    var h = o.pendingProps,
      m = h.children,
      _ = i !== null ? i.memoizedState : null;
    if (h.mode === "hidden")
      if ((o.mode & 1) === 0)
        (o.memoizedState = {
          baseLanes: 0,
          cachePool: null,
          transitions: null,
        }),
          Ge(sa, In),
          (In |= u);
      else {
        if ((u & 1073741824) === 0)
          return (
            (i = _ !== null ? _.baseLanes | u : u),
            (o.lanes = o.childLanes = 1073741824),
            (o.memoizedState = {
              baseLanes: i,
              cachePool: null,
              transitions: null,
            }),
            (o.updateQueue = null),
            Ge(sa, In),
            (In |= i),
            null
          );
        (o.memoizedState = {
          baseLanes: 0,
          cachePool: null,
          transitions: null,
        }),
          (h = _ !== null ? _.baseLanes : u),
          Ge(sa, In),
          (In |= h);
      }
    else
      _ !== null ? ((h = _.baseLanes | u), (o.memoizedState = null)) : (h = u),
        Ge(sa, In),
        (In |= h);
    return sn(i, o, m, u), o.child;
  }
  function Yv(i, o) {
    var u = o.ref;
    ((i === null && u !== null) || (i !== null && i.ref !== u)) &&
      ((o.flags |= 512), (o.flags |= 2097152));
  }
  function Nf(i, o, u, h, m) {
    var _ = hn(u) ? Ds : Gt.current;
    return (
      (_ = Qo(o, _)),
      ta(o, m),
      (u = Ef(i, o, u, h, _, m)),
      (h = Tf()),
      i !== null && !fn
        ? ((o.updateQueue = i.updateQueue),
          (o.flags &= -2053),
          (i.lanes &= ~m),
          Zr(i, o, m))
        : (Ze && h && sf(o), (o.flags |= 1), sn(i, o, u, m), o.child)
    );
  }
  function Jv(i, o, u, h, m) {
    if (hn(u)) {
      var _ = !0;
      yc(o);
    } else _ = !1;
    if ((ta(o, m), o.stateNode === null))
      Vc(i, o), Uv(o, u, h), Af(o, u, h, m), (h = !0);
    else if (i === null) {
      var T = o.stateNode,
        R = o.memoizedProps;
      T.props = R;
      var V = T.context,
        W = u.contextType;
      typeof W == "object" && W !== null
        ? (W = On(W))
        : ((W = hn(u) ? Ds : Gt.current), (W = Qo(o, W)));
      var ee = u.getDerivedStateFromProps,
        te =
          typeof ee == "function" ||
          typeof T.getSnapshotBeforeUpdate == "function";
      te ||
        (typeof T.UNSAFE_componentWillReceiveProps != "function" &&
          typeof T.componentWillReceiveProps != "function") ||
        ((R !== h || V !== W) && Bv(o, T, h, W)),
        (ki = !1);
      var J = o.memoizedState;
      (T.state = J),
        Ic(o, h, T, m),
        (V = o.memoizedState),
        R !== h || J !== V || dn.current || ki
          ? (typeof ee == "function" &&
              (Cf(o, u, ee, h), (V = o.memoizedState)),
            (R = ki || Fv(o, u, R, h, J, V, W))
              ? (te ||
                  (typeof T.UNSAFE_componentWillMount != "function" &&
                    typeof T.componentWillMount != "function") ||
                  (typeof T.componentWillMount == "function" &&
                    T.componentWillMount(),
                  typeof T.UNSAFE_componentWillMount == "function" &&
                    T.UNSAFE_componentWillMount()),
                typeof T.componentDidMount == "function" &&
                  (o.flags |= 4194308))
              : (typeof T.componentDidMount == "function" &&
                  (o.flags |= 4194308),
                (o.memoizedProps = h),
                (o.memoizedState = V)),
            (T.props = h),
            (T.state = V),
            (T.context = W),
            (h = R))
          : (typeof T.componentDidMount == "function" && (o.flags |= 4194308),
            (h = !1));
    } else {
      (T = o.stateNode),
        pv(i, o),
        (R = o.memoizedProps),
        (W = o.type === o.elementType ? R : tr(o.type, R)),
        (T.props = W),
        (te = o.pendingProps),
        (J = T.context),
        (V = u.contextType),
        typeof V == "object" && V !== null
          ? (V = On(V))
          : ((V = hn(u) ? Ds : Gt.current), (V = Qo(o, V)));
      var le = u.getDerivedStateFromProps;
      (ee =
        typeof le == "function" ||
        typeof T.getSnapshotBeforeUpdate == "function") ||
        (typeof T.UNSAFE_componentWillReceiveProps != "function" &&
          typeof T.componentWillReceiveProps != "function") ||
        ((R !== te || J !== V) && Bv(o, T, h, V)),
        (ki = !1),
        (J = o.memoizedState),
        (T.state = J),
        Ic(o, h, T, m);
      var de = o.memoizedState;
      R !== te || J !== de || dn.current || ki
        ? (typeof le == "function" && (Cf(o, u, le, h), (de = o.memoizedState)),
          (W = ki || Fv(o, u, W, h, J, de, V) || !1)
            ? (ee ||
                (typeof T.UNSAFE_componentWillUpdate != "function" &&
                  typeof T.componentWillUpdate != "function") ||
                (typeof T.componentWillUpdate == "function" &&
                  T.componentWillUpdate(h, de, V),
                typeof T.UNSAFE_componentWillUpdate == "function" &&
                  T.UNSAFE_componentWillUpdate(h, de, V)),
              typeof T.componentDidUpdate == "function" && (o.flags |= 4),
              typeof T.getSnapshotBeforeUpdate == "function" &&
                (o.flags |= 1024))
            : (typeof T.componentDidUpdate != "function" ||
                (R === i.memoizedProps && J === i.memoizedState) ||
                (o.flags |= 4),
              typeof T.getSnapshotBeforeUpdate != "function" ||
                (R === i.memoizedProps && J === i.memoizedState) ||
                (o.flags |= 1024),
              (o.memoizedProps = h),
              (o.memoizedState = de)),
          (T.props = h),
          (T.state = de),
          (T.context = V),
          (h = W))
        : (typeof T.componentDidUpdate != "function" ||
            (R === i.memoizedProps && J === i.memoizedState) ||
            (o.flags |= 4),
          typeof T.getSnapshotBeforeUpdate != "function" ||
            (R === i.memoizedProps && J === i.memoizedState) ||
            (o.flags |= 1024),
          (h = !1));
    }
    return jf(i, o, u, h, _, m);
  }
  function jf(i, o, u, h, m, _) {
    Yv(i, o);
    var T = (o.flags & 128) !== 0;
    if (!h && !T) return m && rv(o, u, !1), Zr(i, o, _);
    (h = o.stateNode), (oS.current = o);
    var R =
      T && typeof u.getDerivedStateFromError != "function" ? null : h.render();
    return (
      (o.flags |= 1),
      i !== null && T
        ? ((o.child = Zo(o, i.child, null, _)), (o.child = Zo(o, null, R, _)))
        : sn(i, o, R, _),
      (o.memoizedState = h.state),
      m && rv(o, u, !0),
      o.child
    );
  }
  function Zv(i) {
    var o = i.stateNode;
    o.pendingContext
      ? tv(i, o.pendingContext, o.pendingContext !== o.context)
      : o.context && tv(i, o.context, !1),
      gf(i, o.containerInfo);
  }
  function e0(i, o, u, h, m) {
    return Jo(), uf(m), (o.flags |= 256), sn(i, o, u, h), o.child;
  }
  var Df = { dehydrated: null, treeContext: null, retryLane: 0 };
  function Vf(i) {
    return { baseLanes: i, cachePool: null, transitions: null };
  }
  function t0(i, o, u) {
    var h = o.pendingProps,
      m = tt.current,
      _ = !1,
      T = (o.flags & 128) !== 0,
      R;
    if (
      ((R = T) ||
        (R = i !== null && i.memoizedState === null ? !1 : (m & 2) !== 0),
      R
        ? ((_ = !0), (o.flags &= -129))
        : (i === null || i.memoizedState !== null) && (m |= 1),
      Ge(tt, m & 1),
      i === null)
    )
      return (
        lf(o),
        (i = o.memoizedState),
        i !== null && ((i = i.dehydrated), i !== null)
          ? ((o.mode & 1) === 0
              ? (o.lanes = 1)
              : i.data === "$!"
              ? (o.lanes = 8)
              : (o.lanes = 1073741824),
            null)
          : ((T = h.children),
            (i = h.fallback),
            _
              ? ((h = o.mode),
                (_ = o.child),
                (T = { mode: "hidden", children: T }),
                (h & 1) === 0 && _ !== null
                  ? ((_.childLanes = 0), (_.pendingProps = T))
                  : (_ = Gc(T, h, 0, null)),
                (i = Hs(i, h, u, null)),
                (_.return = o),
                (i.return = o),
                (_.sibling = i),
                (o.child = _),
                (o.child.memoizedState = Vf(u)),
                (o.memoizedState = Df),
                i)
              : Of(o, T))
      );
    if (((m = i.memoizedState), m !== null && ((R = m.dehydrated), R !== null)))
      return aS(i, o, T, h, R, m, u);
    if (_) {
      (_ = h.fallback), (T = o.mode), (m = i.child), (R = m.sibling);
      var V = { mode: "hidden", children: h.children };
      return (
        (T & 1) === 0 && o.child !== m
          ? ((h = o.child),
            (h.childLanes = 0),
            (h.pendingProps = V),
            (o.deletions = null))
          : ((h = Li(m, V)), (h.subtreeFlags = m.subtreeFlags & 14680064)),
        R !== null ? (_ = Li(R, _)) : ((_ = Hs(_, T, u, null)), (_.flags |= 2)),
        (_.return = o),
        (h.return = o),
        (h.sibling = _),
        (o.child = h),
        (h = _),
        (_ = o.child),
        (T = i.child.memoizedState),
        (T =
          T === null
            ? Vf(u)
            : {
                baseLanes: T.baseLanes | u,
                cachePool: null,
                transitions: T.transitions,
              }),
        (_.memoizedState = T),
        (_.childLanes = i.childLanes & ~u),
        (o.memoizedState = Df),
        h
      );
    }
    return (
      (_ = i.child),
      (i = _.sibling),
      (h = Li(_, { mode: "visible", children: h.children })),
      (o.mode & 1) === 0 && (h.lanes = u),
      (h.return = o),
      (h.sibling = null),
      i !== null &&
        ((u = o.deletions),
        u === null ? ((o.deletions = [i]), (o.flags |= 16)) : u.push(i)),
      (o.child = h),
      (o.memoizedState = null),
      h
    );
  }
  function Of(i, o) {
    return (
      (o = Gc({ mode: "visible", children: o }, i.mode, 0, null)),
      (o.return = i),
      (i.child = o)
    );
  }
  function Dc(i, o, u, h) {
    return (
      h !== null && uf(h),
      Zo(o, i.child, null, u),
      (i = Of(o, o.pendingProps.children)),
      (i.flags |= 2),
      (o.memoizedState = null),
      i
    );
  }
  function aS(i, o, u, h, m, _, T) {
    if (u)
      return o.flags & 256
        ? ((o.flags &= -257), (h = Rf(Error(n(422)))), Dc(i, o, T, h))
        : o.memoizedState !== null
        ? ((o.child = i.child), (o.flags |= 128), null)
        : ((_ = h.fallback),
          (m = o.mode),
          (h = Gc({ mode: "visible", children: h.children }, m, 0, null)),
          (_ = Hs(_, m, T, null)),
          (_.flags |= 2),
          (h.return = o),
          (_.return = o),
          (h.sibling = _),
          (o.child = h),
          (o.mode & 1) !== 0 && Zo(o, i.child, null, T),
          (o.child.memoizedState = Vf(T)),
          (o.memoizedState = Df),
          _);
    if ((o.mode & 1) === 0) return Dc(i, o, T, null);
    if (m.data === "$!") {
      if (((h = m.nextSibling && m.nextSibling.dataset), h)) var R = h.dgst;
      return (
        (h = R), (_ = Error(n(419))), (h = Rf(_, h, void 0)), Dc(i, o, T, h)
      );
    }
    if (((R = (T & i.childLanes) !== 0), fn || R)) {
      if (((h = jt), h !== null)) {
        switch (T & -T) {
          case 4:
            m = 2;
            break;
          case 16:
            m = 8;
            break;
          case 64:
          case 128:
          case 256:
          case 512:
          case 1024:
          case 2048:
          case 4096:
          case 8192:
          case 16384:
          case 32768:
          case 65536:
          case 131072:
          case 262144:
          case 524288:
          case 1048576:
          case 2097152:
          case 4194304:
          case 8388608:
          case 16777216:
          case 33554432:
          case 67108864:
            m = 32;
            break;
          case 536870912:
            m = 268435456;
            break;
          default:
            m = 0;
        }
        (m = (m & (h.suspendedLanes | T)) !== 0 ? 0 : m),
          m !== 0 &&
            m !== _.retryLane &&
            ((_.retryLane = m), Yr(i, m), ir(h, i, m, -1));
      }
      return Jf(), (h = Rf(Error(n(421)))), Dc(i, o, T, h);
    }
    return m.data === "$?"
      ? ((o.flags |= 128),
        (o.child = i.child),
        (o = wS.bind(null, i)),
        (m._reactRetry = o),
        null)
      : ((i = _.treeContext),
        (Sn = bi(m.nextSibling)),
        (Pn = o),
        (Ze = !0),
        (er = null),
        i !== null &&
          ((Dn[Vn++] = Qr),
          (Dn[Vn++] = Xr),
          (Dn[Vn++] = Vs),
          (Qr = i.id),
          (Xr = i.overflow),
          (Vs = o)),
        (o = Of(o, h.children)),
        (o.flags |= 4096),
        o);
  }
  function n0(i, o, u) {
    i.lanes |= o;
    var h = i.alternate;
    h !== null && (h.lanes |= o), ff(i.return, o, u);
  }
  function Mf(i, o, u, h, m) {
    var _ = i.memoizedState;
    _ === null
      ? (i.memoizedState = {
          isBackwards: o,
          rendering: null,
          renderingStartTime: 0,
          last: h,
          tail: u,
          tailMode: m,
        })
      : ((_.isBackwards = o),
        (_.rendering = null),
        (_.renderingStartTime = 0),
        (_.last = h),
        (_.tail = u),
        (_.tailMode = m));
  }
  function r0(i, o, u) {
    var h = o.pendingProps,
      m = h.revealOrder,
      _ = h.tail;
    if ((sn(i, o, h.children, u), (h = tt.current), (h & 2) !== 0))
      (h = (h & 1) | 2), (o.flags |= 128);
    else {
      if (i !== null && (i.flags & 128) !== 0)
        e: for (i = o.child; i !== null; ) {
          if (i.tag === 13) i.memoizedState !== null && n0(i, u, o);
          else if (i.tag === 19) n0(i, u, o);
          else if (i.child !== null) {
            (i.child.return = i), (i = i.child);
            continue;
          }
          if (i === o) break e;
          for (; i.sibling === null; ) {
            if (i.return === null || i.return === o) break e;
            i = i.return;
          }
          (i.sibling.return = i.return), (i = i.sibling);
        }
      h &= 1;
    }
    if ((Ge(tt, h), (o.mode & 1) === 0)) o.memoizedState = null;
    else
      switch (m) {
        case "forwards":
          for (u = o.child, m = null; u !== null; )
            (i = u.alternate),
              i !== null && bc(i) === null && (m = u),
              (u = u.sibling);
          (u = m),
            u === null
              ? ((m = o.child), (o.child = null))
              : ((m = u.sibling), (u.sibling = null)),
            Mf(o, !1, m, u, _);
          break;
        case "backwards":
          for (u = null, m = o.child, o.child = null; m !== null; ) {
            if (((i = m.alternate), i !== null && bc(i) === null)) {
              o.child = m;
              break;
            }
            (i = m.sibling), (m.sibling = u), (u = m), (m = i);
          }
          Mf(o, !0, u, null, _);
          break;
        case "together":
          Mf(o, !1, null, null, void 0);
          break;
        default:
          o.memoizedState = null;
      }
    return o.child;
  }
  function Vc(i, o) {
    (o.mode & 1) === 0 &&
      i !== null &&
      ((i.alternate = null), (o.alternate = null), (o.flags |= 2));
  }
  function Zr(i, o, u) {
    if (
      (i !== null && (o.dependencies = i.dependencies),
      (Us |= o.lanes),
      (u & o.childLanes) === 0)
    )
      return null;
    if (i !== null && o.child !== i.child) throw Error(n(153));
    if (o.child !== null) {
      for (
        i = o.child, u = Li(i, i.pendingProps), o.child = u, u.return = o;
        i.sibling !== null;

      )
        (i = i.sibling),
          (u = u.sibling = Li(i, i.pendingProps)),
          (u.return = o);
      u.sibling = null;
    }
    return o.child;
  }
  function lS(i, o, u) {
    switch (o.tag) {
      case 3:
        Zv(o), Jo();
        break;
      case 5:
        yv(o);
        break;
      case 1:
        hn(o.type) && yc(o);
        break;
      case 4:
        gf(o, o.stateNode.containerInfo);
        break;
      case 10:
        var h = o.type._context,
          m = o.memoizedProps.value;
        Ge(Tc, h._currentValue), (h._currentValue = m);
        break;
      case 13:
        if (((h = o.memoizedState), h !== null))
          return h.dehydrated !== null
            ? (Ge(tt, tt.current & 1), (o.flags |= 128), null)
            : (u & o.child.childLanes) !== 0
            ? t0(i, o, u)
            : (Ge(tt, tt.current & 1),
              (i = Zr(i, o, u)),
              i !== null ? i.sibling : null);
        Ge(tt, tt.current & 1);
        break;
      case 19:
        if (((h = (u & o.childLanes) !== 0), (i.flags & 128) !== 0)) {
          if (h) return r0(i, o, u);
          o.flags |= 128;
        }
        if (
          ((m = o.memoizedState),
          m !== null &&
            ((m.rendering = null), (m.tail = null), (m.lastEffect = null)),
          Ge(tt, tt.current),
          h)
        )
          break;
        return null;
      case 22:
      case 23:
        return (o.lanes = 0), Xv(i, o, u);
    }
    return Zr(i, o, u);
  }
  var i0, Lf, s0, o0;
  (i0 = function (i, o) {
    for (var u = o.child; u !== null; ) {
      if (u.tag === 5 || u.tag === 6) i.appendChild(u.stateNode);
      else if (u.tag !== 4 && u.child !== null) {
        (u.child.return = u), (u = u.child);
        continue;
      }
      if (u === o) break;
      for (; u.sibling === null; ) {
        if (u.return === null || u.return === o) return;
        u = u.return;
      }
      (u.sibling.return = u.return), (u = u.sibling);
    }
  }),
    (Lf = function () {}),
    (s0 = function (i, o, u, h) {
      var m = i.memoizedProps;
      if (m !== h) {
        (i = o.stateNode), Ls(gr.current);
        var _ = null;
        switch (u) {
          case "input":
            (m = ys(i, m)), (h = ys(i, h)), (_ = []);
            break;
          case "select":
            (m = ae({}, m, { value: void 0 })),
              (h = ae({}, h, { value: void 0 })),
              (_ = []);
            break;
          case "textarea":
            (m = $a(i, m)), (h = $a(i, h)), (_ = []);
            break;
          default:
            typeof m.onClick != "function" &&
              typeof h.onClick == "function" &&
              (i.onclick = pc);
        }
        Qa(u, h);
        var T;
        u = null;
        for (W in m)
          if (!h.hasOwnProperty(W) && m.hasOwnProperty(W) && m[W] != null)
            if (W === "style") {
              var R = m[W];
              for (T in R) R.hasOwnProperty(T) && (u || (u = {}), (u[T] = ""));
            } else
              W !== "dangerouslySetInnerHTML" &&
                W !== "children" &&
                W !== "suppressContentEditableWarning" &&
                W !== "suppressHydrationWarning" &&
                W !== "autoFocus" &&
                (s.hasOwnProperty(W)
                  ? _ || (_ = [])
                  : (_ = _ || []).push(W, null));
        for (W in h) {
          var V = h[W];
          if (
            ((R = m != null ? m[W] : void 0),
            h.hasOwnProperty(W) && V !== R && (V != null || R != null))
          )
            if (W === "style")
              if (R) {
                for (T in R)
                  !R.hasOwnProperty(T) ||
                    (V && V.hasOwnProperty(T)) ||
                    (u || (u = {}), (u[T] = ""));
                for (T in V)
                  V.hasOwnProperty(T) &&
                    R[T] !== V[T] &&
                    (u || (u = {}), (u[T] = V[T]));
              } else u || (_ || (_ = []), _.push(W, u)), (u = V);
            else
              W === "dangerouslySetInnerHTML"
                ? ((V = V ? V.__html : void 0),
                  (R = R ? R.__html : void 0),
                  V != null && R !== V && (_ = _ || []).push(W, V))
                : W === "children"
                ? (typeof V != "string" && typeof V != "number") ||
                  (_ = _ || []).push(W, "" + V)
                : W !== "suppressContentEditableWarning" &&
                  W !== "suppressHydrationWarning" &&
                  (s.hasOwnProperty(W)
                    ? (V != null && W === "onScroll" && Ke("scroll", i),
                      _ || R === V || (_ = []))
                    : (_ = _ || []).push(W, V));
        }
        u && (_ = _ || []).push("style", u);
        var W = _;
        (o.updateQueue = W) && (o.flags |= 4);
      }
    }),
    (o0 = function (i, o, u, h) {
      u !== h && (o.flags |= 4);
    });
  function Al(i, o) {
    if (!Ze)
      switch (i.tailMode) {
        case "hidden":
          o = i.tail;
          for (var u = null; o !== null; )
            o.alternate !== null && (u = o), (o = o.sibling);
          u === null ? (i.tail = null) : (u.sibling = null);
          break;
        case "collapsed":
          u = i.tail;
          for (var h = null; u !== null; )
            u.alternate !== null && (h = u), (u = u.sibling);
          h === null
            ? o || i.tail === null
              ? (i.tail = null)
              : (i.tail.sibling = null)
            : (h.sibling = null);
      }
  }
  function Qt(i) {
    var o = i.alternate !== null && i.alternate.child === i.child,
      u = 0,
      h = 0;
    if (o)
      for (var m = i.child; m !== null; )
        (u |= m.lanes | m.childLanes),
          (h |= m.subtreeFlags & 14680064),
          (h |= m.flags & 14680064),
          (m.return = i),
          (m = m.sibling);
    else
      for (m = i.child; m !== null; )
        (u |= m.lanes | m.childLanes),
          (h |= m.subtreeFlags),
          (h |= m.flags),
          (m.return = i),
          (m = m.sibling);
    return (i.subtreeFlags |= h), (i.childLanes = u), o;
  }
  function uS(i, o, u) {
    var h = o.pendingProps;
    switch ((of(o), o.tag)) {
      case 2:
      case 16:
      case 15:
      case 0:
      case 11:
      case 7:
      case 8:
      case 12:
      case 9:
      case 14:
        return Qt(o), null;
      case 1:
        return hn(o.type) && gc(), Qt(o), null;
      case 3:
        return (
          (h = o.stateNode),
          na(),
          Qe(dn),
          Qe(Gt),
          _f(),
          h.pendingContext &&
            ((h.context = h.pendingContext), (h.pendingContext = null)),
          (i === null || i.child === null) &&
            (xc(o)
              ? (o.flags |= 4)
              : i === null ||
                (i.memoizedState.isDehydrated && (o.flags & 256) === 0) ||
                ((o.flags |= 1024), er !== null && (Qf(er), (er = null)))),
          Lf(i, o),
          Qt(o),
          null
        );
      case 5:
        yf(o);
        var m = Ls(Pl.current);
        if (((u = o.type), i !== null && o.stateNode != null))
          s0(i, o, u, h, m),
            i.ref !== o.ref && ((o.flags |= 512), (o.flags |= 2097152));
        else {
          if (!h) {
            if (o.stateNode === null) throw Error(n(166));
            return Qt(o), null;
          }
          if (((i = Ls(gr.current)), xc(o))) {
            (h = o.stateNode), (u = o.type);
            var _ = o.memoizedProps;
            switch (((h[mr] = o), (h[_l] = _), (i = (o.mode & 1) !== 0), u)) {
              case "dialog":
                Ke("cancel", h), Ke("close", h);
                break;
              case "iframe":
              case "object":
              case "embed":
                Ke("load", h);
                break;
              case "video":
              case "audio":
                for (m = 0; m < gl.length; m++) Ke(gl[m], h);
                break;
              case "source":
                Ke("error", h);
                break;
              case "img":
              case "image":
              case "link":
                Ke("error", h), Ke("load", h);
                break;
              case "details":
                Ke("toggle", h);
                break;
              case "input":
                yo(h, _), Ke("invalid", h);
                break;
              case "select":
                (h._wrapperState = { wasMultiple: !!_.multiple }),
                  Ke("invalid", h);
                break;
              case "textarea":
                _o(h, _), Ke("invalid", h);
            }
            Qa(u, _), (m = null);
            for (var T in _)
              if (_.hasOwnProperty(T)) {
                var R = _[T];
                T === "children"
                  ? typeof R == "string"
                    ? h.textContent !== R &&
                      (_.suppressHydrationWarning !== !0 &&
                        fc(h.textContent, R, i),
                      (m = ["children", R]))
                    : typeof R == "number" &&
                      h.textContent !== "" + R &&
                      (_.suppressHydrationWarning !== !0 &&
                        fc(h.textContent, R, i),
                      (m = ["children", "" + R]))
                  : s.hasOwnProperty(T) &&
                    R != null &&
                    T === "onScroll" &&
                    Ke("scroll", h);
              }
            switch (u) {
              case "input":
                Mr(h), Fu(h, _, !0);
                break;
              case "textarea":
                Mr(h), Ha(h);
                break;
              case "select":
              case "option":
                break;
              default:
                typeof _.onClick == "function" && (h.onclick = pc);
            }
            (h = m), (o.updateQueue = h), h !== null && (o.flags |= 4);
          } else {
            (T = m.nodeType === 9 ? m : m.ownerDocument),
              i === "http://www.w3.org/1999/xhtml" && (i = Et(u)),
              i === "http://www.w3.org/1999/xhtml"
                ? u === "script"
                  ? ((i = T.createElement("div")),
                    (i.innerHTML = "<script></script>"),
                    (i = i.removeChild(i.firstChild)))
                  : typeof h.is == "string"
                  ? (i = T.createElement(u, { is: h.is }))
                  : ((i = T.createElement(u)),
                    u === "select" &&
                      ((T = i),
                      h.multiple
                        ? (T.multiple = !0)
                        : h.size && (T.size = h.size)))
                : (i = T.createElementNS(i, u)),
              (i[mr] = o),
              (i[_l] = h),
              i0(i, o, !1, !1),
              (o.stateNode = i);
            e: {
              switch (((T = Xa(u, h)), u)) {
                case "dialog":
                  Ke("cancel", i), Ke("close", i), (m = h);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  Ke("load", i), (m = h);
                  break;
                case "video":
                case "audio":
                  for (m = 0; m < gl.length; m++) Ke(gl[m], i);
                  m = h;
                  break;
                case "source":
                  Ke("error", i), (m = h);
                  break;
                case "img":
                case "image":
                case "link":
                  Ke("error", i), Ke("load", i), (m = h);
                  break;
                case "details":
                  Ke("toggle", i), (m = h);
                  break;
                case "input":
                  yo(i, h), (m = ys(i, h)), Ke("invalid", i);
                  break;
                case "option":
                  m = h;
                  break;
                case "select":
                  (i._wrapperState = { wasMultiple: !!h.multiple }),
                    (m = ae({}, h, { value: void 0 })),
                    Ke("invalid", i);
                  break;
                case "textarea":
                  _o(i, h), (m = $a(i, h)), Ke("invalid", i);
                  break;
                default:
                  m = h;
              }
              Qa(u, m), (R = m);
              for (_ in R)
                if (R.hasOwnProperty(_)) {
                  var V = R[_];
                  _ === "style"
                    ? Ga(i, V)
                    : _ === "dangerouslySetInnerHTML"
                    ? ((V = V ? V.__html : void 0), V != null && Wa(i, V))
                    : _ === "children"
                    ? typeof V == "string"
                      ? (u !== "textarea" || V !== "") && gi(i, V)
                      : typeof V == "number" && gi(i, "" + V)
                    : _ !== "suppressContentEditableWarning" &&
                      _ !== "suppressHydrationWarning" &&
                      _ !== "autoFocus" &&
                      (s.hasOwnProperty(_)
                        ? V != null && _ === "onScroll" && Ke("scroll", i)
                        : V != null && q(i, _, V, T));
                }
              switch (u) {
                case "input":
                  Mr(i), Fu(i, h, !1);
                  break;
                case "textarea":
                  Mr(i), Ha(i);
                  break;
                case "option":
                  h.value != null && i.setAttribute("value", "" + Be(h.value));
                  break;
                case "select":
                  (i.multiple = !!h.multiple),
                    (_ = h.value),
                    _ != null
                      ? Fr(i, !!h.multiple, _, !1)
                      : h.defaultValue != null &&
                        Fr(i, !!h.multiple, h.defaultValue, !0);
                  break;
                default:
                  typeof m.onClick == "function" && (i.onclick = pc);
              }
              switch (u) {
                case "button":
                case "input":
                case "select":
                case "textarea":
                  h = !!h.autoFocus;
                  break e;
                case "img":
                  h = !0;
                  break e;
                default:
                  h = !1;
              }
            }
            h && (o.flags |= 4);
          }
          o.ref !== null && ((o.flags |= 512), (o.flags |= 2097152));
        }
        return Qt(o), null;
      case 6:
        if (i && o.stateNode != null) o0(i, o, i.memoizedProps, h);
        else {
          if (typeof h != "string" && o.stateNode === null) throw Error(n(166));
          if (((u = Ls(Pl.current)), Ls(gr.current), xc(o))) {
            if (
              ((h = o.stateNode),
              (u = o.memoizedProps),
              (h[mr] = o),
              (_ = h.nodeValue !== u) && ((i = Pn), i !== null))
            )
              switch (i.tag) {
                case 3:
                  fc(h.nodeValue, u, (i.mode & 1) !== 0);
                  break;
                case 5:
                  i.memoizedProps.suppressHydrationWarning !== !0 &&
                    fc(h.nodeValue, u, (i.mode & 1) !== 0);
              }
            _ && (o.flags |= 4);
          } else
            (h = (u.nodeType === 9 ? u : u.ownerDocument).createTextNode(h)),
              (h[mr] = o),
              (o.stateNode = h);
        }
        return Qt(o), null;
      case 13:
        if (
          (Qe(tt),
          (h = o.memoizedState),
          i === null ||
            (i.memoizedState !== null && i.memoizedState.dehydrated !== null))
        ) {
          if (Ze && Sn !== null && (o.mode & 1) !== 0 && (o.flags & 128) === 0)
            uv(), Jo(), (o.flags |= 98560), (_ = !1);
          else if (((_ = xc(o)), h !== null && h.dehydrated !== null)) {
            if (i === null) {
              if (!_) throw Error(n(318));
              if (
                ((_ = o.memoizedState),
                (_ = _ !== null ? _.dehydrated : null),
                !_)
              )
                throw Error(n(317));
              _[mr] = o;
            } else
              Jo(),
                (o.flags & 128) === 0 && (o.memoizedState = null),
                (o.flags |= 4);
            Qt(o), (_ = !1);
          } else er !== null && (Qf(er), (er = null)), (_ = !0);
          if (!_) return o.flags & 65536 ? o : null;
        }
        return (o.flags & 128) !== 0
          ? ((o.lanes = u), o)
          : ((h = h !== null),
            h !== (i !== null && i.memoizedState !== null) &&
              h &&
              ((o.child.flags |= 8192),
              (o.mode & 1) !== 0 &&
                (i === null || (tt.current & 1) !== 0
                  ? It === 0 && (It = 3)
                  : Jf())),
            o.updateQueue !== null && (o.flags |= 4),
            Qt(o),
            null);
      case 4:
        return (
          na(),
          Lf(i, o),
          i === null && yl(o.stateNode.containerInfo),
          Qt(o),
          null
        );
      case 10:
        return hf(o.type._context), Qt(o), null;
      case 17:
        return hn(o.type) && gc(), Qt(o), null;
      case 19:
        if ((Qe(tt), (_ = o.memoizedState), _ === null)) return Qt(o), null;
        if (((h = (o.flags & 128) !== 0), (T = _.rendering), T === null))
          if (h) Al(_, !1);
          else {
            if (It !== 0 || (i !== null && (i.flags & 128) !== 0))
              for (i = o.child; i !== null; ) {
                if (((T = bc(i)), T !== null)) {
                  for (
                    o.flags |= 128,
                      Al(_, !1),
                      h = T.updateQueue,
                      h !== null && ((o.updateQueue = h), (o.flags |= 4)),
                      o.subtreeFlags = 0,
                      h = u,
                      u = o.child;
                    u !== null;

                  )
                    (_ = u),
                      (i = h),
                      (_.flags &= 14680066),
                      (T = _.alternate),
                      T === null
                        ? ((_.childLanes = 0),
                          (_.lanes = i),
                          (_.child = null),
                          (_.subtreeFlags = 0),
                          (_.memoizedProps = null),
                          (_.memoizedState = null),
                          (_.updateQueue = null),
                          (_.dependencies = null),
                          (_.stateNode = null))
                        : ((_.childLanes = T.childLanes),
                          (_.lanes = T.lanes),
                          (_.child = T.child),
                          (_.subtreeFlags = 0),
                          (_.deletions = null),
                          (_.memoizedProps = T.memoizedProps),
                          (_.memoizedState = T.memoizedState),
                          (_.updateQueue = T.updateQueue),
                          (_.type = T.type),
                          (i = T.dependencies),
                          (_.dependencies =
                            i === null
                              ? null
                              : {
                                  lanes: i.lanes,
                                  firstContext: i.firstContext,
                                })),
                      (u = u.sibling);
                  return Ge(tt, (tt.current & 1) | 2), o.child;
                }
                i = i.sibling;
              }
            _.tail !== null &&
              qe() > oa &&
              ((o.flags |= 128), (h = !0), Al(_, !1), (o.lanes = 4194304));
          }
        else {
          if (!h)
            if (((i = bc(T)), i !== null)) {
              if (
                ((o.flags |= 128),
                (h = !0),
                (u = i.updateQueue),
                u !== null && ((o.updateQueue = u), (o.flags |= 4)),
                Al(_, !0),
                _.tail === null &&
                  _.tailMode === "hidden" &&
                  !T.alternate &&
                  !Ze)
              )
                return Qt(o), null;
            } else
              2 * qe() - _.renderingStartTime > oa &&
                u !== 1073741824 &&
                ((o.flags |= 128), (h = !0), Al(_, !1), (o.lanes = 4194304));
          _.isBackwards
            ? ((T.sibling = o.child), (o.child = T))
            : ((u = _.last),
              u !== null ? (u.sibling = T) : (o.child = T),
              (_.last = T));
        }
        return _.tail !== null
          ? ((o = _.tail),
            (_.rendering = o),
            (_.tail = o.sibling),
            (_.renderingStartTime = qe()),
            (o.sibling = null),
            (u = tt.current),
            Ge(tt, h ? (u & 1) | 2 : u & 1),
            o)
          : (Qt(o), null);
      case 22:
      case 23:
        return (
          Yf(),
          (h = o.memoizedState !== null),
          i !== null && (i.memoizedState !== null) !== h && (o.flags |= 8192),
          h && (o.mode & 1) !== 0
            ? (In & 1073741824) !== 0 &&
              (Qt(o), o.subtreeFlags & 6 && (o.flags |= 8192))
            : Qt(o),
          null
        );
      case 24:
        return null;
      case 25:
        return null;
    }
    throw Error(n(156, o.tag));
  }
  function cS(i, o) {
    switch ((of(o), o.tag)) {
      case 1:
        return (
          hn(o.type) && gc(),
          (i = o.flags),
          i & 65536 ? ((o.flags = (i & -65537) | 128), o) : null
        );
      case 3:
        return (
          na(),
          Qe(dn),
          Qe(Gt),
          _f(),
          (i = o.flags),
          (i & 65536) !== 0 && (i & 128) === 0
            ? ((o.flags = (i & -65537) | 128), o)
            : null
        );
      case 5:
        return yf(o), null;
      case 13:
        if (
          (Qe(tt), (i = o.memoizedState), i !== null && i.dehydrated !== null)
        ) {
          if (o.alternate === null) throw Error(n(340));
          Jo();
        }
        return (
          (i = o.flags), i & 65536 ? ((o.flags = (i & -65537) | 128), o) : null
        );
      case 19:
        return Qe(tt), null;
      case 4:
        return na(), null;
      case 10:
        return hf(o.type._context), null;
      case 22:
      case 23:
        return Yf(), null;
      case 24:
        return null;
      default:
        return null;
    }
  }
  var Oc = !1,
    Xt = !1,
    dS = typeof WeakSet == "function" ? WeakSet : Set,
    ce = null;
  function ia(i, o) {
    var u = i.ref;
    if (u !== null)
      if (typeof u == "function")
        try {
          u(null);
        } catch (h) {
          ot(i, o, h);
        }
      else u.current = null;
  }
  function Ff(i, o, u) {
    try {
      u();
    } catch (h) {
      ot(i, o, h);
    }
  }
  var a0 = !1;
  function hS(i, o) {
    if (((Xh = Pi), (i = Fy()), zh(i))) {
      if ("selectionStart" in i)
        var u = { start: i.selectionStart, end: i.selectionEnd };
      else
        e: {
          u = ((u = i.ownerDocument) && u.defaultView) || window;
          var h = u.getSelection && u.getSelection();
          if (h && h.rangeCount !== 0) {
            u = h.anchorNode;
            var m = h.anchorOffset,
              _ = h.focusNode;
            h = h.focusOffset;
            try {
              u.nodeType, _.nodeType;
            } catch {
              u = null;
              break e;
            }
            var T = 0,
              R = -1,
              V = -1,
              W = 0,
              ee = 0,
              te = i,
              J = null;
            t: for (;;) {
              for (
                var le;
                te !== u || (m !== 0 && te.nodeType !== 3) || (R = T + m),
                  te !== _ || (h !== 0 && te.nodeType !== 3) || (V = T + h),
                  te.nodeType === 3 && (T += te.nodeValue.length),
                  (le = te.firstChild) !== null;

              )
                (J = te), (te = le);
              for (;;) {
                if (te === i) break t;
                if (
                  (J === u && ++W === m && (R = T),
                  J === _ && ++ee === h && (V = T),
                  (le = te.nextSibling) !== null)
                )
                  break;
                (te = J), (J = te.parentNode);
              }
              te = le;
            }
            u = R === -1 || V === -1 ? null : { start: R, end: V };
          } else u = null;
        }
      u = u || { start: 0, end: 0 };
    } else u = null;
    for (
      Yh = { focusedElem: i, selectionRange: u }, Pi = !1, ce = o;
      ce !== null;

    )
      if (
        ((o = ce), (i = o.child), (o.subtreeFlags & 1028) !== 0 && i !== null)
      )
        (i.return = o), (ce = i);
      else
        for (; ce !== null; ) {
          o = ce;
          try {
            var de = o.alternate;
            if ((o.flags & 1024) !== 0)
              switch (o.tag) {
                case 0:
                case 11:
                case 15:
                  break;
                case 1:
                  if (de !== null) {
                    var he = de.memoizedProps,
                      dt = de.memoizedState,
                      z = o.stateNode,
                      O = z.getSnapshotBeforeUpdate(
                        o.elementType === o.type ? he : tr(o.type, he),
                        dt
                      );
                    z.__reactInternalSnapshotBeforeUpdate = O;
                  }
                  break;
                case 3:
                  var H = o.stateNode.containerInfo;
                  H.nodeType === 1
                    ? (H.textContent = "")
                    : H.nodeType === 9 &&
                      H.documentElement &&
                      H.removeChild(H.documentElement);
                  break;
                case 5:
                case 6:
                case 4:
                case 17:
                  break;
                default:
                  throw Error(n(163));
              }
          } catch (re) {
            ot(o, o.return, re);
          }
          if (((i = o.sibling), i !== null)) {
            (i.return = o.return), (ce = i);
            break;
          }
          ce = o.return;
        }
    return (de = a0), (a0 = !1), de;
  }
  function Rl(i, o, u) {
    var h = o.updateQueue;
    if (((h = h !== null ? h.lastEffect : null), h !== null)) {
      var m = (h = h.next);
      do {
        if ((m.tag & i) === i) {
          var _ = m.destroy;
          (m.destroy = void 0), _ !== void 0 && Ff(o, u, _);
        }
        m = m.next;
      } while (m !== h);
    }
  }
  function Mc(i, o) {
    if (
      ((o = o.updateQueue), (o = o !== null ? o.lastEffect : null), o !== null)
    ) {
      var u = (o = o.next);
      do {
        if ((u.tag & i) === i) {
          var h = u.create;
          u.destroy = h();
        }
        u = u.next;
      } while (u !== o);
    }
  }
  function Uf(i) {
    var o = i.ref;
    if (o !== null) {
      var u = i.stateNode;
      switch (i.tag) {
        case 5:
          i = u;
          break;
        default:
          i = u;
      }
      typeof o == "function" ? o(i) : (o.current = i);
    }
  }
  function l0(i) {
    var o = i.alternate;
    o !== null && ((i.alternate = null), l0(o)),
      (i.child = null),
      (i.deletions = null),
      (i.sibling = null),
      i.tag === 5 &&
        ((o = i.stateNode),
        o !== null &&
          (delete o[mr],
          delete o[_l],
          delete o[tf],
          delete o[KP],
          delete o[QP])),
      (i.stateNode = null),
      (i.return = null),
      (i.dependencies = null),
      (i.memoizedProps = null),
      (i.memoizedState = null),
      (i.pendingProps = null),
      (i.stateNode = null),
      (i.updateQueue = null);
  }
  function u0(i) {
    return i.tag === 5 || i.tag === 3 || i.tag === 4;
  }
  function c0(i) {
    e: for (;;) {
      for (; i.sibling === null; ) {
        if (i.return === null || u0(i.return)) return null;
        i = i.return;
      }
      for (
        i.sibling.return = i.return, i = i.sibling;
        i.tag !== 5 && i.tag !== 6 && i.tag !== 18;

      ) {
        if (i.flags & 2 || i.child === null || i.tag === 4) continue e;
        (i.child.return = i), (i = i.child);
      }
      if (!(i.flags & 2)) return i.stateNode;
    }
  }
  function Bf(i, o, u) {
    var h = i.tag;
    if (h === 5 || h === 6)
      (i = i.stateNode),
        o
          ? u.nodeType === 8
            ? u.parentNode.insertBefore(i, o)
            : u.insertBefore(i, o)
          : (u.nodeType === 8
              ? ((o = u.parentNode), o.insertBefore(i, u))
              : ((o = u), o.appendChild(i)),
            (u = u._reactRootContainer),
            u != null || o.onclick !== null || (o.onclick = pc));
    else if (h !== 4 && ((i = i.child), i !== null))
      for (Bf(i, o, u), i = i.sibling; i !== null; )
        Bf(i, o, u), (i = i.sibling);
  }
  function zf(i, o, u) {
    var h = i.tag;
    if (h === 5 || h === 6)
      (i = i.stateNode), o ? u.insertBefore(i, o) : u.appendChild(i);
    else if (h !== 4 && ((i = i.child), i !== null))
      for (zf(i, o, u), i = i.sibling; i !== null; )
        zf(i, o, u), (i = i.sibling);
  }
  var Ut = null,
    nr = !1;
  function ji(i, o, u) {
    for (u = u.child; u !== null; ) d0(i, o, u), (u = u.sibling);
  }
  function d0(i, o, u) {
    if (wn && typeof wn.onCommitFiberUnmount == "function")
      try {
        wn.onCommitFiberUnmount(Is, u);
      } catch {}
    switch (u.tag) {
      case 5:
        Xt || ia(u, o);
      case 6:
        var h = Ut,
          m = nr;
        (Ut = null),
          ji(i, o, u),
          (Ut = h),
          (nr = m),
          Ut !== null &&
            (nr
              ? ((i = Ut),
                (u = u.stateNode),
                i.nodeType === 8
                  ? i.parentNode.removeChild(u)
                  : i.removeChild(u))
              : Ut.removeChild(u.stateNode));
        break;
      case 18:
        Ut !== null &&
          (nr
            ? ((i = Ut),
              (u = u.stateNode),
              i.nodeType === 8
                ? ef(i.parentNode, u)
                : i.nodeType === 1 && ef(i, u),
              Yn(i))
            : ef(Ut, u.stateNode));
        break;
      case 4:
        (h = Ut),
          (m = nr),
          (Ut = u.stateNode.containerInfo),
          (nr = !0),
          ji(i, o, u),
          (Ut = h),
          (nr = m);
        break;
      case 0:
      case 11:
      case 14:
      case 15:
        if (
          !Xt &&
          ((h = u.updateQueue), h !== null && ((h = h.lastEffect), h !== null))
        ) {
          m = h = h.next;
          do {
            var _ = m,
              T = _.destroy;
            (_ = _.tag),
              T !== void 0 && ((_ & 2) !== 0 || (_ & 4) !== 0) && Ff(u, o, T),
              (m = m.next);
          } while (m !== h);
        }
        ji(i, o, u);
        break;
      case 1:
        if (
          !Xt &&
          (ia(u, o),
          (h = u.stateNode),
          typeof h.componentWillUnmount == "function")
        )
          try {
            (h.props = u.memoizedProps),
              (h.state = u.memoizedState),
              h.componentWillUnmount();
          } catch (R) {
            ot(u, o, R);
          }
        ji(i, o, u);
        break;
      case 21:
        ji(i, o, u);
        break;
      case 22:
        u.mode & 1
          ? ((Xt = (h = Xt) || u.memoizedState !== null), ji(i, o, u), (Xt = h))
          : ji(i, o, u);
        break;
      default:
        ji(i, o, u);
    }
  }
  function h0(i) {
    var o = i.updateQueue;
    if (o !== null) {
      i.updateQueue = null;
      var u = i.stateNode;
      u === null && (u = i.stateNode = new dS()),
        o.forEach(function (h) {
          var m = xS.bind(null, i, h);
          u.has(h) || (u.add(h), h.then(m, m));
        });
    }
  }
  function rr(i, o) {
    var u = o.deletions;
    if (u !== null)
      for (var h = 0; h < u.length; h++) {
        var m = u[h];
        try {
          var _ = i,
            T = o,
            R = T;
          e: for (; R !== null; ) {
            switch (R.tag) {
              case 5:
                (Ut = R.stateNode), (nr = !1);
                break e;
              case 3:
                (Ut = R.stateNode.containerInfo), (nr = !0);
                break e;
              case 4:
                (Ut = R.stateNode.containerInfo), (nr = !0);
                break e;
            }
            R = R.return;
          }
          if (Ut === null) throw Error(n(160));
          d0(_, T, m), (Ut = null), (nr = !1);
          var V = m.alternate;
          V !== null && (V.return = null), (m.return = null);
        } catch (W) {
          ot(m, o, W);
        }
      }
    if (o.subtreeFlags & 12854)
      for (o = o.child; o !== null; ) f0(o, i), (o = o.sibling);
  }
  function f0(i, o) {
    var u = i.alternate,
      h = i.flags;
    switch (i.tag) {
      case 0:
      case 11:
      case 14:
      case 15:
        if ((rr(o, i), vr(i), h & 4)) {
          try {
            Rl(3, i, i.return), Mc(3, i);
          } catch (he) {
            ot(i, i.return, he);
          }
          try {
            Rl(5, i, i.return);
          } catch (he) {
            ot(i, i.return, he);
          }
        }
        break;
      case 1:
        rr(o, i), vr(i), h & 512 && u !== null && ia(u, u.return);
        break;
      case 5:
        if (
          (rr(o, i),
          vr(i),
          h & 512 && u !== null && ia(u, u.return),
          i.flags & 32)
        ) {
          var m = i.stateNode;
          try {
            gi(m, "");
          } catch (he) {
            ot(i, i.return, he);
          }
        }
        if (h & 4 && ((m = i.stateNode), m != null)) {
          var _ = i.memoizedProps,
            T = u !== null ? u.memoizedProps : _,
            R = i.type,
            V = i.updateQueue;
          if (((i.updateQueue = null), V !== null))
            try {
              R === "input" && _.type === "radio" && _.name != null && Ba(m, _),
                Xa(R, T);
              var W = Xa(R, _);
              for (T = 0; T < V.length; T += 2) {
                var ee = V[T],
                  te = V[T + 1];
                ee === "style"
                  ? Ga(m, te)
                  : ee === "dangerouslySetInnerHTML"
                  ? Wa(m, te)
                  : ee === "children"
                  ? gi(m, te)
                  : q(m, ee, te, W);
              }
              switch (R) {
                case "input":
                  za(m, _);
                  break;
                case "textarea":
                  wo(m, _);
                  break;
                case "select":
                  var J = m._wrapperState.wasMultiple;
                  m._wrapperState.wasMultiple = !!_.multiple;
                  var le = _.value;
                  le != null
                    ? Fr(m, !!_.multiple, le, !1)
                    : J !== !!_.multiple &&
                      (_.defaultValue != null
                        ? Fr(m, !!_.multiple, _.defaultValue, !0)
                        : Fr(m, !!_.multiple, _.multiple ? [] : "", !1));
              }
              m[_l] = _;
            } catch (he) {
              ot(i, i.return, he);
            }
        }
        break;
      case 6:
        if ((rr(o, i), vr(i), h & 4)) {
          if (i.stateNode === null) throw Error(n(162));
          (m = i.stateNode), (_ = i.memoizedProps);
          try {
            m.nodeValue = _;
          } catch (he) {
            ot(i, i.return, he);
          }
        }
        break;
      case 3:
        if (
          (rr(o, i), vr(i), h & 4 && u !== null && u.memoizedState.isDehydrated)
        )
          try {
            Yn(o.containerInfo);
          } catch (he) {
            ot(i, i.return, he);
          }
        break;
      case 4:
        rr(o, i), vr(i);
        break;
      case 13:
        rr(o, i),
          vr(i),
          (m = i.child),
          m.flags & 8192 &&
            ((_ = m.memoizedState !== null),
            (m.stateNode.isHidden = _),
            !_ ||
              (m.alternate !== null && m.alternate.memoizedState !== null) ||
              (Wf = qe())),
          h & 4 && h0(i);
        break;
      case 22:
        if (
          ((ee = u !== null && u.memoizedState !== null),
          i.mode & 1 ? ((Xt = (W = Xt) || ee), rr(o, i), (Xt = W)) : rr(o, i),
          vr(i),
          h & 8192)
        ) {
          if (
            ((W = i.memoizedState !== null),
            (i.stateNode.isHidden = W) && !ee && (i.mode & 1) !== 0)
          )
            for (ce = i, ee = i.child; ee !== null; ) {
              for (te = ce = ee; ce !== null; ) {
                switch (((J = ce), (le = J.child), J.tag)) {
                  case 0:
                  case 11:
                  case 14:
                  case 15:
                    Rl(4, J, J.return);
                    break;
                  case 1:
                    ia(J, J.return);
                    var de = J.stateNode;
                    if (typeof de.componentWillUnmount == "function") {
                      (h = J), (u = J.return);
                      try {
                        (o = h),
                          (de.props = o.memoizedProps),
                          (de.state = o.memoizedState),
                          de.componentWillUnmount();
                      } catch (he) {
                        ot(h, u, he);
                      }
                    }
                    break;
                  case 5:
                    ia(J, J.return);
                    break;
                  case 22:
                    if (J.memoizedState !== null) {
                      g0(te);
                      continue;
                    }
                }
                le !== null ? ((le.return = J), (ce = le)) : g0(te);
              }
              ee = ee.sibling;
            }
          e: for (ee = null, te = i; ; ) {
            if (te.tag === 5) {
              if (ee === null) {
                ee = te;
                try {
                  (m = te.stateNode),
                    W
                      ? ((_ = m.style),
                        typeof _.setProperty == "function"
                          ? _.setProperty("display", "none", "important")
                          : (_.display = "none"))
                      : ((R = te.stateNode),
                        (V = te.memoizedProps.style),
                        (T =
                          V != null && V.hasOwnProperty("display")
                            ? V.display
                            : null),
                        (R.style.display = qa("display", T)));
                } catch (he) {
                  ot(i, i.return, he);
                }
              }
            } else if (te.tag === 6) {
              if (ee === null)
                try {
                  te.stateNode.nodeValue = W ? "" : te.memoizedProps;
                } catch (he) {
                  ot(i, i.return, he);
                }
            } else if (
              ((te.tag !== 22 && te.tag !== 23) ||
                te.memoizedState === null ||
                te === i) &&
              te.child !== null
            ) {
              (te.child.return = te), (te = te.child);
              continue;
            }
            if (te === i) break e;
            for (; te.sibling === null; ) {
              if (te.return === null || te.return === i) break e;
              ee === te && (ee = null), (te = te.return);
            }
            ee === te && (ee = null),
              (te.sibling.return = te.return),
              (te = te.sibling);
          }
        }
        break;
      case 19:
        rr(o, i), vr(i), h & 4 && h0(i);
        break;
      case 21:
        break;
      default:
        rr(o, i), vr(i);
    }
  }
  function vr(i) {
    var o = i.flags;
    if (o & 2) {
      try {
        e: {
          for (var u = i.return; u !== null; ) {
            if (u0(u)) {
              var h = u;
              break e;
            }
            u = u.return;
          }
          throw Error(n(160));
        }
        switch (h.tag) {
          case 5:
            var m = h.stateNode;
            h.flags & 32 && (gi(m, ""), (h.flags &= -33));
            var _ = c0(i);
            zf(i, _, m);
            break;
          case 3:
          case 4:
            var T = h.stateNode.containerInfo,
              R = c0(i);
            Bf(i, R, T);
            break;
          default:
            throw Error(n(161));
        }
      } catch (V) {
        ot(i, i.return, V);
      }
      i.flags &= -3;
    }
    o & 4096 && (i.flags &= -4097);
  }
  function fS(i, o, u) {
    (ce = i), p0(i);
  }
  function p0(i, o, u) {
    for (var h = (i.mode & 1) !== 0; ce !== null; ) {
      var m = ce,
        _ = m.child;
      if (m.tag === 22 && h) {
        var T = m.memoizedState !== null || Oc;
        if (!T) {
          var R = m.alternate,
            V = (R !== null && R.memoizedState !== null) || Xt;
          R = Oc;
          var W = Xt;
          if (((Oc = T), (Xt = V) && !W))
            for (ce = m; ce !== null; )
              (T = ce),
                (V = T.child),
                T.tag === 22 && T.memoizedState !== null
                  ? y0(m)
                  : V !== null
                  ? ((V.return = T), (ce = V))
                  : y0(m);
          for (; _ !== null; ) (ce = _), p0(_), (_ = _.sibling);
          (ce = m), (Oc = R), (Xt = W);
        }
        m0(i);
      } else
        (m.subtreeFlags & 8772) !== 0 && _ !== null
          ? ((_.return = m), (ce = _))
          : m0(i);
    }
  }
  function m0(i) {
    for (; ce !== null; ) {
      var o = ce;
      if ((o.flags & 8772) !== 0) {
        var u = o.alternate;
        try {
          if ((o.flags & 8772) !== 0)
            switch (o.tag) {
              case 0:
              case 11:
              case 15:
                Xt || Mc(5, o);
                break;
              case 1:
                var h = o.stateNode;
                if (o.flags & 4 && !Xt)
                  if (u === null) h.componentDidMount();
                  else {
                    var m =
                      o.elementType === o.type
                        ? u.memoizedProps
                        : tr(o.type, u.memoizedProps);
                    h.componentDidUpdate(
                      m,
                      u.memoizedState,
                      h.__reactInternalSnapshotBeforeUpdate
                    );
                  }
                var _ = o.updateQueue;
                _ !== null && gv(o, _, h);
                break;
              case 3:
                var T = o.updateQueue;
                if (T !== null) {
                  if (((u = null), o.child !== null))
                    switch (o.child.tag) {
                      case 5:
                        u = o.child.stateNode;
                        break;
                      case 1:
                        u = o.child.stateNode;
                    }
                  gv(o, T, u);
                }
                break;
              case 5:
                var R = o.stateNode;
                if (u === null && o.flags & 4) {
                  u = R;
                  var V = o.memoizedProps;
                  switch (o.type) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      V.autoFocus && u.focus();
                      break;
                    case "img":
                      V.src && (u.src = V.src);
                  }
                }
                break;
              case 6:
                break;
              case 4:
                break;
              case 12:
                break;
              case 13:
                if (o.memoizedState === null) {
                  var W = o.alternate;
                  if (W !== null) {
                    var ee = W.memoizedState;
                    if (ee !== null) {
                      var te = ee.dehydrated;
                      te !== null && Yn(te);
                    }
                  }
                }
                break;
              case 19:
              case 17:
              case 21:
              case 22:
              case 23:
              case 25:
                break;
              default:
                throw Error(n(163));
            }
          Xt || (o.flags & 512 && Uf(o));
        } catch (J) {
          ot(o, o.return, J);
        }
      }
      if (o === i) {
        ce = null;
        break;
      }
      if (((u = o.sibling), u !== null)) {
        (u.return = o.return), (ce = u);
        break;
      }
      ce = o.return;
    }
  }
  function g0(i) {
    for (; ce !== null; ) {
      var o = ce;
      if (o === i) {
        ce = null;
        break;
      }
      var u = o.sibling;
      if (u !== null) {
        (u.return = o.return), (ce = u);
        break;
      }
      ce = o.return;
    }
  }
  function y0(i) {
    for (; ce !== null; ) {
      var o = ce;
      try {
        switch (o.tag) {
          case 0:
          case 11:
          case 15:
            var u = o.return;
            try {
              Mc(4, o);
            } catch (V) {
              ot(o, u, V);
            }
            break;
          case 1:
            var h = o.stateNode;
            if (typeof h.componentDidMount == "function") {
              var m = o.return;
              try {
                h.componentDidMount();
              } catch (V) {
                ot(o, m, V);
              }
            }
            var _ = o.return;
            try {
              Uf(o);
            } catch (V) {
              ot(o, _, V);
            }
            break;
          case 5:
            var T = o.return;
            try {
              Uf(o);
            } catch (V) {
              ot(o, T, V);
            }
        }
      } catch (V) {
        ot(o, o.return, V);
      }
      if (o === i) {
        ce = null;
        break;
      }
      var R = o.sibling;
      if (R !== null) {
        (R.return = o.return), (ce = R);
        break;
      }
      ce = o.return;
    }
  }
  var pS = Math.ceil,
    Lc = Y.ReactCurrentDispatcher,
    $f = Y.ReactCurrentOwner,
    Ln = Y.ReactCurrentBatchConfig,
    Le = 0,
    jt = null,
    yt = null,
    Bt = 0,
    In = 0,
    sa = Ci(0),
    It = 0,
    kl = null,
    Us = 0,
    Fc = 0,
    Hf = 0,
    Nl = null,
    pn = null,
    Wf = 0,
    oa = 1 / 0,
    ei = null,
    Uc = !1,
    qf = null,
    Di = null,
    Bc = !1,
    Vi = null,
    zc = 0,
    jl = 0,
    Gf = null,
    $c = -1,
    Hc = 0;
  function on() {
    return (Le & 6) !== 0 ? qe() : $c !== -1 ? $c : ($c = qe());
  }
  function Oi(i) {
    return (i.mode & 1) === 0
      ? 1
      : (Le & 2) !== 0 && Bt !== 0
      ? Bt & -Bt
      : YP.transition !== null
      ? (Hc === 0 && (Hc = Cs()), Hc)
      : ((i = De),
        i !== 0 || ((i = window.event), (i = i === void 0 ? 16 : al(i.type))),
        i);
  }
  function ir(i, o, u, h) {
    if (50 < jl) throw ((jl = 0), (Gf = null), Error(n(185)));
    wi(i, u, h),
      ((Le & 2) === 0 || i !== jt) &&
        (i === jt && ((Le & 2) === 0 && (Fc |= u), It === 4 && Mi(i, Bt)),
        mn(i, h),
        u === 1 &&
          Le === 0 &&
          (o.mode & 1) === 0 &&
          ((oa = qe() + 500), vc && Ri()));
  }
  function mn(i, o) {
    var u = i.callbackNode;
    zr(i, o);
    var h = bs(i, i === jt ? Bt : 0);
    if (h === 0)
      u !== null && nl(u), (i.callbackNode = null), (i.callbackPriority = 0);
    else if (((o = h & -h), i.callbackPriority !== o)) {
      if ((u != null && nl(u), o === 1))
        i.tag === 0 ? XP(_0.bind(null, i)) : iv(_0.bind(null, i)),
          qP(function () {
            (Le & 6) === 0 && Ri();
          }),
          (u = null);
      else {
        switch (Ei(h)) {
          case 1:
            u = Ss;
            break;
          case 4:
            u = yi;
            break;
          case 16:
            u = kn;
            break;
          case 536870912:
            u = Hu;
            break;
          default:
            u = kn;
        }
        u = b0(u, v0.bind(null, i));
      }
      (i.callbackPriority = o), (i.callbackNode = u);
    }
  }
  function v0(i, o) {
    if ((($c = -1), (Hc = 0), (Le & 6) !== 0)) throw Error(n(327));
    var u = i.callbackNode;
    if (aa() && i.callbackNode !== u) return null;
    var h = bs(i, i === jt ? Bt : 0);
    if (h === 0) return null;
    if ((h & 30) !== 0 || (h & i.expiredLanes) !== 0 || o) o = Wc(i, h);
    else {
      o = h;
      var m = Le;
      Le |= 2;
      var _ = x0();
      (jt !== i || Bt !== o) && ((ei = null), (oa = qe() + 500), zs(i, o));
      do
        try {
          yS();
          break;
        } catch (R) {
          w0(i, R);
        }
      while (!0);
      df(),
        (Lc.current = _),
        (Le = m),
        yt !== null ? (o = 0) : ((jt = null), (Bt = 0), (o = It));
    }
    if (o !== 0) {
      if (
        (o === 2 && ((m = xn(i)), m !== 0 && ((h = m), (o = Kf(i, m)))),
        o === 1)
      )
        throw ((u = kl), zs(i, 0), Mi(i, h), mn(i, qe()), u);
      if (o === 6) Mi(i, h);
      else {
        if (
          ((m = i.current.alternate),
          (h & 30) === 0 &&
            !mS(m) &&
            ((o = Wc(i, h)),
            o === 2 && ((_ = xn(i)), _ !== 0 && ((h = _), (o = Kf(i, _)))),
            o === 1))
        )
          throw ((u = kl), zs(i, 0), Mi(i, h), mn(i, qe()), u);
        switch (((i.finishedWork = m), (i.finishedLanes = h), o)) {
          case 0:
          case 1:
            throw Error(n(345));
          case 2:
            $s(i, pn, ei);
            break;
          case 3:
            if (
              (Mi(i, h),
              (h & 130023424) === h && ((o = Wf + 500 - qe()), 10 < o))
            ) {
              if (bs(i, 0) !== 0) break;
              if (((m = i.suspendedLanes), (m & h) !== h)) {
                on(), (i.pingedLanes |= i.suspendedLanes & m);
                break;
              }
              i.timeoutHandle = Zh($s.bind(null, i, pn, ei), o);
              break;
            }
            $s(i, pn, ei);
            break;
          case 4:
            if ((Mi(i, h), (h & 4194240) === h)) break;
            for (o = i.eventTimes, m = -1; 0 < h; ) {
              var T = 31 - nn(h);
              (_ = 1 << T), (T = o[T]), T > m && (m = T), (h &= ~_);
            }
            if (
              ((h = m),
              (h = qe() - h),
              (h =
                (120 > h
                  ? 120
                  : 480 > h
                  ? 480
                  : 1080 > h
                  ? 1080
                  : 1920 > h
                  ? 1920
                  : 3e3 > h
                  ? 3e3
                  : 4320 > h
                  ? 4320
                  : 1960 * pS(h / 1960)) - h),
              10 < h)
            ) {
              i.timeoutHandle = Zh($s.bind(null, i, pn, ei), h);
              break;
            }
            $s(i, pn, ei);
            break;
          case 5:
            $s(i, pn, ei);
            break;
          default:
            throw Error(n(329));
        }
      }
    }
    return mn(i, qe()), i.callbackNode === u ? v0.bind(null, i) : null;
  }
  function Kf(i, o) {
    var u = Nl;
    return (
      i.current.memoizedState.isDehydrated && (zs(i, o).flags |= 256),
      (i = Wc(i, o)),
      i !== 2 && ((o = pn), (pn = u), o !== null && Qf(o)),
      i
    );
  }
  function Qf(i) {
    pn === null ? (pn = i) : pn.push.apply(pn, i);
  }
  function mS(i) {
    for (var o = i; ; ) {
      if (o.flags & 16384) {
        var u = o.updateQueue;
        if (u !== null && ((u = u.stores), u !== null))
          for (var h = 0; h < u.length; h++) {
            var m = u[h],
              _ = m.getSnapshot;
            m = m.value;
            try {
              if (!Zn(_(), m)) return !1;
            } catch {
              return !1;
            }
          }
      }
      if (((u = o.child), o.subtreeFlags & 16384 && u !== null))
        (u.return = o), (o = u);
      else {
        if (o === i) break;
        for (; o.sibling === null; ) {
          if (o.return === null || o.return === i) return !0;
          o = o.return;
        }
        (o.sibling.return = o.return), (o = o.sibling);
      }
    }
    return !0;
  }
  function Mi(i, o) {
    for (
      o &= ~Hf,
        o &= ~Fc,
        i.suspendedLanes |= o,
        i.pingedLanes &= ~o,
        i = i.expirationTimes;
      0 < o;

    ) {
      var u = 31 - nn(o),
        h = 1 << u;
      (i[u] = -1), (o &= ~h);
    }
  }
  function _0(i) {
    if ((Le & 6) !== 0) throw Error(n(327));
    aa();
    var o = bs(i, 0);
    if ((o & 1) === 0) return mn(i, qe()), null;
    var u = Wc(i, o);
    if (i.tag !== 0 && u === 2) {
      var h = xn(i);
      h !== 0 && ((o = h), (u = Kf(i, h)));
    }
    if (u === 1) throw ((u = kl), zs(i, 0), Mi(i, o), mn(i, qe()), u);
    if (u === 6) throw Error(n(345));
    return (
      (i.finishedWork = i.current.alternate),
      (i.finishedLanes = o),
      $s(i, pn, ei),
      mn(i, qe()),
      null
    );
  }
  function Xf(i, o) {
    var u = Le;
    Le |= 1;
    try {
      return i(o);
    } finally {
      (Le = u), Le === 0 && ((oa = qe() + 500), vc && Ri());
    }
  }
  function Bs(i) {
    Vi !== null && Vi.tag === 0 && (Le & 6) === 0 && aa();
    var o = Le;
    Le |= 1;
    var u = Ln.transition,
      h = De;
    try {
      if (((Ln.transition = null), (De = 1), i)) return i();
    } finally {
      (De = h), (Ln.transition = u), (Le = o), (Le & 6) === 0 && Ri();
    }
  }
  function Yf() {
    (In = sa.current), Qe(sa);
  }
  function zs(i, o) {
    (i.finishedWork = null), (i.finishedLanes = 0);
    var u = i.timeoutHandle;
    if ((u !== -1 && ((i.timeoutHandle = -1), WP(u)), yt !== null))
      for (u = yt.return; u !== null; ) {
        var h = u;
        switch ((of(h), h.tag)) {
          case 1:
            (h = h.type.childContextTypes), h != null && gc();
            break;
          case 3:
            na(), Qe(dn), Qe(Gt), _f();
            break;
          case 5:
            yf(h);
            break;
          case 4:
            na();
            break;
          case 13:
            Qe(tt);
            break;
          case 19:
            Qe(tt);
            break;
          case 10:
            hf(h.type._context);
            break;
          case 22:
          case 23:
            Yf();
        }
        u = u.return;
      }
    if (
      ((jt = i),
      (yt = i = Li(i.current, null)),
      (Bt = In = o),
      (It = 0),
      (kl = null),
      (Hf = Fc = Us = 0),
      (pn = Nl = null),
      Ms !== null)
    ) {
      for (o = 0; o < Ms.length; o++)
        if (((u = Ms[o]), (h = u.interleaved), h !== null)) {
          u.interleaved = null;
          var m = h.next,
            _ = u.pending;
          if (_ !== null) {
            var T = _.next;
            (_.next = m), (h.next = T);
          }
          u.pending = h;
        }
      Ms = null;
    }
    return i;
  }
  function w0(i, o) {
    do {
      var u = yt;
      try {
        if ((df(), (Cc.current = Nc), Ac)) {
          for (var h = nt.memoizedState; h !== null; ) {
            var m = h.queue;
            m !== null && (m.pending = null), (h = h.next);
          }
          Ac = !1;
        }
        if (
          ((Fs = 0),
          (Nt = St = nt = null),
          (Sl = !1),
          (Il = 0),
          ($f.current = null),
          u === null || u.return === null)
        ) {
          (It = 1), (kl = o), (yt = null);
          break;
        }
        e: {
          var _ = i,
            T = u.return,
            R = u,
            V = o;
          if (
            ((o = Bt),
            (R.flags |= 32768),
            V !== null && typeof V == "object" && typeof V.then == "function")
          ) {
            var W = V,
              ee = R,
              te = ee.tag;
            if ((ee.mode & 1) === 0 && (te === 0 || te === 11 || te === 15)) {
              var J = ee.alternate;
              J
                ? ((ee.updateQueue = J.updateQueue),
                  (ee.memoizedState = J.memoizedState),
                  (ee.lanes = J.lanes))
                : ((ee.updateQueue = null), (ee.memoizedState = null));
            }
            var le = Wv(T);
            if (le !== null) {
              (le.flags &= -257),
                qv(le, T, R, _, o),
                le.mode & 1 && Hv(_, W, o),
                (o = le),
                (V = W);
              var de = o.updateQueue;
              if (de === null) {
                var he = new Set();
                he.add(V), (o.updateQueue = he);
              } else de.add(V);
              break e;
            } else {
              if ((o & 1) === 0) {
                Hv(_, W, o), Jf();
                break e;
              }
              V = Error(n(426));
            }
          } else if (Ze && R.mode & 1) {
            var dt = Wv(T);
            if (dt !== null) {
              (dt.flags & 65536) === 0 && (dt.flags |= 256),
                qv(dt, T, R, _, o),
                uf(ra(V, R));
              break e;
            }
          }
          (_ = V = ra(V, R)),
            It !== 4 && (It = 2),
            Nl === null ? (Nl = [_]) : Nl.push(_),
            (_ = T);
          do {
            switch (_.tag) {
              case 3:
                (_.flags |= 65536), (o &= -o), (_.lanes |= o);
                var z = zv(_, V, o);
                mv(_, z);
                break e;
              case 1:
                R = V;
                var O = _.type,
                  H = _.stateNode;
                if (
                  (_.flags & 128) === 0 &&
                  (typeof O.getDerivedStateFromError == "function" ||
                    (H !== null &&
                      typeof H.componentDidCatch == "function" &&
                      (Di === null || !Di.has(H))))
                ) {
                  (_.flags |= 65536), (o &= -o), (_.lanes |= o);
                  var re = $v(_, R, o);
                  mv(_, re);
                  break e;
                }
            }
            _ = _.return;
          } while (_ !== null);
        }
        T0(u);
      } catch (fe) {
        (o = fe), yt === u && u !== null && (yt = u = u.return);
        continue;
      }
      break;
    } while (!0);
  }
  function x0() {
    var i = Lc.current;
    return (Lc.current = Nc), i === null ? Nc : i;
  }
  function Jf() {
    (It === 0 || It === 3 || It === 2) && (It = 4),
      jt === null ||
        ((Us & 268435455) === 0 && (Fc & 268435455) === 0) ||
        Mi(jt, Bt);
  }
  function Wc(i, o) {
    var u = Le;
    Le |= 2;
    var h = x0();
    (jt !== i || Bt !== o) && ((ei = null), zs(i, o));
    do
      try {
        gS();
        break;
      } catch (m) {
        w0(i, m);
      }
    while (!0);
    if ((df(), (Le = u), (Lc.current = h), yt !== null)) throw Error(n(261));
    return (jt = null), (Bt = 0), It;
  }
  function gS() {
    for (; yt !== null; ) E0(yt);
  }
  function yS() {
    for (; yt !== null && !zu(); ) E0(yt);
  }
  function E0(i) {
    var o = I0(i.alternate, i, In);
    (i.memoizedProps = i.pendingProps),
      o === null ? T0(i) : (yt = o),
      ($f.current = null);
  }
  function T0(i) {
    var o = i;
    do {
      var u = o.alternate;
      if (((i = o.return), (o.flags & 32768) === 0)) {
        if (((u = uS(u, o, In)), u !== null)) {
          yt = u;
          return;
        }
      } else {
        if (((u = cS(u, o)), u !== null)) {
          (u.flags &= 32767), (yt = u);
          return;
        }
        if (i !== null)
          (i.flags |= 32768), (i.subtreeFlags = 0), (i.deletions = null);
        else {
          (It = 6), (yt = null);
          return;
        }
      }
      if (((o = o.sibling), o !== null)) {
        yt = o;
        return;
      }
      yt = o = i;
    } while (o !== null);
    It === 0 && (It = 5);
  }
  function $s(i, o, u) {
    var h = De,
      m = Ln.transition;
    try {
      (Ln.transition = null), (De = 1), vS(i, o, u, h);
    } finally {
      (Ln.transition = m), (De = h);
    }
    return null;
  }
  function vS(i, o, u, h) {
    do aa();
    while (Vi !== null);
    if ((Le & 6) !== 0) throw Error(n(327));
    u = i.finishedWork;
    var m = i.finishedLanes;
    if (u === null) return null;
    if (((i.finishedWork = null), (i.finishedLanes = 0), u === i.current))
      throw Error(n(177));
    (i.callbackNode = null), (i.callbackPriority = 0);
    var _ = u.lanes | u.childLanes;
    if (
      (He(i, _),
      i === jt && ((yt = jt = null), (Bt = 0)),
      ((u.subtreeFlags & 2064) === 0 && (u.flags & 2064) === 0) ||
        Bc ||
        ((Bc = !0),
        b0(kn, function () {
          return aa(), null;
        })),
      (_ = (u.flags & 15990) !== 0),
      (u.subtreeFlags & 15990) !== 0 || _)
    ) {
      (_ = Ln.transition), (Ln.transition = null);
      var T = De;
      De = 1;
      var R = Le;
      (Le |= 4),
        ($f.current = null),
        hS(i, u),
        f0(u, i),
        LP(Yh),
        (Pi = !!Xh),
        (Yh = Xh = null),
        (i.current = u),
        fS(u),
        Dh(),
        (Le = R),
        (De = T),
        (Ln.transition = _);
    } else i.current = u;
    if (
      (Bc && ((Bc = !1), (Vi = i), (zc = m)),
      (_ = i.pendingLanes),
      _ === 0 && (Di = null),
      Wu(u.stateNode),
      mn(i, qe()),
      o !== null)
    )
      for (h = i.onRecoverableError, u = 0; u < o.length; u++)
        (m = o[u]), h(m.value, { componentStack: m.stack, digest: m.digest });
    if (Uc) throw ((Uc = !1), (i = qf), (qf = null), i);
    return (
      (zc & 1) !== 0 && i.tag !== 0 && aa(),
      (_ = i.pendingLanes),
      (_ & 1) !== 0 ? (i === Gf ? jl++ : ((jl = 0), (Gf = i))) : (jl = 0),
      Ri(),
      null
    );
  }
  function aa() {
    if (Vi !== null) {
      var i = Ei(zc),
        o = Ln.transition,
        u = De;
      try {
        if (((Ln.transition = null), (De = 16 > i ? 16 : i), Vi === null))
          var h = !1;
        else {
          if (((i = Vi), (Vi = null), (zc = 0), (Le & 6) !== 0))
            throw Error(n(331));
          var m = Le;
          for (Le |= 4, ce = i.current; ce !== null; ) {
            var _ = ce,
              T = _.child;
            if ((ce.flags & 16) !== 0) {
              var R = _.deletions;
              if (R !== null) {
                for (var V = 0; V < R.length; V++) {
                  var W = R[V];
                  for (ce = W; ce !== null; ) {
                    var ee = ce;
                    switch (ee.tag) {
                      case 0:
                      case 11:
                      case 15:
                        Rl(8, ee, _);
                    }
                    var te = ee.child;
                    if (te !== null) (te.return = ee), (ce = te);
                    else
                      for (; ce !== null; ) {
                        ee = ce;
                        var J = ee.sibling,
                          le = ee.return;
                        if ((l0(ee), ee === W)) {
                          ce = null;
                          break;
                        }
                        if (J !== null) {
                          (J.return = le), (ce = J);
                          break;
                        }
                        ce = le;
                      }
                  }
                }
                var de = _.alternate;
                if (de !== null) {
                  var he = de.child;
                  if (he !== null) {
                    de.child = null;
                    do {
                      var dt = he.sibling;
                      (he.sibling = null), (he = dt);
                    } while (he !== null);
                  }
                }
                ce = _;
              }
            }
            if ((_.subtreeFlags & 2064) !== 0 && T !== null)
              (T.return = _), (ce = T);
            else
              e: for (; ce !== null; ) {
                if (((_ = ce), (_.flags & 2048) !== 0))
                  switch (_.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Rl(9, _, _.return);
                  }
                var z = _.sibling;
                if (z !== null) {
                  (z.return = _.return), (ce = z);
                  break e;
                }
                ce = _.return;
              }
          }
          var O = i.current;
          for (ce = O; ce !== null; ) {
            T = ce;
            var H = T.child;
            if ((T.subtreeFlags & 2064) !== 0 && H !== null)
              (H.return = T), (ce = H);
            else
              e: for (T = O; ce !== null; ) {
                if (((R = ce), (R.flags & 2048) !== 0))
                  try {
                    switch (R.tag) {
                      case 0:
                      case 11:
                      case 15:
                        Mc(9, R);
                    }
                  } catch (fe) {
                    ot(R, R.return, fe);
                  }
                if (R === T) {
                  ce = null;
                  break e;
                }
                var re = R.sibling;
                if (re !== null) {
                  (re.return = R.return), (ce = re);
                  break e;
                }
                ce = R.return;
              }
          }
          if (
            ((Le = m),
            Ri(),
            wn && typeof wn.onPostCommitFiberRoot == "function")
          )
            try {
              wn.onPostCommitFiberRoot(Is, i);
            } catch {}
          h = !0;
        }
        return h;
      } finally {
        (De = u), (Ln.transition = o);
      }
    }
    return !1;
  }
  function P0(i, o, u) {
    (o = ra(u, o)),
      (o = zv(i, o, 1)),
      (i = Ni(i, o, 1)),
      (o = on()),
      i !== null && (wi(i, 1, o), mn(i, o));
  }
  function ot(i, o, u) {
    if (i.tag === 3) P0(i, i, u);
    else
      for (; o !== null; ) {
        if (o.tag === 3) {
          P0(o, i, u);
          break;
        } else if (o.tag === 1) {
          var h = o.stateNode;
          if (
            typeof o.type.getDerivedStateFromError == "function" ||
            (typeof h.componentDidCatch == "function" &&
              (Di === null || !Di.has(h)))
          ) {
            (i = ra(u, i)),
              (i = $v(o, i, 1)),
              (o = Ni(o, i, 1)),
              (i = on()),
              o !== null && (wi(o, 1, i), mn(o, i));
            break;
          }
        }
        o = o.return;
      }
  }
  function _S(i, o, u) {
    var h = i.pingCache;
    h !== null && h.delete(o),
      (o = on()),
      (i.pingedLanes |= i.suspendedLanes & u),
      jt === i &&
        (Bt & u) === u &&
        (It === 4 || (It === 3 && (Bt & 130023424) === Bt && 500 > qe() - Wf)
          ? zs(i, 0)
          : (Hf |= u)),
      mn(i, o);
  }
  function S0(i, o) {
    o === 0 &&
      ((i.mode & 1) === 0
        ? (o = 1)
        : ((o = Ro), (Ro <<= 1), (Ro & 130023424) === 0 && (Ro = 4194304)));
    var u = on();
    (i = Yr(i, o)), i !== null && (wi(i, o, u), mn(i, u));
  }
  function wS(i) {
    var o = i.memoizedState,
      u = 0;
    o !== null && (u = o.retryLane), S0(i, u);
  }
  function xS(i, o) {
    var u = 0;
    switch (i.tag) {
      case 13:
        var h = i.stateNode,
          m = i.memoizedState;
        m !== null && (u = m.retryLane);
        break;
      case 19:
        h = i.stateNode;
        break;
      default:
        throw Error(n(314));
    }
    h !== null && h.delete(o), S0(i, u);
  }
  var I0;
  I0 = function (i, o, u) {
    if (i !== null)
      if (i.memoizedProps !== o.pendingProps || dn.current) fn = !0;
      else {
        if ((i.lanes & u) === 0 && (o.flags & 128) === 0)
          return (fn = !1), lS(i, o, u);
        fn = (i.flags & 131072) !== 0;
      }
    else (fn = !1), Ze && (o.flags & 1048576) !== 0 && sv(o, wc, o.index);
    switch (((o.lanes = 0), o.tag)) {
      case 2:
        var h = o.type;
        Vc(i, o), (i = o.pendingProps);
        var m = Qo(o, Gt.current);
        ta(o, u), (m = Ef(null, o, h, i, m, u));
        var _ = Tf();
        return (
          (o.flags |= 1),
          typeof m == "object" &&
          m !== null &&
          typeof m.render == "function" &&
          m.$$typeof === void 0
            ? ((o.tag = 1),
              (o.memoizedState = null),
              (o.updateQueue = null),
              hn(h) ? ((_ = !0), yc(o)) : (_ = !1),
              (o.memoizedState =
                m.state !== null && m.state !== void 0 ? m.state : null),
              mf(o),
              (m.updater = jc),
              (o.stateNode = m),
              (m._reactInternals = o),
              Af(o, h, i, u),
              (o = jf(null, o, h, !0, _, u)))
            : ((o.tag = 0), Ze && _ && sf(o), sn(null, o, m, u), (o = o.child)),
          o
        );
      case 16:
        h = o.elementType;
        e: {
          switch (
            (Vc(i, o),
            (i = o.pendingProps),
            (m = h._init),
            (h = m(h._payload)),
            (o.type = h),
            (m = o.tag = TS(h)),
            (i = tr(h, i)),
            m)
          ) {
            case 0:
              o = Nf(null, o, h, i, u);
              break e;
            case 1:
              o = Jv(null, o, h, i, u);
              break e;
            case 11:
              o = Gv(null, o, h, i, u);
              break e;
            case 14:
              o = Kv(null, o, h, tr(h.type, i), u);
              break e;
          }
          throw Error(n(306, h, ""));
        }
        return o;
      case 0:
        return (
          (h = o.type),
          (m = o.pendingProps),
          (m = o.elementType === h ? m : tr(h, m)),
          Nf(i, o, h, m, u)
        );
      case 1:
        return (
          (h = o.type),
          (m = o.pendingProps),
          (m = o.elementType === h ? m : tr(h, m)),
          Jv(i, o, h, m, u)
        );
      case 3:
        e: {
          if ((Zv(o), i === null)) throw Error(n(387));
          (h = o.pendingProps),
            (_ = o.memoizedState),
            (m = _.element),
            pv(i, o),
            Ic(o, h, null, u);
          var T = o.memoizedState;
          if (((h = T.element), _.isDehydrated))
            if (
              ((_ = {
                element: h,
                isDehydrated: !1,
                cache: T.cache,
                pendingSuspenseBoundaries: T.pendingSuspenseBoundaries,
                transitions: T.transitions,
              }),
              (o.updateQueue.baseState = _),
              (o.memoizedState = _),
              o.flags & 256)
            ) {
              (m = ra(Error(n(423)), o)), (o = e0(i, o, h, u, m));
              break e;
            } else if (h !== m) {
              (m = ra(Error(n(424)), o)), (o = e0(i, o, h, u, m));
              break e;
            } else
              for (
                Sn = bi(o.stateNode.containerInfo.firstChild),
                  Pn = o,
                  Ze = !0,
                  er = null,
                  u = hv(o, null, h, u),
                  o.child = u;
                u;

              )
                (u.flags = (u.flags & -3) | 4096), (u = u.sibling);
          else {
            if ((Jo(), h === m)) {
              o = Zr(i, o, u);
              break e;
            }
            sn(i, o, h, u);
          }
          o = o.child;
        }
        return o;
      case 5:
        return (
          yv(o),
          i === null && lf(o),
          (h = o.type),
          (m = o.pendingProps),
          (_ = i !== null ? i.memoizedProps : null),
          (T = m.children),
          Jh(h, m) ? (T = null) : _ !== null && Jh(h, _) && (o.flags |= 32),
          Yv(i, o),
          sn(i, o, T, u),
          o.child
        );
      case 6:
        return i === null && lf(o), null;
      case 13:
        return t0(i, o, u);
      case 4:
        return (
          gf(o, o.stateNode.containerInfo),
          (h = o.pendingProps),
          i === null ? (o.child = Zo(o, null, h, u)) : sn(i, o, h, u),
          o.child
        );
      case 11:
        return (
          (h = o.type),
          (m = o.pendingProps),
          (m = o.elementType === h ? m : tr(h, m)),
          Gv(i, o, h, m, u)
        );
      case 7:
        return sn(i, o, o.pendingProps, u), o.child;
      case 8:
        return sn(i, o, o.pendingProps.children, u), o.child;
      case 12:
        return sn(i, o, o.pendingProps.children, u), o.child;
      case 10:
        e: {
          if (
            ((h = o.type._context),
            (m = o.pendingProps),
            (_ = o.memoizedProps),
            (T = m.value),
            Ge(Tc, h._currentValue),
            (h._currentValue = T),
            _ !== null)
          )
            if (Zn(_.value, T)) {
              if (_.children === m.children && !dn.current) {
                o = Zr(i, o, u);
                break e;
              }
            } else
              for (_ = o.child, _ !== null && (_.return = o); _ !== null; ) {
                var R = _.dependencies;
                if (R !== null) {
                  T = _.child;
                  for (var V = R.firstContext; V !== null; ) {
                    if (V.context === h) {
                      if (_.tag === 1) {
                        (V = Jr(-1, u & -u)), (V.tag = 2);
                        var W = _.updateQueue;
                        if (W !== null) {
                          W = W.shared;
                          var ee = W.pending;
                          ee === null
                            ? (V.next = V)
                            : ((V.next = ee.next), (ee.next = V)),
                            (W.pending = V);
                        }
                      }
                      (_.lanes |= u),
                        (V = _.alternate),
                        V !== null && (V.lanes |= u),
                        ff(_.return, u, o),
                        (R.lanes |= u);
                      break;
                    }
                    V = V.next;
                  }
                } else if (_.tag === 10) T = _.type === o.type ? null : _.child;
                else if (_.tag === 18) {
                  if (((T = _.return), T === null)) throw Error(n(341));
                  (T.lanes |= u),
                    (R = T.alternate),
                    R !== null && (R.lanes |= u),
                    ff(T, u, o),
                    (T = _.sibling);
                } else T = _.child;
                if (T !== null) T.return = _;
                else
                  for (T = _; T !== null; ) {
                    if (T === o) {
                      T = null;
                      break;
                    }
                    if (((_ = T.sibling), _ !== null)) {
                      (_.return = T.return), (T = _);
                      break;
                    }
                    T = T.return;
                  }
                _ = T;
              }
          sn(i, o, m.children, u), (o = o.child);
        }
        return o;
      case 9:
        return (
          (m = o.type),
          (h = o.pendingProps.children),
          ta(o, u),
          (m = On(m)),
          (h = h(m)),
          (o.flags |= 1),
          sn(i, o, h, u),
          o.child
        );
      case 14:
        return (
          (h = o.type),
          (m = tr(h, o.pendingProps)),
          (m = tr(h.type, m)),
          Kv(i, o, h, m, u)
        );
      case 15:
        return Qv(i, o, o.type, o.pendingProps, u);
      case 17:
        return (
          (h = o.type),
          (m = o.pendingProps),
          (m = o.elementType === h ? m : tr(h, m)),
          Vc(i, o),
          (o.tag = 1),
          hn(h) ? ((i = !0), yc(o)) : (i = !1),
          ta(o, u),
          Uv(o, h, m),
          Af(o, h, m, u),
          jf(null, o, h, !0, i, u)
        );
      case 19:
        return r0(i, o, u);
      case 22:
        return Xv(i, o, u);
    }
    throw Error(n(156, o.tag));
  };
  function b0(i, o) {
    return Co(i, o);
  }
  function ES(i, o, u, h) {
    (this.tag = i),
      (this.key = u),
      (this.sibling =
        this.child =
        this.return =
        this.stateNode =
        this.type =
        this.elementType =
          null),
      (this.index = 0),
      (this.ref = null),
      (this.pendingProps = o),
      (this.dependencies =
        this.memoizedState =
        this.updateQueue =
        this.memoizedProps =
          null),
      (this.mode = h),
      (this.subtreeFlags = this.flags = 0),
      (this.deletions = null),
      (this.childLanes = this.lanes = 0),
      (this.alternate = null);
  }
  function Fn(i, o, u, h) {
    return new ES(i, o, u, h);
  }
  function Zf(i) {
    return (i = i.prototype), !(!i || !i.isReactComponent);
  }
  function TS(i) {
    if (typeof i == "function") return Zf(i) ? 1 : 0;
    if (i != null) {
      if (((i = i.$$typeof), i === U)) return 11;
      if (i === Ot) return 14;
    }
    return 2;
  }
  function Li(i, o) {
    var u = i.alternate;
    return (
      u === null
        ? ((u = Fn(i.tag, o, i.key, i.mode)),
          (u.elementType = i.elementType),
          (u.type = i.type),
          (u.stateNode = i.stateNode),
          (u.alternate = i),
          (i.alternate = u))
        : ((u.pendingProps = o),
          (u.type = i.type),
          (u.flags = 0),
          (u.subtreeFlags = 0),
          (u.deletions = null)),
      (u.flags = i.flags & 14680064),
      (u.childLanes = i.childLanes),
      (u.lanes = i.lanes),
      (u.child = i.child),
      (u.memoizedProps = i.memoizedProps),
      (u.memoizedState = i.memoizedState),
      (u.updateQueue = i.updateQueue),
      (o = i.dependencies),
      (u.dependencies =
        o === null ? null : { lanes: o.lanes, firstContext: o.firstContext }),
      (u.sibling = i.sibling),
      (u.index = i.index),
      (u.ref = i.ref),
      u
    );
  }
  function qc(i, o, u, h, m, _) {
    var T = 2;
    if (((h = i), typeof i == "function")) Zf(i) && (T = 1);
    else if (typeof i == "string") T = 5;
    else
      e: switch (i) {
        case C:
          return Hs(u.children, m, _, o);
        case I:
          (T = 8), (m |= 8);
          break;
        case A:
          return (
            (i = Fn(12, u, o, m | 2)), (i.elementType = A), (i.lanes = _), i
          );
        case j:
          return (i = Fn(13, u, o, m)), (i.elementType = j), (i.lanes = _), i;
        case Ye:
          return (i = Fn(19, u, o, m)), (i.elementType = Ye), (i.lanes = _), i;
        case Ie:
          return Gc(u, m, _, o);
        default:
          if (typeof i == "object" && i !== null)
            switch (i.$$typeof) {
              case D:
                T = 10;
                break e;
              case M:
                T = 9;
                break e;
              case U:
                T = 11;
                break e;
              case Ot:
                T = 14;
                break e;
              case Mt:
                (T = 16), (h = null);
                break e;
            }
          throw Error(n(130, i == null ? i : typeof i, ""));
      }
    return (
      (o = Fn(T, u, o, m)), (o.elementType = i), (o.type = h), (o.lanes = _), o
    );
  }
  function Hs(i, o, u, h) {
    return (i = Fn(7, i, h, o)), (i.lanes = u), i;
  }
  function Gc(i, o, u, h) {
    return (
      (i = Fn(22, i, h, o)),
      (i.elementType = Ie),
      (i.lanes = u),
      (i.stateNode = { isHidden: !1 }),
      i
    );
  }
  function ep(i, o, u) {
    return (i = Fn(6, i, null, o)), (i.lanes = u), i;
  }
  function tp(i, o, u) {
    return (
      (o = Fn(4, i.children !== null ? i.children : [], i.key, o)),
      (o.lanes = u),
      (o.stateNode = {
        containerInfo: i.containerInfo,
        pendingChildren: null,
        implementation: i.implementation,
      }),
      o
    );
  }
  function PS(i, o, u, h, m) {
    (this.tag = o),
      (this.containerInfo = i),
      (this.finishedWork =
        this.pingCache =
        this.current =
        this.pendingChildren =
          null),
      (this.timeoutHandle = -1),
      (this.callbackNode = this.pendingContext = this.context = null),
      (this.callbackPriority = 0),
      (this.eventTimes = _i(0)),
      (this.expirationTimes = _i(-1)),
      (this.entangledLanes =
        this.finishedLanes =
        this.mutableReadLanes =
        this.expiredLanes =
        this.pingedLanes =
        this.suspendedLanes =
        this.pendingLanes =
          0),
      (this.entanglements = _i(0)),
      (this.identifierPrefix = h),
      (this.onRecoverableError = m),
      (this.mutableSourceEagerHydrationData = null);
  }
  function np(i, o, u, h, m, _, T, R, V) {
    return (
      (i = new PS(i, o, u, R, V)),
      o === 1 ? ((o = 1), _ === !0 && (o |= 8)) : (o = 0),
      (_ = Fn(3, null, null, o)),
      (i.current = _),
      (_.stateNode = i),
      (_.memoizedState = {
        element: h,
        isDehydrated: u,
        cache: null,
        transitions: null,
        pendingSuspenseBoundaries: null,
      }),
      mf(_),
      i
    );
  }
  function SS(i, o, u) {
    var h =
      3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
      $$typeof: oe,
      key: h == null ? null : "" + h,
      children: i,
      containerInfo: o,
      implementation: u,
    };
  }
  function C0(i) {
    if (!i) return Ai;
    i = i._reactInternals;
    e: {
      if (qn(i) !== i || i.tag !== 1) throw Error(n(170));
      var o = i;
      do {
        switch (o.tag) {
          case 3:
            o = o.stateNode.context;
            break e;
          case 1:
            if (hn(o.type)) {
              o = o.stateNode.__reactInternalMemoizedMergedChildContext;
              break e;
            }
        }
        o = o.return;
      } while (o !== null);
      throw Error(n(171));
    }
    if (i.tag === 1) {
      var u = i.type;
      if (hn(u)) return nv(i, u, o);
    }
    return o;
  }
  function A0(i, o, u, h, m, _, T, R, V) {
    return (
      (i = np(u, h, !0, i, m, _, T, R, V)),
      (i.context = C0(null)),
      (u = i.current),
      (h = on()),
      (m = Oi(u)),
      (_ = Jr(h, m)),
      (_.callback = o ?? null),
      Ni(u, _, m),
      (i.current.lanes = m),
      wi(i, m, h),
      mn(i, h),
      i
    );
  }
  function Kc(i, o, u, h) {
    var m = o.current,
      _ = on(),
      T = Oi(m);
    return (
      (u = C0(u)),
      o.context === null ? (o.context = u) : (o.pendingContext = u),
      (o = Jr(_, T)),
      (o.payload = { element: i }),
      (h = h === void 0 ? null : h),
      h !== null && (o.callback = h),
      (i = Ni(m, o, T)),
      i !== null && (ir(i, m, T, _), Sc(i, m, T)),
      T
    );
  }
  function Qc(i) {
    if (((i = i.current), !i.child)) return null;
    switch (i.child.tag) {
      case 5:
        return i.child.stateNode;
      default:
        return i.child.stateNode;
    }
  }
  function R0(i, o) {
    if (((i = i.memoizedState), i !== null && i.dehydrated !== null)) {
      var u = i.retryLane;
      i.retryLane = u !== 0 && u < o ? u : o;
    }
  }
  function rp(i, o) {
    R0(i, o), (i = i.alternate) && R0(i, o);
  }
  function IS() {
    return null;
  }
  var k0 =
    typeof reportError == "function"
      ? reportError
      : function (i) {
          console.error(i);
        };
  function ip(i) {
    this._internalRoot = i;
  }
  (Xc.prototype.render = ip.prototype.render =
    function (i) {
      var o = this._internalRoot;
      if (o === null) throw Error(n(409));
      Kc(i, o, null, null);
    }),
    (Xc.prototype.unmount = ip.prototype.unmount =
      function () {
        var i = this._internalRoot;
        if (i !== null) {
          this._internalRoot = null;
          var o = i.containerInfo;
          Bs(function () {
            Kc(null, i, null, null);
          }),
            (o[Gr] = null);
        }
      });
  function Xc(i) {
    this._internalRoot = i;
  }
  Xc.prototype.unstable_scheduleHydration = function (i) {
    if (i) {
      var o = Xu();
      i = { blockedOn: null, target: i, priority: o };
      for (var u = 0; u < dr.length && o !== 0 && o < dr[u].priority; u++);
      dr.splice(u, 0, i), u === 0 && Zu(i);
    }
  };
  function sp(i) {
    return !(!i || (i.nodeType !== 1 && i.nodeType !== 9 && i.nodeType !== 11));
  }
  function Yc(i) {
    return !(
      !i ||
      (i.nodeType !== 1 &&
        i.nodeType !== 9 &&
        i.nodeType !== 11 &&
        (i.nodeType !== 8 || i.nodeValue !== " react-mount-point-unstable "))
    );
  }
  function N0() {}
  function bS(i, o, u, h, m) {
    if (m) {
      if (typeof h == "function") {
        var _ = h;
        h = function () {
          var W = Qc(T);
          _.call(W);
        };
      }
      var T = A0(o, h, i, 0, null, !1, !1, "", N0);
      return (
        (i._reactRootContainer = T),
        (i[Gr] = T.current),
        yl(i.nodeType === 8 ? i.parentNode : i),
        Bs(),
        T
      );
    }
    for (; (m = i.lastChild); ) i.removeChild(m);
    if (typeof h == "function") {
      var R = h;
      h = function () {
        var W = Qc(V);
        R.call(W);
      };
    }
    var V = np(i, 0, !1, null, null, !1, !1, "", N0);
    return (
      (i._reactRootContainer = V),
      (i[Gr] = V.current),
      yl(i.nodeType === 8 ? i.parentNode : i),
      Bs(function () {
        Kc(o, V, u, h);
      }),
      V
    );
  }
  function Jc(i, o, u, h, m) {
    var _ = u._reactRootContainer;
    if (_) {
      var T = _;
      if (typeof m == "function") {
        var R = m;
        m = function () {
          var V = Qc(T);
          R.call(V);
        };
      }
      Kc(o, T, i, m);
    } else T = bS(u, o, i, m, h);
    return Qc(T);
  }
  (Ku = function (i) {
    switch (i.tag) {
      case 3:
        var o = i.stateNode;
        if (o.current.memoizedState.isDehydrated) {
          var u = vi(o.pendingLanes);
          u !== 0 &&
            (xi(o, u | 1),
            mn(o, qe()),
            (Le & 6) === 0 && ((oa = qe() + 500), Ri()));
        }
        break;
      case 13:
        Bs(function () {
          var h = Yr(i, 1);
          if (h !== null) {
            var m = on();
            ir(h, i, 1, m);
          }
        }),
          rp(i, 1);
    }
  }),
    (ko = function (i) {
      if (i.tag === 13) {
        var o = Yr(i, 134217728);
        if (o !== null) {
          var u = on();
          ir(o, i, 134217728, u);
        }
        rp(i, 134217728);
      }
    }),
    (Qu = function (i) {
      if (i.tag === 13) {
        var o = Oi(i),
          u = Yr(i, o);
        if (u !== null) {
          var h = on();
          ir(u, i, o, h);
        }
        rp(i, o);
      }
    }),
    (Xu = function () {
      return De;
    }),
    (Yu = function (i, o) {
      var u = De;
      try {
        return (De = i), o();
      } finally {
        De = u;
      }
    }),
    (Eo = function (i, o, u) {
      switch (o) {
        case "input":
          if ((za(i, u), (o = u.name), u.type === "radio" && o != null)) {
            for (u = i; u.parentNode; ) u = u.parentNode;
            for (
              u = u.querySelectorAll(
                "input[name=" + JSON.stringify("" + o) + '][type="radio"]'
              ),
                o = 0;
              o < u.length;
              o++
            ) {
              var h = u[o];
              if (h !== i && h.form === i.form) {
                var m = mc(h);
                if (!m) throw Error(n(90));
                go(h), za(h, m);
              }
            }
          }
          break;
        case "textarea":
          wo(i, u);
          break;
        case "select":
          (o = u.value), o != null && Fr(i, !!u.multiple, o, !1);
      }
    }),
    (xs = Xf),
    (Ja = Bs);
  var CS = { usingClientEntryPoint: !1, Events: [wl, Go, mc, ur, Ya, Xf] },
    Dl = {
      findFiberByHostInstance: js,
      bundleType: 0,
      version: "18.3.1",
      rendererPackageName: "react-dom",
    },
    AS = {
      bundleType: Dl.bundleType,
      version: Dl.version,
      rendererPackageName: Dl.rendererPackageName,
      rendererConfig: Dl.rendererConfig,
      overrideHookState: null,
      overrideHookStateDeletePath: null,
      overrideHookStateRenamePath: null,
      overrideProps: null,
      overridePropsDeletePath: null,
      overridePropsRenamePath: null,
      setErrorHandler: null,
      setSuspenseHandler: null,
      scheduleUpdate: null,
      currentDispatcherRef: Y.ReactCurrentDispatcher,
      findHostInstanceByFiber: function (i) {
        return (i = tl(i)), i === null ? null : i.stateNode;
      },
      findFiberByHostInstance: Dl.findFiberByHostInstance || IS,
      findHostInstancesForRefresh: null,
      scheduleRefresh: null,
      scheduleRoot: null,
      setRefreshHandler: null,
      getCurrentFiber: null,
      reconcilerVersion: "18.3.1-next-f1338f8080-20240426",
    };
  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var Zc = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!Zc.isDisabled && Zc.supportsFiber)
      try {
        (Is = Zc.inject(AS)), (wn = Zc);
      } catch {}
  }
  return (
    (gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = CS),
    (gn.createPortal = function (i, o) {
      var u =
        2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
      if (!sp(o)) throw Error(n(200));
      return SS(i, o, null, u);
    }),
    (gn.createRoot = function (i, o) {
      if (!sp(i)) throw Error(n(299));
      var u = !1,
        h = "",
        m = k0;
      return (
        o != null &&
          (o.unstable_strictMode === !0 && (u = !0),
          o.identifierPrefix !== void 0 && (h = o.identifierPrefix),
          o.onRecoverableError !== void 0 && (m = o.onRecoverableError)),
        (o = np(i, 1, !1, null, null, u, !1, h, m)),
        (i[Gr] = o.current),
        yl(i.nodeType === 8 ? i.parentNode : i),
        new ip(o)
      );
    }),
    (gn.findDOMNode = function (i) {
      if (i == null) return null;
      if (i.nodeType === 1) return i;
      var o = i._reactInternals;
      if (o === void 0)
        throw typeof i.render == "function"
          ? Error(n(188))
          : ((i = Object.keys(i).join(",")), Error(n(268, i)));
      return (i = tl(o)), (i = i === null ? null : i.stateNode), i;
    }),
    (gn.flushSync = function (i) {
      return Bs(i);
    }),
    (gn.hydrate = function (i, o, u) {
      if (!Yc(o)) throw Error(n(200));
      return Jc(null, i, o, !0, u);
    }),
    (gn.hydrateRoot = function (i, o, u) {
      if (!sp(i)) throw Error(n(405));
      var h = (u != null && u.hydratedSources) || null,
        m = !1,
        _ = "",
        T = k0;
      if (
        (u != null &&
          (u.unstable_strictMode === !0 && (m = !0),
          u.identifierPrefix !== void 0 && (_ = u.identifierPrefix),
          u.onRecoverableError !== void 0 && (T = u.onRecoverableError)),
        (o = A0(o, null, i, 1, u ?? null, m, !1, _, T)),
        (i[Gr] = o.current),
        yl(i),
        h)
      )
        for (i = 0; i < h.length; i++)
          (u = h[i]),
            (m = u._getVersion),
            (m = m(u._source)),
            o.mutableSourceEagerHydrationData == null
              ? (o.mutableSourceEagerHydrationData = [u, m])
              : o.mutableSourceEagerHydrationData.push(u, m);
      return new Xc(o);
    }),
    (gn.render = function (i, o, u) {
      if (!Yc(o)) throw Error(n(200));
      return Jc(null, i, o, !1, u);
    }),
    (gn.unmountComponentAtNode = function (i) {
      if (!Yc(i)) throw Error(n(40));
      return i._reactRootContainer
        ? (Bs(function () {
            Jc(null, null, i, !1, function () {
              (i._reactRootContainer = null), (i[Gr] = null);
            });
          }),
          !0)
        : !1;
    }),
    (gn.unstable_batchedUpdates = Xf),
    (gn.unstable_renderSubtreeIntoContainer = function (i, o, u, h) {
      if (!Yc(u)) throw Error(n(200));
      if (i == null || i._reactInternals === void 0) throw Error(n(38));
      return Jc(i, o, u, !1, h);
    }),
    (gn.version = "18.3.1-next-f1338f8080-20240426"),
    gn
  );
}
var U0;
function K1() {
  if (U0) return lp.exports;
  U0 = 1;
  function t() {
    if (
      !(
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
      )
    )
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t);
      } catch (e) {
        console.error(e);
      }
  }
  return t(), (lp.exports = LS()), lp.exports;
}
var B0;
function FS() {
  if (B0) return ed;
  B0 = 1;
  var t = K1();
  return (ed.createRoot = t.createRoot), (ed.hydrateRoot = t.hydrateRoot), ed;
}
var US = FS();
const BS = Lm(US);
var zS = K1();
const $S = Lm(zS);
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function su() {
  return (
    (su = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    su.apply(this, arguments)
  );
}
var Gi;
(function (t) {
  (t.Pop = "POP"), (t.Push = "PUSH"), (t.Replace = "REPLACE");
})(Gi || (Gi = {}));
const z0 = "popstate";
function HS(t) {
  t === void 0 && (t = {});
  function e(r, s) {
    let { pathname: a, search: l, hash: d } = r.location;
    return Up(
      "",
      { pathname: a, search: l, hash: d },
      (s.state && s.state.usr) || null,
      (s.state && s.state.key) || "default"
    );
  }
  function n(r, s) {
    return typeof s == "string" ? s : Rd(s);
  }
  return qS(e, n, null, t);
}
function pt(t, e) {
  if (t === !1 || t === null || typeof t > "u") throw new Error(e);
}
function Q1(t, e) {
  if (!t) {
    typeof console < "u" && console.warn(e);
    try {
      throw new Error(e);
    } catch {}
  }
}
function WS() {
  return Math.random().toString(36).substr(2, 8);
}
function $0(t, e) {
  return { usr: t.state, key: t.key, idx: e };
}
function Up(t, e, n, r) {
  return (
    n === void 0 && (n = null),
    su(
      { pathname: typeof t == "string" ? t : t.pathname, search: "", hash: "" },
      typeof e == "string" ? ka(e) : e,
      { state: n, key: (e && e.key) || r || WS() }
    )
  );
}
function Rd(t) {
  let { pathname: e = "/", search: n = "", hash: r = "" } = t;
  return (
    n && n !== "?" && (e += n.charAt(0) === "?" ? n : "?" + n),
    r && r !== "#" && (e += r.charAt(0) === "#" ? r : "#" + r),
    e
  );
}
function ka(t) {
  let e = {};
  if (t) {
    let n = t.indexOf("#");
    n >= 0 && ((e.hash = t.substr(n)), (t = t.substr(0, n)));
    let r = t.indexOf("?");
    r >= 0 && ((e.search = t.substr(r)), (t = t.substr(0, r))),
      t && (e.pathname = t);
  }
  return e;
}
function qS(t, e, n, r) {
  r === void 0 && (r = {});
  let { window: s = document.defaultView, v5Compat: a = !1 } = r,
    l = s.history,
    d = Gi.Pop,
    f = null,
    p = g();
  p == null && ((p = 0), l.replaceState(su({}, l.state, { idx: p }), ""));
  function g() {
    return (l.state || { idx: null }).idx;
  }
  function w() {
    d = Gi.Pop;
    let k = g(),
      $ = k == null ? null : k - p;
    (p = k), f && f({ action: d, location: N.location, delta: $ });
  }
  function x(k, $) {
    d = Gi.Push;
    let G = Up(N.location, k, $);
    p = g() + 1;
    let q = $0(G, p),
      Y = N.createHref(G);
    try {
      l.pushState(q, "", Y);
    } catch (ne) {
      if (ne instanceof DOMException && ne.name === "DataCloneError") throw ne;
      s.location.assign(Y);
    }
    a && f && f({ action: d, location: N.location, delta: 1 });
  }
  function P(k, $) {
    d = Gi.Replace;
    let G = Up(N.location, k, $);
    p = g();
    let q = $0(G, p),
      Y = N.createHref(G);
    l.replaceState(q, "", Y),
      a && f && f({ action: d, location: N.location, delta: 0 });
  }
  function b(k) {
    let $ = s.location.origin !== "null" ? s.location.origin : s.location.href,
      G = typeof k == "string" ? k : Rd(k);
    return (
      (G = G.replace(/ $/, "%20")),
      pt(
        $,
        "No window.location.(origin|href) available to create URL for href: " +
          G
      ),
      new URL(G, $)
    );
  }
  let N = {
    get action() {
      return d;
    },
    get location() {
      return t(s, l);
    },
    listen(k) {
      if (f) throw new Error("A history only accepts one active listener");
      return (
        s.addEventListener(z0, w),
        (f = k),
        () => {
          s.removeEventListener(z0, w), (f = null);
        }
      );
    },
    createHref(k) {
      return e(s, k);
    },
    createURL: b,
    encodeLocation(k) {
      let $ = b(k);
      return { pathname: $.pathname, search: $.search, hash: $.hash };
    },
    push: x,
    replace: P,
    go(k) {
      return l.go(k);
    },
  };
  return N;
}
var H0;
(function (t) {
  (t.data = "data"),
    (t.deferred = "deferred"),
    (t.redirect = "redirect"),
    (t.error = "error");
})(H0 || (H0 = {}));
function GS(t, e, n) {
  return n === void 0 && (n = "/"), KS(t, e, n);
}
function KS(t, e, n, r) {
  let s = typeof e == "string" ? ka(e) : e,
    a = Um(s.pathname || "/", n);
  if (a == null) return null;
  let l = X1(t);
  QS(l);
  let d = null;
  for (let f = 0; d == null && f < l.length; ++f) {
    let p = aI(a);
    d = iI(l[f], p);
  }
  return d;
}
function X1(t, e, n, r) {
  e === void 0 && (e = []), n === void 0 && (n = []), r === void 0 && (r = "");
  let s = (a, l, d) => {
    let f = {
      relativePath: d === void 0 ? a.path || "" : d,
      caseSensitive: a.caseSensitive === !0,
      childrenIndex: l,
      route: a,
    };
    f.relativePath.startsWith("/") &&
      (pt(
        f.relativePath.startsWith(r),
        'Absolute route path "' +
          f.relativePath +
          '" nested under path ' +
          ('"' + r + '" is not valid. An absolute child route path ') +
          "must start with the combined path of all its parent routes."
      ),
      (f.relativePath = f.relativePath.slice(r.length)));
    let p = Qi([r, f.relativePath]),
      g = n.concat(f);
    a.children &&
      a.children.length > 0 &&
      (pt(
        a.index !== !0,
        "Index routes must not have child routes. Please remove " +
          ('all child routes from route path "' + p + '".')
      ),
      X1(a.children, e, g, p)),
      !(a.path == null && !a.index) &&
        e.push({ path: p, score: nI(p, a.index), routesMeta: g });
  };
  return (
    t.forEach((a, l) => {
      var d;
      if (a.path === "" || !((d = a.path) != null && d.includes("?"))) s(a, l);
      else for (let f of Y1(a.path)) s(a, l, f);
    }),
    e
  );
}
function Y1(t) {
  let e = t.split("/");
  if (e.length === 0) return [];
  let [n, ...r] = e,
    s = n.endsWith("?"),
    a = n.replace(/\?$/, "");
  if (r.length === 0) return s ? [a, ""] : [a];
  let l = Y1(r.join("/")),
    d = [];
  return (
    d.push(...l.map((f) => (f === "" ? a : [a, f].join("/")))),
    s && d.push(...l),
    d.map((f) => (t.startsWith("/") && f === "" ? "/" : f))
  );
}
function QS(t) {
  t.sort((e, n) =>
    e.score !== n.score
      ? n.score - e.score
      : rI(
          e.routesMeta.map((r) => r.childrenIndex),
          n.routesMeta.map((r) => r.childrenIndex)
        )
  );
}
const XS = /^:[\w-]+$/,
  YS = 3,
  JS = 2,
  ZS = 1,
  eI = 10,
  tI = -2,
  W0 = (t) => t === "*";
function nI(t, e) {
  let n = t.split("/"),
    r = n.length;
  return (
    n.some(W0) && (r += tI),
    e && (r += JS),
    n
      .filter((s) => !W0(s))
      .reduce((s, a) => s + (XS.test(a) ? YS : a === "" ? ZS : eI), r)
  );
}
function rI(t, e) {
  return t.length === e.length && t.slice(0, -1).every((r, s) => r === e[s])
    ? t[t.length - 1] - e[e.length - 1]
    : 0;
}
function iI(t, e, n) {
  let { routesMeta: r } = t,
    s = {},
    a = "/",
    l = [];
  for (let d = 0; d < r.length; ++d) {
    let f = r[d],
      p = d === r.length - 1,
      g = a === "/" ? e : e.slice(a.length) || "/",
      w = sI(
        { path: f.relativePath, caseSensitive: f.caseSensitive, end: p },
        g
      ),
      x = f.route;
    if (!w) return null;
    Object.assign(s, w.params),
      l.push({
        params: s,
        pathname: Qi([a, w.pathname]),
        pathnameBase: dI(Qi([a, w.pathnameBase])),
        route: x,
      }),
      w.pathnameBase !== "/" && (a = Qi([a, w.pathnameBase]));
  }
  return l;
}
function sI(t, e) {
  typeof t == "string" && (t = { path: t, caseSensitive: !1, end: !0 });
  let [n, r] = oI(t.path, t.caseSensitive, t.end),
    s = e.match(n);
  if (!s) return null;
  let a = s[0],
    l = a.replace(/(.)\/+$/, "$1"),
    d = s.slice(1);
  return {
    params: r.reduce((p, g, w) => {
      let { paramName: x, isOptional: P } = g;
      if (x === "*") {
        let N = d[w] || "";
        l = a.slice(0, a.length - N.length).replace(/(.)\/+$/, "$1");
      }
      const b = d[w];
      return (
        P && !b ? (p[x] = void 0) : (p[x] = (b || "").replace(/%2F/g, "/")), p
      );
    }, {}),
    pathname: a,
    pathnameBase: l,
    pattern: t,
  };
}
function oI(t, e, n) {
  e === void 0 && (e = !1),
    n === void 0 && (n = !0),
    Q1(
      t === "*" || !t.endsWith("*") || t.endsWith("/*"),
      'Route path "' +
        t +
        '" will be treated as if it were ' +
        ('"' + t.replace(/\*$/, "/*") + '" because the `*` character must ') +
        "always follow a `/` in the pattern. To get rid of this warning, " +
        ('please change the route path to "' + t.replace(/\*$/, "/*") + '".')
    );
  let r = [],
    s =
      "^" +
      t
        .replace(/\/*\*?$/, "")
        .replace(/^\/*/, "/")
        .replace(/[\\.*+^${}|()[\]]/g, "\\$&")
        .replace(
          /\/:([\w-]+)(\?)?/g,
          (l, d, f) => (
            r.push({ paramName: d, isOptional: f != null }),
            f ? "/?([^\\/]+)?" : "/([^\\/]+)"
          )
        );
  return (
    t.endsWith("*")
      ? (r.push({ paramName: "*" }),
        (s += t === "*" || t === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$"))
      : n
      ? (s += "\\/*$")
      : t !== "" && t !== "/" && (s += "(?:(?=\\/|$))"),
    [new RegExp(s, e ? void 0 : "i"), r]
  );
}
function aI(t) {
  try {
    return t
      .split("/")
      .map((e) => decodeURIComponent(e).replace(/\//g, "%2F"))
      .join("/");
  } catch (e) {
    return (
      Q1(
        !1,
        'The URL path "' +
          t +
          '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' +
          ("encoding (" + e + ").")
      ),
      t
    );
  }
}
function Um(t, e) {
  if (e === "/") return t;
  if (!t.toLowerCase().startsWith(e.toLowerCase())) return null;
  let n = e.endsWith("/") ? e.length - 1 : e.length,
    r = t.charAt(n);
  return r && r !== "/" ? null : t.slice(n) || "/";
}
function lI(t, e) {
  e === void 0 && (e = "/");
  let {
    pathname: n,
    search: r = "",
    hash: s = "",
  } = typeof t == "string" ? ka(t) : t;
  return {
    pathname: n ? (n.startsWith("/") ? n : uI(n, e)) : e,
    search: hI(r),
    hash: fI(s),
  };
}
function uI(t, e) {
  let n = e.replace(/\/+$/, "").split("/");
  return (
    t.split("/").forEach((s) => {
      s === ".." ? n.length > 1 && n.pop() : s !== "." && n.push(s);
    }),
    n.length > 1 ? n.join("/") : "/"
  );
}
function dp(t, e, n, r) {
  return (
    "Cannot include a '" +
    t +
    "' character in a manually specified " +
    ("`to." +
      e +
      "` field [" +
      JSON.stringify(r) +
      "].  Please separate it out to the ") +
    ("`to." + n + "` field. Alternatively you may provide the full path as ") +
    'a string in <Link to="..."> and the router will parse it for you.'
  );
}
function cI(t) {
  return t.filter(
    (e, n) => n === 0 || (e.route.path && e.route.path.length > 0)
  );
}
function Bm(t, e) {
  let n = cI(t);
  return e
    ? n.map((r, s) => (s === n.length - 1 ? r.pathname : r.pathnameBase))
    : n.map((r) => r.pathnameBase);
}
function zm(t, e, n, r) {
  r === void 0 && (r = !1);
  let s;
  typeof t == "string"
    ? (s = ka(t))
    : ((s = su({}, t)),
      pt(
        !s.pathname || !s.pathname.includes("?"),
        dp("?", "pathname", "search", s)
      ),
      pt(
        !s.pathname || !s.pathname.includes("#"),
        dp("#", "pathname", "hash", s)
      ),
      pt(!s.search || !s.search.includes("#"), dp("#", "search", "hash", s)));
  let a = t === "" || s.pathname === "",
    l = a ? "/" : s.pathname,
    d;
  if (l == null) d = n;
  else {
    let w = e.length - 1;
    if (!r && l.startsWith("..")) {
      let x = l.split("/");
      for (; x[0] === ".."; ) x.shift(), (w -= 1);
      s.pathname = x.join("/");
    }
    d = w >= 0 ? e[w] : "/";
  }
  let f = lI(s, d),
    p = l && l !== "/" && l.endsWith("/"),
    g = (a || l === ".") && n.endsWith("/");
  return !f.pathname.endsWith("/") && (p || g) && (f.pathname += "/"), f;
}
const Qi = (t) => t.join("/").replace(/\/\/+/g, "/"),
  dI = (t) => t.replace(/\/+$/, "").replace(/^\/*/, "/"),
  hI = (t) => (!t || t === "?" ? "" : t.startsWith("?") ? t : "?" + t),
  fI = (t) => (!t || t === "#" ? "" : t.startsWith("#") ? t : "#" + t);
function pI(t) {
  return (
    t != null &&
    typeof t.status == "number" &&
    typeof t.statusText == "string" &&
    typeof t.internal == "boolean" &&
    "data" in t
  );
}
const J1 = ["post", "put", "patch", "delete"];
new Set(J1);
const mI = ["get", ...J1];
new Set(mI);
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function ou() {
  return (
    (ou = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    ou.apply(this, arguments)
  );
}
const $m = L.createContext(null),
  gI = L.createContext(null),
  cs = L.createContext(null),
  ih = L.createContext(null),
  fi = L.createContext({ outlet: null, matches: [], isDataRoute: !1 }),
  Z1 = L.createContext(null);
function yI(t, e) {
  let { relative: n } = e === void 0 ? {} : e;
  Na() || pt(!1);
  let { basename: r, navigator: s } = L.useContext(cs),
    { hash: a, pathname: l, search: d } = tx(t, { relative: n }),
    f = l;
  return (
    r !== "/" && (f = l === "/" ? r : Qi([r, l])),
    s.createHref({ pathname: f, search: d, hash: a })
  );
}
function Na() {
  return L.useContext(ih) != null;
}
function ds() {
  return Na() || pt(!1), L.useContext(ih).location;
}
function ex(t) {
  L.useContext(cs).static || L.useLayoutEffect(t);
}
function Vr() {
  let { isDataRoute: t } = L.useContext(fi);
  return t ? RI() : vI();
}
function vI() {
  Na() || pt(!1);
  let t = L.useContext($m),
    { basename: e, future: n, navigator: r } = L.useContext(cs),
    { matches: s } = L.useContext(fi),
    { pathname: a } = ds(),
    l = JSON.stringify(Bm(s, n.v7_relativeSplatPath)),
    d = L.useRef(!1);
  return (
    ex(() => {
      d.current = !0;
    }),
    L.useCallback(
      function (p, g) {
        if ((g === void 0 && (g = {}), !d.current)) return;
        if (typeof p == "number") {
          r.go(p);
          return;
        }
        let w = zm(p, JSON.parse(l), a, g.relative === "path");
        t == null &&
          e !== "/" &&
          (w.pathname = w.pathname === "/" ? e : Qi([e, w.pathname])),
          (g.replace ? r.replace : r.push)(w, g.state, g);
      },
      [e, r, l, a, t]
    )
  );
}
function Hm() {
  let { matches: t } = L.useContext(fi),
    e = t[t.length - 1];
  return e ? e.params : {};
}
function tx(t, e) {
  let { relative: n } = e === void 0 ? {} : e,
    { future: r } = L.useContext(cs),
    { matches: s } = L.useContext(fi),
    { pathname: a } = ds(),
    l = JSON.stringify(Bm(s, r.v7_relativeSplatPath));
  return L.useMemo(() => zm(t, JSON.parse(l), a, n === "path"), [t, l, a, n]);
}
function _I(t, e) {
  return wI(t, e);
}
function wI(t, e, n, r) {
  Na() || pt(!1);
  let { navigator: s } = L.useContext(cs),
    { matches: a } = L.useContext(fi),
    l = a[a.length - 1],
    d = l ? l.params : {};
  l && l.pathname;
  let f = l ? l.pathnameBase : "/";
  l && l.route;
  let p = ds(),
    g;
  if (e) {
    var w;
    let k = typeof e == "string" ? ka(e) : e;
    f === "/" || ((w = k.pathname) != null && w.startsWith(f)) || pt(!1),
      (g = k);
  } else g = p;
  let x = g.pathname || "/",
    P = x;
  if (f !== "/") {
    let k = f.replace(/^\//, "").split("/");
    P = "/" + x.replace(/^\//, "").split("/").slice(k.length).join("/");
  }
  let b = GS(t, { pathname: P }),
    N = SI(
      b &&
        b.map((k) =>
          Object.assign({}, k, {
            params: Object.assign({}, d, k.params),
            pathname: Qi([
              f,
              s.encodeLocation
                ? s.encodeLocation(k.pathname).pathname
                : k.pathname,
            ]),
            pathnameBase:
              k.pathnameBase === "/"
                ? f
                : Qi([
                    f,
                    s.encodeLocation
                      ? s.encodeLocation(k.pathnameBase).pathname
                      : k.pathnameBase,
                  ]),
          })
        ),
      a,
      n,
      r
    );
  return e && N
    ? L.createElement(
        ih.Provider,
        {
          value: {
            location: ou(
              {
                pathname: "/",
                search: "",
                hash: "",
                state: null,
                key: "default",
              },
              g
            ),
            navigationType: Gi.Pop,
          },
        },
        N
      )
    : N;
}
function xI() {
  let t = AI(),
    e = pI(t)
      ? t.status + " " + t.statusText
      : t instanceof Error
      ? t.message
      : JSON.stringify(t),
    n = t instanceof Error ? t.stack : null,
    s = { padding: "0.5rem", backgroundColor: "rgba(200,200,200, 0.5)" };
  return L.createElement(
    L.Fragment,
    null,
    L.createElement("h2", null, "Unexpected Application Error!"),
    L.createElement("h3", { style: { fontStyle: "italic" } }, e),
    n ? L.createElement("pre", { style: s }, n) : null,
    null
  );
}
const EI = L.createElement(xI, null);
class TI extends L.Component {
  constructor(e) {
    super(e),
      (this.state = {
        location: e.location,
        revalidation: e.revalidation,
        error: e.error,
      });
  }
  static getDerivedStateFromError(e) {
    return { error: e };
  }
  static getDerivedStateFromProps(e, n) {
    return n.location !== e.location ||
      (n.revalidation !== "idle" && e.revalidation === "idle")
      ? { error: e.error, location: e.location, revalidation: e.revalidation }
      : {
          error: e.error !== void 0 ? e.error : n.error,
          location: n.location,
          revalidation: e.revalidation || n.revalidation,
        };
  }
  componentDidCatch(e, n) {
    console.error(
      "React Router caught the following error during render",
      e,
      n
    );
  }
  render() {
    return this.state.error !== void 0
      ? L.createElement(
          fi.Provider,
          { value: this.props.routeContext },
          L.createElement(Z1.Provider, {
            value: this.state.error,
            children: this.props.component,
          })
        )
      : this.props.children;
  }
}
function PI(t) {
  let { routeContext: e, match: n, children: r } = t,
    s = L.useContext($m);
  return (
    s &&
      s.static &&
      s.staticContext &&
      (n.route.errorElement || n.route.ErrorBoundary) &&
      (s.staticContext._deepestRenderedBoundaryId = n.route.id),
    L.createElement(fi.Provider, { value: e }, r)
  );
}
function SI(t, e, n, r) {
  var s;
  if (
    (e === void 0 && (e = []),
    n === void 0 && (n = null),
    r === void 0 && (r = null),
    t == null)
  ) {
    var a;
    if (!n) return null;
    if (n.errors) t = n.matches;
    else if (
      (a = r) != null &&
      a.v7_partialHydration &&
      e.length === 0 &&
      !n.initialized &&
      n.matches.length > 0
    )
      t = n.matches;
    else return null;
  }
  let l = t,
    d = (s = n) == null ? void 0 : s.errors;
  if (d != null) {
    let g = l.findIndex(
      (w) => w.route.id && (d == null ? void 0 : d[w.route.id]) !== void 0
    );
    g >= 0 || pt(!1), (l = l.slice(0, Math.min(l.length, g + 1)));
  }
  let f = !1,
    p = -1;
  if (n && r && r.v7_partialHydration)
    for (let g = 0; g < l.length; g++) {
      let w = l[g];
      if (
        ((w.route.HydrateFallback || w.route.hydrateFallbackElement) && (p = g),
        w.route.id)
      ) {
        let { loaderData: x, errors: P } = n,
          b =
            w.route.loader &&
            x[w.route.id] === void 0 &&
            (!P || P[w.route.id] === void 0);
        if (w.route.lazy || b) {
          (f = !0), p >= 0 ? (l = l.slice(0, p + 1)) : (l = [l[0]]);
          break;
        }
      }
    }
  return l.reduceRight((g, w, x) => {
    let P,
      b = !1,
      N = null,
      k = null;
    n &&
      ((P = d && w.route.id ? d[w.route.id] : void 0),
      (N = w.route.errorElement || EI),
      f &&
        (p < 0 && x === 0
          ? (kI("route-fallback"), (b = !0), (k = null))
          : p === x &&
            ((b = !0), (k = w.route.hydrateFallbackElement || null))));
    let $ = e.concat(l.slice(0, x + 1)),
      G = () => {
        let q;
        return (
          P
            ? (q = N)
            : b
            ? (q = k)
            : w.route.Component
            ? (q = L.createElement(w.route.Component, null))
            : w.route.element
            ? (q = w.route.element)
            : (q = g),
          L.createElement(PI, {
            match: w,
            routeContext: { outlet: g, matches: $, isDataRoute: n != null },
            children: q,
          })
        );
      };
    return n && (w.route.ErrorBoundary || w.route.errorElement || x === 0)
      ? L.createElement(TI, {
          location: n.location,
          revalidation: n.revalidation,
          component: N,
          error: P,
          children: G(),
          routeContext: { outlet: null, matches: $, isDataRoute: !0 },
        })
      : G();
  }, null);
}
var nx = (function (t) {
    return (
      (t.UseBlocker = "useBlocker"),
      (t.UseRevalidator = "useRevalidator"),
      (t.UseNavigateStable = "useNavigate"),
      t
    );
  })(nx || {}),
  rx = (function (t) {
    return (
      (t.UseBlocker = "useBlocker"),
      (t.UseLoaderData = "useLoaderData"),
      (t.UseActionData = "useActionData"),
      (t.UseRouteError = "useRouteError"),
      (t.UseNavigation = "useNavigation"),
      (t.UseRouteLoaderData = "useRouteLoaderData"),
      (t.UseMatches = "useMatches"),
      (t.UseRevalidator = "useRevalidator"),
      (t.UseNavigateStable = "useNavigate"),
      (t.UseRouteId = "useRouteId"),
      t
    );
  })(rx || {});
function II(t) {
  let e = L.useContext($m);
  return e || pt(!1), e;
}
function bI(t) {
  let e = L.useContext(gI);
  return e || pt(!1), e;
}
function CI(t) {
  let e = L.useContext(fi);
  return e || pt(!1), e;
}
function ix(t) {
  let e = CI(),
    n = e.matches[e.matches.length - 1];
  return n.route.id || pt(!1), n.route.id;
}
function AI() {
  var t;
  let e = L.useContext(Z1),
    n = bI(),
    r = ix();
  return e !== void 0 ? e : (t = n.errors) == null ? void 0 : t[r];
}
function RI() {
  let { router: t } = II(nx.UseNavigateStable),
    e = ix(rx.UseNavigateStable),
    n = L.useRef(!1);
  return (
    ex(() => {
      n.current = !0;
    }),
    L.useCallback(
      function (s, a) {
        a === void 0 && (a = {}),
          n.current &&
            (typeof s == "number"
              ? t.navigate(s)
              : t.navigate(s, ou({ fromRouteId: e }, a)));
      },
      [t, e]
    )
  );
}
const q0 = {};
function kI(t, e, n) {
  q0[t] || (q0[t] = !0);
}
function NI(t, e) {
  t == null || t.v7_startTransition, t == null || t.v7_relativeSplatPath;
}
function jI(t) {
  let { to: e, replace: n, state: r, relative: s } = t;
  Na() || pt(!1);
  let { future: a, static: l } = L.useContext(cs),
    { matches: d } = L.useContext(fi),
    { pathname: f } = ds(),
    p = Vr(),
    g = zm(e, Bm(d, a.v7_relativeSplatPath), f, s === "path"),
    w = JSON.stringify(g);
  return (
    L.useEffect(
      () => p(JSON.parse(w), { replace: n, state: r, relative: s }),
      [p, w, s, n, r]
    ),
    null
  );
}
function _r(t) {
  pt(!1);
}
function DI(t) {
  let {
    basename: e = "/",
    children: n = null,
    location: r,
    navigationType: s = Gi.Pop,
    navigator: a,
    static: l = !1,
    future: d,
  } = t;
  Na() && pt(!1);
  let f = e.replace(/^\/*/, "/"),
    p = L.useMemo(
      () => ({
        basename: f,
        navigator: a,
        static: l,
        future: ou({ v7_relativeSplatPath: !1 }, d),
      }),
      [f, d, a, l]
    );
  typeof r == "string" && (r = ka(r));
  let {
      pathname: g = "/",
      search: w = "",
      hash: x = "",
      state: P = null,
      key: b = "default",
    } = r,
    N = L.useMemo(() => {
      let k = Um(g, f);
      return k == null
        ? null
        : {
            location: { pathname: k, search: w, hash: x, state: P, key: b },
            navigationType: s,
          };
    }, [f, g, w, x, P, b, s]);
  return N == null
    ? null
    : L.createElement(
        cs.Provider,
        { value: p },
        L.createElement(ih.Provider, { children: n, value: N })
      );
}
function VI(t) {
  let { children: e, location: n } = t;
  return _I(Bp(e), n);
}
new Promise(() => {});
function Bp(t, e) {
  e === void 0 && (e = []);
  let n = [];
  return (
    L.Children.forEach(t, (r, s) => {
      if (!L.isValidElement(r)) return;
      let a = [...e, s];
      if (r.type === L.Fragment) {
        n.push.apply(n, Bp(r.props.children, a));
        return;
      }
      r.type !== _r && pt(!1), !r.props.index || !r.props.children || pt(!1);
      let l = {
        id: r.props.id || a.join("-"),
        caseSensitive: r.props.caseSensitive,
        element: r.props.element,
        Component: r.props.Component,
        index: r.props.index,
        path: r.props.path,
        loader: r.props.loader,
        action: r.props.action,
        errorElement: r.props.errorElement,
        ErrorBoundary: r.props.ErrorBoundary,
        hasErrorBoundary:
          r.props.ErrorBoundary != null || r.props.errorElement != null,
        shouldRevalidate: r.props.shouldRevalidate,
        handle: r.props.handle,
        lazy: r.props.lazy,
      };
      r.props.children && (l.children = Bp(r.props.children, a)), n.push(l);
    }),
    n
  );
}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */ function zp() {
  return (
    (zp = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    zp.apply(this, arguments)
  );
}
function OI(t, e) {
  if (t == null) return {};
  var n = {},
    r = Object.keys(t),
    s,
    a;
  for (a = 0; a < r.length; a++)
    (s = r[a]), !(e.indexOf(s) >= 0) && (n[s] = t[s]);
  return n;
}
function MI(t) {
  return !!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey);
}
function LI(t, e) {
  return t.button === 0 && (!e || e === "_self") && !MI(t);
}
const FI = [
    "onClick",
    "relative",
    "reloadDocument",
    "replace",
    "state",
    "target",
    "to",
    "preventScrollReset",
    "viewTransition",
  ],
  UI = "6";
try {
  window.__reactRouterVersion = UI;
} catch {}
const BI = "startTransition",
  G0 = VS[BI];
function zI(t) {
  let { basename: e, children: n, future: r, window: s } = t,
    a = L.useRef();
  a.current == null && (a.current = HS({ window: s, v5Compat: !0 }));
  let l = a.current,
    [d, f] = L.useState({ action: l.action, location: l.location }),
    { v7_startTransition: p } = r || {},
    g = L.useCallback(
      (w) => {
        p && G0 ? G0(() => f(w)) : f(w);
      },
      [f, p]
    );
  return (
    L.useLayoutEffect(() => l.listen(g), [l, g]),
    L.useEffect(() => NI(r), [r]),
    L.createElement(DI, {
      basename: e,
      children: n,
      location: d.location,
      navigationType: d.action,
      navigator: l,
      future: r,
    })
  );
}
const $I =
    typeof window < "u" &&
    typeof window.document < "u" &&
    typeof window.document.createElement < "u",
  HI = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,
  pe = L.forwardRef(function (e, n) {
    let {
        onClick: r,
        relative: s,
        reloadDocument: a,
        replace: l,
        state: d,
        target: f,
        to: p,
        preventScrollReset: g,
        viewTransition: w,
      } = e,
      x = OI(e, FI),
      { basename: P } = L.useContext(cs),
      b,
      N = !1;
    if (typeof p == "string" && HI.test(p) && ((b = p), $I))
      try {
        let q = new URL(window.location.href),
          Y = p.startsWith("//") ? new URL(q.protocol + p) : new URL(p),
          ne = Um(Y.pathname, P);
        Y.origin === q.origin && ne != null
          ? (p = ne + Y.search + Y.hash)
          : (N = !0);
      } catch {}
    let k = yI(p, { relative: s }),
      $ = WI(p, {
        replace: l,
        state: d,
        target: f,
        preventScrollReset: g,
        relative: s,
        viewTransition: w,
      });
    function G(q) {
      r && r(q), q.defaultPrevented || $(q);
    }
    return L.createElement(
      "a",
      zp({}, x, { href: b || k, onClick: N || a ? r : G, ref: n, target: f })
    );
  });
var K0;
(function (t) {
  (t.UseScrollRestoration = "useScrollRestoration"),
    (t.UseSubmit = "useSubmit"),
    (t.UseSubmitFetcher = "useSubmitFetcher"),
    (t.UseFetcher = "useFetcher"),
    (t.useViewTransitionState = "useViewTransitionState");
})(K0 || (K0 = {}));
var Q0;
(function (t) {
  (t.UseFetcher = "useFetcher"),
    (t.UseFetchers = "useFetchers"),
    (t.UseScrollRestoration = "useScrollRestoration");
})(Q0 || (Q0 = {}));
function WI(t, e) {
  let {
      target: n,
      replace: r,
      state: s,
      preventScrollReset: a,
      relative: l,
      viewTransition: d,
    } = e === void 0 ? {} : e,
    f = Vr(),
    p = ds(),
    g = tx(t, { relative: l });
  return L.useCallback(
    (w) => {
      if (LI(w, n)) {
        w.preventDefault();
        let x = r !== void 0 ? r : Rd(p) === Rd(g);
        f(t, {
          replace: x,
          state: s,
          preventScrollReset: a,
          relative: l,
          viewTransition: d,
        });
      }
    },
    [p, f, g, r, s, n, t, a, l, d]
  );
}
const X0 = L.forwardRef(
    ({ onClose: t, placeholder: e = "Buscar en Playcenter.do" }, n) => {
      const [r, s] = L.useState(""),
        a = Vr(),
        l = (d) => {
          d.preventDefault(),
            r.trim() &&
              (a(`/buscar?q=${encodeURIComponent(r.trim())}`), s(""), t && t());
        };
      return (
        L.useEffect(() => {
          n && n.current && n.current.focus();
        }, [n]),
        v.jsxs("form", {
          onSubmit: l,
          className: "flex w-full",
          children: [
            v.jsx("input", {
              type: "text",
              ref: n,
              value: r,
              onChange: (d) => s(d.target.value),
              placeholder: e,
              className:
                "flex-grow border border-gray-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#4FC3F7]",
            }),
            v.jsx("button", {
              type: "submit",
              className:
                "ml-2 px-4 py-2 bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-md text-sm font-semibold transition",
              children: "Buscar",
            }),
          ],
        })
      );
    }
  ),
  qI = () => {};
var Y0 = {};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sx = function (t) {
    const e = [];
    let n = 0;
    for (let r = 0; r < t.length; r++) {
      let s = t.charCodeAt(r);
      s < 128
        ? (e[n++] = s)
        : s < 2048
        ? ((e[n++] = (s >> 6) | 192), (e[n++] = (s & 63) | 128))
        : (s & 64512) === 55296 &&
          r + 1 < t.length &&
          (t.charCodeAt(r + 1) & 64512) === 56320
        ? ((s = 65536 + ((s & 1023) << 10) + (t.charCodeAt(++r) & 1023)),
          (e[n++] = (s >> 18) | 240),
          (e[n++] = ((s >> 12) & 63) | 128),
          (e[n++] = ((s >> 6) & 63) | 128),
          (e[n++] = (s & 63) | 128))
        : ((e[n++] = (s >> 12) | 224),
          (e[n++] = ((s >> 6) & 63) | 128),
          (e[n++] = (s & 63) | 128));
    }
    return e;
  },
  GI = function (t) {
    const e = [];
    let n = 0,
      r = 0;
    for (; n < t.length; ) {
      const s = t[n++];
      if (s < 128) e[r++] = String.fromCharCode(s);
      else if (s > 191 && s < 224) {
        const a = t[n++];
        e[r++] = String.fromCharCode(((s & 31) << 6) | (a & 63));
      } else if (s > 239 && s < 365) {
        const a = t[n++],
          l = t[n++],
          d = t[n++],
          f =
            (((s & 7) << 18) | ((a & 63) << 12) | ((l & 63) << 6) | (d & 63)) -
            65536;
        (e[r++] = String.fromCharCode(55296 + (f >> 10))),
          (e[r++] = String.fromCharCode(56320 + (f & 1023)));
      } else {
        const a = t[n++],
          l = t[n++];
        e[r++] = String.fromCharCode(
          ((s & 15) << 12) | ((a & 63) << 6) | (l & 63)
        );
      }
    }
    return e.join("");
  },
  ox = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
    get ENCODED_VALS() {
      return this.ENCODED_VALS_BASE + "+/=";
    },
    get ENCODED_VALS_WEBSAFE() {
      return this.ENCODED_VALS_BASE + "-_.";
    },
    HAS_NATIVE_SUPPORT: typeof atob == "function",
    encodeByteArray(t, e) {
      if (!Array.isArray(t))
        throw Error("encodeByteArray takes an array as a parameter");
      this.init_();
      const n = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
        r = [];
      for (let s = 0; s < t.length; s += 3) {
        const a = t[s],
          l = s + 1 < t.length,
          d = l ? t[s + 1] : 0,
          f = s + 2 < t.length,
          p = f ? t[s + 2] : 0,
          g = a >> 2,
          w = ((a & 3) << 4) | (d >> 4);
        let x = ((d & 15) << 2) | (p >> 6),
          P = p & 63;
        f || ((P = 64), l || (x = 64)), r.push(n[g], n[w], n[x], n[P]);
      }
      return r.join("");
    },
    encodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? btoa(t)
        : this.encodeByteArray(sx(t), e);
    },
    decodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e
        ? atob(t)
        : GI(this.decodeStringToByteArray(t, e));
    },
    decodeStringToByteArray(t, e) {
      this.init_();
      const n = e ? this.charToByteMapWebSafe_ : this.charToByteMap_,
        r = [];
      for (let s = 0; s < t.length; ) {
        const a = n[t.charAt(s++)],
          d = s < t.length ? n[t.charAt(s)] : 0;
        ++s;
        const p = s < t.length ? n[t.charAt(s)] : 64;
        ++s;
        const w = s < t.length ? n[t.charAt(s)] : 64;
        if ((++s, a == null || d == null || p == null || w == null))
          throw new KI();
        const x = (a << 2) | (d >> 4);
        if ((r.push(x), p !== 64)) {
          const P = ((d << 4) & 240) | (p >> 2);
          if ((r.push(P), w !== 64)) {
            const b = ((p << 6) & 192) | w;
            r.push(b);
          }
        }
      }
      return r;
    },
    init_() {
      if (!this.byteToCharMap_) {
        (this.byteToCharMap_ = {}),
          (this.charToByteMap_ = {}),
          (this.byteToCharMapWebSafe_ = {}),
          (this.charToByteMapWebSafe_ = {});
        for (let t = 0; t < this.ENCODED_VALS.length; t++)
          (this.byteToCharMap_[t] = this.ENCODED_VALS.charAt(t)),
            (this.charToByteMap_[this.byteToCharMap_[t]] = t),
            (this.byteToCharMapWebSafe_[t] =
              this.ENCODED_VALS_WEBSAFE.charAt(t)),
            (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]] = t),
            t >= this.ENCODED_VALS_BASE.length &&
              ((this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)] = t),
              (this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)] = t));
      }
    },
  };
class KI extends Error {
  constructor() {
    super(...arguments), (this.name = "DecodeBase64StringError");
  }
}
const QI = function (t) {
    const e = sx(t);
    return ox.encodeByteArray(e, !0);
  },
  kd = function (t) {
    return QI(t).replace(/\./g, "");
  },
  ax = function (t) {
    try {
      return ox.decodeString(t, !0);
    } catch (e) {
      console.error("base64Decode failed: ", e);
    }
    return null;
  };
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function XI() {
  if (typeof self < "u") return self;
  if (typeof window < "u") return window;
  if (typeof global < "u") return global;
  throw new Error("Unable to locate global object.");
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const YI = () => XI().__FIREBASE_DEFAULTS__,
  JI = () => {
    if (typeof process > "u" || typeof Y0 > "u") return;
    const t = Y0.__FIREBASE_DEFAULTS__;
    if (t) return JSON.parse(t);
  },
  ZI = () => {
    if (typeof document > "u") return;
    let t;
    try {
      t = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
    } catch {
      return;
    }
    const e = t && ax(t[1]);
    return e && JSON.parse(e);
  },
  sh = () => {
    try {
      return qI() || YI() || JI() || ZI();
    } catch (t) {
      console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);
      return;
    }
  },
  lx = (t) => {
    var e, n;
    return (n =
      (e = sh()) === null || e === void 0 ? void 0 : e.emulatorHosts) ===
      null || n === void 0
      ? void 0
      : n[t];
  },
  ux = (t) => {
    const e = lx(t);
    if (!e) return;
    const n = e.lastIndexOf(":");
    if (n <= 0 || n + 1 === e.length)
      throw new Error(`Invalid host ${e} with no separate hostname and port!`);
    const r = parseInt(e.substring(n + 1), 10);
    return e[0] === "[" ? [e.substring(1, n - 1), r] : [e.substring(0, n), r];
  },
  cx = () => {
    var t;
    return (t = sh()) === null || t === void 0 ? void 0 : t.config;
  },
  dx = (t) => {
    var e;
    return (e = sh()) === null || e === void 0 ? void 0 : e[`_${t}`];
  };
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class eb {
  constructor() {
    (this.reject = () => {}),
      (this.resolve = () => {}),
      (this.promise = new Promise((e, n) => {
        (this.resolve = e), (this.reject = n);
      }));
  }
  wrapCallback(e) {
    return (n, r) => {
      n ? this.reject(n) : this.resolve(r),
        typeof e == "function" &&
          (this.promise.catch(() => {}), e.length === 1 ? e(n) : e(n, r));
    };
  }
}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function hs(t) {
  try {
    return (
      t.startsWith("http://") || t.startsWith("https://")
        ? new URL(t).hostname
        : t
    ).endsWith(".cloudworkstations.dev");
  } catch {
    return !1;
  }
}
async function Wm(t) {
  return (await fetch(t, { credentials: "include" })).ok;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function hx(t, e) {
  if (t.uid)
    throw new Error(
      'The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.'
    );
  const n = { alg: "none", type: "JWT" },
    r = e || "demo-project",
    s = t.iat || 0,
    a = t.sub || t.user_id;
  if (!a)
    throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  const l = Object.assign(
    {
      iss: `https://securetoken.google.com/${r}`,
      aud: r,
      iat: s,
      exp: s + 3600,
      auth_time: s,
      sub: a,
      user_id: a,
      firebase: { sign_in_provider: "custom", identities: {} },
    },
    t
  );
  return [kd(JSON.stringify(n)), kd(JSON.stringify(l)), ""].join(".");
}
const Wl = {};
function tb() {
  const t = { prod: [], emulator: [] };
  for (const e of Object.keys(Wl)) Wl[e] ? t.emulator.push(e) : t.prod.push(e);
  return t;
}
function nb(t) {
  let e = document.getElementById(t),
    n = !1;
  return (
    e ||
      ((e = document.createElement("div")), e.setAttribute("id", t), (n = !0)),
    { created: n, element: e }
  );
}
let J0 = !1;
function qm(t, e) {
  if (
    typeof window > "u" ||
    typeof document > "u" ||
    !hs(window.location.host) ||
    Wl[t] === e ||
    Wl[t] ||
    J0
  )
    return;
  Wl[t] = e;
  function n(x) {
    return `__firebase__banner__${x}`;
  }
  const r = "__firebase__banner",
    a = tb().prod.length > 0;
  function l() {
    const x = document.getElementById(r);
    x && x.remove();
  }
  function d(x) {
    (x.style.display = "flex"),
      (x.style.background = "#7faaf0"),
      (x.style.position = "fixed"),
      (x.style.bottom = "5px"),
      (x.style.left = "5px"),
      (x.style.padding = ".5em"),
      (x.style.borderRadius = "5px"),
      (x.style.alignItems = "center");
  }
  function f(x, P) {
    x.setAttribute("width", "24"),
      x.setAttribute("id", P),
      x.setAttribute("height", "24"),
      x.setAttribute("viewBox", "0 0 24 24"),
      x.setAttribute("fill", "none"),
      (x.style.marginLeft = "-6px");
  }
  function p() {
    const x = document.createElement("span");
    return (
      (x.style.cursor = "pointer"),
      (x.style.marginLeft = "16px"),
      (x.style.fontSize = "24px"),
      (x.innerHTML = " &times;"),
      (x.onclick = () => {
        (J0 = !0), l();
      }),
      x
    );
  }
  function g(x, P) {
    x.setAttribute("id", P),
      (x.innerText = "Learn more"),
      (x.href =
        "https://firebase.google.com/docs/studio/preview-apps#preview-backend"),
      x.setAttribute("target", "__blank"),
      (x.style.paddingLeft = "5px"),
      (x.style.textDecoration = "underline");
  }
  function w() {
    const x = nb(r),
      P = n("text"),
      b = document.getElementById(P) || document.createElement("span"),
      N = n("learnmore"),
      k = document.getElementById(N) || document.createElement("a"),
      $ = n("preprendIcon"),
      G =
        document.getElementById($) ||
        document.createElementNS("http://www.w3.org/2000/svg", "svg");
    if (x.created) {
      const q = x.element;
      d(q), g(k, N);
      const Y = p();
      f(G, $), q.append(G, b, k, Y), document.body.appendChild(q);
    }
    a
      ? ((b.innerText = "Preview backend disconnected."),
        (G.innerHTML = `<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`))
      : ((G.innerHTML = `<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`),
        (b.innerText = "Preview backend running in this workspace.")),
      b.setAttribute("id", P);
  }
  document.readyState === "loading"
    ? window.addEventListener("DOMContentLoaded", w)
    : w();
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function tn() {
  return typeof navigator < "u" && typeof navigator.userAgent == "string"
    ? navigator.userAgent
    : "";
}
function rb() {
  return (
    typeof window < "u" &&
    !!(window.cordova || window.phonegap || window.PhoneGap) &&
    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())
  );
}
function ib() {
  var t;
  const e = (t = sh()) === null || t === void 0 ? void 0 : t.forceEnvironment;
  if (e === "node") return !0;
  if (e === "browser") return !1;
  try {
    return (
      Object.prototype.toString.call(global.process) === "[object process]"
    );
  } catch {
    return !1;
  }
}
function sb() {
  return typeof navigator < "u" && navigator.userAgent === "Cloudflare-Workers";
}
function ob() {
  const t =
    typeof chrome == "object"
      ? chrome.runtime
      : typeof browser == "object"
      ? browser.runtime
      : void 0;
  return typeof t == "object" && t.id !== void 0;
}
function ab() {
  return typeof navigator == "object" && navigator.product === "ReactNative";
}
function lb() {
  const t = tn();
  return t.indexOf("MSIE ") >= 0 || t.indexOf("Trident/") >= 0;
}
function ub() {
  return (
    !ib() &&
    !!navigator.userAgent &&
    navigator.userAgent.includes("Safari") &&
    !navigator.userAgent.includes("Chrome")
  );
}
function cb() {
  try {
    return typeof indexedDB == "object";
  } catch {
    return !1;
  }
}
function db() {
  return new Promise((t, e) => {
    try {
      let n = !0;
      const r = "validate-browser-context-for-indexeddb-analytics-module",
        s = self.indexedDB.open(r);
      (s.onsuccess = () => {
        s.result.close(), n || self.indexedDB.deleteDatabase(r), t(!0);
      }),
        (s.onupgradeneeded = () => {
          n = !1;
        }),
        (s.onerror = () => {
          var a;
          e(
            ((a = s.error) === null || a === void 0 ? void 0 : a.message) || ""
          );
        });
    } catch (n) {
      e(n);
    }
  });
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const hb = "FirebaseError";
class Or extends Error {
  constructor(e, n, r) {
    super(n),
      (this.code = e),
      (this.customData = r),
      (this.name = hb),
      Object.setPrototypeOf(this, Or.prototype),
      Error.captureStackTrace &&
        Error.captureStackTrace(this, Pu.prototype.create);
  }
}
class Pu {
  constructor(e, n, r) {
    (this.service = e), (this.serviceName = n), (this.errors = r);
  }
  create(e, ...n) {
    const r = n[0] || {},
      s = `${this.service}/${e}`,
      a = this.errors[e],
      l = a ? fb(a, r) : "Error",
      d = `${this.serviceName}: ${l} (${s}).`;
    return new Or(s, d, r);
  }
}
function fb(t, e) {
  return t.replace(pb, (n, r) => {
    const s = e[r];
    return s != null ? String(s) : `<${r}?>`;
  });
}
const pb = /\{\$([^}]+)}/g;
function mb(t) {
  for (const e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
function to(t, e) {
  if (t === e) return !0;
  const n = Object.keys(t),
    r = Object.keys(e);
  for (const s of n) {
    if (!r.includes(s)) return !1;
    const a = t[s],
      l = e[s];
    if (Z0(a) && Z0(l)) {
      if (!to(a, l)) return !1;
    } else if (a !== l) return !1;
  }
  for (const s of r) if (!n.includes(s)) return !1;
  return !0;
}
function Z0(t) {
  return t !== null && typeof t == "object";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Su(t) {
  const e = [];
  for (const [n, r] of Object.entries(t))
    Array.isArray(r)
      ? r.forEach((s) => {
          e.push(encodeURIComponent(n) + "=" + encodeURIComponent(s));
        })
      : e.push(encodeURIComponent(n) + "=" + encodeURIComponent(r));
  return e.length ? "&" + e.join("&") : "";
}
function Ll(t) {
  const e = {};
  return (
    t
      .replace(/^\?/, "")
      .split("&")
      .forEach((r) => {
        if (r) {
          const [s, a] = r.split("=");
          e[decodeURIComponent(s)] = decodeURIComponent(a);
        }
      }),
    e
  );
}
function Fl(t) {
  const e = t.indexOf("?");
  if (!e) return "";
  const n = t.indexOf("#", e);
  return t.substring(e, n > 0 ? n : void 0);
}
function gb(t, e) {
  const n = new yb(t, e);
  return n.subscribe.bind(n);
}
class yb {
  constructor(e, n) {
    (this.observers = []),
      (this.unsubscribes = []),
      (this.observerCount = 0),
      (this.task = Promise.resolve()),
      (this.finalized = !1),
      (this.onNoObservers = n),
      this.task
        .then(() => {
          e(this);
        })
        .catch((r) => {
          this.error(r);
        });
  }
  next(e) {
    this.forEachObserver((n) => {
      n.next(e);
    });
  }
  error(e) {
    this.forEachObserver((n) => {
      n.error(e);
    }),
      this.close(e);
  }
  complete() {
    this.forEachObserver((e) => {
      e.complete();
    }),
      this.close();
  }
  subscribe(e, n, r) {
    let s;
    if (e === void 0 && n === void 0 && r === void 0)
      throw new Error("Missing Observer.");
    vb(e, ["next", "error", "complete"])
      ? (s = e)
      : (s = { next: e, error: n, complete: r }),
      s.next === void 0 && (s.next = hp),
      s.error === void 0 && (s.error = hp),
      s.complete === void 0 && (s.complete = hp);
    const a = this.unsubscribeOne.bind(this, this.observers.length);
    return (
      this.finalized &&
        this.task.then(() => {
          try {
            this.finalError ? s.error(this.finalError) : s.complete();
          } catch {}
        }),
      this.observers.push(s),
      a
    );
  }
  unsubscribeOne(e) {
    this.observers === void 0 ||
      this.observers[e] === void 0 ||
      (delete this.observers[e],
      (this.observerCount -= 1),
      this.observerCount === 0 &&
        this.onNoObservers !== void 0 &&
        this.onNoObservers(this));
  }
  forEachObserver(e) {
    if (!this.finalized)
      for (let n = 0; n < this.observers.length; n++) this.sendOne(n, e);
  }
  sendOne(e, n) {
    this.task.then(() => {
      if (this.observers !== void 0 && this.observers[e] !== void 0)
        try {
          n(this.observers[e]);
        } catch (r) {
          typeof console < "u" && console.error && console.error(r);
        }
    });
  }
  close(e) {
    this.finalized ||
      ((this.finalized = !0),
      e !== void 0 && (this.finalError = e),
      this.task.then(() => {
        (this.observers = void 0), (this.onNoObservers = void 0);
      }));
  }
}
function vb(t, e) {
  if (typeof t != "object" || t === null) return !1;
  for (const n of e) if (n in t && typeof t[n] == "function") return !0;
  return !1;
}
function hp() {}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function mt(t) {
  return t && t._delegate ? t._delegate : t;
}
class es {
  constructor(e, n, r) {
    (this.name = e),
      (this.instanceFactory = n),
      (this.type = r),
      (this.multipleInstances = !1),
      (this.serviceProps = {}),
      (this.instantiationMode = "LAZY"),
      (this.onInstanceCreated = null);
  }
  setInstantiationMode(e) {
    return (this.instantiationMode = e), this;
  }
  setMultipleInstances(e) {
    return (this.multipleInstances = e), this;
  }
  setServiceProps(e) {
    return (this.serviceProps = e), this;
  }
  setInstanceCreatedCallback(e) {
    return (this.onInstanceCreated = e), this;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const qs = "[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class _b {
  constructor(e, n) {
    (this.name = e),
      (this.container = n),
      (this.component = null),
      (this.instances = new Map()),
      (this.instancesDeferred = new Map()),
      (this.instancesOptions = new Map()),
      (this.onInitCallbacks = new Map());
  }
  get(e) {
    const n = this.normalizeInstanceIdentifier(e);
    if (!this.instancesDeferred.has(n)) {
      const r = new eb();
      if (
        (this.instancesDeferred.set(n, r),
        this.isInitialized(n) || this.shouldAutoInitialize())
      )
        try {
          const s = this.getOrInitializeService({ instanceIdentifier: n });
          s && r.resolve(s);
        } catch {}
    }
    return this.instancesDeferred.get(n).promise;
  }
  getImmediate(e) {
    var n;
    const r = this.normalizeInstanceIdentifier(
        e == null ? void 0 : e.identifier
      ),
      s =
        (n = e == null ? void 0 : e.optional) !== null && n !== void 0 ? n : !1;
    if (this.isInitialized(r) || this.shouldAutoInitialize())
      try {
        return this.getOrInitializeService({ instanceIdentifier: r });
      } catch (a) {
        if (s) return null;
        throw a;
      }
    else {
      if (s) return null;
      throw Error(`Service ${this.name} is not available`);
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(e) {
    if (e.name !== this.name)
      throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
    if (this.component)
      throw Error(`Component for ${this.name} has already been provided`);
    if (((this.component = e), !!this.shouldAutoInitialize())) {
      if (xb(e))
        try {
          this.getOrInitializeService({ instanceIdentifier: qs });
        } catch {}
      for (const [n, r] of this.instancesDeferred.entries()) {
        const s = this.normalizeInstanceIdentifier(n);
        try {
          const a = this.getOrInitializeService({ instanceIdentifier: s });
          r.resolve(a);
        } catch {}
      }
    }
  }
  clearInstance(e = qs) {
    this.instancesDeferred.delete(e),
      this.instancesOptions.delete(e),
      this.instances.delete(e);
  }
  async delete() {
    const e = Array.from(this.instances.values());
    await Promise.all([
      ...e.filter((n) => "INTERNAL" in n).map((n) => n.INTERNAL.delete()),
      ...e.filter((n) => "_delete" in n).map((n) => n._delete()),
    ]);
  }
  isComponentSet() {
    return this.component != null;
  }
  isInitialized(e = qs) {
    return this.instances.has(e);
  }
  getOptions(e = qs) {
    return this.instancesOptions.get(e) || {};
  }
  initialize(e = {}) {
    const { options: n = {} } = e,
      r = this.normalizeInstanceIdentifier(e.instanceIdentifier);
    if (this.isInitialized(r))
      throw Error(`${this.name}(${r}) has already been initialized`);
    if (!this.isComponentSet())
      throw Error(`Component ${this.name} has not been registered yet`);
    const s = this.getOrInitializeService({
      instanceIdentifier: r,
      options: n,
    });
    for (const [a, l] of this.instancesDeferred.entries()) {
      const d = this.normalizeInstanceIdentifier(a);
      r === d && l.resolve(s);
    }
    return s;
  }
  onInit(e, n) {
    var r;
    const s = this.normalizeInstanceIdentifier(n),
      a =
        (r = this.onInitCallbacks.get(s)) !== null && r !== void 0
          ? r
          : new Set();
    a.add(e), this.onInitCallbacks.set(s, a);
    const l = this.instances.get(s);
    return (
      l && e(l, s),
      () => {
        a.delete(e);
      }
    );
  }
  invokeOnInitCallbacks(e, n) {
    const r = this.onInitCallbacks.get(n);
    if (r)
      for (const s of r)
        try {
          s(e, n);
        } catch {}
  }
  getOrInitializeService({ instanceIdentifier: e, options: n = {} }) {
    let r = this.instances.get(e);
    if (
      !r &&
      this.component &&
      ((r = this.component.instanceFactory(this.container, {
        instanceIdentifier: wb(e),
        options: n,
      })),
      this.instances.set(e, r),
      this.instancesOptions.set(e, n),
      this.invokeOnInitCallbacks(r, e),
      this.component.onInstanceCreated)
    )
      try {
        this.component.onInstanceCreated(this.container, e, r);
      } catch {}
    return r || null;
  }
  normalizeInstanceIdentifier(e = qs) {
    return this.component ? (this.component.multipleInstances ? e : qs) : e;
  }
  shouldAutoInitialize() {
    return !!this.component && this.component.instantiationMode !== "EXPLICIT";
  }
}
function wb(t) {
  return t === qs ? void 0 : t;
}
function xb(t) {
  return t.instantiationMode === "EAGER";
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Eb {
  constructor(e) {
    (this.name = e), (this.providers = new Map());
  }
  addComponent(e) {
    const n = this.getProvider(e.name);
    if (n.isComponentSet())
      throw new Error(
        `Component ${e.name} has already been registered with ${this.name}`
      );
    n.setComponent(e);
  }
  addOrOverwriteComponent(e) {
    this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name),
      this.addComponent(e);
  }
  getProvider(e) {
    if (this.providers.has(e)) return this.providers.get(e);
    const n = new _b(e, this);
    return this.providers.set(e, n), n;
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var Ne;
(function (t) {
  (t[(t.DEBUG = 0)] = "DEBUG"),
    (t[(t.VERBOSE = 1)] = "VERBOSE"),
    (t[(t.INFO = 2)] = "INFO"),
    (t[(t.WARN = 3)] = "WARN"),
    (t[(t.ERROR = 4)] = "ERROR"),
    (t[(t.SILENT = 5)] = "SILENT");
})(Ne || (Ne = {}));
const Tb = {
    debug: Ne.DEBUG,
    verbose: Ne.VERBOSE,
    info: Ne.INFO,
    warn: Ne.WARN,
    error: Ne.ERROR,
    silent: Ne.SILENT,
  },
  Pb = Ne.INFO,
  Sb = {
    [Ne.DEBUG]: "log",
    [Ne.VERBOSE]: "log",
    [Ne.INFO]: "info",
    [Ne.WARN]: "warn",
    [Ne.ERROR]: "error",
  },
  Ib = (t, e, ...n) => {
    if (e < t.logLevel) return;
    const r = new Date().toISOString(),
      s = Sb[e];
    if (s) console[s](`[${r}]  ${t.name}:`, ...n);
    else
      throw new Error(
        `Attempted to log a message with an invalid logType (value: ${e})`
      );
  };
class Gm {
  constructor(e) {
    (this.name = e),
      (this._logLevel = Pb),
      (this._logHandler = Ib),
      (this._userLogHandler = null);
  }
  get logLevel() {
    return this._logLevel;
  }
  set logLevel(e) {
    if (!(e in Ne))
      throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
    this._logLevel = e;
  }
  setLogLevel(e) {
    this._logLevel = typeof e == "string" ? Tb[e] : e;
  }
  get logHandler() {
    return this._logHandler;
  }
  set logHandler(e) {
    if (typeof e != "function")
      throw new TypeError("Value assigned to `logHandler` must be a function");
    this._logHandler = e;
  }
  get userLogHandler() {
    return this._userLogHandler;
  }
  set userLogHandler(e) {
    this._userLogHandler = e;
  }
  debug(...e) {
    this._userLogHandler && this._userLogHandler(this, Ne.DEBUG, ...e),
      this._logHandler(this, Ne.DEBUG, ...e);
  }
  log(...e) {
    this._userLogHandler && this._userLogHandler(this, Ne.VERBOSE, ...e),
      this._logHandler(this, Ne.VERBOSE, ...e);
  }
  info(...e) {
    this._userLogHandler && this._userLogHandler(this, Ne.INFO, ...e),
      this._logHandler(this, Ne.INFO, ...e);
  }
  warn(...e) {
    this._userLogHandler && this._userLogHandler(this, Ne.WARN, ...e),
      this._logHandler(this, Ne.WARN, ...e);
  }
  error(...e) {
    this._userLogHandler && this._userLogHandler(this, Ne.ERROR, ...e),
      this._logHandler(this, Ne.ERROR, ...e);
  }
}
const bb = (t, e) => e.some((n) => t instanceof n);
let e_, t_;
function Cb() {
  return (
    e_ ||
    (e_ = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction])
  );
}
function Ab() {
  return (
    t_ ||
    (t_ = [
      IDBCursor.prototype.advance,
      IDBCursor.prototype.continue,
      IDBCursor.prototype.continuePrimaryKey,
    ])
  );
}
const fx = new WeakMap(),
  $p = new WeakMap(),
  px = new WeakMap(),
  fp = new WeakMap(),
  Km = new WeakMap();
function Rb(t) {
  const e = new Promise((n, r) => {
    const s = () => {
        t.removeEventListener("success", a), t.removeEventListener("error", l);
      },
      a = () => {
        n(Xi(t.result)), s();
      },
      l = () => {
        r(t.error), s();
      };
    t.addEventListener("success", a), t.addEventListener("error", l);
  });
  return (
    e
      .then((n) => {
        n instanceof IDBCursor && fx.set(n, t);
      })
      .catch(() => {}),
    Km.set(e, t),
    e
  );
}
function kb(t) {
  if ($p.has(t)) return;
  const e = new Promise((n, r) => {
    const s = () => {
        t.removeEventListener("complete", a),
          t.removeEventListener("error", l),
          t.removeEventListener("abort", l);
      },
      a = () => {
        n(), s();
      },
      l = () => {
        r(t.error || new DOMException("AbortError", "AbortError")), s();
      };
    t.addEventListener("complete", a),
      t.addEventListener("error", l),
      t.addEventListener("abort", l);
  });
  $p.set(t, e);
}
let Hp = {
  get(t, e, n) {
    if (t instanceof IDBTransaction) {
      if (e === "done") return $p.get(t);
      if (e === "objectStoreNames") return t.objectStoreNames || px.get(t);
      if (e === "store")
        return n.objectStoreNames[1]
          ? void 0
          : n.objectStore(n.objectStoreNames[0]);
    }
    return Xi(t[e]);
  },
  set(t, e, n) {
    return (t[e] = n), !0;
  },
  has(t, e) {
    return t instanceof IDBTransaction && (e === "done" || e === "store")
      ? !0
      : e in t;
  },
};
function Nb(t) {
  Hp = t(Hp);
}
function jb(t) {
  return t === IDBDatabase.prototype.transaction &&
    !("objectStoreNames" in IDBTransaction.prototype)
    ? function (e, ...n) {
        const r = t.call(pp(this), e, ...n);
        return px.set(r, e.sort ? e.sort() : [e]), Xi(r);
      }
    : Ab().includes(t)
    ? function (...e) {
        return t.apply(pp(this), e), Xi(fx.get(this));
      }
    : function (...e) {
        return Xi(t.apply(pp(this), e));
      };
}
function Db(t) {
  return typeof t == "function"
    ? jb(t)
    : (t instanceof IDBTransaction && kb(t),
      bb(t, Cb()) ? new Proxy(t, Hp) : t);
}
function Xi(t) {
  if (t instanceof IDBRequest) return Rb(t);
  if (fp.has(t)) return fp.get(t);
  const e = Db(t);
  return e !== t && (fp.set(t, e), Km.set(e, t)), e;
}
const pp = (t) => Km.get(t);
function Vb(t, e, { blocked: n, upgrade: r, blocking: s, terminated: a } = {}) {
  const l = indexedDB.open(t, e),
    d = Xi(l);
  return (
    r &&
      l.addEventListener("upgradeneeded", (f) => {
        r(Xi(l.result), f.oldVersion, f.newVersion, Xi(l.transaction), f);
      }),
    n && l.addEventListener("blocked", (f) => n(f.oldVersion, f.newVersion, f)),
    d
      .then((f) => {
        a && f.addEventListener("close", () => a()),
          s &&
            f.addEventListener("versionchange", (p) =>
              s(p.oldVersion, p.newVersion, p)
            );
      })
      .catch(() => {}),
    d
  );
}
const Ob = ["get", "getKey", "getAll", "getAllKeys", "count"],
  Mb = ["put", "add", "delete", "clear"],
  mp = new Map();
function n_(t, e) {
  if (!(t instanceof IDBDatabase && !(e in t) && typeof e == "string")) return;
  if (mp.get(e)) return mp.get(e);
  const n = e.replace(/FromIndex$/, ""),
    r = e !== n,
    s = Mb.includes(n);
  if (
    !(n in (r ? IDBIndex : IDBObjectStore).prototype) ||
    !(s || Ob.includes(n))
  )
    return;
  const a = async function (l, ...d) {
    const f = this.transaction(l, s ? "readwrite" : "readonly");
    let p = f.store;
    return (
      r && (p = p.index(d.shift())),
      (await Promise.all([p[n](...d), s && f.done]))[0]
    );
  };
  return mp.set(e, a), a;
}
Nb((t) => ({
  ...t,
  get: (e, n, r) => n_(e, n) || t.get(e, n, r),
  has: (e, n) => !!n_(e, n) || t.has(e, n),
}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Lb {
  constructor(e) {
    this.container = e;
  }
  getPlatformInfoString() {
    return this.container
      .getProviders()
      .map((n) => {
        if (Fb(n)) {
          const r = n.getImmediate();
          return `${r.library}/${r.version}`;
        } else return null;
      })
      .filter((n) => n)
      .join(" ");
  }
}
function Fb(t) {
  const e = t.getComponent();
  return (e == null ? void 0 : e.type) === "VERSION";
}
const Wp = "@firebase/app",
  r_ = "0.13.2";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ai = new Gm("@firebase/app"),
  Ub = "@firebase/app-compat",
  Bb = "@firebase/analytics-compat",
  zb = "@firebase/analytics",
  $b = "@firebase/app-check-compat",
  Hb = "@firebase/app-check",
  Wb = "@firebase/auth",
  qb = "@firebase/auth-compat",
  Gb = "@firebase/database",
  Kb = "@firebase/data-connect",
  Qb = "@firebase/database-compat",
  Xb = "@firebase/functions",
  Yb = "@firebase/functions-compat",
  Jb = "@firebase/installations",
  Zb = "@firebase/installations-compat",
  eC = "@firebase/messaging",
  tC = "@firebase/messaging-compat",
  nC = "@firebase/performance",
  rC = "@firebase/performance-compat",
  iC = "@firebase/remote-config",
  sC = "@firebase/remote-config-compat",
  oC = "@firebase/storage",
  aC = "@firebase/storage-compat",
  lC = "@firebase/firestore",
  uC = "@firebase/ai",
  cC = "@firebase/firestore-compat",
  dC = "firebase",
  hC = "11.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const qp = "[DEFAULT]",
  fC = {
    [Wp]: "fire-core",
    [Ub]: "fire-core-compat",
    [zb]: "fire-analytics",
    [Bb]: "fire-analytics-compat",
    [Hb]: "fire-app-check",
    [$b]: "fire-app-check-compat",
    [Wb]: "fire-auth",
    [qb]: "fire-auth-compat",
    [Gb]: "fire-rtdb",
    [Kb]: "fire-data-connect",
    [Qb]: "fire-rtdb-compat",
    [Xb]: "fire-fn",
    [Yb]: "fire-fn-compat",
    [Jb]: "fire-iid",
    [Zb]: "fire-iid-compat",
    [eC]: "fire-fcm",
    [tC]: "fire-fcm-compat",
    [nC]: "fire-perf",
    [rC]: "fire-perf-compat",
    [iC]: "fire-rc",
    [sC]: "fire-rc-compat",
    [oC]: "fire-gcs",
    [aC]: "fire-gcs-compat",
    [lC]: "fire-fst",
    [cC]: "fire-fst-compat",
    [uC]: "fire-vertex",
    "fire-js": "fire-js",
    [dC]: "fire-js-all",
  };
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Nd = new Map(),
  pC = new Map(),
  Gp = new Map();
function i_(t, e) {
  try {
    t.container.addComponent(e);
  } catch (n) {
    ai.debug(
      `Component ${e.name} failed to register with FirebaseApp ${t.name}`,
      n
    );
  }
}
function no(t) {
  const e = t.name;
  if (Gp.has(e))
    return (
      ai.debug(`There were multiple attempts to register component ${e}.`), !1
    );
  Gp.set(e, t);
  for (const n of Nd.values()) i_(n, t);
  for (const n of pC.values()) i_(n, t);
  return !0;
}
function oh(t, e) {
  const n = t.container.getProvider("heartbeat").getImmediate({ optional: !0 });
  return n && n.triggerHeartbeat(), t.container.getProvider(e);
}
function bn(t) {
  return t == null ? !1 : t.settings !== void 0;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const mC = {
    "no-app":
      "No Firebase App '{$appName}' has been created - call initializeApp() first",
    "bad-app-name": "Illegal App name: '{$appName}'",
    "duplicate-app":
      "Firebase App named '{$appName}' already exists with different options or config",
    "app-deleted": "Firebase App named '{$appName}' already deleted",
    "server-app-deleted": "Firebase Server App has been deleted",
    "no-options":
      "Need to provide options, when not being deployed to hosting via source.",
    "invalid-app-argument":
      "firebase.{$appName}() takes either no argument or a Firebase App instance.",
    "invalid-log-argument":
      "First argument to `onLog` must be null or a function.",
    "idb-open":
      "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-get":
      "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-set":
      "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
    "idb-delete":
      "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
    "finalization-registry-not-supported":
      "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
    "invalid-server-app-environment":
      "FirebaseServerApp is not for use in browser environments.",
  },
  Yi = new Pu("app", "Firebase", mC);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class gC {
  constructor(e, n, r) {
    (this._isDeleted = !1),
      (this._options = Object.assign({}, e)),
      (this._config = Object.assign({}, n)),
      (this._name = n.name),
      (this._automaticDataCollectionEnabled = n.automaticDataCollectionEnabled),
      (this._container = r),
      this.container.addComponent(new es("app", () => this, "PUBLIC"));
  }
  get automaticDataCollectionEnabled() {
    return this.checkDestroyed(), this._automaticDataCollectionEnabled;
  }
  set automaticDataCollectionEnabled(e) {
    this.checkDestroyed(), (this._automaticDataCollectionEnabled = e);
  }
  get name() {
    return this.checkDestroyed(), this._name;
  }
  get options() {
    return this.checkDestroyed(), this._options;
  }
  get config() {
    return this.checkDestroyed(), this._config;
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(e) {
    this._isDeleted = e;
  }
  checkDestroyed() {
    if (this.isDeleted) throw Yi.create("app-deleted", { appName: this._name });
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const co = hC;
function mx(t, e = {}) {
  let n = t;
  typeof e != "object" && (e = { name: e });
  const r = Object.assign({ name: qp, automaticDataCollectionEnabled: !0 }, e),
    s = r.name;
  if (typeof s != "string" || !s)
    throw Yi.create("bad-app-name", { appName: String(s) });
  if ((n || (n = cx()), !n)) throw Yi.create("no-options");
  const a = Nd.get(s);
  if (a) {
    if (to(n, a.options) && to(r, a.config)) return a;
    throw Yi.create("duplicate-app", { appName: s });
  }
  const l = new Eb(s);
  for (const f of Gp.values()) l.addComponent(f);
  const d = new gC(n, r, l);
  return Nd.set(s, d), d;
}
function Qm(t = qp) {
  const e = Nd.get(t);
  if (!e && t === qp && cx()) return mx();
  if (!e) throw Yi.create("no-app", { appName: t });
  return e;
}
function Er(t, e, n) {
  var r;
  let s = (r = fC[t]) !== null && r !== void 0 ? r : t;
  n && (s += `-${n}`);
  const a = s.match(/\s|\//),
    l = e.match(/\s|\//);
  if (a || l) {
    const d = [`Unable to register library "${s}" with version "${e}":`];
    a &&
      d.push(
        `library name "${s}" contains illegal characters (whitespace or "/")`
      ),
      a && l && d.push("and"),
      l &&
        d.push(
          `version name "${e}" contains illegal characters (whitespace or "/")`
        ),
      ai.warn(d.join(" "));
    return;
  }
  no(new es(`${s}-version`, () => ({ library: s, version: e }), "VERSION"));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yC = "firebase-heartbeat-database",
  vC = 1,
  au = "firebase-heartbeat-store";
let gp = null;
function gx() {
  return (
    gp ||
      (gp = Vb(yC, vC, {
        upgrade: (t, e) => {
          switch (e) {
            case 0:
              try {
                t.createObjectStore(au);
              } catch (n) {
                console.warn(n);
              }
          }
        },
      }).catch((t) => {
        throw Yi.create("idb-open", { originalErrorMessage: t.message });
      })),
    gp
  );
}
async function _C(t) {
  try {
    const n = (await gx()).transaction(au),
      r = await n.objectStore(au).get(yx(t));
    return await n.done, r;
  } catch (e) {
    if (e instanceof Or) ai.warn(e.message);
    else {
      const n = Yi.create("idb-get", {
        originalErrorMessage: e == null ? void 0 : e.message,
      });
      ai.warn(n.message);
    }
  }
}
async function s_(t, e) {
  try {
    const r = (await gx()).transaction(au, "readwrite");
    await r.objectStore(au).put(e, yx(t)), await r.done;
  } catch (n) {
    if (n instanceof Or) ai.warn(n.message);
    else {
      const r = Yi.create("idb-set", {
        originalErrorMessage: n == null ? void 0 : n.message,
      });
      ai.warn(r.message);
    }
  }
}
function yx(t) {
  return `${t.name}!${t.options.appId}`;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const wC = 1024,
  xC = 30;
class EC {
  constructor(e) {
    (this.container = e), (this._heartbeatsCache = null);
    const n = this.container.getProvider("app").getImmediate();
    (this._storage = new PC(n)),
      (this._heartbeatsCachePromise = this._storage
        .read()
        .then((r) => ((this._heartbeatsCache = r), r)));
  }
  async triggerHeartbeat() {
    var e, n;
    try {
      const s = this.container
          .getProvider("platform-logger")
          .getImmediate()
          .getPlatformInfoString(),
        a = o_();
      if (
        (((e = this._heartbeatsCache) === null || e === void 0
          ? void 0
          : e.heartbeats) == null &&
          ((this._heartbeatsCache = await this._heartbeatsCachePromise),
          ((n = this._heartbeatsCache) === null || n === void 0
            ? void 0
            : n.heartbeats) == null)) ||
        this._heartbeatsCache.lastSentHeartbeatDate === a ||
        this._heartbeatsCache.heartbeats.some((l) => l.date === a)
      )
        return;
      if (
        (this._heartbeatsCache.heartbeats.push({ date: a, agent: s }),
        this._heartbeatsCache.heartbeats.length > xC)
      ) {
        const l = SC(this._heartbeatsCache.heartbeats);
        this._heartbeatsCache.heartbeats.splice(l, 1);
      }
      return this._storage.overwrite(this._heartbeatsCache);
    } catch (r) {
      ai.warn(r);
    }
  }
  async getHeartbeatsHeader() {
    var e;
    try {
      if (
        (this._heartbeatsCache === null && (await this._heartbeatsCachePromise),
        ((e = this._heartbeatsCache) === null || e === void 0
          ? void 0
          : e.heartbeats) == null ||
          this._heartbeatsCache.heartbeats.length === 0)
      )
        return "";
      const n = o_(),
        { heartbeatsToSend: r, unsentEntries: s } = TC(
          this._heartbeatsCache.heartbeats
        ),
        a = kd(JSON.stringify({ version: 2, heartbeats: r }));
      return (
        (this._heartbeatsCache.lastSentHeartbeatDate = n),
        s.length > 0
          ? ((this._heartbeatsCache.heartbeats = s),
            await this._storage.overwrite(this._heartbeatsCache))
          : ((this._heartbeatsCache.heartbeats = []),
            this._storage.overwrite(this._heartbeatsCache)),
        a
      );
    } catch (n) {
      return ai.warn(n), "";
    }
  }
}
function o_() {
  return new Date().toISOString().substring(0, 10);
}
function TC(t, e = wC) {
  const n = [];
  let r = t.slice();
  for (const s of t) {
    const a = n.find((l) => l.agent === s.agent);
    if (a) {
      if ((a.dates.push(s.date), a_(n) > e)) {
        a.dates.pop();
        break;
      }
    } else if ((n.push({ agent: s.agent, dates: [s.date] }), a_(n) > e)) {
      n.pop();
      break;
    }
    r = r.slice(1);
  }
  return { heartbeatsToSend: n, unsentEntries: r };
}
class PC {
  constructor(e) {
    (this.app = e),
      (this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck());
  }
  async runIndexedDBEnvironmentCheck() {
    return cb()
      ? db()
          .then(() => !0)
          .catch(() => !1)
      : !1;
  }
  async read() {
    if (await this._canUseIndexedDBPromise) {
      const n = await _C(this.app);
      return n != null && n.heartbeats ? n : { heartbeats: [] };
    } else return { heartbeats: [] };
  }
  async overwrite(e) {
    var n;
    if (await this._canUseIndexedDBPromise) {
      const s = await this.read();
      return s_(this.app, {
        lastSentHeartbeatDate:
          (n = e.lastSentHeartbeatDate) !== null && n !== void 0
            ? n
            : s.lastSentHeartbeatDate,
        heartbeats: e.heartbeats,
      });
    } else return;
  }
  async add(e) {
    var n;
    if (await this._canUseIndexedDBPromise) {
      const s = await this.read();
      return s_(this.app, {
        lastSentHeartbeatDate:
          (n = e.lastSentHeartbeatDate) !== null && n !== void 0
            ? n
            : s.lastSentHeartbeatDate,
        heartbeats: [...s.heartbeats, ...e.heartbeats],
      });
    } else return;
  }
}
function a_(t) {
  return kd(JSON.stringify({ version: 2, heartbeats: t })).length;
}
function SC(t) {
  if (t.length === 0) return -1;
  let e = 0,
    n = t[0].date;
  for (let r = 1; r < t.length; r++)
    t[r].date < n && ((n = t[r].date), (e = r));
  return e;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function IC(t) {
  no(new es("platform-logger", (e) => new Lb(e), "PRIVATE")),
    no(new es("heartbeat", (e) => new EC(e), "PRIVATE")),
    Er(Wp, r_, t),
    Er(Wp, r_, "esm2017"),
    Er("fire-js", "");
}
IC("");
var bC = "firebase",
  CC = "11.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ Er(bC, CC, "app");
function Xm(t, e) {
  var n = {};
  for (var r in t)
    Object.prototype.hasOwnProperty.call(t, r) &&
      e.indexOf(r) < 0 &&
      (n[r] = t[r]);
  if (t != null && typeof Object.getOwnPropertySymbols == "function")
    for (var s = 0, r = Object.getOwnPropertySymbols(t); s < r.length; s++)
      e.indexOf(r[s]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(t, r[s]) &&
        (n[r[s]] = t[r[s]]);
  return n;
}
function vx() {
  return {
    "dependent-sdk-initialized-before-auth":
      "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
  };
}
const AC = vx,
  _x = new Pu("auth", "Firebase", vx());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const jd = new Gm("@firebase/auth");
function RC(t, ...e) {
  jd.logLevel <= Ne.WARN && jd.warn(`Auth (${co}): ${t}`, ...e);
}
function gd(t, ...e) {
  jd.logLevel <= Ne.ERROR && jd.error(`Auth (${co}): ${t}`, ...e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ar(t, ...e) {
  throw Ym(t, ...e);
}
function Tr(t, ...e) {
  return Ym(t, ...e);
}
function wx(t, e, n) {
  const r = Object.assign(Object.assign({}, AC()), { [e]: n });
  return new Pu("auth", "Firebase", r).create(e, { appName: t.name });
}
function oi(t) {
  return wx(
    t,
    "operation-not-supported-in-this-environment",
    "Operations that alter the current user are not supported in conjunction with FirebaseServerApp"
  );
}
function Ym(t, ...e) {
  if (typeof t != "string") {
    const n = e[0],
      r = [...e.slice(1)];
    return r[0] && (r[0].appName = t.name), t._errorFactory.create(n, ...r);
  }
  return _x.create(t, ...e);
}
function xe(t, e, ...n) {
  if (!t) throw Ym(e, ...n);
}
function ri(t) {
  const e = "INTERNAL ASSERTION FAILED: " + t;
  throw (gd(e), new Error(e));
}
function li(t, e) {
  t || ri(e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Kp() {
  var t;
  return (
    (typeof self < "u" &&
      ((t = self.location) === null || t === void 0 ? void 0 : t.href)) ||
    ""
  );
}
function kC() {
  return l_() === "http:" || l_() === "https:";
}
function l_() {
  var t;
  return (
    (typeof self < "u" &&
      ((t = self.location) === null || t === void 0 ? void 0 : t.protocol)) ||
    null
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function NC() {
  return typeof navigator < "u" &&
    navigator &&
    "onLine" in navigator &&
    typeof navigator.onLine == "boolean" &&
    (kC() || ob() || "connection" in navigator)
    ? navigator.onLine
    : !0;
}
function jC() {
  if (typeof navigator > "u") return null;
  const t = navigator;
  return (t.languages && t.languages[0]) || t.language || null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Iu {
  constructor(e, n) {
    (this.shortDelay = e),
      (this.longDelay = n),
      li(n > e, "Short delay should be less than long delay!"),
      (this.isMobile = rb() || ab());
  }
  get() {
    return NC()
      ? this.isMobile
        ? this.longDelay
        : this.shortDelay
      : Math.min(5e3, this.shortDelay);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Jm(t, e) {
  li(t.emulator, "Emulator should always be set here");
  const { url: n } = t.emulator;
  return e ? `${n}${e.startsWith("/") ? e.slice(1) : e}` : n;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xx {
  static initialize(e, n, r) {
    (this.fetchImpl = e),
      n && (this.headersImpl = n),
      r && (this.responseImpl = r);
  }
  static fetch() {
    if (this.fetchImpl) return this.fetchImpl;
    if (typeof self < "u" && "fetch" in self) return self.fetch;
    if (typeof globalThis < "u" && globalThis.fetch) return globalThis.fetch;
    if (typeof fetch < "u") return fetch;
    ri(
      "Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
  static headers() {
    if (this.headersImpl) return this.headersImpl;
    if (typeof self < "u" && "Headers" in self) return self.Headers;
    if (typeof globalThis < "u" && globalThis.Headers)
      return globalThis.Headers;
    if (typeof Headers < "u") return Headers;
    ri(
      "Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
  static response() {
    if (this.responseImpl) return this.responseImpl;
    if (typeof self < "u" && "Response" in self) return self.Response;
    if (typeof globalThis < "u" && globalThis.Response)
      return globalThis.Response;
    if (typeof Response < "u") return Response;
    ri(
      "Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const DC = {
  CREDENTIAL_MISMATCH: "custom-token-mismatch",
  MISSING_CUSTOM_TOKEN: "internal-error",
  INVALID_IDENTIFIER: "invalid-email",
  MISSING_CONTINUE_URI: "internal-error",
  INVALID_PASSWORD: "wrong-password",
  MISSING_PASSWORD: "missing-password",
  INVALID_LOGIN_CREDENTIALS: "invalid-credential",
  EMAIL_EXISTS: "email-already-in-use",
  PASSWORD_LOGIN_DISABLED: "operation-not-allowed",
  INVALID_IDP_RESPONSE: "invalid-credential",
  INVALID_PENDING_TOKEN: "invalid-credential",
  FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",
  MISSING_REQ_TYPE: "internal-error",
  EMAIL_NOT_FOUND: "user-not-found",
  RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",
  EXPIRED_OOB_CODE: "expired-action-code",
  INVALID_OOB_CODE: "invalid-action-code",
  MISSING_OOB_CODE: "internal-error",
  CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",
  INVALID_ID_TOKEN: "invalid-user-token",
  TOKEN_EXPIRED: "user-token-expired",
  USER_NOT_FOUND: "user-token-expired",
  TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",
  PASSWORD_DOES_NOT_MEET_REQUIREMENTS: "password-does-not-meet-requirements",
  INVALID_CODE: "invalid-verification-code",
  INVALID_SESSION_INFO: "invalid-verification-id",
  INVALID_TEMPORARY_PROOF: "invalid-credential",
  MISSING_SESSION_INFO: "missing-verification-id",
  SESSION_EXPIRED: "code-expired",
  MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",
  UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",
  INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",
  ADMIN_ONLY_OPERATION: "admin-restricted-operation",
  INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",
  MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",
  MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",
  MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",
  SECOND_FACTOR_EXISTS: "second-factor-already-in-use",
  SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",
  BLOCKING_FUNCTION_ERROR_RESPONSE: "internal-error",
  RECAPTCHA_NOT_ENABLED: "recaptcha-not-enabled",
  MISSING_RECAPTCHA_TOKEN: "missing-recaptcha-token",
  INVALID_RECAPTCHA_TOKEN: "invalid-recaptcha-token",
  INVALID_RECAPTCHA_ACTION: "invalid-recaptcha-action",
  MISSING_CLIENT_TYPE: "missing-client-type",
  MISSING_RECAPTCHA_VERSION: "missing-recaptcha-version",
  INVALID_RECAPTCHA_VERSION: "invalid-recaptcha-version",
  INVALID_REQ_TYPE: "invalid-req-type",
};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const VC = [
    "/v1/accounts:signInWithCustomToken",
    "/v1/accounts:signInWithEmailLink",
    "/v1/accounts:signInWithIdp",
    "/v1/accounts:signInWithPassword",
    "/v1/accounts:signInWithPhoneNumber",
    "/v1/token",
  ],
  OC = new Iu(3e4, 6e4);
function fs(t, e) {
  return t.tenantId && !e.tenantId
    ? Object.assign(Object.assign({}, e), { tenantId: t.tenantId })
    : e;
}
async function pi(t, e, n, r, s = {}) {
  return Ex(t, s, async () => {
    let a = {},
      l = {};
    r && (e === "GET" ? (l = r) : (a = { body: JSON.stringify(r) }));
    const d = Su(Object.assign({ key: t.config.apiKey }, l)).slice(1),
      f = await t._getAdditionalHeaders();
    (f["Content-Type"] = "application/json"),
      t.languageCode && (f["X-Firebase-Locale"] = t.languageCode);
    const p = Object.assign({ method: e, headers: f }, a);
    return (
      sb() || (p.referrerPolicy = "no-referrer"),
      t.emulatorConfig &&
        hs(t.emulatorConfig.host) &&
        (p.credentials = "include"),
      xx.fetch()(await Tx(t, t.config.apiHost, n, d), p)
    );
  });
}
async function Ex(t, e, n) {
  t._canInitEmulator = !1;
  const r = Object.assign(Object.assign({}, DC), e);
  try {
    const s = new LC(t),
      a = await Promise.race([n(), s.promise]);
    s.clearNetworkTimeout();
    const l = await a.json();
    if ("needConfirmation" in l)
      throw td(t, "account-exists-with-different-credential", l);
    if (a.ok && !("errorMessage" in l)) return l;
    {
      const d = a.ok ? l.errorMessage : l.error.message,
        [f, p] = d.split(" : ");
      if (f === "FEDERATED_USER_ID_ALREADY_LINKED")
        throw td(t, "credential-already-in-use", l);
      if (f === "EMAIL_EXISTS") throw td(t, "email-already-in-use", l);
      if (f === "USER_DISABLED") throw td(t, "user-disabled", l);
      const g = r[f] || f.toLowerCase().replace(/[_\s]+/g, "-");
      if (p) throw wx(t, g, p);
      ar(t, g);
    }
  } catch (s) {
    if (s instanceof Or) throw s;
    ar(t, "network-request-failed", { message: String(s) });
  }
}
async function bu(t, e, n, r, s = {}) {
  const a = await pi(t, e, n, r, s);
  return (
    "mfaPendingCredential" in a &&
      ar(t, "multi-factor-auth-required", { _serverResponse: a }),
    a
  );
}
async function Tx(t, e, n, r) {
  const s = `${e}${n}?${r}`,
    a = t,
    l = a.config.emulator ? Jm(t.config, s) : `${t.config.apiScheme}://${s}`;
  return VC.includes(n) &&
    (await a._persistenceManagerAvailable, a._getPersistenceType() === "COOKIE")
    ? a._getPersistence()._getFinalTarget(l).toString()
    : l;
}
function MC(t) {
  switch (t) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
class LC {
  clearNetworkTimeout() {
    clearTimeout(this.timer);
  }
  constructor(e) {
    (this.auth = e),
      (this.timer = null),
      (this.promise = new Promise((n, r) => {
        this.timer = setTimeout(
          () => r(Tr(this.auth, "network-request-failed")),
          OC.get()
        );
      }));
  }
}
function td(t, e, n) {
  const r = { appName: t.name };
  n.email && (r.email = n.email),
    n.phoneNumber && (r.phoneNumber = n.phoneNumber);
  const s = Tr(t, e, r);
  return (s.customData._tokenResponse = n), s;
}
function u_(t) {
  return t !== void 0 && t.enterprise !== void 0;
}
class FC {
  constructor(e) {
    if (
      ((this.siteKey = ""),
      (this.recaptchaEnforcementState = []),
      e.recaptchaKey === void 0)
    )
      throw new Error("recaptchaKey undefined");
    (this.siteKey = e.recaptchaKey.split("/")[3]),
      (this.recaptchaEnforcementState = e.recaptchaEnforcementState);
  }
  getProviderEnforcementState(e) {
    if (
      !this.recaptchaEnforcementState ||
      this.recaptchaEnforcementState.length === 0
    )
      return null;
    for (const n of this.recaptchaEnforcementState)
      if (n.provider && n.provider === e) return MC(n.enforcementState);
    return null;
  }
  isProviderEnabled(e) {
    return (
      this.getProviderEnforcementState(e) === "ENFORCE" ||
      this.getProviderEnforcementState(e) === "AUDIT"
    );
  }
  isAnyProviderEnabled() {
    return (
      this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER") ||
      this.isProviderEnabled("PHONE_PROVIDER")
    );
  }
}
async function UC(t, e) {
  return pi(t, "GET", "/v2/recaptchaConfig", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function BC(t, e) {
  return pi(t, "POST", "/v1/accounts:delete", e);
}
async function Dd(t, e) {
  return pi(t, "POST", "/v1/accounts:lookup", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ql(t) {
  if (t)
    try {
      const e = new Date(Number(t));
      if (!isNaN(e.getTime())) return e.toUTCString();
    } catch {}
}
async function zC(t, e = !1) {
  const n = mt(t),
    r = await n.getIdToken(e),
    s = Zm(r);
  xe(s && s.exp && s.auth_time && s.iat, n.auth, "internal-error");
  const a = typeof s.firebase == "object" ? s.firebase : void 0,
    l = a == null ? void 0 : a.sign_in_provider;
  return {
    claims: s,
    token: r,
    authTime: ql(yp(s.auth_time)),
    issuedAtTime: ql(yp(s.iat)),
    expirationTime: ql(yp(s.exp)),
    signInProvider: l || null,
    signInSecondFactor: (a == null ? void 0 : a.sign_in_second_factor) || null,
  };
}
function yp(t) {
  return Number(t) * 1e3;
}
function Zm(t) {
  const [e, n, r] = t.split(".");
  if (e === void 0 || n === void 0 || r === void 0)
    return gd("JWT malformed, contained fewer than 3 sections"), null;
  try {
    const s = ax(n);
    return s
      ? JSON.parse(s)
      : (gd("Failed to decode base64 JWT payload"), null);
  } catch (s) {
    return (
      gd(
        "Caught error parsing JWT payload as JSON",
        s == null ? void 0 : s.toString()
      ),
      null
    );
  }
}
function c_(t) {
  const e = Zm(t);
  return (
    xe(e, "internal-error"),
    xe(typeof e.exp < "u", "internal-error"),
    xe(typeof e.iat < "u", "internal-error"),
    Number(e.exp) - Number(e.iat)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Ea(t, e, n = !1) {
  if (n) return e;
  try {
    return await e;
  } catch (r) {
    throw (
      (r instanceof Or &&
        $C(r) &&
        t.auth.currentUser === t &&
        (await t.auth.signOut()),
      r)
    );
  }
}
function $C({ code: t }) {
  return t === "auth/user-disabled" || t === "auth/user-token-expired";
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class HC {
  constructor(e) {
    (this.user = e),
      (this.isRunning = !1),
      (this.timerId = null),
      (this.errorBackoff = 3e4);
  }
  _start() {
    this.isRunning || ((this.isRunning = !0), this.schedule());
  }
  _stop() {
    this.isRunning &&
      ((this.isRunning = !1),
      this.timerId !== null && clearTimeout(this.timerId));
  }
  getInterval(e) {
    var n;
    if (e) {
      const r = this.errorBackoff;
      return (this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4)), r;
    } else {
      this.errorBackoff = 3e4;
      const s =
        ((n = this.user.stsTokenManager.expirationTime) !== null && n !== void 0
          ? n
          : 0) -
        Date.now() -
        3e5;
      return Math.max(0, s);
    }
  }
  schedule(e = !1) {
    if (!this.isRunning) return;
    const n = this.getInterval(e);
    this.timerId = setTimeout(async () => {
      await this.iteration();
    }, n);
  }
  async iteration() {
    try {
      await this.user.getIdToken(!0);
    } catch (e) {
      (e == null ? void 0 : e.code) === "auth/network-request-failed" &&
        this.schedule(!0);
      return;
    }
    this.schedule();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Qp {
  constructor(e, n) {
    (this.createdAt = e), (this.lastLoginAt = n), this._initializeTime();
  }
  _initializeTime() {
    (this.lastSignInTime = ql(this.lastLoginAt)),
      (this.creationTime = ql(this.createdAt));
  }
  _copy(e) {
    (this.createdAt = e.createdAt),
      (this.lastLoginAt = e.lastLoginAt),
      this._initializeTime();
  }
  toJSON() {
    return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt };
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Vd(t) {
  var e;
  const n = t.auth,
    r = await t.getIdToken(),
    s = await Ea(t, Dd(n, { idToken: r }));
  xe(s == null ? void 0 : s.users.length, n, "internal-error");
  const a = s.users[0];
  t._notifyReloadListener(a);
  const l =
      !((e = a.providerUserInfo) === null || e === void 0) && e.length
        ? Px(a.providerUserInfo)
        : [],
    d = qC(t.providerData, l),
    f = t.isAnonymous,
    p = !(t.email && a.passwordHash) && !(d != null && d.length),
    g = f ? p : !1,
    w = {
      uid: a.localId,
      displayName: a.displayName || null,
      photoURL: a.photoUrl || null,
      email: a.email || null,
      emailVerified: a.emailVerified || !1,
      phoneNumber: a.phoneNumber || null,
      tenantId: a.tenantId || null,
      providerData: d,
      metadata: new Qp(a.createdAt, a.lastLoginAt),
      isAnonymous: g,
    };
  Object.assign(t, w);
}
async function WC(t) {
  const e = mt(t);
  await Vd(e),
    await e.auth._persistUserIfCurrent(e),
    e.auth._notifyListenersIfCurrent(e);
}
function qC(t, e) {
  return [
    ...t.filter((r) => !e.some((s) => s.providerId === r.providerId)),
    ...e,
  ];
}
function Px(t) {
  return t.map((e) => {
    var { providerId: n } = e,
      r = Xm(e, ["providerId"]);
    return {
      providerId: n,
      uid: r.rawId || "",
      displayName: r.displayName || null,
      email: r.email || null,
      phoneNumber: r.phoneNumber || null,
      photoURL: r.photoUrl || null,
    };
  });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function GC(t, e) {
  const n = await Ex(t, {}, async () => {
    const r = Su({ grant_type: "refresh_token", refresh_token: e }).slice(1),
      { tokenApiHost: s, apiKey: a } = t.config,
      l = await Tx(t, s, "/v1/token", `key=${a}`),
      d = await t._getAdditionalHeaders();
    d["Content-Type"] = "application/x-www-form-urlencoded";
    const f = { method: "POST", headers: d, body: r };
    return (
      t.emulatorConfig &&
        hs(t.emulatorConfig.host) &&
        (f.credentials = "include"),
      xx.fetch()(l, f)
    );
  });
  return {
    accessToken: n.access_token,
    expiresIn: n.expires_in,
    refreshToken: n.refresh_token,
  };
}
async function KC(t, e) {
  return pi(t, "POST", "/v2/accounts:revokeToken", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class va {
  constructor() {
    (this.refreshToken = null),
      (this.accessToken = null),
      (this.expirationTime = null);
  }
  get isExpired() {
    return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
  }
  updateFromServerResponse(e) {
    xe(e.idToken, "internal-error"),
      xe(typeof e.idToken < "u", "internal-error"),
      xe(typeof e.refreshToken < "u", "internal-error");
    const n =
      "expiresIn" in e && typeof e.expiresIn < "u"
        ? Number(e.expiresIn)
        : c_(e.idToken);
    this.updateTokensAndExpiration(e.idToken, e.refreshToken, n);
  }
  updateFromIdToken(e) {
    xe(e.length !== 0, "internal-error");
    const n = c_(e);
    this.updateTokensAndExpiration(e, null, n);
  }
  async getToken(e, n = !1) {
    return !n && this.accessToken && !this.isExpired
      ? this.accessToken
      : (xe(this.refreshToken, e, "user-token-expired"),
        this.refreshToken
          ? (await this.refresh(e, this.refreshToken), this.accessToken)
          : null);
  }
  clearRefreshToken() {
    this.refreshToken = null;
  }
  async refresh(e, n) {
    const { accessToken: r, refreshToken: s, expiresIn: a } = await GC(e, n);
    this.updateTokensAndExpiration(r, s, Number(a));
  }
  updateTokensAndExpiration(e, n, r) {
    (this.refreshToken = n || null),
      (this.accessToken = e || null),
      (this.expirationTime = Date.now() + r * 1e3);
  }
  static fromJSON(e, n) {
    const { refreshToken: r, accessToken: s, expirationTime: a } = n,
      l = new va();
    return (
      r &&
        (xe(typeof r == "string", "internal-error", { appName: e }),
        (l.refreshToken = r)),
      s &&
        (xe(typeof s == "string", "internal-error", { appName: e }),
        (l.accessToken = s)),
      a &&
        (xe(typeof a == "number", "internal-error", { appName: e }),
        (l.expirationTime = a)),
      l
    );
  }
  toJSON() {
    return {
      refreshToken: this.refreshToken,
      accessToken: this.accessToken,
      expirationTime: this.expirationTime,
    };
  }
  _assign(e) {
    (this.accessToken = e.accessToken),
      (this.refreshToken = e.refreshToken),
      (this.expirationTime = e.expirationTime);
  }
  _clone() {
    return Object.assign(new va(), this.toJSON());
  }
  _performRefresh() {
    return ri("not implemented");
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ui(t, e) {
  xe(typeof t == "string" || typeof t > "u", "internal-error", { appName: e });
}
class or {
  constructor(e) {
    var { uid: n, auth: r, stsTokenManager: s } = e,
      a = Xm(e, ["uid", "auth", "stsTokenManager"]);
    (this.providerId = "firebase"),
      (this.proactiveRefresh = new HC(this)),
      (this.reloadUserInfo = null),
      (this.reloadListener = null),
      (this.uid = n),
      (this.auth = r),
      (this.stsTokenManager = s),
      (this.accessToken = s.accessToken),
      (this.displayName = a.displayName || null),
      (this.email = a.email || null),
      (this.emailVerified = a.emailVerified || !1),
      (this.phoneNumber = a.phoneNumber || null),
      (this.photoURL = a.photoURL || null),
      (this.isAnonymous = a.isAnonymous || !1),
      (this.tenantId = a.tenantId || null),
      (this.providerData = a.providerData ? [...a.providerData] : []),
      (this.metadata = new Qp(a.createdAt || void 0, a.lastLoginAt || void 0));
  }
  async getIdToken(e) {
    const n = await Ea(this, this.stsTokenManager.getToken(this.auth, e));
    return (
      xe(n, this.auth, "internal-error"),
      this.accessToken !== n &&
        ((this.accessToken = n),
        await this.auth._persistUserIfCurrent(this),
        this.auth._notifyListenersIfCurrent(this)),
      n
    );
  }
  getIdTokenResult(e) {
    return zC(this, e);
  }
  reload() {
    return WC(this);
  }
  _assign(e) {
    this !== e &&
      (xe(this.uid === e.uid, this.auth, "internal-error"),
      (this.displayName = e.displayName),
      (this.photoURL = e.photoURL),
      (this.email = e.email),
      (this.emailVerified = e.emailVerified),
      (this.phoneNumber = e.phoneNumber),
      (this.isAnonymous = e.isAnonymous),
      (this.tenantId = e.tenantId),
      (this.providerData = e.providerData.map((n) => Object.assign({}, n))),
      this.metadata._copy(e.metadata),
      this.stsTokenManager._assign(e.stsTokenManager));
  }
  _clone(e) {
    const n = new or(
      Object.assign(Object.assign({}, this), {
        auth: e,
        stsTokenManager: this.stsTokenManager._clone(),
      })
    );
    return n.metadata._copy(this.metadata), n;
  }
  _onReload(e) {
    xe(!this.reloadListener, this.auth, "internal-error"),
      (this.reloadListener = e),
      this.reloadUserInfo &&
        (this._notifyReloadListener(this.reloadUserInfo),
        (this.reloadUserInfo = null));
  }
  _notifyReloadListener(e) {
    this.reloadListener ? this.reloadListener(e) : (this.reloadUserInfo = e);
  }
  _startProactiveRefresh() {
    this.proactiveRefresh._start();
  }
  _stopProactiveRefresh() {
    this.proactiveRefresh._stop();
  }
  async _updateTokensIfNecessary(e, n = !1) {
    let r = !1;
    e.idToken &&
      e.idToken !== this.stsTokenManager.accessToken &&
      (this.stsTokenManager.updateFromServerResponse(e), (r = !0)),
      n && (await Vd(this)),
      await this.auth._persistUserIfCurrent(this),
      r && this.auth._notifyListenersIfCurrent(this);
  }
  async delete() {
    if (bn(this.auth.app)) return Promise.reject(oi(this.auth));
    const e = await this.getIdToken();
    return (
      await Ea(this, BC(this.auth, { idToken: e })),
      this.stsTokenManager.clearRefreshToken(),
      this.auth.signOut()
    );
  }
  toJSON() {
    return Object.assign(
      Object.assign(
        {
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((e) => Object.assign({}, e)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          _redirectEventId: this._redirectEventId,
        },
        this.metadata.toJSON()
      ),
      { apiKey: this.auth.config.apiKey, appName: this.auth.name }
    );
  }
  get refreshToken() {
    return this.stsTokenManager.refreshToken || "";
  }
  static _fromJSON(e, n) {
    var r, s, a, l, d, f, p, g;
    const w = (r = n.displayName) !== null && r !== void 0 ? r : void 0,
      x = (s = n.email) !== null && s !== void 0 ? s : void 0,
      P = (a = n.phoneNumber) !== null && a !== void 0 ? a : void 0,
      b = (l = n.photoURL) !== null && l !== void 0 ? l : void 0,
      N = (d = n.tenantId) !== null && d !== void 0 ? d : void 0,
      k = (f = n._redirectEventId) !== null && f !== void 0 ? f : void 0,
      $ = (p = n.createdAt) !== null && p !== void 0 ? p : void 0,
      G = (g = n.lastLoginAt) !== null && g !== void 0 ? g : void 0,
      {
        uid: q,
        emailVerified: Y,
        isAnonymous: ne,
        providerData: oe,
        stsTokenManager: C,
      } = n;
    xe(q && C, e, "internal-error");
    const I = va.fromJSON(this.name, C);
    xe(typeof q == "string", e, "internal-error"),
      Ui(w, e.name),
      Ui(x, e.name),
      xe(typeof Y == "boolean", e, "internal-error"),
      xe(typeof ne == "boolean", e, "internal-error"),
      Ui(P, e.name),
      Ui(b, e.name),
      Ui(N, e.name),
      Ui(k, e.name),
      Ui($, e.name),
      Ui(G, e.name);
    const A = new or({
      uid: q,
      auth: e,
      email: x,
      emailVerified: Y,
      displayName: w,
      isAnonymous: ne,
      photoURL: b,
      phoneNumber: P,
      tenantId: N,
      stsTokenManager: I,
      createdAt: $,
      lastLoginAt: G,
    });
    return (
      oe &&
        Array.isArray(oe) &&
        (A.providerData = oe.map((D) => Object.assign({}, D))),
      k && (A._redirectEventId = k),
      A
    );
  }
  static async _fromIdTokenResponse(e, n, r = !1) {
    const s = new va();
    s.updateFromServerResponse(n);
    const a = new or({
      uid: n.localId,
      auth: e,
      stsTokenManager: s,
      isAnonymous: r,
    });
    return await Vd(a), a;
  }
  static async _fromGetAccountInfoResponse(e, n, r) {
    const s = n.users[0];
    xe(s.localId !== void 0, "internal-error");
    const a = s.providerUserInfo !== void 0 ? Px(s.providerUserInfo) : [],
      l = !(s.email && s.passwordHash) && !(a != null && a.length),
      d = new va();
    d.updateFromIdToken(r);
    const f = new or({
        uid: s.localId,
        auth: e,
        stsTokenManager: d,
        isAnonymous: l,
      }),
      p = {
        uid: s.localId,
        displayName: s.displayName || null,
        photoURL: s.photoUrl || null,
        email: s.email || null,
        emailVerified: s.emailVerified || !1,
        phoneNumber: s.phoneNumber || null,
        tenantId: s.tenantId || null,
        providerData: a,
        metadata: new Qp(s.createdAt, s.lastLoginAt),
        isAnonymous: !(s.email && s.passwordHash) && !(a != null && a.length),
      };
    return Object.assign(f, p), f;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const d_ = new Map();
function ii(t) {
  li(t instanceof Function, "Expected a class definition");
  let e = d_.get(t);
  return e
    ? (li(e instanceof t, "Instance stored in cache mismatched with class"), e)
    : ((e = new t()), d_.set(t, e), e);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Sx {
  constructor() {
    (this.type = "NONE"), (this.storage = {});
  }
  async _isAvailable() {
    return !0;
  }
  async _set(e, n) {
    this.storage[e] = n;
  }
  async _get(e) {
    const n = this.storage[e];
    return n === void 0 ? null : n;
  }
  async _remove(e) {
    delete this.storage[e];
  }
  _addListener(e, n) {}
  _removeListener(e, n) {}
}
Sx.type = "NONE";
const h_ = Sx;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function yd(t, e, n) {
  return `firebase:${t}:${e}:${n}`;
}
class _a {
  constructor(e, n, r) {
    (this.persistence = e), (this.auth = n), (this.userKey = r);
    const { config: s, name: a } = this.auth;
    (this.fullUserKey = yd(this.userKey, s.apiKey, a)),
      (this.fullPersistenceKey = yd("persistence", s.apiKey, a)),
      (this.boundEventHandler = n._onStorageEvent.bind(n)),
      this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
  }
  setCurrentUser(e) {
    return this.persistence._set(this.fullUserKey, e.toJSON());
  }
  async getCurrentUser() {
    const e = await this.persistence._get(this.fullUserKey);
    if (!e) return null;
    if (typeof e == "string") {
      const n = await Dd(this.auth, { idToken: e }).catch(() => {});
      return n ? or._fromGetAccountInfoResponse(this.auth, n, e) : null;
    }
    return or._fromJSON(this.auth, e);
  }
  removeCurrentUser() {
    return this.persistence._remove(this.fullUserKey);
  }
  savePersistenceForRedirect() {
    return this.persistence._set(
      this.fullPersistenceKey,
      this.persistence.type
    );
  }
  async setPersistence(e) {
    if (this.persistence === e) return;
    const n = await this.getCurrentUser();
    if ((await this.removeCurrentUser(), (this.persistence = e), n))
      return this.setCurrentUser(n);
  }
  delete() {
    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
  }
  static async create(e, n, r = "authUser") {
    if (!n.length) return new _a(ii(h_), e, r);
    const s = (
      await Promise.all(
        n.map(async (p) => {
          if (await p._isAvailable()) return p;
        })
      )
    ).filter((p) => p);
    let a = s[0] || ii(h_);
    const l = yd(r, e.config.apiKey, e.name);
    let d = null;
    for (const p of n)
      try {
        const g = await p._get(l);
        if (g) {
          let w;
          if (typeof g == "string") {
            const x = await Dd(e, { idToken: g }).catch(() => {});
            if (!x) break;
            w = await or._fromGetAccountInfoResponse(e, x, g);
          } else w = or._fromJSON(e, g);
          p !== a && (d = w), (a = p);
          break;
        }
      } catch {}
    const f = s.filter((p) => p._shouldAllowMigration);
    return !a._shouldAllowMigration || !f.length
      ? new _a(a, e, r)
      : ((a = f[0]),
        d && (await a._set(l, d.toJSON())),
        await Promise.all(
          n.map(async (p) => {
            if (p !== a)
              try {
                await p._remove(l);
              } catch {}
          })
        ),
        new _a(a, e, r));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function f_(t) {
  const e = t.toLowerCase();
  if (e.includes("opera/") || e.includes("opr/") || e.includes("opios/"))
    return "Opera";
  if (Ax(e)) return "IEMobile";
  if (e.includes("msie") || e.includes("trident/")) return "IE";
  if (e.includes("edge/")) return "Edge";
  if (Ix(e)) return "Firefox";
  if (e.includes("silk/")) return "Silk";
  if (kx(e)) return "Blackberry";
  if (Nx(e)) return "Webos";
  if (bx(e)) return "Safari";
  if ((e.includes("chrome/") || Cx(e)) && !e.includes("edge/")) return "Chrome";
  if (Rx(e)) return "Android";
  {
    const n = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,
      r = t.match(n);
    if ((r == null ? void 0 : r.length) === 2) return r[1];
  }
  return "Other";
}
function Ix(t = tn()) {
  return /firefox\//i.test(t);
}
function bx(t = tn()) {
  const e = t.toLowerCase();
  return (
    e.includes("safari/") &&
    !e.includes("chrome/") &&
    !e.includes("crios/") &&
    !e.includes("android")
  );
}
function Cx(t = tn()) {
  return /crios\//i.test(t);
}
function Ax(t = tn()) {
  return /iemobile/i.test(t);
}
function Rx(t = tn()) {
  return /android/i.test(t);
}
function kx(t = tn()) {
  return /blackberry/i.test(t);
}
function Nx(t = tn()) {
  return /webos/i.test(t);
}
function eg(t = tn()) {
  return (
    /iphone|ipad|ipod/i.test(t) || (/macintosh/i.test(t) && /mobile/i.test(t))
  );
}
function QC(t = tn()) {
  var e;
  return (
    eg(t) &&
    !!(!((e = window.navigator) === null || e === void 0) && e.standalone)
  );
}
function XC() {
  return lb() && document.documentMode === 10;
}
function jx(t = tn()) {
  return eg(t) || Rx(t) || Nx(t) || kx(t) || /windows phone/i.test(t) || Ax(t);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Dx(t, e = []) {
  let n;
  switch (t) {
    case "Browser":
      n = f_(tn());
      break;
    case "Worker":
      n = `${f_(tn())}-${t}`;
      break;
    default:
      n = t;
  }
  const r = e.length ? e.join(",") : "FirebaseCore-web";
  return `${n}/JsCore/${co}/${r}`;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class YC {
  constructor(e) {
    (this.auth = e), (this.queue = []);
  }
  pushCallback(e, n) {
    const r = (a) =>
      new Promise((l, d) => {
        try {
          const f = e(a);
          l(f);
        } catch (f) {
          d(f);
        }
      });
    (r.onAbort = n), this.queue.push(r);
    const s = this.queue.length - 1;
    return () => {
      this.queue[s] = () => Promise.resolve();
    };
  }
  async runMiddleware(e) {
    if (this.auth.currentUser === e) return;
    const n = [];
    try {
      for (const r of this.queue) await r(e), r.onAbort && n.push(r.onAbort);
    } catch (r) {
      n.reverse();
      for (const s of n)
        try {
          s();
        } catch {}
      throw this.auth._errorFactory.create("login-blocked", {
        originalMessage: r == null ? void 0 : r.message,
      });
    }
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function JC(t, e = {}) {
  return pi(t, "GET", "/v2/passwordPolicy", fs(t, e));
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ZC = 6;
class eA {
  constructor(e) {
    var n, r, s, a;
    const l = e.customStrengthOptions;
    (this.customStrengthOptions = {}),
      (this.customStrengthOptions.minPasswordLength =
        (n = l.minPasswordLength) !== null && n !== void 0 ? n : ZC),
      l.maxPasswordLength &&
        (this.customStrengthOptions.maxPasswordLength = l.maxPasswordLength),
      l.containsLowercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsLowercaseLetter =
          l.containsLowercaseCharacter),
      l.containsUppercaseCharacter !== void 0 &&
        (this.customStrengthOptions.containsUppercaseLetter =
          l.containsUppercaseCharacter),
      l.containsNumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNumericCharacter =
          l.containsNumericCharacter),
      l.containsNonAlphanumericCharacter !== void 0 &&
        (this.customStrengthOptions.containsNonAlphanumericCharacter =
          l.containsNonAlphanumericCharacter),
      (this.enforcementState = e.enforcementState),
      this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED" &&
        (this.enforcementState = "OFF"),
      (this.allowedNonAlphanumericCharacters =
        (s =
          (r = e.allowedNonAlphanumericCharacters) === null || r === void 0
            ? void 0
            : r.join("")) !== null && s !== void 0
          ? s
          : ""),
      (this.forceUpgradeOnSignin =
        (a = e.forceUpgradeOnSignin) !== null && a !== void 0 ? a : !1),
      (this.schemaVersion = e.schemaVersion);
  }
  validatePassword(e) {
    var n, r, s, a, l, d;
    const f = { isValid: !0, passwordPolicy: this };
    return (
      this.validatePasswordLengthOptions(e, f),
      this.validatePasswordCharacterOptions(e, f),
      f.isValid &&
        (f.isValid =
          (n = f.meetsMinPasswordLength) !== null && n !== void 0 ? n : !0),
      f.isValid &&
        (f.isValid =
          (r = f.meetsMaxPasswordLength) !== null && r !== void 0 ? r : !0),
      f.isValid &&
        (f.isValid =
          (s = f.containsLowercaseLetter) !== null && s !== void 0 ? s : !0),
      f.isValid &&
        (f.isValid =
          (a = f.containsUppercaseLetter) !== null && a !== void 0 ? a : !0),
      f.isValid &&
        (f.isValid =
          (l = f.containsNumericCharacter) !== null && l !== void 0 ? l : !0),
      f.isValid &&
        (f.isValid =
          (d = f.containsNonAlphanumericCharacter) !== null && d !== void 0
            ? d
            : !0),
      f
    );
  }
  validatePasswordLengthOptions(e, n) {
    const r = this.customStrengthOptions.minPasswordLength,
      s = this.customStrengthOptions.maxPasswordLength;
    r && (n.meetsMinPasswordLength = e.length >= r),
      s && (n.meetsMaxPasswordLength = e.length <= s);
  }
  validatePasswordCharacterOptions(e, n) {
    this.updatePasswordCharacterOptionsStatuses(n, !1, !1, !1, !1);
    let r;
    for (let s = 0; s < e.length; s++)
      (r = e.charAt(s)),
        this.updatePasswordCharacterOptionsStatuses(
          n,
          r >= "a" && r <= "z",
          r >= "A" && r <= "Z",
          r >= "0" && r <= "9",
          this.allowedNonAlphanumericCharacters.includes(r)
        );
  }
  updatePasswordCharacterOptionsStatuses(e, n, r, s, a) {
    this.customStrengthOptions.containsLowercaseLetter &&
      (e.containsLowercaseLetter || (e.containsLowercaseLetter = n)),
      this.customStrengthOptions.containsUppercaseLetter &&
        (e.containsUppercaseLetter || (e.containsUppercaseLetter = r)),
      this.customStrengthOptions.containsNumericCharacter &&
        (e.containsNumericCharacter || (e.containsNumericCharacter = s)),
      this.customStrengthOptions.containsNonAlphanumericCharacter &&
        (e.containsNonAlphanumericCharacter ||
          (e.containsNonAlphanumericCharacter = a));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tA {
  constructor(e, n, r, s) {
    (this.app = e),
      (this.heartbeatServiceProvider = n),
      (this.appCheckServiceProvider = r),
      (this.config = s),
      (this.currentUser = null),
      (this.emulatorConfig = null),
      (this.operations = Promise.resolve()),
      (this.authStateSubscription = new p_(this)),
      (this.idTokenSubscription = new p_(this)),
      (this.beforeStateQueue = new YC(this)),
      (this.redirectUser = null),
      (this.isProactiveRefreshEnabled = !1),
      (this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1),
      (this._canInitEmulator = !0),
      (this._isInitialized = !1),
      (this._deleted = !1),
      (this._initializationPromise = null),
      (this._popupRedirectResolver = null),
      (this._errorFactory = _x),
      (this._agentRecaptchaConfig = null),
      (this._tenantRecaptchaConfigs = {}),
      (this._projectPasswordPolicy = null),
      (this._tenantPasswordPolicies = {}),
      (this._resolvePersistenceManagerAvailable = void 0),
      (this.lastNotifiedUid = void 0),
      (this.languageCode = null),
      (this.tenantId = null),
      (this.settings = { appVerificationDisabledForTesting: !1 }),
      (this.frameworks = []),
      (this.name = e.name),
      (this.clientVersion = s.sdkClientVersion),
      (this._persistenceManagerAvailable = new Promise(
        (a) => (this._resolvePersistenceManagerAvailable = a)
      ));
  }
  _initializeWithPersistence(e, n) {
    return (
      n && (this._popupRedirectResolver = ii(n)),
      (this._initializationPromise = this.queue(async () => {
        var r, s, a;
        if (
          !this._deleted &&
          ((this.persistenceManager = await _a.create(this, e)),
          (r = this._resolvePersistenceManagerAvailable) === null ||
            r === void 0 ||
            r.call(this),
          !this._deleted)
        ) {
          if (
            !((s = this._popupRedirectResolver) === null || s === void 0) &&
            s._shouldInitProactively
          )
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch {}
          await this.initializeCurrentUser(n),
            (this.lastNotifiedUid =
              ((a = this.currentUser) === null || a === void 0
                ? void 0
                : a.uid) || null),
            !this._deleted && (this._isInitialized = !0);
        }
      })),
      this._initializationPromise
    );
  }
  async _onStorageEvent() {
    if (this._deleted) return;
    const e = await this.assertedPersistence.getCurrentUser();
    if (!(!this.currentUser && !e)) {
      if (this.currentUser && e && this.currentUser.uid === e.uid) {
        this._currentUser._assign(e), await this.currentUser.getIdToken();
        return;
      }
      await this._updateCurrentUser(e, !0);
    }
  }
  async initializeCurrentUserFromIdToken(e) {
    try {
      const n = await Dd(this, { idToken: e }),
        r = await or._fromGetAccountInfoResponse(this, n, e);
      await this.directlySetCurrentUser(r);
    } catch (n) {
      console.warn(
        "FirebaseServerApp could not login user with provided authIdToken: ",
        n
      ),
        await this.directlySetCurrentUser(null);
    }
  }
  async initializeCurrentUser(e) {
    var n;
    if (bn(this.app)) {
      const l = this.app.settings.authIdToken;
      return l
        ? new Promise((d) => {
            setTimeout(() =>
              this.initializeCurrentUserFromIdToken(l).then(d, d)
            );
          })
        : this.directlySetCurrentUser(null);
    }
    const r = await this.assertedPersistence.getCurrentUser();
    let s = r,
      a = !1;
    if (e && this.config.authDomain) {
      await this.getOrInitRedirectPersistenceManager();
      const l =
          (n = this.redirectUser) === null || n === void 0
            ? void 0
            : n._redirectEventId,
        d = s == null ? void 0 : s._redirectEventId,
        f = await this.tryRedirectSignIn(e);
      (!l || l === d) && f != null && f.user && ((s = f.user), (a = !0));
    }
    if (!s) return this.directlySetCurrentUser(null);
    if (!s._redirectEventId) {
      if (a)
        try {
          await this.beforeStateQueue.runMiddleware(s);
        } catch (l) {
          (s = r),
            this._popupRedirectResolver._overrideRedirectResult(this, () =>
              Promise.reject(l)
            );
        }
      return s
        ? this.reloadAndSetCurrentUserOrClear(s)
        : this.directlySetCurrentUser(null);
    }
    return (
      xe(this._popupRedirectResolver, this, "argument-error"),
      await this.getOrInitRedirectPersistenceManager(),
      this.redirectUser &&
      this.redirectUser._redirectEventId === s._redirectEventId
        ? this.directlySetCurrentUser(s)
        : this.reloadAndSetCurrentUserOrClear(s)
    );
  }
  async tryRedirectSignIn(e) {
    let n = null;
    try {
      n = await this._popupRedirectResolver._completeRedirectFn(this, e, !0);
    } catch {
      await this._setRedirectUser(null);
    }
    return n;
  }
  async reloadAndSetCurrentUserOrClear(e) {
    try {
      await Vd(e);
    } catch (n) {
      if ((n == null ? void 0 : n.code) !== "auth/network-request-failed")
        return this.directlySetCurrentUser(null);
    }
    return this.directlySetCurrentUser(e);
  }
  useDeviceLanguage() {
    this.languageCode = jC();
  }
  async _delete() {
    this._deleted = !0;
  }
  async updateCurrentUser(e) {
    if (bn(this.app)) return Promise.reject(oi(this));
    const n = e ? mt(e) : null;
    return (
      n &&
        xe(
          n.auth.config.apiKey === this.config.apiKey,
          this,
          "invalid-user-token"
        ),
      this._updateCurrentUser(n && n._clone(this))
    );
  }
  async _updateCurrentUser(e, n = !1) {
    if (!this._deleted)
      return (
        e && xe(this.tenantId === e.tenantId, this, "tenant-id-mismatch"),
        n || (await this.beforeStateQueue.runMiddleware(e)),
        this.queue(async () => {
          await this.directlySetCurrentUser(e), this.notifyAuthListeners();
        })
      );
  }
  async signOut() {
    return bn(this.app)
      ? Promise.reject(oi(this))
      : (await this.beforeStateQueue.runMiddleware(null),
        (this.redirectPersistenceManager || this._popupRedirectResolver) &&
          (await this._setRedirectUser(null)),
        this._updateCurrentUser(null, !0));
  }
  setPersistence(e) {
    return bn(this.app)
      ? Promise.reject(oi(this))
      : this.queue(async () => {
          await this.assertedPersistence.setPersistence(ii(e));
        });
  }
  _getRecaptchaConfig() {
    return this.tenantId == null
      ? this._agentRecaptchaConfig
      : this._tenantRecaptchaConfigs[this.tenantId];
  }
  async validatePassword(e) {
    this._getPasswordPolicyInternal() || (await this._updatePasswordPolicy());
    const n = this._getPasswordPolicyInternal();
    return n.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION
      ? Promise.reject(
          this._errorFactory.create(
            "unsupported-password-policy-schema-version",
            {}
          )
        )
      : n.validatePassword(e);
  }
  _getPasswordPolicyInternal() {
    return this.tenantId === null
      ? this._projectPasswordPolicy
      : this._tenantPasswordPolicies[this.tenantId];
  }
  async _updatePasswordPolicy() {
    const e = await JC(this),
      n = new eA(e);
    this.tenantId === null
      ? (this._projectPasswordPolicy = n)
      : (this._tenantPasswordPolicies[this.tenantId] = n);
  }
  _getPersistenceType() {
    return this.assertedPersistence.persistence.type;
  }
  _getPersistence() {
    return this.assertedPersistence.persistence;
  }
  _updateErrorMap(e) {
    this._errorFactory = new Pu("auth", "Firebase", e());
  }
  onAuthStateChanged(e, n, r) {
    return this.registerStateListener(this.authStateSubscription, e, n, r);
  }
  beforeAuthStateChanged(e, n) {
    return this.beforeStateQueue.pushCallback(e, n);
  }
  onIdTokenChanged(e, n, r) {
    return this.registerStateListener(this.idTokenSubscription, e, n, r);
  }
  authStateReady() {
    return new Promise((e, n) => {
      if (this.currentUser) e();
      else {
        const r = this.onAuthStateChanged(() => {
          r(), e();
        }, n);
      }
    });
  }
  async revokeAccessToken(e) {
    if (this.currentUser) {
      const n = await this.currentUser.getIdToken(),
        r = {
          providerId: "apple.com",
          tokenType: "ACCESS_TOKEN",
          token: e,
          idToken: n,
        };
      this.tenantId != null && (r.tenantId = this.tenantId), await KC(this, r);
    }
  }
  toJSON() {
    var e;
    return {
      apiKey: this.config.apiKey,
      authDomain: this.config.authDomain,
      appName: this.name,
      currentUser:
        (e = this._currentUser) === null || e === void 0 ? void 0 : e.toJSON(),
    };
  }
  async _setRedirectUser(e, n) {
    const r = await this.getOrInitRedirectPersistenceManager(n);
    return e === null ? r.removeCurrentUser() : r.setCurrentUser(e);
  }
  async getOrInitRedirectPersistenceManager(e) {
    if (!this.redirectPersistenceManager) {
      const n = (e && ii(e)) || this._popupRedirectResolver;
      xe(n, this, "argument-error"),
        (this.redirectPersistenceManager = await _a.create(
          this,
          [ii(n._redirectPersistence)],
          "redirectUser"
        )),
        (this.redirectUser =
          await this.redirectPersistenceManager.getCurrentUser());
    }
    return this.redirectPersistenceManager;
  }
  async _redirectUserForId(e) {
    var n, r;
    return (
      this._isInitialized && (await this.queue(async () => {})),
      ((n = this._currentUser) === null || n === void 0
        ? void 0
        : n._redirectEventId) === e
        ? this._currentUser
        : ((r = this.redirectUser) === null || r === void 0
            ? void 0
            : r._redirectEventId) === e
        ? this.redirectUser
        : null
    );
  }
  async _persistUserIfCurrent(e) {
    if (e === this.currentUser)
      return this.queue(async () => this.directlySetCurrentUser(e));
  }
  _notifyListenersIfCurrent(e) {
    e === this.currentUser && this.notifyAuthListeners();
  }
  _key() {
    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
  }
  _startProactiveRefresh() {
    (this.isProactiveRefreshEnabled = !0),
      this.currentUser && this._currentUser._startProactiveRefresh();
  }
  _stopProactiveRefresh() {
    (this.isProactiveRefreshEnabled = !1),
      this.currentUser && this._currentUser._stopProactiveRefresh();
  }
  get _currentUser() {
    return this.currentUser;
  }
  notifyAuthListeners() {
    var e, n;
    if (!this._isInitialized) return;
    this.idTokenSubscription.next(this.currentUser);
    const r =
      (n = (e = this.currentUser) === null || e === void 0 ? void 0 : e.uid) !==
        null && n !== void 0
        ? n
        : null;
    this.lastNotifiedUid !== r &&
      ((this.lastNotifiedUid = r),
      this.authStateSubscription.next(this.currentUser));
  }
  registerStateListener(e, n, r, s) {
    if (this._deleted) return () => {};
    const a = typeof n == "function" ? n : n.next.bind(n);
    let l = !1;
    const d = this._isInitialized
      ? Promise.resolve()
      : this._initializationPromise;
    if (
      (xe(d, this, "internal-error"),
      d.then(() => {
        l || a(this.currentUser);
      }),
      typeof n == "function")
    ) {
      const f = e.addObserver(n, r, s);
      return () => {
        (l = !0), f();
      };
    } else {
      const f = e.addObserver(n);
      return () => {
        (l = !0), f();
      };
    }
  }
  async directlySetCurrentUser(e) {
    this.currentUser &&
      this.currentUser !== e &&
      this._currentUser._stopProactiveRefresh(),
      e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(),
      (this.currentUser = e),
      e
        ? await this.assertedPersistence.setCurrentUser(e)
        : await this.assertedPersistence.removeCurrentUser();
  }
  queue(e) {
    return (this.operations = this.operations.then(e, e)), this.operations;
  }
  get assertedPersistence() {
    return (
      xe(this.persistenceManager, this, "internal-error"),
      this.persistenceManager
    );
  }
  _logFramework(e) {
    !e ||
      this.frameworks.includes(e) ||
      (this.frameworks.push(e),
      this.frameworks.sort(),
      (this.clientVersion = Dx(
        this.config.clientPlatform,
        this._getFrameworks()
      )));
  }
  _getFrameworks() {
    return this.frameworks;
  }
  async _getAdditionalHeaders() {
    var e;
    const n = { "X-Client-Version": this.clientVersion };
    this.app.options.appId && (n["X-Firebase-gmpid"] = this.app.options.appId);
    const r = await ((e = this.heartbeatServiceProvider.getImmediate({
      optional: !0,
    })) === null || e === void 0
      ? void 0
      : e.getHeartbeatsHeader());
    r && (n["X-Firebase-Client"] = r);
    const s = await this._getAppCheckToken();
    return s && (n["X-Firebase-AppCheck"] = s), n;
  }
  async _getAppCheckToken() {
    var e;
    if (bn(this.app) && this.app.settings.appCheckToken)
      return this.app.settings.appCheckToken;
    const n = await ((e = this.appCheckServiceProvider.getImmediate({
      optional: !0,
    })) === null || e === void 0
      ? void 0
      : e.getToken());
    return (
      n != null &&
        n.error &&
        RC(`Error while retrieving App Check token: ${n.error}`),
      n == null ? void 0 : n.token
    );
  }
}
function ho(t) {
  return mt(t);
}
class p_ {
  constructor(e) {
    (this.auth = e),
      (this.observer = null),
      (this.addObserver = gb((n) => (this.observer = n)));
  }
  get next() {
    return (
      xe(this.observer, this.auth, "internal-error"),
      this.observer.next.bind(this.observer)
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let ah = {
  async loadJS() {
    throw new Error("Unable to load external scripts");
  },
  recaptchaV2Script: "",
  recaptchaEnterpriseScript: "",
  gapiScript: "",
};
function nA(t) {
  ah = t;
}
function Vx(t) {
  return ah.loadJS(t);
}
function rA() {
  return ah.recaptchaEnterpriseScript;
}
function iA() {
  return ah.gapiScript;
}
function sA(t) {
  return `__${t}${Math.floor(Math.random() * 1e6)}`;
}
class oA {
  constructor() {
    this.enterprise = new aA();
  }
  ready(e) {
    e();
  }
  execute(e, n) {
    return Promise.resolve("token");
  }
  render(e, n) {
    return "";
  }
}
class aA {
  ready(e) {
    e();
  }
  execute(e, n) {
    return Promise.resolve("token");
  }
  render(e, n) {
    return "";
  }
}
const lA = "recaptcha-enterprise",
  Ox = "NO_RECAPTCHA";
class uA {
  constructor(e) {
    (this.type = lA), (this.auth = ho(e));
  }
  async verify(e = "verify", n = !1) {
    async function r(a) {
      if (!n) {
        if (a.tenantId == null && a._agentRecaptchaConfig != null)
          return a._agentRecaptchaConfig.siteKey;
        if (
          a.tenantId != null &&
          a._tenantRecaptchaConfigs[a.tenantId] !== void 0
        )
          return a._tenantRecaptchaConfigs[a.tenantId].siteKey;
      }
      return new Promise(async (l, d) => {
        UC(a, {
          clientType: "CLIENT_TYPE_WEB",
          version: "RECAPTCHA_ENTERPRISE",
        })
          .then((f) => {
            if (f.recaptchaKey === void 0)
              d(new Error("recaptcha Enterprise site key undefined"));
            else {
              const p = new FC(f);
              return (
                a.tenantId == null
                  ? (a._agentRecaptchaConfig = p)
                  : (a._tenantRecaptchaConfigs[a.tenantId] = p),
                l(p.siteKey)
              );
            }
          })
          .catch((f) => {
            d(f);
          });
      });
    }
    function s(a, l, d) {
      const f = window.grecaptcha;
      u_(f)
        ? f.enterprise.ready(() => {
            f.enterprise
              .execute(a, { action: e })
              .then((p) => {
                l(p);
              })
              .catch(() => {
                l(Ox);
              });
          })
        : d(Error("No reCAPTCHA enterprise script loaded."));
    }
    return this.auth.settings.appVerificationDisabledForTesting
      ? new oA().execute("siteKey", { action: "verify" })
      : new Promise((a, l) => {
          r(this.auth)
            .then((d) => {
              if (!n && u_(window.grecaptcha)) s(d, a, l);
              else {
                if (typeof window > "u") {
                  l(
                    new Error("RecaptchaVerifier is only supported in browser")
                  );
                  return;
                }
                let f = rA();
                f.length !== 0 && (f += d),
                  Vx(f)
                    .then(() => {
                      s(d, a, l);
                    })
                    .catch((p) => {
                      l(p);
                    });
              }
            })
            .catch((d) => {
              l(d);
            });
        });
  }
}
async function m_(t, e, n, r = !1, s = !1) {
  const a = new uA(t);
  let l;
  if (s) l = Ox;
  else
    try {
      l = await a.verify(n);
    } catch {
      l = await a.verify(n, !0);
    }
  const d = Object.assign({}, e);
  if (n === "mfaSmsEnrollment" || n === "mfaSmsSignIn") {
    if ("phoneEnrollmentInfo" in d) {
      const f = d.phoneEnrollmentInfo.phoneNumber,
        p = d.phoneEnrollmentInfo.recaptchaToken;
      Object.assign(d, {
        phoneEnrollmentInfo: {
          phoneNumber: f,
          recaptchaToken: p,
          captchaResponse: l,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    } else if ("phoneSignInInfo" in d) {
      const f = d.phoneSignInInfo.recaptchaToken;
      Object.assign(d, {
        phoneSignInInfo: {
          recaptchaToken: f,
          captchaResponse: l,
          clientType: "CLIENT_TYPE_WEB",
          recaptchaVersion: "RECAPTCHA_ENTERPRISE",
        },
      });
    }
    return d;
  }
  return (
    r
      ? Object.assign(d, { captchaResp: l })
      : Object.assign(d, { captchaResponse: l }),
    Object.assign(d, { clientType: "CLIENT_TYPE_WEB" }),
    Object.assign(d, { recaptchaVersion: "RECAPTCHA_ENTERPRISE" }),
    d
  );
}
async function Xp(t, e, n, r, s) {
  var a;
  if (
    !((a = t._getRecaptchaConfig()) === null || a === void 0) &&
    a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")
  ) {
    const l = await m_(t, e, n, n === "getOobCode");
    return r(t, l);
  } else
    return r(t, e).catch(async (l) => {
      if (l.code === "auth/missing-recaptcha-token") {
        console.log(
          `${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`
        );
        const d = await m_(t, e, n, n === "getOobCode");
        return r(t, d);
      } else return Promise.reject(l);
    });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function cA(t, e) {
  const n = oh(t, "auth");
  if (n.isInitialized()) {
    const s = n.getImmediate(),
      a = n.getOptions();
    if (to(a, e ?? {})) return s;
    ar(s, "already-initialized");
  }
  return n.initialize({ options: e });
}
function dA(t, e) {
  const n = (e == null ? void 0 : e.persistence) || [],
    r = (Array.isArray(n) ? n : [n]).map(ii);
  e != null && e.errorMap && t._updateErrorMap(e.errorMap),
    t._initializeWithPersistence(
      r,
      e == null ? void 0 : e.popupRedirectResolver
    );
}
function hA(t, e, n) {
  const r = ho(t);
  xe(/^https?:\/\//.test(e), r, "invalid-emulator-scheme");
  const s = !1,
    a = Mx(e),
    { host: l, port: d } = fA(e),
    f = d === null ? "" : `:${d}`,
    p = { url: `${a}//${l}${f}/` },
    g = Object.freeze({
      host: l,
      port: d,
      protocol: a.replace(":", ""),
      options: Object.freeze({ disableWarnings: s }),
    });
  if (!r._canInitEmulator) {
    xe(r.config.emulator && r.emulatorConfig, r, "emulator-config-failed"),
      xe(
        to(p, r.config.emulator) && to(g, r.emulatorConfig),
        r,
        "emulator-config-failed"
      );
    return;
  }
  (r.config.emulator = p),
    (r.emulatorConfig = g),
    (r.settings.appVerificationDisabledForTesting = !0),
    hs(l) ? (Wm(`${a}//${l}${f}`), qm("Auth", !0)) : pA();
}
function Mx(t) {
  const e = t.indexOf(":");
  return e < 0 ? "" : t.substr(0, e + 1);
}
function fA(t) {
  const e = Mx(t),
    n = /(\/\/)?([^?#/]+)/.exec(t.substr(e.length));
  if (!n) return { host: "", port: null };
  const r = n[2].split("@").pop() || "",
    s = /^(\[[^\]]+\])(:|$)/.exec(r);
  if (s) {
    const a = s[1];
    return { host: a, port: g_(r.substr(a.length + 1)) };
  } else {
    const [a, l] = r.split(":");
    return { host: a, port: g_(l) };
  }
}
function g_(t) {
  if (!t) return null;
  const e = Number(t);
  return isNaN(e) ? null : e;
}
function pA() {
  function t() {
    const e = document.createElement("p"),
      n = e.style;
    (e.innerText =
      "Running in emulator mode. Do not use with production credentials."),
      (n.position = "fixed"),
      (n.width = "100%"),
      (n.backgroundColor = "#ffffff"),
      (n.border = ".1em solid #000000"),
      (n.color = "#b50000"),
      (n.bottom = "0px"),
      (n.left = "0px"),
      (n.margin = "0px"),
      (n.zIndex = "10000"),
      (n.textAlign = "center"),
      e.classList.add("firebase-emulator-warning"),
      document.body.appendChild(e);
  }
  typeof console < "u" &&
    typeof console.info == "function" &&
    console.info(
      "WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."
    ),
    typeof window < "u" &&
      typeof document < "u" &&
      (document.readyState === "loading"
        ? window.addEventListener("DOMContentLoaded", t)
        : t());
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class tg {
  constructor(e, n) {
    (this.providerId = e), (this.signInMethod = n);
  }
  toJSON() {
    return ri("not implemented");
  }
  _getIdTokenResponse(e) {
    return ri("not implemented");
  }
  _linkToIdToken(e, n) {
    return ri("not implemented");
  }
  _getReauthenticationResolver(e) {
    return ri("not implemented");
  }
}
async function mA(t, e) {
  return pi(t, "POST", "/v1/accounts:signUp", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function gA(t, e) {
  return bu(t, "POST", "/v1/accounts:signInWithPassword", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function yA(t, e) {
  return bu(t, "POST", "/v1/accounts:signInWithEmailLink", fs(t, e));
}
async function vA(t, e) {
  return bu(t, "POST", "/v1/accounts:signInWithEmailLink", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lu extends tg {
  constructor(e, n, r, s = null) {
    super("password", r),
      (this._email = e),
      (this._password = n),
      (this._tenantId = s);
  }
  static _fromEmailAndPassword(e, n) {
    return new lu(e, n, "password");
  }
  static _fromEmailAndCode(e, n, r = null) {
    return new lu(e, n, "emailLink", r);
  }
  toJSON() {
    return {
      email: this._email,
      password: this._password,
      signInMethod: this.signInMethod,
      tenantId: this._tenantId,
    };
  }
  static fromJSON(e) {
    const n = typeof e == "string" ? JSON.parse(e) : e;
    if (n != null && n.email && n != null && n.password) {
      if (n.signInMethod === "password")
        return this._fromEmailAndPassword(n.email, n.password);
      if (n.signInMethod === "emailLink")
        return this._fromEmailAndCode(n.email, n.password, n.tenantId);
    }
    return null;
  }
  async _getIdTokenResponse(e) {
    switch (this.signInMethod) {
      case "password":
        const n = {
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Xp(e, n, "signInWithPassword", gA);
      case "emailLink":
        return yA(e, { email: this._email, oobCode: this._password });
      default:
        ar(e, "internal-error");
    }
  }
  async _linkToIdToken(e, n) {
    switch (this.signInMethod) {
      case "password":
        const r = {
          idToken: n,
          returnSecureToken: !0,
          email: this._email,
          password: this._password,
          clientType: "CLIENT_TYPE_WEB",
        };
        return Xp(e, r, "signUpPassword", mA);
      case "emailLink":
        return vA(e, {
          idToken: n,
          email: this._email,
          oobCode: this._password,
        });
      default:
        ar(e, "internal-error");
    }
  }
  _getReauthenticationResolver(e) {
    return this._getIdTokenResponse(e);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function wa(t, e) {
  return bu(t, "POST", "/v1/accounts:signInWithIdp", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const _A = "http://localhost";
class ro extends tg {
  constructor() {
    super(...arguments), (this.pendingToken = null);
  }
  static _fromParams(e) {
    const n = new ro(e.providerId, e.signInMethod);
    return (
      e.idToken || e.accessToken
        ? (e.idToken && (n.idToken = e.idToken),
          e.accessToken && (n.accessToken = e.accessToken),
          e.nonce && !e.pendingToken && (n.nonce = e.nonce),
          e.pendingToken && (n.pendingToken = e.pendingToken))
        : e.oauthToken && e.oauthTokenSecret
        ? ((n.accessToken = e.oauthToken), (n.secret = e.oauthTokenSecret))
        : ar("argument-error"),
      n
    );
  }
  toJSON() {
    return {
      idToken: this.idToken,
      accessToken: this.accessToken,
      secret: this.secret,
      nonce: this.nonce,
      pendingToken: this.pendingToken,
      providerId: this.providerId,
      signInMethod: this.signInMethod,
    };
  }
  static fromJSON(e) {
    const n = typeof e == "string" ? JSON.parse(e) : e,
      { providerId: r, signInMethod: s } = n,
      a = Xm(n, ["providerId", "signInMethod"]);
    if (!r || !s) return null;
    const l = new ro(r, s);
    return (
      (l.idToken = a.idToken || void 0),
      (l.accessToken = a.accessToken || void 0),
      (l.secret = a.secret),
      (l.nonce = a.nonce),
      (l.pendingToken = a.pendingToken || null),
      l
    );
  }
  _getIdTokenResponse(e) {
    const n = this.buildRequest();
    return wa(e, n);
  }
  _linkToIdToken(e, n) {
    const r = this.buildRequest();
    return (r.idToken = n), wa(e, r);
  }
  _getReauthenticationResolver(e) {
    const n = this.buildRequest();
    return (n.autoCreate = !1), wa(e, n);
  }
  buildRequest() {
    const e = { requestUri: _A, returnSecureToken: !0 };
    if (this.pendingToken) e.pendingToken = this.pendingToken;
    else {
      const n = {};
      this.idToken && (n.id_token = this.idToken),
        this.accessToken && (n.access_token = this.accessToken),
        this.secret && (n.oauth_token_secret = this.secret),
        (n.providerId = this.providerId),
        this.nonce && !this.pendingToken && (n.nonce = this.nonce),
        (e.postBody = Su(n));
    }
    return e;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function wA(t) {
  switch (t) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function xA(t) {
  const e = Ll(Fl(t)).link,
    n = e ? Ll(Fl(e)).deep_link_id : null,
    r = Ll(Fl(t)).deep_link_id;
  return (r ? Ll(Fl(r)).link : null) || r || n || e || t;
}
class ng {
  constructor(e) {
    var n, r, s, a, l, d;
    const f = Ll(Fl(e)),
      p = (n = f.apiKey) !== null && n !== void 0 ? n : null,
      g = (r = f.oobCode) !== null && r !== void 0 ? r : null,
      w = wA((s = f.mode) !== null && s !== void 0 ? s : null);
    xe(p && g && w, "argument-error"),
      (this.apiKey = p),
      (this.operation = w),
      (this.code = g),
      (this.continueUrl =
        (a = f.continueUrl) !== null && a !== void 0 ? a : null),
      (this.languageCode = (l = f.lang) !== null && l !== void 0 ? l : null),
      (this.tenantId = (d = f.tenantId) !== null && d !== void 0 ? d : null);
  }
  static parseLink(e) {
    const n = xA(e);
    try {
      return new ng(n);
    } catch {
      return null;
    }
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ja {
  constructor() {
    this.providerId = ja.PROVIDER_ID;
  }
  static credential(e, n) {
    return lu._fromEmailAndPassword(e, n);
  }
  static credentialWithLink(e, n) {
    const r = ng.parseLink(n);
    return xe(r, "argument-error"), lu._fromEmailAndCode(e, r.code, r.tenantId);
  }
}
ja.PROVIDER_ID = "password";
ja.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
ja.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Lx {
  constructor(e) {
    (this.providerId = e),
      (this.defaultLanguageCode = null),
      (this.customParameters = {});
  }
  setDefaultLanguage(e) {
    this.defaultLanguageCode = e;
  }
  setCustomParameters(e) {
    return (this.customParameters = e), this;
  }
  getCustomParameters() {
    return this.customParameters;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Cu extends Lx {
  constructor() {
    super(...arguments), (this.scopes = []);
  }
  addScope(e) {
    return this.scopes.includes(e) || this.scopes.push(e), this;
  }
  getScopes() {
    return [...this.scopes];
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zi extends Cu {
  constructor() {
    super("facebook.com");
  }
  static credential(e) {
    return ro._fromParams({
      providerId: zi.PROVIDER_ID,
      signInMethod: zi.FACEBOOK_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return zi.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return zi.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return zi.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
zi.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
zi.PROVIDER_ID = "facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $i extends Cu {
  constructor() {
    super("google.com"), this.addScope("profile");
  }
  static credential(e, n) {
    return ro._fromParams({
      providerId: $i.PROVIDER_ID,
      signInMethod: $i.GOOGLE_SIGN_IN_METHOD,
      idToken: e,
      accessToken: n,
    });
  }
  static credentialFromResult(e) {
    return $i.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return $i.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthIdToken: n, oauthAccessToken: r } = e;
    if (!n && !r) return null;
    try {
      return $i.credential(n, r);
    } catch {
      return null;
    }
  }
}
$i.GOOGLE_SIGN_IN_METHOD = "google.com";
$i.PROVIDER_ID = "google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Hi extends Cu {
  constructor() {
    super("github.com");
  }
  static credential(e) {
    return ro._fromParams({
      providerId: Hi.PROVIDER_ID,
      signInMethod: Hi.GITHUB_SIGN_IN_METHOD,
      accessToken: e,
    });
  }
  static credentialFromResult(e) {
    return Hi.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Hi.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e || !("oauthAccessToken" in e) || !e.oauthAccessToken) return null;
    try {
      return Hi.credential(e.oauthAccessToken);
    } catch {
      return null;
    }
  }
}
Hi.GITHUB_SIGN_IN_METHOD = "github.com";
Hi.PROVIDER_ID = "github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Wi extends Cu {
  constructor() {
    super("twitter.com");
  }
  static credential(e, n) {
    return ro._fromParams({
      providerId: Wi.PROVIDER_ID,
      signInMethod: Wi.TWITTER_SIGN_IN_METHOD,
      oauthToken: e,
      oauthTokenSecret: n,
    });
  }
  static credentialFromResult(e) {
    return Wi.credentialFromTaggedObject(e);
  }
  static credentialFromError(e) {
    return Wi.credentialFromTaggedObject(e.customData || {});
  }
  static credentialFromTaggedObject({ _tokenResponse: e }) {
    if (!e) return null;
    const { oauthAccessToken: n, oauthTokenSecret: r } = e;
    if (!n || !r) return null;
    try {
      return Wi.credential(n, r);
    } catch {
      return null;
    }
  }
}
Wi.TWITTER_SIGN_IN_METHOD = "twitter.com";
Wi.PROVIDER_ID = "twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function EA(t, e) {
  return bu(t, "POST", "/v1/accounts:signUp", fs(t, e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class io {
  constructor(e) {
    (this.user = e.user),
      (this.providerId = e.providerId),
      (this._tokenResponse = e._tokenResponse),
      (this.operationType = e.operationType);
  }
  static async _fromIdTokenResponse(e, n, r, s = !1) {
    const a = await or._fromIdTokenResponse(e, r, s),
      l = y_(r);
    return new io({
      user: a,
      providerId: l,
      _tokenResponse: r,
      operationType: n,
    });
  }
  static async _forOperation(e, n, r) {
    await e._updateTokensIfNecessary(r, !0);
    const s = y_(r);
    return new io({
      user: e,
      providerId: s,
      _tokenResponse: r,
      operationType: n,
    });
  }
}
function y_(t) {
  return t.providerId ? t.providerId : "phoneNumber" in t ? "phone" : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Od extends Or {
  constructor(e, n, r, s) {
    var a;
    super(n.code, n.message),
      (this.operationType = r),
      (this.user = s),
      Object.setPrototypeOf(this, Od.prototype),
      (this.customData = {
        appName: e.name,
        tenantId: (a = e.tenantId) !== null && a !== void 0 ? a : void 0,
        _serverResponse: n.customData._serverResponse,
        operationType: r,
      });
  }
  static _fromErrorAndOperation(e, n, r, s) {
    return new Od(e, n, r, s);
  }
}
function Fx(t, e, n, r) {
  return (
    e === "reauthenticate"
      ? n._getReauthenticationResolver(t)
      : n._getIdTokenResponse(t)
  ).catch((a) => {
    throw a.code === "auth/multi-factor-auth-required"
      ? Od._fromErrorAndOperation(t, a, e, r)
      : a;
  });
}
async function TA(t, e, n = !1) {
  const r = await Ea(t, e._linkToIdToken(t.auth, await t.getIdToken()), n);
  return io._forOperation(t, "link", r);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function PA(t, e, n = !1) {
  const { auth: r } = t;
  if (bn(r.app)) return Promise.reject(oi(r));
  const s = "reauthenticate";
  try {
    const a = await Ea(t, Fx(r, s, e, t), n);
    xe(a.idToken, r, "internal-error");
    const l = Zm(a.idToken);
    xe(l, r, "internal-error");
    const { sub: d } = l;
    return xe(t.uid === d, r, "user-mismatch"), io._forOperation(t, s, a);
  } catch (a) {
    throw (
      ((a == null ? void 0 : a.code) === "auth/user-not-found" &&
        ar(r, "user-mismatch"),
      a)
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Ux(t, e, n = !1) {
  if (bn(t.app)) return Promise.reject(oi(t));
  const r = "signIn",
    s = await Fx(t, r, e),
    a = await io._fromIdTokenResponse(t, r, s);
  return n || (await t._updateCurrentUser(a.user)), a;
}
async function SA(t, e) {
  return Ux(ho(t), e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Bx(t) {
  const e = ho(t);
  e._getPasswordPolicyInternal() && (await e._updatePasswordPolicy());
}
async function IA(t, e, n) {
  if (bn(t.app)) return Promise.reject(oi(t));
  const r = ho(t),
    l = await Xp(
      r,
      {
        returnSecureToken: !0,
        email: e,
        password: n,
        clientType: "CLIENT_TYPE_WEB",
      },
      "signUpPassword",
      EA
    ).catch((f) => {
      throw (f.code === "auth/password-does-not-meet-requirements" && Bx(t), f);
    }),
    d = await io._fromIdTokenResponse(r, "signIn", l);
  return await r._updateCurrentUser(d.user), d;
}
function bA(t, e, n) {
  return bn(t.app)
    ? Promise.reject(oi(t))
    : SA(mt(t), ja.credential(e, n)).catch(async (r) => {
        throw (
          (r.code === "auth/password-does-not-meet-requirements" && Bx(t), r)
        );
      });
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function CA(t, e) {
  return pi(t, "POST", "/v1/accounts:update", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Yp(t, { displayName: e, photoURL: n }) {
  if (e === void 0 && n === void 0) return;
  const r = mt(t),
    a = {
      idToken: await r.getIdToken(),
      displayName: e,
      photoUrl: n,
      returnSecureToken: !0,
    },
    l = await Ea(r, CA(r.auth, a));
  (r.displayName = l.displayName || null), (r.photoURL = l.photoUrl || null);
  const d = r.providerData.find(({ providerId: f }) => f === "password");
  d && ((d.displayName = r.displayName), (d.photoURL = r.photoURL)),
    await r._updateTokensIfNecessary(l);
}
function AA(t, e, n, r) {
  return mt(t).onIdTokenChanged(e, n, r);
}
function RA(t, e, n) {
  return mt(t).beforeAuthStateChanged(e, n);
}
function kA(t, e, n, r) {
  return mt(t).onAuthStateChanged(e, n, r);
}
function NA(t) {
  return mt(t).signOut();
}
const Md = "__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zx {
  constructor(e, n) {
    (this.storageRetriever = e), (this.type = n);
  }
  _isAvailable() {
    try {
      return this.storage
        ? (this.storage.setItem(Md, "1"),
          this.storage.removeItem(Md),
          Promise.resolve(!0))
        : Promise.resolve(!1);
    } catch {
      return Promise.resolve(!1);
    }
  }
  _set(e, n) {
    return this.storage.setItem(e, JSON.stringify(n)), Promise.resolve();
  }
  _get(e) {
    const n = this.storage.getItem(e);
    return Promise.resolve(n ? JSON.parse(n) : null);
  }
  _remove(e) {
    return this.storage.removeItem(e), Promise.resolve();
  }
  get storage() {
    return this.storageRetriever();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const jA = 1e3,
  DA = 10;
class $x extends zx {
  constructor() {
    super(() => window.localStorage, "LOCAL"),
      (this.boundEventHandler = (e, n) => this.onStorageEvent(e, n)),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.fallbackToPolling = jx()),
      (this._shouldAllowMigration = !0);
  }
  forAllChangedKeys(e) {
    for (const n of Object.keys(this.listeners)) {
      const r = this.storage.getItem(n),
        s = this.localCache[n];
      r !== s && e(n, s, r);
    }
  }
  onStorageEvent(e, n = !1) {
    if (!e.key) {
      this.forAllChangedKeys((l, d, f) => {
        this.notifyListeners(l, f);
      });
      return;
    }
    const r = e.key;
    n ? this.detachListener() : this.stopPolling();
    const s = () => {
        const l = this.storage.getItem(r);
        (!n && this.localCache[r] === l) || this.notifyListeners(r, l);
      },
      a = this.storage.getItem(r);
    XC() && a !== e.newValue && e.newValue !== e.oldValue
      ? setTimeout(s, DA)
      : s();
  }
  notifyListeners(e, n) {
    this.localCache[e] = n;
    const r = this.listeners[e];
    if (r) for (const s of Array.from(r)) s(n && JSON.parse(n));
  }
  startPolling() {
    this.stopPolling(),
      (this.pollTimer = setInterval(() => {
        this.forAllChangedKeys((e, n, r) => {
          this.onStorageEvent(
            new StorageEvent("storage", { key: e, oldValue: n, newValue: r }),
            !0
          );
        });
      }, jA));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  attachListener() {
    window.addEventListener("storage", this.boundEventHandler);
  }
  detachListener() {
    window.removeEventListener("storage", this.boundEventHandler);
  }
  _addListener(e, n) {
    Object.keys(this.listeners).length === 0 &&
      (this.fallbackToPolling ? this.startPolling() : this.attachListener()),
      this.listeners[e] ||
        ((this.listeners[e] = new Set()),
        (this.localCache[e] = this.storage.getItem(e))),
      this.listeners[e].add(n);
  }
  _removeListener(e, n) {
    this.listeners[e] &&
      (this.listeners[e].delete(n),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 &&
        (this.detachListener(), this.stopPolling());
  }
  async _set(e, n) {
    await super._set(e, n), (this.localCache[e] = JSON.stringify(n));
  }
  async _get(e) {
    const n = await super._get(e);
    return (this.localCache[e] = JSON.stringify(n)), n;
  }
  async _remove(e) {
    await super._remove(e), delete this.localCache[e];
  }
}
$x.type = "LOCAL";
const VA = $x;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Hx extends zx {
  constructor() {
    super(() => window.sessionStorage, "SESSION");
  }
  _addListener(e, n) {}
  _removeListener(e, n) {}
}
Hx.type = "SESSION";
const Wx = Hx;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function OA(t) {
  return Promise.all(
    t.map(async (e) => {
      try {
        return { fulfilled: !0, value: await e };
      } catch (n) {
        return { fulfilled: !1, reason: n };
      }
    })
  );
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lh {
  constructor(e) {
    (this.eventTarget = e),
      (this.handlersMap = {}),
      (this.boundEventHandler = this.handleEvent.bind(this));
  }
  static _getInstance(e) {
    const n = this.receivers.find((s) => s.isListeningto(e));
    if (n) return n;
    const r = new lh(e);
    return this.receivers.push(r), r;
  }
  isListeningto(e) {
    return this.eventTarget === e;
  }
  async handleEvent(e) {
    const n = e,
      { eventId: r, eventType: s, data: a } = n.data,
      l = this.handlersMap[s];
    if (!(l != null && l.size)) return;
    n.ports[0].postMessage({ status: "ack", eventId: r, eventType: s });
    const d = Array.from(l).map(async (p) => p(n.origin, a)),
      f = await OA(d);
    n.ports[0].postMessage({
      status: "done",
      eventId: r,
      eventType: s,
      response: f,
    });
  }
  _subscribe(e, n) {
    Object.keys(this.handlersMap).length === 0 &&
      this.eventTarget.addEventListener("message", this.boundEventHandler),
      this.handlersMap[e] || (this.handlersMap[e] = new Set()),
      this.handlersMap[e].add(n);
  }
  _unsubscribe(e, n) {
    this.handlersMap[e] && n && this.handlersMap[e].delete(n),
      (!n || this.handlersMap[e].size === 0) && delete this.handlersMap[e],
      Object.keys(this.handlersMap).length === 0 &&
        this.eventTarget.removeEventListener("message", this.boundEventHandler);
  }
}
lh.receivers = [];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function rg(t = "", e = 10) {
  let n = "";
  for (let r = 0; r < e; r++) n += Math.floor(Math.random() * 10);
  return t + n;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MA {
  constructor(e) {
    (this.target = e), (this.handlers = new Set());
  }
  removeMessageHandler(e) {
    e.messageChannel &&
      (e.messageChannel.port1.removeEventListener("message", e.onMessage),
      e.messageChannel.port1.close()),
      this.handlers.delete(e);
  }
  async _send(e, n, r = 50) {
    const s = typeof MessageChannel < "u" ? new MessageChannel() : null;
    if (!s) throw new Error("connection_unavailable");
    let a, l;
    return new Promise((d, f) => {
      const p = rg("", 20);
      s.port1.start();
      const g = setTimeout(() => {
        f(new Error("unsupported_event"));
      }, r);
      (l = {
        messageChannel: s,
        onMessage(w) {
          const x = w;
          if (x.data.eventId === p)
            switch (x.data.status) {
              case "ack":
                clearTimeout(g),
                  (a = setTimeout(() => {
                    f(new Error("timeout"));
                  }, 3e3));
                break;
              case "done":
                clearTimeout(a), d(x.data.response);
                break;
              default:
                clearTimeout(g),
                  clearTimeout(a),
                  f(new Error("invalid_response"));
                break;
            }
        },
      }),
        this.handlers.add(l),
        s.port1.addEventListener("message", l.onMessage),
        this.target.postMessage({ eventType: e, eventId: p, data: n }, [
          s.port2,
        ]);
    }).finally(() => {
      l && this.removeMessageHandler(l);
    });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Pr() {
  return window;
}
function LA(t) {
  Pr().location.href = t;
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function qx() {
  return (
    typeof Pr().WorkerGlobalScope < "u" &&
    typeof Pr().importScripts == "function"
  );
}
async function FA() {
  if (!(navigator != null && navigator.serviceWorker)) return null;
  try {
    return (await navigator.serviceWorker.ready).active;
  } catch {
    return null;
  }
}
function UA() {
  var t;
  return (
    ((t = navigator == null ? void 0 : navigator.serviceWorker) === null ||
    t === void 0
      ? void 0
      : t.controller) || null
  );
}
function BA() {
  return qx() ? self : null;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Gx = "firebaseLocalStorageDb",
  zA = 1,
  Ld = "firebaseLocalStorage",
  Kx = "fbase_key";
class Au {
  constructor(e) {
    this.request = e;
  }
  toPromise() {
    return new Promise((e, n) => {
      this.request.addEventListener("success", () => {
        e(this.request.result);
      }),
        this.request.addEventListener("error", () => {
          n(this.request.error);
        });
    });
  }
}
function uh(t, e) {
  return t.transaction([Ld], e ? "readwrite" : "readonly").objectStore(Ld);
}
function $A() {
  const t = indexedDB.deleteDatabase(Gx);
  return new Au(t).toPromise();
}
function Jp() {
  const t = indexedDB.open(Gx, zA);
  return new Promise((e, n) => {
    t.addEventListener("error", () => {
      n(t.error);
    }),
      t.addEventListener("upgradeneeded", () => {
        const r = t.result;
        try {
          r.createObjectStore(Ld, { keyPath: Kx });
        } catch (s) {
          n(s);
        }
      }),
      t.addEventListener("success", async () => {
        const r = t.result;
        r.objectStoreNames.contains(Ld)
          ? e(r)
          : (r.close(), await $A(), e(await Jp()));
      });
  });
}
async function v_(t, e, n) {
  const r = uh(t, !0).put({ [Kx]: e, value: n });
  return new Au(r).toPromise();
}
async function HA(t, e) {
  const n = uh(t, !1).get(e),
    r = await new Au(n).toPromise();
  return r === void 0 ? null : r.value;
}
function __(t, e) {
  const n = uh(t, !0).delete(e);
  return new Au(n).toPromise();
}
const WA = 800,
  qA = 3;
class Qx {
  constructor() {
    (this.type = "LOCAL"),
      (this._shouldAllowMigration = !0),
      (this.listeners = {}),
      (this.localCache = {}),
      (this.pollTimer = null),
      (this.pendingWrites = 0),
      (this.receiver = null),
      (this.sender = null),
      (this.serviceWorkerReceiverAvailable = !1),
      (this.activeServiceWorker = null),
      (this._workerInitializationPromise =
        this.initializeServiceWorkerMessaging().then(
          () => {},
          () => {}
        ));
  }
  async _openDb() {
    return this.db ? this.db : ((this.db = await Jp()), this.db);
  }
  async _withRetries(e) {
    let n = 0;
    for (;;)
      try {
        const r = await this._openDb();
        return await e(r);
      } catch (r) {
        if (n++ > qA) throw r;
        this.db && (this.db.close(), (this.db = void 0));
      }
  }
  async initializeServiceWorkerMessaging() {
    return qx() ? this.initializeReceiver() : this.initializeSender();
  }
  async initializeReceiver() {
    (this.receiver = lh._getInstance(BA())),
      this.receiver._subscribe("keyChanged", async (e, n) => ({
        keyProcessed: (await this._poll()).includes(n.key),
      })),
      this.receiver._subscribe("ping", async (e, n) => ["keyChanged"]);
  }
  async initializeSender() {
    var e, n;
    if (((this.activeServiceWorker = await FA()), !this.activeServiceWorker))
      return;
    this.sender = new MA(this.activeServiceWorker);
    const r = await this.sender._send("ping", {}, 800);
    r &&
      !((e = r[0]) === null || e === void 0) &&
      e.fulfilled &&
      !((n = r[0]) === null || n === void 0) &&
      n.value.includes("keyChanged") &&
      (this.serviceWorkerReceiverAvailable = !0);
  }
  async notifyServiceWorker(e) {
    if (
      !(
        !this.sender ||
        !this.activeServiceWorker ||
        UA() !== this.activeServiceWorker
      )
    )
      try {
        await this.sender._send(
          "keyChanged",
          { key: e },
          this.serviceWorkerReceiverAvailable ? 800 : 50
        );
      } catch {}
  }
  async _isAvailable() {
    try {
      if (!indexedDB) return !1;
      const e = await Jp();
      return await v_(e, Md, "1"), await __(e, Md), !0;
    } catch {}
    return !1;
  }
  async _withPendingWrite(e) {
    this.pendingWrites++;
    try {
      await e();
    } finally {
      this.pendingWrites--;
    }
  }
  async _set(e, n) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((r) => v_(r, e, n)),
        (this.localCache[e] = n),
        this.notifyServiceWorker(e)
      )
    );
  }
  async _get(e) {
    const n = await this._withRetries((r) => HA(r, e));
    return (this.localCache[e] = n), n;
  }
  async _remove(e) {
    return this._withPendingWrite(
      async () => (
        await this._withRetries((n) => __(n, e)),
        delete this.localCache[e],
        this.notifyServiceWorker(e)
      )
    );
  }
  async _poll() {
    const e = await this._withRetries((s) => {
      const a = uh(s, !1).getAll();
      return new Au(a).toPromise();
    });
    if (!e) return [];
    if (this.pendingWrites !== 0) return [];
    const n = [],
      r = new Set();
    if (e.length !== 0)
      for (const { fbase_key: s, value: a } of e)
        r.add(s),
          JSON.stringify(this.localCache[s]) !== JSON.stringify(a) &&
            (this.notifyListeners(s, a), n.push(s));
    for (const s of Object.keys(this.localCache))
      this.localCache[s] &&
        !r.has(s) &&
        (this.notifyListeners(s, null), n.push(s));
    return n;
  }
  notifyListeners(e, n) {
    this.localCache[e] = n;
    const r = this.listeners[e];
    if (r) for (const s of Array.from(r)) s(n);
  }
  startPolling() {
    this.stopPolling(),
      (this.pollTimer = setInterval(async () => this._poll(), WA));
  }
  stopPolling() {
    this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
  }
  _addListener(e, n) {
    Object.keys(this.listeners).length === 0 && this.startPolling(),
      this.listeners[e] || ((this.listeners[e] = new Set()), this._get(e)),
      this.listeners[e].add(n);
  }
  _removeListener(e, n) {
    this.listeners[e] &&
      (this.listeners[e].delete(n),
      this.listeners[e].size === 0 && delete this.listeners[e]),
      Object.keys(this.listeners).length === 0 && this.stopPolling();
  }
}
Qx.type = "LOCAL";
const GA = Qx;
new Iu(3e4, 6e4);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function KA(t, e) {
  return e
    ? ii(e)
    : (xe(t._popupRedirectResolver, t, "argument-error"),
      t._popupRedirectResolver);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ig extends tg {
  constructor(e) {
    super("custom", "custom"), (this.params = e);
  }
  _getIdTokenResponse(e) {
    return wa(e, this._buildIdpRequest());
  }
  _linkToIdToken(e, n) {
    return wa(e, this._buildIdpRequest(n));
  }
  _getReauthenticationResolver(e) {
    return wa(e, this._buildIdpRequest());
  }
  _buildIdpRequest(e) {
    const n = {
      requestUri: this.params.requestUri,
      sessionId: this.params.sessionId,
      postBody: this.params.postBody,
      tenantId: this.params.tenantId,
      pendingToken: this.params.pendingToken,
      returnSecureToken: !0,
      returnIdpCredential: !0,
    };
    return e && (n.idToken = e), n;
  }
}
function QA(t) {
  return Ux(t.auth, new ig(t), t.bypassAuthState);
}
function XA(t) {
  const { auth: e, user: n } = t;
  return xe(n, e, "internal-error"), PA(n, new ig(t), t.bypassAuthState);
}
async function YA(t) {
  const { auth: e, user: n } = t;
  return xe(n, e, "internal-error"), TA(n, new ig(t), t.bypassAuthState);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Xx {
  constructor(e, n, r, s, a = !1) {
    (this.auth = e),
      (this.resolver = r),
      (this.user = s),
      (this.bypassAuthState = a),
      (this.pendingPromise = null),
      (this.eventManager = null),
      (this.filter = Array.isArray(n) ? n : [n]);
  }
  execute() {
    return new Promise(async (e, n) => {
      this.pendingPromise = { resolve: e, reject: n };
      try {
        (this.eventManager = await this.resolver._initialize(this.auth)),
          await this.onExecution(),
          this.eventManager.registerConsumer(this);
      } catch (r) {
        this.reject(r);
      }
    });
  }
  async onAuthEvent(e) {
    const {
      urlResponse: n,
      sessionId: r,
      postBody: s,
      tenantId: a,
      error: l,
      type: d,
    } = e;
    if (l) {
      this.reject(l);
      return;
    }
    const f = {
      auth: this.auth,
      requestUri: n,
      sessionId: r,
      tenantId: a || void 0,
      postBody: s || void 0,
      user: this.user,
      bypassAuthState: this.bypassAuthState,
    };
    try {
      this.resolve(await this.getIdpTask(d)(f));
    } catch (p) {
      this.reject(p);
    }
  }
  onError(e) {
    this.reject(e);
  }
  getIdpTask(e) {
    switch (e) {
      case "signInViaPopup":
      case "signInViaRedirect":
        return QA;
      case "linkViaPopup":
      case "linkViaRedirect":
        return YA;
      case "reauthViaPopup":
      case "reauthViaRedirect":
        return XA;
      default:
        ar(this.auth, "internal-error");
    }
  }
  resolve(e) {
    li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.resolve(e),
      this.unregisterAndCleanUp();
  }
  reject(e) {
    li(this.pendingPromise, "Pending promise was never set"),
      this.pendingPromise.reject(e),
      this.unregisterAndCleanUp();
  }
  unregisterAndCleanUp() {
    this.eventManager && this.eventManager.unregisterConsumer(this),
      (this.pendingPromise = null),
      this.cleanUp();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const JA = new Iu(2e3, 1e4);
class ha extends Xx {
  constructor(e, n, r, s, a) {
    super(e, n, s, a),
      (this.provider = r),
      (this.authWindow = null),
      (this.pollId = null),
      ha.currentPopupAction && ha.currentPopupAction.cancel(),
      (ha.currentPopupAction = this);
  }
  async executeNotNull() {
    const e = await this.execute();
    return xe(e, this.auth, "internal-error"), e;
  }
  async onExecution() {
    li(this.filter.length === 1, "Popup operations only handle one event");
    const e = rg();
    (this.authWindow = await this.resolver._openPopup(
      this.auth,
      this.provider,
      this.filter[0],
      e
    )),
      (this.authWindow.associatedEvent = e),
      this.resolver._originValidation(this.auth).catch((n) => {
        this.reject(n);
      }),
      this.resolver._isIframeWebStorageSupported(this.auth, (n) => {
        n || this.reject(Tr(this.auth, "web-storage-unsupported"));
      }),
      this.pollUserCancellation();
  }
  get eventId() {
    var e;
    return (
      ((e = this.authWindow) === null || e === void 0
        ? void 0
        : e.associatedEvent) || null
    );
  }
  cancel() {
    this.reject(Tr(this.auth, "cancelled-popup-request"));
  }
  cleanUp() {
    this.authWindow && this.authWindow.close(),
      this.pollId && window.clearTimeout(this.pollId),
      (this.authWindow = null),
      (this.pollId = null),
      (ha.currentPopupAction = null);
  }
  pollUserCancellation() {
    const e = () => {
      var n, r;
      if (
        !(
          (r =
            (n = this.authWindow) === null || n === void 0
              ? void 0
              : n.window) === null || r === void 0
        ) &&
        r.closed
      ) {
        this.pollId = window.setTimeout(() => {
          (this.pollId = null),
            this.reject(Tr(this.auth, "popup-closed-by-user"));
        }, 8e3);
        return;
      }
      this.pollId = window.setTimeout(e, JA.get());
    };
    e();
  }
}
ha.currentPopupAction = null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ZA = "pendingRedirect",
  vd = new Map();
class eR extends Xx {
  constructor(e, n, r = !1) {
    super(
      e,
      ["signInViaRedirect", "linkViaRedirect", "reauthViaRedirect", "unknown"],
      n,
      void 0,
      r
    ),
      (this.eventId = null);
  }
  async execute() {
    let e = vd.get(this.auth._key());
    if (!e) {
      try {
        const r = (await tR(this.resolver, this.auth))
          ? await super.execute()
          : null;
        e = () => Promise.resolve(r);
      } catch (n) {
        e = () => Promise.reject(n);
      }
      vd.set(this.auth._key(), e);
    }
    return (
      this.bypassAuthState ||
        vd.set(this.auth._key(), () => Promise.resolve(null)),
      e()
    );
  }
  async onAuthEvent(e) {
    if (e.type === "signInViaRedirect") return super.onAuthEvent(e);
    if (e.type === "unknown") {
      this.resolve(null);
      return;
    }
    if (e.eventId) {
      const n = await this.auth._redirectUserForId(e.eventId);
      if (n) return (this.user = n), super.onAuthEvent(e);
      this.resolve(null);
    }
  }
  async onExecution() {}
  cleanUp() {}
}
async function tR(t, e) {
  const n = iR(e),
    r = rR(t);
  if (!(await r._isAvailable())) return !1;
  const s = (await r._get(n)) === "true";
  return await r._remove(n), s;
}
function nR(t, e) {
  vd.set(t._key(), e);
}
function rR(t) {
  return ii(t._redirectPersistence);
}
function iR(t) {
  return yd(ZA, t.config.apiKey, t.name);
}
async function sR(t, e, n = !1) {
  if (bn(t.app)) return Promise.reject(oi(t));
  const r = ho(t),
    s = KA(r, e),
    l = await new eR(r, s, n).execute();
  return (
    l &&
      !n &&
      (delete l.user._redirectEventId,
      await r._persistUserIfCurrent(l.user),
      await r._setRedirectUser(null, e)),
    l
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const oR = 10 * 60 * 1e3;
class aR {
  constructor(e) {
    (this.auth = e),
      (this.cachedEventUids = new Set()),
      (this.consumers = new Set()),
      (this.queuedRedirectEvent = null),
      (this.hasHandledPotentialRedirect = !1),
      (this.lastProcessedEventTime = Date.now());
  }
  registerConsumer(e) {
    this.consumers.add(e),
      this.queuedRedirectEvent &&
        this.isEventForConsumer(this.queuedRedirectEvent, e) &&
        (this.sendToConsumer(this.queuedRedirectEvent, e),
        this.saveEventToCache(this.queuedRedirectEvent),
        (this.queuedRedirectEvent = null));
  }
  unregisterConsumer(e) {
    this.consumers.delete(e);
  }
  onEvent(e) {
    if (this.hasEventBeenHandled(e)) return !1;
    let n = !1;
    return (
      this.consumers.forEach((r) => {
        this.isEventForConsumer(e, r) &&
          ((n = !0), this.sendToConsumer(e, r), this.saveEventToCache(e));
      }),
      this.hasHandledPotentialRedirect ||
        !lR(e) ||
        ((this.hasHandledPotentialRedirect = !0),
        n || ((this.queuedRedirectEvent = e), (n = !0))),
      n
    );
  }
  sendToConsumer(e, n) {
    var r;
    if (e.error && !Yx(e)) {
      const s =
        ((r = e.error.code) === null || r === void 0
          ? void 0
          : r.split("auth/")[1]) || "internal-error";
      n.onError(Tr(this.auth, s));
    } else n.onAuthEvent(e);
  }
  isEventForConsumer(e, n) {
    const r = n.eventId === null || (!!e.eventId && e.eventId === n.eventId);
    return n.filter.includes(e.type) && r;
  }
  hasEventBeenHandled(e) {
    return (
      Date.now() - this.lastProcessedEventTime >= oR &&
        this.cachedEventUids.clear(),
      this.cachedEventUids.has(w_(e))
    );
  }
  saveEventToCache(e) {
    this.cachedEventUids.add(w_(e)), (this.lastProcessedEventTime = Date.now());
  }
}
function w_(t) {
  return [t.type, t.eventId, t.sessionId, t.tenantId]
    .filter((e) => e)
    .join("-");
}
function Yx({ type: t, error: e }) {
  return (
    t === "unknown" && (e == null ? void 0 : e.code) === "auth/no-auth-event"
  );
}
function lR(t) {
  switch (t.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return !0;
    case "unknown":
      return Yx(t);
    default:
      return !1;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function uR(t, e = {}) {
  return pi(t, "GET", "/v1/projects", e);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const cR = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
  dR = /^https?/;
async function hR(t) {
  if (t.config.emulator) return;
  const { authorizedDomains: e } = await uR(t);
  for (const n of e)
    try {
      if (fR(n)) return;
    } catch {}
  ar(t, "unauthorized-domain");
}
function fR(t) {
  const e = Kp(),
    { protocol: n, hostname: r } = new URL(e);
  if (t.startsWith("chrome-extension://")) {
    const l = new URL(t);
    return l.hostname === "" && r === ""
      ? n === "chrome-extension:" &&
          t.replace("chrome-extension://", "") ===
            e.replace("chrome-extension://", "")
      : n === "chrome-extension:" && l.hostname === r;
  }
  if (!dR.test(n)) return !1;
  if (cR.test(t)) return r === t;
  const s = t.replace(/\./g, "\\.");
  return new RegExp("^(.+\\." + s + "|" + s + ")$", "i").test(r);
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const pR = new Iu(3e4, 6e4);
function x_() {
  const t = Pr().___jsl;
  if (t != null && t.H) {
    for (const e of Object.keys(t.H))
      if (
        ((t.H[e].r = t.H[e].r || []),
        (t.H[e].L = t.H[e].L || []),
        (t.H[e].r = [...t.H[e].L]),
        t.CP)
      )
        for (let n = 0; n < t.CP.length; n++) t.CP[n] = null;
  }
}
function mR(t) {
  return new Promise((e, n) => {
    var r, s, a;
    function l() {
      x_(),
        gapi.load("gapi.iframes", {
          callback: () => {
            e(gapi.iframes.getContext());
          },
          ontimeout: () => {
            x_(), n(Tr(t, "network-request-failed"));
          },
          timeout: pR.get(),
        });
    }
    if (
      !(
        (s = (r = Pr().gapi) === null || r === void 0 ? void 0 : r.iframes) ===
          null || s === void 0
      ) &&
      s.Iframe
    )
      e(gapi.iframes.getContext());
    else if (!((a = Pr().gapi) === null || a === void 0) && a.load) l();
    else {
      const d = sA("iframefcb");
      return (
        (Pr()[d] = () => {
          gapi.load ? l() : n(Tr(t, "network-request-failed"));
        }),
        Vx(`${iA()}?onload=${d}`).catch((f) => n(f))
      );
    }
  }).catch((e) => {
    throw ((_d = null), e);
  });
}
let _d = null;
function gR(t) {
  return (_d = _d || mR(t)), _d;
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yR = new Iu(5e3, 15e3),
  vR = "__/auth/iframe",
  _R = "emulator/auth/iframe",
  wR = {
    style: { position: "absolute", top: "-100px", width: "1px", height: "1px" },
    "aria-hidden": "true",
    tabindex: "-1",
  },
  xR = new Map([
    ["identitytoolkit.googleapis.com", "p"],
    ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
    ["test-identitytoolkit.sandbox.googleapis.com", "t"],
  ]);
function ER(t) {
  const e = t.config;
  xe(e.authDomain, t, "auth-domain-config-required");
  const n = e.emulator ? Jm(e, _R) : `https://${t.config.authDomain}/${vR}`,
    r = { apiKey: e.apiKey, appName: t.name, v: co },
    s = xR.get(t.config.apiHost);
  s && (r.eid = s);
  const a = t._getFrameworks();
  return a.length && (r.fw = a.join(",")), `${n}?${Su(r).slice(1)}`;
}
async function TR(t) {
  const e = await gR(t),
    n = Pr().gapi;
  return (
    xe(n, t, "internal-error"),
    e.open(
      {
        where: document.body,
        url: ER(t),
        messageHandlersFilter: n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
        attributes: wR,
        dontclear: !0,
      },
      (r) =>
        new Promise(async (s, a) => {
          await r.restyle({ setHideOnLeave: !1 });
          const l = Tr(t, "network-request-failed"),
            d = Pr().setTimeout(() => {
              a(l);
            }, yR.get());
          function f() {
            Pr().clearTimeout(d), s(r);
          }
          r.ping(f).then(f, () => {
            a(l);
          });
        })
    )
  );
}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const PR = {
    location: "yes",
    resizable: "yes",
    statusbar: "yes",
    toolbar: "no",
  },
  SR = 500,
  IR = 600,
  bR = "_blank",
  CR = "http://localhost";
class E_ {
  constructor(e) {
    (this.window = e), (this.associatedEvent = null);
  }
  close() {
    if (this.window)
      try {
        this.window.close();
      } catch {}
  }
}
function AR(t, e, n, r = SR, s = IR) {
  const a = Math.max((window.screen.availHeight - s) / 2, 0).toString(),
    l = Math.max((window.screen.availWidth - r) / 2, 0).toString();
  let d = "";
  const f = Object.assign(Object.assign({}, PR), {
      width: r.toString(),
      height: s.toString(),
      top: a,
      left: l,
    }),
    p = tn().toLowerCase();
  n && (d = Cx(p) ? bR : n), Ix(p) && ((e = e || CR), (f.scrollbars = "yes"));
  const g = Object.entries(f).reduce((x, [P, b]) => `${x}${P}=${b},`, "");
  if (QC(p) && d !== "_self") return RR(e || "", d), new E_(null);
  const w = window.open(e || "", d, g);
  xe(w, t, "popup-blocked");
  try {
    w.focus();
  } catch {}
  return new E_(w);
}
function RR(t, e) {
  const n = document.createElement("a");
  (n.href = t), (n.target = e);
  const r = document.createEvent("MouseEvent");
  r.initMouseEvent(
    "click",
    !0,
    !0,
    window,
    1,
    0,
    0,
    0,
    0,
    !1,
    !1,
    !1,
    !1,
    1,
    null
  ),
    n.dispatchEvent(r);
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const kR = "__/auth/handler",
  NR = "emulator/auth/handler",
  jR = encodeURIComponent("fac");
async function T_(t, e, n, r, s, a) {
  xe(t.config.authDomain, t, "auth-domain-config-required"),
    xe(t.config.apiKey, t, "invalid-api-key");
  const l = {
    apiKey: t.config.apiKey,
    appName: t.name,
    authType: n,
    redirectUrl: r,
    v: co,
    eventId: s,
  };
  if (e instanceof Lx) {
    e.setDefaultLanguage(t.languageCode),
      (l.providerId = e.providerId || ""),
      mb(e.getCustomParameters()) ||
        (l.customParameters = JSON.stringify(e.getCustomParameters()));
    for (const [g, w] of Object.entries({})) l[g] = w;
  }
  if (e instanceof Cu) {
    const g = e.getScopes().filter((w) => w !== "");
    g.length > 0 && (l.scopes = g.join(","));
  }
  t.tenantId && (l.tid = t.tenantId);
  const d = l;
  for (const g of Object.keys(d)) d[g] === void 0 && delete d[g];
  const f = await t._getAppCheckToken(),
    p = f ? `#${jR}=${encodeURIComponent(f)}` : "";
  return `${DR(t)}?${Su(d).slice(1)}${p}`;
}
function DR({ config: t }) {
  return t.emulator ? Jm(t, NR) : `https://${t.authDomain}/${kR}`;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const vp = "webStorageSupport";
class VR {
  constructor() {
    (this.eventManagers = {}),
      (this.iframes = {}),
      (this.originValidationPromises = {}),
      (this._redirectPersistence = Wx),
      (this._completeRedirectFn = sR),
      (this._overrideRedirectResult = nR);
  }
  async _openPopup(e, n, r, s) {
    var a;
    li(
      (a = this.eventManagers[e._key()]) === null || a === void 0
        ? void 0
        : a.manager,
      "_initialize() not called before _openPopup()"
    );
    const l = await T_(e, n, r, Kp(), s);
    return AR(e, l, rg());
  }
  async _openRedirect(e, n, r, s) {
    await this._originValidation(e);
    const a = await T_(e, n, r, Kp(), s);
    return LA(a), new Promise(() => {});
  }
  _initialize(e) {
    const n = e._key();
    if (this.eventManagers[n]) {
      const { manager: s, promise: a } = this.eventManagers[n];
      return s
        ? Promise.resolve(s)
        : (li(a, "If manager is not set, promise should be"), a);
    }
    const r = this.initAndGetManager(e);
    return (
      (this.eventManagers[n] = { promise: r }),
      r.catch(() => {
        delete this.eventManagers[n];
      }),
      r
    );
  }
  async initAndGetManager(e) {
    const n = await TR(e),
      r = new aR(e);
    return (
      n.register(
        "authEvent",
        (s) => (
          xe(s == null ? void 0 : s.authEvent, e, "invalid-auth-event"),
          { status: r.onEvent(s.authEvent) ? "ACK" : "ERROR" }
        ),
        gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
      ),
      (this.eventManagers[e._key()] = { manager: r }),
      (this.iframes[e._key()] = n),
      r
    );
  }
  _isIframeWebStorageSupported(e, n) {
    this.iframes[e._key()].send(
      vp,
      { type: vp },
      (s) => {
        var a;
        const l =
          (a = s == null ? void 0 : s[0]) === null || a === void 0
            ? void 0
            : a[vp];
        l !== void 0 && n(!!l), ar(e, "internal-error");
      },
      gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
    );
  }
  _originValidation(e) {
    const n = e._key();
    return (
      this.originValidationPromises[n] ||
        (this.originValidationPromises[n] = hR(e)),
      this.originValidationPromises[n]
    );
  }
  get _shouldInitProactively() {
    return jx() || bx() || eg();
  }
}
const OR = VR;
var P_ = "@firebase/auth",
  S_ = "1.10.8";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class MR {
  constructor(e) {
    (this.auth = e), (this.internalListeners = new Map());
  }
  getUid() {
    var e;
    return (
      this.assertAuthConfigured(),
      ((e = this.auth.currentUser) === null || e === void 0 ? void 0 : e.uid) ||
        null
    );
  }
  async getToken(e) {
    return (
      this.assertAuthConfigured(),
      await this.auth._initializationPromise,
      this.auth.currentUser
        ? { accessToken: await this.auth.currentUser.getIdToken(e) }
        : null
    );
  }
  addAuthTokenListener(e) {
    if ((this.assertAuthConfigured(), this.internalListeners.has(e))) return;
    const n = this.auth.onIdTokenChanged((r) => {
      e((r == null ? void 0 : r.stsTokenManager.accessToken) || null);
    });
    this.internalListeners.set(e, n), this.updateProactiveRefresh();
  }
  removeAuthTokenListener(e) {
    this.assertAuthConfigured();
    const n = this.internalListeners.get(e);
    n && (this.internalListeners.delete(e), n(), this.updateProactiveRefresh());
  }
  assertAuthConfigured() {
    xe(
      this.auth._initializationPromise,
      "dependent-sdk-initialized-before-auth"
    );
  }
  updateProactiveRefresh() {
    this.internalListeners.size > 0
      ? this.auth._startProactiveRefresh()
      : this.auth._stopProactiveRefresh();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function LR(t) {
  switch (t) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return;
  }
}
function FR(t) {
  no(
    new es(
      "auth",
      (e, { options: n }) => {
        const r = e.getProvider("app").getImmediate(),
          s = e.getProvider("heartbeat"),
          a = e.getProvider("app-check-internal"),
          { apiKey: l, authDomain: d } = r.options;
        xe(l && !l.includes(":"), "invalid-api-key", { appName: r.name });
        const f = {
            apiKey: l,
            authDomain: d,
            clientPlatform: t,
            apiHost: "identitytoolkit.googleapis.com",
            tokenApiHost: "securetoken.googleapis.com",
            apiScheme: "https",
            sdkClientVersion: Dx(t),
          },
          p = new tA(r, s, a, f);
        return dA(p, n), p;
      },
      "PUBLIC"
    )
      .setInstantiationMode("EXPLICIT")
      .setInstanceCreatedCallback((e, n, r) => {
        e.getProvider("auth-internal").initialize();
      })
  ),
    no(
      new es(
        "auth-internal",
        (e) => {
          const n = ho(e.getProvider("auth").getImmediate());
          return ((r) => new MR(r))(n);
        },
        "PRIVATE"
      ).setInstantiationMode("EXPLICIT")
    ),
    Er(P_, S_, LR(t)),
    Er(P_, S_, "esm2017");
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const UR = 5 * 60,
  BR = dx("authIdTokenMaxAge") || UR;
let I_ = null;
const zR = (t) => async (e) => {
  const n = e && (await e.getIdTokenResult()),
    r = n && (new Date().getTime() - Date.parse(n.issuedAtTime)) / 1e3;
  if (r && r > BR) return;
  const s = n == null ? void 0 : n.token;
  I_ !== s &&
    ((I_ = s),
    await fetch(t, {
      method: s ? "POST" : "DELETE",
      headers: s ? { Authorization: `Bearer ${s}` } : {},
    }));
};
function $R(t = Qm()) {
  const e = oh(t, "auth");
  if (e.isInitialized()) return e.getImmediate();
  const n = cA(t, { popupRedirectResolver: OR, persistence: [GA, VA, Wx] }),
    r = dx("authTokenSyncURL");
  if (r && typeof isSecureContext == "boolean" && isSecureContext) {
    const a = new URL(r, location.origin);
    if (location.origin === a.origin) {
      const l = zR(a.toString());
      RA(n, l, () => l(n.currentUser)), AA(n, (d) => l(d));
    }
  }
  const s = lx("auth");
  return s && hA(n, `http://${s}`), n;
}
function HR() {
  var t, e;
  return (e =
    (t = document.getElementsByTagName("head")) === null || t === void 0
      ? void 0
      : t[0]) !== null && e !== void 0
    ? e
    : document;
}
nA({
  loadJS(t) {
    return new Promise((e, n) => {
      const r = document.createElement("script");
      r.setAttribute("src", t),
        (r.onload = e),
        (r.onerror = (s) => {
          const a = Tr("internal-error");
          (a.customData = s), n(a);
        }),
        (r.type = "text/javascript"),
        (r.charset = "UTF-8"),
        HR().appendChild(r);
    });
  },
  gapiScript: "https://apis.google.com/js/api.js",
  recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
  recaptchaEnterpriseScript:
    "https://www.google.com/recaptcha/enterprise.js?render=",
});
FR("Browser");
var b_ =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var Ji, Jx;
(function () {
  var t;
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ function e(C, I) {
    function A() {}
    (A.prototype = I.prototype),
      (C.D = I.prototype),
      (C.prototype = new A()),
      (C.prototype.constructor = C),
      (C.C = function (D, M, U) {
        for (
          var j = Array(arguments.length - 2), Ye = 2;
          Ye < arguments.length;
          Ye++
        )
          j[Ye - 2] = arguments[Ye];
        return I.prototype[M].apply(D, j);
      });
  }
  function n() {
    this.blockSize = -1;
  }
  function r() {
    (this.blockSize = -1),
      (this.blockSize = 64),
      (this.g = Array(4)),
      (this.B = Array(this.blockSize)),
      (this.o = this.h = 0),
      this.s();
  }
  e(r, n),
    (r.prototype.s = function () {
      (this.g[0] = 1732584193),
        (this.g[1] = 4023233417),
        (this.g[2] = 2562383102),
        (this.g[3] = 271733878),
        (this.o = this.h = 0);
    });
  function s(C, I, A) {
    A || (A = 0);
    var D = Array(16);
    if (typeof I == "string")
      for (var M = 0; 16 > M; ++M)
        D[M] =
          I.charCodeAt(A++) |
          (I.charCodeAt(A++) << 8) |
          (I.charCodeAt(A++) << 16) |
          (I.charCodeAt(A++) << 24);
    else
      for (M = 0; 16 > M; ++M)
        D[M] = I[A++] | (I[A++] << 8) | (I[A++] << 16) | (I[A++] << 24);
    (I = C.g[0]), (A = C.g[1]), (M = C.g[2]);
    var U = C.g[3],
      j = (I + (U ^ (A & (M ^ U))) + D[0] + 3614090360) & 4294967295;
    (I = A + (((j << 7) & 4294967295) | (j >>> 25))),
      (j = (U + (M ^ (I & (A ^ M))) + D[1] + 3905402710) & 4294967295),
      (U = I + (((j << 12) & 4294967295) | (j >>> 20))),
      (j = (M + (A ^ (U & (I ^ A))) + D[2] + 606105819) & 4294967295),
      (M = U + (((j << 17) & 4294967295) | (j >>> 15))),
      (j = (A + (I ^ (M & (U ^ I))) + D[3] + 3250441966) & 4294967295),
      (A = M + (((j << 22) & 4294967295) | (j >>> 10))),
      (j = (I + (U ^ (A & (M ^ U))) + D[4] + 4118548399) & 4294967295),
      (I = A + (((j << 7) & 4294967295) | (j >>> 25))),
      (j = (U + (M ^ (I & (A ^ M))) + D[5] + 1200080426) & 4294967295),
      (U = I + (((j << 12) & 4294967295) | (j >>> 20))),
      (j = (M + (A ^ (U & (I ^ A))) + D[6] + 2821735955) & 4294967295),
      (M = U + (((j << 17) & 4294967295) | (j >>> 15))),
      (j = (A + (I ^ (M & (U ^ I))) + D[7] + 4249261313) & 4294967295),
      (A = M + (((j << 22) & 4294967295) | (j >>> 10))),
      (j = (I + (U ^ (A & (M ^ U))) + D[8] + 1770035416) & 4294967295),
      (I = A + (((j << 7) & 4294967295) | (j >>> 25))),
      (j = (U + (M ^ (I & (A ^ M))) + D[9] + 2336552879) & 4294967295),
      (U = I + (((j << 12) & 4294967295) | (j >>> 20))),
      (j = (M + (A ^ (U & (I ^ A))) + D[10] + 4294925233) & 4294967295),
      (M = U + (((j << 17) & 4294967295) | (j >>> 15))),
      (j = (A + (I ^ (M & (U ^ I))) + D[11] + 2304563134) & 4294967295),
      (A = M + (((j << 22) & 4294967295) | (j >>> 10))),
      (j = (I + (U ^ (A & (M ^ U))) + D[12] + 1804603682) & 4294967295),
      (I = A + (((j << 7) & 4294967295) | (j >>> 25))),
      (j = (U + (M ^ (I & (A ^ M))) + D[13] + 4254626195) & 4294967295),
      (U = I + (((j << 12) & 4294967295) | (j >>> 20))),
      (j = (M + (A ^ (U & (I ^ A))) + D[14] + 2792965006) & 4294967295),
      (M = U + (((j << 17) & 4294967295) | (j >>> 15))),
      (j = (A + (I ^ (M & (U ^ I))) + D[15] + 1236535329) & 4294967295),
      (A = M + (((j << 22) & 4294967295) | (j >>> 10))),
      (j = (I + (M ^ (U & (A ^ M))) + D[1] + 4129170786) & 4294967295),
      (I = A + (((j << 5) & 4294967295) | (j >>> 27))),
      (j = (U + (A ^ (M & (I ^ A))) + D[6] + 3225465664) & 4294967295),
      (U = I + (((j << 9) & 4294967295) | (j >>> 23))),
      (j = (M + (I ^ (A & (U ^ I))) + D[11] + 643717713) & 4294967295),
      (M = U + (((j << 14) & 4294967295) | (j >>> 18))),
      (j = (A + (U ^ (I & (M ^ U))) + D[0] + 3921069994) & 4294967295),
      (A = M + (((j << 20) & 4294967295) | (j >>> 12))),
      (j = (I + (M ^ (U & (A ^ M))) + D[5] + 3593408605) & 4294967295),
      (I = A + (((j << 5) & 4294967295) | (j >>> 27))),
      (j = (U + (A ^ (M & (I ^ A))) + D[10] + 38016083) & 4294967295),
      (U = I + (((j << 9) & 4294967295) | (j >>> 23))),
      (j = (M + (I ^ (A & (U ^ I))) + D[15] + 3634488961) & 4294967295),
      (M = U + (((j << 14) & 4294967295) | (j >>> 18))),
      (j = (A + (U ^ (I & (M ^ U))) + D[4] + 3889429448) & 4294967295),
      (A = M + (((j << 20) & 4294967295) | (j >>> 12))),
      (j = (I + (M ^ (U & (A ^ M))) + D[9] + 568446438) & 4294967295),
      (I = A + (((j << 5) & 4294967295) | (j >>> 27))),
      (j = (U + (A ^ (M & (I ^ A))) + D[14] + 3275163606) & 4294967295),
      (U = I + (((j << 9) & 4294967295) | (j >>> 23))),
      (j = (M + (I ^ (A & (U ^ I))) + D[3] + 4107603335) & 4294967295),
      (M = U + (((j << 14) & 4294967295) | (j >>> 18))),
      (j = (A + (U ^ (I & (M ^ U))) + D[8] + 1163531501) & 4294967295),
      (A = M + (((j << 20) & 4294967295) | (j >>> 12))),
      (j = (I + (M ^ (U & (A ^ M))) + D[13] + 2850285829) & 4294967295),
      (I = A + (((j << 5) & 4294967295) | (j >>> 27))),
      (j = (U + (A ^ (M & (I ^ A))) + D[2] + 4243563512) & 4294967295),
      (U = I + (((j << 9) & 4294967295) | (j >>> 23))),
      (j = (M + (I ^ (A & (U ^ I))) + D[7] + 1735328473) & 4294967295),
      (M = U + (((j << 14) & 4294967295) | (j >>> 18))),
      (j = (A + (U ^ (I & (M ^ U))) + D[12] + 2368359562) & 4294967295),
      (A = M + (((j << 20) & 4294967295) | (j >>> 12))),
      (j = (I + (A ^ M ^ U) + D[5] + 4294588738) & 4294967295),
      (I = A + (((j << 4) & 4294967295) | (j >>> 28))),
      (j = (U + (I ^ A ^ M) + D[8] + 2272392833) & 4294967295),
      (U = I + (((j << 11) & 4294967295) | (j >>> 21))),
      (j = (M + (U ^ I ^ A) + D[11] + 1839030562) & 4294967295),
      (M = U + (((j << 16) & 4294967295) | (j >>> 16))),
      (j = (A + (M ^ U ^ I) + D[14] + 4259657740) & 4294967295),
      (A = M + (((j << 23) & 4294967295) | (j >>> 9))),
      (j = (I + (A ^ M ^ U) + D[1] + 2763975236) & 4294967295),
      (I = A + (((j << 4) & 4294967295) | (j >>> 28))),
      (j = (U + (I ^ A ^ M) + D[4] + 1272893353) & 4294967295),
      (U = I + (((j << 11) & 4294967295) | (j >>> 21))),
      (j = (M + (U ^ I ^ A) + D[7] + 4139469664) & 4294967295),
      (M = U + (((j << 16) & 4294967295) | (j >>> 16))),
      (j = (A + (M ^ U ^ I) + D[10] + 3200236656) & 4294967295),
      (A = M + (((j << 23) & 4294967295) | (j >>> 9))),
      (j = (I + (A ^ M ^ U) + D[13] + 681279174) & 4294967295),
      (I = A + (((j << 4) & 4294967295) | (j >>> 28))),
      (j = (U + (I ^ A ^ M) + D[0] + 3936430074) & 4294967295),
      (U = I + (((j << 11) & 4294967295) | (j >>> 21))),
      (j = (M + (U ^ I ^ A) + D[3] + 3572445317) & 4294967295),
      (M = U + (((j << 16) & 4294967295) | (j >>> 16))),
      (j = (A + (M ^ U ^ I) + D[6] + 76029189) & 4294967295),
      (A = M + (((j << 23) & 4294967295) | (j >>> 9))),
      (j = (I + (A ^ M ^ U) + D[9] + 3654602809) & 4294967295),
      (I = A + (((j << 4) & 4294967295) | (j >>> 28))),
      (j = (U + (I ^ A ^ M) + D[12] + 3873151461) & 4294967295),
      (U = I + (((j << 11) & 4294967295) | (j >>> 21))),
      (j = (M + (U ^ I ^ A) + D[15] + 530742520) & 4294967295),
      (M = U + (((j << 16) & 4294967295) | (j >>> 16))),
      (j = (A + (M ^ U ^ I) + D[2] + 3299628645) & 4294967295),
      (A = M + (((j << 23) & 4294967295) | (j >>> 9))),
      (j = (I + (M ^ (A | ~U)) + D[0] + 4096336452) & 4294967295),
      (I = A + (((j << 6) & 4294967295) | (j >>> 26))),
      (j = (U + (A ^ (I | ~M)) + D[7] + 1126891415) & 4294967295),
      (U = I + (((j << 10) & 4294967295) | (j >>> 22))),
      (j = (M + (I ^ (U | ~A)) + D[14] + 2878612391) & 4294967295),
      (M = U + (((j << 15) & 4294967295) | (j >>> 17))),
      (j = (A + (U ^ (M | ~I)) + D[5] + 4237533241) & 4294967295),
      (A = M + (((j << 21) & 4294967295) | (j >>> 11))),
      (j = (I + (M ^ (A | ~U)) + D[12] + 1700485571) & 4294967295),
      (I = A + (((j << 6) & 4294967295) | (j >>> 26))),
      (j = (U + (A ^ (I | ~M)) + D[3] + 2399980690) & 4294967295),
      (U = I + (((j << 10) & 4294967295) | (j >>> 22))),
      (j = (M + (I ^ (U | ~A)) + D[10] + 4293915773) & 4294967295),
      (M = U + (((j << 15) & 4294967295) | (j >>> 17))),
      (j = (A + (U ^ (M | ~I)) + D[1] + 2240044497) & 4294967295),
      (A = M + (((j << 21) & 4294967295) | (j >>> 11))),
      (j = (I + (M ^ (A | ~U)) + D[8] + 1873313359) & 4294967295),
      (I = A + (((j << 6) & 4294967295) | (j >>> 26))),
      (j = (U + (A ^ (I | ~M)) + D[15] + 4264355552) & 4294967295),
      (U = I + (((j << 10) & 4294967295) | (j >>> 22))),
      (j = (M + (I ^ (U | ~A)) + D[6] + 2734768916) & 4294967295),
      (M = U + (((j << 15) & 4294967295) | (j >>> 17))),
      (j = (A + (U ^ (M | ~I)) + D[13] + 1309151649) & 4294967295),
      (A = M + (((j << 21) & 4294967295) | (j >>> 11))),
      (j = (I + (M ^ (A | ~U)) + D[4] + 4149444226) & 4294967295),
      (I = A + (((j << 6) & 4294967295) | (j >>> 26))),
      (j = (U + (A ^ (I | ~M)) + D[11] + 3174756917) & 4294967295),
      (U = I + (((j << 10) & 4294967295) | (j >>> 22))),
      (j = (M + (I ^ (U | ~A)) + D[2] + 718787259) & 4294967295),
      (M = U + (((j << 15) & 4294967295) | (j >>> 17))),
      (j = (A + (U ^ (M | ~I)) + D[9] + 3951481745) & 4294967295),
      (C.g[0] = (C.g[0] + I) & 4294967295),
      (C.g[1] =
        (C.g[1] + (M + (((j << 21) & 4294967295) | (j >>> 11)))) & 4294967295),
      (C.g[2] = (C.g[2] + M) & 4294967295),
      (C.g[3] = (C.g[3] + U) & 4294967295);
  }
  (r.prototype.u = function (C, I) {
    I === void 0 && (I = C.length);
    for (var A = I - this.blockSize, D = this.B, M = this.h, U = 0; U < I; ) {
      if (M == 0) for (; U <= A; ) s(this, C, U), (U += this.blockSize);
      if (typeof C == "string") {
        for (; U < I; )
          if (((D[M++] = C.charCodeAt(U++)), M == this.blockSize)) {
            s(this, D), (M = 0);
            break;
          }
      } else
        for (; U < I; )
          if (((D[M++] = C[U++]), M == this.blockSize)) {
            s(this, D), (M = 0);
            break;
          }
    }
    (this.h = M), (this.o += I);
  }),
    (r.prototype.v = function () {
      var C = Array(
        (56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h
      );
      C[0] = 128;
      for (var I = 1; I < C.length - 8; ++I) C[I] = 0;
      var A = 8 * this.o;
      for (I = C.length - 8; I < C.length; ++I) (C[I] = A & 255), (A /= 256);
      for (this.u(C), C = Array(16), I = A = 0; 4 > I; ++I)
        for (var D = 0; 32 > D; D += 8) C[A++] = (this.g[I] >>> D) & 255;
      return C;
    });
  function a(C, I) {
    var A = d;
    return Object.prototype.hasOwnProperty.call(A, C) ? A[C] : (A[C] = I(C));
  }
  function l(C, I) {
    this.h = I;
    for (var A = [], D = !0, M = C.length - 1; 0 <= M; M--) {
      var U = C[M] | 0;
      (D && U == I) || ((A[M] = U), (D = !1));
    }
    this.g = A;
  }
  var d = {};
  function f(C) {
    return -128 <= C && 128 > C
      ? a(C, function (I) {
          return new l([I | 0], 0 > I ? -1 : 0);
        })
      : new l([C | 0], 0 > C ? -1 : 0);
  }
  function p(C) {
    if (isNaN(C) || !isFinite(C)) return w;
    if (0 > C) return k(p(-C));
    for (var I = [], A = 1, D = 0; C >= A; D++)
      (I[D] = (C / A) | 0), (A *= 4294967296);
    return new l(I, 0);
  }
  function g(C, I) {
    if (C.length == 0) throw Error("number format error: empty string");
    if (((I = I || 10), 2 > I || 36 < I))
      throw Error("radix out of range: " + I);
    if (C.charAt(0) == "-") return k(g(C.substring(1), I));
    if (0 <= C.indexOf("-"))
      throw Error('number format error: interior "-" character');
    for (var A = p(Math.pow(I, 8)), D = w, M = 0; M < C.length; M += 8) {
      var U = Math.min(8, C.length - M),
        j = parseInt(C.substring(M, M + U), I);
      8 > U
        ? ((U = p(Math.pow(I, U))), (D = D.j(U).add(p(j))))
        : ((D = D.j(A)), (D = D.add(p(j))));
    }
    return D;
  }
  var w = f(0),
    x = f(1),
    P = f(16777216);
  (t = l.prototype),
    (t.m = function () {
      if (N(this)) return -k(this).m();
      for (var C = 0, I = 1, A = 0; A < this.g.length; A++) {
        var D = this.i(A);
        (C += (0 <= D ? D : 4294967296 + D) * I), (I *= 4294967296);
      }
      return C;
    }),
    (t.toString = function (C) {
      if (((C = C || 10), 2 > C || 36 < C))
        throw Error("radix out of range: " + C);
      if (b(this)) return "0";
      if (N(this)) return "-" + k(this).toString(C);
      for (var I = p(Math.pow(C, 6)), A = this, D = ""; ; ) {
        var M = Y(A, I).g;
        A = $(A, M.j(I));
        var U = ((0 < A.g.length ? A.g[0] : A.h) >>> 0).toString(C);
        if (((A = M), b(A))) return U + D;
        for (; 6 > U.length; ) U = "0" + U;
        D = U + D;
      }
    }),
    (t.i = function (C) {
      return 0 > C ? 0 : C < this.g.length ? this.g[C] : this.h;
    });
  function b(C) {
    if (C.h != 0) return !1;
    for (var I = 0; I < C.g.length; I++) if (C.g[I] != 0) return !1;
    return !0;
  }
  function N(C) {
    return C.h == -1;
  }
  t.l = function (C) {
    return (C = $(this, C)), N(C) ? -1 : b(C) ? 0 : 1;
  };
  function k(C) {
    for (var I = C.g.length, A = [], D = 0; D < I; D++) A[D] = ~C.g[D];
    return new l(A, ~C.h).add(x);
  }
  (t.abs = function () {
    return N(this) ? k(this) : this;
  }),
    (t.add = function (C) {
      for (
        var I = Math.max(this.g.length, C.g.length), A = [], D = 0, M = 0;
        M <= I;
        M++
      ) {
        var U = D + (this.i(M) & 65535) + (C.i(M) & 65535),
          j = (U >>> 16) + (this.i(M) >>> 16) + (C.i(M) >>> 16);
        (D = j >>> 16), (U &= 65535), (j &= 65535), (A[M] = (j << 16) | U);
      }
      return new l(A, A[A.length - 1] & -2147483648 ? -1 : 0);
    });
  function $(C, I) {
    return C.add(k(I));
  }
  t.j = function (C) {
    if (b(this) || b(C)) return w;
    if (N(this)) return N(C) ? k(this).j(k(C)) : k(k(this).j(C));
    if (N(C)) return k(this.j(k(C)));
    if (0 > this.l(P) && 0 > C.l(P)) return p(this.m() * C.m());
    for (var I = this.g.length + C.g.length, A = [], D = 0; D < 2 * I; D++)
      A[D] = 0;
    for (D = 0; D < this.g.length; D++)
      for (var M = 0; M < C.g.length; M++) {
        var U = this.i(D) >>> 16,
          j = this.i(D) & 65535,
          Ye = C.i(M) >>> 16,
          Ot = C.i(M) & 65535;
        (A[2 * D + 2 * M] += j * Ot),
          G(A, 2 * D + 2 * M),
          (A[2 * D + 2 * M + 1] += U * Ot),
          G(A, 2 * D + 2 * M + 1),
          (A[2 * D + 2 * M + 1] += j * Ye),
          G(A, 2 * D + 2 * M + 1),
          (A[2 * D + 2 * M + 2] += U * Ye),
          G(A, 2 * D + 2 * M + 2);
      }
    for (D = 0; D < I; D++) A[D] = (A[2 * D + 1] << 16) | A[2 * D];
    for (D = I; D < 2 * I; D++) A[D] = 0;
    return new l(A, 0);
  };
  function G(C, I) {
    for (; (C[I] & 65535) != C[I]; )
      (C[I + 1] += C[I] >>> 16), (C[I] &= 65535), I++;
  }
  function q(C, I) {
    (this.g = C), (this.h = I);
  }
  function Y(C, I) {
    if (b(I)) throw Error("division by zero");
    if (b(C)) return new q(w, w);
    if (N(C)) return (I = Y(k(C), I)), new q(k(I.g), k(I.h));
    if (N(I)) return (I = Y(C, k(I))), new q(k(I.g), I.h);
    if (30 < C.g.length) {
      if (N(C) || N(I))
        throw Error("slowDivide_ only works with positive integers.");
      for (var A = x, D = I; 0 >= D.l(C); ) (A = ne(A)), (D = ne(D));
      var M = oe(A, 1),
        U = oe(D, 1);
      for (D = oe(D, 2), A = oe(A, 2); !b(D); ) {
        var j = U.add(D);
        0 >= j.l(C) && ((M = M.add(A)), (U = j)),
          (D = oe(D, 1)),
          (A = oe(A, 1));
      }
      return (I = $(C, M.j(I))), new q(M, I);
    }
    for (M = w; 0 <= C.l(I); ) {
      for (
        A = Math.max(1, Math.floor(C.m() / I.m())),
          D = Math.ceil(Math.log(A) / Math.LN2),
          D = 48 >= D ? 1 : Math.pow(2, D - 48),
          U = p(A),
          j = U.j(I);
        N(j) || 0 < j.l(C);

      )
        (A -= D), (U = p(A)), (j = U.j(I));
      b(U) && (U = x), (M = M.add(U)), (C = $(C, j));
    }
    return new q(M, C);
  }
  (t.A = function (C) {
    return Y(this, C).h;
  }),
    (t.and = function (C) {
      for (
        var I = Math.max(this.g.length, C.g.length), A = [], D = 0;
        D < I;
        D++
      )
        A[D] = this.i(D) & C.i(D);
      return new l(A, this.h & C.h);
    }),
    (t.or = function (C) {
      for (
        var I = Math.max(this.g.length, C.g.length), A = [], D = 0;
        D < I;
        D++
      )
        A[D] = this.i(D) | C.i(D);
      return new l(A, this.h | C.h);
    }),
    (t.xor = function (C) {
      for (
        var I = Math.max(this.g.length, C.g.length), A = [], D = 0;
        D < I;
        D++
      )
        A[D] = this.i(D) ^ C.i(D);
      return new l(A, this.h ^ C.h);
    });
  function ne(C) {
    for (var I = C.g.length + 1, A = [], D = 0; D < I; D++)
      A[D] = (C.i(D) << 1) | (C.i(D - 1) >>> 31);
    return new l(A, C.h);
  }
  function oe(C, I) {
    var A = I >> 5;
    I %= 32;
    for (var D = C.g.length - A, M = [], U = 0; U < D; U++)
      M[U] =
        0 < I ? (C.i(U + A) >>> I) | (C.i(U + A + 1) << (32 - I)) : C.i(U + A);
    return new l(M, C.h);
  }
  (r.prototype.digest = r.prototype.v),
    (r.prototype.reset = r.prototype.s),
    (r.prototype.update = r.prototype.u),
    (Jx = r),
    (l.prototype.add = l.prototype.add),
    (l.prototype.multiply = l.prototype.j),
    (l.prototype.modulo = l.prototype.A),
    (l.prototype.compare = l.prototype.l),
    (l.prototype.toNumber = l.prototype.m),
    (l.prototype.toString = l.prototype.toString),
    (l.prototype.getBits = l.prototype.i),
    (l.fromNumber = p),
    (l.fromString = g),
    (Ji = l);
}).apply(
  typeof b_ < "u"
    ? b_
    : typeof self < "u"
    ? self
    : typeof window < "u"
    ? window
    : {}
);
var nd =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/ var Zx, Ul, eE, wd, Zp, tE, nE, rE;
(function () {
  var t,
    e =
      typeof Object.defineProperties == "function"
        ? Object.defineProperty
        : function (c, y, E) {
            return (
              c == Array.prototype || c == Object.prototype || (c[y] = E.value),
              c
            );
          };
  function n(c) {
    c = [
      typeof globalThis == "object" && globalThis,
      c,
      typeof window == "object" && window,
      typeof self == "object" && self,
      typeof nd == "object" && nd,
    ];
    for (var y = 0; y < c.length; ++y) {
      var E = c[y];
      if (E && E.Math == Math) return E;
    }
    throw Error("Cannot find global object");
  }
  var r = n(this);
  function s(c, y) {
    if (y)
      e: {
        var E = r;
        c = c.split(".");
        for (var S = 0; S < c.length - 1; S++) {
          var B = c[S];
          if (!(B in E)) break e;
          E = E[B];
        }
        (c = c[c.length - 1]),
          (S = E[c]),
          (y = y(S)),
          y != S &&
            y != null &&
            e(E, c, { configurable: !0, writable: !0, value: y });
      }
  }
  function a(c, y) {
    c instanceof String && (c += "");
    var E = 0,
      S = !1,
      B = {
        next: function () {
          if (!S && E < c.length) {
            var K = E++;
            return { value: y(K, c[K]), done: !1 };
          }
          return (S = !0), { done: !0, value: void 0 };
        },
      };
    return (
      (B[Symbol.iterator] = function () {
        return B;
      }),
      B
    );
  }
  s("Array.prototype.values", function (c) {
    return (
      c ||
      function () {
        return a(this, function (y, E) {
          return E;
        });
      }
    );
  });
  /** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/ var l = l || {},
    d = this || self;
  function f(c) {
    var y = typeof c;
    return (
      (y = y != "object" ? y : c ? (Array.isArray(c) ? "array" : y) : "null"),
      y == "array" || (y == "object" && typeof c.length == "number")
    );
  }
  function p(c) {
    var y = typeof c;
    return (y == "object" && c != null) || y == "function";
  }
  function g(c, y, E) {
    return c.call.apply(c.bind, arguments);
  }
  function w(c, y, E) {
    if (!c) throw Error();
    if (2 < arguments.length) {
      var S = Array.prototype.slice.call(arguments, 2);
      return function () {
        var B = Array.prototype.slice.call(arguments);
        return Array.prototype.unshift.apply(B, S), c.apply(y, B);
      };
    }
    return function () {
      return c.apply(y, arguments);
    };
  }
  function x(c, y, E) {
    return (
      (x =
        Function.prototype.bind &&
        Function.prototype.bind.toString().indexOf("native code") != -1
          ? g
          : w),
      x.apply(null, arguments)
    );
  }
  function P(c, y) {
    var E = Array.prototype.slice.call(arguments, 1);
    return function () {
      var S = E.slice();
      return S.push.apply(S, arguments), c.apply(this, S);
    };
  }
  function b(c, y) {
    function E() {}
    (E.prototype = y.prototype),
      (c.aa = y.prototype),
      (c.prototype = new E()),
      (c.prototype.constructor = c),
      (c.Qb = function (S, B, K) {
        for (
          var se = Array(arguments.length - 2), $e = 2;
          $e < arguments.length;
          $e++
        )
          se[$e - 2] = arguments[$e];
        return y.prototype[B].apply(S, se);
      });
  }
  function N(c) {
    const y = c.length;
    if (0 < y) {
      const E = Array(y);
      for (let S = 0; S < y; S++) E[S] = c[S];
      return E;
    }
    return [];
  }
  function k(c, y) {
    for (let E = 1; E < arguments.length; E++) {
      const S = arguments[E];
      if (f(S)) {
        const B = c.length || 0,
          K = S.length || 0;
        c.length = B + K;
        for (let se = 0; se < K; se++) c[B + se] = S[se];
      } else c.push(S);
    }
  }
  class $ {
    constructor(y, E) {
      (this.i = y), (this.j = E), (this.h = 0), (this.g = null);
    }
    get() {
      let y;
      return (
        0 < this.h
          ? (this.h--, (y = this.g), (this.g = y.next), (y.next = null))
          : (y = this.i()),
        y
      );
    }
  }
  function G(c) {
    return /^[\s\xa0]*$/.test(c);
  }
  function q() {
    var c = d.navigator;
    return c && (c = c.userAgent) ? c : "";
  }
  function Y(c) {
    return Y[" "](c), c;
  }
  Y[" "] = function () {};
  var ne =
    q().indexOf("Gecko") != -1 &&
    !(q().toLowerCase().indexOf("webkit") != -1 && q().indexOf("Edge") == -1) &&
    !(q().indexOf("Trident") != -1 || q().indexOf("MSIE") != -1) &&
    q().indexOf("Edge") == -1;
  function oe(c, y, E) {
    for (const S in c) y.call(E, c[S], S, c);
  }
  function C(c, y) {
    for (const E in c) y.call(void 0, c[E], E, c);
  }
  function I(c) {
    const y = {};
    for (const E in c) y[E] = c[E];
    return y;
  }
  const A =
    "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(
      " "
    );
  function D(c, y) {
    let E, S;
    for (let B = 1; B < arguments.length; B++) {
      S = arguments[B];
      for (E in S) c[E] = S[E];
      for (let K = 0; K < A.length; K++)
        (E = A[K]), Object.prototype.hasOwnProperty.call(S, E) && (c[E] = S[E]);
    }
  }
  function M(c) {
    var y = 1;
    c = c.split(":");
    const E = [];
    for (; 0 < y && c.length; ) E.push(c.shift()), y--;
    return c.length && E.push(c.join(":")), E;
  }
  function U(c) {
    d.setTimeout(() => {
      throw c;
    }, 0);
  }
  function j() {
    var c = ge;
    let y = null;
    return (
      c.g &&
        ((y = c.g), (c.g = c.g.next), c.g || (c.h = null), (y.next = null)),
      y
    );
  }
  class Ye {
    constructor() {
      this.h = this.g = null;
    }
    add(y, E) {
      const S = Ot.get();
      S.set(y, E), this.h ? (this.h.next = S) : (this.g = S), (this.h = S);
    }
  }
  var Ot = new $(
    () => new Mt(),
    (c) => c.reset()
  );
  class Mt {
    constructor() {
      this.next = this.g = this.h = null;
    }
    set(y, E) {
      (this.h = y), (this.g = E), (this.next = null);
    }
    reset() {
      this.next = this.g = this.h = null;
    }
  }
  let Ie,
    ie = !1,
    ge = new Ye(),
    ae = () => {
      const c = d.Promise.resolve(void 0);
      Ie = () => {
        c.then(F);
      };
    };
  var F = () => {
    for (var c; (c = j()); ) {
      try {
        c.h.call(c.g);
      } catch (E) {
        U(E);
      }
      var y = Ot;
      y.j(c), 100 > y.h && (y.h++, (c.next = y.g), (y.g = c));
    }
    ie = !1;
  };
  function X() {
    (this.s = this.s), (this.C = this.C);
  }
  (X.prototype.s = !1),
    (X.prototype.ma = function () {
      this.s || ((this.s = !0), this.N());
    }),
    (X.prototype.N = function () {
      if (this.C) for (; this.C.length; ) this.C.shift()();
    });
  function ye(c, y) {
    (this.type = c), (this.g = this.target = y), (this.defaultPrevented = !1);
  }
  ye.prototype.h = function () {
    this.defaultPrevented = !0;
  };
  var Ce = (function () {
    if (!d.addEventListener || !Object.defineProperty) return !1;
    var c = !1,
      y = Object.defineProperty({}, "passive", {
        get: function () {
          c = !0;
        },
      });
    try {
      const E = () => {};
      d.addEventListener("test", E, y), d.removeEventListener("test", E, y);
    } catch {}
    return c;
  })();
  function Re(c, y) {
    if (
      (ye.call(this, c ? c.type : ""),
      (this.relatedTarget = this.g = this.target = null),
      (this.button =
        this.screenY =
        this.screenX =
        this.clientY =
        this.clientX =
          0),
      (this.key = ""),
      (this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1),
      (this.state = null),
      (this.pointerId = 0),
      (this.pointerType = ""),
      (this.i = null),
      c)
    ) {
      var E = (this.type = c.type),
        S =
          c.changedTouches && c.changedTouches.length
            ? c.changedTouches[0]
            : null;
      if (
        ((this.target = c.target || c.srcElement),
        (this.g = y),
        (y = c.relatedTarget))
      ) {
        if (ne) {
          e: {
            try {
              Y(y.nodeName);
              var B = !0;
              break e;
            } catch {}
            B = !1;
          }
          B || (y = null);
        }
      } else
        E == "mouseover"
          ? (y = c.fromElement)
          : E == "mouseout" && (y = c.toElement);
      (this.relatedTarget = y),
        S
          ? ((this.clientX = S.clientX !== void 0 ? S.clientX : S.pageX),
            (this.clientY = S.clientY !== void 0 ? S.clientY : S.pageY),
            (this.screenX = S.screenX || 0),
            (this.screenY = S.screenY || 0))
          : ((this.clientX = c.clientX !== void 0 ? c.clientX : c.pageX),
            (this.clientY = c.clientY !== void 0 ? c.clientY : c.pageY),
            (this.screenX = c.screenX || 0),
            (this.screenY = c.screenY || 0)),
        (this.button = c.button),
        (this.key = c.key || ""),
        (this.ctrlKey = c.ctrlKey),
        (this.altKey = c.altKey),
        (this.shiftKey = c.shiftKey),
        (this.metaKey = c.metaKey),
        (this.pointerId = c.pointerId || 0),
        (this.pointerType =
          typeof c.pointerType == "string"
            ? c.pointerType
            : Ve[c.pointerType] || ""),
        (this.state = c.state),
        (this.i = c),
        c.defaultPrevented && Re.aa.h.call(this);
    }
  }
  b(Re, ye);
  var Ve = { 2: "touch", 3: "pen", 4: "mouse" };
  Re.prototype.h = function () {
    Re.aa.h.call(this);
    var c = this.i;
    c.preventDefault ? c.preventDefault() : (c.returnValue = !1);
  };
  var Ue = "closure_listenable_" + ((1e6 * Math.random()) | 0),
    Be = 0;
  function We(c, y, E, S, B) {
    (this.listener = c),
      (this.proxy = null),
      (this.src = y),
      (this.type = E),
      (this.capture = !!S),
      (this.ha = B),
      (this.key = ++Be),
      (this.da = this.fa = !1);
  }
  function Rt(c) {
    (c.da = !0),
      (c.listener = null),
      (c.proxy = null),
      (c.src = null),
      (c.ha = null);
  }
  function Mr(c) {
    (this.src = c), (this.g = {}), (this.h = 0);
  }
  Mr.prototype.add = function (c, y, E, S, B) {
    var K = c.toString();
    (c = this.g[K]), c || ((c = this.g[K] = []), this.h++);
    var se = mi(c, y, S, B);
    return (
      -1 < se
        ? ((y = c[se]), E || (y.fa = !1))
        : ((y = new We(y, this.src, K, !!S, B)), (y.fa = E), c.push(y)),
      y
    );
  };
  function go(c, y) {
    var E = y.type;
    if (E in c.g) {
      var S = c.g[E],
        B = Array.prototype.indexOf.call(S, y, void 0),
        K;
      (K = 0 <= B) && Array.prototype.splice.call(S, B, 1),
        K && (Rt(y), c.g[E].length == 0 && (delete c.g[E], c.h--));
    }
  }
  function mi(c, y, E, S) {
    for (var B = 0; B < c.length; ++B) {
      var K = c[B];
      if (!K.da && K.listener == y && K.capture == !!E && K.ha == S) return B;
    }
    return -1;
  }
  var ys = "closure_lm_" + ((1e6 * Math.random()) | 0),
    yo = {};
  function Ba(c, y, E, S, B) {
    if (Array.isArray(y)) {
      for (var K = 0; K < y.length; K++) Ba(c, y[K], E, S, B);
      return null;
    }
    return (
      (E = Ha(E)),
      c && c[Ue] ? c.K(y, E, p(S) ? !!S.capture : !1, B) : za(c, y, E, !1, S, B)
    );
  }
  function za(c, y, E, S, B, K) {
    if (!y) throw Error("Invalid event type");
    var se = p(B) ? !!B.capture : !!B,
      $e = _o(c);
    if (($e || (c[ys] = $e = new Mr(c)), (E = $e.add(y, E, S, se, K)), E.proxy))
      return E;
    if (
      ((S = Fu()),
      (E.proxy = S),
      (S.src = c),
      (S.listener = E),
      c.addEventListener)
    )
      Ce || (B = se),
        B === void 0 && (B = !1),
        c.addEventListener(y.toString(), S, B);
    else if (c.attachEvent) c.attachEvent(Fr(y.toString()), S);
    else if (c.addListener && c.removeListener) c.addListener(S);
    else throw Error("addEventListener and attachEvent are unavailable.");
    return E;
  }
  function Fu() {
    function c(E) {
      return y.call(c.src, c.listener, E);
    }
    const y = $a;
    return c;
  }
  function vo(c, y, E, S, B) {
    if (Array.isArray(y))
      for (var K = 0; K < y.length; K++) vo(c, y[K], E, S, B);
    else
      (S = p(S) ? !!S.capture : !!S),
        (E = Ha(E)),
        c && c[Ue]
          ? ((c = c.i),
            (y = String(y).toString()),
            y in c.g &&
              ((K = c.g[y]),
              (E = mi(K, E, S, B)),
              -1 < E &&
                (Rt(K[E]),
                Array.prototype.splice.call(K, E, 1),
                K.length == 0 && (delete c.g[y], c.h--))))
          : c &&
            (c = _o(c)) &&
            ((y = c.g[y.toString()]),
            (c = -1),
            y && (c = mi(y, E, S, B)),
            (E = -1 < c ? y[c] : null) && Lr(E));
  }
  function Lr(c) {
    if (typeof c != "number" && c && !c.da) {
      var y = c.src;
      if (y && y[Ue]) go(y.i, c);
      else {
        var E = c.type,
          S = c.proxy;
        y.removeEventListener
          ? y.removeEventListener(E, S, c.capture)
          : y.detachEvent
          ? y.detachEvent(Fr(E), S)
          : y.addListener && y.removeListener && y.removeListener(S),
          (E = _o(y))
            ? (go(E, c), E.h == 0 && ((E.src = null), (y[ys] = null)))
            : Rt(c);
      }
    }
  }
  function Fr(c) {
    return c in yo ? yo[c] : (yo[c] = "on" + c);
  }
  function $a(c, y) {
    if (c.da) c = !0;
    else {
      y = new Re(y, this);
      var E = c.listener,
        S = c.ha || c.src;
      c.fa && Lr(c), (c = E.call(S, y));
    }
    return c;
  }
  function _o(c) {
    return (c = c[ys]), c instanceof Mr ? c : null;
  }
  var wo = "__closure_events_fn_" + ((1e9 * Math.random()) >>> 0);
  function Ha(c) {
    return typeof c == "function"
      ? c
      : (c[wo] ||
          (c[wo] = function (y) {
            return c.handleEvent(y);
          }),
        c[wo]);
  }
  function Et() {
    X.call(this), (this.i = new Mr(this)), (this.M = this), (this.F = null);
  }
  b(Et, X),
    (Et.prototype[Ue] = !0),
    (Et.prototype.removeEventListener = function (c, y, E, S) {
      vo(this, c, y, E, S);
    });
  function Tt(c, y) {
    var E,
      S = c.F;
    if (S) for (E = []; S; S = S.F) E.push(S);
    if (((c = c.M), (S = y.type || y), typeof y == "string")) y = new ye(y, c);
    else if (y instanceof ye) y.target = y.target || c;
    else {
      var B = y;
      (y = new ye(S, c)), D(y, B);
    }
    if (((B = !0), E))
      for (var K = E.length - 1; 0 <= K; K--) {
        var se = (y.g = E[K]);
        B = Ur(se, S, !0, y) && B;
      }
    if (
      ((se = y.g = c),
      (B = Ur(se, S, !0, y) && B),
      (B = Ur(se, S, !1, y) && B),
      E)
    )
      for (K = 0; K < E.length; K++)
        (se = y.g = E[K]), (B = Ur(se, S, !1, y) && B);
  }
  (Et.prototype.N = function () {
    if ((Et.aa.N.call(this), this.i)) {
      var c = this.i,
        y;
      for (y in c.g) {
        for (var E = c.g[y], S = 0; S < E.length; S++) Rt(E[S]);
        delete c.g[y], c.h--;
      }
    }
    this.F = null;
  }),
    (Et.prototype.K = function (c, y, E, S) {
      return this.i.add(String(c), y, !1, E, S);
    }),
    (Et.prototype.L = function (c, y, E, S) {
      return this.i.add(String(c), y, !0, E, S);
    });
  function Ur(c, y, E, S) {
    if (((y = c.i.g[String(y)]), !y)) return !0;
    y = y.concat();
    for (var B = !0, K = 0; K < y.length; ++K) {
      var se = y[K];
      if (se && !se.da && se.capture == E) {
        var $e = se.listener,
          Pt = se.ha || se.src;
        se.fa && go(c.i, se), (B = $e.call(Pt, S) !== !1 && B);
      }
    }
    return B && !S.defaultPrevented;
  }
  function Wa(c, y, E) {
    if (typeof c == "function") E && (c = x(c, E));
    else if (c && typeof c.handleEvent == "function") c = x(c.handleEvent, c);
    else throw Error("Invalid listener argument");
    return 2147483647 < Number(y) ? -1 : d.setTimeout(c, y || 0);
  }
  function gi(c) {
    c.g = Wa(() => {
      (c.g = null), c.i && ((c.i = !1), gi(c));
    }, c.l);
    const y = c.h;
    (c.h = null), c.m.apply(null, y);
  }
  class vs extends X {
    constructor(y, E) {
      super(),
        (this.m = y),
        (this.l = E),
        (this.h = null),
        (this.i = !1),
        (this.g = null);
    }
    j(y) {
      (this.h = arguments), this.g ? (this.i = !0) : gi(this);
    }
    N() {
      super.N(),
        this.g &&
          (d.clearTimeout(this.g),
          (this.g = null),
          (this.i = !1),
          (this.h = null));
    }
  }
  function _s(c) {
    X.call(this), (this.h = c), (this.g = {});
  }
  b(_s, X);
  var qa = [];
  function Ga(c) {
    oe(
      c.g,
      function (y, E) {
        this.g.hasOwnProperty(E) && Lr(y);
      },
      c
    ),
      (c.g = {});
  }
  (_s.prototype.N = function () {
    _s.aa.N.call(this), Ga(this);
  }),
    (_s.prototype.handleEvent = function () {
      throw Error("EventHandler.handleEvent not implemented");
    });
  var Ka = d.JSON.stringify,
    Qa = d.JSON.parse,
    Xa = class {
      stringify(c) {
        return d.JSON.stringify(c, void 0);
      }
      parse(c) {
        return d.JSON.parse(c, void 0);
      }
    };
  function ws() {}
  ws.prototype.h = null;
  function xo(c) {
    return c.h || (c.h = c.i());
  }
  function Eo() {}
  var Rn = { OPEN: "a", kb: "b", Ja: "c", wb: "d" };
  function lr() {
    ye.call(this, "d");
  }
  b(lr, ye);
  function To() {
    ye.call(this, "c");
  }
  b(To, ye);
  var ur = {},
    Ya = null;
  function xs() {
    return (Ya = Ya || new Et());
  }
  ur.La = "serverreachability";
  function Ja(c) {
    ye.call(this, ur.La, c);
  }
  b(Ja, ye);
  function Br(c) {
    const y = xs();
    Tt(y, new Ja(y));
  }
  ur.STAT_EVENT = "statevent";
  function Za(c, y) {
    ye.call(this, ur.STAT_EVENT, c), (this.stat = y);
  }
  b(Za, ye);
  function ct(c) {
    const y = xs();
    Tt(y, new Za(y, c));
  }
  ur.Ma = "timingevent";
  function Po(c, y) {
    ye.call(this, ur.Ma, c), (this.size = y);
  }
  b(Po, ye);
  function Hn(c, y) {
    if (typeof c != "function")
      throw Error("Fn must not be null and must be a function");
    return d.setTimeout(function () {
      c();
    }, y);
  }
  function Es() {
    this.g = !0;
  }
  Es.prototype.xa = function () {
    this.g = !1;
  };
  function Ts(c, y, E, S, B, K) {
    c.info(function () {
      if (c.g)
        if (K)
          for (var se = "", $e = K.split("&"), Pt = 0; Pt < $e.length; Pt++) {
            var Oe = $e[Pt].split("=");
            if (1 < Oe.length) {
              var kt = Oe[0];
              Oe = Oe[1];
              var gt = kt.split("_");
              se =
                2 <= gt.length && gt[1] == "type"
                  ? se + (kt + "=" + Oe + "&")
                  : se + (kt + "=redacted&");
            }
          }
        else se = null;
      else se = K;
      return (
        "XMLHTTP REQ (" +
        S +
        ") [attempt " +
        B +
        "]: " +
        y +
        `
` +
        E +
        `
` +
        se
      );
    });
  }
  function So(c, y, E, S, B, K, se) {
    c.info(function () {
      return (
        "XMLHTTP RESP (" +
        S +
        ") [ attempt " +
        B +
        "]: " +
        y +
        `
` +
        E +
        `
` +
        K +
        " " +
        se
      );
    });
  }
  function Wn(c, y, E, S) {
    c.info(function () {
      return "XMLHTTP TEXT (" + y + "): " + jh(c, E) + (S ? " " + S : "");
    });
  }
  function el(c, y) {
    c.info(function () {
      return "TIMEOUT: " + y;
    });
  }
  Es.prototype.info = function () {};
  function jh(c, y) {
    if (!c.g) return y;
    if (!y) return null;
    try {
      var E = JSON.parse(y);
      if (E) {
        for (c = 0; c < E.length; c++)
          if (Array.isArray(E[c])) {
            var S = E[c];
            if (!(2 > S.length)) {
              var B = S[1];
              if (Array.isArray(B) && !(1 > B.length)) {
                var K = B[0];
                if (K != "noop" && K != "stop" && K != "close")
                  for (var se = 1; se < B.length; se++) B[se] = "";
              }
            }
          }
      }
      return Ka(E);
    } catch {
      return y;
    }
  }
  var Io = {
      NO_ERROR: 0,
      gb: 1,
      tb: 2,
      sb: 3,
      nb: 4,
      rb: 5,
      ub: 6,
      Ia: 7,
      TIMEOUT: 8,
      xb: 9,
    },
    Uu = {
      lb: "complete",
      Hb: "success",
      Ja: "error",
      Ia: "abort",
      zb: "ready",
      Ab: "readystatechange",
      TIMEOUT: "timeout",
      vb: "incrementaldata",
      yb: "progress",
      ob: "downloadprogress",
      Pb: "uploadprogress",
    },
    qn;
  function Ps() {}
  b(Ps, ws),
    (Ps.prototype.g = function () {
      return new XMLHttpRequest();
    }),
    (Ps.prototype.i = function () {
      return {};
    }),
    (qn = new Ps());
  function Gn(c, y, E, S) {
    (this.j = c),
      (this.i = y),
      (this.l = E),
      (this.R = S || 1),
      (this.U = new _s(this)),
      (this.I = 45e3),
      (this.H = null),
      (this.o = !1),
      (this.m = this.A = this.v = this.L = this.F = this.S = this.B = null),
      (this.D = []),
      (this.g = null),
      (this.C = 0),
      (this.s = this.u = null),
      (this.X = -1),
      (this.J = !1),
      (this.O = 0),
      (this.M = null),
      (this.W = this.K = this.T = this.P = !1),
      (this.h = new Bu());
  }
  function Bu() {
    (this.i = null), (this.g = ""), (this.h = !1);
  }
  var tl = {},
    bo = {};
  function Co(c, y, E) {
    (c.L = 1), (c.v = xi(xn(y))), (c.m = E), (c.P = !0), nl(c, null);
  }
  function nl(c, y) {
    (c.F = Date.now()), qe(c), (c.A = xn(c.v));
    var E = c.A,
      S = c.R;
    Array.isArray(S) || (S = [String(S)]),
      Ti(E.i, "t", S),
      (c.C = 0),
      (E = c.j.J),
      (c.h = new Bu()),
      (c.g = sc(c.j, E ? y : null, !c.m)),
      0 < c.O && (c.M = new vs(x(c.Y, c, c.g), c.O)),
      (y = c.U),
      (E = c.g),
      (S = c.ca);
    var B = "readystatechange";
    Array.isArray(B) || (B && (qa[0] = B.toString()), (B = qa));
    for (var K = 0; K < B.length; K++) {
      var se = Ba(E, B[K], S || y.handleEvent, !1, y.h || y);
      if (!se) break;
      y.g[se.key] = se;
    }
    (y = c.H ? I(c.H) : {}),
      c.m
        ? (c.u || (c.u = "POST"),
          (y["Content-Type"] = "application/x-www-form-urlencoded"),
          c.g.ea(c.A, c.u, c.m, y))
        : ((c.u = "GET"), c.g.ea(c.A, c.u, null, y)),
      Br(),
      Ts(c.i, c.u, c.A, c.l, c.R, c.m);
  }
  (Gn.prototype.ca = function (c) {
    c = c.target;
    const y = this.M;
    y && cn(c) == 3 ? y.j() : this.Y(c);
  }),
    (Gn.prototype.Y = function (c) {
      try {
        if (c == this.g)
          e: {
            const gt = cn(this.g);
            var y = this.g.Ba();
            const jn = this.g.Z();
            if (
              !(3 > gt) &&
              (gt != 3 || (this.g && (this.h.h || this.g.oa() || ll(this.g))))
            ) {
              this.J ||
                gt != 4 ||
                y == 7 ||
                (y == 8 || 0 >= jn ? Br(3) : Br(2)),
                Ss(this);
              var E = this.g.Z();
              this.X = E;
              t: if (zu(this)) {
                var S = ll(this.g);
                c = "";
                var B = S.length,
                  K = cn(this.g) == 4;
                if (!this.h.i) {
                  if (typeof TextDecoder > "u") {
                    kn(this), yi(this);
                    var se = "";
                    break t;
                  }
                  this.h.i = new d.TextDecoder();
                }
                for (y = 0; y < B; y++)
                  (this.h.h = !0),
                    (c += this.h.i.decode(S[y], {
                      stream: !(K && y == B - 1),
                    }));
                (S.length = 0), (this.h.g += c), (this.C = 0), (se = this.h.g);
              } else se = this.g.oa();
              if (
                ((this.o = E == 200),
                So(this.i, this.u, this.A, this.l, this.R, gt, E),
                this.o)
              ) {
                if (this.T && !this.K) {
                  t: {
                    if (this.g) {
                      var $e,
                        Pt = this.g;
                      if (
                        ($e = Pt.g
                          ? Pt.g.getResponseHeader("X-HTTP-Initial-Response")
                          : null) &&
                        !G($e)
                      ) {
                        var Oe = $e;
                        break t;
                      }
                    }
                    Oe = null;
                  }
                  if ((E = Oe))
                    Wn(
                      this.i,
                      this.l,
                      E,
                      "Initial handshake response via X-HTTP-Initial-Response"
                    ),
                      (this.K = !0),
                      rl(this, E);
                  else {
                    (this.o = !1), (this.s = 3), ct(12), kn(this), yi(this);
                    break e;
                  }
                }
                if (this.P) {
                  E = !0;
                  let Tn;
                  for (; !this.J && this.C < se.length; )
                    if (((Tn = Dh(this, se)), Tn == bo)) {
                      gt == 4 && ((this.s = 4), ct(14), (E = !1)),
                        Wn(this.i, this.l, null, "[Incomplete Response]");
                      break;
                    } else if (Tn == tl) {
                      (this.s = 4),
                        ct(15),
                        Wn(this.i, this.l, se, "[Invalid Chunk]"),
                        (E = !1);
                      break;
                    } else Wn(this.i, this.l, Tn, null), rl(this, Tn);
                  if (
                    (zu(this) &&
                      this.C != 0 &&
                      ((this.h.g = this.h.g.slice(this.C)), (this.C = 0)),
                    gt != 4 ||
                      se.length != 0 ||
                      this.h.h ||
                      ((this.s = 1), ct(16), (E = !1)),
                    (this.o = this.o && E),
                    !E)
                  )
                    Wn(this.i, this.l, se, "[Invalid Chunked Response]"),
                      kn(this),
                      yi(this);
                  else if (0 < se.length && !this.W) {
                    this.W = !0;
                    var kt = this.j;
                    kt.g == this &&
                      kt.ba &&
                      !kt.M &&
                      (kt.j.info(
                        "Great, no buffering proxy detected. Bytes received: " +
                          se.length
                      ),
                      cl(kt),
                      (kt.M = !0),
                      ct(11));
                  }
                } else Wn(this.i, this.l, se, null), rl(this, se);
                gt == 4 && kn(this),
                  this.o &&
                    !this.J &&
                    (gt == 4 ? Fo(this.j, this) : ((this.o = !1), qe(this)));
              } else
                Do(this.g),
                  E == 400 && 0 < se.indexOf("Unknown SID")
                    ? ((this.s = 3), ct(12))
                    : ((this.s = 0), ct(13)),
                  kn(this),
                  yi(this);
            }
          }
      } catch {
      } finally {
      }
    });
  function zu(c) {
    return c.g ? c.u == "GET" && c.L != 2 && c.j.Ca : !1;
  }
  function Dh(c, y) {
    var E = c.C,
      S = y.indexOf(
        `
`,
        E
      );
    return S == -1
      ? bo
      : ((E = Number(y.substring(E, S))),
        isNaN(E)
          ? tl
          : ((S += 1),
            S + E > y.length
              ? bo
              : ((y = y.slice(S, S + E)), (c.C = S + E), y)));
  }
  Gn.prototype.cancel = function () {
    (this.J = !0), kn(this);
  };
  function qe(c) {
    (c.S = Date.now() + c.I), $u(c, c.I);
  }
  function $u(c, y) {
    if (c.B != null) throw Error("WatchDog timer not null");
    c.B = Hn(x(c.ba, c), y);
  }
  function Ss(c) {
    c.B && (d.clearTimeout(c.B), (c.B = null));
  }
  Gn.prototype.ba = function () {
    this.B = null;
    const c = Date.now();
    0 <= c - this.S
      ? (el(this.i, this.A),
        this.L != 2 && (Br(), ct(17)),
        kn(this),
        (this.s = 2),
        yi(this))
      : $u(this, this.S - c);
  };
  function yi(c) {
    c.j.G == 0 || c.J || Fo(c.j, c);
  }
  function kn(c) {
    Ss(c);
    var y = c.M;
    y && typeof y.ma == "function" && y.ma(),
      (c.M = null),
      Ga(c.U),
      c.g && ((y = c.g), (c.g = null), y.abort(), y.ma());
  }
  function rl(c, y) {
    try {
      var E = c.j;
      if (E.G != 0 && (E.g == c || nn(E.h, c))) {
        if (!c.K && nn(E.h, c) && E.G == 3) {
          try {
            var S = E.Da.g.parse(y);
          } catch {
            S = null;
          }
          if (Array.isArray(S) && S.length == 3) {
            var B = S;
            if (B[0] == 0) {
              e: if (!E.u) {
                if (E.g)
                  if (E.g.F + 3e3 < c.F) Lo(E), Jn(E);
                  else break e;
                Mo(E), ct(18);
              }
            } else
              (E.za = B[1]),
                0 < E.za - E.T &&
                  37500 > B[2] &&
                  E.F &&
                  E.v == 0 &&
                  !E.C &&
                  (E.C = Hn(x(E.Za, E), 6e3));
            if (1 >= Wu(E.h) && E.ca) {
              try {
                E.ca();
              } catch {}
              E.ca = void 0;
            }
          } else qr(E, 11);
        } else if (((c.K || E.g == c) && Lo(E), !G(y)))
          for (B = E.Da.g.parse(y), y = 0; y < B.length; y++) {
            let Oe = B[y];
            if (((E.T = Oe[0]), (Oe = Oe[1]), E.G == 2))
              if (Oe[0] == "c") {
                (E.K = Oe[1]), (E.ia = Oe[2]);
                const kt = Oe[3];
                kt != null && ((E.la = kt), E.j.info("VER=" + E.la));
                const gt = Oe[4];
                gt != null && ((E.Aa = gt), E.j.info("SVER=" + E.Aa));
                const jn = Oe[5];
                jn != null &&
                  typeof jn == "number" &&
                  0 < jn &&
                  ((S = 1.5 * jn),
                  (E.L = S),
                  E.j.info("backChannelRequestTimeoutMs_=" + S)),
                  (S = E);
                const Tn = c.g;
                if (Tn) {
                  const Ns = Tn.g
                    ? Tn.g.getResponseHeader("X-Client-Wire-Protocol")
                    : null;
                  if (Ns) {
                    var K = S.h;
                    K.g ||
                      (Ns.indexOf("spdy") == -1 &&
                        Ns.indexOf("quic") == -1 &&
                        Ns.indexOf("h2") == -1) ||
                      ((K.j = K.l),
                      (K.g = new Set()),
                      K.h && (il(K, K.h), (K.h = null)));
                  }
                  if (S.D) {
                    const Bo = Tn.g
                      ? Tn.g.getResponseHeader("X-HTTP-Session-Id")
                      : null;
                    Bo && ((S.ya = Bo), He(S.I, S.D, Bo));
                  }
                }
                (E.G = 3),
                  E.l && E.l.ua(),
                  E.ba &&
                    ((E.R = Date.now() - c.F),
                    E.j.info("Handshake RTT: " + E.R + "ms")),
                  (S = E);
                var se = c;
                if (((S.qa = ic(S, S.J ? S.ia : null, S.W)), se.K)) {
                  qu(S.h, se);
                  var $e = se,
                    Pt = S.L;
                  Pt && ($e.I = Pt), $e.B && (Ss($e), qe($e)), (S.g = se);
                } else ks(S);
                0 < E.i.length && fr(E);
              } else (Oe[0] != "stop" && Oe[0] != "close") || qr(E, 7);
            else
              E.G == 3 &&
                (Oe[0] == "stop" || Oe[0] == "close"
                  ? Oe[0] == "stop"
                    ? qr(E, 7)
                    : Ft(E)
                  : Oe[0] != "noop" && E.l && E.l.ta(Oe),
                (E.v = 0));
          }
      }
      Br(4);
    } catch {}
  }
  var Hu = class {
    constructor(c, y) {
      (this.g = c), (this.map = y);
    }
  };
  function Is(c) {
    (this.l = c || 10),
      d.PerformanceNavigationTiming
        ? ((c = d.performance.getEntriesByType("navigation")),
          (c =
            0 < c.length &&
            (c[0].nextHopProtocol == "hq" || c[0].nextHopProtocol == "h2")))
        : (c = !!(
            d.chrome &&
            d.chrome.loadTimes &&
            d.chrome.loadTimes() &&
            d.chrome.loadTimes().wasFetchedViaSpdy
          )),
      (this.j = c ? this.l : 1),
      (this.g = null),
      1 < this.j && (this.g = new Set()),
      (this.h = null),
      (this.i = []);
  }
  function wn(c) {
    return c.h ? !0 : c.g ? c.g.size >= c.j : !1;
  }
  function Wu(c) {
    return c.h ? 1 : c.g ? c.g.size : 0;
  }
  function nn(c, y) {
    return c.h ? c.h == y : c.g ? c.g.has(y) : !1;
  }
  function il(c, y) {
    c.g ? c.g.add(y) : (c.h = y);
  }
  function qu(c, y) {
    c.h && c.h == y ? (c.h = null) : c.g && c.g.has(y) && c.g.delete(y);
  }
  Is.prototype.cancel = function () {
    if (((this.i = Gu(this)), this.h)) this.h.cancel(), (this.h = null);
    else if (this.g && this.g.size !== 0) {
      for (const c of this.g.values()) c.cancel();
      this.g.clear();
    }
  };
  function Gu(c) {
    if (c.h != null) return c.i.concat(c.h.D);
    if (c.g != null && c.g.size !== 0) {
      let y = c.i;
      for (const E of c.g.values()) y = y.concat(E.D);
      return y;
    }
    return N(c.i);
  }
  function Ao(c) {
    if (c.V && typeof c.V == "function") return c.V();
    if (
      (typeof Map < "u" && c instanceof Map) ||
      (typeof Set < "u" && c instanceof Set)
    )
      return Array.from(c.values());
    if (typeof c == "string") return c.split("");
    if (f(c)) {
      for (var y = [], E = c.length, S = 0; S < E; S++) y.push(c[S]);
      return y;
    }
    (y = []), (E = 0);
    for (S in c) y[E++] = c[S];
    return y;
  }
  function Ro(c) {
    if (c.na && typeof c.na == "function") return c.na();
    if (!c.V || typeof c.V != "function") {
      if (typeof Map < "u" && c instanceof Map) return Array.from(c.keys());
      if (!(typeof Set < "u" && c instanceof Set)) {
        if (f(c) || typeof c == "string") {
          var y = [];
          c = c.length;
          for (var E = 0; E < c; E++) y.push(E);
          return y;
        }
        (y = []), (E = 0);
        for (const S in c) y[E++] = S;
        return y;
      }
    }
  }
  function vi(c, y) {
    if (c.forEach && typeof c.forEach == "function") c.forEach(y, void 0);
    else if (f(c) || typeof c == "string")
      Array.prototype.forEach.call(c, y, void 0);
    else
      for (var E = Ro(c), S = Ao(c), B = S.length, K = 0; K < B; K++)
        y.call(void 0, S[K], E && E[K], c);
  }
  var bs = RegExp(
    "^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"
  );
  function Vh(c, y) {
    if (c) {
      c = c.split("&");
      for (var E = 0; E < c.length; E++) {
        var S = c[E].indexOf("="),
          B = null;
        if (0 <= S) {
          var K = c[E].substring(0, S);
          B = c[E].substring(S + 1);
        } else K = c[E];
        y(K, B ? decodeURIComponent(B.replace(/\+/g, " ")) : "");
      }
    }
  }
  function zr(c) {
    if (
      ((this.g = this.o = this.j = ""),
      (this.s = null),
      (this.m = this.l = ""),
      (this.h = !1),
      c instanceof zr)
    ) {
      (this.h = c.h),
        Cs(this, c.j),
        (this.o = c.o),
        (this.g = c.g),
        _i(this, c.s),
        (this.l = c.l);
      var y = c.i,
        E = new cr();
      (E.i = y.i),
        y.g && ((E.g = new Map(y.g)), (E.h = y.h)),
        wi(this, E),
        (this.m = c.m);
    } else
      c && (y = String(c).match(bs))
        ? ((this.h = !1),
          Cs(this, y[1] || "", !0),
          (this.o = De(y[2] || "")),
          (this.g = De(y[3] || "", !0)),
          _i(this, y[4]),
          (this.l = De(y[5] || "", !0)),
          wi(this, y[6] || "", !0),
          (this.m = De(y[7] || "")))
        : ((this.h = !1), (this.i = new cr(null, this.h)));
  }
  zr.prototype.toString = function () {
    var c = [],
      y = this.j;
    y && c.push(Ei(y, ko, !0), ":");
    var E = this.g;
    return (
      (E || y == "file") &&
        (c.push("//"),
        (y = this.o) && c.push(Ei(y, ko, !0), "@"),
        c.push(
          encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")
        ),
        (E = this.s),
        E != null && c.push(":", String(E))),
      (E = this.l) &&
        (this.g && E.charAt(0) != "/" && c.push("/"),
        c.push(Ei(E, E.charAt(0) == "/" ? Xu : Qu, !0))),
      (E = this.i.toString()) && c.push("?", E),
      (E = this.m) && c.push("#", Ei(E, sl)),
      c.join("")
    );
  };
  function xn(c) {
    return new zr(c);
  }
  function Cs(c, y, E) {
    (c.j = E ? De(y, !0) : y), c.j && (c.j = c.j.replace(/:$/, ""));
  }
  function _i(c, y) {
    if (y) {
      if (((y = Number(y)), isNaN(y) || 0 > y))
        throw Error("Bad port number " + y);
      c.s = y;
    } else c.s = null;
  }
  function wi(c, y, E) {
    y instanceof cr
      ? ((c.i = y), dr(c.i, c.h))
      : (E || (y = Ei(y, Yu)), (c.i = new cr(y, c.h)));
  }
  function He(c, y, E) {
    c.i.set(y, E);
  }
  function xi(c) {
    return (
      He(
        c,
        "zx",
        Math.floor(2147483648 * Math.random()).toString(36) +
          Math.abs(
            Math.floor(2147483648 * Math.random()) ^ Date.now()
          ).toString(36)
      ),
      c
    );
  }
  function De(c, y) {
    return c
      ? y
        ? decodeURI(c.replace(/%25/g, "%2525"))
        : decodeURIComponent(c)
      : "";
  }
  function Ei(c, y, E) {
    return typeof c == "string"
      ? ((c = encodeURI(c).replace(y, Ku)),
        E && (c = c.replace(/%25([0-9a-fA-F]{2})/g, "%$1")),
        c)
      : null;
  }
  function Ku(c) {
    return (
      (c = c.charCodeAt(0)),
      "%" + ((c >> 4) & 15).toString(16) + (c & 15).toString(16)
    );
  }
  var ko = /[#\/\?@]/g,
    Qu = /[#\?:]/g,
    Xu = /[#\?]/g,
    Yu = /[#\?@]/g,
    sl = /#/g;
  function cr(c, y) {
    (this.h = this.g = null), (this.i = c || null), (this.j = !!y);
  }
  function Lt(c) {
    c.g ||
      ((c.g = new Map()),
      (c.h = 0),
      c.i &&
        Vh(c.i, function (y, E) {
          c.add(decodeURIComponent(y.replace(/\+/g, " ")), E);
        }));
  }
  (t = cr.prototype),
    (t.add = function (c, y) {
      Lt(this), (this.i = null), (c = Nn(this, c));
      var E = this.g.get(c);
      return E || this.g.set(c, (E = [])), E.push(y), (this.h += 1), this;
    });
  function Kn(c, y) {
    Lt(c),
      (y = Nn(c, y)),
      c.g.has(y) && ((c.i = null), (c.h -= c.g.get(y).length), c.g.delete(y));
  }
  function Qn(c, y) {
    return Lt(c), (y = Nn(c, y)), c.g.has(y);
  }
  (t.forEach = function (c, y) {
    Lt(this),
      this.g.forEach(function (E, S) {
        E.forEach(function (B) {
          c.call(y, B, S, this);
        }, this);
      }, this);
  }),
    (t.na = function () {
      Lt(this);
      const c = Array.from(this.g.values()),
        y = Array.from(this.g.keys()),
        E = [];
      for (let S = 0; S < y.length; S++) {
        const B = c[S];
        for (let K = 0; K < B.length; K++) E.push(y[S]);
      }
      return E;
    }),
    (t.V = function (c) {
      Lt(this);
      let y = [];
      if (typeof c == "string")
        Qn(this, c) && (y = y.concat(this.g.get(Nn(this, c))));
      else {
        c = Array.from(this.g.values());
        for (let E = 0; E < c.length; E++) y = y.concat(c[E]);
      }
      return y;
    }),
    (t.set = function (c, y) {
      return (
        Lt(this),
        (this.i = null),
        (c = Nn(this, c)),
        Qn(this, c) && (this.h -= this.g.get(c).length),
        this.g.set(c, [y]),
        (this.h += 1),
        this
      );
    }),
    (t.get = function (c, y) {
      return c ? ((c = this.V(c)), 0 < c.length ? String(c[0]) : y) : y;
    });
  function Ti(c, y, E) {
    Kn(c, y),
      0 < E.length &&
        ((c.i = null), c.g.set(Nn(c, y), N(E)), (c.h += E.length));
  }
  t.toString = function () {
    if (this.i) return this.i;
    if (!this.g) return "";
    const c = [],
      y = Array.from(this.g.keys());
    for (var E = 0; E < y.length; E++) {
      var S = y[E];
      const K = encodeURIComponent(String(S)),
        se = this.V(S);
      for (S = 0; S < se.length; S++) {
        var B = K;
        se[S] !== "" && (B += "=" + encodeURIComponent(String(se[S]))),
          c.push(B);
      }
    }
    return (this.i = c.join("&"));
  };
  function Nn(c, y) {
    return (y = String(y)), c.j && (y = y.toLowerCase()), y;
  }
  function dr(c, y) {
    y &&
      !c.j &&
      (Lt(c),
      (c.i = null),
      c.g.forEach(function (E, S) {
        var B = S.toLowerCase();
        S != B && (Kn(this, S), Ti(this, B, E));
      }, c)),
      (c.j = y);
  }
  function Oh(c, y) {
    const E = new Es();
    if (d.Image) {
      const S = new Image();
      (S.onload = P(un, E, "TestLoadImage: loaded", !0, y, S)),
        (S.onerror = P(un, E, "TestLoadImage: error", !1, y, S)),
        (S.onabort = P(un, E, "TestLoadImage: abort", !1, y, S)),
        (S.ontimeout = P(un, E, "TestLoadImage: timeout", !1, y, S)),
        d.setTimeout(function () {
          S.ontimeout && S.ontimeout();
        }, 1e4),
        (S.src = c);
    } else y(!1);
  }
  function Ju(c, y) {
    const E = new Es(),
      S = new AbortController(),
      B = setTimeout(() => {
        S.abort(), un(E, "TestPingServer: timeout", !1, y);
      }, 1e4);
    fetch(c, { signal: S.signal })
      .then((K) => {
        clearTimeout(B),
          K.ok
            ? un(E, "TestPingServer: ok", !0, y)
            : un(E, "TestPingServer: server error", !1, y);
      })
      .catch(() => {
        clearTimeout(B), un(E, "TestPingServer: error", !1, y);
      });
  }
  function un(c, y, E, S, B) {
    try {
      B &&
        ((B.onload = null),
        (B.onerror = null),
        (B.onabort = null),
        (B.ontimeout = null)),
        S(E);
    } catch {}
  }
  function Mh() {
    this.g = new Xa();
  }
  function Zu(c, y, E) {
    const S = E || "";
    try {
      vi(c, function (B, K) {
        let se = B;
        p(B) && (se = Ka(B)), y.push(S + K + "=" + encodeURIComponent(se));
      });
    } catch (B) {
      throw (y.push(S + "type=" + encodeURIComponent("_badmap")), B);
    }
  }
  function $r(c) {
    (this.l = c.Ub || null), (this.j = c.eb || !1);
  }
  b($r, ws),
    ($r.prototype.g = function () {
      return new As(this.l, this.j);
    }),
    ($r.prototype.i = (function (c) {
      return function () {
        return c;
      };
    })({}));
  function As(c, y) {
    Et.call(this),
      (this.D = c),
      (this.o = y),
      (this.m = void 0),
      (this.status = this.readyState = 0),
      (this.responseType =
        this.responseText =
        this.response =
        this.statusText =
          ""),
      (this.onreadystatechange = null),
      (this.u = new Headers()),
      (this.h = null),
      (this.B = "GET"),
      (this.A = ""),
      (this.g = !1),
      (this.v = this.j = this.l = null);
  }
  b(As, Et),
    (t = As.prototype),
    (t.open = function (c, y) {
      if (this.readyState != 0)
        throw (this.abort(), Error("Error reopening a connection"));
      (this.B = c), (this.A = y), (this.readyState = 1), Yn(this);
    }),
    (t.send = function (c) {
      if (this.readyState != 1)
        throw (this.abort(), Error("need to call open() first. "));
      this.g = !0;
      const y = {
        headers: this.u,
        method: this.B,
        credentials: this.m,
        cache: void 0,
      };
      c && (y.body = c),
        (this.D || d)
          .fetch(new Request(this.A, y))
          .then(this.Sa.bind(this), this.ga.bind(this));
    }),
    (t.abort = function () {
      (this.response = this.responseText = ""),
        (this.u = new Headers()),
        (this.status = 0),
        this.j && this.j.cancel("Request was aborted.").catch(() => {}),
        1 <= this.readyState &&
          this.g &&
          this.readyState != 4 &&
          ((this.g = !1), Xn(this)),
        (this.readyState = 0);
    }),
    (t.Sa = function (c) {
      if (
        this.g &&
        ((this.l = c),
        this.h ||
          ((this.status = this.l.status),
          (this.statusText = this.l.statusText),
          (this.h = c.headers),
          (this.readyState = 2),
          Yn(this)),
        this.g && ((this.readyState = 3), Yn(this), this.g))
      )
        if (this.responseType === "arraybuffer")
          c.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));
        else if (typeof d.ReadableStream < "u" && "body" in c) {
          if (((this.j = c.body.getReader()), this.o)) {
            if (this.responseType)
              throw Error(
                'responseType must be empty for "streamBinaryChunks" mode responses.'
              );
            this.response = [];
          } else
            (this.response = this.responseText = ""),
              (this.v = new TextDecoder());
          ec(this);
        } else c.text().then(this.Ra.bind(this), this.ga.bind(this));
    });
  function ec(c) {
    c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c));
  }
  (t.Pa = function (c) {
    if (this.g) {
      if (this.o && c.value) this.response.push(c.value);
      else if (!this.o) {
        var y = c.value ? c.value : new Uint8Array(0);
        (y = this.v.decode(y, { stream: !c.done })) &&
          (this.response = this.responseText += y);
      }
      c.done ? Xn(this) : Yn(this), this.readyState == 3 && ec(this);
    }
  }),
    (t.Ra = function (c) {
      this.g && ((this.response = this.responseText = c), Xn(this));
    }),
    (t.Qa = function (c) {
      this.g && ((this.response = c), Xn(this));
    }),
    (t.ga = function () {
      this.g && Xn(this);
    });
  function Xn(c) {
    (c.readyState = 4), (c.l = null), (c.j = null), (c.v = null), Yn(c);
  }
  (t.setRequestHeader = function (c, y) {
    this.u.append(c, y);
  }),
    (t.getResponseHeader = function (c) {
      return (this.h && this.h.get(c.toLowerCase())) || "";
    }),
    (t.getAllResponseHeaders = function () {
      if (!this.h) return "";
      const c = [],
        y = this.h.entries();
      for (var E = y.next(); !E.done; )
        (E = E.value), c.push(E[0] + ": " + E[1]), (E = y.next());
      return c.join(`\r
`);
    });
  function Yn(c) {
    c.onreadystatechange && c.onreadystatechange.call(c);
  }
  Object.defineProperty(As.prototype, "withCredentials", {
    get: function () {
      return this.m === "include";
    },
    set: function (c) {
      this.m = c ? "include" : "same-origin";
    },
  });
  function Hr(c) {
    let y = "";
    return (
      oe(c, function (E, S) {
        (y += S),
          (y += ":"),
          (y += E),
          (y += `\r
`);
      }),
      y
    );
  }
  function Pi(c, y, E) {
    e: {
      for (S in E) {
        var S = !1;
        break e;
      }
      S = !0;
    }
    S ||
      ((E = Hr(E)),
      typeof c == "string"
        ? E != null && encodeURIComponent(String(E))
        : He(c, y, E));
  }
  function Je(c) {
    Et.call(this),
      (this.headers = new Map()),
      (this.o = c || null),
      (this.h = !1),
      (this.v = this.g = null),
      (this.D = ""),
      (this.m = 0),
      (this.l = ""),
      (this.j = this.B = this.u = this.A = !1),
      (this.I = null),
      (this.H = ""),
      (this.J = !1);
  }
  b(Je, Et);
  var Lh = /^https?$/i,
    ol = ["POST", "PUT"];
  (t = Je.prototype),
    (t.Ha = function (c) {
      this.J = c;
    }),
    (t.ea = function (c, y, E, S) {
      if (this.g)
        throw Error(
          "[goog.net.XhrIo] Object is active with another request=" +
            this.D +
            "; newUri=" +
            c
        );
      (y = y ? y.toUpperCase() : "GET"),
        (this.D = c),
        (this.l = ""),
        (this.m = 0),
        (this.A = !1),
        (this.h = !0),
        (this.g = this.o ? this.o.g() : qn.g()),
        (this.v = this.o ? xo(this.o) : xo(qn)),
        (this.g.onreadystatechange = x(this.Ea, this));
      try {
        (this.B = !0), this.g.open(y, String(c), !0), (this.B = !1);
      } catch (K) {
        Rs(this, K);
        return;
      }
      if (((c = E || ""), (E = new Map(this.headers)), S))
        if (Object.getPrototypeOf(S) === Object.prototype)
          for (var B in S) E.set(B, S[B]);
        else if (typeof S.keys == "function" && typeof S.get == "function")
          for (const K of S.keys()) E.set(K, S.get(K));
        else throw Error("Unknown input type for opt_headers: " + String(S));
      (S = Array.from(E.keys()).find((K) => K.toLowerCase() == "content-type")),
        (B = d.FormData && c instanceof d.FormData),
        !(0 <= Array.prototype.indexOf.call(ol, y, void 0)) ||
          S ||
          B ||
          E.set(
            "Content-Type",
            "application/x-www-form-urlencoded;charset=utf-8"
          );
      for (const [K, se] of E) this.g.setRequestHeader(K, se);
      this.H && (this.g.responseType = this.H),
        "withCredentials" in this.g &&
          this.g.withCredentials !== this.J &&
          (this.g.withCredentials = this.J);
      try {
        jo(this), (this.u = !0), this.g.send(c), (this.u = !1);
      } catch (K) {
        Rs(this, K);
      }
    });
  function Rs(c, y) {
    (c.h = !1),
      c.g && ((c.j = !0), c.g.abort(), (c.j = !1)),
      (c.l = y),
      (c.m = 5),
      No(c),
      En(c);
  }
  function No(c) {
    c.A || ((c.A = !0), Tt(c, "complete"), Tt(c, "error"));
  }
  (t.abort = function (c) {
    this.g &&
      this.h &&
      ((this.h = !1),
      (this.j = !0),
      this.g.abort(),
      (this.j = !1),
      (this.m = c || 7),
      Tt(this, "complete"),
      Tt(this, "abort"),
      En(this));
  }),
    (t.N = function () {
      this.g &&
        (this.h &&
          ((this.h = !1), (this.j = !0), this.g.abort(), (this.j = !1)),
        En(this, !0)),
        Je.aa.N.call(this);
    }),
    (t.Ea = function () {
      this.s || (this.B || this.u || this.j ? al(this) : this.bb());
    }),
    (t.bb = function () {
      al(this);
    });
  function al(c) {
    if (c.h && typeof l < "u" && (!c.v[1] || cn(c) != 4 || c.Z() != 2)) {
      if (c.u && cn(c) == 4) Wa(c.Ea, 0, c);
      else if ((Tt(c, "readystatechange"), cn(c) == 4)) {
        c.h = !1;
        try {
          const se = c.Z();
          e: switch (se) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var y = !0;
              break e;
            default:
              y = !1;
          }
          var E;
          if (!(E = y)) {
            var S;
            if ((S = se === 0)) {
              var B = String(c.D).match(bs)[1] || null;
              !B &&
                d.self &&
                d.self.location &&
                (B = d.self.location.protocol.slice(0, -1)),
                (S = !Lh.test(B ? B.toLowerCase() : ""));
            }
            E = S;
          }
          if (E) Tt(c, "complete"), Tt(c, "success");
          else {
            c.m = 6;
            try {
              var K = 2 < cn(c) ? c.g.statusText : "";
            } catch {
              K = "";
            }
            (c.l = K + " [" + c.Z() + "]"), No(c);
          }
        } finally {
          En(c);
        }
      }
    }
  }
  function En(c, y) {
    if (c.g) {
      jo(c);
      const E = c.g,
        S = c.v[0] ? () => {} : null;
      (c.g = null), (c.v = null), y || Tt(c, "ready");
      try {
        E.onreadystatechange = S;
      } catch {}
    }
  }
  function jo(c) {
    c.I && (d.clearTimeout(c.I), (c.I = null));
  }
  t.isActive = function () {
    return !!this.g;
  };
  function cn(c) {
    return c.g ? c.g.readyState : 0;
  }
  (t.Z = function () {
    try {
      return 2 < cn(this) ? this.g.status : -1;
    } catch {
      return -1;
    }
  }),
    (t.oa = function () {
      try {
        return this.g ? this.g.responseText : "";
      } catch {
        return "";
      }
    }),
    (t.Oa = function (c) {
      if (this.g) {
        var y = this.g.responseText;
        return c && y.indexOf(c) == 0 && (y = y.substring(c.length)), Qa(y);
      }
    });
  function ll(c) {
    try {
      if (!c.g) return null;
      if ("response" in c.g) return c.g.response;
      switch (c.H) {
        case "":
        case "text":
          return c.g.responseText;
        case "arraybuffer":
          if ("mozResponseArrayBuffer" in c.g)
            return c.g.mozResponseArrayBuffer;
      }
      return null;
    } catch {
      return null;
    }
  }
  function Do(c) {
    const y = {};
    c = ((c.g && 2 <= cn(c) && c.g.getAllResponseHeaders()) || "").split(`\r
`);
    for (let S = 0; S < c.length; S++) {
      if (G(c[S])) continue;
      var E = M(c[S]);
      const B = E[0];
      if (((E = E[1]), typeof E != "string")) continue;
      E = E.trim();
      const K = y[B] || [];
      (y[B] = K), K.push(E);
    }
    C(y, function (S) {
      return S.join(", ");
    });
  }
  (t.Ba = function () {
    return this.m;
  }),
    (t.Ka = function () {
      return typeof this.l == "string" ? this.l : String(this.l);
    });
  function hr(c, y, E) {
    return (E && E.internalChannelParams && E.internalChannelParams[c]) || y;
  }
  function ul(c) {
    (this.Aa = 0),
      (this.i = []),
      (this.j = new Es()),
      (this.ia =
        this.qa =
        this.I =
        this.W =
        this.g =
        this.ya =
        this.D =
        this.H =
        this.m =
        this.S =
        this.o =
          null),
      (this.Ya = this.U = 0),
      (this.Va = hr("failFast", !1, c)),
      (this.F = this.C = this.u = this.s = this.l = null),
      (this.X = !0),
      (this.za = this.T = -1),
      (this.Y = this.v = this.B = 0),
      (this.Ta = hr("baseRetryDelayMs", 5e3, c)),
      (this.cb = hr("retryDelaySeedMs", 1e4, c)),
      (this.Wa = hr("forwardChannelMaxRetries", 2, c)),
      (this.wa = hr("forwardChannelRequestTimeoutMs", 2e4, c)),
      (this.pa = (c && c.xmlHttpFactory) || void 0),
      (this.Xa = (c && c.Tb) || void 0),
      (this.Ca = (c && c.useFetchStreams) || !1),
      (this.L = void 0),
      (this.J = (c && c.supportsCrossDomainXhr) || !1),
      (this.K = ""),
      (this.h = new Is(c && c.concurrentRequestLimit)),
      (this.Da = new Mh()),
      (this.P = (c && c.fastHandshake) || !1),
      (this.O = (c && c.encodeInitMessageHeaders) || !1),
      this.P && this.O && (this.O = !1),
      (this.Ua = (c && c.Rb) || !1),
      c && c.xa && this.j.xa(),
      c && c.forceLongPolling && (this.X = !1),
      (this.ba = (!this.P && this.X && c && c.detectBufferingProxy) || !1),
      (this.ja = void 0),
      c &&
        c.longPollingTimeout &&
        0 < c.longPollingTimeout &&
        (this.ja = c.longPollingTimeout),
      (this.ca = void 0),
      (this.R = 0),
      (this.M = !1),
      (this.ka = this.A = null);
  }
  (t = ul.prototype),
    (t.la = 8),
    (t.G = 1),
    (t.connect = function (c, y, E, S) {
      ct(0),
        (this.W = c),
        (this.H = y || {}),
        E && S !== void 0 && ((this.H.OSID = E), (this.H.OAID = S)),
        (this.F = this.X),
        (this.I = ic(this, null, this.W)),
        fr(this);
    });
  function Ft(c) {
    if ((Vo(c), c.G == 3)) {
      var y = c.U++,
        E = xn(c.I);
      if (
        (He(E, "SID", c.K),
        He(E, "RID", y),
        He(E, "TYPE", "terminate"),
        Wr(c, E),
        (y = new Gn(c, c.j, y)),
        (y.L = 2),
        (y.v = xi(xn(E))),
        (E = !1),
        d.navigator && d.navigator.sendBeacon)
      )
        try {
          E = d.navigator.sendBeacon(y.v.toString(), "");
        } catch {}
      !E && d.Image && ((new Image().src = y.v), (E = !0)),
        E || ((y.g = sc(y.j, null)), y.g.ea(y.v)),
        (y.F = Date.now()),
        qe(y);
    }
    rc(c);
  }
  function Jn(c) {
    c.g && (cl(c), c.g.cancel(), (c.g = null));
  }
  function Vo(c) {
    Jn(c),
      c.u && (d.clearTimeout(c.u), (c.u = null)),
      Lo(c),
      c.h.cancel(),
      c.s && (typeof c.s == "number" && d.clearTimeout(c.s), (c.s = null));
  }
  function fr(c) {
    if (!wn(c.h) && !c.s) {
      c.s = !0;
      var y = c.Ga;
      Ie || ae(), ie || (Ie(), (ie = !0)), ge.add(y, c), (c.B = 0);
    }
  }
  function Fh(c, y) {
    return Wu(c.h) >= c.h.j - (c.s ? 1 : 0)
      ? !1
      : c.s
      ? ((c.i = y.D.concat(c.i)), !0)
      : c.G == 1 || c.G == 2 || c.B >= (c.Va ? 0 : c.Wa)
      ? !1
      : ((c.s = Hn(x(c.Ga, c, y), nc(c, c.B))), c.B++, !0);
  }
  t.Ga = function (c) {
    if (this.s)
      if (((this.s = null), this.G == 1)) {
        if (!c) {
          (this.U = Math.floor(1e5 * Math.random())), (c = this.U++);
          const B = new Gn(this, this.j, c);
          let K = this.o;
          if (
            (this.S && (K ? ((K = I(K)), D(K, this.S)) : (K = this.S)),
            this.m !== null || this.O || ((B.H = K), (K = null)),
            this.P)
          )
            e: {
              for (var y = 0, E = 0; E < this.i.length; E++) {
                t: {
                  var S = this.i[E];
                  if (
                    "__data__" in S.map &&
                    ((S = S.map.__data__), typeof S == "string")
                  ) {
                    S = S.length;
                    break t;
                  }
                  S = void 0;
                }
                if (S === void 0) break;
                if (((y += S), 4096 < y)) {
                  y = E;
                  break e;
                }
                if (y === 4096 || E === this.i.length - 1) {
                  y = E + 1;
                  break e;
                }
              }
              y = 1e3;
            }
          else y = 1e3;
          (y = Si(this, B, y)),
            (E = xn(this.I)),
            He(E, "RID", c),
            He(E, "CVER", 22),
            this.D && He(E, "X-HTTP-Session-Id", this.D),
            Wr(this, E),
            K &&
              (this.O
                ? (y = "headers=" + encodeURIComponent(String(Hr(K))) + "&" + y)
                : this.m && Pi(E, this.m, K)),
            il(this.h, B),
            this.Ua && He(E, "TYPE", "init"),
            this.P
              ? (He(E, "$req", y),
                He(E, "SID", "null"),
                (B.T = !0),
                Co(B, E, null))
              : Co(B, E, y),
            (this.G = 2);
        }
      } else
        this.G == 3 &&
          (c ? Oo(this, c) : this.i.length == 0 || wn(this.h) || Oo(this));
  };
  function Oo(c, y) {
    var E;
    y ? (E = y.l) : (E = c.U++);
    const S = xn(c.I);
    He(S, "SID", c.K),
      He(S, "RID", E),
      He(S, "AID", c.T),
      Wr(c, S),
      c.m && c.o && Pi(S, c.m, c.o),
      (E = new Gn(c, c.j, E, c.B + 1)),
      c.m === null && (E.H = c.o),
      y && (c.i = y.D.concat(c.i)),
      (y = Si(c, E, 1e3)),
      (E.I = Math.round(0.5 * c.wa) + Math.round(0.5 * c.wa * Math.random())),
      il(c.h, E),
      Co(E, S, y);
  }
  function Wr(c, y) {
    c.H &&
      oe(c.H, function (E, S) {
        He(y, S, E);
      }),
      c.l &&
        vi({}, function (E, S) {
          He(y, S, E);
        });
  }
  function Si(c, y, E) {
    E = Math.min(c.i.length, E);
    var S = c.l ? x(c.l.Na, c.l, c) : null;
    e: {
      var B = c.i;
      let K = -1;
      for (;;) {
        const se = ["count=" + E];
        K == -1
          ? 0 < E
            ? ((K = B[0].g), se.push("ofs=" + K))
            : (K = 0)
          : se.push("ofs=" + K);
        let $e = !0;
        for (let Pt = 0; Pt < E; Pt++) {
          let Oe = B[Pt].g;
          const kt = B[Pt].map;
          if (((Oe -= K), 0 > Oe)) (K = Math.max(0, B[Pt].g - 100)), ($e = !1);
          else
            try {
              Zu(kt, se, "req" + Oe + "_");
            } catch {
              S && S(kt);
            }
        }
        if ($e) {
          S = se.join("&");
          break e;
        }
      }
    }
    return (c = c.i.splice(0, E)), (y.D = c), S;
  }
  function ks(c) {
    if (!c.g && !c.u) {
      c.Y = 1;
      var y = c.Fa;
      Ie || ae(), ie || (Ie(), (ie = !0)), ge.add(y, c), (c.v = 0);
    }
  }
  function Mo(c) {
    return c.g || c.u || 3 <= c.v
      ? !1
      : (c.Y++, (c.u = Hn(x(c.Fa, c), nc(c, c.v))), c.v++, !0);
  }
  (t.Fa = function () {
    if (
      ((this.u = null),
      tc(this),
      this.ba && !(this.M || this.g == null || 0 >= this.R))
    ) {
      var c = 2 * this.R;
      this.j.info("BP detection timer enabled: " + c),
        (this.A = Hn(x(this.ab, this), c));
    }
  }),
    (t.ab = function () {
      this.A &&
        ((this.A = null),
        this.j.info("BP detection timeout reached."),
        this.j.info("Buffering proxy detected and switch to long-polling!"),
        (this.F = !1),
        (this.M = !0),
        ct(10),
        Jn(this),
        tc(this));
    });
  function cl(c) {
    c.A != null && (d.clearTimeout(c.A), (c.A = null));
  }
  function tc(c) {
    (c.g = new Gn(c, c.j, "rpc", c.Y)),
      c.m === null && (c.g.H = c.o),
      (c.g.O = 0);
    var y = xn(c.qa);
    He(y, "RID", "rpc"),
      He(y, "SID", c.K),
      He(y, "AID", c.T),
      He(y, "CI", c.F ? "0" : "1"),
      !c.F && c.ja && He(y, "TO", c.ja),
      He(y, "TYPE", "xmlhttp"),
      Wr(c, y),
      c.m && c.o && Pi(y, c.m, c.o),
      c.L && (c.g.I = c.L);
    var E = c.g;
    (c = c.ia),
      (E.L = 1),
      (E.v = xi(xn(y))),
      (E.m = null),
      (E.P = !0),
      nl(E, c);
  }
  t.Za = function () {
    this.C != null && ((this.C = null), Jn(this), Mo(this), ct(19));
  };
  function Lo(c) {
    c.C != null && (d.clearTimeout(c.C), (c.C = null));
  }
  function Fo(c, y) {
    var E = null;
    if (c.g == y) {
      Lo(c), cl(c), (c.g = null);
      var S = 2;
    } else if (nn(c.h, y)) (E = y.D), qu(c.h, y), (S = 1);
    else return;
    if (c.G != 0) {
      if (y.o)
        if (S == 1) {
          (E = y.m ? y.m.length : 0), (y = Date.now() - y.F);
          var B = c.B;
          (S = xs()), Tt(S, new Po(S, E)), fr(c);
        } else ks(c);
      else if (
        ((B = y.s),
        B == 3 ||
          (B == 0 && 0 < y.X) ||
          !((S == 1 && Fh(c, y)) || (S == 2 && Mo(c))))
      )
        switch ((E && 0 < E.length && ((y = c.h), (y.i = y.i.concat(E))), B)) {
          case 1:
            qr(c, 5);
            break;
          case 4:
            qr(c, 10);
            break;
          case 3:
            qr(c, 6);
            break;
          default:
            qr(c, 2);
        }
    }
  }
  function nc(c, y) {
    let E = c.Ta + Math.floor(Math.random() * c.cb);
    return c.isActive() || (E *= 2), E * y;
  }
  function qr(c, y) {
    if ((c.j.info("Error code " + y), y == 2)) {
      var E = x(c.fb, c),
        S = c.Xa;
      const B = !S;
      (S = new zr(S || "//www.google.com/images/cleardot.gif")),
        (d.location && d.location.protocol == "http") || Cs(S, "https"),
        xi(S),
        B ? Oh(S.toString(), E) : Ju(S.toString(), E);
    } else ct(2);
    (c.G = 0), c.l && c.l.sa(y), rc(c), Vo(c);
  }
  t.fb = function (c) {
    c
      ? (this.j.info("Successfully pinged google.com"), ct(2))
      : (this.j.info("Failed to ping google.com"), ct(1));
  };
  function rc(c) {
    if (((c.G = 0), (c.ka = []), c.l)) {
      const y = Gu(c.h);
      (y.length != 0 || c.i.length != 0) &&
        (k(c.ka, y),
        k(c.ka, c.i),
        (c.h.i.length = 0),
        N(c.i),
        (c.i.length = 0)),
        c.l.ra();
    }
  }
  function ic(c, y, E) {
    var S = E instanceof zr ? xn(E) : new zr(E);
    if (S.g != "") y && (S.g = y + "." + S.g), _i(S, S.s);
    else {
      var B = d.location;
      (S = B.protocol),
        (y = y ? y + "." + B.hostname : B.hostname),
        (B = +B.port);
      var K = new zr(null);
      S && Cs(K, S), y && (K.g = y), B && _i(K, B), E && (K.l = E), (S = K);
    }
    return (
      (E = c.D),
      (y = c.ya),
      E && y && He(S, E, y),
      He(S, "VER", c.la),
      Wr(c, S),
      S
    );
  }
  function sc(c, y, E) {
    if (y && !c.J)
      throw Error("Can't create secondary domain capable XhrIo object.");
    return (
      (y = c.Ca && !c.pa ? new Je(new $r({ eb: E })) : new Je(c.pa)),
      y.Ha(c.J),
      y
    );
  }
  t.isActive = function () {
    return !!this.l && this.l.isActive(this);
  };
  function dl() {}
  (t = dl.prototype),
    (t.ua = function () {}),
    (t.ta = function () {}),
    (t.sa = function () {}),
    (t.ra = function () {}),
    (t.isActive = function () {
      return !0;
    }),
    (t.Na = function () {});
  function Uo() {}
  Uo.prototype.g = function (c, y) {
    return new rn(c, y);
  };
  function rn(c, y) {
    Et.call(this),
      (this.g = new ul(y)),
      (this.l = c),
      (this.h = (y && y.messageUrlParams) || null),
      (c = (y && y.messageHeaders) || null),
      y &&
        y.clientProtocolHeaderRequired &&
        (c
          ? (c["X-Client-Protocol"] = "webchannel")
          : (c = { "X-Client-Protocol": "webchannel" })),
      (this.g.o = c),
      (c = (y && y.initMessageHeaders) || null),
      y &&
        y.messageContentType &&
        (c
          ? (c["X-WebChannel-Content-Type"] = y.messageContentType)
          : (c = { "X-WebChannel-Content-Type": y.messageContentType })),
      y &&
        y.va &&
        (c
          ? (c["X-WebChannel-Client-Profile"] = y.va)
          : (c = { "X-WebChannel-Client-Profile": y.va })),
      (this.g.S = c),
      (c = y && y.Sb) && !G(c) && (this.g.m = c),
      (this.v = (y && y.supportsCrossDomainXhr) || !1),
      (this.u = (y && y.sendRawJson) || !1),
      (y = y && y.httpSessionIdParam) &&
        !G(y) &&
        ((this.g.D = y),
        (c = this.h),
        c !== null && y in c && ((c = this.h), y in c && delete c[y])),
      (this.j = new pr(this));
  }
  b(rn, Et),
    (rn.prototype.m = function () {
      (this.g.l = this.j),
        this.v && (this.g.J = !0),
        this.g.connect(this.l, this.h || void 0);
    }),
    (rn.prototype.close = function () {
      Ft(this.g);
    }),
    (rn.prototype.o = function (c) {
      var y = this.g;
      if (typeof c == "string") {
        var E = {};
        (E.__data__ = c), (c = E);
      } else this.u && ((E = {}), (E.__data__ = Ka(c)), (c = E));
      y.i.push(new Hu(y.Ya++, c)), y.G == 3 && fr(y);
    }),
    (rn.prototype.N = function () {
      (this.g.l = null),
        delete this.j,
        Ft(this.g),
        delete this.g,
        rn.aa.N.call(this);
    });
  function oc(c) {
    lr.call(this),
      c.__headers__ &&
        ((this.headers = c.__headers__),
        (this.statusCode = c.__status__),
        delete c.__headers__,
        delete c.__status__);
    var y = c.__sm__;
    if (y) {
      e: {
        for (const E in y) {
          c = E;
          break e;
        }
        c = void 0;
      }
      (this.i = c) &&
        ((c = this.i), (y = y !== null && c in y ? y[c] : void 0)),
        (this.data = y);
    } else this.data = c;
  }
  b(oc, lr);
  function ac() {
    To.call(this), (this.status = 1);
  }
  b(ac, To);
  function pr(c) {
    this.g = c;
  }
  b(pr, dl),
    (pr.prototype.ua = function () {
      Tt(this.g, "a");
    }),
    (pr.prototype.ta = function (c) {
      Tt(this.g, new oc(c));
    }),
    (pr.prototype.sa = function (c) {
      Tt(this.g, new ac());
    }),
    (pr.prototype.ra = function () {
      Tt(this.g, "b");
    }),
    (Uo.prototype.createWebChannel = Uo.prototype.g),
    (rn.prototype.send = rn.prototype.o),
    (rn.prototype.open = rn.prototype.m),
    (rn.prototype.close = rn.prototype.close),
    (rE = function () {
      return new Uo();
    }),
    (nE = function () {
      return xs();
    }),
    (tE = ur),
    (Zp = {
      mb: 0,
      pb: 1,
      qb: 2,
      Jb: 3,
      Ob: 4,
      Lb: 5,
      Mb: 6,
      Kb: 7,
      Ib: 8,
      Nb: 9,
      PROXY: 10,
      NOPROXY: 11,
      Gb: 12,
      Cb: 13,
      Db: 14,
      Bb: 15,
      Eb: 16,
      Fb: 17,
      ib: 18,
      hb: 19,
      jb: 20,
    }),
    (Io.NO_ERROR = 0),
    (Io.TIMEOUT = 8),
    (Io.HTTP_ERROR = 6),
    (wd = Io),
    (Uu.COMPLETE = "complete"),
    (eE = Uu),
    (Eo.EventType = Rn),
    (Rn.OPEN = "a"),
    (Rn.CLOSE = "b"),
    (Rn.ERROR = "c"),
    (Rn.MESSAGE = "d"),
    (Et.prototype.listen = Et.prototype.K),
    (Ul = Eo),
    (Je.prototype.listenOnce = Je.prototype.L),
    (Je.prototype.getLastError = Je.prototype.Ka),
    (Je.prototype.getLastErrorCode = Je.prototype.Ba),
    (Je.prototype.getStatus = Je.prototype.Z),
    (Je.prototype.getResponseJson = Je.prototype.Oa),
    (Je.prototype.getResponseText = Je.prototype.oa),
    (Je.prototype.send = Je.prototype.ea),
    (Je.prototype.setWithCredentials = Je.prototype.Ha),
    (Zx = Je);
}).apply(
  typeof nd < "u"
    ? nd
    : typeof self < "u"
    ? self
    : typeof window < "u"
    ? window
    : {}
);
const C_ = "@firebase/firestore",
  A_ = "4.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Jt {
  constructor(e) {
    this.uid = e;
  }
  isAuthenticated() {
    return this.uid != null;
  }
  toKey() {
    return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
  }
  isEqual(e) {
    return e.uid === this.uid;
  }
}
(Jt.UNAUTHENTICATED = new Jt(null)),
  (Jt.GOOGLE_CREDENTIALS = new Jt("google-credentials-uid")),
  (Jt.FIRST_PARTY = new Jt("first-party-uid")),
  (Jt.MOCK_USER = new Jt("mock-user"));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let Da = "11.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const so = new Gm("@firebase/firestore");
function la() {
  return so.logLevel;
}
function ue(t, ...e) {
  if (so.logLevel <= Ne.DEBUG) {
    const n = e.map(sg);
    so.debug(`Firestore (${Da}): ${t}`, ...n);
  }
}
function ui(t, ...e) {
  if (so.logLevel <= Ne.ERROR) {
    const n = e.map(sg);
    so.error(`Firestore (${Da}): ${t}`, ...n);
  }
}
function ts(t, ...e) {
  if (so.logLevel <= Ne.WARN) {
    const n = e.map(sg);
    so.warn(`Firestore (${Da}): ${t}`, ...n);
  }
}
function sg(t) {
  if (typeof t == "string") return t;
  try {
    /**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ return (function (n) {
      return JSON.stringify(n);
    })(t);
  } catch {
    return t;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ee(t, e, n) {
  let r = "Unexpected state";
  typeof e == "string" ? (r = e) : (n = e), iE(t, r, n);
}
function iE(t, e, n) {
  let r = `FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(
    16
  )})`;
  if (n !== void 0)
    try {
      r += " CONTEXT: " + JSON.stringify(n);
    } catch {
      r += " CONTEXT: " + n;
    }
  throw (ui(r), new Error(r));
}
function ze(t, e, n, r) {
  let s = "Unexpected state";
  typeof n == "string" ? (s = n) : (r = n), t || iE(e, s, r);
}
function be(t, e) {
  return t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Z = {
  OK: "ok",
  CANCELLED: "cancelled",
  UNKNOWN: "unknown",
  INVALID_ARGUMENT: "invalid-argument",
  DEADLINE_EXCEEDED: "deadline-exceeded",
  NOT_FOUND: "not-found",
  ALREADY_EXISTS: "already-exists",
  PERMISSION_DENIED: "permission-denied",
  UNAUTHENTICATED: "unauthenticated",
  RESOURCE_EXHAUSTED: "resource-exhausted",
  FAILED_PRECONDITION: "failed-precondition",
  ABORTED: "aborted",
  OUT_OF_RANGE: "out-of-range",
  UNIMPLEMENTED: "unimplemented",
  INTERNAL: "internal",
  UNAVAILABLE: "unavailable",
  DATA_LOSS: "data-loss",
};
class me extends Or {
  constructor(e, n) {
    super(e, n),
      (this.code = e),
      (this.message = n),
      (this.toString = () =>
        `${this.name}: [code=${this.code}]: ${this.message}`);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Zi {
  constructor() {
    this.promise = new Promise((e, n) => {
      (this.resolve = e), (this.reject = n);
    });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class sE {
  constructor(e, n) {
    (this.user = n),
      (this.type = "OAuth"),
      (this.headers = new Map()),
      this.headers.set("Authorization", `Bearer ${e}`);
  }
}
class WR {
  getToken() {
    return Promise.resolve(null);
  }
  invalidateToken() {}
  start(e, n) {
    e.enqueueRetryable(() => n(Jt.UNAUTHENTICATED));
  }
  shutdown() {}
}
class qR {
  constructor(e) {
    (this.token = e), (this.changeListener = null);
  }
  getToken() {
    return Promise.resolve(this.token);
  }
  invalidateToken() {}
  start(e, n) {
    (this.changeListener = n), e.enqueueRetryable(() => n(this.token.user));
  }
  shutdown() {
    this.changeListener = null;
  }
}
class GR {
  constructor(e) {
    (this.t = e),
      (this.currentUser = Jt.UNAUTHENTICATED),
      (this.i = 0),
      (this.forceRefresh = !1),
      (this.auth = null);
  }
  start(e, n) {
    ze(this.o === void 0, 42304);
    let r = this.i;
    const s = (f) => (this.i !== r ? ((r = this.i), n(f)) : Promise.resolve());
    let a = new Zi();
    this.o = () => {
      this.i++,
        (this.currentUser = this.u()),
        a.resolve(),
        (a = new Zi()),
        e.enqueueRetryable(() => s(this.currentUser));
    };
    const l = () => {
        const f = a;
        e.enqueueRetryable(async () => {
          await f.promise, await s(this.currentUser);
        });
      },
      d = (f) => {
        ue("FirebaseAuthCredentialsProvider", "Auth detected"),
          (this.auth = f),
          this.o && (this.auth.addAuthTokenListener(this.o), l());
      };
    this.t.onInit((f) => d(f)),
      setTimeout(() => {
        if (!this.auth) {
          const f = this.t.getImmediate({ optional: !0 });
          f
            ? d(f)
            : (ue("FirebaseAuthCredentialsProvider", "Auth not yet detected"),
              a.resolve(),
              (a = new Zi()));
        }
      }, 0),
      l();
  }
  getToken() {
    const e = this.i,
      n = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.auth
        ? this.auth
            .getToken(n)
            .then((r) =>
              this.i !== e
                ? (ue(
                    "FirebaseAuthCredentialsProvider",
                    "getToken aborted due to token change."
                  ),
                  this.getToken())
                : r
                ? (ze(typeof r.accessToken == "string", 31837, { l: r }),
                  new sE(r.accessToken, this.currentUser))
                : null
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    this.auth && this.o && this.auth.removeAuthTokenListener(this.o),
      (this.o = void 0);
  }
  u() {
    const e = this.auth && this.auth.getUid();
    return ze(e === null || typeof e == "string", 2055, { h: e }), new Jt(e);
  }
}
class KR {
  constructor(e, n, r) {
    (this.P = e),
      (this.T = n),
      (this.I = r),
      (this.type = "FirstParty"),
      (this.user = Jt.FIRST_PARTY),
      (this.A = new Map());
  }
  R() {
    return this.I ? this.I() : null;
  }
  get headers() {
    this.A.set("X-Goog-AuthUser", this.P);
    const e = this.R();
    return (
      e && this.A.set("Authorization", e),
      this.T && this.A.set("X-Goog-Iam-Authorization-Token", this.T),
      this.A
    );
  }
}
class QR {
  constructor(e, n, r) {
    (this.P = e), (this.T = n), (this.I = r);
  }
  getToken() {
    return Promise.resolve(new KR(this.P, this.T, this.I));
  }
  start(e, n) {
    e.enqueueRetryable(() => n(Jt.FIRST_PARTY));
  }
  shutdown() {}
  invalidateToken() {}
}
class R_ {
  constructor(e) {
    (this.value = e),
      (this.type = "AppCheck"),
      (this.headers = new Map()),
      e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value);
  }
}
class XR {
  constructor(e, n) {
    (this.V = n),
      (this.forceRefresh = !1),
      (this.appCheck = null),
      (this.m = null),
      (this.p = null),
      bn(e) && e.settings.appCheckToken && (this.p = e.settings.appCheckToken);
  }
  start(e, n) {
    ze(this.o === void 0, 3512);
    const r = (a) => {
      a.error != null &&
        ue(
          "FirebaseAppCheckTokenProvider",
          `Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`
        );
      const l = a.token !== this.m;
      return (
        (this.m = a.token),
        ue(
          "FirebaseAppCheckTokenProvider",
          `Received ${l ? "new" : "existing"} token.`
        ),
        l ? n(a.token) : Promise.resolve()
      );
    };
    this.o = (a) => {
      e.enqueueRetryable(() => r(a));
    };
    const s = (a) => {
      ue("FirebaseAppCheckTokenProvider", "AppCheck detected"),
        (this.appCheck = a),
        this.o && this.appCheck.addTokenListener(this.o);
    };
    this.V.onInit((a) => s(a)),
      setTimeout(() => {
        if (!this.appCheck) {
          const a = this.V.getImmediate({ optional: !0 });
          a
            ? s(a)
            : ue("FirebaseAppCheckTokenProvider", "AppCheck not yet detected");
        }
      }, 0);
  }
  getToken() {
    if (this.p) return Promise.resolve(new R_(this.p));
    const e = this.forceRefresh;
    return (
      (this.forceRefresh = !1),
      this.appCheck
        ? this.appCheck
            .getToken(e)
            .then((n) =>
              n
                ? (ze(typeof n.token == "string", 44558, { tokenResult: n }),
                  (this.m = n.token),
                  new R_(n.token))
                : null
            )
        : Promise.resolve(null)
    );
  }
  invalidateToken() {
    this.forceRefresh = !0;
  }
  shutdown() {
    this.appCheck && this.o && this.appCheck.removeTokenListener(this.o),
      (this.o = void 0);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function YR(t) {
  const e = typeof self < "u" && (self.crypto || self.msCrypto),
    n = new Uint8Array(t);
  if (e && typeof e.getRandomValues == "function") e.getRandomValues(n);
  else for (let r = 0; r < t; r++) n[r] = Math.floor(256 * Math.random());
  return n;
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function oE() {
  return new TextEncoder();
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class og {
  static newId() {
    const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      n = 62 * Math.floor(4.129032258064516);
    let r = "";
    for (; r.length < 20; ) {
      const s = YR(40);
      for (let a = 0; a < s.length; ++a)
        r.length < 20 && s[a] < n && (r += e.charAt(s[a] % 62));
    }
    return r;
  }
}
function Ae(t, e) {
  return t < e ? -1 : t > e ? 1 : 0;
}
function em(t, e) {
  let n = 0;
  for (; n < t.length && n < e.length; ) {
    const r = t.codePointAt(n),
      s = e.codePointAt(n);
    if (r !== s) {
      if (r < 128 && s < 128) return Ae(r, s);
      {
        const a = oE(),
          l = JR(a.encode(k_(t, n)), a.encode(k_(e, n)));
        return l !== 0 ? l : Ae(r, s);
      }
    }
    n += r > 65535 ? 2 : 1;
  }
  return Ae(t.length, e.length);
}
function k_(t, e) {
  return t.codePointAt(e) > 65535
    ? t.substring(e, e + 2)
    : t.substring(e, e + 1);
}
function JR(t, e) {
  for (let n = 0; n < t.length && n < e.length; ++n)
    if (t[n] !== e[n]) return Ae(t[n], e[n]);
  return Ae(t.length, e.length);
}
function Ta(t, e, n) {
  return t.length === e.length && t.every((r, s) => n(r, e[s]));
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const N_ = "__name__";
class wr {
  constructor(e, n, r) {
    n === void 0
      ? (n = 0)
      : n > e.length && Ee(637, { offset: n, range: e.length }),
      r === void 0
        ? (r = e.length - n)
        : r > e.length - n && Ee(1746, { length: r, range: e.length - n }),
      (this.segments = e),
      (this.offset = n),
      (this.len = r);
  }
  get length() {
    return this.len;
  }
  isEqual(e) {
    return wr.comparator(this, e) === 0;
  }
  child(e) {
    const n = this.segments.slice(this.offset, this.limit());
    return (
      e instanceof wr
        ? e.forEach((r) => {
            n.push(r);
          })
        : n.push(e),
      this.construct(n)
    );
  }
  limit() {
    return this.offset + this.length;
  }
  popFirst(e) {
    return (
      (e = e === void 0 ? 1 : e),
      this.construct(this.segments, this.offset + e, this.length - e)
    );
  }
  popLast() {
    return this.construct(this.segments, this.offset, this.length - 1);
  }
  firstSegment() {
    return this.segments[this.offset];
  }
  lastSegment() {
    return this.get(this.length - 1);
  }
  get(e) {
    return this.segments[this.offset + e];
  }
  isEmpty() {
    return this.length === 0;
  }
  isPrefixOf(e) {
    if (e.length < this.length) return !1;
    for (let n = 0; n < this.length; n++)
      if (this.get(n) !== e.get(n)) return !1;
    return !0;
  }
  isImmediateParentOf(e) {
    if (this.length + 1 !== e.length) return !1;
    for (let n = 0; n < this.length; n++)
      if (this.get(n) !== e.get(n)) return !1;
    return !0;
  }
  forEach(e) {
    for (let n = this.offset, r = this.limit(); n < r; n++) e(this.segments[n]);
  }
  toArray() {
    return this.segments.slice(this.offset, this.limit());
  }
  static comparator(e, n) {
    const r = Math.min(e.length, n.length);
    for (let s = 0; s < r; s++) {
      const a = wr.compareSegments(e.get(s), n.get(s));
      if (a !== 0) return a;
    }
    return Ae(e.length, n.length);
  }
  static compareSegments(e, n) {
    const r = wr.isNumericId(e),
      s = wr.isNumericId(n);
    return r && !s
      ? -1
      : !r && s
      ? 1
      : r && s
      ? wr.extractNumericId(e).compare(wr.extractNumericId(n))
      : em(e, n);
  }
  static isNumericId(e) {
    return e.startsWith("__id") && e.endsWith("__");
  }
  static extractNumericId(e) {
    return Ji.fromString(e.substring(4, e.length - 2));
  }
}
class rt extends wr {
  construct(e, n, r) {
    return new rt(e, n, r);
  }
  canonicalString() {
    return this.toArray().join("/");
  }
  toString() {
    return this.canonicalString();
  }
  toUriEncodedString() {
    return this.toArray().map(encodeURIComponent).join("/");
  }
  static fromString(...e) {
    const n = [];
    for (const r of e) {
      if (r.indexOf("//") >= 0)
        throw new me(
          Z.INVALID_ARGUMENT,
          `Invalid segment (${r}). Paths must not contain // in them.`
        );
      n.push(...r.split("/").filter((s) => s.length > 0));
    }
    return new rt(n);
  }
  static emptyPath() {
    return new rt([]);
  }
}
const ZR = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
class Ht extends wr {
  construct(e, n, r) {
    return new Ht(e, n, r);
  }
  static isValidIdentifier(e) {
    return ZR.test(e);
  }
  canonicalString() {
    return this.toArray()
      .map(
        (e) => (
          (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`")),
          Ht.isValidIdentifier(e) || (e = "`" + e + "`"),
          e
        )
      )
      .join(".");
  }
  toString() {
    return this.canonicalString();
  }
  isKeyField() {
    return this.length === 1 && this.get(0) === N_;
  }
  static keyField() {
    return new Ht([N_]);
  }
  static fromServerFormat(e) {
    const n = [];
    let r = "",
      s = 0;
    const a = () => {
      if (r.length === 0)
        throw new me(
          Z.INVALID_ARGUMENT,
          `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`
        );
      n.push(r), (r = "");
    };
    let l = !1;
    for (; s < e.length; ) {
      const d = e[s];
      if (d === "\\") {
        if (s + 1 === e.length)
          throw new me(
            Z.INVALID_ARGUMENT,
            "Path has trailing escape character: " + e
          );
        const f = e[s + 1];
        if (f !== "\\" && f !== "." && f !== "`")
          throw new me(
            Z.INVALID_ARGUMENT,
            "Path has invalid escape sequence: " + e
          );
        (r += f), (s += 2);
      } else
        d === "`"
          ? ((l = !l), s++)
          : d !== "." || l
          ? ((r += d), s++)
          : (a(), s++);
    }
    if ((a(), l))
      throw new me(Z.INVALID_ARGUMENT, "Unterminated ` in path: " + e);
    return new Ht(n);
  }
  static emptyPath() {
    return new Ht([]);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class we {
  constructor(e) {
    this.path = e;
  }
  static fromPath(e) {
    return new we(rt.fromString(e));
  }
  static fromName(e) {
    return new we(rt.fromString(e).popFirst(5));
  }
  static empty() {
    return new we(rt.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(e) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(e) {
    return e !== null && rt.comparator(this.path, e.path) === 0;
  }
  toString() {
    return this.path.toString();
  }
  static comparator(e, n) {
    return rt.comparator(e.path, n.path);
  }
  static isDocumentKey(e) {
    return e.length % 2 == 0;
  }
  static fromSegments(e) {
    return new we(new rt(e.slice()));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ek(t, e, n) {
  if (!n)
    throw new me(
      Z.INVALID_ARGUMENT,
      `Function ${t}() cannot be called with an empty ${e}.`
    );
}
function tk(t, e, n, r) {
  if (e === !0 && r === !0)
    throw new me(Z.INVALID_ARGUMENT, `${t} and ${n} cannot be used together.`);
}
function j_(t) {
  if (!we.isDocumentKey(t))
    throw new me(
      Z.INVALID_ARGUMENT,
      `Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`
    );
}
function aE(t) {
  return (
    typeof t == "object" &&
    t !== null &&
    (Object.getPrototypeOf(t) === Object.prototype ||
      Object.getPrototypeOf(t) === null)
  );
}
function ag(t) {
  if (t === void 0) return "undefined";
  if (t === null) return "null";
  if (typeof t == "string")
    return t.length > 20 && (t = `${t.substring(0, 20)}...`), JSON.stringify(t);
  if (typeof t == "number" || typeof t == "boolean") return "" + t;
  if (typeof t == "object") {
    if (t instanceof Array) return "an array";
    {
      const e = (function (r) {
        return r.constructor ? r.constructor.name : null;
      })(t);
      return e ? `a custom ${e} object` : "an object";
    }
  }
  return typeof t == "function" ? "a function" : Ee(12329, { type: typeof t });
}
function oo(t, e) {
  if (("_delegate" in t && (t = t._delegate), !(t instanceof e))) {
    if (e.name === t.constructor.name)
      throw new me(
        Z.INVALID_ARGUMENT,
        "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?"
      );
    {
      const n = ag(t);
      throw new me(
        Z.INVALID_ARGUMENT,
        `Expected type '${e.name}', but it was: ${n}`
      );
    }
  }
  return t;
}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function xt(t, e) {
  const n = { typeString: t };
  return e && (n.value = e), n;
}
function Ru(t, e) {
  if (!aE(t)) throw new me(Z.INVALID_ARGUMENT, "JSON must be an object");
  let n;
  for (const r in e)
    if (e[r]) {
      const s = e[r].typeString,
        a = "value" in e[r] ? { value: e[r].value } : void 0;
      if (!(r in t)) {
        n = `JSON missing required field: '${r}'`;
        break;
      }
      const l = t[r];
      if (s && typeof l !== s) {
        n = `JSON field '${r}' must be a ${s}.`;
        break;
      }
      if (a !== void 0 && l !== a.value) {
        n = `Expected '${r}' field to equal '${a.value}'`;
        break;
      }
    }
  if (n) throw new me(Z.INVALID_ARGUMENT, n);
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const D_ = -62135596800,
  V_ = 1e6;
class Xe {
  static now() {
    return Xe.fromMillis(Date.now());
  }
  static fromDate(e) {
    return Xe.fromMillis(e.getTime());
  }
  static fromMillis(e) {
    const n = Math.floor(e / 1e3),
      r = Math.floor((e - 1e3 * n) * V_);
    return new Xe(n, r);
  }
  constructor(e, n) {
    if (((this.seconds = e), (this.nanoseconds = n), n < 0))
      throw new me(
        Z.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + n
      );
    if (n >= 1e9)
      throw new me(
        Z.INVALID_ARGUMENT,
        "Timestamp nanoseconds out of range: " + n
      );
    if (e < D_)
      throw new me(Z.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
    if (e >= 253402300800)
      throw new me(Z.INVALID_ARGUMENT, "Timestamp seconds out of range: " + e);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / V_;
  }
  _compareTo(e) {
    return this.seconds === e.seconds
      ? Ae(this.nanoseconds, e.nanoseconds)
      : Ae(this.seconds, e.seconds);
  }
  isEqual(e) {
    return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
  }
  toString() {
    return (
      "Timestamp(seconds=" +
      this.seconds +
      ", nanoseconds=" +
      this.nanoseconds +
      ")"
    );
  }
  toJSON() {
    return {
      type: Xe._jsonSchemaVersion,
      seconds: this.seconds,
      nanoseconds: this.nanoseconds,
    };
  }
  static fromJSON(e) {
    if (Ru(e, Xe._jsonSchema)) return new Xe(e.seconds, e.nanoseconds);
  }
  valueOf() {
    const e = this.seconds - D_;
    return (
      String(e).padStart(12, "0") +
      "." +
      String(this.nanoseconds).padStart(9, "0")
    );
  }
}
(Xe._jsonSchemaVersion = "firestore/timestamp/1.0"),
  (Xe._jsonSchema = {
    type: xt("string", Xe._jsonSchemaVersion),
    seconds: xt("number"),
    nanoseconds: xt("number"),
  });
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Se {
  static fromTimestamp(e) {
    return new Se(e);
  }
  static min() {
    return new Se(new Xe(0, 0));
  }
  static max() {
    return new Se(new Xe(253402300799, 999999999));
  }
  constructor(e) {
    this.timestamp = e;
  }
  compareTo(e) {
    return this.timestamp._compareTo(e.timestamp);
  }
  isEqual(e) {
    return this.timestamp.isEqual(e.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return "SnapshotVersion(" + this.timestamp.toString() + ")";
  }
  toTimestamp() {
    return this.timestamp;
  }
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const uu = -1;
function nk(t, e) {
  const n = t.toTimestamp().seconds,
    r = t.toTimestamp().nanoseconds + 1,
    s = Se.fromTimestamp(r === 1e9 ? new Xe(n + 1, 0) : new Xe(n, r));
  return new ns(s, we.empty(), e);
}
function rk(t) {
  return new ns(t.readTime, t.key, uu);
}
class ns {
  constructor(e, n, r) {
    (this.readTime = e), (this.documentKey = n), (this.largestBatchId = r);
  }
  static min() {
    return new ns(Se.min(), we.empty(), uu);
  }
  static max() {
    return new ns(Se.max(), we.empty(), uu);
  }
}
function ik(t, e) {
  let n = t.readTime.compareTo(e.readTime);
  return n !== 0
    ? n
    : ((n = we.comparator(t.documentKey, e.documentKey)),
      n !== 0 ? n : Ae(t.largestBatchId, e.largestBatchId));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const sk =
  "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
class ok {
  constructor() {
    this.onCommittedListeners = [];
  }
  addOnCommittedListener(e) {
    this.onCommittedListeners.push(e);
  }
  raiseOnCommittedEvent() {
    this.onCommittedListeners.forEach((e) => e());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ async function Va(t) {
  if (t.code !== Z.FAILED_PRECONDITION || t.message !== sk) throw t;
  ue("LocalStore", "Unexpectedly lost primary lease");
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Q {
  constructor(e) {
    (this.nextCallback = null),
      (this.catchCallback = null),
      (this.result = void 0),
      (this.error = void 0),
      (this.isDone = !1),
      (this.callbackAttached = !1),
      e(
        (n) => {
          (this.isDone = !0),
            (this.result = n),
            this.nextCallback && this.nextCallback(n);
        },
        (n) => {
          (this.isDone = !0),
            (this.error = n),
            this.catchCallback && this.catchCallback(n);
        }
      );
  }
  catch(e) {
    return this.next(void 0, e);
  }
  next(e, n) {
    return (
      this.callbackAttached && Ee(59440),
      (this.callbackAttached = !0),
      this.isDone
        ? this.error
          ? this.wrapFailure(n, this.error)
          : this.wrapSuccess(e, this.result)
        : new Q((r, s) => {
            (this.nextCallback = (a) => {
              this.wrapSuccess(e, a).next(r, s);
            }),
              (this.catchCallback = (a) => {
                this.wrapFailure(n, a).next(r, s);
              });
          })
    );
  }
  toPromise() {
    return new Promise((e, n) => {
      this.next(e, n);
    });
  }
  wrapUserFunction(e) {
    try {
      const n = e();
      return n instanceof Q ? n : Q.resolve(n);
    } catch (n) {
      return Q.reject(n);
    }
  }
  wrapSuccess(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : Q.resolve(n);
  }
  wrapFailure(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : Q.reject(n);
  }
  static resolve(e) {
    return new Q((n, r) => {
      n(e);
    });
  }
  static reject(e) {
    return new Q((n, r) => {
      r(e);
    });
  }
  static waitFor(e) {
    return new Q((n, r) => {
      let s = 0,
        a = 0,
        l = !1;
      e.forEach((d) => {
        ++s,
          d.next(
            () => {
              ++a, l && a === s && n();
            },
            (f) => r(f)
          );
      }),
        (l = !0),
        a === s && n();
    });
  }
  static or(e) {
    let n = Q.resolve(!1);
    for (const r of e) n = n.next((s) => (s ? Q.resolve(s) : r()));
    return n;
  }
  static forEach(e, n) {
    const r = [];
    return (
      e.forEach((s, a) => {
        r.push(n.call(this, s, a));
      }),
      this.waitFor(r)
    );
  }
  static mapArray(e, n) {
    return new Q((r, s) => {
      const a = e.length,
        l = new Array(a);
      let d = 0;
      for (let f = 0; f < a; f++) {
        const p = f;
        n(e[p]).next(
          (g) => {
            (l[p] = g), ++d, d === a && r(l);
          },
          (g) => s(g)
        );
      }
    });
  }
  static doWhile(e, n) {
    return new Q((r, s) => {
      const a = () => {
        e() === !0
          ? n().next(() => {
              a();
            }, s)
          : r();
      };
      a();
    });
  }
}
function ak(t) {
  const e = t.match(/Android ([\d.]+)/i),
    n = e ? e[1].split(".").slice(0, 2).join(".") : "-1";
  return Number(n);
}
function Oa(t) {
  return t.name === "IndexedDbTransactionError";
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ch {
  constructor(e, n) {
    (this.previousValue = e),
      n &&
        ((n.sequenceNumberHandler = (r) => this._e(r)),
        (this.ae = (r) => n.writeSequenceNumber(r)));
  }
  _e(e) {
    return (
      (this.previousValue = Math.max(e, this.previousValue)), this.previousValue
    );
  }
  next() {
    const e = ++this.previousValue;
    return this.ae && this.ae(e), e;
  }
}
ch.ue = -1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const lg = -1;
function dh(t) {
  return t == null;
}
function Fd(t) {
  return t === 0 && 1 / t == -1 / 0;
}
function lk(t) {
  return (
    typeof t == "number" &&
    Number.isInteger(t) &&
    !Fd(t) &&
    t <= Number.MAX_SAFE_INTEGER &&
    t >= Number.MIN_SAFE_INTEGER
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const lE = "";
function uk(t) {
  let e = "";
  for (let n = 0; n < t.length; n++)
    e.length > 0 && (e = O_(e)), (e = ck(t.get(n), e));
  return O_(e);
}
function ck(t, e) {
  let n = e;
  const r = t.length;
  for (let s = 0; s < r; s++) {
    const a = t.charAt(s);
    switch (a) {
      case "\0":
        n += "";
        break;
      case lE:
        n += "";
        break;
      default:
        n += a;
    }
  }
  return n;
}
function O_(t) {
  return t + lE + "";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function M_(t) {
  let e = 0;
  for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e++;
  return e;
}
function ps(t, e) {
  for (const n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);
}
function uE(t) {
  for (const e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class st {
  constructor(e, n) {
    (this.comparator = e), (this.root = n || $t.EMPTY);
  }
  insert(e, n) {
    return new st(
      this.comparator,
      this.root
        .insert(e, n, this.comparator)
        .copy(null, null, $t.BLACK, null, null)
    );
  }
  remove(e) {
    return new st(
      this.comparator,
      this.root
        .remove(e, this.comparator)
        .copy(null, null, $t.BLACK, null, null)
    );
  }
  get(e) {
    let n = this.root;
    for (; !n.isEmpty(); ) {
      const r = this.comparator(e, n.key);
      if (r === 0) return n.value;
      r < 0 ? (n = n.left) : r > 0 && (n = n.right);
    }
    return null;
  }
  indexOf(e) {
    let n = 0,
      r = this.root;
    for (; !r.isEmpty(); ) {
      const s = this.comparator(e, r.key);
      if (s === 0) return n + r.left.size;
      s < 0 ? (r = r.left) : ((n += r.left.size + 1), (r = r.right));
    }
    return -1;
  }
  isEmpty() {
    return this.root.isEmpty();
  }
  get size() {
    return this.root.size;
  }
  minKey() {
    return this.root.minKey();
  }
  maxKey() {
    return this.root.maxKey();
  }
  inorderTraversal(e) {
    return this.root.inorderTraversal(e);
  }
  forEach(e) {
    this.inorderTraversal((n, r) => (e(n, r), !1));
  }
  toString() {
    const e = [];
    return (
      this.inorderTraversal((n, r) => (e.push(`${n}:${r}`), !1)),
      `{${e.join(", ")}}`
    );
  }
  reverseTraversal(e) {
    return this.root.reverseTraversal(e);
  }
  getIterator() {
    return new rd(this.root, null, this.comparator, !1);
  }
  getIteratorFrom(e) {
    return new rd(this.root, e, this.comparator, !1);
  }
  getReverseIterator() {
    return new rd(this.root, null, this.comparator, !0);
  }
  getReverseIteratorFrom(e) {
    return new rd(this.root, e, this.comparator, !0);
  }
}
class rd {
  constructor(e, n, r, s) {
    (this.isReverse = s), (this.nodeStack = []);
    let a = 1;
    for (; !e.isEmpty(); )
      if (((a = n ? r(e.key, n) : 1), n && s && (a *= -1), a < 0))
        e = this.isReverse ? e.left : e.right;
      else {
        if (a === 0) {
          this.nodeStack.push(e);
          break;
        }
        this.nodeStack.push(e), (e = this.isReverse ? e.right : e.left);
      }
  }
  getNext() {
    let e = this.nodeStack.pop();
    const n = { key: e.key, value: e.value };
    if (this.isReverse)
      for (e = e.left; !e.isEmpty(); ) this.nodeStack.push(e), (e = e.right);
    else for (e = e.right; !e.isEmpty(); ) this.nodeStack.push(e), (e = e.left);
    return n;
  }
  hasNext() {
    return this.nodeStack.length > 0;
  }
  peek() {
    if (this.nodeStack.length === 0) return null;
    const e = this.nodeStack[this.nodeStack.length - 1];
    return { key: e.key, value: e.value };
  }
}
class $t {
  constructor(e, n, r, s, a) {
    (this.key = e),
      (this.value = n),
      (this.color = r ?? $t.RED),
      (this.left = s ?? $t.EMPTY),
      (this.right = a ?? $t.EMPTY),
      (this.size = this.left.size + 1 + this.right.size);
  }
  copy(e, n, r, s, a) {
    return new $t(
      e ?? this.key,
      n ?? this.value,
      r ?? this.color,
      s ?? this.left,
      a ?? this.right
    );
  }
  isEmpty() {
    return !1;
  }
  inorderTraversal(e) {
    return (
      this.left.inorderTraversal(e) ||
      e(this.key, this.value) ||
      this.right.inorderTraversal(e)
    );
  }
  reverseTraversal(e) {
    return (
      this.right.reverseTraversal(e) ||
      e(this.key, this.value) ||
      this.left.reverseTraversal(e)
    );
  }
  min() {
    return this.left.isEmpty() ? this : this.left.min();
  }
  minKey() {
    return this.min().key;
  }
  maxKey() {
    return this.right.isEmpty() ? this.key : this.right.maxKey();
  }
  insert(e, n, r) {
    let s = this;
    const a = r(e, s.key);
    return (
      (s =
        a < 0
          ? s.copy(null, null, null, s.left.insert(e, n, r), null)
          : a === 0
          ? s.copy(null, n, null, null, null)
          : s.copy(null, null, null, null, s.right.insert(e, n, r))),
      s.fixUp()
    );
  }
  removeMin() {
    if (this.left.isEmpty()) return $t.EMPTY;
    let e = this;
    return (
      e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()),
      (e = e.copy(null, null, null, e.left.removeMin(), null)),
      e.fixUp()
    );
  }
  remove(e, n) {
    let r,
      s = this;
    if (n(e, s.key) < 0)
      s.left.isEmpty() ||
        s.left.isRed() ||
        s.left.left.isRed() ||
        (s = s.moveRedLeft()),
        (s = s.copy(null, null, null, s.left.remove(e, n), null));
    else {
      if (
        (s.left.isRed() && (s = s.rotateRight()),
        s.right.isEmpty() ||
          s.right.isRed() ||
          s.right.left.isRed() ||
          (s = s.moveRedRight()),
        n(e, s.key) === 0)
      ) {
        if (s.right.isEmpty()) return $t.EMPTY;
        (r = s.right.min()),
          (s = s.copy(r.key, r.value, null, null, s.right.removeMin()));
      }
      s = s.copy(null, null, null, null, s.right.remove(e, n));
    }
    return s.fixUp();
  }
  isRed() {
    return this.color;
  }
  fixUp() {
    let e = this;
    return (
      e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()),
      e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()),
      e.left.isRed() && e.right.isRed() && (e = e.colorFlip()),
      e
    );
  }
  moveRedLeft() {
    let e = this.colorFlip();
    return (
      e.right.left.isRed() &&
        ((e = e.copy(null, null, null, null, e.right.rotateRight())),
        (e = e.rotateLeft()),
        (e = e.colorFlip())),
      e
    );
  }
  moveRedRight() {
    let e = this.colorFlip();
    return (
      e.left.left.isRed() && ((e = e.rotateRight()), (e = e.colorFlip())), e
    );
  }
  rotateLeft() {
    const e = this.copy(null, null, $t.RED, null, this.right.left);
    return this.right.copy(null, null, this.color, e, null);
  }
  rotateRight() {
    const e = this.copy(null, null, $t.RED, this.left.right, null);
    return this.left.copy(null, null, this.color, null, e);
  }
  colorFlip() {
    const e = this.left.copy(null, null, !this.left.color, null, null),
      n = this.right.copy(null, null, !this.right.color, null, null);
    return this.copy(null, null, !this.color, e, n);
  }
  checkMaxDepth() {
    const e = this.check();
    return Math.pow(2, e) <= this.size + 1;
  }
  check() {
    if (this.isRed() && this.left.isRed())
      throw Ee(43730, { key: this.key, value: this.value });
    if (this.right.isRed())
      throw Ee(14113, { key: this.key, value: this.value });
    const e = this.left.check();
    if (e !== this.right.check()) throw Ee(27949);
    return e + (this.isRed() ? 0 : 1);
  }
}
($t.EMPTY = null), ($t.RED = !0), ($t.BLACK = !1);
$t.EMPTY = new (class {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw Ee(57766);
  }
  get value() {
    throw Ee(16141);
  }
  get color() {
    throw Ee(16727);
  }
  get left() {
    throw Ee(29726);
  }
  get right() {
    throw Ee(36894);
  }
  copy(e, n, r, s, a) {
    return this;
  }
  insert(e, n, r) {
    return new $t(e, n);
  }
  remove(e, n) {
    return this;
  }
  isEmpty() {
    return !0;
  }
  inorderTraversal(e) {
    return !1;
  }
  reverseTraversal(e) {
    return !1;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return !1;
  }
  checkMaxDepth() {
    return !0;
  }
  check() {
    return 0;
  }
})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class At {
  constructor(e) {
    (this.comparator = e), (this.data = new st(this.comparator));
  }
  has(e) {
    return this.data.get(e) !== null;
  }
  first() {
    return this.data.minKey();
  }
  last() {
    return this.data.maxKey();
  }
  get size() {
    return this.data.size;
  }
  indexOf(e) {
    return this.data.indexOf(e);
  }
  forEach(e) {
    this.data.inorderTraversal((n, r) => (e(n), !1));
  }
  forEachInRange(e, n) {
    const r = this.data.getIteratorFrom(e[0]);
    for (; r.hasNext(); ) {
      const s = r.getNext();
      if (this.comparator(s.key, e[1]) >= 0) return;
      n(s.key);
    }
  }
  forEachWhile(e, n) {
    let r;
    for (
      r = n !== void 0 ? this.data.getIteratorFrom(n) : this.data.getIterator();
      r.hasNext();

    )
      if (!e(r.getNext().key)) return;
  }
  firstAfterOrEqual(e) {
    const n = this.data.getIteratorFrom(e);
    return n.hasNext() ? n.getNext().key : null;
  }
  getIterator() {
    return new L_(this.data.getIterator());
  }
  getIteratorFrom(e) {
    return new L_(this.data.getIteratorFrom(e));
  }
  add(e) {
    return this.copy(this.data.remove(e).insert(e, !0));
  }
  delete(e) {
    return this.has(e) ? this.copy(this.data.remove(e)) : this;
  }
  isEmpty() {
    return this.data.isEmpty();
  }
  unionWith(e) {
    let n = this;
    return (
      n.size < e.size && ((n = e), (e = this)),
      e.forEach((r) => {
        n = n.add(r);
      }),
      n
    );
  }
  isEqual(e) {
    if (!(e instanceof At) || this.size !== e.size) return !1;
    const n = this.data.getIterator(),
      r = e.data.getIterator();
    for (; n.hasNext(); ) {
      const s = n.getNext().key,
        a = r.getNext().key;
      if (this.comparator(s, a) !== 0) return !1;
    }
    return !0;
  }
  toArray() {
    const e = [];
    return (
      this.forEach((n) => {
        e.push(n);
      }),
      e
    );
  }
  toString() {
    const e = [];
    return this.forEach((n) => e.push(n)), "SortedSet(" + e.toString() + ")";
  }
  copy(e) {
    const n = new At(this.comparator);
    return (n.data = e), n;
  }
}
class L_ {
  constructor(e) {
    this.iter = e;
  }
  getNext() {
    return this.iter.getNext().key;
  }
  hasNext() {
    return this.iter.hasNext();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Cn {
  constructor(e) {
    (this.fields = e), e.sort(Ht.comparator);
  }
  static empty() {
    return new Cn([]);
  }
  unionWith(e) {
    let n = new At(Ht.comparator);
    for (const r of this.fields) n = n.add(r);
    for (const r of e) n = n.add(r);
    return new Cn(n.toArray());
  }
  covers(e) {
    for (const n of this.fields) if (n.isPrefixOf(e)) return !0;
    return !1;
  }
  isEqual(e) {
    return Ta(this.fields, e.fields, (n, r) => n.isEqual(r));
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class cE extends Error {
  constructor() {
    super(...arguments), (this.name = "Base64DecodeError");
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Wt {
  constructor(e) {
    this.binaryString = e;
  }
  static fromBase64String(e) {
    const n = (function (s) {
      try {
        return atob(s);
      } catch (a) {
        throw typeof DOMException < "u" && a instanceof DOMException
          ? new cE("Invalid base64 string: " + a)
          : a;
      }
    })(e);
    return new Wt(n);
  }
  static fromUint8Array(e) {
    const n = (function (s) {
      let a = "";
      for (let l = 0; l < s.length; ++l) a += String.fromCharCode(s[l]);
      return a;
    })(e);
    return new Wt(n);
  }
  [Symbol.iterator]() {
    let e = 0;
    return {
      next: () =>
        e < this.binaryString.length
          ? { value: this.binaryString.charCodeAt(e++), done: !1 }
          : { value: void 0, done: !0 },
    };
  }
  toBase64() {
    return (function (n) {
      return btoa(n);
    })(this.binaryString);
  }
  toUint8Array() {
    return (function (n) {
      const r = new Uint8Array(n.length);
      for (let s = 0; s < n.length; s++) r[s] = n.charCodeAt(s);
      return r;
    })(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(e) {
    return Ae(this.binaryString, e.binaryString);
  }
  isEqual(e) {
    return this.binaryString === e.binaryString;
  }
}
Wt.EMPTY_BYTE_STRING = new Wt("");
const dk = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function rs(t) {
  if ((ze(!!t, 39018), typeof t == "string")) {
    let e = 0;
    const n = dk.exec(t);
    if ((ze(!!n, 46558, { timestamp: t }), n[1])) {
      let s = n[1];
      (s = (s + "000000000").substr(0, 9)), (e = Number(s));
    }
    const r = new Date(t);
    return { seconds: Math.floor(r.getTime() / 1e3), nanos: e };
  }
  return { seconds: ft(t.seconds), nanos: ft(t.nanos) };
}
function ft(t) {
  return typeof t == "number" ? t : typeof t == "string" ? Number(t) : 0;
}
function is(t) {
  return typeof t == "string" ? Wt.fromBase64String(t) : Wt.fromUint8Array(t);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const dE = "server_timestamp",
  hE = "__type__",
  fE = "__previous_value__",
  pE = "__local_write_time__";
function ug(t) {
  var e, n;
  return (
    ((n = (((e = t == null ? void 0 : t.mapValue) === null || e === void 0
      ? void 0
      : e.fields) || {})[hE]) === null || n === void 0
      ? void 0
      : n.stringValue) === dE
  );
}
function hh(t) {
  const e = t.mapValue.fields[fE];
  return ug(e) ? hh(e) : e;
}
function cu(t) {
  const e = rs(t.mapValue.fields[pE].timestampValue);
  return new Xe(e.seconds, e.nanos);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class hk {
  constructor(e, n, r, s, a, l, d, f, p, g) {
    (this.databaseId = e),
      (this.appId = n),
      (this.persistenceKey = r),
      (this.host = s),
      (this.ssl = a),
      (this.forceLongPolling = l),
      (this.autoDetectLongPolling = d),
      (this.longPollingOptions = f),
      (this.useFetchStreams = p),
      (this.isUsingEmulator = g);
  }
}
const Ud = "(default)";
class du {
  constructor(e, n) {
    (this.projectId = e), (this.database = n || Ud);
  }
  static empty() {
    return new du("", "");
  }
  get isDefaultDatabase() {
    return this.database === Ud;
  }
  isEqual(e) {
    return (
      e instanceof du &&
      e.projectId === this.projectId &&
      e.database === this.database
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const mE = "__type__",
  fk = "__max__",
  id = { mapValue: {} },
  gE = "__vector__",
  Bd = "value";
function ss(t) {
  return "nullValue" in t
    ? 0
    : "booleanValue" in t
    ? 1
    : "integerValue" in t || "doubleValue" in t
    ? 2
    : "timestampValue" in t
    ? 3
    : "stringValue" in t
    ? 5
    : "bytesValue" in t
    ? 6
    : "referenceValue" in t
    ? 7
    : "geoPointValue" in t
    ? 8
    : "arrayValue" in t
    ? 9
    : "mapValue" in t
    ? ug(t)
      ? 4
      : mk(t)
      ? 9007199254740991
      : pk(t)
      ? 10
      : 11
    : Ee(28295, { value: t });
}
function jr(t, e) {
  if (t === e) return !0;
  const n = ss(t);
  if (n !== ss(e)) return !1;
  switch (n) {
    case 0:
    case 9007199254740991:
      return !0;
    case 1:
      return t.booleanValue === e.booleanValue;
    case 4:
      return cu(t).isEqual(cu(e));
    case 3:
      return (function (s, a) {
        if (
          typeof s.timestampValue == "string" &&
          typeof a.timestampValue == "string" &&
          s.timestampValue.length === a.timestampValue.length
        )
          return s.timestampValue === a.timestampValue;
        const l = rs(s.timestampValue),
          d = rs(a.timestampValue);
        return l.seconds === d.seconds && l.nanos === d.nanos;
      })(t, e);
    case 5:
      return t.stringValue === e.stringValue;
    case 6:
      return (function (s, a) {
        return is(s.bytesValue).isEqual(is(a.bytesValue));
      })(t, e);
    case 7:
      return t.referenceValue === e.referenceValue;
    case 8:
      return (function (s, a) {
        return (
          ft(s.geoPointValue.latitude) === ft(a.geoPointValue.latitude) &&
          ft(s.geoPointValue.longitude) === ft(a.geoPointValue.longitude)
        );
      })(t, e);
    case 2:
      return (function (s, a) {
        if ("integerValue" in s && "integerValue" in a)
          return ft(s.integerValue) === ft(a.integerValue);
        if ("doubleValue" in s && "doubleValue" in a) {
          const l = ft(s.doubleValue),
            d = ft(a.doubleValue);
          return l === d ? Fd(l) === Fd(d) : isNaN(l) && isNaN(d);
        }
        return !1;
      })(t, e);
    case 9:
      return Ta(t.arrayValue.values || [], e.arrayValue.values || [], jr);
    case 10:
    case 11:
      return (function (s, a) {
        const l = s.mapValue.fields || {},
          d = a.mapValue.fields || {};
        if (M_(l) !== M_(d)) return !1;
        for (const f in l)
          if (l.hasOwnProperty(f) && (d[f] === void 0 || !jr(l[f], d[f])))
            return !1;
        return !0;
      })(t, e);
    default:
      return Ee(52216, { left: t });
  }
}
function hu(t, e) {
  return (t.values || []).find((n) => jr(n, e)) !== void 0;
}
function Pa(t, e) {
  if (t === e) return 0;
  const n = ss(t),
    r = ss(e);
  if (n !== r) return Ae(n, r);
  switch (n) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return Ae(t.booleanValue, e.booleanValue);
    case 2:
      return (function (a, l) {
        const d = ft(a.integerValue || a.doubleValue),
          f = ft(l.integerValue || l.doubleValue);
        return d < f
          ? -1
          : d > f
          ? 1
          : d === f
          ? 0
          : isNaN(d)
          ? isNaN(f)
            ? 0
            : -1
          : 1;
      })(t, e);
    case 3:
      return F_(t.timestampValue, e.timestampValue);
    case 4:
      return F_(cu(t), cu(e));
    case 5:
      return em(t.stringValue, e.stringValue);
    case 6:
      return (function (a, l) {
        const d = is(a),
          f = is(l);
        return d.compareTo(f);
      })(t.bytesValue, e.bytesValue);
    case 7:
      return (function (a, l) {
        const d = a.split("/"),
          f = l.split("/");
        for (let p = 0; p < d.length && p < f.length; p++) {
          const g = Ae(d[p], f[p]);
          if (g !== 0) return g;
        }
        return Ae(d.length, f.length);
      })(t.referenceValue, e.referenceValue);
    case 8:
      return (function (a, l) {
        const d = Ae(ft(a.latitude), ft(l.latitude));
        return d !== 0 ? d : Ae(ft(a.longitude), ft(l.longitude));
      })(t.geoPointValue, e.geoPointValue);
    case 9:
      return U_(t.arrayValue, e.arrayValue);
    case 10:
      return (function (a, l) {
        var d, f, p, g;
        const w = a.fields || {},
          x = l.fields || {},
          P = (d = w[Bd]) === null || d === void 0 ? void 0 : d.arrayValue,
          b = (f = x[Bd]) === null || f === void 0 ? void 0 : f.arrayValue,
          N = Ae(
            ((p = P == null ? void 0 : P.values) === null || p === void 0
              ? void 0
              : p.length) || 0,
            ((g = b == null ? void 0 : b.values) === null || g === void 0
              ? void 0
              : g.length) || 0
          );
        return N !== 0 ? N : U_(P, b);
      })(t.mapValue, e.mapValue);
    case 11:
      return (function (a, l) {
        if (a === id.mapValue && l === id.mapValue) return 0;
        if (a === id.mapValue) return 1;
        if (l === id.mapValue) return -1;
        const d = a.fields || {},
          f = Object.keys(d),
          p = l.fields || {},
          g = Object.keys(p);
        f.sort(), g.sort();
        for (let w = 0; w < f.length && w < g.length; ++w) {
          const x = em(f[w], g[w]);
          if (x !== 0) return x;
          const P = Pa(d[f[w]], p[g[w]]);
          if (P !== 0) return P;
        }
        return Ae(f.length, g.length);
      })(t.mapValue, e.mapValue);
    default:
      throw Ee(23264, { le: n });
  }
}
function F_(t, e) {
  if (typeof t == "string" && typeof e == "string" && t.length === e.length)
    return Ae(t, e);
  const n = rs(t),
    r = rs(e),
    s = Ae(n.seconds, r.seconds);
  return s !== 0 ? s : Ae(n.nanos, r.nanos);
}
function U_(t, e) {
  const n = t.values || [],
    r = e.values || [];
  for (let s = 0; s < n.length && s < r.length; ++s) {
    const a = Pa(n[s], r[s]);
    if (a) return a;
  }
  return Ae(n.length, r.length);
}
function Sa(t) {
  return tm(t);
}
function tm(t) {
  return "nullValue" in t
    ? "null"
    : "booleanValue" in t
    ? "" + t.booleanValue
    : "integerValue" in t
    ? "" + t.integerValue
    : "doubleValue" in t
    ? "" + t.doubleValue
    : "timestampValue" in t
    ? (function (n) {
        const r = rs(n);
        return `time(${r.seconds},${r.nanos})`;
      })(t.timestampValue)
    : "stringValue" in t
    ? t.stringValue
    : "bytesValue" in t
    ? (function (n) {
        return is(n).toBase64();
      })(t.bytesValue)
    : "referenceValue" in t
    ? (function (n) {
        return we.fromName(n).toString();
      })(t.referenceValue)
    : "geoPointValue" in t
    ? (function (n) {
        return `geo(${n.latitude},${n.longitude})`;
      })(t.geoPointValue)
    : "arrayValue" in t
    ? (function (n) {
        let r = "[",
          s = !0;
        for (const a of n.values || []) s ? (s = !1) : (r += ","), (r += tm(a));
        return r + "]";
      })(t.arrayValue)
    : "mapValue" in t
    ? (function (n) {
        const r = Object.keys(n.fields || {}).sort();
        let s = "{",
          a = !0;
        for (const l of r)
          a ? (a = !1) : (s += ","), (s += `${l}:${tm(n.fields[l])}`);
        return s + "}";
      })(t.mapValue)
    : Ee(61005, { value: t });
}
function xd(t) {
  switch (ss(t)) {
    case 0:
    case 1:
      return 4;
    case 2:
      return 8;
    case 3:
    case 8:
      return 16;
    case 4:
      const e = hh(t);
      return e ? 16 + xd(e) : 16;
    case 5:
      return 2 * t.stringValue.length;
    case 6:
      return is(t.bytesValue).approximateByteSize();
    case 7:
      return t.referenceValue.length;
    case 9:
      return (function (r) {
        return (r.values || []).reduce((s, a) => s + xd(a), 0);
      })(t.arrayValue);
    case 10:
    case 11:
      return (function (r) {
        let s = 0;
        return (
          ps(r.fields, (a, l) => {
            s += a.length + xd(l);
          }),
          s
        );
      })(t.mapValue);
    default:
      throw Ee(13486, { value: t });
  }
}
function nm(t) {
  return !!t && "integerValue" in t;
}
function cg(t) {
  return !!t && "arrayValue" in t;
}
function B_(t) {
  return !!t && "nullValue" in t;
}
function z_(t) {
  return !!t && "doubleValue" in t && isNaN(Number(t.doubleValue));
}
function Ed(t) {
  return !!t && "mapValue" in t;
}
function pk(t) {
  var e, n;
  return (
    ((n = (((e = t == null ? void 0 : t.mapValue) === null || e === void 0
      ? void 0
      : e.fields) || {})[mE]) === null || n === void 0
      ? void 0
      : n.stringValue) === gE
  );
}
function Gl(t) {
  if (t.geoPointValue)
    return { geoPointValue: Object.assign({}, t.geoPointValue) };
  if (t.timestampValue && typeof t.timestampValue == "object")
    return { timestampValue: Object.assign({}, t.timestampValue) };
  if (t.mapValue) {
    const e = { mapValue: { fields: {} } };
    return ps(t.mapValue.fields, (n, r) => (e.mapValue.fields[n] = Gl(r))), e;
  }
  if (t.arrayValue) {
    const e = { arrayValue: { values: [] } };
    for (let n = 0; n < (t.arrayValue.values || []).length; ++n)
      e.arrayValue.values[n] = Gl(t.arrayValue.values[n]);
    return e;
  }
  return Object.assign({}, t);
}
function mk(t) {
  return (((t.mapValue || {}).fields || {}).__type__ || {}).stringValue === fk;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vn {
  constructor(e) {
    this.value = e;
  }
  static empty() {
    return new vn({ mapValue: {} });
  }
  field(e) {
    if (e.isEmpty()) return this.value;
    {
      let n = this.value;
      for (let r = 0; r < e.length - 1; ++r)
        if (((n = (n.mapValue.fields || {})[e.get(r)]), !Ed(n))) return null;
      return (n = (n.mapValue.fields || {})[e.lastSegment()]), n || null;
    }
  }
  set(e, n) {
    this.getFieldsMap(e.popLast())[e.lastSegment()] = Gl(n);
  }
  setAll(e) {
    let n = Ht.emptyPath(),
      r = {},
      s = [];
    e.forEach((l, d) => {
      if (!n.isImmediateParentOf(d)) {
        const f = this.getFieldsMap(n);
        this.applyChanges(f, r, s), (r = {}), (s = []), (n = d.popLast());
      }
      l ? (r[d.lastSegment()] = Gl(l)) : s.push(d.lastSegment());
    });
    const a = this.getFieldsMap(n);
    this.applyChanges(a, r, s);
  }
  delete(e) {
    const n = this.field(e.popLast());
    Ed(n) && n.mapValue.fields && delete n.mapValue.fields[e.lastSegment()];
  }
  isEqual(e) {
    return jr(this.value, e.value);
  }
  getFieldsMap(e) {
    let n = this.value;
    n.mapValue.fields || (n.mapValue = { fields: {} });
    for (let r = 0; r < e.length; ++r) {
      let s = n.mapValue.fields[e.get(r)];
      (Ed(s) && s.mapValue.fields) ||
        ((s = { mapValue: { fields: {} } }), (n.mapValue.fields[e.get(r)] = s)),
        (n = s);
    }
    return n.mapValue.fields;
  }
  applyChanges(e, n, r) {
    ps(n, (s, a) => (e[s] = a));
    for (const s of r) delete e[s];
  }
  clone() {
    return new vn(Gl(this.value));
  }
}
function yE(t) {
  const e = [];
  return (
    ps(t.fields, (n, r) => {
      const s = new Ht([n]);
      if (Ed(r)) {
        const a = yE(r.mapValue).fields;
        if (a.length === 0) e.push(s);
        else for (const l of a) e.push(s.child(l));
      } else e.push(s);
    }),
    new Cn(e)
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Zt {
  constructor(e, n, r, s, a, l, d) {
    (this.key = e),
      (this.documentType = n),
      (this.version = r),
      (this.readTime = s),
      (this.createTime = a),
      (this.data = l),
      (this.documentState = d);
  }
  static newInvalidDocument(e) {
    return new Zt(e, 0, Se.min(), Se.min(), Se.min(), vn.empty(), 0);
  }
  static newFoundDocument(e, n, r, s) {
    return new Zt(e, 1, n, Se.min(), r, s, 0);
  }
  static newNoDocument(e, n) {
    return new Zt(e, 2, n, Se.min(), Se.min(), vn.empty(), 0);
  }
  static newUnknownDocument(e, n) {
    return new Zt(e, 3, n, Se.min(), Se.min(), vn.empty(), 2);
  }
  convertToFoundDocument(e, n) {
    return (
      !this.createTime.isEqual(Se.min()) ||
        (this.documentType !== 2 && this.documentType !== 0) ||
        (this.createTime = e),
      (this.version = e),
      (this.documentType = 1),
      (this.data = n),
      (this.documentState = 0),
      this
    );
  }
  convertToNoDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 2),
      (this.data = vn.empty()),
      (this.documentState = 0),
      this
    );
  }
  convertToUnknownDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 3),
      (this.data = vn.empty()),
      (this.documentState = 2),
      this
    );
  }
  setHasCommittedMutations() {
    return (this.documentState = 2), this;
  }
  setHasLocalMutations() {
    return (this.documentState = 1), (this.version = Se.min()), this;
  }
  setReadTime(e) {
    return (this.readTime = e), this;
  }
  get hasLocalMutations() {
    return this.documentState === 1;
  }
  get hasCommittedMutations() {
    return this.documentState === 2;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return this.documentType !== 0;
  }
  isFoundDocument() {
    return this.documentType === 1;
  }
  isNoDocument() {
    return this.documentType === 2;
  }
  isUnknownDocument() {
    return this.documentType === 3;
  }
  isEqual(e) {
    return (
      e instanceof Zt &&
      this.key.isEqual(e.key) &&
      this.version.isEqual(e.version) &&
      this.documentType === e.documentType &&
      this.documentState === e.documentState &&
      this.data.isEqual(e.data)
    );
  }
  mutableCopy() {
    return new Zt(
      this.key,
      this.documentType,
      this.version,
      this.readTime,
      this.createTime,
      this.data.clone(),
      this.documentState
    );
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(
      this.data.value
    )}, {createTime: ${this.createTime}}), {documentType: ${
      this.documentType
    }}), {documentState: ${this.documentState}})`;
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zd {
  constructor(e, n) {
    (this.position = e), (this.inclusive = n);
  }
}
function $_(t, e, n) {
  let r = 0;
  for (let s = 0; s < t.position.length; s++) {
    const a = e[s],
      l = t.position[s];
    if (
      (a.field.isKeyField()
        ? (r = we.comparator(we.fromName(l.referenceValue), n.key))
        : (r = Pa(l, n.data.field(a.field))),
      a.dir === "desc" && (r *= -1),
      r !== 0)
    )
      break;
  }
  return r;
}
function H_(t, e) {
  if (t === null) return e === null;
  if (
    e === null ||
    t.inclusive !== e.inclusive ||
    t.position.length !== e.position.length
  )
    return !1;
  for (let n = 0; n < t.position.length; n++)
    if (!jr(t.position[n], e.position[n])) return !1;
  return !0;
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class $d {
  constructor(e, n = "asc") {
    (this.field = e), (this.dir = n);
  }
}
function gk(t, e) {
  return t.dir === e.dir && t.field.isEqual(e.field);
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vE {}
class bt extends vE {
  constructor(e, n, r) {
    super(), (this.field = e), (this.op = n), (this.value = r);
  }
  static create(e, n, r) {
    return e.isKeyField()
      ? n === "in" || n === "not-in"
        ? this.createKeyFieldInFilter(e, n, r)
        : new vk(e, n, r)
      : n === "array-contains"
      ? new xk(e, r)
      : n === "in"
      ? new Ek(e, r)
      : n === "not-in"
      ? new Tk(e, r)
      : n === "array-contains-any"
      ? new Pk(e, r)
      : new bt(e, n, r);
  }
  static createKeyFieldInFilter(e, n, r) {
    return n === "in" ? new _k(e, r) : new wk(e, r);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return this.op === "!="
      ? n !== null &&
          n.nullValue === void 0 &&
          this.matchesComparison(Pa(n, this.value))
      : n !== null &&
          ss(this.value) === ss(n) &&
          this.matchesComparison(Pa(n, this.value));
  }
  matchesComparison(e) {
    switch (this.op) {
      case "<":
        return e < 0;
      case "<=":
        return e <= 0;
      case "==":
        return e === 0;
      case "!=":
        return e !== 0;
      case ">":
        return e > 0;
      case ">=":
        return e >= 0;
      default:
        return Ee(47266, { operator: this.op });
    }
  }
  isInequality() {
    return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
  }
  getFlattenedFilters() {
    return [this];
  }
  getFilters() {
    return [this];
  }
}
class Dr extends vE {
  constructor(e, n) {
    super(), (this.filters = e), (this.op = n), (this.he = null);
  }
  static create(e, n) {
    return new Dr(e, n);
  }
  matches(e) {
    return _E(this)
      ? this.filters.find((n) => !n.matches(e)) === void 0
      : this.filters.find((n) => n.matches(e)) !== void 0;
  }
  getFlattenedFilters() {
    return (
      this.he !== null ||
        (this.he = this.filters.reduce(
          (e, n) => e.concat(n.getFlattenedFilters()),
          []
        )),
      this.he
    );
  }
  getFilters() {
    return Object.assign([], this.filters);
  }
}
function _E(t) {
  return t.op === "and";
}
function wE(t) {
  return yk(t) && _E(t);
}
function yk(t) {
  for (const e of t.filters) if (e instanceof Dr) return !1;
  return !0;
}
function rm(t) {
  if (t instanceof bt)
    return t.field.canonicalString() + t.op.toString() + Sa(t.value);
  if (wE(t)) return t.filters.map((e) => rm(e)).join(",");
  {
    const e = t.filters.map((n) => rm(n)).join(",");
    return `${t.op}(${e})`;
  }
}
function xE(t, e) {
  return t instanceof bt
    ? (function (r, s) {
        return (
          s instanceof bt &&
          r.op === s.op &&
          r.field.isEqual(s.field) &&
          jr(r.value, s.value)
        );
      })(t, e)
    : t instanceof Dr
    ? (function (r, s) {
        return s instanceof Dr &&
          r.op === s.op &&
          r.filters.length === s.filters.length
          ? r.filters.reduce((a, l, d) => a && xE(l, s.filters[d]), !0)
          : !1;
      })(t, e)
    : void Ee(19439);
}
function EE(t) {
  return t instanceof bt
    ? (function (n) {
        return `${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`;
      })(t)
    : t instanceof Dr
    ? (function (n) {
        return n.op.toString() + " {" + n.getFilters().map(EE).join(" ,") + "}";
      })(t)
    : "Filter";
}
class vk extends bt {
  constructor(e, n, r) {
    super(e, n, r), (this.key = we.fromName(r.referenceValue));
  }
  matches(e) {
    const n = we.comparator(e.key, this.key);
    return this.matchesComparison(n);
  }
}
class _k extends bt {
  constructor(e, n) {
    super(e, "in", n), (this.keys = TE("in", n));
  }
  matches(e) {
    return this.keys.some((n) => n.isEqual(e.key));
  }
}
class wk extends bt {
  constructor(e, n) {
    super(e, "not-in", n), (this.keys = TE("not-in", n));
  }
  matches(e) {
    return !this.keys.some((n) => n.isEqual(e.key));
  }
}
function TE(t, e) {
  var n;
  return (
    ((n = e.arrayValue) === null || n === void 0 ? void 0 : n.values) || []
  ).map((r) => we.fromName(r.referenceValue));
}
class xk extends bt {
  constructor(e, n) {
    super(e, "array-contains", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return cg(n) && hu(n.arrayValue, this.value);
  }
}
class Ek extends bt {
  constructor(e, n) {
    super(e, "in", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return n !== null && hu(this.value.arrayValue, n);
  }
}
class Tk extends bt {
  constructor(e, n) {
    super(e, "not-in", n);
  }
  matches(e) {
    if (hu(this.value.arrayValue, { nullValue: "NULL_VALUE" })) return !1;
    const n = e.data.field(this.field);
    return (
      n !== null && n.nullValue === void 0 && !hu(this.value.arrayValue, n)
    );
  }
}
class Pk extends bt {
  constructor(e, n) {
    super(e, "array-contains-any", n);
  }
  matches(e) {
    const n = e.data.field(this.field);
    return (
      !(!cg(n) || !n.arrayValue.values) &&
      n.arrayValue.values.some((r) => hu(this.value.arrayValue, r))
    );
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Sk {
  constructor(e, n = null, r = [], s = [], a = null, l = null, d = null) {
    (this.path = e),
      (this.collectionGroup = n),
      (this.orderBy = r),
      (this.filters = s),
      (this.limit = a),
      (this.startAt = l),
      (this.endAt = d),
      (this.Pe = null);
  }
}
function W_(t, e = null, n = [], r = [], s = null, a = null, l = null) {
  return new Sk(t, e, n, r, s, a, l);
}
function dg(t) {
  const e = be(t);
  if (e.Pe === null) {
    let n = e.path.canonicalString();
    e.collectionGroup !== null && (n += "|cg:" + e.collectionGroup),
      (n += "|f:"),
      (n += e.filters.map((r) => rm(r)).join(",")),
      (n += "|ob:"),
      (n += e.orderBy
        .map((r) =>
          (function (a) {
            return a.field.canonicalString() + a.dir;
          })(r)
        )
        .join(",")),
      dh(e.limit) || ((n += "|l:"), (n += e.limit)),
      e.startAt &&
        ((n += "|lb:"),
        (n += e.startAt.inclusive ? "b:" : "a:"),
        (n += e.startAt.position.map((r) => Sa(r)).join(","))),
      e.endAt &&
        ((n += "|ub:"),
        (n += e.endAt.inclusive ? "a:" : "b:"),
        (n += e.endAt.position.map((r) => Sa(r)).join(","))),
      (e.Pe = n);
  }
  return e.Pe;
}
function hg(t, e) {
  if (t.limit !== e.limit || t.orderBy.length !== e.orderBy.length) return !1;
  for (let n = 0; n < t.orderBy.length; n++)
    if (!gk(t.orderBy[n], e.orderBy[n])) return !1;
  if (t.filters.length !== e.filters.length) return !1;
  for (let n = 0; n < t.filters.length; n++)
    if (!xE(t.filters[n], e.filters[n])) return !1;
  return (
    t.collectionGroup === e.collectionGroup &&
    !!t.path.isEqual(e.path) &&
    !!H_(t.startAt, e.startAt) &&
    H_(t.endAt, e.endAt)
  );
}
function im(t) {
  return (
    we.isDocumentKey(t.path) &&
    t.collectionGroup === null &&
    t.filters.length === 0
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fh {
  constructor(
    e,
    n = null,
    r = [],
    s = [],
    a = null,
    l = "F",
    d = null,
    f = null
  ) {
    (this.path = e),
      (this.collectionGroup = n),
      (this.explicitOrderBy = r),
      (this.filters = s),
      (this.limit = a),
      (this.limitType = l),
      (this.startAt = d),
      (this.endAt = f),
      (this.Te = null),
      (this.Ie = null),
      (this.de = null),
      this.startAt,
      this.endAt;
  }
}
function Ik(t, e, n, r, s, a, l, d) {
  return new fh(t, e, n, r, s, a, l, d);
}
function fg(t) {
  return new fh(t);
}
function q_(t) {
  return (
    t.filters.length === 0 &&
    t.limit === null &&
    t.startAt == null &&
    t.endAt == null &&
    (t.explicitOrderBy.length === 0 ||
      (t.explicitOrderBy.length === 1 &&
        t.explicitOrderBy[0].field.isKeyField()))
  );
}
function bk(t) {
  return t.collectionGroup !== null;
}
function Kl(t) {
  const e = be(t);
  if (e.Te === null) {
    e.Te = [];
    const n = new Set();
    for (const a of e.explicitOrderBy)
      e.Te.push(a), n.add(a.field.canonicalString());
    const r =
      e.explicitOrderBy.length > 0
        ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir
        : "asc";
    (function (l) {
      let d = new At(Ht.comparator);
      return (
        l.filters.forEach((f) => {
          f.getFlattenedFilters().forEach((p) => {
            p.isInequality() && (d = d.add(p.field));
          });
        }),
        d
      );
    })(e).forEach((a) => {
      n.has(a.canonicalString()) || a.isKeyField() || e.Te.push(new $d(a, r));
    }),
      n.has(Ht.keyField().canonicalString()) ||
        e.Te.push(new $d(Ht.keyField(), r));
  }
  return e.Te;
}
function Sr(t) {
  const e = be(t);
  return e.Ie || (e.Ie = Ck(e, Kl(t))), e.Ie;
}
function Ck(t, e) {
  if (t.limitType === "F")
    return W_(
      t.path,
      t.collectionGroup,
      e,
      t.filters,
      t.limit,
      t.startAt,
      t.endAt
    );
  {
    e = e.map((s) => {
      const a = s.dir === "desc" ? "asc" : "desc";
      return new $d(s.field, a);
    });
    const n = t.endAt ? new zd(t.endAt.position, t.endAt.inclusive) : null,
      r = t.startAt ? new zd(t.startAt.position, t.startAt.inclusive) : null;
    return W_(t.path, t.collectionGroup, e, t.filters, t.limit, n, r);
  }
}
function sm(t, e, n) {
  return new fh(
    t.path,
    t.collectionGroup,
    t.explicitOrderBy.slice(),
    t.filters.slice(),
    e,
    n,
    t.startAt,
    t.endAt
  );
}
function ph(t, e) {
  return hg(Sr(t), Sr(e)) && t.limitType === e.limitType;
}
function PE(t) {
  return `${dg(Sr(t))}|lt:${t.limitType}`;
}
function ua(t) {
  return `Query(target=${(function (n) {
    let r = n.path.canonicalString();
    return (
      n.collectionGroup !== null &&
        (r += " collectionGroup=" + n.collectionGroup),
      n.filters.length > 0 &&
        (r += `, filters: [${n.filters.map((s) => EE(s)).join(", ")}]`),
      dh(n.limit) || (r += ", limit: " + n.limit),
      n.orderBy.length > 0 &&
        (r += `, orderBy: [${n.orderBy
          .map((s) =>
            (function (l) {
              return `${l.field.canonicalString()} (${l.dir})`;
            })(s)
          )
          .join(", ")}]`),
      n.startAt &&
        ((r += ", startAt: "),
        (r += n.startAt.inclusive ? "b:" : "a:"),
        (r += n.startAt.position.map((s) => Sa(s)).join(","))),
      n.endAt &&
        ((r += ", endAt: "),
        (r += n.endAt.inclusive ? "a:" : "b:"),
        (r += n.endAt.position.map((s) => Sa(s)).join(","))),
      `Target(${r})`
    );
  })(Sr(t))}; limitType=${t.limitType})`;
}
function mh(t, e) {
  return (
    e.isFoundDocument() &&
    (function (r, s) {
      const a = s.key.path;
      return r.collectionGroup !== null
        ? s.key.hasCollectionId(r.collectionGroup) && r.path.isPrefixOf(a)
        : we.isDocumentKey(r.path)
        ? r.path.isEqual(a)
        : r.path.isImmediateParentOf(a);
    })(t, e) &&
    (function (r, s) {
      for (const a of Kl(r))
        if (!a.field.isKeyField() && s.data.field(a.field) === null) return !1;
      return !0;
    })(t, e) &&
    (function (r, s) {
      for (const a of r.filters) if (!a.matches(s)) return !1;
      return !0;
    })(t, e) &&
    (function (r, s) {
      return !(
        (r.startAt &&
          !(function (l, d, f) {
            const p = $_(l, d, f);
            return l.inclusive ? p <= 0 : p < 0;
          })(r.startAt, Kl(r), s)) ||
        (r.endAt &&
          !(function (l, d, f) {
            const p = $_(l, d, f);
            return l.inclusive ? p >= 0 : p > 0;
          })(r.endAt, Kl(r), s))
      );
    })(t, e)
  );
}
function Ak(t) {
  return (
    t.collectionGroup ||
    (t.path.length % 2 == 1
      ? t.path.lastSegment()
      : t.path.get(t.path.length - 2))
  );
}
function SE(t) {
  return (e, n) => {
    let r = !1;
    for (const s of Kl(t)) {
      const a = Rk(s, e, n);
      if (a !== 0) return a;
      r = r || s.field.isKeyField();
    }
    return 0;
  };
}
function Rk(t, e, n) {
  const r = t.field.isKeyField()
    ? we.comparator(e.key, n.key)
    : (function (a, l, d) {
        const f = l.data.field(a),
          p = d.data.field(a);
        return f !== null && p !== null ? Pa(f, p) : Ee(42886);
      })(t.field, e, n);
  switch (t.dir) {
    case "asc":
      return r;
    case "desc":
      return -1 * r;
    default:
      return Ee(19790, { direction: t.dir });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fo {
  constructor(e, n) {
    (this.mapKeyFn = e),
      (this.equalsFn = n),
      (this.inner = {}),
      (this.innerSize = 0);
  }
  get(e) {
    const n = this.mapKeyFn(e),
      r = this.inner[n];
    if (r !== void 0) {
      for (const [s, a] of r) if (this.equalsFn(s, e)) return a;
    }
  }
  has(e) {
    return this.get(e) !== void 0;
  }
  set(e, n) {
    const r = this.mapKeyFn(e),
      s = this.inner[r];
    if (s === void 0) return (this.inner[r] = [[e, n]]), void this.innerSize++;
    for (let a = 0; a < s.length; a++)
      if (this.equalsFn(s[a][0], e)) return void (s[a] = [e, n]);
    s.push([e, n]), this.innerSize++;
  }
  delete(e) {
    const n = this.mapKeyFn(e),
      r = this.inner[n];
    if (r === void 0) return !1;
    for (let s = 0; s < r.length; s++)
      if (this.equalsFn(r[s][0], e))
        return (
          r.length === 1 ? delete this.inner[n] : r.splice(s, 1),
          this.innerSize--,
          !0
        );
    return !1;
  }
  forEach(e) {
    ps(this.inner, (n, r) => {
      for (const [s, a] of r) e(s, a);
    });
  }
  isEmpty() {
    return uE(this.inner);
  }
  size() {
    return this.innerSize;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const kk = new st(we.comparator);
function ci() {
  return kk;
}
const IE = new st(we.comparator);
function Bl(...t) {
  let e = IE;
  for (const n of t) e = e.insert(n.key, n);
  return e;
}
function bE(t) {
  let e = IE;
  return t.forEach((n, r) => (e = e.insert(n, r.overlayedDocument))), e;
}
function Ks() {
  return Ql();
}
function CE() {
  return Ql();
}
function Ql() {
  return new fo(
    (t) => t.toString(),
    (t, e) => t.isEqual(e)
  );
}
const Nk = new st(we.comparator),
  jk = new At(we.comparator);
function je(...t) {
  let e = jk;
  for (const n of t) e = e.add(n);
  return e;
}
const Dk = new At(Ae);
function Vk() {
  return Dk;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function pg(t, e) {
  if (t.useProto3Json) {
    if (isNaN(e)) return { doubleValue: "NaN" };
    if (e === 1 / 0) return { doubleValue: "Infinity" };
    if (e === -1 / 0) return { doubleValue: "-Infinity" };
  }
  return { doubleValue: Fd(e) ? "-0" : e };
}
function AE(t) {
  return { integerValue: "" + t };
}
function Ok(t, e) {
  return lk(e) ? AE(e) : pg(t, e);
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class gh {
  constructor() {
    this._ = void 0;
  }
}
function Mk(t, e, n) {
  return t instanceof Hd
    ? (function (s, a) {
        const l = {
          fields: {
            [hE]: { stringValue: dE },
            [pE]: {
              timestampValue: { seconds: s.seconds, nanos: s.nanoseconds },
            },
          },
        };
        return (
          a && ug(a) && (a = hh(a)), a && (l.fields[fE] = a), { mapValue: l }
        );
      })(n, e)
    : t instanceof fu
    ? kE(t, e)
    : t instanceof pu
    ? NE(t, e)
    : (function (s, a) {
        const l = RE(s, a),
          d = G_(l) + G_(s.Ee);
        return nm(l) && nm(s.Ee) ? AE(d) : pg(s.serializer, d);
      })(t, e);
}
function Lk(t, e, n) {
  return t instanceof fu ? kE(t, e) : t instanceof pu ? NE(t, e) : n;
}
function RE(t, e) {
  return t instanceof Wd
    ? (function (r) {
        return (
          nm(r) ||
          (function (a) {
            return !!a && "doubleValue" in a;
          })(r)
        );
      })(e)
      ? e
      : { integerValue: 0 }
    : null;
}
class Hd extends gh {}
class fu extends gh {
  constructor(e) {
    super(), (this.elements = e);
  }
}
function kE(t, e) {
  const n = jE(e);
  for (const r of t.elements) n.some((s) => jr(s, r)) || n.push(r);
  return { arrayValue: { values: n } };
}
class pu extends gh {
  constructor(e) {
    super(), (this.elements = e);
  }
}
function NE(t, e) {
  let n = jE(e);
  for (const r of t.elements) n = n.filter((s) => !jr(s, r));
  return { arrayValue: { values: n } };
}
class Wd extends gh {
  constructor(e, n) {
    super(), (this.serializer = e), (this.Ee = n);
  }
}
function G_(t) {
  return ft(t.integerValue || t.doubleValue);
}
function jE(t) {
  return cg(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [];
}
function Fk(t, e) {
  return (
    t.field.isEqual(e.field) &&
    (function (r, s) {
      return (r instanceof fu && s instanceof fu) ||
        (r instanceof pu && s instanceof pu)
        ? Ta(r.elements, s.elements, jr)
        : r instanceof Wd && s instanceof Wd
        ? jr(r.Ee, s.Ee)
        : r instanceof Hd && s instanceof Hd;
    })(t.transform, e.transform)
  );
}
class Uk {
  constructor(e, n) {
    (this.version = e), (this.transformResults = n);
  }
}
class Ir {
  constructor(e, n) {
    (this.updateTime = e), (this.exists = n);
  }
  static none() {
    return new Ir();
  }
  static exists(e) {
    return new Ir(void 0, e);
  }
  static updateTime(e) {
    return new Ir(e);
  }
  get isNone() {
    return this.updateTime === void 0 && this.exists === void 0;
  }
  isEqual(e) {
    return (
      this.exists === e.exists &&
      (this.updateTime
        ? !!e.updateTime && this.updateTime.isEqual(e.updateTime)
        : !e.updateTime)
    );
  }
}
function Td(t, e) {
  return t.updateTime !== void 0
    ? e.isFoundDocument() && e.version.isEqual(t.updateTime)
    : t.exists === void 0 || t.exists === e.isFoundDocument();
}
class yh {}
function DE(t, e) {
  if (!t.hasLocalMutations || (e && e.fields.length === 0)) return null;
  if (e === null)
    return t.isNoDocument()
      ? new OE(t.key, Ir.none())
      : new ku(t.key, t.data, Ir.none());
  {
    const n = t.data,
      r = vn.empty();
    let s = new At(Ht.comparator);
    for (let a of e.fields)
      if (!s.has(a)) {
        let l = n.field(a);
        l === null && a.length > 1 && ((a = a.popLast()), (l = n.field(a))),
          l === null ? r.delete(a) : r.set(a, l),
          (s = s.add(a));
      }
    return new ms(t.key, r, new Cn(s.toArray()), Ir.none());
  }
}
function Bk(t, e, n) {
  t instanceof ku
    ? (function (s, a, l) {
        const d = s.value.clone(),
          f = Q_(s.fieldTransforms, a, l.transformResults);
        d.setAll(f),
          a.convertToFoundDocument(l.version, d).setHasCommittedMutations();
      })(t, e, n)
    : t instanceof ms
    ? (function (s, a, l) {
        if (!Td(s.precondition, a))
          return void a.convertToUnknownDocument(l.version);
        const d = Q_(s.fieldTransforms, a, l.transformResults),
          f = a.data;
        f.setAll(VE(s)),
          f.setAll(d),
          a.convertToFoundDocument(l.version, f).setHasCommittedMutations();
      })(t, e, n)
    : (function (s, a, l) {
        a.convertToNoDocument(l.version).setHasCommittedMutations();
      })(0, e, n);
}
function Xl(t, e, n, r) {
  return t instanceof ku
    ? (function (a, l, d, f) {
        if (!Td(a.precondition, l)) return d;
        const p = a.value.clone(),
          g = X_(a.fieldTransforms, f, l);
        return (
          p.setAll(g),
          l.convertToFoundDocument(l.version, p).setHasLocalMutations(),
          null
        );
      })(t, e, n, r)
    : t instanceof ms
    ? (function (a, l, d, f) {
        if (!Td(a.precondition, l)) return d;
        const p = X_(a.fieldTransforms, f, l),
          g = l.data;
        return (
          g.setAll(VE(a)),
          g.setAll(p),
          l.convertToFoundDocument(l.version, g).setHasLocalMutations(),
          d === null
            ? null
            : d
                .unionWith(a.fieldMask.fields)
                .unionWith(a.fieldTransforms.map((w) => w.field))
        );
      })(t, e, n, r)
    : (function (a, l, d) {
        return Td(a.precondition, l)
          ? (l.convertToNoDocument(l.version).setHasLocalMutations(), null)
          : d;
      })(t, e, n);
}
function zk(t, e) {
  let n = null;
  for (const r of t.fieldTransforms) {
    const s = e.data.field(r.field),
      a = RE(r.transform, s || null);
    a != null && (n === null && (n = vn.empty()), n.set(r.field, a));
  }
  return n || null;
}
function K_(t, e) {
  return (
    t.type === e.type &&
    !!t.key.isEqual(e.key) &&
    !!t.precondition.isEqual(e.precondition) &&
    !!(function (r, s) {
      return (
        (r === void 0 && s === void 0) ||
        (!(!r || !s) && Ta(r, s, (a, l) => Fk(a, l)))
      );
    })(t.fieldTransforms, e.fieldTransforms) &&
    (t.type === 0
      ? t.value.isEqual(e.value)
      : t.type !== 1 ||
        (t.data.isEqual(e.data) && t.fieldMask.isEqual(e.fieldMask)))
  );
}
class ku extends yh {
  constructor(e, n, r, s = []) {
    super(),
      (this.key = e),
      (this.value = n),
      (this.precondition = r),
      (this.fieldTransforms = s),
      (this.type = 0);
  }
  getFieldMask() {
    return null;
  }
}
class ms extends yh {
  constructor(e, n, r, s, a = []) {
    super(),
      (this.key = e),
      (this.data = n),
      (this.fieldMask = r),
      (this.precondition = s),
      (this.fieldTransforms = a),
      (this.type = 1);
  }
  getFieldMask() {
    return this.fieldMask;
  }
}
function VE(t) {
  const e = new Map();
  return (
    t.fieldMask.fields.forEach((n) => {
      if (!n.isEmpty()) {
        const r = t.data.field(n);
        e.set(n, r);
      }
    }),
    e
  );
}
function Q_(t, e, n) {
  const r = new Map();
  ze(t.length === n.length, 32656, { Ae: n.length, Re: t.length });
  for (let s = 0; s < n.length; s++) {
    const a = t[s],
      l = a.transform,
      d = e.data.field(a.field);
    r.set(a.field, Lk(l, d, n[s]));
  }
  return r;
}
function X_(t, e, n) {
  const r = new Map();
  for (const s of t) {
    const a = s.transform,
      l = n.data.field(s.field);
    r.set(s.field, Mk(a, l, e));
  }
  return r;
}
class OE extends yh {
  constructor(e, n) {
    super(),
      (this.key = e),
      (this.precondition = n),
      (this.type = 2),
      (this.fieldTransforms = []);
  }
  getFieldMask() {
    return null;
  }
}
class $k extends yh {
  constructor(e, n) {
    super(),
      (this.key = e),
      (this.precondition = n),
      (this.type = 3),
      (this.fieldTransforms = []);
  }
  getFieldMask() {
    return null;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Hk {
  constructor(e, n, r, s) {
    (this.batchId = e),
      (this.localWriteTime = n),
      (this.baseMutations = r),
      (this.mutations = s);
  }
  applyToRemoteDocument(e, n) {
    const r = n.mutationResults;
    for (let s = 0; s < this.mutations.length; s++) {
      const a = this.mutations[s];
      a.key.isEqual(e.key) && Bk(a, e, r[s]);
    }
  }
  applyToLocalView(e, n) {
    for (const r of this.baseMutations)
      r.key.isEqual(e.key) && (n = Xl(r, e, n, this.localWriteTime));
    for (const r of this.mutations)
      r.key.isEqual(e.key) && (n = Xl(r, e, n, this.localWriteTime));
    return n;
  }
  applyToLocalDocumentSet(e, n) {
    const r = CE();
    return (
      this.mutations.forEach((s) => {
        const a = e.get(s.key),
          l = a.overlayedDocument;
        let d = this.applyToLocalView(l, a.mutatedFields);
        d = n.has(s.key) ? null : d;
        const f = DE(l, d);
        f !== null && r.set(s.key, f),
          l.isValidDocument() || l.convertToNoDocument(Se.min());
      }),
      r
    );
  }
  keys() {
    return this.mutations.reduce((e, n) => e.add(n.key), je());
  }
  isEqual(e) {
    return (
      this.batchId === e.batchId &&
      Ta(this.mutations, e.mutations, (n, r) => K_(n, r)) &&
      Ta(this.baseMutations, e.baseMutations, (n, r) => K_(n, r))
    );
  }
}
class mg {
  constructor(e, n, r, s) {
    (this.batch = e),
      (this.commitVersion = n),
      (this.mutationResults = r),
      (this.docVersions = s);
  }
  static from(e, n, r) {
    ze(e.mutations.length === r.length, 58842, {
      Ve: e.mutations.length,
      me: r.length,
    });
    let s = (function () {
      return Nk;
    })();
    const a = e.mutations;
    for (let l = 0; l < a.length; l++) s = s.insert(a[l].key, r[l].version);
    return new mg(e, n, r, s);
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Wk {
  constructor(e, n) {
    (this.largestBatchId = e), (this.mutation = n);
  }
  getKey() {
    return this.mutation.key;
  }
  isEqual(e) {
    return e !== null && this.mutation === e.mutation;
  }
  toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qk {
  constructor(e, n) {
    (this.count = e), (this.unchangedNames = n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var vt, Me;
function Gk(t) {
  switch (t) {
    case Z.OK:
      return Ee(64938);
    case Z.CANCELLED:
    case Z.UNKNOWN:
    case Z.DEADLINE_EXCEEDED:
    case Z.RESOURCE_EXHAUSTED:
    case Z.INTERNAL:
    case Z.UNAVAILABLE:
    case Z.UNAUTHENTICATED:
      return !1;
    case Z.INVALID_ARGUMENT:
    case Z.NOT_FOUND:
    case Z.ALREADY_EXISTS:
    case Z.PERMISSION_DENIED:
    case Z.FAILED_PRECONDITION:
    case Z.ABORTED:
    case Z.OUT_OF_RANGE:
    case Z.UNIMPLEMENTED:
    case Z.DATA_LOSS:
      return !0;
    default:
      return Ee(15467, { code: t });
  }
}
function ME(t) {
  if (t === void 0) return ui("GRPC error has no .code"), Z.UNKNOWN;
  switch (t) {
    case vt.OK:
      return Z.OK;
    case vt.CANCELLED:
      return Z.CANCELLED;
    case vt.UNKNOWN:
      return Z.UNKNOWN;
    case vt.DEADLINE_EXCEEDED:
      return Z.DEADLINE_EXCEEDED;
    case vt.RESOURCE_EXHAUSTED:
      return Z.RESOURCE_EXHAUSTED;
    case vt.INTERNAL:
      return Z.INTERNAL;
    case vt.UNAVAILABLE:
      return Z.UNAVAILABLE;
    case vt.UNAUTHENTICATED:
      return Z.UNAUTHENTICATED;
    case vt.INVALID_ARGUMENT:
      return Z.INVALID_ARGUMENT;
    case vt.NOT_FOUND:
      return Z.NOT_FOUND;
    case vt.ALREADY_EXISTS:
      return Z.ALREADY_EXISTS;
    case vt.PERMISSION_DENIED:
      return Z.PERMISSION_DENIED;
    case vt.FAILED_PRECONDITION:
      return Z.FAILED_PRECONDITION;
    case vt.ABORTED:
      return Z.ABORTED;
    case vt.OUT_OF_RANGE:
      return Z.OUT_OF_RANGE;
    case vt.UNIMPLEMENTED:
      return Z.UNIMPLEMENTED;
    case vt.DATA_LOSS:
      return Z.DATA_LOSS;
    default:
      return Ee(39323, { code: t });
  }
}
((Me = vt || (vt = {}))[(Me.OK = 0)] = "OK"),
  (Me[(Me.CANCELLED = 1)] = "CANCELLED"),
  (Me[(Me.UNKNOWN = 2)] = "UNKNOWN"),
  (Me[(Me.INVALID_ARGUMENT = 3)] = "INVALID_ARGUMENT"),
  (Me[(Me.DEADLINE_EXCEEDED = 4)] = "DEADLINE_EXCEEDED"),
  (Me[(Me.NOT_FOUND = 5)] = "NOT_FOUND"),
  (Me[(Me.ALREADY_EXISTS = 6)] = "ALREADY_EXISTS"),
  (Me[(Me.PERMISSION_DENIED = 7)] = "PERMISSION_DENIED"),
  (Me[(Me.UNAUTHENTICATED = 16)] = "UNAUTHENTICATED"),
  (Me[(Me.RESOURCE_EXHAUSTED = 8)] = "RESOURCE_EXHAUSTED"),
  (Me[(Me.FAILED_PRECONDITION = 9)] = "FAILED_PRECONDITION"),
  (Me[(Me.ABORTED = 10)] = "ABORTED"),
  (Me[(Me.OUT_OF_RANGE = 11)] = "OUT_OF_RANGE"),
  (Me[(Me.UNIMPLEMENTED = 12)] = "UNIMPLEMENTED"),
  (Me[(Me.INTERNAL = 13)] = "INTERNAL"),
  (Me[(Me.UNAVAILABLE = 14)] = "UNAVAILABLE"),
  (Me[(Me.DATA_LOSS = 15)] = "DATA_LOSS");
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Kk = new Ji([4294967295, 4294967295], 0);
function Y_(t) {
  const e = oE().encode(t),
    n = new Jx();
  return n.update(e), new Uint8Array(n.digest());
}
function J_(t) {
  const e = new DataView(t.buffer),
    n = e.getUint32(0, !0),
    r = e.getUint32(4, !0),
    s = e.getUint32(8, !0),
    a = e.getUint32(12, !0);
  return [new Ji([n, r], 0), new Ji([s, a], 0)];
}
class gg {
  constructor(e, n, r) {
    if (
      ((this.bitmap = e),
      (this.padding = n),
      (this.hashCount = r),
      n < 0 || n >= 8)
    )
      throw new zl(`Invalid padding: ${n}`);
    if (r < 0) throw new zl(`Invalid hash count: ${r}`);
    if (e.length > 0 && this.hashCount === 0)
      throw new zl(`Invalid hash count: ${r}`);
    if (e.length === 0 && n !== 0)
      throw new zl(`Invalid padding when bitmap length is 0: ${n}`);
    (this.fe = 8 * e.length - n), (this.ge = Ji.fromNumber(this.fe));
  }
  pe(e, n, r) {
    let s = e.add(n.multiply(Ji.fromNumber(r)));
    return (
      s.compare(Kk) === 1 && (s = new Ji([s.getBits(0), s.getBits(1)], 0)),
      s.modulo(this.ge).toNumber()
    );
  }
  ye(e) {
    return !!(this.bitmap[Math.floor(e / 8)] & (1 << e % 8));
  }
  mightContain(e) {
    if (this.fe === 0) return !1;
    const n = Y_(e),
      [r, s] = J_(n);
    for (let a = 0; a < this.hashCount; a++) {
      const l = this.pe(r, s, a);
      if (!this.ye(l)) return !1;
    }
    return !0;
  }
  static create(e, n, r) {
    const s = e % 8 == 0 ? 0 : 8 - (e % 8),
      a = new Uint8Array(Math.ceil(e / 8)),
      l = new gg(a, s, n);
    return r.forEach((d) => l.insert(d)), l;
  }
  insert(e) {
    if (this.fe === 0) return;
    const n = Y_(e),
      [r, s] = J_(n);
    for (let a = 0; a < this.hashCount; a++) {
      const l = this.pe(r, s, a);
      this.we(l);
    }
  }
  we(e) {
    const n = Math.floor(e / 8),
      r = e % 8;
    this.bitmap[n] |= 1 << r;
  }
}
class zl extends Error {
  constructor() {
    super(...arguments), (this.name = "BloomFilterError");
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vh {
  constructor(e, n, r, s, a) {
    (this.snapshotVersion = e),
      (this.targetChanges = n),
      (this.targetMismatches = r),
      (this.documentUpdates = s),
      (this.resolvedLimboDocuments = a);
  }
  static createSynthesizedRemoteEventForCurrentChange(e, n, r) {
    const s = new Map();
    return (
      s.set(e, Nu.createSynthesizedTargetChangeForCurrentChange(e, n, r)),
      new vh(Se.min(), s, new st(Ae), ci(), je())
    );
  }
}
class Nu {
  constructor(e, n, r, s, a) {
    (this.resumeToken = e),
      (this.current = n),
      (this.addedDocuments = r),
      (this.modifiedDocuments = s),
      (this.removedDocuments = a);
  }
  static createSynthesizedTargetChangeForCurrentChange(e, n, r) {
    return new Nu(r, n, je(), je(), je());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Pd {
  constructor(e, n, r, s) {
    (this.Se = e), (this.removedTargetIds = n), (this.key = r), (this.be = s);
  }
}
class LE {
  constructor(e, n) {
    (this.targetId = e), (this.De = n);
  }
}
class FE {
  constructor(e, n, r = Wt.EMPTY_BYTE_STRING, s = null) {
    (this.state = e),
      (this.targetIds = n),
      (this.resumeToken = r),
      (this.cause = s);
  }
}
class Z_ {
  constructor() {
    (this.ve = 0),
      (this.Ce = ew()),
      (this.Fe = Wt.EMPTY_BYTE_STRING),
      (this.Me = !1),
      (this.xe = !0);
  }
  get current() {
    return this.Me;
  }
  get resumeToken() {
    return this.Fe;
  }
  get Oe() {
    return this.ve !== 0;
  }
  get Ne() {
    return this.xe;
  }
  Be(e) {
    e.approximateByteSize() > 0 && ((this.xe = !0), (this.Fe = e));
  }
  Le() {
    let e = je(),
      n = je(),
      r = je();
    return (
      this.Ce.forEach((s, a) => {
        switch (a) {
          case 0:
            e = e.add(s);
            break;
          case 2:
            n = n.add(s);
            break;
          case 1:
            r = r.add(s);
            break;
          default:
            Ee(38017, { changeType: a });
        }
      }),
      new Nu(this.Fe, this.Me, e, n, r)
    );
  }
  ke() {
    (this.xe = !1), (this.Ce = ew());
  }
  qe(e, n) {
    (this.xe = !0), (this.Ce = this.Ce.insert(e, n));
  }
  Qe(e) {
    (this.xe = !0), (this.Ce = this.Ce.remove(e));
  }
  $e() {
    this.ve += 1;
  }
  Ue() {
    (this.ve -= 1), ze(this.ve >= 0, 3241, { ve: this.ve });
  }
  Ke() {
    (this.xe = !0), (this.Me = !0);
  }
}
class Qk {
  constructor(e) {
    (this.We = e),
      (this.Ge = new Map()),
      (this.ze = ci()),
      (this.je = sd()),
      (this.Je = sd()),
      (this.He = new st(Ae));
  }
  Ye(e) {
    for (const n of e.Se)
      e.be && e.be.isFoundDocument()
        ? this.Ze(n, e.be)
        : this.Xe(n, e.key, e.be);
    for (const n of e.removedTargetIds) this.Xe(n, e.key, e.be);
  }
  et(e) {
    this.forEachTarget(e, (n) => {
      const r = this.tt(n);
      switch (e.state) {
        case 0:
          this.nt(n) && r.Be(e.resumeToken);
          break;
        case 1:
          r.Ue(), r.Oe || r.ke(), r.Be(e.resumeToken);
          break;
        case 2:
          r.Ue(), r.Oe || this.removeTarget(n);
          break;
        case 3:
          this.nt(n) && (r.Ke(), r.Be(e.resumeToken));
          break;
        case 4:
          this.nt(n) && (this.rt(n), r.Be(e.resumeToken));
          break;
        default:
          Ee(56790, { state: e.state });
      }
    });
  }
  forEachTarget(e, n) {
    e.targetIds.length > 0
      ? e.targetIds.forEach(n)
      : this.Ge.forEach((r, s) => {
          this.nt(s) && n(s);
        });
  }
  it(e) {
    const n = e.targetId,
      r = e.De.count,
      s = this.st(n);
    if (s) {
      const a = s.target;
      if (im(a))
        if (r === 0) {
          const l = new we(a.path);
          this.Xe(n, l, Zt.newNoDocument(l, Se.min()));
        } else ze(r === 1, 20013, { expectedCount: r });
      else {
        const l = this.ot(n);
        if (l !== r) {
          const d = this._t(e),
            f = d ? this.ut(d, e, l) : 1;
          if (f !== 0) {
            this.rt(n);
            const p =
              f === 2
                ? "TargetPurposeExistenceFilterMismatchBloom"
                : "TargetPurposeExistenceFilterMismatch";
            this.He = this.He.insert(n, p);
          }
        }
      }
    }
  }
  _t(e) {
    const n = e.De.unchangedNames;
    if (!n || !n.bits) return null;
    const {
      bits: { bitmap: r = "", padding: s = 0 },
      hashCount: a = 0,
    } = n;
    let l, d;
    try {
      l = is(r).toUint8Array();
    } catch (f) {
      if (f instanceof cE)
        return (
          ts(
            "Decoding the base64 bloom filter in existence filter failed (" +
              f.message +
              "); ignoring the bloom filter and falling back to full re-query."
          ),
          null
        );
      throw f;
    }
    try {
      d = new gg(l, s, a);
    } catch (f) {
      return (
        ts(
          f instanceof zl
            ? "BloomFilter error: "
            : "Applying bloom filter failed: ",
          f
        ),
        null
      );
    }
    return d.fe === 0 ? null : d;
  }
  ut(e, n, r) {
    return n.De.count === r - this.ht(e, n.targetId) ? 0 : 2;
  }
  ht(e, n) {
    const r = this.We.getRemoteKeysForTarget(n);
    let s = 0;
    return (
      r.forEach((a) => {
        const l = this.We.lt(),
          d = `projects/${l.projectId}/databases/${
            l.database
          }/documents/${a.path.canonicalString()}`;
        e.mightContain(d) || (this.Xe(n, a, null), s++);
      }),
      s
    );
  }
  Pt(e) {
    const n = new Map();
    this.Ge.forEach((a, l) => {
      const d = this.st(l);
      if (d) {
        if (a.current && im(d.target)) {
          const f = new we(d.target.path);
          this.Tt(f).has(l) ||
            this.It(l, f) ||
            this.Xe(l, f, Zt.newNoDocument(f, e));
        }
        a.Ne && (n.set(l, a.Le()), a.ke());
      }
    });
    let r = je();
    this.Je.forEach((a, l) => {
      let d = !0;
      l.forEachWhile((f) => {
        const p = this.st(f);
        return (
          !p || p.purpose === "TargetPurposeLimboResolution" || ((d = !1), !1)
        );
      }),
        d && (r = r.add(a));
    }),
      this.ze.forEach((a, l) => l.setReadTime(e));
    const s = new vh(e, n, this.He, this.ze, r);
    return (
      (this.ze = ci()),
      (this.je = sd()),
      (this.Je = sd()),
      (this.He = new st(Ae)),
      s
    );
  }
  Ze(e, n) {
    if (!this.nt(e)) return;
    const r = this.It(e, n.key) ? 2 : 0;
    this.tt(e).qe(n.key, r),
      (this.ze = this.ze.insert(n.key, n)),
      (this.je = this.je.insert(n.key, this.Tt(n.key).add(e))),
      (this.Je = this.Je.insert(n.key, this.dt(n.key).add(e)));
  }
  Xe(e, n, r) {
    if (!this.nt(e)) return;
    const s = this.tt(e);
    this.It(e, n) ? s.qe(n, 1) : s.Qe(n),
      (this.Je = this.Je.insert(n, this.dt(n).delete(e))),
      (this.Je = this.Je.insert(n, this.dt(n).add(e))),
      r && (this.ze = this.ze.insert(n, r));
  }
  removeTarget(e) {
    this.Ge.delete(e);
  }
  ot(e) {
    const n = this.tt(e).Le();
    return (
      this.We.getRemoteKeysForTarget(e).size +
      n.addedDocuments.size -
      n.removedDocuments.size
    );
  }
  $e(e) {
    this.tt(e).$e();
  }
  tt(e) {
    let n = this.Ge.get(e);
    return n || ((n = new Z_()), this.Ge.set(e, n)), n;
  }
  dt(e) {
    let n = this.Je.get(e);
    return n || ((n = new At(Ae)), (this.Je = this.Je.insert(e, n))), n;
  }
  Tt(e) {
    let n = this.je.get(e);
    return n || ((n = new At(Ae)), (this.je = this.je.insert(e, n))), n;
  }
  nt(e) {
    const n = this.st(e) !== null;
    return n || ue("WatchChangeAggregator", "Detected inactive target", e), n;
  }
  st(e) {
    const n = this.Ge.get(e);
    return n && n.Oe ? null : this.We.Et(e);
  }
  rt(e) {
    this.Ge.set(e, new Z_()),
      this.We.getRemoteKeysForTarget(e).forEach((n) => {
        this.Xe(e, n, null);
      });
  }
  It(e, n) {
    return this.We.getRemoteKeysForTarget(e).has(n);
  }
}
function sd() {
  return new st(we.comparator);
}
function ew() {
  return new st(we.comparator);
}
const Xk = { asc: "ASCENDING", desc: "DESCENDING" },
  Yk = {
    "<": "LESS_THAN",
    "<=": "LESS_THAN_OR_EQUAL",
    ">": "GREATER_THAN",
    ">=": "GREATER_THAN_OR_EQUAL",
    "==": "EQUAL",
    "!=": "NOT_EQUAL",
    "array-contains": "ARRAY_CONTAINS",
    in: "IN",
    "not-in": "NOT_IN",
    "array-contains-any": "ARRAY_CONTAINS_ANY",
  },
  Jk = { and: "AND", or: "OR" };
class Zk {
  constructor(e, n) {
    (this.databaseId = e), (this.useProto3Json = n);
  }
}
function om(t, e) {
  return t.useProto3Json || dh(e) ? e : { value: e };
}
function qd(t, e) {
  return t.useProto3Json
    ? `${new Date(1e3 * e.seconds)
        .toISOString()
        .replace(/\.\d*/, "")
        .replace("Z", "")}.${("000000000" + e.nanoseconds).slice(-9)}Z`
    : { seconds: "" + e.seconds, nanos: e.nanoseconds };
}
function UE(t, e) {
  return t.useProto3Json ? e.toBase64() : e.toUint8Array();
}
function eN(t, e) {
  return qd(t, e.toTimestamp());
}
function br(t) {
  return (
    ze(!!t, 49232),
    Se.fromTimestamp(
      (function (n) {
        const r = rs(n);
        return new Xe(r.seconds, r.nanos);
      })(t)
    )
  );
}
function yg(t, e) {
  return am(t, e).canonicalString();
}
function am(t, e) {
  const n = (function (s) {
    return new rt(["projects", s.projectId, "databases", s.database]);
  })(t).child("documents");
  return e === void 0 ? n : n.child(e);
}
function BE(t) {
  const e = rt.fromString(t);
  return ze(qE(e), 10190, { key: e.toString() }), e;
}
function lm(t, e) {
  return yg(t.databaseId, e.path);
}
function _p(t, e) {
  const n = BE(e);
  if (n.get(1) !== t.databaseId.projectId)
    throw new me(
      Z.INVALID_ARGUMENT,
      "Tried to deserialize key from different project: " +
        n.get(1) +
        " vs " +
        t.databaseId.projectId
    );
  if (n.get(3) !== t.databaseId.database)
    throw new me(
      Z.INVALID_ARGUMENT,
      "Tried to deserialize key from different database: " +
        n.get(3) +
        " vs " +
        t.databaseId.database
    );
  return new we($E(n));
}
function zE(t, e) {
  return yg(t.databaseId, e);
}
function tN(t) {
  const e = BE(t);
  return e.length === 4 ? rt.emptyPath() : $E(e);
}
function um(t) {
  return new rt([
    "projects",
    t.databaseId.projectId,
    "databases",
    t.databaseId.database,
  ]).canonicalString();
}
function $E(t) {
  return (
    ze(t.length > 4 && t.get(4) === "documents", 29091, { key: t.toString() }),
    t.popFirst(5)
  );
}
function tw(t, e, n) {
  return { name: lm(t, e), fields: n.value.mapValue.fields };
}
function nN(t, e) {
  let n;
  if ("targetChange" in e) {
    e.targetChange;
    const r = (function (p) {
        return p === "NO_CHANGE"
          ? 0
          : p === "ADD"
          ? 1
          : p === "REMOVE"
          ? 2
          : p === "CURRENT"
          ? 3
          : p === "RESET"
          ? 4
          : Ee(39313, { state: p });
      })(e.targetChange.targetChangeType || "NO_CHANGE"),
      s = e.targetChange.targetIds || [],
      a = (function (p, g) {
        return p.useProto3Json
          ? (ze(g === void 0 || typeof g == "string", 58123),
            Wt.fromBase64String(g || ""))
          : (ze(
              g === void 0 || g instanceof Buffer || g instanceof Uint8Array,
              16193
            ),
            Wt.fromUint8Array(g || new Uint8Array()));
      })(t, e.targetChange.resumeToken),
      l = e.targetChange.cause,
      d =
        l &&
        (function (p) {
          const g = p.code === void 0 ? Z.UNKNOWN : ME(p.code);
          return new me(g, p.message || "");
        })(l);
    n = new FE(r, s, a, d || null);
  } else if ("documentChange" in e) {
    e.documentChange;
    const r = e.documentChange;
    r.document, r.document.name, r.document.updateTime;
    const s = _p(t, r.document.name),
      a = br(r.document.updateTime),
      l = r.document.createTime ? br(r.document.createTime) : Se.min(),
      d = new vn({ mapValue: { fields: r.document.fields } }),
      f = Zt.newFoundDocument(s, a, l, d),
      p = r.targetIds || [],
      g = r.removedTargetIds || [];
    n = new Pd(p, g, f.key, f);
  } else if ("documentDelete" in e) {
    e.documentDelete;
    const r = e.documentDelete;
    r.document;
    const s = _p(t, r.document),
      a = r.readTime ? br(r.readTime) : Se.min(),
      l = Zt.newNoDocument(s, a),
      d = r.removedTargetIds || [];
    n = new Pd([], d, l.key, l);
  } else if ("documentRemove" in e) {
    e.documentRemove;
    const r = e.documentRemove;
    r.document;
    const s = _p(t, r.document),
      a = r.removedTargetIds || [];
    n = new Pd([], a, s, null);
  } else {
    if (!("filter" in e)) return Ee(11601, { At: e });
    {
      e.filter;
      const r = e.filter;
      r.targetId;
      const { count: s = 0, unchangedNames: a } = r,
        l = new qk(s, a),
        d = r.targetId;
      n = new LE(d, l);
    }
  }
  return n;
}
function rN(t, e) {
  let n;
  if (e instanceof ku) n = { update: tw(t, e.key, e.value) };
  else if (e instanceof OE) n = { delete: lm(t, e.key) };
  else if (e instanceof ms)
    n = { update: tw(t, e.key, e.data), updateMask: hN(e.fieldMask) };
  else {
    if (!(e instanceof $k)) return Ee(16599, { Rt: e.type });
    n = { verify: lm(t, e.key) };
  }
  return (
    e.fieldTransforms.length > 0 &&
      (n.updateTransforms = e.fieldTransforms.map((r) =>
        (function (a, l) {
          const d = l.transform;
          if (d instanceof Hd)
            return {
              fieldPath: l.field.canonicalString(),
              setToServerValue: "REQUEST_TIME",
            };
          if (d instanceof fu)
            return {
              fieldPath: l.field.canonicalString(),
              appendMissingElements: { values: d.elements },
            };
          if (d instanceof pu)
            return {
              fieldPath: l.field.canonicalString(),
              removeAllFromArray: { values: d.elements },
            };
          if (d instanceof Wd)
            return { fieldPath: l.field.canonicalString(), increment: d.Ee };
          throw Ee(20930, { transform: l.transform });
        })(0, r)
      )),
    e.precondition.isNone ||
      (n.currentDocument = (function (s, a) {
        return a.updateTime !== void 0
          ? { updateTime: eN(s, a.updateTime) }
          : a.exists !== void 0
          ? { exists: a.exists }
          : Ee(27497);
      })(t, e.precondition)),
    n
  );
}
function iN(t, e) {
  return t && t.length > 0
    ? (ze(e !== void 0, 14353),
      t.map((n) =>
        (function (s, a) {
          let l = s.updateTime ? br(s.updateTime) : br(a);
          return (
            l.isEqual(Se.min()) && (l = br(a)),
            new Uk(l, s.transformResults || [])
          );
        })(n, e)
      ))
    : [];
}
function sN(t, e) {
  return { documents: [zE(t, e.path)] };
}
function oN(t, e) {
  const n = { structuredQuery: {} },
    r = e.path;
  let s;
  e.collectionGroup !== null
    ? ((s = r),
      (n.structuredQuery.from = [
        { collectionId: e.collectionGroup, allDescendants: !0 },
      ]))
    : ((s = r.popLast()),
      (n.structuredQuery.from = [{ collectionId: r.lastSegment() }])),
    (n.parent = zE(t, s));
  const a = (function (p) {
    if (p.length !== 0) return WE(Dr.create(p, "and"));
  })(e.filters);
  a && (n.structuredQuery.where = a);
  const l = (function (p) {
    if (p.length !== 0)
      return p.map((g) =>
        (function (x) {
          return { field: ca(x.field), direction: uN(x.dir) };
        })(g)
      );
  })(e.orderBy);
  l && (n.structuredQuery.orderBy = l);
  const d = om(t, e.limit);
  return (
    d !== null && (n.structuredQuery.limit = d),
    e.startAt &&
      (n.structuredQuery.startAt = (function (p) {
        return { before: p.inclusive, values: p.position };
      })(e.startAt)),
    e.endAt &&
      (n.structuredQuery.endAt = (function (p) {
        return { before: !p.inclusive, values: p.position };
      })(e.endAt)),
    { Vt: n, parent: s }
  );
}
function aN(t) {
  let e = tN(t.parent);
  const n = t.structuredQuery,
    r = n.from ? n.from.length : 0;
  let s = null;
  if (r > 0) {
    ze(r === 1, 65062);
    const g = n.from[0];
    g.allDescendants ? (s = g.collectionId) : (e = e.child(g.collectionId));
  }
  let a = [];
  n.where &&
    (a = (function (w) {
      const x = HE(w);
      return x instanceof Dr && wE(x) ? x.getFilters() : [x];
    })(n.where));
  let l = [];
  n.orderBy &&
    (l = (function (w) {
      return w.map((x) =>
        (function (b) {
          return new $d(
            da(b.field),
            (function (k) {
              switch (k) {
                case "ASCENDING":
                  return "asc";
                case "DESCENDING":
                  return "desc";
                default:
                  return;
              }
            })(b.direction)
          );
        })(x)
      );
    })(n.orderBy));
  let d = null;
  n.limit &&
    (d = (function (w) {
      let x;
      return (x = typeof w == "object" ? w.value : w), dh(x) ? null : x;
    })(n.limit));
  let f = null;
  n.startAt &&
    (f = (function (w) {
      const x = !!w.before,
        P = w.values || [];
      return new zd(P, x);
    })(n.startAt));
  let p = null;
  return (
    n.endAt &&
      (p = (function (w) {
        const x = !w.before,
          P = w.values || [];
        return new zd(P, x);
      })(n.endAt)),
    Ik(e, s, l, a, d, "F", f, p)
  );
}
function lN(t, e) {
  const n = (function (s) {
    switch (s) {
      case "TargetPurposeListen":
        return null;
      case "TargetPurposeExistenceFilterMismatch":
        return "existence-filter-mismatch";
      case "TargetPurposeExistenceFilterMismatchBloom":
        return "existence-filter-mismatch-bloom";
      case "TargetPurposeLimboResolution":
        return "limbo-document";
      default:
        return Ee(28987, { purpose: s });
    }
  })(e.purpose);
  return n == null ? null : { "goog-listen-tags": n };
}
function HE(t) {
  return t.unaryFilter !== void 0
    ? (function (n) {
        switch (n.unaryFilter.op) {
          case "IS_NAN":
            const r = da(n.unaryFilter.field);
            return bt.create(r, "==", { doubleValue: NaN });
          case "IS_NULL":
            const s = da(n.unaryFilter.field);
            return bt.create(s, "==", { nullValue: "NULL_VALUE" });
          case "IS_NOT_NAN":
            const a = da(n.unaryFilter.field);
            return bt.create(a, "!=", { doubleValue: NaN });
          case "IS_NOT_NULL":
            const l = da(n.unaryFilter.field);
            return bt.create(l, "!=", { nullValue: "NULL_VALUE" });
          case "OPERATOR_UNSPECIFIED":
            return Ee(61313);
          default:
            return Ee(60726);
        }
      })(t)
    : t.fieldFilter !== void 0
    ? (function (n) {
        return bt.create(
          da(n.fieldFilter.field),
          (function (s) {
            switch (s) {
              case "EQUAL":
                return "==";
              case "NOT_EQUAL":
                return "!=";
              case "GREATER_THAN":
                return ">";
              case "GREATER_THAN_OR_EQUAL":
                return ">=";
              case "LESS_THAN":
                return "<";
              case "LESS_THAN_OR_EQUAL":
                return "<=";
              case "ARRAY_CONTAINS":
                return "array-contains";
              case "IN":
                return "in";
              case "NOT_IN":
                return "not-in";
              case "ARRAY_CONTAINS_ANY":
                return "array-contains-any";
              case "OPERATOR_UNSPECIFIED":
                return Ee(58110);
              default:
                return Ee(50506);
            }
          })(n.fieldFilter.op),
          n.fieldFilter.value
        );
      })(t)
    : t.compositeFilter !== void 0
    ? (function (n) {
        return Dr.create(
          n.compositeFilter.filters.map((r) => HE(r)),
          (function (s) {
            switch (s) {
              case "AND":
                return "and";
              case "OR":
                return "or";
              default:
                return Ee(1026);
            }
          })(n.compositeFilter.op)
        );
      })(t)
    : Ee(30097, { filter: t });
}
function uN(t) {
  return Xk[t];
}
function cN(t) {
  return Yk[t];
}
function dN(t) {
  return Jk[t];
}
function ca(t) {
  return { fieldPath: t.canonicalString() };
}
function da(t) {
  return Ht.fromServerFormat(t.fieldPath);
}
function WE(t) {
  return t instanceof bt
    ? (function (n) {
        if (n.op === "==") {
          if (z_(n.value))
            return { unaryFilter: { field: ca(n.field), op: "IS_NAN" } };
          if (B_(n.value))
            return { unaryFilter: { field: ca(n.field), op: "IS_NULL" } };
        } else if (n.op === "!=") {
          if (z_(n.value))
            return { unaryFilter: { field: ca(n.field), op: "IS_NOT_NAN" } };
          if (B_(n.value))
            return { unaryFilter: { field: ca(n.field), op: "IS_NOT_NULL" } };
        }
        return {
          fieldFilter: { field: ca(n.field), op: cN(n.op), value: n.value },
        };
      })(t)
    : t instanceof Dr
    ? (function (n) {
        const r = n.getFilters().map((s) => WE(s));
        return r.length === 1
          ? r[0]
          : { compositeFilter: { op: dN(n.op), filters: r } };
      })(t)
    : Ee(54877, { filter: t });
}
function hN(t) {
  const e = [];
  return (
    t.fields.forEach((n) => e.push(n.canonicalString())), { fieldPaths: e }
  );
}
function qE(t) {
  return t.length >= 4 && t.get(0) === "projects" && t.get(2) === "databases";
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ki {
  constructor(
    e,
    n,
    r,
    s,
    a = Se.min(),
    l = Se.min(),
    d = Wt.EMPTY_BYTE_STRING,
    f = null
  ) {
    (this.target = e),
      (this.targetId = n),
      (this.purpose = r),
      (this.sequenceNumber = s),
      (this.snapshotVersion = a),
      (this.lastLimboFreeSnapshotVersion = l),
      (this.resumeToken = d),
      (this.expectedCount = f);
  }
  withSequenceNumber(e) {
    return new Ki(
      this.target,
      this.targetId,
      this.purpose,
      e,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      this.expectedCount
    );
  }
  withResumeToken(e, n) {
    return new Ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      n,
      this.lastLimboFreeSnapshotVersion,
      e,
      null
    );
  }
  withExpectedCount(e) {
    return new Ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      e
    );
  }
  withLastLimboFreeSnapshotVersion(e) {
    return new Ki(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      e,
      this.resumeToken,
      this.expectedCount
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class fN {
  constructor(e) {
    this.gt = e;
  }
}
function pN(t) {
  const e = aN({ parent: t.parent, structuredQuery: t.structuredQuery });
  return t.limitType === "LAST" ? sm(e, e.limit, "L") : e;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class mN {
  constructor() {
    this.Dn = new gN();
  }
  addToCollectionParentIndex(e, n) {
    return this.Dn.add(n), Q.resolve();
  }
  getCollectionParents(e, n) {
    return Q.resolve(this.Dn.getEntries(n));
  }
  addFieldIndex(e, n) {
    return Q.resolve();
  }
  deleteFieldIndex(e, n) {
    return Q.resolve();
  }
  deleteAllFieldIndexes(e) {
    return Q.resolve();
  }
  createTargetIndexes(e, n) {
    return Q.resolve();
  }
  getDocumentsMatchingTarget(e, n) {
    return Q.resolve(null);
  }
  getIndexType(e, n) {
    return Q.resolve(0);
  }
  getFieldIndexes(e, n) {
    return Q.resolve([]);
  }
  getNextCollectionGroupToUpdate(e) {
    return Q.resolve(null);
  }
  getMinOffset(e, n) {
    return Q.resolve(ns.min());
  }
  getMinOffsetFromCollectionGroup(e, n) {
    return Q.resolve(ns.min());
  }
  updateCollectionGroup(e, n, r) {
    return Q.resolve();
  }
  updateIndexEntries(e, n) {
    return Q.resolve();
  }
}
class gN {
  constructor() {
    this.index = {};
  }
  add(e) {
    const n = e.lastSegment(),
      r = e.popLast(),
      s = this.index[n] || new At(rt.comparator),
      a = !s.has(r);
    return (this.index[n] = s.add(r)), a;
  }
  has(e) {
    const n = e.lastSegment(),
      r = e.popLast(),
      s = this.index[n];
    return s && s.has(r);
  }
  getEntries(e) {
    return (this.index[e] || new At(rt.comparator)).toArray();
  }
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const nw = {
    didRun: !1,
    sequenceNumbersCollected: 0,
    targetsRemoved: 0,
    documentsRemoved: 0,
  },
  GE = 41943040;
class yn {
  static withCacheSize(e) {
    return new yn(
      e,
      yn.DEFAULT_COLLECTION_PERCENTILE,
      yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT
    );
  }
  constructor(e, n, r) {
    (this.cacheSizeCollectionThreshold = e),
      (this.percentileToCollect = n),
      (this.maximumSequenceNumbersToCollect = r);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ (yn.DEFAULT_COLLECTION_PERCENTILE = 10),
  (yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3),
  (yn.DEFAULT = new yn(
    GE,
    yn.DEFAULT_COLLECTION_PERCENTILE,
    yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT
  )),
  (yn.DISABLED = new yn(-1, 0, 0));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ia {
  constructor(e) {
    this._r = e;
  }
  next() {
    return (this._r += 2), this._r;
  }
  static ar() {
    return new Ia(0);
  }
  static ur() {
    return new Ia(-1);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const rw = "LruGarbageCollector",
  yN = 1048576;
function iw([t, e], [n, r]) {
  const s = Ae(t, n);
  return s === 0 ? Ae(e, r) : s;
}
class vN {
  constructor(e) {
    (this.Tr = e), (this.buffer = new At(iw)), (this.Ir = 0);
  }
  dr() {
    return ++this.Ir;
  }
  Er(e) {
    const n = [e, this.dr()];
    if (this.buffer.size < this.Tr) this.buffer = this.buffer.add(n);
    else {
      const r = this.buffer.last();
      iw(n, r) < 0 && (this.buffer = this.buffer.delete(r).add(n));
    }
  }
  get maxValue() {
    return this.buffer.last()[0];
  }
}
class _N {
  constructor(e, n, r) {
    (this.garbageCollector = e),
      (this.asyncQueue = n),
      (this.localStore = r),
      (this.Ar = null);
  }
  start() {
    this.garbageCollector.params.cacheSizeCollectionThreshold !== -1 &&
      this.Rr(6e4);
  }
  stop() {
    this.Ar && (this.Ar.cancel(), (this.Ar = null));
  }
  get started() {
    return this.Ar !== null;
  }
  Rr(e) {
    ue(rw, `Garbage collection scheduled in ${e}ms`),
      (this.Ar = this.asyncQueue.enqueueAfterDelay(
        "lru_garbage_collection",
        e,
        async () => {
          this.Ar = null;
          try {
            await this.localStore.collectGarbage(this.garbageCollector);
          } catch (n) {
            Oa(n)
              ? ue(
                  rw,
                  "Ignoring IndexedDB error during garbage collection: ",
                  n
                )
              : await Va(n);
          }
          await this.Rr(3e5);
        }
      ));
  }
}
class wN {
  constructor(e, n) {
    (this.Vr = e), (this.params = n);
  }
  calculateTargetCount(e, n) {
    return this.Vr.mr(e).next((r) => Math.floor((n / 100) * r));
  }
  nthSequenceNumber(e, n) {
    if (n === 0) return Q.resolve(ch.ue);
    const r = new vN(n);
    return this.Vr.forEachTarget(e, (s) => r.Er(s.sequenceNumber))
      .next(() => this.Vr.gr(e, (s) => r.Er(s)))
      .next(() => r.maxValue);
  }
  removeTargets(e, n, r) {
    return this.Vr.removeTargets(e, n, r);
  }
  removeOrphanedDocuments(e, n) {
    return this.Vr.removeOrphanedDocuments(e, n);
  }
  collect(e, n) {
    return this.params.cacheSizeCollectionThreshold === -1
      ? (ue("LruGarbageCollector", "Garbage collection skipped; disabled"),
        Q.resolve(nw))
      : this.getCacheSize(e).next((r) =>
          r < this.params.cacheSizeCollectionThreshold
            ? (ue(
                "LruGarbageCollector",
                `Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`
              ),
              nw)
            : this.pr(e, n)
        );
  }
  getCacheSize(e) {
    return this.Vr.getCacheSize(e);
  }
  pr(e, n) {
    let r, s, a, l, d, f, p;
    const g = Date.now();
    return this.calculateTargetCount(e, this.params.percentileToCollect)
      .next(
        (w) => (
          w > this.params.maximumSequenceNumbersToCollect
            ? (ue(
                "LruGarbageCollector",
                `Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`
              ),
              (s = this.params.maximumSequenceNumbersToCollect))
            : (s = w),
          (l = Date.now()),
          this.nthSequenceNumber(e, s)
        )
      )
      .next((w) => ((r = w), (d = Date.now()), this.removeTargets(e, r, n)))
      .next(
        (w) => ((a = w), (f = Date.now()), this.removeOrphanedDocuments(e, r))
      )
      .next(
        (w) => (
          (p = Date.now()),
          la() <= Ne.DEBUG &&
            ue(
              "LruGarbageCollector",
              `LRU Garbage Collection
	Counted targets in ${l - g}ms
	Determined least recently used ${s} in ` +
                (d - l) +
                `ms
	Removed ${a} targets in ` +
                (f - d) +
                `ms
	Removed ${w} documents in ` +
                (p - f) +
                `ms
Total Duration: ${p - g}ms`
            ),
          Q.resolve({
            didRun: !0,
            sequenceNumbersCollected: s,
            targetsRemoved: a,
            documentsRemoved: w,
          })
        )
      );
  }
}
function xN(t, e) {
  return new wN(t, e);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class EN {
  constructor() {
    (this.changes = new fo(
      (e) => e.toString(),
      (e, n) => e.isEqual(n)
    )),
      (this.changesApplied = !1);
  }
  addEntry(e) {
    this.assertNotApplied(), this.changes.set(e.key, e);
  }
  removeEntry(e, n) {
    this.assertNotApplied(),
      this.changes.set(e, Zt.newInvalidDocument(e).setReadTime(n));
  }
  getEntry(e, n) {
    this.assertNotApplied();
    const r = this.changes.get(n);
    return r !== void 0 ? Q.resolve(r) : this.getFromCache(e, n);
  }
  getEntries(e, n) {
    return this.getAllFromCache(e, n);
  }
  apply(e) {
    return (
      this.assertNotApplied(), (this.changesApplied = !0), this.applyChanges(e)
    );
  }
  assertNotApplied() {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class TN {
  constructor(e, n) {
    (this.overlayedDocument = e), (this.mutatedFields = n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class PN {
  constructor(e, n, r, s) {
    (this.remoteDocumentCache = e),
      (this.mutationQueue = n),
      (this.documentOverlayCache = r),
      (this.indexManager = s);
  }
  getDocument(e, n) {
    let r = null;
    return this.documentOverlayCache
      .getOverlay(e, n)
      .next((s) => ((r = s), this.remoteDocumentCache.getEntry(e, n)))
      .next((s) => (r !== null && Xl(r.mutation, s, Cn.empty(), Xe.now()), s));
  }
  getDocuments(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((r) => this.getLocalViewOfDocuments(e, r, je()).next(() => r));
  }
  getLocalViewOfDocuments(e, n, r = je()) {
    const s = Ks();
    return this.populateOverlays(e, s, n).next(() =>
      this.computeViews(e, n, s, r).next((a) => {
        let l = Bl();
        return (
          a.forEach((d, f) => {
            l = l.insert(d, f.overlayedDocument);
          }),
          l
        );
      })
    );
  }
  getOverlayedDocuments(e, n) {
    const r = Ks();
    return this.populateOverlays(e, r, n).next(() =>
      this.computeViews(e, n, r, je())
    );
  }
  populateOverlays(e, n, r) {
    const s = [];
    return (
      r.forEach((a) => {
        n.has(a) || s.push(a);
      }),
      this.documentOverlayCache.getOverlays(e, s).next((a) => {
        a.forEach((l, d) => {
          n.set(l, d);
        });
      })
    );
  }
  computeViews(e, n, r, s) {
    let a = ci();
    const l = Ql(),
      d = (function () {
        return Ql();
      })();
    return (
      n.forEach((f, p) => {
        const g = r.get(p.key);
        s.has(p.key) && (g === void 0 || g.mutation instanceof ms)
          ? (a = a.insert(p.key, p))
          : g !== void 0
          ? (l.set(p.key, g.mutation.getFieldMask()),
            Xl(g.mutation, p, g.mutation.getFieldMask(), Xe.now()))
          : l.set(p.key, Cn.empty());
      }),
      this.recalculateAndSaveOverlays(e, a).next(
        (f) => (
          f.forEach((p, g) => l.set(p, g)),
          n.forEach((p, g) => {
            var w;
            return d.set(
              p,
              new TN(g, (w = l.get(p)) !== null && w !== void 0 ? w : null)
            );
          }),
          d
        )
      )
    );
  }
  recalculateAndSaveOverlays(e, n) {
    const r = Ql();
    let s = new st((l, d) => l - d),
      a = je();
    return this.mutationQueue
      .getAllMutationBatchesAffectingDocumentKeys(e, n)
      .next((l) => {
        for (const d of l)
          d.keys().forEach((f) => {
            const p = n.get(f);
            if (p === null) return;
            let g = r.get(f) || Cn.empty();
            (g = d.applyToLocalView(p, g)), r.set(f, g);
            const w = (s.get(d.batchId) || je()).add(f);
            s = s.insert(d.batchId, w);
          });
      })
      .next(() => {
        const l = [],
          d = s.getReverseIterator();
        for (; d.hasNext(); ) {
          const f = d.getNext(),
            p = f.key,
            g = f.value,
            w = CE();
          g.forEach((x) => {
            if (!a.has(x)) {
              const P = DE(n.get(x), r.get(x));
              P !== null && w.set(x, P), (a = a.add(x));
            }
          }),
            l.push(this.documentOverlayCache.saveOverlays(e, p, w));
        }
        return Q.waitFor(l);
      })
      .next(() => r);
  }
  recalculateAndSaveOverlaysForDocumentKeys(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((r) => this.recalculateAndSaveOverlays(e, r));
  }
  getDocumentsMatchingQuery(e, n, r, s) {
    return (function (l) {
      return (
        we.isDocumentKey(l.path) &&
        l.collectionGroup === null &&
        l.filters.length === 0
      );
    })(n)
      ? this.getDocumentsMatchingDocumentQuery(e, n.path)
      : bk(n)
      ? this.getDocumentsMatchingCollectionGroupQuery(e, n, r, s)
      : this.getDocumentsMatchingCollectionQuery(e, n, r, s);
  }
  getNextDocuments(e, n, r, s) {
    return this.remoteDocumentCache
      .getAllFromCollectionGroup(e, n, r, s)
      .next((a) => {
        const l =
          s - a.size > 0
            ? this.documentOverlayCache.getOverlaysForCollectionGroup(
                e,
                n,
                r.largestBatchId,
                s - a.size
              )
            : Q.resolve(Ks());
        let d = uu,
          f = a;
        return l.next((p) =>
          Q.forEach(
            p,
            (g, w) => (
              d < w.largestBatchId && (d = w.largestBatchId),
              a.get(g)
                ? Q.resolve()
                : this.remoteDocumentCache.getEntry(e, g).next((x) => {
                    f = f.insert(g, x);
                  })
            )
          )
            .next(() => this.populateOverlays(e, p, a))
            .next(() => this.computeViews(e, f, p, je()))
            .next((g) => ({ batchId: d, changes: bE(g) }))
        );
      });
  }
  getDocumentsMatchingDocumentQuery(e, n) {
    return this.getDocument(e, new we(n)).next((r) => {
      let s = Bl();
      return r.isFoundDocument() && (s = s.insert(r.key, r)), s;
    });
  }
  getDocumentsMatchingCollectionGroupQuery(e, n, r, s) {
    const a = n.collectionGroup;
    let l = Bl();
    return this.indexManager.getCollectionParents(e, a).next((d) =>
      Q.forEach(d, (f) => {
        const p = (function (w, x) {
          return new fh(
            x,
            null,
            w.explicitOrderBy.slice(),
            w.filters.slice(),
            w.limit,
            w.limitType,
            w.startAt,
            w.endAt
          );
        })(n, f.child(a));
        return this.getDocumentsMatchingCollectionQuery(e, p, r, s).next(
          (g) => {
            g.forEach((w, x) => {
              l = l.insert(w, x);
            });
          }
        );
      }).next(() => l)
    );
  }
  getDocumentsMatchingCollectionQuery(e, n, r, s) {
    let a;
    return this.documentOverlayCache
      .getOverlaysForCollection(e, n.path, r.largestBatchId)
      .next(
        (l) => (
          (a = l),
          this.remoteDocumentCache.getDocumentsMatchingQuery(e, n, r, a, s)
        )
      )
      .next((l) => {
        a.forEach((f, p) => {
          const g = p.getKey();
          l.get(g) === null && (l = l.insert(g, Zt.newInvalidDocument(g)));
        });
        let d = Bl();
        return (
          l.forEach((f, p) => {
            const g = a.get(f);
            g !== void 0 && Xl(g.mutation, p, Cn.empty(), Xe.now()),
              mh(n, p) && (d = d.insert(f, p));
          }),
          d
        );
      });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class SN {
  constructor(e) {
    (this.serializer = e), (this.Br = new Map()), (this.Lr = new Map());
  }
  getBundleMetadata(e, n) {
    return Q.resolve(this.Br.get(n));
  }
  saveBundleMetadata(e, n) {
    return (
      this.Br.set(
        n.id,
        (function (s) {
          return { id: s.id, version: s.version, createTime: br(s.createTime) };
        })(n)
      ),
      Q.resolve()
    );
  }
  getNamedQuery(e, n) {
    return Q.resolve(this.Lr.get(n));
  }
  saveNamedQuery(e, n) {
    return (
      this.Lr.set(
        n.name,
        (function (s) {
          return {
            name: s.name,
            query: pN(s.bundledQuery),
            readTime: br(s.readTime),
          };
        })(n)
      ),
      Q.resolve()
    );
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class IN {
  constructor() {
    (this.overlays = new st(we.comparator)), (this.kr = new Map());
  }
  getOverlay(e, n) {
    return Q.resolve(this.overlays.get(n));
  }
  getOverlays(e, n) {
    const r = Ks();
    return Q.forEach(n, (s) =>
      this.getOverlay(e, s).next((a) => {
        a !== null && r.set(s, a);
      })
    ).next(() => r);
  }
  saveOverlays(e, n, r) {
    return (
      r.forEach((s, a) => {
        this.wt(e, n, a);
      }),
      Q.resolve()
    );
  }
  removeOverlaysForBatchId(e, n, r) {
    const s = this.kr.get(r);
    return (
      s !== void 0 &&
        (s.forEach((a) => (this.overlays = this.overlays.remove(a))),
        this.kr.delete(r)),
      Q.resolve()
    );
  }
  getOverlaysForCollection(e, n, r) {
    const s = Ks(),
      a = n.length + 1,
      l = new we(n.child("")),
      d = this.overlays.getIteratorFrom(l);
    for (; d.hasNext(); ) {
      const f = d.getNext().value,
        p = f.getKey();
      if (!n.isPrefixOf(p.path)) break;
      p.path.length === a && f.largestBatchId > r && s.set(f.getKey(), f);
    }
    return Q.resolve(s);
  }
  getOverlaysForCollectionGroup(e, n, r, s) {
    let a = new st((p, g) => p - g);
    const l = this.overlays.getIterator();
    for (; l.hasNext(); ) {
      const p = l.getNext().value;
      if (p.getKey().getCollectionGroup() === n && p.largestBatchId > r) {
        let g = a.get(p.largestBatchId);
        g === null && ((g = Ks()), (a = a.insert(p.largestBatchId, g))),
          g.set(p.getKey(), p);
      }
    }
    const d = Ks(),
      f = a.getIterator();
    for (
      ;
      f.hasNext() &&
      (f.getNext().value.forEach((p, g) => d.set(p, g)), !(d.size() >= s));

    );
    return Q.resolve(d);
  }
  wt(e, n, r) {
    const s = this.overlays.get(r.key);
    if (s !== null) {
      const l = this.kr.get(s.largestBatchId).delete(r.key);
      this.kr.set(s.largestBatchId, l);
    }
    this.overlays = this.overlays.insert(r.key, new Wk(n, r));
    let a = this.kr.get(n);
    a === void 0 && ((a = je()), this.kr.set(n, a)),
      this.kr.set(n, a.add(r.key));
  }
}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class bN {
  constructor() {
    this.sessionToken = Wt.EMPTY_BYTE_STRING;
  }
  getSessionToken(e) {
    return Q.resolve(this.sessionToken);
  }
  setSessionToken(e, n) {
    return (this.sessionToken = n), Q.resolve();
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class vg {
  constructor() {
    (this.qr = new At(Vt.Qr)), (this.$r = new At(Vt.Ur));
  }
  isEmpty() {
    return this.qr.isEmpty();
  }
  addReference(e, n) {
    const r = new Vt(e, n);
    (this.qr = this.qr.add(r)), (this.$r = this.$r.add(r));
  }
  Kr(e, n) {
    e.forEach((r) => this.addReference(r, n));
  }
  removeReference(e, n) {
    this.Wr(new Vt(e, n));
  }
  Gr(e, n) {
    e.forEach((r) => this.removeReference(r, n));
  }
  zr(e) {
    const n = new we(new rt([])),
      r = new Vt(n, e),
      s = new Vt(n, e + 1),
      a = [];
    return (
      this.$r.forEachInRange([r, s], (l) => {
        this.Wr(l), a.push(l.key);
      }),
      a
    );
  }
  jr() {
    this.qr.forEach((e) => this.Wr(e));
  }
  Wr(e) {
    (this.qr = this.qr.delete(e)), (this.$r = this.$r.delete(e));
  }
  Jr(e) {
    const n = new we(new rt([])),
      r = new Vt(n, e),
      s = new Vt(n, e + 1);
    let a = je();
    return (
      this.$r.forEachInRange([r, s], (l) => {
        a = a.add(l.key);
      }),
      a
    );
  }
  containsKey(e) {
    const n = new Vt(e, 0),
      r = this.qr.firstAfterOrEqual(n);
    return r !== null && e.isEqual(r.key);
  }
}
class Vt {
  constructor(e, n) {
    (this.key = e), (this.Hr = n);
  }
  static Qr(e, n) {
    return we.comparator(e.key, n.key) || Ae(e.Hr, n.Hr);
  }
  static Ur(e, n) {
    return Ae(e.Hr, n.Hr) || we.comparator(e.key, n.key);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class CN {
  constructor(e, n) {
    (this.indexManager = e),
      (this.referenceDelegate = n),
      (this.mutationQueue = []),
      (this.er = 1),
      (this.Yr = new At(Vt.Qr));
  }
  checkEmpty(e) {
    return Q.resolve(this.mutationQueue.length === 0);
  }
  addMutationBatch(e, n, r, s) {
    const a = this.er;
    this.er++,
      this.mutationQueue.length > 0 &&
        this.mutationQueue[this.mutationQueue.length - 1];
    const l = new Hk(a, n, r, s);
    this.mutationQueue.push(l);
    for (const d of s)
      (this.Yr = this.Yr.add(new Vt(d.key, a))),
        this.indexManager.addToCollectionParentIndex(e, d.key.path.popLast());
    return Q.resolve(l);
  }
  lookupMutationBatch(e, n) {
    return Q.resolve(this.Zr(n));
  }
  getNextMutationBatchAfterBatchId(e, n) {
    const r = n + 1,
      s = this.Xr(r),
      a = s < 0 ? 0 : s;
    return Q.resolve(
      this.mutationQueue.length > a ? this.mutationQueue[a] : null
    );
  }
  getHighestUnacknowledgedBatchId() {
    return Q.resolve(this.mutationQueue.length === 0 ? lg : this.er - 1);
  }
  getAllMutationBatches(e) {
    return Q.resolve(this.mutationQueue.slice());
  }
  getAllMutationBatchesAffectingDocumentKey(e, n) {
    const r = new Vt(n, 0),
      s = new Vt(n, Number.POSITIVE_INFINITY),
      a = [];
    return (
      this.Yr.forEachInRange([r, s], (l) => {
        const d = this.Zr(l.Hr);
        a.push(d);
      }),
      Q.resolve(a)
    );
  }
  getAllMutationBatchesAffectingDocumentKeys(e, n) {
    let r = new At(Ae);
    return (
      n.forEach((s) => {
        const a = new Vt(s, 0),
          l = new Vt(s, Number.POSITIVE_INFINITY);
        this.Yr.forEachInRange([a, l], (d) => {
          r = r.add(d.Hr);
        });
      }),
      Q.resolve(this.ei(r))
    );
  }
  getAllMutationBatchesAffectingQuery(e, n) {
    const r = n.path,
      s = r.length + 1;
    let a = r;
    we.isDocumentKey(a) || (a = a.child(""));
    const l = new Vt(new we(a), 0);
    let d = new At(Ae);
    return (
      this.Yr.forEachWhile((f) => {
        const p = f.key.path;
        return !!r.isPrefixOf(p) && (p.length === s && (d = d.add(f.Hr)), !0);
      }, l),
      Q.resolve(this.ei(d))
    );
  }
  ei(e) {
    const n = [];
    return (
      e.forEach((r) => {
        const s = this.Zr(r);
        s !== null && n.push(s);
      }),
      n
    );
  }
  removeMutationBatch(e, n) {
    ze(this.ti(n.batchId, "removed") === 0, 55003), this.mutationQueue.shift();
    let r = this.Yr;
    return Q.forEach(n.mutations, (s) => {
      const a = new Vt(s.key, n.batchId);
      return (
        (r = r.delete(a)),
        this.referenceDelegate.markPotentiallyOrphaned(e, s.key)
      );
    }).next(() => {
      this.Yr = r;
    });
  }
  rr(e) {}
  containsKey(e, n) {
    const r = new Vt(n, 0),
      s = this.Yr.firstAfterOrEqual(r);
    return Q.resolve(n.isEqual(s && s.key));
  }
  performConsistencyCheck(e) {
    return this.mutationQueue.length, Q.resolve();
  }
  ti(e, n) {
    return this.Xr(e);
  }
  Xr(e) {
    return this.mutationQueue.length === 0
      ? 0
      : e - this.mutationQueue[0].batchId;
  }
  Zr(e) {
    const n = this.Xr(e);
    return n < 0 || n >= this.mutationQueue.length
      ? null
      : this.mutationQueue[n];
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class AN {
  constructor(e) {
    (this.ni = e),
      (this.docs = (function () {
        return new st(we.comparator);
      })()),
      (this.size = 0);
  }
  setIndexManager(e) {
    this.indexManager = e;
  }
  addEntry(e, n) {
    const r = n.key,
      s = this.docs.get(r),
      a = s ? s.size : 0,
      l = this.ni(n);
    return (
      (this.docs = this.docs.insert(r, { document: n.mutableCopy(), size: l })),
      (this.size += l - a),
      this.indexManager.addToCollectionParentIndex(e, r.path.popLast())
    );
  }
  removeEntry(e) {
    const n = this.docs.get(e);
    n && ((this.docs = this.docs.remove(e)), (this.size -= n.size));
  }
  getEntry(e, n) {
    const r = this.docs.get(n);
    return Q.resolve(r ? r.document.mutableCopy() : Zt.newInvalidDocument(n));
  }
  getEntries(e, n) {
    let r = ci();
    return (
      n.forEach((s) => {
        const a = this.docs.get(s);
        r = r.insert(
          s,
          a ? a.document.mutableCopy() : Zt.newInvalidDocument(s)
        );
      }),
      Q.resolve(r)
    );
  }
  getDocumentsMatchingQuery(e, n, r, s) {
    let a = ci();
    const l = n.path,
      d = new we(l.child("__id-9223372036854775808__")),
      f = this.docs.getIteratorFrom(d);
    for (; f.hasNext(); ) {
      const {
        key: p,
        value: { document: g },
      } = f.getNext();
      if (!l.isPrefixOf(p.path)) break;
      p.path.length > l.length + 1 ||
        ik(rk(g), r) <= 0 ||
        ((s.has(g.key) || mh(n, g)) && (a = a.insert(g.key, g.mutableCopy())));
    }
    return Q.resolve(a);
  }
  getAllFromCollectionGroup(e, n, r, s) {
    Ee(9500);
  }
  ri(e, n) {
    return Q.forEach(this.docs, (r) => n(r));
  }
  newChangeBuffer(e) {
    return new RN(this);
  }
  getSize(e) {
    return Q.resolve(this.size);
  }
}
class RN extends EN {
  constructor(e) {
    super(), (this.Or = e);
  }
  applyChanges(e) {
    const n = [];
    return (
      this.changes.forEach((r, s) => {
        s.isValidDocument()
          ? n.push(this.Or.addEntry(e, s))
          : this.Or.removeEntry(r);
      }),
      Q.waitFor(n)
    );
  }
  getFromCache(e, n) {
    return this.Or.getEntry(e, n);
  }
  getAllFromCache(e, n) {
    return this.Or.getEntries(e, n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class kN {
  constructor(e) {
    (this.persistence = e),
      (this.ii = new fo((n) => dg(n), hg)),
      (this.lastRemoteSnapshotVersion = Se.min()),
      (this.highestTargetId = 0),
      (this.si = 0),
      (this.oi = new vg()),
      (this.targetCount = 0),
      (this._i = Ia.ar());
  }
  forEachTarget(e, n) {
    return this.ii.forEach((r, s) => n(s)), Q.resolve();
  }
  getLastRemoteSnapshotVersion(e) {
    return Q.resolve(this.lastRemoteSnapshotVersion);
  }
  getHighestSequenceNumber(e) {
    return Q.resolve(this.si);
  }
  allocateTargetId(e) {
    return (
      (this.highestTargetId = this._i.next()), Q.resolve(this.highestTargetId)
    );
  }
  setTargetsMetadata(e, n, r) {
    return (
      r && (this.lastRemoteSnapshotVersion = r),
      n > this.si && (this.si = n),
      Q.resolve()
    );
  }
  hr(e) {
    this.ii.set(e.target, e);
    const n = e.targetId;
    n > this.highestTargetId &&
      ((this._i = new Ia(n)), (this.highestTargetId = n)),
      e.sequenceNumber > this.si && (this.si = e.sequenceNumber);
  }
  addTargetData(e, n) {
    return this.hr(n), (this.targetCount += 1), Q.resolve();
  }
  updateTargetData(e, n) {
    return this.hr(n), Q.resolve();
  }
  removeTargetData(e, n) {
    return (
      this.ii.delete(n.target),
      this.oi.zr(n.targetId),
      (this.targetCount -= 1),
      Q.resolve()
    );
  }
  removeTargets(e, n, r) {
    let s = 0;
    const a = [];
    return (
      this.ii.forEach((l, d) => {
        d.sequenceNumber <= n &&
          r.get(d.targetId) === null &&
          (this.ii.delete(l),
          a.push(this.removeMatchingKeysForTargetId(e, d.targetId)),
          s++);
      }),
      Q.waitFor(a).next(() => s)
    );
  }
  getTargetCount(e) {
    return Q.resolve(this.targetCount);
  }
  getTargetData(e, n) {
    const r = this.ii.get(n) || null;
    return Q.resolve(r);
  }
  addMatchingKeys(e, n, r) {
    return this.oi.Kr(n, r), Q.resolve();
  }
  removeMatchingKeys(e, n, r) {
    this.oi.Gr(n, r);
    const s = this.persistence.referenceDelegate,
      a = [];
    return (
      s &&
        n.forEach((l) => {
          a.push(s.markPotentiallyOrphaned(e, l));
        }),
      Q.waitFor(a)
    );
  }
  removeMatchingKeysForTargetId(e, n) {
    return this.oi.zr(n), Q.resolve();
  }
  getMatchingKeysForTargetId(e, n) {
    const r = this.oi.Jr(n);
    return Q.resolve(r);
  }
  containsKey(e, n) {
    return Q.resolve(this.oi.containsKey(n));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class KE {
  constructor(e, n) {
    (this.ai = {}),
      (this.overlays = {}),
      (this.ui = new ch(0)),
      (this.ci = !1),
      (this.ci = !0),
      (this.li = new bN()),
      (this.referenceDelegate = e(this)),
      (this.hi = new kN(this)),
      (this.indexManager = new mN()),
      (this.remoteDocumentCache = (function (s) {
        return new AN(s);
      })((r) => this.referenceDelegate.Pi(r))),
      (this.serializer = new fN(n)),
      (this.Ti = new SN(this.serializer));
  }
  start() {
    return Promise.resolve();
  }
  shutdown() {
    return (this.ci = !1), Promise.resolve();
  }
  get started() {
    return this.ci;
  }
  setDatabaseDeletedListener() {}
  setNetworkEnabled() {}
  getIndexManager(e) {
    return this.indexManager;
  }
  getDocumentOverlayCache(e) {
    let n = this.overlays[e.toKey()];
    return n || ((n = new IN()), (this.overlays[e.toKey()] = n)), n;
  }
  getMutationQueue(e, n) {
    let r = this.ai[e.toKey()];
    return (
      r || ((r = new CN(n, this.referenceDelegate)), (this.ai[e.toKey()] = r)),
      r
    );
  }
  getGlobalsCache() {
    return this.li;
  }
  getTargetCache() {
    return this.hi;
  }
  getRemoteDocumentCache() {
    return this.remoteDocumentCache;
  }
  getBundleCache() {
    return this.Ti;
  }
  runTransaction(e, n, r) {
    ue("MemoryPersistence", "Starting transaction:", e);
    const s = new NN(this.ui.next());
    return (
      this.referenceDelegate.Ii(),
      r(s)
        .next((a) => this.referenceDelegate.di(s).next(() => a))
        .toPromise()
        .then((a) => (s.raiseOnCommittedEvent(), a))
    );
  }
  Ei(e, n) {
    return Q.or(Object.values(this.ai).map((r) => () => r.containsKey(e, n)));
  }
}
class NN extends ok {
  constructor(e) {
    super(), (this.currentSequenceNumber = e);
  }
}
class _g {
  constructor(e) {
    (this.persistence = e), (this.Ai = new vg()), (this.Ri = null);
  }
  static Vi(e) {
    return new _g(e);
  }
  get mi() {
    if (this.Ri) return this.Ri;
    throw Ee(60996);
  }
  addReference(e, n, r) {
    return (
      this.Ai.addReference(r, n), this.mi.delete(r.toString()), Q.resolve()
    );
  }
  removeReference(e, n, r) {
    return (
      this.Ai.removeReference(r, n), this.mi.add(r.toString()), Q.resolve()
    );
  }
  markPotentiallyOrphaned(e, n) {
    return this.mi.add(n.toString()), Q.resolve();
  }
  removeTarget(e, n) {
    this.Ai.zr(n.targetId).forEach((s) => this.mi.add(s.toString()));
    const r = this.persistence.getTargetCache();
    return r
      .getMatchingKeysForTargetId(e, n.targetId)
      .next((s) => {
        s.forEach((a) => this.mi.add(a.toString()));
      })
      .next(() => r.removeTargetData(e, n));
  }
  Ii() {
    this.Ri = new Set();
  }
  di(e) {
    const n = this.persistence.getRemoteDocumentCache().newChangeBuffer();
    return Q.forEach(this.mi, (r) => {
      const s = we.fromPath(r);
      return this.fi(e, s).next((a) => {
        a || n.removeEntry(s, Se.min());
      });
    }).next(() => ((this.Ri = null), n.apply(e)));
  }
  updateLimboDocument(e, n) {
    return this.fi(e, n).next((r) => {
      r ? this.mi.delete(n.toString()) : this.mi.add(n.toString());
    });
  }
  Pi(e) {
    return 0;
  }
  fi(e, n) {
    return Q.or([
      () => Q.resolve(this.Ai.containsKey(n)),
      () => this.persistence.getTargetCache().containsKey(e, n),
      () => this.persistence.Ei(e, n),
    ]);
  }
}
class Gd {
  constructor(e, n) {
    (this.persistence = e),
      (this.gi = new fo(
        (r) => uk(r.path),
        (r, s) => r.isEqual(s)
      )),
      (this.garbageCollector = xN(this, n));
  }
  static Vi(e, n) {
    return new Gd(e, n);
  }
  Ii() {}
  di(e) {
    return Q.resolve();
  }
  forEachTarget(e, n) {
    return this.persistence.getTargetCache().forEachTarget(e, n);
  }
  mr(e) {
    const n = this.yr(e);
    return this.persistence
      .getTargetCache()
      .getTargetCount(e)
      .next((r) => n.next((s) => r + s));
  }
  yr(e) {
    let n = 0;
    return this.gr(e, (r) => {
      n++;
    }).next(() => n);
  }
  gr(e, n) {
    return Q.forEach(this.gi, (r, s) =>
      this.Sr(e, r, s).next((a) => (a ? Q.resolve() : n(s)))
    );
  }
  removeTargets(e, n, r) {
    return this.persistence.getTargetCache().removeTargets(e, n, r);
  }
  removeOrphanedDocuments(e, n) {
    let r = 0;
    const s = this.persistence.getRemoteDocumentCache(),
      a = s.newChangeBuffer();
    return s
      .ri(e, (l) =>
        this.Sr(e, l, n).next((d) => {
          d || (r++, a.removeEntry(l, Se.min()));
        })
      )
      .next(() => a.apply(e))
      .next(() => r);
  }
  markPotentiallyOrphaned(e, n) {
    return this.gi.set(n, e.currentSequenceNumber), Q.resolve();
  }
  removeTarget(e, n) {
    const r = n.withSequenceNumber(e.currentSequenceNumber);
    return this.persistence.getTargetCache().updateTargetData(e, r);
  }
  addReference(e, n, r) {
    return this.gi.set(r, e.currentSequenceNumber), Q.resolve();
  }
  removeReference(e, n, r) {
    return this.gi.set(r, e.currentSequenceNumber), Q.resolve();
  }
  updateLimboDocument(e, n) {
    return this.gi.set(n, e.currentSequenceNumber), Q.resolve();
  }
  Pi(e) {
    let n = e.key.toString().length;
    return e.isFoundDocument() && (n += xd(e.data.value)), n;
  }
  Sr(e, n, r) {
    return Q.or([
      () => this.persistence.Ei(e, n),
      () => this.persistence.getTargetCache().containsKey(e, n),
      () => {
        const s = this.gi.get(n);
        return Q.resolve(s !== void 0 && s > r);
      },
    ]);
  }
  getCacheSize(e) {
    return this.persistence.getRemoteDocumentCache().getSize(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class wg {
  constructor(e, n, r, s) {
    (this.targetId = e), (this.fromCache = n), (this.Is = r), (this.ds = s);
  }
  static Es(e, n) {
    let r = je(),
      s = je();
    for (const a of n.docChanges)
      switch (a.type) {
        case 0:
          r = r.add(a.doc.key);
          break;
        case 1:
          s = s.add(a.doc.key);
      }
    return new wg(e, n.fromCache, r, s);
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class jN {
  constructor() {
    this._documentReadCount = 0;
  }
  get documentReadCount() {
    return this._documentReadCount;
  }
  incrementDocumentReadCount(e) {
    this._documentReadCount += e;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class DN {
  constructor() {
    (this.As = !1),
      (this.Rs = !1),
      (this.Vs = 100),
      (this.fs = (function () {
        return ub() ? 8 : ak(tn()) > 0 ? 6 : 4;
      })());
  }
  initialize(e, n) {
    (this.gs = e), (this.indexManager = n), (this.As = !0);
  }
  getDocumentsMatchingQuery(e, n, r, s) {
    const a = { result: null };
    return this.ps(e, n)
      .next((l) => {
        a.result = l;
      })
      .next(() => {
        if (!a.result)
          return this.ys(e, n, s, r).next((l) => {
            a.result = l;
          });
      })
      .next(() => {
        if (a.result) return;
        const l = new jN();
        return this.ws(e, n, l).next((d) => {
          if (((a.result = d), this.Rs)) return this.Ss(e, n, l, d.size);
        });
      })
      .next(() => a.result);
  }
  Ss(e, n, r, s) {
    return r.documentReadCount < this.Vs
      ? (la() <= Ne.DEBUG &&
          ue(
            "QueryEngine",
            "SDK will not create cache indexes for query:",
            ua(n),
            "since it only creates cache indexes for collection contains",
            "more than or equal to",
            this.Vs,
            "documents"
          ),
        Q.resolve())
      : (la() <= Ne.DEBUG &&
          ue(
            "QueryEngine",
            "Query:",
            ua(n),
            "scans",
            r.documentReadCount,
            "local documents and returns",
            s,
            "documents as results."
          ),
        r.documentReadCount > this.fs * s
          ? (la() <= Ne.DEBUG &&
              ue(
                "QueryEngine",
                "The SDK decides to create cache indexes for query:",
                ua(n),
                "as using cache indexes may help improve performance."
              ),
            this.indexManager.createTargetIndexes(e, Sr(n)))
          : Q.resolve());
  }
  ps(e, n) {
    if (q_(n)) return Q.resolve(null);
    let r = Sr(n);
    return this.indexManager.getIndexType(e, r).next((s) =>
      s === 0
        ? null
        : (n.limit !== null && s === 1 && ((n = sm(n, null, "F")), (r = Sr(n))),
          this.indexManager.getDocumentsMatchingTarget(e, r).next((a) => {
            const l = je(...a);
            return this.gs.getDocuments(e, l).next((d) =>
              this.indexManager.getMinOffset(e, r).next((f) => {
                const p = this.bs(n, d);
                return this.Ds(n, p, l, f.readTime)
                  ? this.ps(e, sm(n, null, "F"))
                  : this.vs(e, p, n, f);
              })
            );
          }))
    );
  }
  ys(e, n, r, s) {
    return q_(n) || s.isEqual(Se.min())
      ? Q.resolve(null)
      : this.gs.getDocuments(e, r).next((a) => {
          const l = this.bs(n, a);
          return this.Ds(n, l, r, s)
            ? Q.resolve(null)
            : (la() <= Ne.DEBUG &&
                ue(
                  "QueryEngine",
                  "Re-using previous result from %s to execute query: %s",
                  s.toString(),
                  ua(n)
                ),
              this.vs(e, l, n, nk(s, uu)).next((d) => d));
        });
  }
  bs(e, n) {
    let r = new At(SE(e));
    return (
      n.forEach((s, a) => {
        mh(e, a) && (r = r.add(a));
      }),
      r
    );
  }
  Ds(e, n, r, s) {
    if (e.limit === null) return !1;
    if (r.size !== n.size) return !0;
    const a = e.limitType === "F" ? n.last() : n.first();
    return !!a && (a.hasPendingWrites || a.version.compareTo(s) > 0);
  }
  ws(e, n, r) {
    return (
      la() <= Ne.DEBUG &&
        ue(
          "QueryEngine",
          "Using full collection scan to execute query:",
          ua(n)
        ),
      this.gs.getDocumentsMatchingQuery(e, n, ns.min(), r)
    );
  }
  vs(e, n, r, s) {
    return this.gs.getDocumentsMatchingQuery(e, r, s).next(
      (a) => (
        n.forEach((l) => {
          a = a.insert(l.key, l);
        }),
        a
      )
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const xg = "LocalStore",
  VN = 3e8;
class ON {
  constructor(e, n, r, s) {
    (this.persistence = e),
      (this.Cs = n),
      (this.serializer = s),
      (this.Fs = new st(Ae)),
      (this.Ms = new fo((a) => dg(a), hg)),
      (this.xs = new Map()),
      (this.Os = e.getRemoteDocumentCache()),
      (this.hi = e.getTargetCache()),
      (this.Ti = e.getBundleCache()),
      this.Ns(r);
  }
  Ns(e) {
    (this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e)),
      (this.indexManager = this.persistence.getIndexManager(e)),
      (this.mutationQueue = this.persistence.getMutationQueue(
        e,
        this.indexManager
      )),
      (this.localDocuments = new PN(
        this.Os,
        this.mutationQueue,
        this.documentOverlayCache,
        this.indexManager
      )),
      this.Os.setIndexManager(this.indexManager),
      this.Cs.initialize(this.localDocuments, this.indexManager);
  }
  collectGarbage(e) {
    return this.persistence.runTransaction(
      "Collect garbage",
      "readwrite-primary",
      (n) => e.collect(n, this.Fs)
    );
  }
}
function MN(t, e, n, r) {
  return new ON(t, e, n, r);
}
async function QE(t, e) {
  const n = be(t);
  return await n.persistence.runTransaction(
    "Handle user change",
    "readonly",
    (r) => {
      let s;
      return n.mutationQueue
        .getAllMutationBatches(r)
        .next(
          (a) => ((s = a), n.Ns(e), n.mutationQueue.getAllMutationBatches(r))
        )
        .next((a) => {
          const l = [],
            d = [];
          let f = je();
          for (const p of s) {
            l.push(p.batchId);
            for (const g of p.mutations) f = f.add(g.key);
          }
          for (const p of a) {
            d.push(p.batchId);
            for (const g of p.mutations) f = f.add(g.key);
          }
          return n.localDocuments
            .getDocuments(r, f)
            .next((p) => ({ Bs: p, removedBatchIds: l, addedBatchIds: d }));
        });
    }
  );
}
function LN(t, e) {
  const n = be(t);
  return n.persistence.runTransaction(
    "Acknowledge batch",
    "readwrite-primary",
    (r) => {
      const s = e.batch.keys(),
        a = n.Os.newChangeBuffer({ trackRemovals: !0 });
      return (function (d, f, p, g) {
        const w = p.batch,
          x = w.keys();
        let P = Q.resolve();
        return (
          x.forEach((b) => {
            P = P.next(() => g.getEntry(f, b)).next((N) => {
              const k = p.docVersions.get(b);
              ze(k !== null, 48541),
                N.version.compareTo(k) < 0 &&
                  (w.applyToRemoteDocument(N, p),
                  N.isValidDocument() &&
                    (N.setReadTime(p.commitVersion), g.addEntry(N)));
            });
          }),
          P.next(() => d.mutationQueue.removeMutationBatch(f, w))
        );
      })(n, r, e, a)
        .next(() => a.apply(r))
        .next(() => n.mutationQueue.performConsistencyCheck(r))
        .next(() =>
          n.documentOverlayCache.removeOverlaysForBatchId(r, s, e.batch.batchId)
        )
        .next(() =>
          n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(
            r,
            (function (d) {
              let f = je();
              for (let p = 0; p < d.mutationResults.length; ++p)
                d.mutationResults[p].transformResults.length > 0 &&
                  (f = f.add(d.batch.mutations[p].key));
              return f;
            })(e)
          )
        )
        .next(() => n.localDocuments.getDocuments(r, s));
    }
  );
}
function XE(t) {
  const e = be(t);
  return e.persistence.runTransaction(
    "Get last remote snapshot version",
    "readonly",
    (n) => e.hi.getLastRemoteSnapshotVersion(n)
  );
}
function FN(t, e) {
  const n = be(t),
    r = e.snapshotVersion;
  let s = n.Fs;
  return n.persistence
    .runTransaction("Apply remote event", "readwrite-primary", (a) => {
      const l = n.Os.newChangeBuffer({ trackRemovals: !0 });
      s = n.Fs;
      const d = [];
      e.targetChanges.forEach((g, w) => {
        const x = s.get(w);
        if (!x) return;
        d.push(
          n.hi
            .removeMatchingKeys(a, g.removedDocuments, w)
            .next(() => n.hi.addMatchingKeys(a, g.addedDocuments, w))
        );
        let P = x.withSequenceNumber(a.currentSequenceNumber);
        e.targetMismatches.get(w) !== null
          ? (P = P.withResumeToken(
              Wt.EMPTY_BYTE_STRING,
              Se.min()
            ).withLastLimboFreeSnapshotVersion(Se.min()))
          : g.resumeToken.approximateByteSize() > 0 &&
            (P = P.withResumeToken(g.resumeToken, r)),
          (s = s.insert(w, P)),
          (function (N, k, $) {
            return N.resumeToken.approximateByteSize() === 0 ||
              k.snapshotVersion.toMicroseconds() -
                N.snapshotVersion.toMicroseconds() >=
                VN
              ? !0
              : $.addedDocuments.size +
                  $.modifiedDocuments.size +
                  $.removedDocuments.size >
                  0;
          })(x, P, g) && d.push(n.hi.updateTargetData(a, P));
      });
      let f = ci(),
        p = je();
      if (
        (e.documentUpdates.forEach((g) => {
          e.resolvedLimboDocuments.has(g) &&
            d.push(n.persistence.referenceDelegate.updateLimboDocument(a, g));
        }),
        d.push(
          UN(a, l, e.documentUpdates).next((g) => {
            (f = g.Ls), (p = g.ks);
          })
        ),
        !r.isEqual(Se.min()))
      ) {
        const g = n.hi
          .getLastRemoteSnapshotVersion(a)
          .next((w) => n.hi.setTargetsMetadata(a, a.currentSequenceNumber, r));
        d.push(g);
      }
      return Q.waitFor(d)
        .next(() => l.apply(a))
        .next(() => n.localDocuments.getLocalViewOfDocuments(a, f, p))
        .next(() => f);
    })
    .then((a) => ((n.Fs = s), a));
}
function UN(t, e, n) {
  let r = je(),
    s = je();
  return (
    n.forEach((a) => (r = r.add(a))),
    e.getEntries(t, r).next((a) => {
      let l = ci();
      return (
        n.forEach((d, f) => {
          const p = a.get(d);
          f.isFoundDocument() !== p.isFoundDocument() && (s = s.add(d)),
            f.isNoDocument() && f.version.isEqual(Se.min())
              ? (e.removeEntry(d, f.readTime), (l = l.insert(d, f)))
              : !p.isValidDocument() ||
                f.version.compareTo(p.version) > 0 ||
                (f.version.compareTo(p.version) === 0 && p.hasPendingWrites)
              ? (e.addEntry(f), (l = l.insert(d, f)))
              : ue(
                  xg,
                  "Ignoring outdated watch update for ",
                  d,
                  ". Current version:",
                  p.version,
                  " Watch version:",
                  f.version
                );
        }),
        { Ls: l, ks: s }
      );
    })
  );
}
function BN(t, e) {
  const n = be(t);
  return n.persistence.runTransaction(
    "Get next mutation batch",
    "readonly",
    (r) => (
      e === void 0 && (e = lg),
      n.mutationQueue.getNextMutationBatchAfterBatchId(r, e)
    )
  );
}
function zN(t, e) {
  const n = be(t);
  return n.persistence
    .runTransaction("Allocate target", "readwrite", (r) => {
      let s;
      return n.hi
        .getTargetData(r, e)
        .next((a) =>
          a
            ? ((s = a), Q.resolve(s))
            : n.hi
                .allocateTargetId(r)
                .next(
                  (l) => (
                    (s = new Ki(
                      e,
                      l,
                      "TargetPurposeListen",
                      r.currentSequenceNumber
                    )),
                    n.hi.addTargetData(r, s).next(() => s)
                  )
                )
        );
    })
    .then((r) => {
      const s = n.Fs.get(r.targetId);
      return (
        (s === null || r.snapshotVersion.compareTo(s.snapshotVersion) > 0) &&
          ((n.Fs = n.Fs.insert(r.targetId, r)), n.Ms.set(e, r.targetId)),
        r
      );
    });
}
async function cm(t, e, n) {
  const r = be(t),
    s = r.Fs.get(e),
    a = n ? "readwrite" : "readwrite-primary";
  try {
    n ||
      (await r.persistence.runTransaction("Release target", a, (l) =>
        r.persistence.referenceDelegate.removeTarget(l, s)
      ));
  } catch (l) {
    if (!Oa(l)) throw l;
    ue(xg, `Failed to update sequence numbers for target ${e}: ${l}`);
  }
  (r.Fs = r.Fs.remove(e)), r.Ms.delete(s.target);
}
function sw(t, e, n) {
  const r = be(t);
  let s = Se.min(),
    a = je();
  return r.persistence.runTransaction("Execute query", "readwrite", (l) =>
    (function (f, p, g) {
      const w = be(f),
        x = w.Ms.get(g);
      return x !== void 0 ? Q.resolve(w.Fs.get(x)) : w.hi.getTargetData(p, g);
    })(r, l, Sr(e))
      .next((d) => {
        if (d)
          return (
            (s = d.lastLimboFreeSnapshotVersion),
            r.hi.getMatchingKeysForTargetId(l, d.targetId).next((f) => {
              a = f;
            })
          );
      })
      .next(() =>
        r.Cs.getDocumentsMatchingQuery(l, e, n ? s : Se.min(), n ? a : je())
      )
      .next((d) => ($N(r, Ak(e), d), { documents: d, qs: a }))
  );
}
function $N(t, e, n) {
  let r = t.xs.get(e) || Se.min();
  n.forEach((s, a) => {
    a.readTime.compareTo(r) > 0 && (r = a.readTime);
  }),
    t.xs.set(e, r);
}
class ow {
  constructor() {
    this.activeTargetIds = Vk();
  }
  Gs(e) {
    this.activeTargetIds = this.activeTargetIds.add(e);
  }
  zs(e) {
    this.activeTargetIds = this.activeTargetIds.delete(e);
  }
  Ws() {
    const e = {
      activeTargetIds: this.activeTargetIds.toArray(),
      updateTimeMs: Date.now(),
    };
    return JSON.stringify(e);
  }
}
class HN {
  constructor() {
    (this.Fo = new ow()),
      (this.Mo = {}),
      (this.onlineStateHandler = null),
      (this.sequenceNumberHandler = null);
  }
  addPendingMutation(e) {}
  updateMutationState(e, n, r) {}
  addLocalQueryTarget(e, n = !0) {
    return n && this.Fo.Gs(e), this.Mo[e] || "not-current";
  }
  updateQueryState(e, n, r) {
    this.Mo[e] = n;
  }
  removeLocalQueryTarget(e) {
    this.Fo.zs(e);
  }
  isLocalQueryTarget(e) {
    return this.Fo.activeTargetIds.has(e);
  }
  clearQueryState(e) {
    delete this.Mo[e];
  }
  getAllActiveQueryTargets() {
    return this.Fo.activeTargetIds;
  }
  isActiveQueryTarget(e) {
    return this.Fo.activeTargetIds.has(e);
  }
  start() {
    return (this.Fo = new ow()), Promise.resolve();
  }
  handleUserChange(e, n, r) {}
  setOnlineState(e) {}
  shutdown() {}
  writeSequenceNumber(e) {}
  notifyBundleLoaded(e) {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class WN {
  xo(e) {}
  shutdown() {}
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const aw = "ConnectivityMonitor";
class lw {
  constructor() {
    (this.Oo = () => this.No()),
      (this.Bo = () => this.Lo()),
      (this.ko = []),
      this.qo();
  }
  xo(e) {
    this.ko.push(e);
  }
  shutdown() {
    window.removeEventListener("online", this.Oo),
      window.removeEventListener("offline", this.Bo);
  }
  qo() {
    window.addEventListener("online", this.Oo),
      window.addEventListener("offline", this.Bo);
  }
  No() {
    ue(aw, "Network connectivity changed: AVAILABLE");
    for (const e of this.ko) e(0);
  }
  Lo() {
    ue(aw, "Network connectivity changed: UNAVAILABLE");
    for (const e of this.ko) e(1);
  }
  static C() {
    return (
      typeof window < "u" &&
      window.addEventListener !== void 0 &&
      window.removeEventListener !== void 0
    );
  }
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ let od = null;
function dm() {
  return (
    od === null
      ? (od = (function () {
          return 268435456 + Math.round(2147483648 * Math.random());
        })())
      : od++,
    "0x" + od.toString(16)
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const wp = "RestConnection",
  qN = {
    BatchGetDocuments: "batchGet",
    Commit: "commit",
    RunQuery: "runQuery",
    RunAggregationQuery: "runAggregationQuery",
  };
class GN {
  get Qo() {
    return !1;
  }
  constructor(e) {
    (this.databaseInfo = e), (this.databaseId = e.databaseId);
    const n = e.ssl ? "https" : "http",
      r = encodeURIComponent(this.databaseId.projectId),
      s = encodeURIComponent(this.databaseId.database);
    (this.$o = n + "://" + e.host),
      (this.Uo = `projects/${r}/databases/${s}`),
      (this.Ko =
        this.databaseId.database === Ud
          ? `project_id=${r}`
          : `project_id=${r}&database_id=${s}`);
  }
  Wo(e, n, r, s, a) {
    const l = dm(),
      d = this.Go(e, n.toUriEncodedString());
    ue(wp, `Sending RPC '${e}' ${l}:`, d, r);
    const f = {
      "google-cloud-resource-prefix": this.Uo,
      "x-goog-request-params": this.Ko,
    };
    this.zo(f, s, a);
    const { host: p } = new URL(d),
      g = hs(p);
    return this.jo(e, d, f, r, g).then(
      (w) => (ue(wp, `Received RPC '${e}' ${l}: `, w), w),
      (w) => {
        throw (
          (ts(
            wp,
            `RPC '${e}' ${l} failed with error: `,
            w,
            "url: ",
            d,
            "request:",
            r
          ),
          w)
        );
      }
    );
  }
  Jo(e, n, r, s, a, l) {
    return this.Wo(e, n, r, s, a);
  }
  zo(e, n, r) {
    (e["X-Goog-Api-Client"] = (function () {
      return "gl-js/ fire/" + Da;
    })()),
      (e["Content-Type"] = "text/plain"),
      this.databaseInfo.appId &&
        (e["X-Firebase-GMPID"] = this.databaseInfo.appId),
      n && n.headers.forEach((s, a) => (e[a] = s)),
      r && r.headers.forEach((s, a) => (e[a] = s));
  }
  Go(e, n) {
    const r = qN[e];
    return `${this.$o}/v1/${n}:${r}`;
  }
  terminate() {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class KN {
  constructor(e) {
    (this.Ho = e.Ho), (this.Yo = e.Yo);
  }
  Zo(e) {
    this.Xo = e;
  }
  e_(e) {
    this.t_ = e;
  }
  n_(e) {
    this.r_ = e;
  }
  onMessage(e) {
    this.i_ = e;
  }
  close() {
    this.Yo();
  }
  send(e) {
    this.Ho(e);
  }
  s_() {
    this.Xo();
  }
  o_() {
    this.t_();
  }
  __(e) {
    this.r_(e);
  }
  a_(e) {
    this.i_(e);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const Yt = "WebChannelConnection";
class QN extends GN {
  constructor(e) {
    super(e),
      (this.u_ = []),
      (this.forceLongPolling = e.forceLongPolling),
      (this.autoDetectLongPolling = e.autoDetectLongPolling),
      (this.useFetchStreams = e.useFetchStreams),
      (this.longPollingOptions = e.longPollingOptions);
  }
  jo(e, n, r, s, a) {
    const l = dm();
    return new Promise((d, f) => {
      const p = new Zx();
      p.setWithCredentials(!0),
        p.listenOnce(eE.COMPLETE, () => {
          try {
            switch (p.getLastErrorCode()) {
              case wd.NO_ERROR:
                const w = p.getResponseJson();
                ue(Yt, `XHR for RPC '${e}' ${l} received:`, JSON.stringify(w)),
                  d(w);
                break;
              case wd.TIMEOUT:
                ue(Yt, `RPC '${e}' ${l} timed out`),
                  f(new me(Z.DEADLINE_EXCEEDED, "Request time out"));
                break;
              case wd.HTTP_ERROR:
                const x = p.getStatus();
                if (
                  (ue(
                    Yt,
                    `RPC '${e}' ${l} failed with status:`,
                    x,
                    "response text:",
                    p.getResponseText()
                  ),
                  x > 0)
                ) {
                  let P = p.getResponseJson();
                  Array.isArray(P) && (P = P[0]);
                  const b = P == null ? void 0 : P.error;
                  if (b && b.status && b.message) {
                    const N = (function ($) {
                      const G = $.toLowerCase().replace(/_/g, "-");
                      return Object.values(Z).indexOf(G) >= 0 ? G : Z.UNKNOWN;
                    })(b.status);
                    f(new me(N, b.message));
                  } else
                    f(
                      new me(
                        Z.UNKNOWN,
                        "Server responded with status " + p.getStatus()
                      )
                    );
                } else f(new me(Z.UNAVAILABLE, "Connection failed."));
                break;
              default:
                Ee(9055, {
                  c_: e,
                  streamId: l,
                  l_: p.getLastErrorCode(),
                  h_: p.getLastError(),
                });
            }
          } finally {
            ue(Yt, `RPC '${e}' ${l} completed.`);
          }
        });
      const g = JSON.stringify(s);
      ue(Yt, `RPC '${e}' ${l} sending request:`, s),
        p.send(n, "POST", g, r, 15);
    });
  }
  P_(e, n, r) {
    const s = dm(),
      a = [this.$o, "/", "google.firestore.v1.Firestore", "/", e, "/channel"],
      l = rE(),
      d = nE(),
      f = {
        httpSessionIdParam: "gsessionid",
        initMessageHeaders: {},
        messageUrlParams: {
          database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`,
        },
        sendRawJson: !0,
        supportsCrossDomainXhr: !0,
        internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 },
        forceLongPolling: this.forceLongPolling,
        detectBufferingProxy: this.autoDetectLongPolling,
      },
      p = this.longPollingOptions.timeoutSeconds;
    p !== void 0 && (f.longPollingTimeout = Math.round(1e3 * p)),
      this.useFetchStreams && (f.useFetchStreams = !0),
      this.zo(f.initMessageHeaders, n, r),
      (f.encodeInitMessageHeaders = !0);
    const g = a.join("");
    ue(Yt, `Creating RPC '${e}' stream ${s}: ${g}`, f);
    const w = l.createWebChannel(g, f);
    this.T_(w);
    let x = !1,
      P = !1;
    const b = new KN({
        Ho: (k) => {
          P
            ? ue(Yt, `Not sending because RPC '${e}' stream ${s} is closed:`, k)
            : (x ||
                (ue(Yt, `Opening RPC '${e}' stream ${s} transport.`),
                w.open(),
                (x = !0)),
              ue(Yt, `RPC '${e}' stream ${s} sending:`, k),
              w.send(k));
        },
        Yo: () => w.close(),
      }),
      N = (k, $, G) => {
        k.listen($, (q) => {
          try {
            G(q);
          } catch (Y) {
            setTimeout(() => {
              throw Y;
            }, 0);
          }
        });
      };
    return (
      N(w, Ul.EventType.OPEN, () => {
        P || (ue(Yt, `RPC '${e}' stream ${s} transport opened.`), b.s_());
      }),
      N(w, Ul.EventType.CLOSE, () => {
        P ||
          ((P = !0),
          ue(Yt, `RPC '${e}' stream ${s} transport closed`),
          b.__(),
          this.I_(w));
      }),
      N(w, Ul.EventType.ERROR, (k) => {
        P ||
          ((P = !0),
          ts(
            Yt,
            `RPC '${e}' stream ${s} transport errored. Name:`,
            k.name,
            "Message:",
            k.message
          ),
          b.__(new me(Z.UNAVAILABLE, "The operation could not be completed")));
      }),
      N(w, Ul.EventType.MESSAGE, (k) => {
        var $;
        if (!P) {
          const G = k.data[0];
          ze(!!G, 16349);
          const q = G,
            Y =
              (q == null ? void 0 : q.error) ||
              (($ = q[0]) === null || $ === void 0 ? void 0 : $.error);
          if (Y) {
            ue(Yt, `RPC '${e}' stream ${s} received error:`, Y);
            const ne = Y.status;
            let oe = (function (A) {
                const D = vt[A];
                if (D !== void 0) return ME(D);
              })(ne),
              C = Y.message;
            oe === void 0 &&
              ((oe = Z.INTERNAL),
              (C =
                "Unknown error status: " + ne + " with message " + Y.message)),
              (P = !0),
              b.__(new me(oe, C)),
              w.close();
          } else ue(Yt, `RPC '${e}' stream ${s} received:`, G), b.a_(G);
        }
      }),
      N(d, tE.STAT_EVENT, (k) => {
        k.stat === Zp.PROXY
          ? ue(Yt, `RPC '${e}' stream ${s} detected buffering proxy`)
          : k.stat === Zp.NOPROXY &&
            ue(Yt, `RPC '${e}' stream ${s} detected no buffering proxy`);
      }),
      setTimeout(() => {
        b.o_();
      }, 0),
      b
    );
  }
  terminate() {
    this.u_.forEach((e) => e.close()), (this.u_ = []);
  }
  T_(e) {
    this.u_.push(e);
  }
  I_(e) {
    this.u_ = this.u_.filter((n) => n === e);
  }
}
function xp() {
  return typeof document < "u" ? document : null;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function _h(t) {
  return new Zk(t, !0);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class YE {
  constructor(e, n, r = 1e3, s = 1.5, a = 6e4) {
    (this.Fi = e),
      (this.timerId = n),
      (this.d_ = r),
      (this.E_ = s),
      (this.A_ = a),
      (this.R_ = 0),
      (this.V_ = null),
      (this.m_ = Date.now()),
      this.reset();
  }
  reset() {
    this.R_ = 0;
  }
  f_() {
    this.R_ = this.A_;
  }
  g_(e) {
    this.cancel();
    const n = Math.floor(this.R_ + this.p_()),
      r = Math.max(0, Date.now() - this.m_),
      s = Math.max(0, n - r);
    s > 0 &&
      ue(
        "ExponentialBackoff",
        `Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`
      ),
      (this.V_ = this.Fi.enqueueAfterDelay(
        this.timerId,
        s,
        () => ((this.m_ = Date.now()), e())
      )),
      (this.R_ *= this.E_),
      this.R_ < this.d_ && (this.R_ = this.d_),
      this.R_ > this.A_ && (this.R_ = this.A_);
  }
  y_() {
    this.V_ !== null && (this.V_.skipDelay(), (this.V_ = null));
  }
  cancel() {
    this.V_ !== null && (this.V_.cancel(), (this.V_ = null));
  }
  p_() {
    return (Math.random() - 0.5) * this.R_;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const uw = "PersistentStream";
class JE {
  constructor(e, n, r, s, a, l, d, f) {
    (this.Fi = e),
      (this.w_ = r),
      (this.S_ = s),
      (this.connection = a),
      (this.authCredentialsProvider = l),
      (this.appCheckCredentialsProvider = d),
      (this.listener = f),
      (this.state = 0),
      (this.b_ = 0),
      (this.D_ = null),
      (this.v_ = null),
      (this.stream = null),
      (this.C_ = 0),
      (this.F_ = new YE(e, n));
  }
  M_() {
    return this.state === 1 || this.state === 5 || this.x_();
  }
  x_() {
    return this.state === 2 || this.state === 3;
  }
  start() {
    (this.C_ = 0), this.state !== 4 ? this.auth() : this.O_();
  }
  async stop() {
    this.M_() && (await this.close(0));
  }
  N_() {
    (this.state = 0), this.F_.reset();
  }
  B_() {
    this.x_() &&
      this.D_ === null &&
      (this.D_ = this.Fi.enqueueAfterDelay(this.w_, 6e4, () => this.L_()));
  }
  k_(e) {
    this.q_(), this.stream.send(e);
  }
  async L_() {
    if (this.x_()) return this.close(0);
  }
  q_() {
    this.D_ && (this.D_.cancel(), (this.D_ = null));
  }
  Q_() {
    this.v_ && (this.v_.cancel(), (this.v_ = null));
  }
  async close(e, n) {
    this.q_(),
      this.Q_(),
      this.F_.cancel(),
      this.b_++,
      e !== 4
        ? this.F_.reset()
        : n && n.code === Z.RESOURCE_EXHAUSTED
        ? (ui(n.toString()),
          ui("Using maximum backoff delay to prevent overloading the backend."),
          this.F_.f_())
        : n &&
          n.code === Z.UNAUTHENTICATED &&
          this.state !== 3 &&
          (this.authCredentialsProvider.invalidateToken(),
          this.appCheckCredentialsProvider.invalidateToken()),
      this.stream !== null &&
        (this.U_(), this.stream.close(), (this.stream = null)),
      (this.state = e),
      await this.listener.n_(n);
  }
  U_() {}
  auth() {
    this.state = 1;
    const e = this.K_(this.b_),
      n = this.b_;
    Promise.all([
      this.authCredentialsProvider.getToken(),
      this.appCheckCredentialsProvider.getToken(),
    ]).then(
      ([r, s]) => {
        this.b_ === n && this.W_(r, s);
      },
      (r) => {
        e(() => {
          const s = new me(
            Z.UNKNOWN,
            "Fetching auth token failed: " + r.message
          );
          return this.G_(s);
        });
      }
    );
  }
  W_(e, n) {
    const r = this.K_(this.b_);
    (this.stream = this.z_(e, n)),
      this.stream.Zo(() => {
        r(() => this.listener.Zo());
      }),
      this.stream.e_(() => {
        r(
          () => (
            (this.state = 2),
            (this.v_ = this.Fi.enqueueAfterDelay(
              this.S_,
              1e4,
              () => (this.x_() && (this.state = 3), Promise.resolve())
            )),
            this.listener.e_()
          )
        );
      }),
      this.stream.n_((s) => {
        r(() => this.G_(s));
      }),
      this.stream.onMessage((s) => {
        r(() => (++this.C_ == 1 ? this.j_(s) : this.onNext(s)));
      });
  }
  O_() {
    (this.state = 5),
      this.F_.g_(async () => {
        (this.state = 0), this.start();
      });
  }
  G_(e) {
    return (
      ue(uw, `close with error: ${e}`), (this.stream = null), this.close(4, e)
    );
  }
  K_(e) {
    return (n) => {
      this.Fi.enqueueAndForget(() =>
        this.b_ === e
          ? n()
          : (ue(uw, "stream callback skipped by getCloseGuardedDispatcher."),
            Promise.resolve())
      );
    };
  }
}
class XN extends JE {
  constructor(e, n, r, s, a, l) {
    super(
      e,
      "listen_stream_connection_backoff",
      "listen_stream_idle",
      "health_check_timeout",
      n,
      r,
      s,
      l
    ),
      (this.serializer = a);
  }
  z_(e, n) {
    return this.connection.P_("Listen", e, n);
  }
  j_(e) {
    return this.onNext(e);
  }
  onNext(e) {
    this.F_.reset();
    const n = nN(this.serializer, e),
      r = (function (a) {
        if (!("targetChange" in a)) return Se.min();
        const l = a.targetChange;
        return l.targetIds && l.targetIds.length
          ? Se.min()
          : l.readTime
          ? br(l.readTime)
          : Se.min();
      })(e);
    return this.listener.J_(n, r);
  }
  H_(e) {
    const n = {};
    (n.database = um(this.serializer)),
      (n.addTarget = (function (a, l) {
        let d;
        const f = l.target;
        if (
          ((d = im(f) ? { documents: sN(a, f) } : { query: oN(a, f).Vt }),
          (d.targetId = l.targetId),
          l.resumeToken.approximateByteSize() > 0)
        ) {
          d.resumeToken = UE(a, l.resumeToken);
          const p = om(a, l.expectedCount);
          p !== null && (d.expectedCount = p);
        } else if (l.snapshotVersion.compareTo(Se.min()) > 0) {
          d.readTime = qd(a, l.snapshotVersion.toTimestamp());
          const p = om(a, l.expectedCount);
          p !== null && (d.expectedCount = p);
        }
        return d;
      })(this.serializer, e));
    const r = lN(this.serializer, e);
    r && (n.labels = r), this.k_(n);
  }
  Y_(e) {
    const n = {};
    (n.database = um(this.serializer)), (n.removeTarget = e), this.k_(n);
  }
}
class YN extends JE {
  constructor(e, n, r, s, a, l) {
    super(
      e,
      "write_stream_connection_backoff",
      "write_stream_idle",
      "health_check_timeout",
      n,
      r,
      s,
      l
    ),
      (this.serializer = a);
  }
  get Z_() {
    return this.C_ > 0;
  }
  start() {
    (this.lastStreamToken = void 0), super.start();
  }
  U_() {
    this.Z_ && this.X_([]);
  }
  z_(e, n) {
    return this.connection.P_("Write", e, n);
  }
  j_(e) {
    return (
      ze(!!e.streamToken, 31322),
      (this.lastStreamToken = e.streamToken),
      ze(!e.writeResults || e.writeResults.length === 0, 55816),
      this.listener.ea()
    );
  }
  onNext(e) {
    ze(!!e.streamToken, 12678),
      (this.lastStreamToken = e.streamToken),
      this.F_.reset();
    const n = iN(e.writeResults, e.commitTime),
      r = br(e.commitTime);
    return this.listener.ta(r, n);
  }
  na() {
    const e = {};
    (e.database = um(this.serializer)), this.k_(e);
  }
  X_(e) {
    const n = {
      streamToken: this.lastStreamToken,
      writes: e.map((r) => rN(this.serializer, r)),
    };
    this.k_(n);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class JN {}
class ZN extends JN {
  constructor(e, n, r, s) {
    super(),
      (this.authCredentials = e),
      (this.appCheckCredentials = n),
      (this.connection = r),
      (this.serializer = s),
      (this.ra = !1);
  }
  ia() {
    if (this.ra)
      throw new me(
        Z.FAILED_PRECONDITION,
        "The client has already been terminated."
      );
  }
  Wo(e, n, r, s) {
    return (
      this.ia(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([a, l]) => this.connection.Wo(e, am(n, r), s, a, l))
        .catch((a) => {
          throw a.name === "FirebaseError"
            ? (a.code === Z.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              a)
            : new me(Z.UNKNOWN, a.toString());
        })
    );
  }
  Jo(e, n, r, s, a) {
    return (
      this.ia(),
      Promise.all([
        this.authCredentials.getToken(),
        this.appCheckCredentials.getToken(),
      ])
        .then(([l, d]) => this.connection.Jo(e, am(n, r), s, l, d, a))
        .catch((l) => {
          throw l.name === "FirebaseError"
            ? (l.code === Z.UNAUTHENTICATED &&
                (this.authCredentials.invalidateToken(),
                this.appCheckCredentials.invalidateToken()),
              l)
            : new me(Z.UNKNOWN, l.toString());
        })
    );
  }
  terminate() {
    (this.ra = !0), this.connection.terminate();
  }
}
class e4 {
  constructor(e, n) {
    (this.asyncQueue = e),
      (this.onlineStateHandler = n),
      (this.state = "Unknown"),
      (this.sa = 0),
      (this.oa = null),
      (this._a = !0);
  }
  aa() {
    this.sa === 0 &&
      (this.ua("Unknown"),
      (this.oa = this.asyncQueue.enqueueAfterDelay(
        "online_state_timeout",
        1e4,
        () => (
          (this.oa = null),
          this.ca("Backend didn't respond within 10 seconds."),
          this.ua("Offline"),
          Promise.resolve()
        )
      )));
  }
  la(e) {
    this.state === "Online"
      ? this.ua("Unknown")
      : (this.sa++,
        this.sa >= 1 &&
          (this.ha(),
          this.ca(
            `Connection failed 1 times. Most recent error: ${e.toString()}`
          ),
          this.ua("Offline")));
  }
  set(e) {
    this.ha(), (this.sa = 0), e === "Online" && (this._a = !1), this.ua(e);
  }
  ua(e) {
    e !== this.state && ((this.state = e), this.onlineStateHandler(e));
  }
  ca(e) {
    const n = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
    this._a ? (ui(n), (this._a = !1)) : ue("OnlineStateTracker", n);
  }
  ha() {
    this.oa !== null && (this.oa.cancel(), (this.oa = null));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ao = "RemoteStore";
class t4 {
  constructor(e, n, r, s, a) {
    (this.localStore = e),
      (this.datastore = n),
      (this.asyncQueue = r),
      (this.remoteSyncer = {}),
      (this.Pa = []),
      (this.Ta = new Map()),
      (this.Ia = new Set()),
      (this.da = []),
      (this.Ea = a),
      this.Ea.xo((l) => {
        r.enqueueAndForget(async () => {
          po(this) &&
            (ue(ao, "Restarting streams for network reachability change."),
            await (async function (f) {
              const p = be(f);
              p.Ia.add(4),
                await ju(p),
                p.Aa.set("Unknown"),
                p.Ia.delete(4),
                await wh(p);
            })(this));
        });
      }),
      (this.Aa = new e4(r, s));
  }
}
async function wh(t) {
  if (po(t)) for (const e of t.da) await e(!0);
}
async function ju(t) {
  for (const e of t.da) await e(!1);
}
function ZE(t, e) {
  const n = be(t);
  n.Ta.has(e.targetId) ||
    (n.Ta.set(e.targetId, e), Sg(n) ? Pg(n) : Ma(n).x_() && Tg(n, e));
}
function Eg(t, e) {
  const n = be(t),
    r = Ma(n);
  n.Ta.delete(e),
    r.x_() && eT(n, e),
    n.Ta.size === 0 && (r.x_() ? r.B_() : po(n) && n.Aa.set("Unknown"));
}
function Tg(t, e) {
  if (
    (t.Ra.$e(e.targetId),
    e.resumeToken.approximateByteSize() > 0 ||
      e.snapshotVersion.compareTo(Se.min()) > 0)
  ) {
    const n = t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;
    e = e.withExpectedCount(n);
  }
  Ma(t).H_(e);
}
function eT(t, e) {
  t.Ra.$e(e), Ma(t).Y_(e);
}
function Pg(t) {
  (t.Ra = new Qk({
    getRemoteKeysForTarget: (e) => t.remoteSyncer.getRemoteKeysForTarget(e),
    Et: (e) => t.Ta.get(e) || null,
    lt: () => t.datastore.serializer.databaseId,
  })),
    Ma(t).start(),
    t.Aa.aa();
}
function Sg(t) {
  return po(t) && !Ma(t).M_() && t.Ta.size > 0;
}
function po(t) {
  return be(t).Ia.size === 0;
}
function tT(t) {
  t.Ra = void 0;
}
async function n4(t) {
  t.Aa.set("Online");
}
async function r4(t) {
  t.Ta.forEach((e, n) => {
    Tg(t, e);
  });
}
async function i4(t, e) {
  tT(t), Sg(t) ? (t.Aa.la(e), Pg(t)) : t.Aa.set("Unknown");
}
async function s4(t, e, n) {
  if ((t.Aa.set("Online"), e instanceof FE && e.state === 2 && e.cause))
    try {
      await (async function (s, a) {
        const l = a.cause;
        for (const d of a.targetIds)
          s.Ta.has(d) &&
            (await s.remoteSyncer.rejectListen(d, l),
            s.Ta.delete(d),
            s.Ra.removeTarget(d));
      })(t, e);
    } catch (r) {
      ue(ao, "Failed to remove targets %s: %s ", e.targetIds.join(","), r),
        await Kd(t, r);
    }
  else if (
    (e instanceof Pd ? t.Ra.Ye(e) : e instanceof LE ? t.Ra.it(e) : t.Ra.et(e),
    !n.isEqual(Se.min()))
  )
    try {
      const r = await XE(t.localStore);
      n.compareTo(r) >= 0 &&
        (await (function (a, l) {
          const d = a.Ra.Pt(l);
          return (
            d.targetChanges.forEach((f, p) => {
              if (f.resumeToken.approximateByteSize() > 0) {
                const g = a.Ta.get(p);
                g && a.Ta.set(p, g.withResumeToken(f.resumeToken, l));
              }
            }),
            d.targetMismatches.forEach((f, p) => {
              const g = a.Ta.get(f);
              if (!g) return;
              a.Ta.set(
                f,
                g.withResumeToken(Wt.EMPTY_BYTE_STRING, g.snapshotVersion)
              ),
                eT(a, f);
              const w = new Ki(g.target, f, p, g.sequenceNumber);
              Tg(a, w);
            }),
            a.remoteSyncer.applyRemoteEvent(d)
          );
        })(t, n));
    } catch (r) {
      ue(ao, "Failed to raise snapshot:", r), await Kd(t, r);
    }
}
async function Kd(t, e, n) {
  if (!Oa(e)) throw e;
  t.Ia.add(1),
    await ju(t),
    t.Aa.set("Offline"),
    n || (n = () => XE(t.localStore)),
    t.asyncQueue.enqueueRetryable(async () => {
      ue(ao, "Retrying IndexedDB access"),
        await n(),
        t.Ia.delete(1),
        await wh(t);
    });
}
function nT(t, e) {
  return e().catch((n) => Kd(t, n, e));
}
async function xh(t) {
  const e = be(t),
    n = os(e);
  let r = e.Pa.length > 0 ? e.Pa[e.Pa.length - 1].batchId : lg;
  for (; o4(e); )
    try {
      const s = await BN(e.localStore, r);
      if (s === null) {
        e.Pa.length === 0 && n.B_();
        break;
      }
      (r = s.batchId), a4(e, s);
    } catch (s) {
      await Kd(e, s);
    }
  rT(e) && iT(e);
}
function o4(t) {
  return po(t) && t.Pa.length < 10;
}
function a4(t, e) {
  t.Pa.push(e);
  const n = os(t);
  n.x_() && n.Z_ && n.X_(e.mutations);
}
function rT(t) {
  return po(t) && !os(t).M_() && t.Pa.length > 0;
}
function iT(t) {
  os(t).start();
}
async function l4(t) {
  os(t).na();
}
async function u4(t) {
  const e = os(t);
  for (const n of t.Pa) e.X_(n.mutations);
}
async function c4(t, e, n) {
  const r = t.Pa.shift(),
    s = mg.from(r, e, n);
  await nT(t, () => t.remoteSyncer.applySuccessfulWrite(s)), await xh(t);
}
async function d4(t, e) {
  e &&
    os(t).Z_ &&
    (await (async function (r, s) {
      if (
        (function (l) {
          return Gk(l) && l !== Z.ABORTED;
        })(s.code)
      ) {
        const a = r.Pa.shift();
        os(r).N_(),
          await nT(r, () => r.remoteSyncer.rejectFailedWrite(a.batchId, s)),
          await xh(r);
      }
    })(t, e)),
    rT(t) && iT(t);
}
async function cw(t, e) {
  const n = be(t);
  n.asyncQueue.verifyOperationInProgress(),
    ue(ao, "RemoteStore received new credentials");
  const r = po(n);
  n.Ia.add(3),
    await ju(n),
    r && n.Aa.set("Unknown"),
    await n.remoteSyncer.handleCredentialChange(e),
    n.Ia.delete(3),
    await wh(n);
}
async function h4(t, e) {
  const n = be(t);
  e
    ? (n.Ia.delete(2), await wh(n))
    : e || (n.Ia.add(2), await ju(n), n.Aa.set("Unknown"));
}
function Ma(t) {
  return (
    t.Va ||
      ((t.Va = (function (n, r, s) {
        const a = be(n);
        return (
          a.ia(),
          new XN(
            r,
            a.connection,
            a.authCredentials,
            a.appCheckCredentials,
            a.serializer,
            s
          )
        );
      })(t.datastore, t.asyncQueue, {
        Zo: n4.bind(null, t),
        e_: r4.bind(null, t),
        n_: i4.bind(null, t),
        J_: s4.bind(null, t),
      })),
      t.da.push(async (e) => {
        e
          ? (t.Va.N_(), Sg(t) ? Pg(t) : t.Aa.set("Unknown"))
          : (await t.Va.stop(), tT(t));
      })),
    t.Va
  );
}
function os(t) {
  return (
    t.ma ||
      ((t.ma = (function (n, r, s) {
        const a = be(n);
        return (
          a.ia(),
          new YN(
            r,
            a.connection,
            a.authCredentials,
            a.appCheckCredentials,
            a.serializer,
            s
          )
        );
      })(t.datastore, t.asyncQueue, {
        Zo: () => Promise.resolve(),
        e_: l4.bind(null, t),
        n_: d4.bind(null, t),
        ea: u4.bind(null, t),
        ta: c4.bind(null, t),
      })),
      t.da.push(async (e) => {
        e
          ? (t.ma.N_(), await xh(t))
          : (await t.ma.stop(),
            t.Pa.length > 0 &&
              (ue(
                ao,
                `Stopping write stream with ${t.Pa.length} pending writes`
              ),
              (t.Pa = [])));
      })),
    t.ma
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ig {
  constructor(e, n, r, s, a) {
    (this.asyncQueue = e),
      (this.timerId = n),
      (this.targetTimeMs = r),
      (this.op = s),
      (this.removalCallback = a),
      (this.deferred = new Zi()),
      (this.then = this.deferred.promise.then.bind(this.deferred.promise)),
      this.deferred.promise.catch((l) => {});
  }
  get promise() {
    return this.deferred.promise;
  }
  static createAndSchedule(e, n, r, s, a) {
    const l = Date.now() + r,
      d = new Ig(e, n, l, s, a);
    return d.start(r), d;
  }
  start(e) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(e) {
    this.timerHandle !== null &&
      (this.clearTimeout(),
      this.deferred.reject(
        new me(Z.CANCELLED, "Operation cancelled" + (e ? ": " + e : ""))
      ));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() =>
      this.timerHandle !== null
        ? (this.clearTimeout(), this.op().then((e) => this.deferred.resolve(e)))
        : Promise.resolve()
    );
  }
  clearTimeout() {
    this.timerHandle !== null &&
      (this.removalCallback(this),
      clearTimeout(this.timerHandle),
      (this.timerHandle = null));
  }
}
function bg(t, e) {
  if ((ui("AsyncQueue", `${e}: ${t}`), Oa(t)))
    return new me(Z.UNAVAILABLE, `${e}: ${t}`);
  throw t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class xa {
  static emptySet(e) {
    return new xa(e.comparator);
  }
  constructor(e) {
    (this.comparator = e
      ? (n, r) => e(n, r) || we.comparator(n.key, r.key)
      : (n, r) => we.comparator(n.key, r.key)),
      (this.keyedMap = Bl()),
      (this.sortedSet = new st(this.comparator));
  }
  has(e) {
    return this.keyedMap.get(e) != null;
  }
  get(e) {
    return this.keyedMap.get(e);
  }
  first() {
    return this.sortedSet.minKey();
  }
  last() {
    return this.sortedSet.maxKey();
  }
  isEmpty() {
    return this.sortedSet.isEmpty();
  }
  indexOf(e) {
    const n = this.keyedMap.get(e);
    return n ? this.sortedSet.indexOf(n) : -1;
  }
  get size() {
    return this.sortedSet.size;
  }
  forEach(e) {
    this.sortedSet.inorderTraversal((n, r) => (e(n), !1));
  }
  add(e) {
    const n = this.delete(e.key);
    return n.copy(n.keyedMap.insert(e.key, e), n.sortedSet.insert(e, null));
  }
  delete(e) {
    const n = this.get(e);
    return n
      ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(n))
      : this;
  }
  isEqual(e) {
    if (!(e instanceof xa) || this.size !== e.size) return !1;
    const n = this.sortedSet.getIterator(),
      r = e.sortedSet.getIterator();
    for (; n.hasNext(); ) {
      const s = n.getNext().key,
        a = r.getNext().key;
      if (!s.isEqual(a)) return !1;
    }
    return !0;
  }
  toString() {
    const e = [];
    return (
      this.forEach((n) => {
        e.push(n.toString());
      }),
      e.length === 0
        ? "DocumentSet ()"
        : `DocumentSet (
  ` +
          e.join(`  
`) +
          `
)`
    );
  }
  copy(e, n) {
    const r = new xa();
    return (
      (r.comparator = this.comparator), (r.keyedMap = e), (r.sortedSet = n), r
    );
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class dw {
  constructor() {
    this.fa = new st(we.comparator);
  }
  track(e) {
    const n = e.doc.key,
      r = this.fa.get(n);
    r
      ? e.type !== 0 && r.type === 3
        ? (this.fa = this.fa.insert(n, e))
        : e.type === 3 && r.type !== 1
        ? (this.fa = this.fa.insert(n, { type: r.type, doc: e.doc }))
        : e.type === 2 && r.type === 2
        ? (this.fa = this.fa.insert(n, { type: 2, doc: e.doc }))
        : e.type === 2 && r.type === 0
        ? (this.fa = this.fa.insert(n, { type: 0, doc: e.doc }))
        : e.type === 1 && r.type === 0
        ? (this.fa = this.fa.remove(n))
        : e.type === 1 && r.type === 2
        ? (this.fa = this.fa.insert(n, { type: 1, doc: r.doc }))
        : e.type === 0 && r.type === 1
        ? (this.fa = this.fa.insert(n, { type: 2, doc: e.doc }))
        : Ee(63341, { At: e, ga: r })
      : (this.fa = this.fa.insert(n, e));
  }
  pa() {
    const e = [];
    return (
      this.fa.inorderTraversal((n, r) => {
        e.push(r);
      }),
      e
    );
  }
}
class ba {
  constructor(e, n, r, s, a, l, d, f, p) {
    (this.query = e),
      (this.docs = n),
      (this.oldDocs = r),
      (this.docChanges = s),
      (this.mutatedKeys = a),
      (this.fromCache = l),
      (this.syncStateChanged = d),
      (this.excludesMetadataChanges = f),
      (this.hasCachedResults = p);
  }
  static fromInitialDocuments(e, n, r, s, a) {
    const l = [];
    return (
      n.forEach((d) => {
        l.push({ type: 0, doc: d });
      }),
      new ba(e, n, xa.emptySet(n), l, r, s, !0, !1, a)
    );
  }
  get hasPendingWrites() {
    return !this.mutatedKeys.isEmpty();
  }
  isEqual(e) {
    if (
      !(
        this.fromCache === e.fromCache &&
        this.hasCachedResults === e.hasCachedResults &&
        this.syncStateChanged === e.syncStateChanged &&
        this.mutatedKeys.isEqual(e.mutatedKeys) &&
        ph(this.query, e.query) &&
        this.docs.isEqual(e.docs) &&
        this.oldDocs.isEqual(e.oldDocs)
      )
    )
      return !1;
    const n = this.docChanges,
      r = e.docChanges;
    if (n.length !== r.length) return !1;
    for (let s = 0; s < n.length; s++)
      if (n[s].type !== r[s].type || !n[s].doc.isEqual(r[s].doc)) return !1;
    return !0;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class f4 {
  constructor() {
    (this.ya = void 0), (this.wa = []);
  }
  Sa() {
    return this.wa.some((e) => e.ba());
  }
}
class p4 {
  constructor() {
    (this.queries = hw()),
      (this.onlineState = "Unknown"),
      (this.Da = new Set());
  }
  terminate() {
    (function (n, r) {
      const s = be(n),
        a = s.queries;
      (s.queries = hw()),
        a.forEach((l, d) => {
          for (const f of d.wa) f.onError(r);
        });
    })(this, new me(Z.ABORTED, "Firestore shutting down"));
  }
}
function hw() {
  return new fo((t) => PE(t), ph);
}
async function m4(t, e) {
  const n = be(t);
  let r = 3;
  const s = e.query;
  let a = n.queries.get(s);
  a ? !a.Sa() && e.ba() && (r = 2) : ((a = new f4()), (r = e.ba() ? 0 : 1));
  try {
    switch (r) {
      case 0:
        a.ya = await n.onListen(s, !0);
        break;
      case 1:
        a.ya = await n.onListen(s, !1);
        break;
      case 2:
        await n.onFirstRemoteStoreListen(s);
    }
  } catch (l) {
    const d = bg(l, `Initialization of query '${ua(e.query)}' failed`);
    return void e.onError(d);
  }
  n.queries.set(s, a),
    a.wa.push(e),
    e.va(n.onlineState),
    a.ya && e.Ca(a.ya) && Cg(n);
}
async function g4(t, e) {
  const n = be(t),
    r = e.query;
  let s = 3;
  const a = n.queries.get(r);
  if (a) {
    const l = a.wa.indexOf(e);
    l >= 0 &&
      (a.wa.splice(l, 1),
      a.wa.length === 0 ? (s = e.ba() ? 0 : 1) : !a.Sa() && e.ba() && (s = 2));
  }
  switch (s) {
    case 0:
      return n.queries.delete(r), n.onUnlisten(r, !0);
    case 1:
      return n.queries.delete(r), n.onUnlisten(r, !1);
    case 2:
      return n.onLastRemoteStoreUnlisten(r);
    default:
      return;
  }
}
function y4(t, e) {
  const n = be(t);
  let r = !1;
  for (const s of e) {
    const a = s.query,
      l = n.queries.get(a);
    if (l) {
      for (const d of l.wa) d.Ca(s) && (r = !0);
      l.ya = s;
    }
  }
  r && Cg(n);
}
function v4(t, e, n) {
  const r = be(t),
    s = r.queries.get(e);
  if (s) for (const a of s.wa) a.onError(n);
  r.queries.delete(e);
}
function Cg(t) {
  t.Da.forEach((e) => {
    e.next();
  });
}
var hm, fw;
((fw = hm || (hm = {})).Fa = "default"), (fw.Cache = "cache");
class _4 {
  constructor(e, n, r) {
    (this.query = e),
      (this.Ma = n),
      (this.xa = !1),
      (this.Oa = null),
      (this.onlineState = "Unknown"),
      (this.options = r || {});
  }
  Ca(e) {
    if (!this.options.includeMetadataChanges) {
      const r = [];
      for (const s of e.docChanges) s.type !== 3 && r.push(s);
      e = new ba(
        e.query,
        e.docs,
        e.oldDocs,
        r,
        e.mutatedKeys,
        e.fromCache,
        e.syncStateChanged,
        !0,
        e.hasCachedResults
      );
    }
    let n = !1;
    return (
      this.xa
        ? this.Na(e) && (this.Ma.next(e), (n = !0))
        : this.Ba(e, this.onlineState) && (this.La(e), (n = !0)),
      (this.Oa = e),
      n
    );
  }
  onError(e) {
    this.Ma.error(e);
  }
  va(e) {
    this.onlineState = e;
    let n = !1;
    return (
      this.Oa &&
        !this.xa &&
        this.Ba(this.Oa, e) &&
        (this.La(this.Oa), (n = !0)),
      n
    );
  }
  Ba(e, n) {
    if (!e.fromCache || !this.ba()) return !0;
    const r = n !== "Offline";
    return (
      (!this.options.ka || !r) &&
      (!e.docs.isEmpty() || e.hasCachedResults || n === "Offline")
    );
  }
  Na(e) {
    if (e.docChanges.length > 0) return !0;
    const n = this.Oa && this.Oa.hasPendingWrites !== e.hasPendingWrites;
    return (
      !(!e.syncStateChanged && !n) && this.options.includeMetadataChanges === !0
    );
  }
  La(e) {
    (e = ba.fromInitialDocuments(
      e.query,
      e.docs,
      e.mutatedKeys,
      e.fromCache,
      e.hasCachedResults
    )),
      (this.xa = !0),
      this.Ma.next(e);
  }
  ba() {
    return this.options.source !== hm.Cache;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class sT {
  constructor(e) {
    this.key = e;
  }
}
class oT {
  constructor(e) {
    this.key = e;
  }
}
class w4 {
  constructor(e, n) {
    (this.query = e),
      (this.Ha = n),
      (this.Ya = null),
      (this.hasCachedResults = !1),
      (this.current = !1),
      (this.Za = je()),
      (this.mutatedKeys = je()),
      (this.Xa = SE(e)),
      (this.eu = new xa(this.Xa));
  }
  get tu() {
    return this.Ha;
  }
  nu(e, n) {
    const r = n ? n.ru : new dw(),
      s = n ? n.eu : this.eu;
    let a = n ? n.mutatedKeys : this.mutatedKeys,
      l = s,
      d = !1;
    const f =
        this.query.limitType === "F" && s.size === this.query.limit
          ? s.last()
          : null,
      p =
        this.query.limitType === "L" && s.size === this.query.limit
          ? s.first()
          : null;
    if (
      (e.inorderTraversal((g, w) => {
        const x = s.get(g),
          P = mh(this.query, w) ? w : null,
          b = !!x && this.mutatedKeys.has(x.key),
          N =
            !!P &&
            (P.hasLocalMutations ||
              (this.mutatedKeys.has(P.key) && P.hasCommittedMutations));
        let k = !1;
        x && P
          ? x.data.isEqual(P.data)
            ? b !== N && (r.track({ type: 3, doc: P }), (k = !0))
            : this.iu(x, P) ||
              (r.track({ type: 2, doc: P }),
              (k = !0),
              ((f && this.Xa(P, f) > 0) || (p && this.Xa(P, p) < 0)) &&
                (d = !0))
          : !x && P
          ? (r.track({ type: 0, doc: P }), (k = !0))
          : x &&
            !P &&
            (r.track({ type: 1, doc: x }), (k = !0), (f || p) && (d = !0)),
          k &&
            (P
              ? ((l = l.add(P)), (a = N ? a.add(g) : a.delete(g)))
              : ((l = l.delete(g)), (a = a.delete(g))));
      }),
      this.query.limit !== null)
    )
      for (; l.size > this.query.limit; ) {
        const g = this.query.limitType === "F" ? l.last() : l.first();
        (l = l.delete(g.key)),
          (a = a.delete(g.key)),
          r.track({ type: 1, doc: g });
      }
    return { eu: l, ru: r, Ds: d, mutatedKeys: a };
  }
  iu(e, n) {
    return (
      e.hasLocalMutations && n.hasCommittedMutations && !n.hasLocalMutations
    );
  }
  applyChanges(e, n, r, s) {
    const a = this.eu;
    (this.eu = e.eu), (this.mutatedKeys = e.mutatedKeys);
    const l = e.ru.pa();
    l.sort(
      (g, w) =>
        (function (P, b) {
          const N = (k) => {
            switch (k) {
              case 0:
                return 1;
              case 2:
              case 3:
                return 2;
              case 1:
                return 0;
              default:
                return Ee(20277, { At: k });
            }
          };
          return N(P) - N(b);
        })(g.type, w.type) || this.Xa(g.doc, w.doc)
    ),
      this.su(r),
      (s = s != null && s);
    const d = n && !s ? this.ou() : [],
      f = this.Za.size === 0 && this.current && !s ? 1 : 0,
      p = f !== this.Ya;
    return (
      (this.Ya = f),
      l.length !== 0 || p
        ? {
            snapshot: new ba(
              this.query,
              e.eu,
              a,
              l,
              e.mutatedKeys,
              f === 0,
              p,
              !1,
              !!r && r.resumeToken.approximateByteSize() > 0
            ),
            _u: d,
          }
        : { _u: d }
    );
  }
  va(e) {
    return this.current && e === "Offline"
      ? ((this.current = !1),
        this.applyChanges(
          { eu: this.eu, ru: new dw(), mutatedKeys: this.mutatedKeys, Ds: !1 },
          !1
        ))
      : { _u: [] };
  }
  au(e) {
    return (
      !this.Ha.has(e) && !!this.eu.has(e) && !this.eu.get(e).hasLocalMutations
    );
  }
  su(e) {
    e &&
      (e.addedDocuments.forEach((n) => (this.Ha = this.Ha.add(n))),
      e.modifiedDocuments.forEach((n) => {}),
      e.removedDocuments.forEach((n) => (this.Ha = this.Ha.delete(n))),
      (this.current = e.current));
  }
  ou() {
    if (!this.current) return [];
    const e = this.Za;
    (this.Za = je()),
      this.eu.forEach((r) => {
        this.au(r.key) && (this.Za = this.Za.add(r.key));
      });
    const n = [];
    return (
      e.forEach((r) => {
        this.Za.has(r) || n.push(new oT(r));
      }),
      this.Za.forEach((r) => {
        e.has(r) || n.push(new sT(r));
      }),
      n
    );
  }
  uu(e) {
    (this.Ha = e.qs), (this.Za = je());
    const n = this.nu(e.documents);
    return this.applyChanges(n, !0);
  }
  cu() {
    return ba.fromInitialDocuments(
      this.query,
      this.eu,
      this.mutatedKeys,
      this.Ya === 0,
      this.hasCachedResults
    );
  }
}
const Ag = "SyncEngine";
class x4 {
  constructor(e, n, r) {
    (this.query = e), (this.targetId = n), (this.view = r);
  }
}
class E4 {
  constructor(e) {
    (this.key = e), (this.lu = !1);
  }
}
class T4 {
  constructor(e, n, r, s, a, l) {
    (this.localStore = e),
      (this.remoteStore = n),
      (this.eventManager = r),
      (this.sharedClientState = s),
      (this.currentUser = a),
      (this.maxConcurrentLimboResolutions = l),
      (this.hu = {}),
      (this.Pu = new fo((d) => PE(d), ph)),
      (this.Tu = new Map()),
      (this.Iu = new Set()),
      (this.du = new st(we.comparator)),
      (this.Eu = new Map()),
      (this.Au = new vg()),
      (this.Ru = {}),
      (this.Vu = new Map()),
      (this.mu = Ia.ur()),
      (this.onlineState = "Unknown"),
      (this.fu = void 0);
  }
  get isPrimaryClient() {
    return this.fu === !0;
  }
}
async function P4(t, e, n = !0) {
  const r = hT(t);
  let s;
  const a = r.Pu.get(e);
  return (
    a
      ? (r.sharedClientState.addLocalQueryTarget(a.targetId), (s = a.view.cu()))
      : (s = await aT(r, e, n, !0)),
    s
  );
}
async function S4(t, e) {
  const n = hT(t);
  await aT(n, e, !0, !1);
}
async function aT(t, e, n, r) {
  const s = await zN(t.localStore, Sr(e)),
    a = s.targetId,
    l = t.sharedClientState.addLocalQueryTarget(a, n);
  let d;
  return (
    r && (d = await I4(t, e, a, l === "current", s.resumeToken)),
    t.isPrimaryClient && n && ZE(t.remoteStore, s),
    d
  );
}
async function I4(t, e, n, r, s) {
  t.gu = (w, x, P) =>
    (async function (N, k, $, G) {
      let q = k.view.nu($);
      q.Ds &&
        (q = await sw(N.localStore, k.query, !1).then(({ documents: C }) =>
          k.view.nu(C, q)
        ));
      const Y = G && G.targetChanges.get(k.targetId),
        ne = G && G.targetMismatches.get(k.targetId) != null,
        oe = k.view.applyChanges(q, N.isPrimaryClient, Y, ne);
      return mw(N, k.targetId, oe._u), oe.snapshot;
    })(t, w, x, P);
  const a = await sw(t.localStore, e, !0),
    l = new w4(e, a.qs),
    d = l.nu(a.documents),
    f = Nu.createSynthesizedTargetChangeForCurrentChange(
      n,
      r && t.onlineState !== "Offline",
      s
    ),
    p = l.applyChanges(d, t.isPrimaryClient, f);
  mw(t, n, p._u);
  const g = new x4(e, n, l);
  return (
    t.Pu.set(e, g),
    t.Tu.has(n) ? t.Tu.get(n).push(e) : t.Tu.set(n, [e]),
    p.snapshot
  );
}
async function b4(t, e, n) {
  const r = be(t),
    s = r.Pu.get(e),
    a = r.Tu.get(s.targetId);
  if (a.length > 1)
    return (
      r.Tu.set(
        s.targetId,
        a.filter((l) => !ph(l, e))
      ),
      void r.Pu.delete(e)
    );
  r.isPrimaryClient
    ? (r.sharedClientState.removeLocalQueryTarget(s.targetId),
      r.sharedClientState.isActiveQueryTarget(s.targetId) ||
        (await cm(r.localStore, s.targetId, !1)
          .then(() => {
            r.sharedClientState.clearQueryState(s.targetId),
              n && Eg(r.remoteStore, s.targetId),
              fm(r, s.targetId);
          })
          .catch(Va)))
    : (fm(r, s.targetId), await cm(r.localStore, s.targetId, !0));
}
async function C4(t, e) {
  const n = be(t),
    r = n.Pu.get(e),
    s = n.Tu.get(r.targetId);
  n.isPrimaryClient &&
    s.length === 1 &&
    (n.sharedClientState.removeLocalQueryTarget(r.targetId),
    Eg(n.remoteStore, r.targetId));
}
async function A4(t, e, n) {
  const r = O4(t);
  try {
    const s = await (function (l, d) {
      const f = be(l),
        p = Xe.now(),
        g = d.reduce((P, b) => P.add(b.key), je());
      let w, x;
      return f.persistence
        .runTransaction("Locally write mutations", "readwrite", (P) => {
          let b = ci(),
            N = je();
          return f.Os.getEntries(P, g)
            .next((k) => {
              (b = k),
                b.forEach(($, G) => {
                  G.isValidDocument() || (N = N.add($));
                });
            })
            .next(() => f.localDocuments.getOverlayedDocuments(P, b))
            .next((k) => {
              w = k;
              const $ = [];
              for (const G of d) {
                const q = zk(G, w.get(G.key).overlayedDocument);
                q != null &&
                  $.push(new ms(G.key, q, yE(q.value.mapValue), Ir.exists(!0)));
              }
              return f.mutationQueue.addMutationBatch(P, p, $, d);
            })
            .next((k) => {
              x = k;
              const $ = k.applyToLocalDocumentSet(w, N);
              return f.documentOverlayCache.saveOverlays(P, k.batchId, $);
            });
        })
        .then(() => ({ batchId: x.batchId, changes: bE(w) }));
    })(r.localStore, e);
    r.sharedClientState.addPendingMutation(s.batchId),
      (function (l, d, f) {
        let p = l.Ru[l.currentUser.toKey()];
        p || (p = new st(Ae)),
          (p = p.insert(d, f)),
          (l.Ru[l.currentUser.toKey()] = p);
      })(r, s.batchId, n),
      await Du(r, s.changes),
      await xh(r.remoteStore);
  } catch (s) {
    const a = bg(s, "Failed to persist write");
    n.reject(a);
  }
}
async function lT(t, e) {
  const n = be(t);
  try {
    const r = await FN(n.localStore, e);
    e.targetChanges.forEach((s, a) => {
      const l = n.Eu.get(a);
      l &&
        (ze(
          s.addedDocuments.size +
            s.modifiedDocuments.size +
            s.removedDocuments.size <=
            1,
          22616
        ),
        s.addedDocuments.size > 0
          ? (l.lu = !0)
          : s.modifiedDocuments.size > 0
          ? ze(l.lu, 14607)
          : s.removedDocuments.size > 0 && (ze(l.lu, 42227), (l.lu = !1)));
    }),
      await Du(n, r, e);
  } catch (r) {
    await Va(r);
  }
}
function pw(t, e, n) {
  const r = be(t);
  if ((r.isPrimaryClient && n === 0) || (!r.isPrimaryClient && n === 1)) {
    const s = [];
    r.Pu.forEach((a, l) => {
      const d = l.view.va(e);
      d.snapshot && s.push(d.snapshot);
    }),
      (function (l, d) {
        const f = be(l);
        f.onlineState = d;
        let p = !1;
        f.queries.forEach((g, w) => {
          for (const x of w.wa) x.va(d) && (p = !0);
        }),
          p && Cg(f);
      })(r.eventManager, e),
      s.length && r.hu.J_(s),
      (r.onlineState = e),
      r.isPrimaryClient && r.sharedClientState.setOnlineState(e);
  }
}
async function R4(t, e, n) {
  const r = be(t);
  r.sharedClientState.updateQueryState(e, "rejected", n);
  const s = r.Eu.get(e),
    a = s && s.key;
  if (a) {
    let l = new st(we.comparator);
    l = l.insert(a, Zt.newNoDocument(a, Se.min()));
    const d = je().add(a),
      f = new vh(Se.min(), new Map(), new st(Ae), l, d);
    await lT(r, f), (r.du = r.du.remove(a)), r.Eu.delete(e), Rg(r);
  } else
    await cm(r.localStore, e, !1)
      .then(() => fm(r, e, n))
      .catch(Va);
}
async function k4(t, e) {
  const n = be(t),
    r = e.batch.batchId;
  try {
    const s = await LN(n.localStore, e);
    cT(n, r, null),
      uT(n, r),
      n.sharedClientState.updateMutationState(r, "acknowledged"),
      await Du(n, s);
  } catch (s) {
    await Va(s);
  }
}
async function N4(t, e, n) {
  const r = be(t);
  try {
    const s = await (function (l, d) {
      const f = be(l);
      return f.persistence.runTransaction(
        "Reject batch",
        "readwrite-primary",
        (p) => {
          let g;
          return f.mutationQueue
            .lookupMutationBatch(p, d)
            .next(
              (w) => (
                ze(w !== null, 37113),
                (g = w.keys()),
                f.mutationQueue.removeMutationBatch(p, w)
              )
            )
            .next(() => f.mutationQueue.performConsistencyCheck(p))
            .next(() =>
              f.documentOverlayCache.removeOverlaysForBatchId(p, g, d)
            )
            .next(() =>
              f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p, g)
            )
            .next(() => f.localDocuments.getDocuments(p, g));
        }
      );
    })(r.localStore, e);
    cT(r, e, n),
      uT(r, e),
      r.sharedClientState.updateMutationState(e, "rejected", n),
      await Du(r, s);
  } catch (s) {
    await Va(s);
  }
}
function uT(t, e) {
  (t.Vu.get(e) || []).forEach((n) => {
    n.resolve();
  }),
    t.Vu.delete(e);
}
function cT(t, e, n) {
  const r = be(t);
  let s = r.Ru[r.currentUser.toKey()];
  if (s) {
    const a = s.get(e);
    a && (n ? a.reject(n) : a.resolve(), (s = s.remove(e))),
      (r.Ru[r.currentUser.toKey()] = s);
  }
}
function fm(t, e, n = null) {
  t.sharedClientState.removeLocalQueryTarget(e);
  for (const r of t.Tu.get(e)) t.Pu.delete(r), n && t.hu.pu(r, n);
  t.Tu.delete(e),
    t.isPrimaryClient &&
      t.Au.zr(e).forEach((r) => {
        t.Au.containsKey(r) || dT(t, r);
      });
}
function dT(t, e) {
  t.Iu.delete(e.path.canonicalString());
  const n = t.du.get(e);
  n !== null &&
    (Eg(t.remoteStore, n), (t.du = t.du.remove(e)), t.Eu.delete(n), Rg(t));
}
function mw(t, e, n) {
  for (const r of n)
    r instanceof sT
      ? (t.Au.addReference(r.key, e), j4(t, r))
      : r instanceof oT
      ? (ue(Ag, "Document no longer in limbo: " + r.key),
        t.Au.removeReference(r.key, e),
        t.Au.containsKey(r.key) || dT(t, r.key))
      : Ee(19791, { yu: r });
}
function j4(t, e) {
  const n = e.key,
    r = n.path.canonicalString();
  t.du.get(n) ||
    t.Iu.has(r) ||
    (ue(Ag, "New document in limbo: " + n), t.Iu.add(r), Rg(t));
}
function Rg(t) {
  for (; t.Iu.size > 0 && t.du.size < t.maxConcurrentLimboResolutions; ) {
    const e = t.Iu.values().next().value;
    t.Iu.delete(e);
    const n = new we(rt.fromString(e)),
      r = t.mu.next();
    t.Eu.set(r, new E4(n)),
      (t.du = t.du.insert(n, r)),
      ZE(
        t.remoteStore,
        new Ki(Sr(fg(n.path)), r, "TargetPurposeLimboResolution", ch.ue)
      );
  }
}
async function Du(t, e, n) {
  const r = be(t),
    s = [],
    a = [],
    l = [];
  r.Pu.isEmpty() ||
    (r.Pu.forEach((d, f) => {
      l.push(
        r.gu(f, e, n).then((p) => {
          var g;
          if ((p || n) && r.isPrimaryClient) {
            const w = p
              ? !p.fromCache
              : (g = n == null ? void 0 : n.targetChanges.get(f.targetId)) ===
                  null || g === void 0
              ? void 0
              : g.current;
            r.sharedClientState.updateQueryState(
              f.targetId,
              w ? "current" : "not-current"
            );
          }
          if (p) {
            s.push(p);
            const w = wg.Es(f.targetId, p);
            a.push(w);
          }
        })
      );
    }),
    await Promise.all(l),
    r.hu.J_(s),
    await (async function (f, p) {
      const g = be(f);
      try {
        await g.persistence.runTransaction(
          "notifyLocalViewChanges",
          "readwrite",
          (w) =>
            Q.forEach(p, (x) =>
              Q.forEach(x.Is, (P) =>
                g.persistence.referenceDelegate.addReference(w, x.targetId, P)
              ).next(() =>
                Q.forEach(x.ds, (P) =>
                  g.persistence.referenceDelegate.removeReference(
                    w,
                    x.targetId,
                    P
                  )
                )
              )
            )
        );
      } catch (w) {
        if (!Oa(w)) throw w;
        ue(xg, "Failed to update sequence numbers: " + w);
      }
      for (const w of p) {
        const x = w.targetId;
        if (!w.fromCache) {
          const P = g.Fs.get(x),
            b = P.snapshotVersion,
            N = P.withLastLimboFreeSnapshotVersion(b);
          g.Fs = g.Fs.insert(x, N);
        }
      }
    })(r.localStore, a));
}
async function D4(t, e) {
  const n = be(t);
  if (!n.currentUser.isEqual(e)) {
    ue(Ag, "User change. New user:", e.toKey());
    const r = await QE(n.localStore, e);
    (n.currentUser = e),
      (function (a, l) {
        a.Vu.forEach((d) => {
          d.forEach((f) => {
            f.reject(new me(Z.CANCELLED, l));
          });
        }),
          a.Vu.clear();
      })(n, "'waitForPendingWrites' promise is rejected due to a user change."),
      n.sharedClientState.handleUserChange(
        e,
        r.removedBatchIds,
        r.addedBatchIds
      ),
      await Du(n, r.Bs);
  }
}
function V4(t, e) {
  const n = be(t),
    r = n.Eu.get(e);
  if (r && r.lu) return je().add(r.key);
  {
    let s = je();
    const a = n.Tu.get(e);
    if (!a) return s;
    for (const l of a) {
      const d = n.Pu.get(l);
      s = s.unionWith(d.view.tu);
    }
    return s;
  }
}
function hT(t) {
  const e = be(t);
  return (
    (e.remoteStore.remoteSyncer.applyRemoteEvent = lT.bind(null, e)),
    (e.remoteStore.remoteSyncer.getRemoteKeysForTarget = V4.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectListen = R4.bind(null, e)),
    (e.hu.J_ = y4.bind(null, e.eventManager)),
    (e.hu.pu = v4.bind(null, e.eventManager)),
    e
  );
}
function O4(t) {
  const e = be(t);
  return (
    (e.remoteStore.remoteSyncer.applySuccessfulWrite = k4.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectFailedWrite = N4.bind(null, e)),
    e
  );
}
class Qd {
  constructor() {
    (this.kind = "memory"), (this.synchronizeTabs = !1);
  }
  async initialize(e) {
    (this.serializer = _h(e.databaseInfo.databaseId)),
      (this.sharedClientState = this.bu(e)),
      (this.persistence = this.Du(e)),
      await this.persistence.start(),
      (this.localStore = this.vu(e)),
      (this.gcScheduler = this.Cu(e, this.localStore)),
      (this.indexBackfillerScheduler = this.Fu(e, this.localStore));
  }
  Cu(e, n) {
    return null;
  }
  Fu(e, n) {
    return null;
  }
  vu(e) {
    return MN(this.persistence, new DN(), e.initialUser, this.serializer);
  }
  Du(e) {
    return new KE(_g.Vi, this.serializer);
  }
  bu(e) {
    return new HN();
  }
  async terminate() {
    var e, n;
    (e = this.gcScheduler) === null || e === void 0 || e.stop(),
      (n = this.indexBackfillerScheduler) === null || n === void 0 || n.stop(),
      this.sharedClientState.shutdown(),
      await this.persistence.shutdown();
  }
}
Qd.provider = { build: () => new Qd() };
class M4 extends Qd {
  constructor(e) {
    super(), (this.cacheSizeBytes = e);
  }
  Cu(e, n) {
    ze(this.persistence.referenceDelegate instanceof Gd, 46915);
    const r = this.persistence.referenceDelegate.garbageCollector;
    return new _N(r, e.asyncQueue, n);
  }
  Du(e) {
    const n =
      this.cacheSizeBytes !== void 0
        ? yn.withCacheSize(this.cacheSizeBytes)
        : yn.DEFAULT;
    return new KE((r) => Gd.Vi(r, n), this.serializer);
  }
}
class pm {
  async initialize(e, n) {
    this.localStore ||
      ((this.localStore = e.localStore),
      (this.sharedClientState = e.sharedClientState),
      (this.datastore = this.createDatastore(n)),
      (this.remoteStore = this.createRemoteStore(n)),
      (this.eventManager = this.createEventManager(n)),
      (this.syncEngine = this.createSyncEngine(n, !e.synchronizeTabs)),
      (this.sharedClientState.onlineStateHandler = (r) =>
        pw(this.syncEngine, r, 1)),
      (this.remoteStore.remoteSyncer.handleCredentialChange = D4.bind(
        null,
        this.syncEngine
      )),
      await h4(this.remoteStore, this.syncEngine.isPrimaryClient));
  }
  createEventManager(e) {
    return (function () {
      return new p4();
    })();
  }
  createDatastore(e) {
    const n = _h(e.databaseInfo.databaseId),
      r = (function (a) {
        return new QN(a);
      })(e.databaseInfo);
    return (function (a, l, d, f) {
      return new ZN(a, l, d, f);
    })(e.authCredentials, e.appCheckCredentials, r, n);
  }
  createRemoteStore(e) {
    return (function (r, s, a, l, d) {
      return new t4(r, s, a, l, d);
    })(
      this.localStore,
      this.datastore,
      e.asyncQueue,
      (n) => pw(this.syncEngine, n, 0),
      (function () {
        return lw.C() ? new lw() : new WN();
      })()
    );
  }
  createSyncEngine(e, n) {
    return (function (s, a, l, d, f, p, g) {
      const w = new T4(s, a, l, d, f, p);
      return g && (w.fu = !0), w;
    })(
      this.localStore,
      this.remoteStore,
      this.eventManager,
      this.sharedClientState,
      e.initialUser,
      e.maxConcurrentLimboResolutions,
      n
    );
  }
  async terminate() {
    var e, n;
    await (async function (s) {
      const a = be(s);
      ue(ao, "RemoteStore shutting down."),
        a.Ia.add(5),
        await ju(a),
        a.Ea.shutdown(),
        a.Aa.set("Unknown");
    })(this.remoteStore),
      (e = this.datastore) === null || e === void 0 || e.terminate(),
      (n = this.eventManager) === null || n === void 0 || n.terminate();
  }
}
pm.provider = { build: () => new pm() };
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class L4 {
  constructor(e) {
    (this.observer = e), (this.muted = !1);
  }
  next(e) {
    this.muted || (this.observer.next && this.xu(this.observer.next, e));
  }
  error(e) {
    this.muted ||
      (this.observer.error
        ? this.xu(this.observer.error, e)
        : ui("Uncaught Error in snapshot listener:", e.toString()));
  }
  Ou() {
    this.muted = !0;
  }
  xu(e, n) {
    setTimeout(() => {
      this.muted || e(n);
    }, 0);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const as = "FirestoreClient";
class F4 {
  constructor(e, n, r, s, a) {
    (this.authCredentials = e),
      (this.appCheckCredentials = n),
      (this.asyncQueue = r),
      (this.databaseInfo = s),
      (this.user = Jt.UNAUTHENTICATED),
      (this.clientId = og.newId()),
      (this.authCredentialListener = () => Promise.resolve()),
      (this.appCheckCredentialListener = () => Promise.resolve()),
      (this._uninitializedComponentsProvider = a),
      this.authCredentials.start(r, async (l) => {
        ue(as, "Received user=", l.uid),
          await this.authCredentialListener(l),
          (this.user = l);
      }),
      this.appCheckCredentials.start(
        r,
        (l) => (
          ue(as, "Received new app check token=", l),
          this.appCheckCredentialListener(l, this.user)
        )
      );
  }
  get configuration() {
    return {
      asyncQueue: this.asyncQueue,
      databaseInfo: this.databaseInfo,
      clientId: this.clientId,
      authCredentials: this.authCredentials,
      appCheckCredentials: this.appCheckCredentials,
      initialUser: this.user,
      maxConcurrentLimboResolutions: 100,
    };
  }
  setCredentialChangeListener(e) {
    this.authCredentialListener = e;
  }
  setAppCheckTokenChangeListener(e) {
    this.appCheckCredentialListener = e;
  }
  terminate() {
    this.asyncQueue.enterRestrictedMode();
    const e = new Zi();
    return (
      this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async () => {
        try {
          this._onlineComponents && (await this._onlineComponents.terminate()),
            this._offlineComponents &&
              (await this._offlineComponents.terminate()),
            this.authCredentials.shutdown(),
            this.appCheckCredentials.shutdown(),
            e.resolve();
        } catch (n) {
          const r = bg(n, "Failed to shutdown persistence");
          e.reject(r);
        }
      }),
      e.promise
    );
  }
}
async function Ep(t, e) {
  t.asyncQueue.verifyOperationInProgress(),
    ue(as, "Initializing OfflineComponentProvider");
  const n = t.configuration;
  await e.initialize(n);
  let r = n.initialUser;
  t.setCredentialChangeListener(async (s) => {
    r.isEqual(s) || (await QE(e.localStore, s), (r = s));
  }),
    e.persistence.setDatabaseDeletedListener(() => {
      ts("Terminating Firestore due to IndexedDb database deletion"),
        t
          .terminate()
          .then(() => {
            ue(
              "Terminating Firestore due to IndexedDb database deletion completed successfully"
            );
          })
          .catch((s) => {
            ts(
              "Terminating Firestore due to IndexedDb database deletion failed",
              s
            );
          });
    }),
    (t._offlineComponents = e);
}
async function gw(t, e) {
  t.asyncQueue.verifyOperationInProgress();
  const n = await U4(t);
  ue(as, "Initializing OnlineComponentProvider"),
    await e.initialize(n, t.configuration),
    t.setCredentialChangeListener((r) => cw(e.remoteStore, r)),
    t.setAppCheckTokenChangeListener((r, s) => cw(e.remoteStore, s)),
    (t._onlineComponents = e);
}
async function U4(t) {
  if (!t._offlineComponents)
    if (t._uninitializedComponentsProvider) {
      ue(as, "Using user provided OfflineComponentProvider");
      try {
        await Ep(t, t._uninitializedComponentsProvider._offline);
      } catch (e) {
        const n = e;
        if (
          !(function (s) {
            return s.name === "FirebaseError"
              ? s.code === Z.FAILED_PRECONDITION || s.code === Z.UNIMPLEMENTED
              : !(typeof DOMException < "u" && s instanceof DOMException) ||
                  s.code === 22 ||
                  s.code === 20 ||
                  s.code === 11;
          })(n)
        )
          throw n;
        ts(
          "Error using user provided cache. Falling back to memory cache: " + n
        ),
          await Ep(t, new Qd());
      }
    } else
      ue(as, "Using default OfflineComponentProvider"),
        await Ep(t, new M4(void 0));
  return t._offlineComponents;
}
async function fT(t) {
  return (
    t._onlineComponents ||
      (t._uninitializedComponentsProvider
        ? (ue(as, "Using user provided OnlineComponentProvider"),
          await gw(t, t._uninitializedComponentsProvider._online))
        : (ue(as, "Using default OnlineComponentProvider"),
          await gw(t, new pm()))),
    t._onlineComponents
  );
}
function B4(t) {
  return fT(t).then((e) => e.syncEngine);
}
async function z4(t) {
  const e = await fT(t),
    n = e.eventManager;
  return (
    (n.onListen = P4.bind(null, e.syncEngine)),
    (n.onUnlisten = b4.bind(null, e.syncEngine)),
    (n.onFirstRemoteStoreListen = S4.bind(null, e.syncEngine)),
    (n.onLastRemoteStoreUnlisten = C4.bind(null, e.syncEngine)),
    n
  );
}
function $4(t, e, n = {}) {
  const r = new Zi();
  return (
    t.asyncQueue.enqueueAndForget(async () =>
      (function (a, l, d, f, p) {
        const g = new L4({
            next: (x) => {
              g.Ou(), l.enqueueAndForget(() => g4(a, w));
              const P = x.docs.has(d);
              !P && x.fromCache
                ? p.reject(
                    new me(
                      Z.UNAVAILABLE,
                      "Failed to get document because the client is offline."
                    )
                  )
                : P && x.fromCache && f && f.source === "server"
                ? p.reject(
                    new me(
                      Z.UNAVAILABLE,
                      'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)'
                    )
                  )
                : p.resolve(x);
            },
            error: (x) => p.reject(x),
          }),
          w = new _4(fg(d.path), g, { includeMetadataChanges: !0, ka: !0 });
        return m4(a, w);
      })(await z4(t), t.asyncQueue, e, n, r)
    ),
    r.promise
  );
}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function pT(t) {
  const e = {};
  return (
    t.timeoutSeconds !== void 0 && (e.timeoutSeconds = t.timeoutSeconds), e
  );
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const yw = new Map();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const mT = "firestore.googleapis.com",
  vw = !0;
class _w {
  constructor(e) {
    var n, r;
    if (e.host === void 0) {
      if (e.ssl !== void 0)
        throw new me(
          Z.INVALID_ARGUMENT,
          "Can't provide ssl option if host option is not set"
        );
      (this.host = mT), (this.ssl = vw);
    } else
      (this.host = e.host),
        (this.ssl = (n = e.ssl) !== null && n !== void 0 ? n : vw);
    if (
      ((this.isUsingEmulator = e.emulatorOptions !== void 0),
      (this.credentials = e.credentials),
      (this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties),
      (this.localCache = e.localCache),
      e.cacheSizeBytes === void 0)
    )
      this.cacheSizeBytes = GE;
    else {
      if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < yN)
        throw new me(
          Z.INVALID_ARGUMENT,
          "cacheSizeBytes must be at least 1048576"
        );
      this.cacheSizeBytes = e.cacheSizeBytes;
    }
    tk(
      "experimentalForceLongPolling",
      e.experimentalForceLongPolling,
      "experimentalAutoDetectLongPolling",
      e.experimentalAutoDetectLongPolling
    ),
      (this.experimentalForceLongPolling = !!e.experimentalForceLongPolling),
      this.experimentalForceLongPolling
        ? (this.experimentalAutoDetectLongPolling = !1)
        : e.experimentalAutoDetectLongPolling === void 0
        ? (this.experimentalAutoDetectLongPolling = !0)
        : (this.experimentalAutoDetectLongPolling =
            !!e.experimentalAutoDetectLongPolling),
      (this.experimentalLongPollingOptions = pT(
        (r = e.experimentalLongPollingOptions) !== null && r !== void 0 ? r : {}
      )),
      (function (a) {
        if (a.timeoutSeconds !== void 0) {
          if (isNaN(a.timeoutSeconds))
            throw new me(
              Z.INVALID_ARGUMENT,
              `invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`
            );
          if (a.timeoutSeconds < 5)
            throw new me(
              Z.INVALID_ARGUMENT,
              `invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`
            );
          if (a.timeoutSeconds > 30)
            throw new me(
              Z.INVALID_ARGUMENT,
              `invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`
            );
        }
      })(this.experimentalLongPollingOptions),
      (this.useFetchStreams = !!e.useFetchStreams);
  }
  isEqual(e) {
    return (
      this.host === e.host &&
      this.ssl === e.ssl &&
      this.credentials === e.credentials &&
      this.cacheSizeBytes === e.cacheSizeBytes &&
      this.experimentalForceLongPolling === e.experimentalForceLongPolling &&
      this.experimentalAutoDetectLongPolling ===
        e.experimentalAutoDetectLongPolling &&
      (function (r, s) {
        return r.timeoutSeconds === s.timeoutSeconds;
      })(
        this.experimentalLongPollingOptions,
        e.experimentalLongPollingOptions
      ) &&
      this.ignoreUndefinedProperties === e.ignoreUndefinedProperties &&
      this.useFetchStreams === e.useFetchStreams
    );
  }
}
class kg {
  constructor(e, n, r, s) {
    (this._authCredentials = e),
      (this._appCheckCredentials = n),
      (this._databaseId = r),
      (this._app = s),
      (this.type = "firestore-lite"),
      (this._persistenceKey = "(lite)"),
      (this._settings = new _w({})),
      (this._settingsFrozen = !1),
      (this._emulatorOptions = {}),
      (this._terminateTask = "notTerminated");
  }
  get app() {
    if (!this._app)
      throw new me(
        Z.FAILED_PRECONDITION,
        "Firestore was not initialized using the Firebase SDK. 'app' is not available"
      );
    return this._app;
  }
  get _initialized() {
    return this._settingsFrozen;
  }
  get _terminated() {
    return this._terminateTask !== "notTerminated";
  }
  _setSettings(e) {
    if (this._settingsFrozen)
      throw new me(
        Z.FAILED_PRECONDITION,
        "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object."
      );
    (this._settings = new _w(e)),
      (this._emulatorOptions = e.emulatorOptions || {}),
      e.credentials !== void 0 &&
        (this._authCredentials = (function (r) {
          if (!r) return new WR();
          switch (r.type) {
            case "firstParty":
              return new QR(
                r.sessionIndex || "0",
                r.iamToken || null,
                r.authTokenFactory || null
              );
            case "provider":
              return r.client;
            default:
              throw new me(
                Z.INVALID_ARGUMENT,
                "makeAuthCredentialsProvider failed due to invalid credential type"
              );
          }
        })(e.credentials));
  }
  _getSettings() {
    return this._settings;
  }
  _getEmulatorOptions() {
    return this._emulatorOptions;
  }
  _freezeSettings() {
    return (this._settingsFrozen = !0), this._settings;
  }
  _delete() {
    return (
      this._terminateTask === "notTerminated" &&
        (this._terminateTask = this._terminate()),
      this._terminateTask
    );
  }
  async _restart() {
    this._terminateTask === "notTerminated"
      ? await this._terminate()
      : (this._terminateTask = "notTerminated");
  }
  toJSON() {
    return {
      app: this._app,
      databaseId: this._databaseId,
      settings: this._settings,
    };
  }
  _terminate() {
    return (
      (function (n) {
        const r = yw.get(n);
        r &&
          (ue("ComponentProvider", "Removing Datastore"),
          yw.delete(n),
          r.terminate());
      })(this),
      Promise.resolve()
    );
  }
}
function H4(t, e, n, r = {}) {
  var s;
  t = oo(t, kg);
  const a = hs(e),
    l = t._getSettings(),
    d = Object.assign(Object.assign({}, l), {
      emulatorOptions: t._getEmulatorOptions(),
    }),
    f = `${e}:${n}`;
  a && (Wm(`https://${f}`), qm("Firestore", !0)),
    l.host !== mT &&
      l.host !== f &&
      ts(
        "Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."
      );
  const p = Object.assign(Object.assign({}, l), {
    host: f,
    ssl: a,
    emulatorOptions: r,
  });
  if (!to(p, d) && (t._setSettings(p), r.mockUserToken)) {
    let g, w;
    if (typeof r.mockUserToken == "string")
      (g = r.mockUserToken), (w = Jt.MOCK_USER);
    else {
      g = hx(
        r.mockUserToken,
        (s = t._app) === null || s === void 0 ? void 0 : s.options.projectId
      );
      const x = r.mockUserToken.sub || r.mockUserToken.user_id;
      if (!x)
        throw new me(
          Z.INVALID_ARGUMENT,
          "mockUserToken must contain 'sub' or 'user_id' field!"
        );
      w = new Jt(x);
    }
    t._authCredentials = new qR(new sE(g, w));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ng {
  constructor(e, n, r) {
    (this.converter = n),
      (this._query = r),
      (this.type = "query"),
      (this.firestore = e);
  }
  withConverter(e) {
    return new Ng(this.firestore, e, this._query);
  }
}
class Ct {
  constructor(e, n, r) {
    (this.converter = n),
      (this._key = r),
      (this.type = "document"),
      (this.firestore = e);
  }
  get _path() {
    return this._key.path;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get path() {
    return this._key.path.canonicalString();
  }
  get parent() {
    return new mu(this.firestore, this.converter, this._key.path.popLast());
  }
  withConverter(e) {
    return new Ct(this.firestore, e, this._key);
  }
  toJSON() {
    return { type: Ct._jsonSchemaVersion, referencePath: this._key.toString() };
  }
  static fromJSON(e, n, r) {
    if (Ru(n, Ct._jsonSchema))
      return new Ct(e, r || null, new we(rt.fromString(n.referencePath)));
  }
}
(Ct._jsonSchemaVersion = "firestore/documentReference/1.0"),
  (Ct._jsonSchema = {
    type: xt("string", Ct._jsonSchemaVersion),
    referencePath: xt("string"),
  });
class mu extends Ng {
  constructor(e, n, r) {
    super(e, n, fg(r)), (this._path = r), (this.type = "collection");
  }
  get id() {
    return this._query.path.lastSegment();
  }
  get path() {
    return this._query.path.canonicalString();
  }
  get parent() {
    const e = this._path.popLast();
    return e.isEmpty() ? null : new Ct(this.firestore, null, new we(e));
  }
  withConverter(e) {
    return new mu(this.firestore, e, this._path);
  }
}
function Tp(t, e, ...n) {
  if (
    ((t = mt(t)),
    arguments.length === 1 && (e = og.newId()),
    ek("doc", "path", e),
    t instanceof kg)
  ) {
    const r = rt.fromString(e, ...n);
    return j_(r), new Ct(t, null, new we(r));
  }
  {
    if (!(t instanceof Ct || t instanceof mu))
      throw new me(
        Z.INVALID_ARGUMENT,
        "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore"
      );
    const r = t._path.child(rt.fromString(e, ...n));
    return (
      j_(r),
      new Ct(t.firestore, t instanceof mu ? t.converter : null, new we(r))
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const ww = "AsyncQueue";
class xw {
  constructor(e = Promise.resolve()) {
    (this.Zu = []),
      (this.Xu = !1),
      (this.ec = []),
      (this.tc = null),
      (this.nc = !1),
      (this.rc = !1),
      (this.sc = []),
      (this.F_ = new YE(this, "async_queue_retry")),
      (this.oc = () => {
        const r = xp();
        r && ue(ww, "Visibility state changed to " + r.visibilityState),
          this.F_.y_();
      }),
      (this._c = e);
    const n = xp();
    n &&
      typeof n.addEventListener == "function" &&
      n.addEventListener("visibilitychange", this.oc);
  }
  get isShuttingDown() {
    return this.Xu;
  }
  enqueueAndForget(e) {
    this.enqueue(e);
  }
  enqueueAndForgetEvenWhileRestricted(e) {
    this.ac(), this.uc(e);
  }
  enterRestrictedMode(e) {
    if (!this.Xu) {
      (this.Xu = !0), (this.rc = e || !1);
      const n = xp();
      n &&
        typeof n.removeEventListener == "function" &&
        n.removeEventListener("visibilitychange", this.oc);
    }
  }
  enqueue(e) {
    if ((this.ac(), this.Xu)) return new Promise(() => {});
    const n = new Zi();
    return this.uc(() =>
      this.Xu && this.rc
        ? Promise.resolve()
        : (e().then(n.resolve, n.reject), n.promise)
    ).then(() => n.promise);
  }
  enqueueRetryable(e) {
    this.enqueueAndForget(() => (this.Zu.push(e), this.cc()));
  }
  async cc() {
    if (this.Zu.length !== 0) {
      try {
        await this.Zu[0](), this.Zu.shift(), this.F_.reset();
      } catch (e) {
        if (!Oa(e)) throw e;
        ue(ww, "Operation failed with retryable error: " + e);
      }
      this.Zu.length > 0 && this.F_.g_(() => this.cc());
    }
  }
  uc(e) {
    const n = this._c.then(
      () => (
        (this.nc = !0),
        e()
          .catch((r) => {
            throw (
              ((this.tc = r),
              (this.nc = !1),
              ui("INTERNAL UNHANDLED ERROR: ", Ew(r)),
              r)
            );
          })
          .then((r) => ((this.nc = !1), r))
      )
    );
    return (this._c = n), n;
  }
  enqueueAfterDelay(e, n, r) {
    this.ac(), this.sc.indexOf(e) > -1 && (n = 0);
    const s = Ig.createAndSchedule(this, e, n, r, (a) => this.lc(a));
    return this.ec.push(s), s;
  }
  ac() {
    this.tc && Ee(47125, { hc: Ew(this.tc) });
  }
  verifyOperationInProgress() {}
  async Pc() {
    let e;
    do (e = this._c), await e;
    while (e !== this._c);
  }
  Tc(e) {
    for (const n of this.ec) if (n.timerId === e) return !0;
    return !1;
  }
  Ic(e) {
    return this.Pc().then(() => {
      this.ec.sort((n, r) => n.targetTimeMs - r.targetTimeMs);
      for (const n of this.ec)
        if ((n.skipDelay(), e !== "all" && n.timerId === e)) break;
      return this.Pc();
    });
  }
  dc(e) {
    this.sc.push(e);
  }
  lc(e) {
    const n = this.ec.indexOf(e);
    this.ec.splice(n, 1);
  }
}
function Ew(t) {
  let e = t.message || "";
  return (
    t.stack &&
      (e = t.stack.includes(t.message)
        ? t.stack
        : t.message +
          `
` +
          t.stack),
    e
  );
}
class Eh extends kg {
  constructor(e, n, r, s) {
    super(e, n, r, s),
      (this.type = "firestore"),
      (this._queue = new xw()),
      (this._persistenceKey = (s == null ? void 0 : s.name) || "[DEFAULT]");
  }
  async _terminate() {
    if (this._firestoreClient) {
      const e = this._firestoreClient.terminate();
      (this._queue = new xw(e)), (this._firestoreClient = void 0), await e;
    }
  }
}
function W4(t, e) {
  const n = typeof t == "object" ? t : Qm(),
    r = typeof t == "string" ? t : Ud,
    s = oh(n, "firestore").getImmediate({ identifier: r });
  if (!s._initialized) {
    const a = ux("firestore");
    a && H4(s, ...a);
  }
  return s;
}
function gT(t) {
  if (t._terminated)
    throw new me(
      Z.FAILED_PRECONDITION,
      "The client has already been terminated."
    );
  return t._firestoreClient || q4(t), t._firestoreClient;
}
function q4(t) {
  var e, n, r;
  const s = t._freezeSettings(),
    a = (function (d, f, p, g) {
      return new hk(
        d,
        f,
        p,
        g.host,
        g.ssl,
        g.experimentalForceLongPolling,
        g.experimentalAutoDetectLongPolling,
        pT(g.experimentalLongPollingOptions),
        g.useFetchStreams,
        g.isUsingEmulator
      );
    })(
      t._databaseId,
      ((e = t._app) === null || e === void 0 ? void 0 : e.options.appId) || "",
      t._persistenceKey,
      s
    );
  t._componentsProvider ||
    (!((n = s.localCache) === null || n === void 0) &&
      n._offlineComponentProvider &&
      !((r = s.localCache) === null || r === void 0) &&
      r._onlineComponentProvider &&
      (t._componentsProvider = {
        _offline: s.localCache._offlineComponentProvider,
        _online: s.localCache._onlineComponentProvider,
      })),
    (t._firestoreClient = new F4(
      t._authCredentials,
      t._appCheckCredentials,
      t._queue,
      a,
      t._componentsProvider &&
        (function (d) {
          const f = d == null ? void 0 : d._online.build();
          return {
            _offline: d == null ? void 0 : d._offline.build(f),
            _online: f,
          };
        })(t._componentsProvider)
    ));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class zn {
  constructor(e) {
    this._byteString = e;
  }
  static fromBase64String(e) {
    try {
      return new zn(Wt.fromBase64String(e));
    } catch (n) {
      throw new me(
        Z.INVALID_ARGUMENT,
        "Failed to construct data from Base64 string: " + n
      );
    }
  }
  static fromUint8Array(e) {
    return new zn(Wt.fromUint8Array(e));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return "Bytes(base64: " + this.toBase64() + ")";
  }
  isEqual(e) {
    return this._byteString.isEqual(e._byteString);
  }
  toJSON() {
    return { type: zn._jsonSchemaVersion, bytes: this.toBase64() };
  }
  static fromJSON(e) {
    if (Ru(e, zn._jsonSchema)) return zn.fromBase64String(e.bytes);
  }
}
(zn._jsonSchemaVersion = "firestore/bytes/1.0"),
  (zn._jsonSchema = {
    type: xt("string", zn._jsonSchemaVersion),
    bytes: xt("string"),
  });
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Th {
  constructor(...e) {
    for (let n = 0; n < e.length; ++n)
      if (e[n].length === 0)
        throw new me(
          Z.INVALID_ARGUMENT,
          "Invalid field name at argument $(i + 1). Field names must not be empty."
        );
    this._internalPath = new Ht(e);
  }
  isEqual(e) {
    return this._internalPath.isEqual(e._internalPath);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class jg {
  constructor(e) {
    this._methodName = e;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Cr {
  constructor(e, n) {
    if (!isFinite(e) || e < -90 || e > 90)
      throw new me(
        Z.INVALID_ARGUMENT,
        "Latitude must be a number between -90 and 90, but was: " + e
      );
    if (!isFinite(n) || n < -180 || n > 180)
      throw new me(
        Z.INVALID_ARGUMENT,
        "Longitude must be a number between -180 and 180, but was: " + n
      );
    (this._lat = e), (this._long = n);
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(e) {
    return this._lat === e._lat && this._long === e._long;
  }
  _compareTo(e) {
    return Ae(this._lat, e._lat) || Ae(this._long, e._long);
  }
  toJSON() {
    return {
      latitude: this._lat,
      longitude: this._long,
      type: Cr._jsonSchemaVersion,
    };
  }
  static fromJSON(e) {
    if (Ru(e, Cr._jsonSchema)) return new Cr(e.latitude, e.longitude);
  }
}
(Cr._jsonSchemaVersion = "firestore/geoPoint/1.0"),
  (Cr._jsonSchema = {
    type: xt("string", Cr._jsonSchemaVersion),
    latitude: xt("number"),
    longitude: xt("number"),
  });
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Ar {
  constructor(e) {
    this._values = (e || []).map((n) => n);
  }
  toArray() {
    return this._values.map((e) => e);
  }
  isEqual(e) {
    return (function (r, s) {
      if (r.length !== s.length) return !1;
      for (let a = 0; a < r.length; ++a) if (r[a] !== s[a]) return !1;
      return !0;
    })(this._values, e._values);
  }
  toJSON() {
    return { type: Ar._jsonSchemaVersion, vectorValues: this._values };
  }
  static fromJSON(e) {
    if (Ru(e, Ar._jsonSchema)) {
      if (
        Array.isArray(e.vectorValues) &&
        e.vectorValues.every((n) => typeof n == "number")
      )
        return new Ar(e.vectorValues);
      throw new me(
        Z.INVALID_ARGUMENT,
        "Expected 'vectorValues' field to be a number array"
      );
    }
  }
}
(Ar._jsonSchemaVersion = "firestore/vectorValue/1.0"),
  (Ar._jsonSchema = {
    type: xt("string", Ar._jsonSchemaVersion),
    vectorValues: xt("object"),
  });
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const G4 = /^__.*__$/;
class K4 {
  constructor(e, n, r) {
    (this.data = e), (this.fieldMask = n), (this.fieldTransforms = r);
  }
  toMutation(e, n) {
    return this.fieldMask !== null
      ? new ms(e, this.data, this.fieldMask, n, this.fieldTransforms)
      : new ku(e, this.data, n, this.fieldTransforms);
  }
}
class yT {
  constructor(e, n, r) {
    (this.data = e), (this.fieldMask = n), (this.fieldTransforms = r);
  }
  toMutation(e, n) {
    return new ms(e, this.data, this.fieldMask, n, this.fieldTransforms);
  }
}
function vT(t) {
  switch (t) {
    case 0:
    case 2:
    case 1:
      return !0;
    case 3:
    case 4:
      return !1;
    default:
      throw Ee(40011, { Ec: t });
  }
}
class Dg {
  constructor(e, n, r, s, a, l) {
    (this.settings = e),
      (this.databaseId = n),
      (this.serializer = r),
      (this.ignoreUndefinedProperties = s),
      a === void 0 && this.Ac(),
      (this.fieldTransforms = a || []),
      (this.fieldMask = l || []);
  }
  get path() {
    return this.settings.path;
  }
  get Ec() {
    return this.settings.Ec;
  }
  Rc(e) {
    return new Dg(
      Object.assign(Object.assign({}, this.settings), e),
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties,
      this.fieldTransforms,
      this.fieldMask
    );
  }
  Vc(e) {
    var n;
    const r = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
      s = this.Rc({ path: r, mc: !1 });
    return s.fc(e), s;
  }
  gc(e) {
    var n;
    const r = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
      s = this.Rc({ path: r, mc: !1 });
    return s.Ac(), s;
  }
  yc(e) {
    return this.Rc({ path: void 0, mc: !0 });
  }
  wc(e) {
    return Xd(
      e,
      this.settings.methodName,
      this.settings.Sc || !1,
      this.path,
      this.settings.bc
    );
  }
  contains(e) {
    return (
      this.fieldMask.find((n) => e.isPrefixOf(n)) !== void 0 ||
      this.fieldTransforms.find((n) => e.isPrefixOf(n.field)) !== void 0
    );
  }
  Ac() {
    if (this.path)
      for (let e = 0; e < this.path.length; e++) this.fc(this.path.get(e));
  }
  fc(e) {
    if (e.length === 0) throw this.wc("Document fields must not be empty");
    if (vT(this.Ec) && G4.test(e))
      throw this.wc('Document fields cannot begin and end with "__"');
  }
}
class Q4 {
  constructor(e, n, r) {
    (this.databaseId = e),
      (this.ignoreUndefinedProperties = n),
      (this.serializer = r || _h(e));
  }
  Dc(e, n, r, s = !1) {
    return new Dg(
      { Ec: e, methodName: n, bc: r, path: Ht.emptyPath(), mc: !1, Sc: s },
      this.databaseId,
      this.serializer,
      this.ignoreUndefinedProperties
    );
  }
}
function _T(t) {
  const e = t._freezeSettings(),
    n = _h(t._databaseId);
  return new Q4(t._databaseId, !!e.ignoreUndefinedProperties, n);
}
function X4(t, e, n, r, s, a = {}) {
  const l = t.Dc(a.merge || a.mergeFields ? 2 : 0, e, n, s);
  Vg("Data must be an object, but it was:", l, r);
  const d = wT(r, l);
  let f, p;
  if (a.merge) (f = new Cn(l.fieldMask)), (p = l.fieldTransforms);
  else if (a.mergeFields) {
    const g = [];
    for (const w of a.mergeFields) {
      const x = mm(e, w, n);
      if (!l.contains(x))
        throw new me(
          Z.INVALID_ARGUMENT,
          `Field '${x}' is specified in your field mask but missing from your input data.`
        );
      ET(g, x) || g.push(x);
    }
    (f = new Cn(g)), (p = l.fieldTransforms.filter((w) => f.covers(w.field)));
  } else (f = null), (p = l.fieldTransforms);
  return new K4(new vn(d), f, p);
}
class Ph extends jg {
  _toFieldTransform(e) {
    if (e.Ec !== 2)
      throw e.Ec === 1
        ? e.wc(
            `${this._methodName}() can only appear at the top level of your update data`
          )
        : e.wc(
            `${this._methodName}() cannot be used with set() unless you pass {merge:true}`
          );
    return e.fieldMask.push(e.path), null;
  }
  isEqual(e) {
    return e instanceof Ph;
  }
}
function Y4(t, e, n, r) {
  const s = t.Dc(1, e, n);
  Vg("Data must be an object, but it was:", s, r);
  const a = [],
    l = vn.empty();
  ps(r, (f, p) => {
    const g = Og(e, f, n);
    p = mt(p);
    const w = s.gc(g);
    if (p instanceof Ph) a.push(g);
    else {
      const x = Sh(p, w);
      x != null && (a.push(g), l.set(g, x));
    }
  });
  const d = new Cn(a);
  return new yT(l, d, s.fieldTransforms);
}
function J4(t, e, n, r, s, a) {
  const l = t.Dc(1, e, n),
    d = [mm(e, r, n)],
    f = [s];
  if (a.length % 2 != 0)
    throw new me(
      Z.INVALID_ARGUMENT,
      `Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`
    );
  for (let x = 0; x < a.length; x += 2) d.push(mm(e, a[x])), f.push(a[x + 1]);
  const p = [],
    g = vn.empty();
  for (let x = d.length - 1; x >= 0; --x)
    if (!ET(p, d[x])) {
      const P = d[x];
      let b = f[x];
      b = mt(b);
      const N = l.gc(P);
      if (b instanceof Ph) p.push(P);
      else {
        const k = Sh(b, N);
        k != null && (p.push(P), g.set(P, k));
      }
    }
  const w = new Cn(p);
  return new yT(g, w, l.fieldTransforms);
}
function Sh(t, e) {
  if (xT((t = mt(t)))) return Vg("Unsupported field value:", e, t), wT(t, e);
  if (t instanceof jg)
    return (
      (function (r, s) {
        if (!vT(s.Ec))
          throw s.wc(
            `${r._methodName}() can only be used with update() and set()`
          );
        if (!s.path)
          throw s.wc(
            `${r._methodName}() is not currently supported inside arrays`
          );
        const a = r._toFieldTransform(s);
        a && s.fieldTransforms.push(a);
      })(t, e),
      null
    );
  if (t === void 0 && e.ignoreUndefinedProperties) return null;
  if ((e.path && e.fieldMask.push(e.path), t instanceof Array)) {
    if (e.settings.mc && e.Ec !== 4)
      throw e.wc("Nested arrays are not supported");
    return (function (r, s) {
      const a = [];
      let l = 0;
      for (const d of r) {
        let f = Sh(d, s.yc(l));
        f == null && (f = { nullValue: "NULL_VALUE" }), a.push(f), l++;
      }
      return { arrayValue: { values: a } };
    })(t, e);
  }
  return (function (r, s) {
    if ((r = mt(r)) === null) return { nullValue: "NULL_VALUE" };
    if (typeof r == "number") return Ok(s.serializer, r);
    if (typeof r == "boolean") return { booleanValue: r };
    if (typeof r == "string") return { stringValue: r };
    if (r instanceof Date) {
      const a = Xe.fromDate(r);
      return { timestampValue: qd(s.serializer, a) };
    }
    if (r instanceof Xe) {
      const a = new Xe(r.seconds, 1e3 * Math.floor(r.nanoseconds / 1e3));
      return { timestampValue: qd(s.serializer, a) };
    }
    if (r instanceof Cr)
      return {
        geoPointValue: { latitude: r.latitude, longitude: r.longitude },
      };
    if (r instanceof zn) return { bytesValue: UE(s.serializer, r._byteString) };
    if (r instanceof Ct) {
      const a = s.databaseId,
        l = r.firestore._databaseId;
      if (!l.isEqual(a))
        throw s.wc(
          `Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`
        );
      return {
        referenceValue: yg(
          r.firestore._databaseId || s.databaseId,
          r._key.path
        ),
      };
    }
    if (r instanceof Ar)
      return (function (l, d) {
        return {
          mapValue: {
            fields: {
              [mE]: { stringValue: gE },
              [Bd]: {
                arrayValue: {
                  values: l.toArray().map((p) => {
                    if (typeof p != "number")
                      throw d.wc(
                        "VectorValues must only contain numeric values."
                      );
                    return pg(d.serializer, p);
                  }),
                },
              },
            },
          },
        };
      })(r, s);
    throw s.wc(`Unsupported field value: ${ag(r)}`);
  })(t, e);
}
function wT(t, e) {
  const n = {};
  return (
    uE(t)
      ? e.path && e.path.length > 0 && e.fieldMask.push(e.path)
      : ps(t, (r, s) => {
          const a = Sh(s, e.Vc(r));
          a != null && (n[r] = a);
        }),
    { mapValue: { fields: n } }
  );
}
function xT(t) {
  return !(
    typeof t != "object" ||
    t === null ||
    t instanceof Array ||
    t instanceof Date ||
    t instanceof Xe ||
    t instanceof Cr ||
    t instanceof zn ||
    t instanceof Ct ||
    t instanceof jg ||
    t instanceof Ar
  );
}
function Vg(t, e, n) {
  if (!xT(n) || !aE(n)) {
    const r = ag(n);
    throw r === "an object" ? e.wc(t + " a custom object") : e.wc(t + " " + r);
  }
}
function mm(t, e, n) {
  if ((e = mt(e)) instanceof Th) return e._internalPath;
  if (typeof e == "string") return Og(t, e);
  throw Xd("Field path arguments must be of type string or ", t, !1, void 0, n);
}
const Z4 = new RegExp("[~\\*/\\[\\]]");
function Og(t, e, n) {
  if (e.search(Z4) >= 0)
    throw Xd(
      `Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,
      t,
      !1,
      void 0,
      n
    );
  try {
    return new Th(...e.split("."))._internalPath;
  } catch {
    throw Xd(
      `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
      t,
      !1,
      void 0,
      n
    );
  }
}
function Xd(t, e, n, r, s) {
  const a = r && !r.isEmpty(),
    l = s !== void 0;
  let d = `Function ${e}() called with invalid data`;
  n && (d += " (via `toFirestore()`)"), (d += ". ");
  let f = "";
  return (
    (a || l) &&
      ((f += " (found"),
      a && (f += ` in field ${r}`),
      l && (f += ` in document ${s}`),
      (f += ")")),
    new me(Z.INVALID_ARGUMENT, d + t + f)
  );
}
function ET(t, e) {
  return t.some((n) => n.isEqual(e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class TT {
  constructor(e, n, r, s, a) {
    (this._firestore = e),
      (this._userDataWriter = n),
      (this._key = r),
      (this._document = s),
      (this._converter = a);
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get ref() {
    return new Ct(this._firestore, this._converter, this._key);
  }
  exists() {
    return this._document !== null;
  }
  data() {
    if (this._document) {
      if (this._converter) {
        const e = new ej(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          null
        );
        return this._converter.fromFirestore(e);
      }
      return this._userDataWriter.convertValue(this._document.data.value);
    }
  }
  get(e) {
    if (this._document) {
      const n = this._document.data.field(PT("DocumentSnapshot.get", e));
      if (n !== null) return this._userDataWriter.convertValue(n);
    }
  }
}
class ej extends TT {
  data() {
    return super.data();
  }
}
function PT(t, e) {
  return typeof e == "string"
    ? Og(t, e)
    : e instanceof Th
    ? e._internalPath
    : e._delegate._internalPath;
}
class tj {
  convertValue(e, n = "none") {
    switch (ss(e)) {
      case 0:
        return null;
      case 1:
        return e.booleanValue;
      case 2:
        return ft(e.integerValue || e.doubleValue);
      case 3:
        return this.convertTimestamp(e.timestampValue);
      case 4:
        return this.convertServerTimestamp(e, n);
      case 5:
        return e.stringValue;
      case 6:
        return this.convertBytes(is(e.bytesValue));
      case 7:
        return this.convertReference(e.referenceValue);
      case 8:
        return this.convertGeoPoint(e.geoPointValue);
      case 9:
        return this.convertArray(e.arrayValue, n);
      case 11:
        return this.convertObject(e.mapValue, n);
      case 10:
        return this.convertVectorValue(e.mapValue);
      default:
        throw Ee(62114, { value: e });
    }
  }
  convertObject(e, n) {
    return this.convertObjectMap(e.fields, n);
  }
  convertObjectMap(e, n = "none") {
    const r = {};
    return (
      ps(e, (s, a) => {
        r[s] = this.convertValue(a, n);
      }),
      r
    );
  }
  convertVectorValue(e) {
    var n, r, s;
    const a =
      (s =
        (r =
          (n = e.fields) === null || n === void 0
            ? void 0
            : n[Bd].arrayValue) === null || r === void 0
          ? void 0
          : r.values) === null || s === void 0
        ? void 0
        : s.map((l) => ft(l.doubleValue));
    return new Ar(a);
  }
  convertGeoPoint(e) {
    return new Cr(ft(e.latitude), ft(e.longitude));
  }
  convertArray(e, n) {
    return (e.values || []).map((r) => this.convertValue(r, n));
  }
  convertServerTimestamp(e, n) {
    switch (n) {
      case "previous":
        const r = hh(e);
        return r == null ? null : this.convertValue(r, n);
      case "estimate":
        return this.convertTimestamp(cu(e));
      default:
        return null;
    }
  }
  convertTimestamp(e) {
    const n = rs(e);
    return new Xe(n.seconds, n.nanos);
  }
  convertDocumentKey(e, n) {
    const r = rt.fromString(e);
    ze(qE(r), 9688, { name: e });
    const s = new du(r.get(1), r.get(3)),
      a = new we(r.popFirst(5));
    return (
      s.isEqual(n) ||
        ui(
          `Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`
        ),
      a
    );
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function nj(t, e, n) {
  let r;
  return (r = t ? t.toFirestore(e) : e), r;
}
class $l {
  constructor(e, n) {
    (this.hasPendingWrites = e), (this.fromCache = n);
  }
  isEqual(e) {
    return (
      this.hasPendingWrites === e.hasPendingWrites &&
      this.fromCache === e.fromCache
    );
  }
}
class Ys extends TT {
  constructor(e, n, r, s, a, l) {
    super(e, n, r, s, l),
      (this._firestore = e),
      (this._firestoreImpl = e),
      (this.metadata = a);
  }
  exists() {
    return super.exists();
  }
  data(e = {}) {
    if (this._document) {
      if (this._converter) {
        const n = new Sd(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          this.metadata,
          null
        );
        return this._converter.fromFirestore(n, e);
      }
      return this._userDataWriter.convertValue(
        this._document.data.value,
        e.serverTimestamps
      );
    }
  }
  get(e, n = {}) {
    if (this._document) {
      const r = this._document.data.field(PT("DocumentSnapshot.get", e));
      if (r !== null)
        return this._userDataWriter.convertValue(r, n.serverTimestamps);
    }
  }
  toJSON() {
    if (this.metadata.hasPendingWrites)
      throw new me(
        Z.FAILED_PRECONDITION,
        "DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON()."
      );
    const e = this._document,
      n = {};
    return (
      (n.type = Ys._jsonSchemaVersion),
      (n.bundle = ""),
      (n.bundleSource = "DocumentSnapshot"),
      (n.bundleName = this._key.toString()),
      !e || !e.isValidDocument() || !e.isFoundDocument()
        ? n
        : (this._userDataWriter.convertObjectMap(
            e.data.value.mapValue.fields,
            "previous"
          ),
          (n.bundle = (this._firestore, this.ref.path, "NOT SUPPORTED")),
          n)
    );
  }
}
(Ys._jsonSchemaVersion = "firestore/documentSnapshot/1.0"),
  (Ys._jsonSchema = {
    type: xt("string", Ys._jsonSchemaVersion),
    bundleSource: xt("string", "DocumentSnapshot"),
    bundleName: xt("string"),
    bundle: xt("string"),
  });
class Sd extends Ys {
  data(e = {}) {
    return super.data(e);
  }
}
class Yl {
  constructor(e, n, r, s) {
    (this._firestore = e),
      (this._userDataWriter = n),
      (this._snapshot = s),
      (this.metadata = new $l(s.hasPendingWrites, s.fromCache)),
      (this.query = r);
  }
  get docs() {
    const e = [];
    return this.forEach((n) => e.push(n)), e;
  }
  get size() {
    return this._snapshot.docs.size;
  }
  get empty() {
    return this.size === 0;
  }
  forEach(e, n) {
    this._snapshot.docs.forEach((r) => {
      e.call(
        n,
        new Sd(
          this._firestore,
          this._userDataWriter,
          r.key,
          r,
          new $l(
            this._snapshot.mutatedKeys.has(r.key),
            this._snapshot.fromCache
          ),
          this.query.converter
        )
      );
    });
  }
  docChanges(e = {}) {
    const n = !!e.includeMetadataChanges;
    if (n && this._snapshot.excludesMetadataChanges)
      throw new me(
        Z.INVALID_ARGUMENT,
        "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot()."
      );
    return (
      (this._cachedChanges &&
        this._cachedChangesIncludeMetadataChanges === n) ||
        ((this._cachedChanges = (function (s, a) {
          if (s._snapshot.oldDocs.isEmpty()) {
            let l = 0;
            return s._snapshot.docChanges.map((d) => {
              const f = new Sd(
                s._firestore,
                s._userDataWriter,
                d.doc.key,
                d.doc,
                new $l(
                  s._snapshot.mutatedKeys.has(d.doc.key),
                  s._snapshot.fromCache
                ),
                s.query.converter
              );
              return (
                d.doc, { type: "added", doc: f, oldIndex: -1, newIndex: l++ }
              );
            });
          }
          {
            let l = s._snapshot.oldDocs;
            return s._snapshot.docChanges
              .filter((d) => a || d.type !== 3)
              .map((d) => {
                const f = new Sd(
                  s._firestore,
                  s._userDataWriter,
                  d.doc.key,
                  d.doc,
                  new $l(
                    s._snapshot.mutatedKeys.has(d.doc.key),
                    s._snapshot.fromCache
                  ),
                  s.query.converter
                );
                let p = -1,
                  g = -1;
                return (
                  d.type !== 0 &&
                    ((p = l.indexOf(d.doc.key)), (l = l.delete(d.doc.key))),
                  d.type !== 1 &&
                    ((l = l.add(d.doc)), (g = l.indexOf(d.doc.key))),
                  { type: rj(d.type), doc: f, oldIndex: p, newIndex: g }
                );
              });
          }
        })(this, n)),
        (this._cachedChangesIncludeMetadataChanges = n)),
      this._cachedChanges
    );
  }
  toJSON() {
    if (this.metadata.hasPendingWrites)
      throw new me(
        Z.FAILED_PRECONDITION,
        "QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON()."
      );
    const e = {};
    (e.type = Yl._jsonSchemaVersion),
      (e.bundleSource = "QuerySnapshot"),
      (e.bundleName = og.newId()),
      this._firestore._databaseId.database,
      this._firestore._databaseId.projectId;
    const n = [],
      r = [],
      s = [];
    return (
      this.docs.forEach((a) => {
        a._document !== null &&
          (n.push(a._document),
          r.push(
            this._userDataWriter.convertObjectMap(
              a._document.data.value.mapValue.fields,
              "previous"
            )
          ),
          s.push(a.ref.path));
      }),
      (e.bundle =
        (this._firestore, this.query._query, e.bundleName, "NOT SUPPORTED")),
      e
    );
  }
}
function rj(t) {
  switch (t) {
    case 0:
      return "added";
    case 2:
    case 3:
      return "modified";
    case 1:
      return "removed";
    default:
      return Ee(61501, { type: t });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ij(t) {
  t = oo(t, Ct);
  const e = oo(t.firestore, Eh);
  return $4(gT(e), t._key).then((n) => aj(e, t, n));
}
(Yl._jsonSchemaVersion = "firestore/querySnapshot/1.0"),
  (Yl._jsonSchema = {
    type: xt("string", Yl._jsonSchemaVersion),
    bundleSource: xt("string", "QuerySnapshot"),
    bundleName: xt("string"),
    bundle: xt("string"),
  });
class sj extends tj {
  constructor(e) {
    super(), (this.firestore = e);
  }
  convertBytes(e) {
    return new zn(e);
  }
  convertReference(e) {
    const n = this.convertDocumentKey(e, this.firestore._databaseId);
    return new Ct(this.firestore, null, n);
  }
}
function Tw(t, e, n) {
  t = oo(t, Ct);
  const r = oo(t.firestore, Eh),
    s = nj(t.converter, e);
  return ST(r, [
    X4(_T(r), "setDoc", t._key, s, t.converter !== null, n).toMutation(
      t._key,
      Ir.none()
    ),
  ]);
}
function oj(t, e, n, ...r) {
  t = oo(t, Ct);
  const s = oo(t.firestore, Eh),
    a = _T(s);
  let l;
  return (
    (l =
      typeof (e = mt(e)) == "string" || e instanceof Th
        ? J4(a, "updateDoc", t._key, e, n, r)
        : Y4(a, "updateDoc", t._key, e)),
    ST(s, [l.toMutation(t._key, Ir.exists(!0))])
  );
}
function ST(t, e) {
  return (function (r, s) {
    const a = new Zi();
    return (
      r.asyncQueue.enqueueAndForget(async () => A4(await B4(r), s, a)),
      a.promise
    );
  })(gT(t), e);
}
function aj(t, e, n) {
  const r = n.docs.get(e._key),
    s = new sj(t);
  return new Ys(
    t,
    s,
    e._key,
    r,
    new $l(n.hasPendingWrites, n.fromCache),
    e.converter
  );
}
(function (e, n = !0) {
  (function (s) {
    Da = s;
  })(co),
    no(
      new es(
        "firestore",
        (r, { instanceIdentifier: s, options: a }) => {
          const l = r.getProvider("app").getImmediate(),
            d = new Eh(
              new GR(r.getProvider("auth-internal")),
              new XR(l, r.getProvider("app-check-internal")),
              (function (p, g) {
                if (
                  !Object.prototype.hasOwnProperty.apply(p.options, [
                    "projectId",
                  ])
                )
                  throw new me(
                    Z.INVALID_ARGUMENT,
                    '"projectId" not provided in firebase.initializeApp.'
                  );
                return new du(p.options.projectId, g);
              })(l, s),
              l
            );
          return (
            (a = Object.assign({ useFetchStreams: n }, a)), d._setSettings(a), d
          );
        },
        "PUBLIC"
      ).setMultipleInstances(!0)
    ),
    Er(C_, A_, e),
    Er(C_, A_, "esm2017");
})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const IT = "firebasestorage.googleapis.com",
  bT = "storageBucket",
  lj = 2 * 60 * 1e3,
  uj = 10 * 60 * 1e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class ut extends Or {
  constructor(e, n, r = 0) {
    super(Pp(e), `Firebase Storage: ${n} (${Pp(e)})`),
      (this.status_ = r),
      (this.customData = { serverResponse: null }),
      (this._baseMessage = this.message),
      Object.setPrototypeOf(this, ut.prototype);
  }
  get status() {
    return this.status_;
  }
  set status(e) {
    this.status_ = e;
  }
  _codeEquals(e) {
    return Pp(e) === this.code;
  }
  get serverResponse() {
    return this.customData.serverResponse;
  }
  set serverResponse(e) {
    (this.customData.serverResponse = e),
      this.customData.serverResponse
        ? (this.message = `${this._baseMessage}
${this.customData.serverResponse}`)
        : (this.message = this._baseMessage);
  }
}
var lt;
(function (t) {
  (t.UNKNOWN = "unknown"),
    (t.OBJECT_NOT_FOUND = "object-not-found"),
    (t.BUCKET_NOT_FOUND = "bucket-not-found"),
    (t.PROJECT_NOT_FOUND = "project-not-found"),
    (t.QUOTA_EXCEEDED = "quota-exceeded"),
    (t.UNAUTHENTICATED = "unauthenticated"),
    (t.UNAUTHORIZED = "unauthorized"),
    (t.UNAUTHORIZED_APP = "unauthorized-app"),
    (t.RETRY_LIMIT_EXCEEDED = "retry-limit-exceeded"),
    (t.INVALID_CHECKSUM = "invalid-checksum"),
    (t.CANCELED = "canceled"),
    (t.INVALID_EVENT_NAME = "invalid-event-name"),
    (t.INVALID_URL = "invalid-url"),
    (t.INVALID_DEFAULT_BUCKET = "invalid-default-bucket"),
    (t.NO_DEFAULT_BUCKET = "no-default-bucket"),
    (t.CANNOT_SLICE_BLOB = "cannot-slice-blob"),
    (t.SERVER_FILE_WRONG_SIZE = "server-file-wrong-size"),
    (t.NO_DOWNLOAD_URL = "no-download-url"),
    (t.INVALID_ARGUMENT = "invalid-argument"),
    (t.INVALID_ARGUMENT_COUNT = "invalid-argument-count"),
    (t.APP_DELETED = "app-deleted"),
    (t.INVALID_ROOT_OPERATION = "invalid-root-operation"),
    (t.INVALID_FORMAT = "invalid-format"),
    (t.INTERNAL_ERROR = "internal-error"),
    (t.UNSUPPORTED_ENVIRONMENT = "unsupported-environment");
})(lt || (lt = {}));
function Pp(t) {
  return "storage/" + t;
}
function Mg() {
  const t =
    "An unknown error occurred, please check the error payload for server response.";
  return new ut(lt.UNKNOWN, t);
}
function cj(t) {
  return new ut(lt.OBJECT_NOT_FOUND, "Object '" + t + "' does not exist.");
}
function dj(t) {
  return new ut(
    lt.QUOTA_EXCEEDED,
    "Quota for bucket '" +
      t +
      "' exceeded, please view quota on https://firebase.google.com/pricing/."
  );
}
function hj() {
  const t =
    "User is not authenticated, please authenticate using Firebase Authentication and try again.";
  return new ut(lt.UNAUTHENTICATED, t);
}
function fj() {
  return new ut(
    lt.UNAUTHORIZED_APP,
    "This app does not have permission to access Firebase Storage on this project."
  );
}
function pj(t) {
  return new ut(
    lt.UNAUTHORIZED,
    "User does not have permission to access '" + t + "'."
  );
}
function mj() {
  return new ut(
    lt.RETRY_LIMIT_EXCEEDED,
    "Max retry time for operation exceeded, please try again."
  );
}
function gj() {
  return new ut(lt.CANCELED, "User canceled the upload/download.");
}
function yj(t) {
  return new ut(lt.INVALID_URL, "Invalid URL '" + t + "'.");
}
function vj(t) {
  return new ut(
    lt.INVALID_DEFAULT_BUCKET,
    "Invalid default bucket '" + t + "'."
  );
}
function _j() {
  return new ut(
    lt.NO_DEFAULT_BUCKET,
    "No default bucket found. Did you set the '" +
      bT +
      "' property when initializing the app?"
  );
}
function wj() {
  return new ut(
    lt.CANNOT_SLICE_BLOB,
    "Cannot slice blob for upload. Please retry the upload."
  );
}
function xj() {
  return new ut(
    lt.NO_DOWNLOAD_URL,
    "The given file does not have any download URLs."
  );
}
function Ej(t) {
  return new ut(
    lt.UNSUPPORTED_ENVIRONMENT,
    `${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`
  );
}
function gm(t) {
  return new ut(lt.INVALID_ARGUMENT, t);
}
function CT() {
  return new ut(lt.APP_DELETED, "The Firebase app was deleted.");
}
function Tj(t) {
  return new ut(
    lt.INVALID_ROOT_OPERATION,
    "The operation '" +
      t +
      "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png')."
  );
}
function Jl(t, e) {
  return new ut(
    lt.INVALID_FORMAT,
    "String does not match format '" + t + "': " + e
  );
}
function Ol(t) {
  throw new ut(lt.INTERNAL_ERROR, "Internal error: " + t);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class An {
  constructor(e, n) {
    (this.bucket = e), (this.path_ = n);
  }
  get path() {
    return this.path_;
  }
  get isRoot() {
    return this.path.length === 0;
  }
  fullServerUrl() {
    const e = encodeURIComponent;
    return "/b/" + e(this.bucket) + "/o/" + e(this.path);
  }
  bucketOnlyServerUrl() {
    return "/b/" + encodeURIComponent(this.bucket) + "/o";
  }
  static makeFromBucketSpec(e, n) {
    let r;
    try {
      r = An.makeFromUrl(e, n);
    } catch {
      return new An(e, "");
    }
    if (r.path === "") return r;
    throw vj(e);
  }
  static makeFromUrl(e, n) {
    let r = null;
    const s = "([A-Za-z0-9.\\-_]+)";
    function a(Y) {
      Y.path.charAt(Y.path.length - 1) === "/" &&
        (Y.path_ = Y.path_.slice(0, -1));
    }
    const l = "(/(.*))?$",
      d = new RegExp("^gs://" + s + l, "i"),
      f = { bucket: 1, path: 3 };
    function p(Y) {
      Y.path_ = decodeURIComponent(Y.path);
    }
    const g = "v[A-Za-z0-9_]+",
      w = n.replace(/[.]/g, "\\."),
      x = "(/([^?#]*).*)?$",
      P = new RegExp(`^https?://${w}/${g}/b/${s}/o${x}`, "i"),
      b = { bucket: 1, path: 3 },
      N = n === IT ? "(?:storage.googleapis.com|storage.cloud.google.com)" : n,
      k = "([^?#]*)",
      $ = new RegExp(`^https?://${N}/${s}/${k}`, "i"),
      q = [
        { regex: d, indices: f, postModify: a },
        { regex: P, indices: b, postModify: p },
        { regex: $, indices: { bucket: 1, path: 2 }, postModify: p },
      ];
    for (let Y = 0; Y < q.length; Y++) {
      const ne = q[Y],
        oe = ne.regex.exec(e);
      if (oe) {
        const C = oe[ne.indices.bucket];
        let I = oe[ne.indices.path];
        I || (I = ""), (r = new An(C, I)), ne.postModify(r);
        break;
      }
    }
    if (r == null) throw yj(e);
    return r;
  }
}
class Pj {
  constructor(e) {
    this.promise_ = Promise.reject(e);
  }
  getPromise() {
    return this.promise_;
  }
  cancel(e = !1) {}
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Sj(t, e, n) {
  let r = 1,
    s = null,
    a = null,
    l = !1,
    d = 0;
  function f() {
    return d === 2;
  }
  let p = !1;
  function g(...k) {
    p || ((p = !0), e.apply(null, k));
  }
  function w(k) {
    s = setTimeout(() => {
      (s = null), t(P, f());
    }, k);
  }
  function x() {
    a && clearTimeout(a);
  }
  function P(k, ...$) {
    if (p) {
      x();
      return;
    }
    if (k) {
      x(), g.call(null, k, ...$);
      return;
    }
    if (f() || l) {
      x(), g.call(null, k, ...$);
      return;
    }
    r < 64 && (r *= 2);
    let q;
    d === 1 ? ((d = 2), (q = 0)) : (q = (r + Math.random()) * 1e3), w(q);
  }
  let b = !1;
  function N(k) {
    b ||
      ((b = !0),
      x(),
      !p &&
        (s !== null ? (k || (d = 2), clearTimeout(s), w(0)) : k || (d = 1)));
  }
  return (
    w(0),
    (a = setTimeout(() => {
      (l = !0), N(!0);
    }, n)),
    N
  );
}
function Ij(t) {
  t(!1);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function bj(t) {
  return t !== void 0;
}
function Cj(t) {
  return typeof t == "object" && !Array.isArray(t);
}
function Lg(t) {
  return typeof t == "string" || t instanceof String;
}
function Pw(t) {
  return Fg() && t instanceof Blob;
}
function Fg() {
  return typeof Blob < "u";
}
function Sw(t, e, n, r) {
  if (r < e) throw gm(`Invalid value for '${t}'. Expected ${e} or greater.`);
  if (r > n) throw gm(`Invalid value for '${t}'. Expected ${n} or less.`);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Ug(t, e, n) {
  let r = e;
  return n == null && (r = `https://${e}`), `${n}://${r}/v0${t}`;
}
function AT(t) {
  const e = encodeURIComponent;
  let n = "?";
  for (const r in t)
    if (t.hasOwnProperty(r)) {
      const s = e(r) + "=" + e(t[r]);
      n = n + s + "&";
    }
  return (n = n.slice(0, -1)), n;
}
var Js;
(function (t) {
  (t[(t.NO_ERROR = 0)] = "NO_ERROR"),
    (t[(t.NETWORK_ERROR = 1)] = "NETWORK_ERROR"),
    (t[(t.ABORT = 2)] = "ABORT");
})(Js || (Js = {}));
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Aj(t, e) {
  const n = t >= 500 && t < 600,
    s = [408, 429].indexOf(t) !== -1,
    a = e.indexOf(t) !== -1;
  return n || s || a;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class Rj {
  constructor(e, n, r, s, a, l, d, f, p, g, w, x = !0, P = !1) {
    (this.url_ = e),
      (this.method_ = n),
      (this.headers_ = r),
      (this.body_ = s),
      (this.successCodes_ = a),
      (this.additionalRetryCodes_ = l),
      (this.callback_ = d),
      (this.errorCallback_ = f),
      (this.timeout_ = p),
      (this.progressCallback_ = g),
      (this.connectionFactory_ = w),
      (this.retry = x),
      (this.isUsingEmulator = P),
      (this.pendingConnection_ = null),
      (this.backoffId_ = null),
      (this.canceled_ = !1),
      (this.appDelete_ = !1),
      (this.promise_ = new Promise((b, N) => {
        (this.resolve_ = b), (this.reject_ = N), this.start_();
      }));
  }
  start_() {
    const e = (r, s) => {
        if (s) {
          r(!1, new ad(!1, null, !0));
          return;
        }
        const a = this.connectionFactory_();
        this.pendingConnection_ = a;
        const l = (d) => {
          const f = d.loaded,
            p = d.lengthComputable ? d.total : -1;
          this.progressCallback_ !== null && this.progressCallback_(f, p);
        };
        this.progressCallback_ !== null && a.addUploadProgressListener(l),
          a
            .send(
              this.url_,
              this.method_,
              this.isUsingEmulator,
              this.body_,
              this.headers_
            )
            .then(() => {
              this.progressCallback_ !== null &&
                a.removeUploadProgressListener(l),
                (this.pendingConnection_ = null);
              const d = a.getErrorCode() === Js.NO_ERROR,
                f = a.getStatus();
              if (!d || (Aj(f, this.additionalRetryCodes_) && this.retry)) {
                const g = a.getErrorCode() === Js.ABORT;
                r(!1, new ad(!1, null, g));
                return;
              }
              const p = this.successCodes_.indexOf(f) !== -1;
              r(!0, new ad(p, a));
            });
      },
      n = (r, s) => {
        const a = this.resolve_,
          l = this.reject_,
          d = s.connection;
        if (s.wasSuccessCode)
          try {
            const f = this.callback_(d, d.getResponse());
            bj(f) ? a(f) : a();
          } catch (f) {
            l(f);
          }
        else if (d !== null) {
          const f = Mg();
          (f.serverResponse = d.getErrorText()),
            this.errorCallback_ ? l(this.errorCallback_(d, f)) : l(f);
        } else if (s.canceled) {
          const f = this.appDelete_ ? CT() : gj();
          l(f);
        } else {
          const f = mj();
          l(f);
        }
      };
    this.canceled_
      ? n(!1, new ad(!1, null, !0))
      : (this.backoffId_ = Sj(e, n, this.timeout_));
  }
  getPromise() {
    return this.promise_;
  }
  cancel(e) {
    (this.canceled_ = !0),
      (this.appDelete_ = e || !1),
      this.backoffId_ !== null && Ij(this.backoffId_),
      this.pendingConnection_ !== null && this.pendingConnection_.abort();
  }
}
class ad {
  constructor(e, n, r) {
    (this.wasSuccessCode = e), (this.connection = n), (this.canceled = !!r);
  }
}
function kj(t, e) {
  e !== null && e.length > 0 && (t.Authorization = "Firebase " + e);
}
function Nj(t, e) {
  t["X-Firebase-Storage-Version"] = "webjs/" + (e ?? "AppManager");
}
function jj(t, e) {
  e && (t["X-Firebase-GMPID"] = e);
}
function Dj(t, e) {
  e !== null && (t["X-Firebase-AppCheck"] = e);
}
function Vj(t, e, n, r, s, a, l = !0, d = !1) {
  const f = AT(t.urlParams),
    p = t.url + f,
    g = Object.assign({}, t.headers);
  return (
    jj(g, e),
    kj(g, n),
    Nj(g, a),
    Dj(g, r),
    new Rj(
      p,
      t.method,
      g,
      t.body,
      t.successCodes,
      t.additionalRetryCodes,
      t.handler,
      t.errorHandler,
      t.timeout,
      t.progressCallback,
      s,
      l,
      d
    )
  );
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Oj() {
  return typeof BlobBuilder < "u"
    ? BlobBuilder
    : typeof WebKitBlobBuilder < "u"
    ? WebKitBlobBuilder
    : void 0;
}
function Mj(...t) {
  const e = Oj();
  if (e !== void 0) {
    const n = new e();
    for (let r = 0; r < t.length; r++) n.append(t[r]);
    return n.getBlob();
  } else {
    if (Fg()) return new Blob(t);
    throw new ut(
      lt.UNSUPPORTED_ENVIRONMENT,
      "This browser doesn't seem to support creating Blobs"
    );
  }
}
function Lj(t, e, n) {
  return t.webkitSlice
    ? t.webkitSlice(e, n)
    : t.mozSlice
    ? t.mozSlice(e, n)
    : t.slice
    ? t.slice(e, n)
    : null;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Fj(t) {
  if (typeof atob > "u") throw Ej("base-64");
  return atob(t);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const xr = {
  RAW: "raw",
  BASE64: "base64",
  BASE64URL: "base64url",
  DATA_URL: "data_url",
};
class Sp {
  constructor(e, n) {
    (this.data = e), (this.contentType = n || null);
  }
}
function Uj(t, e) {
  switch (t) {
    case xr.RAW:
      return new Sp(RT(e));
    case xr.BASE64:
    case xr.BASE64URL:
      return new Sp(kT(t, e));
    case xr.DATA_URL:
      return new Sp(zj(e), $j(e));
  }
  throw Mg();
}
function RT(t) {
  const e = [];
  for (let n = 0; n < t.length; n++) {
    let r = t.charCodeAt(n);
    if (r <= 127) e.push(r);
    else if (r <= 2047) e.push(192 | (r >> 6), 128 | (r & 63));
    else if ((r & 64512) === 55296)
      if (!(n < t.length - 1 && (t.charCodeAt(n + 1) & 64512) === 56320))
        e.push(239, 191, 189);
      else {
        const a = r,
          l = t.charCodeAt(++n);
        (r = 65536 | ((a & 1023) << 10) | (l & 1023)),
          e.push(
            240 | (r >> 18),
            128 | ((r >> 12) & 63),
            128 | ((r >> 6) & 63),
            128 | (r & 63)
          );
      }
    else
      (r & 64512) === 56320
        ? e.push(239, 191, 189)
        : e.push(224 | (r >> 12), 128 | ((r >> 6) & 63), 128 | (r & 63));
  }
  return new Uint8Array(e);
}
function Bj(t) {
  let e;
  try {
    e = decodeURIComponent(t);
  } catch {
    throw Jl(xr.DATA_URL, "Malformed data URL.");
  }
  return RT(e);
}
function kT(t, e) {
  switch (t) {
    case xr.BASE64: {
      const s = e.indexOf("-") !== -1,
        a = e.indexOf("_") !== -1;
      if (s || a)
        throw Jl(
          t,
          "Invalid character '" +
            (s ? "-" : "_") +
            "' found: is it base64url encoded?"
        );
      break;
    }
    case xr.BASE64URL: {
      const s = e.indexOf("+") !== -1,
        a = e.indexOf("/") !== -1;
      if (s || a)
        throw Jl(
          t,
          "Invalid character '" +
            (s ? "+" : "/") +
            "' found: is it base64 encoded?"
        );
      e = e.replace(/-/g, "+").replace(/_/g, "/");
      break;
    }
  }
  let n;
  try {
    n = Fj(e);
  } catch (s) {
    throw s.message.includes("polyfill") ? s : Jl(t, "Invalid character found");
  }
  const r = new Uint8Array(n.length);
  for (let s = 0; s < n.length; s++) r[s] = n.charCodeAt(s);
  return r;
}
class NT {
  constructor(e) {
    (this.base64 = !1), (this.contentType = null);
    const n = e.match(/^data:([^,]+)?,/);
    if (n === null)
      throw Jl(
        xr.DATA_URL,
        "Must be formatted 'data:[<mediatype>][;base64],<data>"
      );
    const r = n[1] || null;
    r != null &&
      ((this.base64 = Hj(r, ";base64")),
      (this.contentType = this.base64 ? r.substring(0, r.length - 7) : r)),
      (this.rest = e.substring(e.indexOf(",") + 1));
  }
}
function zj(t) {
  const e = new NT(t);
  return e.base64 ? kT(xr.BASE64, e.rest) : Bj(e.rest);
}
function $j(t) {
  return new NT(t).contentType;
}
function Hj(t, e) {
  return t.length >= e.length ? t.substring(t.length - e.length) === e : !1;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class qi {
  constructor(e, n) {
    let r = 0,
      s = "";
    Pw(e)
      ? ((this.data_ = e), (r = e.size), (s = e.type))
      : e instanceof ArrayBuffer
      ? (n
          ? (this.data_ = new Uint8Array(e))
          : ((this.data_ = new Uint8Array(e.byteLength)),
            this.data_.set(new Uint8Array(e))),
        (r = this.data_.length))
      : e instanceof Uint8Array &&
        (n
          ? (this.data_ = e)
          : ((this.data_ = new Uint8Array(e.length)), this.data_.set(e)),
        (r = e.length)),
      (this.size_ = r),
      (this.type_ = s);
  }
  size() {
    return this.size_;
  }
  type() {
    return this.type_;
  }
  slice(e, n) {
    if (Pw(this.data_)) {
      const r = this.data_,
        s = Lj(r, e, n);
      return s === null ? null : new qi(s);
    } else {
      const r = new Uint8Array(this.data_.buffer, e, n - e);
      return new qi(r, !0);
    }
  }
  static getBlob(...e) {
    if (Fg()) {
      const n = e.map((r) => (r instanceof qi ? r.data_ : r));
      return new qi(Mj.apply(null, n));
    } else {
      const n = e.map((l) => (Lg(l) ? Uj(xr.RAW, l).data : l.data_));
      let r = 0;
      n.forEach((l) => {
        r += l.byteLength;
      });
      const s = new Uint8Array(r);
      let a = 0;
      return (
        n.forEach((l) => {
          for (let d = 0; d < l.length; d++) s[a++] = l[d];
        }),
        new qi(s, !0)
      );
    }
  }
  uploadData() {
    return this.data_;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function jT(t) {
  let e;
  try {
    e = JSON.parse(t);
  } catch {
    return null;
  }
  return Cj(e) ? e : null;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Wj(t) {
  if (t.length === 0) return null;
  const e = t.lastIndexOf("/");
  return e === -1 ? "" : t.slice(0, e);
}
function qj(t, e) {
  const n = e
    .split("/")
    .filter((r) => r.length > 0)
    .join("/");
  return t.length === 0 ? n : t + "/" + n;
}
function DT(t) {
  const e = t.lastIndexOf("/", t.length - 2);
  return e === -1 ? t : t.slice(e + 1);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function Gj(t, e) {
  return e;
}
class an {
  constructor(e, n, r, s) {
    (this.server = e),
      (this.local = n || e),
      (this.writable = !!r),
      (this.xform = s || Gj);
  }
}
let ld = null;
function Kj(t) {
  return !Lg(t) || t.length < 2 ? t : DT(t);
}
function VT() {
  if (ld) return ld;
  const t = [];
  t.push(new an("bucket")),
    t.push(new an("generation")),
    t.push(new an("metageneration")),
    t.push(new an("name", "fullPath", !0));
  function e(a, l) {
    return Kj(l);
  }
  const n = new an("name");
  (n.xform = e), t.push(n);
  function r(a, l) {
    return l !== void 0 ? Number(l) : l;
  }
  const s = new an("size");
  return (
    (s.xform = r),
    t.push(s),
    t.push(new an("timeCreated")),
    t.push(new an("updated")),
    t.push(new an("md5Hash", null, !0)),
    t.push(new an("cacheControl", null, !0)),
    t.push(new an("contentDisposition", null, !0)),
    t.push(new an("contentEncoding", null, !0)),
    t.push(new an("contentLanguage", null, !0)),
    t.push(new an("contentType", null, !0)),
    t.push(new an("metadata", "customMetadata", !0)),
    (ld = t),
    ld
  );
}
function Qj(t, e) {
  function n() {
    const r = t.bucket,
      s = t.fullPath,
      a = new An(r, s);
    return e._makeStorageReference(a);
  }
  Object.defineProperty(t, "ref", { get: n });
}
function Xj(t, e, n) {
  const r = {};
  r.type = "file";
  const s = n.length;
  for (let a = 0; a < s; a++) {
    const l = n[a];
    r[l.local] = l.xform(r, e[l.server]);
  }
  return Qj(r, t), r;
}
function OT(t, e, n) {
  const r = jT(e);
  return r === null ? null : Xj(t, r, n);
}
function Yj(t, e, n, r) {
  const s = jT(e);
  if (s === null || !Lg(s.downloadTokens)) return null;
  const a = s.downloadTokens;
  if (a.length === 0) return null;
  const l = encodeURIComponent;
  return a.split(",").map((p) => {
    const g = t.bucket,
      w = t.fullPath,
      x = "/b/" + l(g) + "/o/" + l(w),
      P = Ug(x, n, r),
      b = AT({ alt: "media", token: p });
    return P + b;
  })[0];
}
function Jj(t, e) {
  const n = {},
    r = e.length;
  for (let s = 0; s < r; s++) {
    const a = e[s];
    a.writable && (n[a.server] = t[a.local]);
  }
  return JSON.stringify(n);
}
class MT {
  constructor(e, n, r, s) {
    (this.url = e),
      (this.method = n),
      (this.handler = r),
      (this.timeout = s),
      (this.urlParams = {}),
      (this.headers = {}),
      (this.body = null),
      (this.errorHandler = null),
      (this.progressCallback = null),
      (this.successCodes = [200]),
      (this.additionalRetryCodes = []);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function LT(t) {
  if (!t) throw Mg();
}
function Zj(t, e) {
  function n(r, s) {
    const a = OT(t, s, e);
    return LT(a !== null), a;
  }
  return n;
}
function eD(t, e) {
  function n(r, s) {
    const a = OT(t, s, e);
    return LT(a !== null), Yj(a, s, t.host, t._protocol);
  }
  return n;
}
function FT(t) {
  function e(n, r) {
    let s;
    return (
      n.getStatus() === 401
        ? n.getErrorText().includes("Firebase App Check token is invalid")
          ? (s = fj())
          : (s = hj())
        : n.getStatus() === 402
        ? (s = dj(t.bucket))
        : n.getStatus() === 403
        ? (s = pj(t.path))
        : (s = r),
      (s.status = n.getStatus()),
      (s.serverResponse = r.serverResponse),
      s
    );
  }
  return e;
}
function tD(t) {
  const e = FT(t);
  function n(r, s) {
    let a = e(r, s);
    return (
      r.getStatus() === 404 && (a = cj(t.path)),
      (a.serverResponse = s.serverResponse),
      a
    );
  }
  return n;
}
function nD(t, e, n) {
  const r = e.fullServerUrl(),
    s = Ug(r, t.host, t._protocol),
    a = "GET",
    l = t.maxOperationRetryTime,
    d = new MT(s, a, eD(t, n), l);
  return (d.errorHandler = tD(e)), d;
}
function rD(t, e) {
  return (t && t.contentType) || (e && e.type()) || "application/octet-stream";
}
function iD(t, e, n) {
  const r = Object.assign({}, n);
  return (
    (r.fullPath = t.path),
    (r.size = e.size()),
    r.contentType || (r.contentType = rD(null, e)),
    r
  );
}
function sD(t, e, n, r, s) {
  const a = e.bucketOnlyServerUrl(),
    l = { "X-Goog-Upload-Protocol": "multipart" };
  function d() {
    let q = "";
    for (let Y = 0; Y < 2; Y++) q = q + Math.random().toString().slice(2);
    return q;
  }
  const f = d();
  l["Content-Type"] = "multipart/related; boundary=" + f;
  const p = iD(e, r, s),
    g = Jj(p, n),
    w =
      "--" +
      f +
      `\r
Content-Type: application/json; charset=utf-8\r
\r
` +
      g +
      `\r
--` +
      f +
      `\r
Content-Type: ` +
      p.contentType +
      `\r
\r
`,
    x =
      `\r
--` +
      f +
      "--",
    P = qi.getBlob(w, r, x);
  if (P === null) throw wj();
  const b = { name: p.fullPath },
    N = Ug(a, t.host, t._protocol),
    k = "POST",
    $ = t.maxUploadRetryTime,
    G = new MT(N, k, Zj(t, n), $);
  return (
    (G.urlParams = b),
    (G.headers = l),
    (G.body = P.uploadData()),
    (G.errorHandler = FT(e)),
    G
  );
}
class oD {
  constructor() {
    (this.sent_ = !1),
      (this.xhr_ = new XMLHttpRequest()),
      this.initXhr(),
      (this.errorCode_ = Js.NO_ERROR),
      (this.sendPromise_ = new Promise((e) => {
        this.xhr_.addEventListener("abort", () => {
          (this.errorCode_ = Js.ABORT), e();
        }),
          this.xhr_.addEventListener("error", () => {
            (this.errorCode_ = Js.NETWORK_ERROR), e();
          }),
          this.xhr_.addEventListener("load", () => {
            e();
          });
      }));
  }
  send(e, n, r, s, a) {
    if (this.sent_) throw Ol("cannot .send() more than once");
    if (
      (hs(e) && r && (this.xhr_.withCredentials = !0),
      (this.sent_ = !0),
      this.xhr_.open(n, e, !0),
      a !== void 0)
    )
      for (const l in a)
        a.hasOwnProperty(l) && this.xhr_.setRequestHeader(l, a[l].toString());
    return (
      s !== void 0 ? this.xhr_.send(s) : this.xhr_.send(), this.sendPromise_
    );
  }
  getErrorCode() {
    if (!this.sent_) throw Ol("cannot .getErrorCode() before sending");
    return this.errorCode_;
  }
  getStatus() {
    if (!this.sent_) throw Ol("cannot .getStatus() before sending");
    try {
      return this.xhr_.status;
    } catch {
      return -1;
    }
  }
  getResponse() {
    if (!this.sent_) throw Ol("cannot .getResponse() before sending");
    return this.xhr_.response;
  }
  getErrorText() {
    if (!this.sent_) throw Ol("cannot .getErrorText() before sending");
    return this.xhr_.statusText;
  }
  abort() {
    this.xhr_.abort();
  }
  getResponseHeader(e) {
    return this.xhr_.getResponseHeader(e);
  }
  addUploadProgressListener(e) {
    this.xhr_.upload != null &&
      this.xhr_.upload.addEventListener("progress", e);
  }
  removeUploadProgressListener(e) {
    this.xhr_.upload != null &&
      this.xhr_.upload.removeEventListener("progress", e);
  }
}
class aD extends oD {
  initXhr() {
    this.xhr_.responseType = "text";
  }
}
function UT() {
  return new aD();
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ class lo {
  constructor(e, n) {
    (this._service = e),
      n instanceof An
        ? (this._location = n)
        : (this._location = An.makeFromUrl(n, e.host));
  }
  toString() {
    return "gs://" + this._location.bucket + "/" + this._location.path;
  }
  _newRef(e, n) {
    return new lo(e, n);
  }
  get root() {
    const e = new An(this._location.bucket, "");
    return this._newRef(this._service, e);
  }
  get bucket() {
    return this._location.bucket;
  }
  get fullPath() {
    return this._location.path;
  }
  get name() {
    return DT(this._location.path);
  }
  get storage() {
    return this._service;
  }
  get parent() {
    const e = Wj(this._location.path);
    if (e === null) return null;
    const n = new An(this._location.bucket, e);
    return new lo(this._service, n);
  }
  _throwIfRoot(e) {
    if (this._location.path === "") throw Tj(e);
  }
}
function lD(t, e, n) {
  t._throwIfRoot("uploadBytes");
  const r = sD(t.storage, t._location, VT(), new qi(e, !0), n);
  return t.storage
    .makeRequestWithTokens(r, UT)
    .then((s) => ({ metadata: s, ref: t }));
}
function uD(t) {
  t._throwIfRoot("getDownloadURL");
  const e = nD(t.storage, t._location, VT());
  return t.storage.makeRequestWithTokens(e, UT).then((n) => {
    if (n === null) throw xj();
    return n;
  });
}
function cD(t, e) {
  const n = qj(t._location.path, e),
    r = new An(t._location.bucket, n);
  return new lo(t.storage, r);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function dD(t) {
  return /^[A-Za-z]+:\/\//.test(t);
}
function hD(t, e) {
  return new lo(t, e);
}
function BT(t, e) {
  if (t instanceof Bg) {
    const n = t;
    if (n._bucket == null) throw _j();
    const r = new lo(n, n._bucket);
    return e != null ? BT(r, e) : r;
  } else return e !== void 0 ? cD(t, e) : t;
}
function fD(t, e) {
  if (e && dD(e)) {
    if (t instanceof Bg) return hD(t, e);
    throw gm(
      "To use ref(service, url), the first argument must be a Storage instance."
    );
  } else return BT(t, e);
}
function Iw(t, e) {
  const n = e == null ? void 0 : e[bT];
  return n == null ? null : An.makeFromBucketSpec(n, t);
}
function pD(t, e, n, r = {}) {
  t.host = `${e}:${n}`;
  const s = hs(e);
  s && (Wm(`https://${t.host}/b`), qm("Storage", !0)),
    (t._isUsingEmulator = !0),
    (t._protocol = s ? "https" : "http");
  const { mockUserToken: a } = r;
  a &&
    (t._overrideAuthToken =
      typeof a == "string" ? a : hx(a, t.app.options.projectId));
}
class Bg {
  constructor(e, n, r, s, a, l = !1) {
    (this.app = e),
      (this._authProvider = n),
      (this._appCheckProvider = r),
      (this._url = s),
      (this._firebaseVersion = a),
      (this._isUsingEmulator = l),
      (this._bucket = null),
      (this._host = IT),
      (this._protocol = "https"),
      (this._appId = null),
      (this._deleted = !1),
      (this._maxOperationRetryTime = lj),
      (this._maxUploadRetryTime = uj),
      (this._requests = new Set()),
      s != null
        ? (this._bucket = An.makeFromBucketSpec(s, this._host))
        : (this._bucket = Iw(this._host, this.app.options));
  }
  get host() {
    return this._host;
  }
  set host(e) {
    (this._host = e),
      this._url != null
        ? (this._bucket = An.makeFromBucketSpec(this._url, e))
        : (this._bucket = Iw(e, this.app.options));
  }
  get maxUploadRetryTime() {
    return this._maxUploadRetryTime;
  }
  set maxUploadRetryTime(e) {
    Sw("time", 0, Number.POSITIVE_INFINITY, e), (this._maxUploadRetryTime = e);
  }
  get maxOperationRetryTime() {
    return this._maxOperationRetryTime;
  }
  set maxOperationRetryTime(e) {
    Sw("time", 0, Number.POSITIVE_INFINITY, e),
      (this._maxOperationRetryTime = e);
  }
  async _getAuthToken() {
    if (this._overrideAuthToken) return this._overrideAuthToken;
    const e = this._authProvider.getImmediate({ optional: !0 });
    if (e) {
      const n = await e.getToken();
      if (n !== null) return n.accessToken;
    }
    return null;
  }
  async _getAppCheckToken() {
    if (bn(this.app) && this.app.settings.appCheckToken)
      return this.app.settings.appCheckToken;
    const e = this._appCheckProvider.getImmediate({ optional: !0 });
    return e ? (await e.getToken()).token : null;
  }
  _delete() {
    return (
      this._deleted ||
        ((this._deleted = !0),
        this._requests.forEach((e) => e.cancel()),
        this._requests.clear()),
      Promise.resolve()
    );
  }
  _makeStorageReference(e) {
    return new lo(this, e);
  }
  _makeRequest(e, n, r, s, a = !0) {
    if (this._deleted) return new Pj(CT());
    {
      const l = Vj(
        e,
        this._appId,
        r,
        s,
        n,
        this._firebaseVersion,
        a,
        this._isUsingEmulator
      );
      return (
        this._requests.add(l),
        l.getPromise().then(
          () => this._requests.delete(l),
          () => this._requests.delete(l)
        ),
        l
      );
    }
  }
  async makeRequestWithTokens(e, n) {
    const [r, s] = await Promise.all([
      this._getAuthToken(),
      this._getAppCheckToken(),
    ]);
    return this._makeRequest(e, n, r, s).getPromise();
  }
}
const bw = "@firebase/storage",
  Cw = "0.13.14";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ const zT = "storage";
function mD(t, e, n) {
  return (t = mt(t)), lD(t, e, n);
}
function gD(t) {
  return (t = mt(t)), uD(t);
}
function yD(t, e) {
  return (t = mt(t)), fD(t, e);
}
function vD(t = Qm(), e) {
  t = mt(t);
  const r = oh(t, zT).getImmediate({ identifier: e }),
    s = ux("storage");
  return s && _D(r, ...s), r;
}
function _D(t, e, n, r = {}) {
  pD(t, e, n, r);
}
function wD(t, { instanceIdentifier: e }) {
  const n = t.getProvider("app").getImmediate(),
    r = t.getProvider("auth-internal"),
    s = t.getProvider("app-check-internal");
  return new Bg(n, r, s, e, co);
}
function xD() {
  no(new es(zT, wD, "PUBLIC").setMultipleInstances(!0)),
    Er(bw, Cw, ""),
    Er(bw, Cw, "esm2017");
}
xD();
const ED = {
    apiKey: "AIzaSyCraPDyyhOJs9IJtVMCe2b1VNFYkbtqWEg",
    authDomain: "playcenter-universal.firebaseapp.com",
    projectId: "playcenter-universal",
    storageBucket: "playcenter-universal.appspot.com",
    messagingSenderId: "876884906641",
    appId: "1:876884906641:web:a0a5b7526b7f4161452530",
    measurementId: "G-4MPL62WSKW",
  },
  zg = mx(ED),
  ud = $R(zg),
  Ip = W4(zg),
  TD = vD(zg),
  $T = L.createContext();
function mo() {
  return L.useContext($T);
}
function PD({ children: t }) {
  const [e, n] = L.useState(null),
    [r, s] = L.useState(null),
    [a, l] = L.useState(!0);
  L.useEffect(
    () =>
      kA(ud, async (b) => {
        if ((n(b), b)) {
          const N = Tp(Ip, "users", b.uid),
            k = await ij(N);
          k.exists()
            ? s(k.data())
            : (await Tw(N, { telefono: "", direccion: "" }),
              s({ telefono: "", direccion: "" }));
        } else s(null);
        l(!1);
      }),
    []
  );
  function d(P, b) {
    return bA(ud, P, b);
  }
  async function f(P, b, N) {
    const k = await IA(ud, P, b);
    await Yp(k.user, { displayName: N }),
      await Tw(Tp(Ip, "users", k.user.uid), { telefono: "", direccion: "" }),
      n(k.user),
      s({ telefono: "", direccion: "" });
  }
  function p() {
    return NA(ud);
  }
  async function g(P) {
    if (!e) throw new Error("No user logged in");
    const b = Tp(Ip, "users", e.uid);
    await oj(b, P), s((N) => ({ ...N, ...P }));
  }
  async function w(P) {
    if (!e) throw new Error("No user logged in");
    const b = yD(TD, `usuarios/${e.uid}/perfil.jpg`);
    await mD(b, P);
    const N = await gD(b);
    return await Yp(e, { photoURL: N }), n({ ...e, photoURL: N }), N;
  }
  const x = {
    usuario: e,
    usuarioInfo: r,
    login: d,
    signup: f,
    logout: p,
    actualizarUsuarioInfo: g,
    subirImagen: w,
  };
  return v.jsx($T.Provider, { value: x, children: !a && t });
}
const HT = L.createContext();
function Ih() {
  return L.useContext(HT);
}
function SD({ children: t }) {
  const [e, n] = L.useState(!1);
  function r() {
    n(!0);
  }
  function s() {
    n(!1);
  }
  return v.jsx(HT.Provider, {
    value: {
      modalAbierto: e,
      setModalAbierto: n,
      abrirModal: r,
      cerrarModal: s,
    },
    children: t,
  });
}
const $g = L.createContext({});
function Hg(t) {
  const e = L.useRef(null);
  return e.current === null && (e.current = t()), e.current;
}
const Wg = typeof window < "u",
  WT = Wg ? L.useLayoutEffect : L.useEffect,
  bh = L.createContext(null);
function qg(t, e) {
  t.indexOf(e) === -1 && t.push(e);
}
function Gg(t, e) {
  const n = t.indexOf(e);
  n > -1 && t.splice(n, 1);
}
const di = (t, e, n) => (n > e ? e : n < t ? t : n);
let Kg = () => {};
const hi = {},
  qT = (t) => /^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);
function GT(t) {
  return typeof t == "object" && t !== null;
}
const KT = (t) => /^0[^.\s]+$/u.test(t);
function Qg(t) {
  let e;
  return () => (e === void 0 && (e = t()), e);
}
const $n = (t) => t,
  ID = (t, e) => (n) => e(t(n)),
  Vu = (...t) => t.reduce(ID),
  gu = (t, e, n) => {
    const r = e - t;
    return r === 0 ? 1 : (n - t) / r;
  };
class Xg {
  constructor() {
    this.subscriptions = [];
  }
  add(e) {
    return qg(this.subscriptions, e), () => Gg(this.subscriptions, e);
  }
  notify(e, n, r) {
    const s = this.subscriptions.length;
    if (s)
      if (s === 1) this.subscriptions[0](e, n, r);
      else
        for (let a = 0; a < s; a++) {
          const l = this.subscriptions[a];
          l && l(e, n, r);
        }
  }
  getSize() {
    return this.subscriptions.length;
  }
  clear() {
    this.subscriptions.length = 0;
  }
}
const Rr = (t) => t * 1e3,
  kr = (t) => t / 1e3;
function QT(t, e) {
  return e ? t * (1e3 / e) : 0;
}
const XT = (t, e, n) =>
    (((1 - 3 * n + 3 * e) * t + (3 * n - 6 * e)) * t + 3 * e) * t,
  bD = 1e-7,
  CD = 12;
function AD(t, e, n, r, s) {
  let a,
    l,
    d = 0;
  do (l = e + (n - e) / 2), (a = XT(l, r, s) - t), a > 0 ? (n = l) : (e = l);
  while (Math.abs(a) > bD && ++d < CD);
  return l;
}
function Ou(t, e, n, r) {
  if (t === e && n === r) return $n;
  const s = (a) => AD(a, 0, 1, t, n);
  return (a) => (a === 0 || a === 1 ? a : XT(s(a), e, r));
}
const YT = (t) => (e) => e <= 0.5 ? t(2 * e) / 2 : (2 - t(2 * (1 - e))) / 2,
  JT = (t) => (e) => 1 - t(1 - e),
  ZT = Ou(0.33, 1.53, 0.69, 0.99),
  Yg = JT(ZT),
  e2 = YT(Yg),
  t2 = (t) =>
    (t *= 2) < 1 ? 0.5 * Yg(t) : 0.5 * (2 - Math.pow(2, -10 * (t - 1))),
  Jg = (t) => 1 - Math.sin(Math.acos(t)),
  n2 = JT(Jg),
  r2 = YT(Jg),
  RD = Ou(0.42, 0, 1, 1),
  kD = Ou(0, 0, 0.58, 1),
  i2 = Ou(0.42, 0, 0.58, 1),
  ND = (t) => Array.isArray(t) && typeof t[0] != "number",
  s2 = (t) => Array.isArray(t) && typeof t[0] == "number",
  jD = {
    linear: $n,
    easeIn: RD,
    easeInOut: i2,
    easeOut: kD,
    circIn: Jg,
    circInOut: r2,
    circOut: n2,
    backIn: Yg,
    backInOut: e2,
    backOut: ZT,
    anticipate: t2,
  },
  DD = (t) => typeof t == "string",
  Aw = (t) => {
    if (s2(t)) {
      Kg(t.length === 4);
      const [e, n, r, s] = t;
      return Ou(e, n, r, s);
    } else if (DD(t)) return jD[t];
    return t;
  },
  cd = [
    "setup",
    "read",
    "resolveKeyframes",
    "preUpdate",
    "update",
    "preRender",
    "render",
    "postRender",
  ],
  Rw = { value: null };
function VD(t, e) {
  let n = new Set(),
    r = new Set(),
    s = !1,
    a = !1;
  const l = new WeakSet();
  let d = { delta: 0, timestamp: 0, isProcessing: !1 },
    f = 0;
  function p(w) {
    l.has(w) && (g.schedule(w), t()), f++, w(d);
  }
  const g = {
    schedule: (w, x = !1, P = !1) => {
      const N = P && s ? n : r;
      return x && l.add(w), N.has(w) || N.add(w), w;
    },
    cancel: (w) => {
      r.delete(w), l.delete(w);
    },
    process: (w) => {
      if (((d = w), s)) {
        a = !0;
        return;
      }
      (s = !0),
        ([n, r] = [r, n]),
        n.forEach(p),
        e && Rw.value && Rw.value.frameloop[e].push(f),
        (f = 0),
        n.clear(),
        (s = !1),
        a && ((a = !1), g.process(w));
    },
  };
  return g;
}
const OD = 40;
function o2(t, e) {
  let n = !1,
    r = !0;
  const s = { delta: 0, timestamp: 0, isProcessing: !1 },
    a = () => (n = !0),
    l = cd.reduce((q, Y) => ((q[Y] = VD(a, e ? Y : void 0)), q), {}),
    {
      setup: d,
      read: f,
      resolveKeyframes: p,
      preUpdate: g,
      update: w,
      preRender: x,
      render: P,
      postRender: b,
    } = l,
    N = () => {
      const q = hi.useManualTiming ? s.timestamp : performance.now();
      (n = !1),
        hi.useManualTiming ||
          (s.delta = r ? 1e3 / 60 : Math.max(Math.min(q - s.timestamp, OD), 1)),
        (s.timestamp = q),
        (s.isProcessing = !0),
        d.process(s),
        f.process(s),
        p.process(s),
        g.process(s),
        w.process(s),
        x.process(s),
        P.process(s),
        b.process(s),
        (s.isProcessing = !1),
        n && e && ((r = !1), t(N));
    },
    k = () => {
      (n = !0), (r = !0), s.isProcessing || t(N);
    };
  return {
    schedule: cd.reduce((q, Y) => {
      const ne = l[Y];
      return (
        (q[Y] = (oe, C = !1, I = !1) => (n || k(), ne.schedule(oe, C, I))), q
      );
    }, {}),
    cancel: (q) => {
      for (let Y = 0; Y < cd.length; Y++) l[cd[Y]].cancel(q);
    },
    state: s,
    steps: l,
  };
}
const {
  schedule: et,
  cancel: ls,
  state: zt,
  steps: bp,
} = o2(typeof requestAnimationFrame < "u" ? requestAnimationFrame : $n, !0);
let Id;
function MD() {
  Id = void 0;
}
const _n = {
    now: () => (
      Id === void 0 &&
        _n.set(
          zt.isProcessing || hi.useManualTiming
            ? zt.timestamp
            : performance.now()
        ),
      Id
    ),
    set: (t) => {
      (Id = t), queueMicrotask(MD);
    },
  },
  a2 = (t) => (e) => typeof e == "string" && e.startsWith(t),
  Zg = a2("--"),
  LD = a2("var(--"),
  ey = (t) => (LD(t) ? FD.test(t.split("/*")[0].trim()) : !1),
  FD =
    /var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,
  La = {
    test: (t) => typeof t == "number",
    parse: parseFloat,
    transform: (t) => t,
  },
  yu = { ...La, transform: (t) => di(0, 1, t) },
  dd = { ...La, default: 1 },
  Zl = (t) => Math.round(t * 1e5) / 1e5,
  ty = /-?(?:\d+(?:\.\d+)?|\.\d+)/gu;
function UD(t) {
  return t == null;
}
const BD =
    /^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,
  ny = (t, e) => (n) =>
    !!(
      (typeof n == "string" && BD.test(n) && n.startsWith(t)) ||
      (e && !UD(n) && Object.prototype.hasOwnProperty.call(n, e))
    ),
  l2 = (t, e, n) => (r) => {
    if (typeof r != "string") return r;
    const [s, a, l, d] = r.match(ty);
    return {
      [t]: parseFloat(s),
      [e]: parseFloat(a),
      [n]: parseFloat(l),
      alpha: d !== void 0 ? parseFloat(d) : 1,
    };
  },
  zD = (t) => di(0, 255, t),
  Cp = { ...La, transform: (t) => Math.round(zD(t)) },
  Qs = {
    test: ny("rgb", "red"),
    parse: l2("red", "green", "blue"),
    transform: ({ red: t, green: e, blue: n, alpha: r = 1 }) =>
      "rgba(" +
      Cp.transform(t) +
      ", " +
      Cp.transform(e) +
      ", " +
      Cp.transform(n) +
      ", " +
      Zl(yu.transform(r)) +
      ")",
  };
function $D(t) {
  let e = "",
    n = "",
    r = "",
    s = "";
  return (
    t.length > 5
      ? ((e = t.substring(1, 3)),
        (n = t.substring(3, 5)),
        (r = t.substring(5, 7)),
        (s = t.substring(7, 9)))
      : ((e = t.substring(1, 2)),
        (n = t.substring(2, 3)),
        (r = t.substring(3, 4)),
        (s = t.substring(4, 5)),
        (e += e),
        (n += n),
        (r += r),
        (s += s)),
    {
      red: parseInt(e, 16),
      green: parseInt(n, 16),
      blue: parseInt(r, 16),
      alpha: s ? parseInt(s, 16) / 255 : 1,
    }
  );
}
const ym = { test: ny("#"), parse: $D, transform: Qs.transform },
  Mu = (t) => ({
    test: (e) =>
      typeof e == "string" && e.endsWith(t) && e.split(" ").length === 1,
    parse: parseFloat,
    transform: (e) => `${e}${t}`,
  }),
  Bi = Mu("deg"),
  Nr = Mu("%"),
  Te = Mu("px"),
  HD = Mu("vh"),
  WD = Mu("vw"),
  kw = {
    ...Nr,
    parse: (t) => Nr.parse(t) / 100,
    transform: (t) => Nr.transform(t * 100),
  },
  fa = {
    test: ny("hsl", "hue"),
    parse: l2("hue", "saturation", "lightness"),
    transform: ({ hue: t, saturation: e, lightness: n, alpha: r = 1 }) =>
      "hsla(" +
      Math.round(t) +
      ", " +
      Nr.transform(Zl(e)) +
      ", " +
      Nr.transform(Zl(n)) +
      ", " +
      Zl(yu.transform(r)) +
      ")",
  },
  _t = {
    test: (t) => Qs.test(t) || ym.test(t) || fa.test(t),
    parse: (t) =>
      Qs.test(t) ? Qs.parse(t) : fa.test(t) ? fa.parse(t) : ym.parse(t),
    transform: (t) =>
      typeof t == "string"
        ? t
        : t.hasOwnProperty("red")
        ? Qs.transform(t)
        : fa.transform(t),
    getAnimatableNone: (t) => {
      const e = _t.parse(t);
      return (e.alpha = 0), _t.transform(e);
    },
  },
  qD =
    /(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;
function GD(t) {
  var e, n;
  return (
    isNaN(t) &&
    typeof t == "string" &&
    (((e = t.match(ty)) == null ? void 0 : e.length) || 0) +
      (((n = t.match(qD)) == null ? void 0 : n.length) || 0) >
      0
  );
}
const u2 = "number",
  c2 = "color",
  KD = "var",
  QD = "var(",
  Nw = "${}",
  XD =
    /var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;
function vu(t) {
  const e = t.toString(),
    n = [],
    r = { color: [], number: [], var: [] },
    s = [];
  let a = 0;
  const d = e
    .replace(
      XD,
      (f) => (
        _t.test(f)
          ? (r.color.push(a), s.push(c2), n.push(_t.parse(f)))
          : f.startsWith(QD)
          ? (r.var.push(a), s.push(KD), n.push(f))
          : (r.number.push(a), s.push(u2), n.push(parseFloat(f))),
        ++a,
        Nw
      )
    )
    .split(Nw);
  return { values: n, split: d, indexes: r, types: s };
}
function d2(t) {
  return vu(t).values;
}
function h2(t) {
  const { split: e, types: n } = vu(t),
    r = e.length;
  return (s) => {
    let a = "";
    for (let l = 0; l < r; l++)
      if (((a += e[l]), s[l] !== void 0)) {
        const d = n[l];
        d === u2
          ? (a += Zl(s[l]))
          : d === c2
          ? (a += _t.transform(s[l]))
          : (a += s[l]);
      }
    return a;
  };
}
const YD = (t) =>
  typeof t == "number" ? 0 : _t.test(t) ? _t.getAnimatableNone(t) : t;
function JD(t) {
  const e = d2(t);
  return h2(t)(e.map(YD));
}
const us = {
  test: GD,
  parse: d2,
  createTransformer: h2,
  getAnimatableNone: JD,
};
function Ap(t, e, n) {
  return (
    n < 0 && (n += 1),
    n > 1 && (n -= 1),
    n < 1 / 6
      ? t + (e - t) * 6 * n
      : n < 1 / 2
      ? e
      : n < 2 / 3
      ? t + (e - t) * (2 / 3 - n) * 6
      : t
  );
}
function ZD({ hue: t, saturation: e, lightness: n, alpha: r }) {
  (t /= 360), (e /= 100), (n /= 100);
  let s = 0,
    a = 0,
    l = 0;
  if (!e) s = a = l = n;
  else {
    const d = n < 0.5 ? n * (1 + e) : n + e - n * e,
      f = 2 * n - d;
    (s = Ap(f, d, t + 1 / 3)), (a = Ap(f, d, t)), (l = Ap(f, d, t - 1 / 3));
  }
  return {
    red: Math.round(s * 255),
    green: Math.round(a * 255),
    blue: Math.round(l * 255),
    alpha: r,
  };
}
function Yd(t, e) {
  return (n) => (n > 0 ? e : t);
}
const it = (t, e, n) => t + (e - t) * n,
  Rp = (t, e, n) => {
    const r = t * t,
      s = n * (e * e - r) + r;
    return s < 0 ? 0 : Math.sqrt(s);
  },
  e3 = [ym, Qs, fa],
  t3 = (t) => e3.find((e) => e.test(t));
function jw(t) {
  const e = t3(t);
  if (!e) return !1;
  let n = e.parse(t);
  return e === fa && (n = ZD(n)), n;
}
const Dw = (t, e) => {
    const n = jw(t),
      r = jw(e);
    if (!n || !r) return Yd(t, e);
    const s = { ...n };
    return (a) => (
      (s.red = Rp(n.red, r.red, a)),
      (s.green = Rp(n.green, r.green, a)),
      (s.blue = Rp(n.blue, r.blue, a)),
      (s.alpha = it(n.alpha, r.alpha, a)),
      Qs.transform(s)
    );
  },
  vm = new Set(["none", "hidden"]);
function n3(t, e) {
  return vm.has(t) ? (n) => (n <= 0 ? t : e) : (n) => (n >= 1 ? e : t);
}
function r3(t, e) {
  return (n) => it(t, e, n);
}
function ry(t) {
  return typeof t == "number"
    ? r3
    : typeof t == "string"
    ? ey(t)
      ? Yd
      : _t.test(t)
      ? Dw
      : o3
    : Array.isArray(t)
    ? f2
    : typeof t == "object"
    ? _t.test(t)
      ? Dw
      : i3
    : Yd;
}
function f2(t, e) {
  const n = [...t],
    r = n.length,
    s = t.map((a, l) => ry(a)(a, e[l]));
  return (a) => {
    for (let l = 0; l < r; l++) n[l] = s[l](a);
    return n;
  };
}
function i3(t, e) {
  const n = { ...t, ...e },
    r = {};
  for (const s in n)
    t[s] !== void 0 && e[s] !== void 0 && (r[s] = ry(t[s])(t[s], e[s]));
  return (s) => {
    for (const a in r) n[a] = r[a](s);
    return n;
  };
}
function s3(t, e) {
  const n = [],
    r = { color: 0, var: 0, number: 0 };
  for (let s = 0; s < e.values.length; s++) {
    const a = e.types[s],
      l = t.indexes[a][r[a]],
      d = t.values[l] ?? 0;
    (n[s] = d), r[a]++;
  }
  return n;
}
const o3 = (t, e) => {
  const n = us.createTransformer(e),
    r = vu(t),
    s = vu(e);
  return r.indexes.var.length === s.indexes.var.length &&
    r.indexes.color.length === s.indexes.color.length &&
    r.indexes.number.length >= s.indexes.number.length
    ? (vm.has(t) && !s.values.length) || (vm.has(e) && !r.values.length)
      ? n3(t, e)
      : Vu(f2(s3(r, s), s.values), n)
    : Yd(t, e);
};
function p2(t, e, n) {
  return typeof t == "number" && typeof e == "number" && typeof n == "number"
    ? it(t, e, n)
    : ry(t)(t, e);
}
const a3 = (t) => {
    const e = ({ timestamp: n }) => t(n);
    return {
      start: (n = !0) => et.update(e, n),
      stop: () => ls(e),
      now: () => (zt.isProcessing ? zt.timestamp : _n.now()),
    };
  },
  m2 = (t, e, n = 10) => {
    let r = "";
    const s = Math.max(Math.round(e / n), 2);
    for (let a = 0; a < s; a++)
      r += Math.round(t(a / (s - 1)) * 1e4) / 1e4 + ", ";
    return `linear(${r.substring(0, r.length - 2)})`;
  },
  Jd = 2e4;
function iy(t) {
  let e = 0;
  const n = 50;
  let r = t.next(e);
  for (; !r.done && e < Jd; ) (e += n), (r = t.next(e));
  return e >= Jd ? 1 / 0 : e;
}
function l3(t, e = 100, n) {
  const r = n({ ...t, keyframes: [0, e] }),
    s = Math.min(iy(r), Jd);
  return {
    type: "keyframes",
    ease: (a) => r.next(s * a).value / e,
    duration: kr(s),
  };
}
const u3 = 5;
function g2(t, e, n) {
  const r = Math.max(e - u3, 0);
  return QT(n - t(r), e - r);
}
const at = {
    stiffness: 100,
    damping: 10,
    mass: 1,
    velocity: 0,
    duration: 800,
    bounce: 0.3,
    visualDuration: 0.3,
    restSpeed: { granular: 0.01, default: 2 },
    restDelta: { granular: 0.005, default: 0.5 },
    minDuration: 0.01,
    maxDuration: 10,
    minDamping: 0.05,
    maxDamping: 1,
  },
  kp = 0.001;
function c3({
  duration: t = at.duration,
  bounce: e = at.bounce,
  velocity: n = at.velocity,
  mass: r = at.mass,
}) {
  let s,
    a,
    l = 1 - e;
  (l = di(at.minDamping, at.maxDamping, l)),
    (t = di(at.minDuration, at.maxDuration, kr(t))),
    l < 1
      ? ((s = (p) => {
          const g = p * l,
            w = g * t,
            x = g - n,
            P = _m(p, l),
            b = Math.exp(-w);
          return kp - (x / P) * b;
        }),
        (a = (p) => {
          const w = p * l * t,
            x = w * n + n,
            P = Math.pow(l, 2) * Math.pow(p, 2) * t,
            b = Math.exp(-w),
            N = _m(Math.pow(p, 2), l);
          return ((-s(p) + kp > 0 ? -1 : 1) * ((x - P) * b)) / N;
        }))
      : ((s = (p) => {
          const g = Math.exp(-p * t),
            w = (p - n) * t + 1;
          return -kp + g * w;
        }),
        (a = (p) => {
          const g = Math.exp(-p * t),
            w = (n - p) * (t * t);
          return g * w;
        }));
  const d = 5 / t,
    f = h3(s, a, d);
  if (((t = Rr(t)), isNaN(f)))
    return { stiffness: at.stiffness, damping: at.damping, duration: t };
  {
    const p = Math.pow(f, 2) * r;
    return { stiffness: p, damping: l * 2 * Math.sqrt(r * p), duration: t };
  }
}
const d3 = 12;
function h3(t, e, n) {
  let r = n;
  for (let s = 1; s < d3; s++) r = r - t(r) / e(r);
  return r;
}
function _m(t, e) {
  return t * Math.sqrt(1 - e * e);
}
const f3 = ["duration", "bounce"],
  p3 = ["stiffness", "damping", "mass"];
function Vw(t, e) {
  return e.some((n) => t[n] !== void 0);
}
function m3(t) {
  let e = {
    velocity: at.velocity,
    stiffness: at.stiffness,
    damping: at.damping,
    mass: at.mass,
    isResolvedFromDuration: !1,
    ...t,
  };
  if (!Vw(t, p3) && Vw(t, f3))
    if (t.visualDuration) {
      const n = t.visualDuration,
        r = (2 * Math.PI) / (n * 1.2),
        s = r * r,
        a = 2 * di(0.05, 1, 1 - (t.bounce || 0)) * Math.sqrt(s);
      e = { ...e, mass: at.mass, stiffness: s, damping: a };
    } else {
      const n = c3(t);
      (e = { ...e, ...n, mass: at.mass }), (e.isResolvedFromDuration = !0);
    }
  return e;
}
function Zd(t = at.visualDuration, e = at.bounce) {
  const n =
    typeof t != "object"
      ? { visualDuration: t, keyframes: [0, 1], bounce: e }
      : t;
  let { restSpeed: r, restDelta: s } = n;
  const a = n.keyframes[0],
    l = n.keyframes[n.keyframes.length - 1],
    d = { done: !1, value: a },
    {
      stiffness: f,
      damping: p,
      mass: g,
      duration: w,
      velocity: x,
      isResolvedFromDuration: P,
    } = m3({ ...n, velocity: -kr(n.velocity || 0) }),
    b = x || 0,
    N = p / (2 * Math.sqrt(f * g)),
    k = l - a,
    $ = kr(Math.sqrt(f / g)),
    G = Math.abs(k) < 5;
  r || (r = G ? at.restSpeed.granular : at.restSpeed.default),
    s || (s = G ? at.restDelta.granular : at.restDelta.default);
  let q;
  if (N < 1) {
    const ne = _m($, N);
    q = (oe) => {
      const C = Math.exp(-N * $ * oe);
      return (
        l -
        C * (((b + N * $ * k) / ne) * Math.sin(ne * oe) + k * Math.cos(ne * oe))
      );
    };
  } else if (N === 1)
    q = (ne) => l - Math.exp(-$ * ne) * (k + (b + $ * k) * ne);
  else {
    const ne = $ * Math.sqrt(N * N - 1);
    q = (oe) => {
      const C = Math.exp(-N * $ * oe),
        I = Math.min(ne * oe, 300);
      return (
        l - (C * ((b + N * $ * k) * Math.sinh(I) + ne * k * Math.cosh(I))) / ne
      );
    };
  }
  const Y = {
    calculatedDuration: (P && w) || null,
    next: (ne) => {
      const oe = q(ne);
      if (P) d.done = ne >= w;
      else {
        let C = ne === 0 ? b : 0;
        N < 1 && (C = ne === 0 ? Rr(b) : g2(q, ne, oe));
        const I = Math.abs(C) <= r,
          A = Math.abs(l - oe) <= s;
        d.done = I && A;
      }
      return (d.value = d.done ? l : oe), d;
    },
    toString: () => {
      const ne = Math.min(iy(Y), Jd),
        oe = m2((C) => Y.next(ne * C).value, ne, 30);
      return ne + "ms " + oe;
    },
    toTransition: () => {},
  };
  return Y;
}
Zd.applyToOptions = (t) => {
  const e = l3(t, 100, Zd);
  return (
    (t.ease = e.ease), (t.duration = Rr(e.duration)), (t.type = "keyframes"), t
  );
};
function wm({
  keyframes: t,
  velocity: e = 0,
  power: n = 0.8,
  timeConstant: r = 325,
  bounceDamping: s = 10,
  bounceStiffness: a = 500,
  modifyTarget: l,
  min: d,
  max: f,
  restDelta: p = 0.5,
  restSpeed: g,
}) {
  const w = t[0],
    x = { done: !1, value: w },
    P = (I) => (d !== void 0 && I < d) || (f !== void 0 && I > f),
    b = (I) =>
      d === void 0
        ? f
        : f === void 0 || Math.abs(d - I) < Math.abs(f - I)
        ? d
        : f;
  let N = n * e;
  const k = w + N,
    $ = l === void 0 ? k : l(k);
  $ !== k && (N = $ - w);
  const G = (I) => -N * Math.exp(-I / r),
    q = (I) => $ + G(I),
    Y = (I) => {
      const A = G(I),
        D = q(I);
      (x.done = Math.abs(A) <= p), (x.value = x.done ? $ : D);
    };
  let ne, oe;
  const C = (I) => {
    P(x.value) &&
      ((ne = I),
      (oe = Zd({
        keyframes: [x.value, b(x.value)],
        velocity: g2(q, I, x.value),
        damping: s,
        stiffness: a,
        restDelta: p,
        restSpeed: g,
      })));
  };
  return (
    C(0),
    {
      calculatedDuration: null,
      next: (I) => {
        let A = !1;
        return (
          !oe && ne === void 0 && ((A = !0), Y(I), C(I)),
          ne !== void 0 && I >= ne ? oe.next(I - ne) : (!A && Y(I), x)
        );
      },
    }
  );
}
function g3(t, e, n) {
  const r = [],
    s = n || hi.mix || p2,
    a = t.length - 1;
  for (let l = 0; l < a; l++) {
    let d = s(t[l], t[l + 1]);
    if (e) {
      const f = Array.isArray(e) ? e[l] || $n : e;
      d = Vu(f, d);
    }
    r.push(d);
  }
  return r;
}
function y3(t, e, { clamp: n = !0, ease: r, mixer: s } = {}) {
  const a = t.length;
  if ((Kg(a === e.length), a === 1)) return () => e[0];
  if (a === 2 && e[0] === e[1]) return () => e[1];
  const l = t[0] === t[1];
  t[0] > t[a - 1] && ((t = [...t].reverse()), (e = [...e].reverse()));
  const d = g3(e, r, s),
    f = d.length,
    p = (g) => {
      if (l && g < t[0]) return e[0];
      let w = 0;
      if (f > 1) for (; w < t.length - 2 && !(g < t[w + 1]); w++);
      const x = gu(t[w], t[w + 1], g);
      return d[w](x);
    };
  return n ? (g) => p(di(t[0], t[a - 1], g)) : p;
}
function v3(t, e) {
  const n = t[t.length - 1];
  for (let r = 1; r <= e; r++) {
    const s = gu(0, e, r);
    t.push(it(n, 1, s));
  }
}
function _3(t) {
  const e = [0];
  return v3(e, t.length - 1), e;
}
function w3(t, e) {
  return t.map((n) => n * e);
}
function x3(t, e) {
  return t.map(() => e || i2).splice(0, t.length - 1);
}
function eu({
  duration: t = 300,
  keyframes: e,
  times: n,
  ease: r = "easeInOut",
}) {
  const s = ND(r) ? r.map(Aw) : Aw(r),
    a = { done: !1, value: e[0] },
    l = w3(n && n.length === e.length ? n : _3(e), t),
    d = y3(l, e, { ease: Array.isArray(s) ? s : x3(e, s) });
  return {
    calculatedDuration: t,
    next: (f) => ((a.value = d(f)), (a.done = f >= t), a),
  };
}
const E3 = (t) => t !== null;
function sy(t, { repeat: e, repeatType: n = "loop" }, r, s = 1) {
  const a = t.filter(E3),
    d = s < 0 || (e && n !== "loop" && e % 2 === 1) ? 0 : a.length - 1;
  return !d || r === void 0 ? a[d] : r;
}
const T3 = { decay: wm, inertia: wm, tween: eu, keyframes: eu, spring: Zd };
function y2(t) {
  typeof t.type == "string" && (t.type = T3[t.type]);
}
class oy {
  constructor() {
    this.updateFinished();
  }
  get finished() {
    return this._finished;
  }
  updateFinished() {
    this._finished = new Promise((e) => {
      this.resolve = e;
    });
  }
  notifyFinished() {
    this.resolve();
  }
  then(e, n) {
    return this.finished.then(e, n);
  }
}
const P3 = (t) => t / 100;
class ay extends oy {
  constructor(e) {
    super(),
      (this.state = "idle"),
      (this.startTime = null),
      (this.isStopped = !1),
      (this.currentTime = 0),
      (this.holdTime = null),
      (this.playbackSpeed = 1),
      (this.stop = () => {
        var r, s;
        const { motionValue: n } = this.options;
        n && n.updatedAt !== _n.now() && this.tick(_n.now()),
          (this.isStopped = !0),
          this.state !== "idle" &&
            (this.teardown(),
            (s = (r = this.options).onStop) == null || s.call(r));
      }),
      (this.options = e),
      this.initAnimation(),
      this.play(),
      e.autoplay === !1 && this.pause();
  }
  initAnimation() {
    const { options: e } = this;
    y2(e);
    const {
      type: n = eu,
      repeat: r = 0,
      repeatDelay: s = 0,
      repeatType: a,
      velocity: l = 0,
    } = e;
    let { keyframes: d } = e;
    const f = n || eu;
    f !== eu &&
      typeof d[0] != "number" &&
      ((this.mixKeyframes = Vu(P3, p2(d[0], d[1]))), (d = [0, 100]));
    const p = f({ ...e, keyframes: d });
    a === "mirror" &&
      (this.mirroredGenerator = f({
        ...e,
        keyframes: [...d].reverse(),
        velocity: -l,
      })),
      p.calculatedDuration === null && (p.calculatedDuration = iy(p));
    const { calculatedDuration: g } = p;
    (this.calculatedDuration = g),
      (this.resolvedDuration = g + s),
      (this.totalDuration = this.resolvedDuration * (r + 1) - s),
      (this.generator = p);
  }
  updateTime(e) {
    const n = Math.round(e - this.startTime) * this.playbackSpeed;
    this.holdTime !== null
      ? (this.currentTime = this.holdTime)
      : (this.currentTime = n);
  }
  tick(e, n = !1) {
    const {
      generator: r,
      totalDuration: s,
      mixKeyframes: a,
      mirroredGenerator: l,
      resolvedDuration: d,
      calculatedDuration: f,
    } = this;
    if (this.startTime === null) return r.next(0);
    const {
      delay: p = 0,
      keyframes: g,
      repeat: w,
      repeatType: x,
      repeatDelay: P,
      type: b,
      onUpdate: N,
      finalKeyframe: k,
    } = this.options;
    this.speed > 0
      ? (this.startTime = Math.min(this.startTime, e))
      : this.speed < 0 &&
        (this.startTime = Math.min(e - s / this.speed, this.startTime)),
      n ? (this.currentTime = e) : this.updateTime(e);
    const $ = this.currentTime - p * (this.playbackSpeed >= 0 ? 1 : -1),
      G = this.playbackSpeed >= 0 ? $ < 0 : $ > s;
    (this.currentTime = Math.max($, 0)),
      this.state === "finished" &&
        this.holdTime === null &&
        (this.currentTime = s);
    let q = this.currentTime,
      Y = r;
    if (w) {
      const I = Math.min(this.currentTime, s) / d;
      let A = Math.floor(I),
        D = I % 1;
      !D && I >= 1 && (D = 1),
        D === 1 && A--,
        (A = Math.min(A, w + 1)),
        !!(A % 2) &&
          (x === "reverse"
            ? ((D = 1 - D), P && (D -= P / d))
            : x === "mirror" && (Y = l)),
        (q = di(0, 1, D) * d);
    }
    const ne = G ? { done: !1, value: g[0] } : Y.next(q);
    a && (ne.value = a(ne.value));
    let { done: oe } = ne;
    !G &&
      f !== null &&
      (oe =
        this.playbackSpeed >= 0
          ? this.currentTime >= s
          : this.currentTime <= 0);
    const C =
      this.holdTime === null &&
      (this.state === "finished" || (this.state === "running" && oe));
    return (
      C && b !== wm && (ne.value = sy(g, this.options, k, this.speed)),
      N && N(ne.value),
      C && this.finish(),
      ne
    );
  }
  then(e, n) {
    return this.finished.then(e, n);
  }
  get duration() {
    return kr(this.calculatedDuration);
  }
  get time() {
    return kr(this.currentTime);
  }
  set time(e) {
    var n;
    (e = Rr(e)),
      (this.currentTime = e),
      this.startTime === null ||
      this.holdTime !== null ||
      this.playbackSpeed === 0
        ? (this.holdTime = e)
        : this.driver &&
          (this.startTime = this.driver.now() - e / this.playbackSpeed),
      (n = this.driver) == null || n.start(!1);
  }
  get speed() {
    return this.playbackSpeed;
  }
  set speed(e) {
    this.updateTime(_n.now());
    const n = this.playbackSpeed !== e;
    (this.playbackSpeed = e), n && (this.time = kr(this.currentTime));
  }
  play() {
    var s, a;
    if (this.isStopped) return;
    const { driver: e = a3, startTime: n } = this.options;
    this.driver || (this.driver = e((l) => this.tick(l))),
      (a = (s = this.options).onPlay) == null || a.call(s);
    const r = this.driver.now();
    this.state === "finished"
      ? (this.updateFinished(), (this.startTime = r))
      : this.holdTime !== null
      ? (this.startTime = r - this.holdTime)
      : this.startTime || (this.startTime = n ?? r),
      this.state === "finished" &&
        this.speed < 0 &&
        (this.startTime += this.calculatedDuration),
      (this.holdTime = null),
      (this.state = "running"),
      this.driver.start();
  }
  pause() {
    (this.state = "paused"),
      this.updateTime(_n.now()),
      (this.holdTime = this.currentTime);
  }
  complete() {
    this.state !== "running" && this.play(),
      (this.state = "finished"),
      (this.holdTime = null);
  }
  finish() {
    var e, n;
    this.notifyFinished(),
      this.teardown(),
      (this.state = "finished"),
      (n = (e = this.options).onComplete) == null || n.call(e);
  }
  cancel() {
    var e, n;
    (this.holdTime = null),
      (this.startTime = 0),
      this.tick(0),
      this.teardown(),
      (n = (e = this.options).onCancel) == null || n.call(e);
  }
  teardown() {
    (this.state = "idle"),
      this.stopDriver(),
      (this.startTime = this.holdTime = null);
  }
  stopDriver() {
    this.driver && (this.driver.stop(), (this.driver = void 0));
  }
  sample(e) {
    return (this.startTime = 0), this.tick(e, !0);
  }
  attachTimeline(e) {
    var n;
    return (
      this.options.allowFlatten &&
        ((this.options.type = "keyframes"),
        (this.options.ease = "linear"),
        this.initAnimation()),
      (n = this.driver) == null || n.stop(),
      e.observe(this)
    );
  }
}
function S3(t) {
  for (let e = 1; e < t.length; e++) t[e] ?? (t[e] = t[e - 1]);
}
const Xs = (t) => (t * 180) / Math.PI,
  xm = (t) => {
    const e = Xs(Math.atan2(t[1], t[0]));
    return Em(e);
  },
  I3 = {
    x: 4,
    y: 5,
    translateX: 4,
    translateY: 5,
    scaleX: 0,
    scaleY: 3,
    scale: (t) => (Math.abs(t[0]) + Math.abs(t[3])) / 2,
    rotate: xm,
    rotateZ: xm,
    skewX: (t) => Xs(Math.atan(t[1])),
    skewY: (t) => Xs(Math.atan(t[2])),
    skew: (t) => (Math.abs(t[1]) + Math.abs(t[2])) / 2,
  },
  Em = (t) => ((t = t % 360), t < 0 && (t += 360), t),
  Ow = xm,
  Mw = (t) => Math.sqrt(t[0] * t[0] + t[1] * t[1]),
  Lw = (t) => Math.sqrt(t[4] * t[4] + t[5] * t[5]),
  b3 = {
    x: 12,
    y: 13,
    z: 14,
    translateX: 12,
    translateY: 13,
    translateZ: 14,
    scaleX: Mw,
    scaleY: Lw,
    scale: (t) => (Mw(t) + Lw(t)) / 2,
    rotateX: (t) => Em(Xs(Math.atan2(t[6], t[5]))),
    rotateY: (t) => Em(Xs(Math.atan2(-t[2], t[0]))),
    rotateZ: Ow,
    rotate: Ow,
    skewX: (t) => Xs(Math.atan(t[4])),
    skewY: (t) => Xs(Math.atan(t[1])),
    skew: (t) => (Math.abs(t[1]) + Math.abs(t[4])) / 2,
  };
function Tm(t) {
  return t.includes("scale") ? 1 : 0;
}
function Pm(t, e) {
  if (!t || t === "none") return Tm(e);
  const n = t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);
  let r, s;
  if (n) (r = b3), (s = n);
  else {
    const d = t.match(/^matrix\(([-\d.e\s,]+)\)$/u);
    (r = I3), (s = d);
  }
  if (!s) return Tm(e);
  const a = r[e],
    l = s[1].split(",").map(A3);
  return typeof a == "function" ? a(l) : l[a];
}
const C3 = (t, e) => {
  const { transform: n = "none" } = getComputedStyle(t);
  return Pm(n, e);
};
function A3(t) {
  return parseFloat(t.trim());
}
const Fa = [
    "transformPerspective",
    "x",
    "y",
    "z",
    "translateX",
    "translateY",
    "translateZ",
    "scale",
    "scaleX",
    "scaleY",
    "rotate",
    "rotateX",
    "rotateY",
    "rotateZ",
    "skew",
    "skewX",
    "skewY",
  ],
  Ua = new Set(Fa),
  Fw = (t) => t === La || t === Te,
  R3 = new Set(["x", "y", "z"]),
  k3 = Fa.filter((t) => !R3.has(t));
function N3(t) {
  const e = [];
  return (
    k3.forEach((n) => {
      const r = t.getValue(n);
      r !== void 0 &&
        (e.push([n, r.get()]), r.set(n.startsWith("scale") ? 1 : 0));
    }),
    e
  );
}
const Zs = {
  width: ({ x: t }, { paddingLeft: e = "0", paddingRight: n = "0" }) =>
    t.max - t.min - parseFloat(e) - parseFloat(n),
  height: ({ y: t }, { paddingTop: e = "0", paddingBottom: n = "0" }) =>
    t.max - t.min - parseFloat(e) - parseFloat(n),
  top: (t, { top: e }) => parseFloat(e),
  left: (t, { left: e }) => parseFloat(e),
  bottom: ({ y: t }, { top: e }) => parseFloat(e) + (t.max - t.min),
  right: ({ x: t }, { left: e }) => parseFloat(e) + (t.max - t.min),
  x: (t, { transform: e }) => Pm(e, "x"),
  y: (t, { transform: e }) => Pm(e, "y"),
};
Zs.translateX = Zs.x;
Zs.translateY = Zs.y;
const eo = new Set();
let Sm = !1,
  Im = !1,
  bm = !1;
function v2() {
  if (Im) {
    const t = Array.from(eo).filter((r) => r.needsMeasurement),
      e = new Set(t.map((r) => r.element)),
      n = new Map();
    e.forEach((r) => {
      const s = N3(r);
      s.length && (n.set(r, s), r.render());
    }),
      t.forEach((r) => r.measureInitialState()),
      e.forEach((r) => {
        r.render();
        const s = n.get(r);
        s &&
          s.forEach(([a, l]) => {
            var d;
            (d = r.getValue(a)) == null || d.set(l);
          });
      }),
      t.forEach((r) => r.measureEndState()),
      t.forEach((r) => {
        r.suspendedScrollY !== void 0 && window.scrollTo(0, r.suspendedScrollY);
      });
  }
  (Im = !1), (Sm = !1), eo.forEach((t) => t.complete(bm)), eo.clear();
}
function _2() {
  eo.forEach((t) => {
    t.readKeyframes(), t.needsMeasurement && (Im = !0);
  });
}
function j3() {
  (bm = !0), _2(), v2(), (bm = !1);
}
class ly {
  constructor(e, n, r, s, a, l = !1) {
    (this.state = "pending"),
      (this.isAsync = !1),
      (this.needsMeasurement = !1),
      (this.unresolvedKeyframes = [...e]),
      (this.onComplete = n),
      (this.name = r),
      (this.motionValue = s),
      (this.element = a),
      (this.isAsync = l);
  }
  scheduleResolve() {
    (this.state = "scheduled"),
      this.isAsync
        ? (eo.add(this),
          Sm || ((Sm = !0), et.read(_2), et.resolveKeyframes(v2)))
        : (this.readKeyframes(), this.complete());
  }
  readKeyframes() {
    const {
      unresolvedKeyframes: e,
      name: n,
      element: r,
      motionValue: s,
    } = this;
    if (e[0] === null) {
      const a = s == null ? void 0 : s.get(),
        l = e[e.length - 1];
      if (a !== void 0) e[0] = a;
      else if (r && n) {
        const d = r.readValue(n, l);
        d != null && (e[0] = d);
      }
      e[0] === void 0 && (e[0] = l), s && a === void 0 && s.set(e[0]);
    }
    S3(e);
  }
  setFinalKeyframe() {}
  measureInitialState() {}
  renderEndStyles() {}
  measureEndState() {}
  complete(e = !1) {
    (this.state = "complete"),
      this.onComplete(this.unresolvedKeyframes, this.finalKeyframe, e),
      eo.delete(this);
  }
  cancel() {
    this.state === "scheduled" && (eo.delete(this), (this.state = "pending"));
  }
  resume() {
    this.state === "pending" && this.scheduleResolve();
  }
}
const D3 = (t) => t.startsWith("--");
function V3(t, e, n) {
  D3(e) ? t.style.setProperty(e, n) : (t.style[e] = n);
}
const O3 = Qg(() => window.ScrollTimeline !== void 0),
  M3 = {};
function L3(t, e) {
  const n = Qg(t);
  return () => M3[e] ?? n();
}
const w2 = L3(() => {
    try {
      document
        .createElement("div")
        .animate({ opacity: 0 }, { easing: "linear(0, 1)" });
    } catch {
      return !1;
    }
    return !0;
  }, "linearEasing"),
  Hl = ([t, e, n, r]) => `cubic-bezier(${t}, ${e}, ${n}, ${r})`,
  Uw = {
    linear: "linear",
    ease: "ease",
    easeIn: "ease-in",
    easeOut: "ease-out",
    easeInOut: "ease-in-out",
    circIn: Hl([0, 0.65, 0.55, 1]),
    circOut: Hl([0.55, 0, 1, 0.45]),
    backIn: Hl([0.31, 0.01, 0.66, -0.59]),
    backOut: Hl([0.33, 1.53, 0.69, 0.99]),
  };
function x2(t, e) {
  if (t)
    return typeof t == "function"
      ? w2()
        ? m2(t, e)
        : "ease-out"
      : s2(t)
      ? Hl(t)
      : Array.isArray(t)
      ? t.map((n) => x2(n, e) || Uw.easeOut)
      : Uw[t];
}
function F3(
  t,
  e,
  n,
  {
    delay: r = 0,
    duration: s = 300,
    repeat: a = 0,
    repeatType: l = "loop",
    ease: d = "easeOut",
    times: f,
  } = {},
  p = void 0
) {
  const g = { [e]: n };
  f && (g.offset = f);
  const w = x2(d, s);
  Array.isArray(w) && (g.easing = w);
  const x = {
    delay: r,
    duration: s,
    easing: Array.isArray(w) ? "linear" : w,
    fill: "both",
    iterations: a + 1,
    direction: l === "reverse" ? "alternate" : "normal",
  };
  return p && (x.pseudoElement = p), t.animate(g, x);
}
function E2(t) {
  return typeof t == "function" && "applyToOptions" in t;
}
function U3({ type: t, ...e }) {
  return E2(t) && w2()
    ? t.applyToOptions(e)
    : (e.duration ?? (e.duration = 300), e.ease ?? (e.ease = "easeOut"), e);
}
class B3 extends oy {
  constructor(e) {
    if ((super(), (this.finishedTime = null), (this.isStopped = !1), !e))
      return;
    const {
      element: n,
      name: r,
      keyframes: s,
      pseudoElement: a,
      allowFlatten: l = !1,
      finalKeyframe: d,
      onComplete: f,
    } = e;
    (this.isPseudoElement = !!a),
      (this.allowFlatten = l),
      (this.options = e),
      Kg(typeof e.type != "string");
    const p = U3(e);
    (this.animation = F3(n, r, s, p, a)),
      p.autoplay === !1 && this.animation.pause(),
      (this.animation.onfinish = () => {
        if (((this.finishedTime = this.time), !a)) {
          const g = sy(s, this.options, d, this.speed);
          this.updateMotionValue ? this.updateMotionValue(g) : V3(n, r, g),
            this.animation.cancel();
        }
        f == null || f(), this.notifyFinished();
      });
  }
  play() {
    this.isStopped ||
      (this.animation.play(),
      this.state === "finished" && this.updateFinished());
  }
  pause() {
    this.animation.pause();
  }
  complete() {
    var e, n;
    (n = (e = this.animation).finish) == null || n.call(e);
  }
  cancel() {
    try {
      this.animation.cancel();
    } catch {}
  }
  stop() {
    if (this.isStopped) return;
    this.isStopped = !0;
    const { state: e } = this;
    e === "idle" ||
      e === "finished" ||
      (this.updateMotionValue ? this.updateMotionValue() : this.commitStyles(),
      this.isPseudoElement || this.cancel());
  }
  commitStyles() {
    var e, n;
    this.isPseudoElement ||
      (n = (e = this.animation).commitStyles) == null ||
      n.call(e);
  }
  get duration() {
    var n, r;
    const e =
      ((r =
        (n = this.animation.effect) == null ? void 0 : n.getComputedTiming) ==
      null
        ? void 0
        : r.call(n).duration) || 0;
    return kr(Number(e));
  }
  get time() {
    return kr(Number(this.animation.currentTime) || 0);
  }
  set time(e) {
    (this.finishedTime = null), (this.animation.currentTime = Rr(e));
  }
  get speed() {
    return this.animation.playbackRate;
  }
  set speed(e) {
    e < 0 && (this.finishedTime = null), (this.animation.playbackRate = e);
  }
  get state() {
    return this.finishedTime !== null ? "finished" : this.animation.playState;
  }
  get startTime() {
    return Number(this.animation.startTime);
  }
  set startTime(e) {
    this.animation.startTime = e;
  }
  attachTimeline({ timeline: e, observe: n }) {
    var r;
    return (
      this.allowFlatten &&
        ((r = this.animation.effect) == null ||
          r.updateTiming({ easing: "linear" })),
      (this.animation.onfinish = null),
      e && O3() ? ((this.animation.timeline = e), $n) : n(this)
    );
  }
}
const T2 = { anticipate: t2, backInOut: e2, circInOut: r2 };
function z3(t) {
  return t in T2;
}
function $3(t) {
  typeof t.ease == "string" && z3(t.ease) && (t.ease = T2[t.ease]);
}
const Bw = 10;
class H3 extends B3 {
  constructor(e) {
    $3(e),
      y2(e),
      super(e),
      e.startTime && (this.startTime = e.startTime),
      (this.options = e);
  }
  updateMotionValue(e) {
    const {
      motionValue: n,
      onUpdate: r,
      onComplete: s,
      element: a,
      ...l
    } = this.options;
    if (!n) return;
    if (e !== void 0) {
      n.set(e);
      return;
    }
    const d = new ay({ ...l, autoplay: !1 }),
      f = Rr(this.finishedTime ?? this.time);
    n.setWithVelocity(d.sample(f - Bw).value, d.sample(f).value, Bw), d.stop();
  }
}
const zw = (t, e) =>
  e === "zIndex"
    ? !1
    : !!(
        typeof t == "number" ||
        Array.isArray(t) ||
        (typeof t == "string" &&
          (us.test(t) || t === "0") &&
          !t.startsWith("url("))
      );
function W3(t) {
  const e = t[0];
  if (t.length === 1) return !0;
  for (let n = 0; n < t.length; n++) if (t[n] !== e) return !0;
}
function q3(t, e, n, r) {
  const s = t[0];
  if (s === null) return !1;
  if (e === "display" || e === "visibility") return !0;
  const a = t[t.length - 1],
    l = zw(s, e),
    d = zw(a, e);
  return !l || !d ? !1 : W3(t) || ((n === "spring" || E2(n)) && r);
}
function uy(t) {
  return GT(t) && "offsetHeight" in t;
}
const G3 = new Set(["opacity", "clipPath", "filter", "transform"]),
  K3 = Qg(() => Object.hasOwnProperty.call(Element.prototype, "animate"));
function Q3(t) {
  var p;
  const {
    motionValue: e,
    name: n,
    repeatDelay: r,
    repeatType: s,
    damping: a,
    type: l,
  } = t;
  if (!uy((p = e == null ? void 0 : e.owner) == null ? void 0 : p.current))
    return !1;
  const { onUpdate: d, transformTemplate: f } = e.owner.getProps();
  return (
    K3() &&
    n &&
    G3.has(n) &&
    (n !== "transform" || !f) &&
    !d &&
    !r &&
    s !== "mirror" &&
    a !== 0 &&
    l !== "inertia"
  );
}
const X3 = 40;
class Y3 extends oy {
  constructor({
    autoplay: e = !0,
    delay: n = 0,
    type: r = "keyframes",
    repeat: s = 0,
    repeatDelay: a = 0,
    repeatType: l = "loop",
    keyframes: d,
    name: f,
    motionValue: p,
    element: g,
    ...w
  }) {
    var b;
    super(),
      (this.stop = () => {
        var N, k;
        this._animation &&
          (this._animation.stop(),
          (N = this.stopTimeline) == null || N.call(this)),
          (k = this.keyframeResolver) == null || k.cancel();
      }),
      (this.createdAt = _n.now());
    const x = {
        autoplay: e,
        delay: n,
        type: r,
        repeat: s,
        repeatDelay: a,
        repeatType: l,
        name: f,
        motionValue: p,
        element: g,
        ...w,
      },
      P = (g == null ? void 0 : g.KeyframeResolver) || ly;
    (this.keyframeResolver = new P(
      d,
      (N, k, $) => this.onKeyframesResolved(N, k, x, !$),
      f,
      p,
      g
    )),
      (b = this.keyframeResolver) == null || b.scheduleResolve();
  }
  onKeyframesResolved(e, n, r, s) {
    this.keyframeResolver = void 0;
    const {
      name: a,
      type: l,
      velocity: d,
      delay: f,
      isHandoff: p,
      onUpdate: g,
    } = r;
    (this.resolvedAt = _n.now()),
      q3(e, a, l, d) ||
        ((hi.instantAnimations || !f) && (g == null || g(sy(e, r, n))),
        (e[0] = e[e.length - 1]),
        (r.duration = 0),
        (r.repeat = 0));
    const x = {
        startTime: s
          ? this.resolvedAt
            ? this.resolvedAt - this.createdAt > X3
              ? this.resolvedAt
              : this.createdAt
            : this.createdAt
          : void 0,
        finalKeyframe: n,
        ...r,
        keyframes: e,
      },
      P =
        !p && Q3(x)
          ? new H3({ ...x, element: x.motionValue.owner.current })
          : new ay(x);
    P.finished.then(() => this.notifyFinished()).catch($n),
      this.pendingTimeline &&
        ((this.stopTimeline = P.attachTimeline(this.pendingTimeline)),
        (this.pendingTimeline = void 0)),
      (this._animation = P);
  }
  get finished() {
    return this._animation ? this.animation.finished : this._finished;
  }
  then(e, n) {
    return this.finished.finally(e).then(() => {});
  }
  get animation() {
    var e;
    return (
      this._animation ||
        ((e = this.keyframeResolver) == null || e.resume(), j3()),
      this._animation
    );
  }
  get duration() {
    return this.animation.duration;
  }
  get time() {
    return this.animation.time;
  }
  set time(e) {
    this.animation.time = e;
  }
  get speed() {
    return this.animation.speed;
  }
  get state() {
    return this.animation.state;
  }
  set speed(e) {
    this.animation.speed = e;
  }
  get startTime() {
    return this.animation.startTime;
  }
  attachTimeline(e) {
    return (
      this._animation
        ? (this.stopTimeline = this.animation.attachTimeline(e))
        : (this.pendingTimeline = e),
      () => this.stop()
    );
  }
  play() {
    this.animation.play();
  }
  pause() {
    this.animation.pause();
  }
  complete() {
    this.animation.complete();
  }
  cancel() {
    var e;
    this._animation && this.animation.cancel(),
      (e = this.keyframeResolver) == null || e.cancel();
  }
}
const J3 = /^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;
function Z3(t) {
  const e = J3.exec(t);
  if (!e) return [,];
  const [, n, r, s] = e;
  return [`--${n ?? r}`, s];
}
function P2(t, e, n = 1) {
  const [r, s] = Z3(t);
  if (!r) return;
  const a = window.getComputedStyle(e).getPropertyValue(r);
  if (a) {
    const l = a.trim();
    return qT(l) ? parseFloat(l) : l;
  }
  return ey(s) ? P2(s, e, n + 1) : s;
}
function cy(t, e) {
  return (t == null ? void 0 : t[e]) ?? (t == null ? void 0 : t.default) ?? t;
}
const S2 = new Set([
    "width",
    "height",
    "top",
    "left",
    "right",
    "bottom",
    ...Fa,
  ]),
  eV = { test: (t) => t === "auto", parse: (t) => t },
  I2 = (t) => (e) => e.test(t),
  b2 = [La, Te, Nr, Bi, WD, HD, eV],
  $w = (t) => b2.find(I2(t));
function tV(t) {
  return typeof t == "number"
    ? t === 0
    : t !== null
    ? t === "none" || t === "0" || KT(t)
    : !0;
}
const nV = new Set(["brightness", "contrast", "saturate", "opacity"]);
function rV(t) {
  const [e, n] = t.slice(0, -1).split("(");
  if (e === "drop-shadow") return t;
  const [r] = n.match(ty) || [];
  if (!r) return t;
  const s = n.replace(r, "");
  let a = nV.has(e) ? 1 : 0;
  return r !== n && (a *= 100), e + "(" + a + s + ")";
}
const iV = /\b([a-z-]*)\(.*?\)/gu,
  Cm = {
    ...us,
    getAnimatableNone: (t) => {
      const e = t.match(iV);
      return e ? e.map(rV).join(" ") : t;
    },
  },
  Hw = { ...La, transform: Math.round },
  sV = {
    rotate: Bi,
    rotateX: Bi,
    rotateY: Bi,
    rotateZ: Bi,
    scale: dd,
    scaleX: dd,
    scaleY: dd,
    scaleZ: dd,
    skew: Bi,
    skewX: Bi,
    skewY: Bi,
    distance: Te,
    translateX: Te,
    translateY: Te,
    translateZ: Te,
    x: Te,
    y: Te,
    z: Te,
    perspective: Te,
    transformPerspective: Te,
    opacity: yu,
    originX: kw,
    originY: kw,
    originZ: Te,
  },
  dy = {
    borderWidth: Te,
    borderTopWidth: Te,
    borderRightWidth: Te,
    borderBottomWidth: Te,
    borderLeftWidth: Te,
    borderRadius: Te,
    radius: Te,
    borderTopLeftRadius: Te,
    borderTopRightRadius: Te,
    borderBottomRightRadius: Te,
    borderBottomLeftRadius: Te,
    width: Te,
    maxWidth: Te,
    height: Te,
    maxHeight: Te,
    top: Te,
    right: Te,
    bottom: Te,
    left: Te,
    padding: Te,
    paddingTop: Te,
    paddingRight: Te,
    paddingBottom: Te,
    paddingLeft: Te,
    margin: Te,
    marginTop: Te,
    marginRight: Te,
    marginBottom: Te,
    marginLeft: Te,
    backgroundPositionX: Te,
    backgroundPositionY: Te,
    ...sV,
    zIndex: Hw,
    fillOpacity: yu,
    strokeOpacity: yu,
    numOctaves: Hw,
  },
  oV = {
    ...dy,
    color: _t,
    backgroundColor: _t,
    outlineColor: _t,
    fill: _t,
    stroke: _t,
    borderColor: _t,
    borderTopColor: _t,
    borderRightColor: _t,
    borderBottomColor: _t,
    borderLeftColor: _t,
    filter: Cm,
    WebkitFilter: Cm,
  },
  C2 = (t) => oV[t];
function A2(t, e) {
  let n = C2(t);
  return (
    n !== Cm && (n = us), n.getAnimatableNone ? n.getAnimatableNone(e) : void 0
  );
}
const aV = new Set(["auto", "none", "0"]);
function lV(t, e, n) {
  let r = 0,
    s;
  for (; r < t.length && !s; ) {
    const a = t[r];
    typeof a == "string" && !aV.has(a) && vu(a).values.length && (s = t[r]),
      r++;
  }
  if (s && n) for (const a of e) t[a] = A2(n, s);
}
class uV extends ly {
  constructor(e, n, r, s, a) {
    super(e, n, r, s, a, !0);
  }
  readKeyframes() {
    const { unresolvedKeyframes: e, element: n, name: r } = this;
    if (!n || !n.current) return;
    super.readKeyframes();
    for (let f = 0; f < e.length; f++) {
      let p = e[f];
      if (typeof p == "string" && ((p = p.trim()), ey(p))) {
        const g = P2(p, n.current);
        g !== void 0 && (e[f] = g),
          f === e.length - 1 && (this.finalKeyframe = p);
      }
    }
    if ((this.resolveNoneKeyframes(), !S2.has(r) || e.length !== 2)) return;
    const [s, a] = e,
      l = $w(s),
      d = $w(a);
    if (l !== d)
      if (Fw(l) && Fw(d))
        for (let f = 0; f < e.length; f++) {
          const p = e[f];
          typeof p == "string" && (e[f] = parseFloat(p));
        }
      else Zs[r] && (this.needsMeasurement = !0);
  }
  resolveNoneKeyframes() {
    const { unresolvedKeyframes: e, name: n } = this,
      r = [];
    for (let s = 0; s < e.length; s++) (e[s] === null || tV(e[s])) && r.push(s);
    r.length && lV(e, r, n);
  }
  measureInitialState() {
    const { element: e, unresolvedKeyframes: n, name: r } = this;
    if (!e || !e.current) return;
    r === "height" && (this.suspendedScrollY = window.pageYOffset),
      (this.measuredOrigin = Zs[r](
        e.measureViewportBox(),
        window.getComputedStyle(e.current)
      )),
      (n[0] = this.measuredOrigin);
    const s = n[n.length - 1];
    s !== void 0 && e.getValue(r, s).jump(s, !1);
  }
  measureEndState() {
    var d;
    const { element: e, name: n, unresolvedKeyframes: r } = this;
    if (!e || !e.current) return;
    const s = e.getValue(n);
    s && s.jump(this.measuredOrigin, !1);
    const a = r.length - 1,
      l = r[a];
    (r[a] = Zs[n](e.measureViewportBox(), window.getComputedStyle(e.current))),
      l !== null && this.finalKeyframe === void 0 && (this.finalKeyframe = l),
      (d = this.removedTransforms) != null &&
        d.length &&
        this.removedTransforms.forEach(([f, p]) => {
          e.getValue(f).set(p);
        }),
      this.resolveNoneKeyframes();
  }
}
function cV(t, e, n) {
  if (t instanceof EventTarget) return [t];
  if (typeof t == "string") {
    let r = document;
    const s = (n == null ? void 0 : n[t]) ?? r.querySelectorAll(t);
    return s ? Array.from(s) : [];
  }
  return Array.from(t);
}
const R2 = (t, e) => (e && typeof t == "number" ? e.transform(t) : t),
  Ww = 30,
  dV = (t) => !isNaN(parseFloat(t));
class hV {
  constructor(e, n = {}) {
    (this.canTrackVelocity = null),
      (this.events = {}),
      (this.updateAndNotify = (r, s = !0) => {
        var l, d;
        const a = _n.now();
        if (
          (this.updatedAt !== a && this.setPrevFrameValue(),
          (this.prev = this.current),
          this.setCurrent(r),
          this.current !== this.prev &&
            ((l = this.events.change) == null || l.notify(this.current),
            this.dependents))
        )
          for (const f of this.dependents) f.dirty();
        s &&
          ((d = this.events.renderRequest) == null || d.notify(this.current));
      }),
      (this.hasAnimated = !1),
      this.setCurrent(e),
      (this.owner = n.owner);
  }
  setCurrent(e) {
    (this.current = e),
      (this.updatedAt = _n.now()),
      this.canTrackVelocity === null &&
        e !== void 0 &&
        (this.canTrackVelocity = dV(this.current));
  }
  setPrevFrameValue(e = this.current) {
    (this.prevFrameValue = e), (this.prevUpdatedAt = this.updatedAt);
  }
  onChange(e) {
    return this.on("change", e);
  }
  on(e, n) {
    this.events[e] || (this.events[e] = new Xg());
    const r = this.events[e].add(n);
    return e === "change"
      ? () => {
          r(),
            et.read(() => {
              this.events.change.getSize() || this.stop();
            });
        }
      : r;
  }
  clearListeners() {
    for (const e in this.events) this.events[e].clear();
  }
  attach(e, n) {
    (this.passiveEffect = e), (this.stopPassiveEffect = n);
  }
  set(e, n = !0) {
    !n || !this.passiveEffect
      ? this.updateAndNotify(e, n)
      : this.passiveEffect(e, this.updateAndNotify);
  }
  setWithVelocity(e, n, r) {
    this.set(n),
      (this.prev = void 0),
      (this.prevFrameValue = e),
      (this.prevUpdatedAt = this.updatedAt - r);
  }
  jump(e, n = !0) {
    this.updateAndNotify(e),
      (this.prev = e),
      (this.prevUpdatedAt = this.prevFrameValue = void 0),
      n && this.stop(),
      this.stopPassiveEffect && this.stopPassiveEffect();
  }
  dirty() {
    var e;
    (e = this.events.change) == null || e.notify(this.current);
  }
  addDependent(e) {
    this.dependents || (this.dependents = new Set()), this.dependents.add(e);
  }
  removeDependent(e) {
    this.dependents && this.dependents.delete(e);
  }
  get() {
    return this.current;
  }
  getPrevious() {
    return this.prev;
  }
  getVelocity() {
    const e = _n.now();
    if (
      !this.canTrackVelocity ||
      this.prevFrameValue === void 0 ||
      e - this.updatedAt > Ww
    )
      return 0;
    const n = Math.min(this.updatedAt - this.prevUpdatedAt, Ww);
    return QT(parseFloat(this.current) - parseFloat(this.prevFrameValue), n);
  }
  start(e) {
    return (
      this.stop(),
      new Promise((n) => {
        (this.hasAnimated = !0),
          (this.animation = e(n)),
          this.events.animationStart && this.events.animationStart.notify();
      }).then(() => {
        this.events.animationComplete && this.events.animationComplete.notify(),
          this.clearAnimation();
      })
    );
  }
  stop() {
    this.animation &&
      (this.animation.stop(),
      this.events.animationCancel && this.events.animationCancel.notify()),
      this.clearAnimation();
  }
  isAnimating() {
    return !!this.animation;
  }
  clearAnimation() {
    delete this.animation;
  }
  destroy() {
    var e, n;
    (e = this.dependents) == null || e.clear(),
      (n = this.events.destroy) == null || n.notify(),
      this.clearListeners(),
      this.stop(),
      this.stopPassiveEffect && this.stopPassiveEffect();
  }
}
function Ca(t, e) {
  return new hV(t, e);
}
const { schedule: hy } = o2(queueMicrotask, !1),
  sr = { x: !1, y: !1 };
function k2() {
  return sr.x || sr.y;
}
function fV(t) {
  return t === "x" || t === "y"
    ? sr[t]
      ? null
      : ((sr[t] = !0),
        () => {
          sr[t] = !1;
        })
    : sr.x || sr.y
    ? null
    : ((sr.x = sr.y = !0),
      () => {
        sr.x = sr.y = !1;
      });
}
function N2(t, e) {
  const n = cV(t),
    r = new AbortController(),
    s = { passive: !0, ...e, signal: r.signal };
  return [n, s, () => r.abort()];
}
function qw(t) {
  return !(t.pointerType === "touch" || k2());
}
function pV(t, e, n = {}) {
  const [r, s, a] = N2(t, n),
    l = (d) => {
      if (!qw(d)) return;
      const { target: f } = d,
        p = e(f, d);
      if (typeof p != "function" || !f) return;
      const g = (w) => {
        qw(w) && (p(w), f.removeEventListener("pointerleave", g));
      };
      f.addEventListener("pointerleave", g, s);
    };
  return (
    r.forEach((d) => {
      d.addEventListener("pointerenter", l, s);
    }),
    a
  );
}
const j2 = (t, e) => (e ? (t === e ? !0 : j2(t, e.parentElement)) : !1),
  fy = (t) =>
    t.pointerType === "mouse"
      ? typeof t.button != "number" || t.button <= 0
      : t.isPrimary !== !1,
  mV = new Set(["BUTTON", "INPUT", "SELECT", "TEXTAREA", "A"]);
function gV(t) {
  return mV.has(t.tagName) || t.tabIndex !== -1;
}
const bd = new WeakSet();
function Gw(t) {
  return (e) => {
    e.key === "Enter" && t(e);
  };
}
function Np(t, e) {
  t.dispatchEvent(
    new PointerEvent("pointer" + e, { isPrimary: !0, bubbles: !0 })
  );
}
const yV = (t, e) => {
  const n = t.currentTarget;
  if (!n) return;
  const r = Gw(() => {
    if (bd.has(n)) return;
    Np(n, "down");
    const s = Gw(() => {
        Np(n, "up");
      }),
      a = () => Np(n, "cancel");
    n.addEventListener("keyup", s, e), n.addEventListener("blur", a, e);
  });
  n.addEventListener("keydown", r, e),
    n.addEventListener("blur", () => n.removeEventListener("keydown", r), e);
};
function Kw(t) {
  return fy(t) && !k2();
}
function vV(t, e, n = {}) {
  const [r, s, a] = N2(t, n),
    l = (d) => {
      const f = d.currentTarget;
      if (!Kw(d)) return;
      bd.add(f);
      const p = e(f, d),
        g = (P, b) => {
          window.removeEventListener("pointerup", w),
            window.removeEventListener("pointercancel", x),
            bd.has(f) && bd.delete(f),
            Kw(P) && typeof p == "function" && p(P, { success: b });
        },
        w = (P) => {
          g(
            P,
            f === window ||
              f === document ||
              n.useGlobalTarget ||
              j2(f, P.target)
          );
        },
        x = (P) => {
          g(P, !1);
        };
      window.addEventListener("pointerup", w, s),
        window.addEventListener("pointercancel", x, s);
    };
  return (
    r.forEach((d) => {
      (n.useGlobalTarget ? window : d).addEventListener("pointerdown", l, s),
        uy(d) &&
          (d.addEventListener("focus", (p) => yV(p, s)),
          !gV(d) && !d.hasAttribute("tabindex") && (d.tabIndex = 0));
    }),
    a
  );
}
function D2(t) {
  return GT(t) && "ownerSVGElement" in t;
}
function _V(t) {
  return D2(t) && t.tagName === "svg";
}
const en = (t) => !!(t && t.getVelocity),
  wV = [...b2, _t, us],
  xV = (t) => wV.find(I2(t)),
  py = L.createContext({
    transformPagePoint: (t) => t,
    isStatic: !1,
    reducedMotion: "never",
  });
class EV extends L.Component {
  getSnapshotBeforeUpdate(e) {
    const n = this.props.childRef.current;
    if (n && e.isPresent && !this.props.isPresent) {
      const r = n.offsetParent,
        s = (uy(r) && r.offsetWidth) || 0,
        a = this.props.sizeRef.current;
      (a.height = n.offsetHeight || 0),
        (a.width = n.offsetWidth || 0),
        (a.top = n.offsetTop),
        (a.left = n.offsetLeft),
        (a.right = s - a.width - a.left);
    }
    return null;
  }
  componentDidUpdate() {}
  render() {
    return this.props.children;
  }
}
function TV({ children: t, isPresent: e, anchorX: n, root: r }) {
  const s = L.useId(),
    a = L.useRef(null),
    l = L.useRef({ width: 0, height: 0, top: 0, left: 0, right: 0 }),
    { nonce: d } = L.useContext(py);
  return (
    L.useInsertionEffect(() => {
      const { width: f, height: p, top: g, left: w, right: x } = l.current;
      if (e || !a.current || !f || !p) return;
      const P = n === "left" ? `left: ${w}` : `right: ${x}`;
      a.current.dataset.motionPopId = s;
      const b = document.createElement("style");
      d && (b.nonce = d);
      const N = r ?? document.head;
      return (
        N.appendChild(b),
        b.sheet &&
          b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${P}px !important;
            top: ${g}px !important;
          }
        `),
        () => {
          N.removeChild(b), N.contains(b) && N.removeChild(b);
        }
      );
    }, [e]),
    v.jsx(EV, {
      isPresent: e,
      childRef: a,
      sizeRef: l,
      children: L.cloneElement(t, { ref: a }),
    })
  );
}
const PV = ({
  children: t,
  initial: e,
  isPresent: n,
  onExitComplete: r,
  custom: s,
  presenceAffectsLayout: a,
  mode: l,
  anchorX: d,
  root: f,
}) => {
  const p = Hg(SV),
    g = L.useId();
  let w = !0,
    x = L.useMemo(
      () => (
        (w = !1),
        {
          id: g,
          initial: e,
          isPresent: n,
          custom: s,
          onExitComplete: (P) => {
            p.set(P, !0);
            for (const b of p.values()) if (!b) return;
            r && r();
          },
          register: (P) => (p.set(P, !1), () => p.delete(P)),
        }
      ),
      [n, p, r]
    );
  return (
    a && w && (x = { ...x }),
    L.useMemo(() => {
      p.forEach((P, b) => p.set(b, !1));
    }, [n]),
    L.useEffect(() => {
      !n && !p.size && r && r();
    }, [n]),
    l === "popLayout" &&
      (t = v.jsx(TV, { isPresent: n, anchorX: d, root: f, children: t })),
    v.jsx(bh.Provider, { value: x, children: t })
  );
};
function SV() {
  return new Map();
}
function V2(t = !0) {
  const e = L.useContext(bh);
  if (e === null) return [!0, null];
  const { isPresent: n, onExitComplete: r, register: s } = e,
    a = L.useId();
  L.useEffect(() => {
    if (t) return s(a);
  }, [t]);
  const l = L.useCallback(() => t && r && r(a), [a, r, t]);
  return !n && r ? [!1, l] : [!0];
}
const hd = (t) => t.key || "";
function Qw(t) {
  const e = [];
  return (
    L.Children.forEach(t, (n) => {
      L.isValidElement(n) && e.push(n);
    }),
    e
  );
}
const Ch = ({
    children: t,
    custom: e,
    initial: n = !0,
    onExitComplete: r,
    presenceAffectsLayout: s = !0,
    mode: a = "sync",
    propagate: l = !1,
    anchorX: d = "left",
    root: f,
  }) => {
    const [p, g] = V2(l),
      w = L.useMemo(() => Qw(t), [t]),
      x = l && !p ? [] : w.map(hd),
      P = L.useRef(!0),
      b = L.useRef(w),
      N = Hg(() => new Map()),
      [k, $] = L.useState(w),
      [G, q] = L.useState(w);
    WT(() => {
      (P.current = !1), (b.current = w);
      for (let oe = 0; oe < G.length; oe++) {
        const C = hd(G[oe]);
        x.includes(C) ? N.delete(C) : N.get(C) !== !0 && N.set(C, !1);
      }
    }, [G, x.length, x.join("-")]);
    const Y = [];
    if (w !== k) {
      let oe = [...w];
      for (let C = 0; C < G.length; C++) {
        const I = G[C],
          A = hd(I);
        x.includes(A) || (oe.splice(C, 0, I), Y.push(I));
      }
      return a === "wait" && Y.length && (oe = Y), q(Qw(oe)), $(w), null;
    }
    const { forceRender: ne } = L.useContext($g);
    return v.jsx(v.Fragment, {
      children: G.map((oe) => {
        const C = hd(oe),
          I = l && !p ? !1 : w === G || x.includes(C),
          A = () => {
            if (N.has(C)) N.set(C, !0);
            else return;
            let D = !0;
            N.forEach((M) => {
              M || (D = !1);
            }),
              D &&
                (ne == null || ne(),
                q(b.current),
                l && (g == null || g()),
                r && r());
          };
        return v.jsx(
          PV,
          {
            isPresent: I,
            initial: !P.current || n ? void 0 : !1,
            custom: e,
            presenceAffectsLayout: s,
            mode: a,
            root: f,
            onExitComplete: I ? void 0 : A,
            anchorX: d,
            children: oe,
          },
          C
        );
      }),
    });
  },
  O2 = L.createContext({ strict: !1 }),
  Xw = {
    animation: [
      "animate",
      "variants",
      "whileHover",
      "whileTap",
      "exit",
      "whileInView",
      "whileFocus",
      "whileDrag",
    ],
    exit: ["exit"],
    drag: ["drag", "dragControls"],
    focus: ["whileFocus"],
    hover: ["whileHover", "onHoverStart", "onHoverEnd"],
    tap: ["whileTap", "onTap", "onTapStart", "onTapCancel"],
    pan: ["onPan", "onPanStart", "onPanSessionStart", "onPanEnd"],
    inView: ["whileInView", "onViewportEnter", "onViewportLeave"],
    layout: ["layout", "layoutId"],
  },
  Aa = {};
for (const t in Xw) Aa[t] = { isEnabled: (e) => Xw[t].some((n) => !!e[n]) };
function IV(t) {
  for (const e in t) Aa[e] = { ...Aa[e], ...t[e] };
}
const bV = new Set([
  "animate",
  "exit",
  "variants",
  "initial",
  "style",
  "values",
  "variants",
  "transition",
  "transformTemplate",
  "custom",
  "inherit",
  "onBeforeLayoutMeasure",
  "onAnimationStart",
  "onAnimationComplete",
  "onUpdate",
  "onDragStart",
  "onDrag",
  "onDragEnd",
  "onMeasureDragConstraints",
  "onDirectionLock",
  "onDragTransitionEnd",
  "_dragX",
  "_dragY",
  "onHoverStart",
  "onHoverEnd",
  "onViewportEnter",
  "onViewportLeave",
  "globalTapTarget",
  "ignoreStrict",
  "viewport",
]);
function eh(t) {
  return (
    t.startsWith("while") ||
    (t.startsWith("drag") && t !== "draggable") ||
    t.startsWith("layout") ||
    t.startsWith("onTap") ||
    t.startsWith("onPan") ||
    t.startsWith("onLayout") ||
    bV.has(t)
  );
}
let M2 = (t) => !eh(t);
function CV(t) {
  typeof t == "function" && (M2 = (e) => (e.startsWith("on") ? !eh(e) : t(e)));
}
try {
  CV(require("@emotion/is-prop-valid").default);
} catch {}
function AV(t, e, n) {
  const r = {};
  for (const s in t)
    (s === "values" && typeof t.values == "object") ||
      ((M2(s) ||
        (n === !0 && eh(s)) ||
        (!e && !eh(s)) ||
        (t.draggable && s.startsWith("onDrag"))) &&
        (r[s] = t[s]));
  return r;
}
function RV(t) {
  if (typeof Proxy > "u") return t;
  const e = new Map(),
    n = (...r) => t(...r);
  return new Proxy(n, {
    get: (r, s) =>
      s === "create" ? t : (e.has(s) || e.set(s, t(s)), e.get(s)),
  });
}
const Ah = L.createContext({});
function Rh(t) {
  return t !== null && typeof t == "object" && typeof t.start == "function";
}
function _u(t) {
  return typeof t == "string" || Array.isArray(t);
}
const my = [
    "animate",
    "whileInView",
    "whileFocus",
    "whileHover",
    "whileTap",
    "whileDrag",
    "exit",
  ],
  gy = ["initial", ...my];
function kh(t) {
  return Rh(t.animate) || gy.some((e) => _u(t[e]));
}
function L2(t) {
  return !!(kh(t) || t.variants);
}
function kV(t, e) {
  if (kh(t)) {
    const { initial: n, animate: r } = t;
    return {
      initial: n === !1 || _u(n) ? n : void 0,
      animate: _u(r) ? r : void 0,
    };
  }
  return t.inherit !== !1 ? e : {};
}
function NV(t) {
  const { initial: e, animate: n } = kV(t, L.useContext(Ah));
  return L.useMemo(() => ({ initial: e, animate: n }), [Yw(e), Yw(n)]);
}
function Yw(t) {
  return Array.isArray(t) ? t.join(" ") : t;
}
const jV = Symbol.for("motionComponentSymbol");
function pa(t) {
  return (
    t &&
    typeof t == "object" &&
    Object.prototype.hasOwnProperty.call(t, "current")
  );
}
function DV(t, e, n) {
  return L.useCallback(
    (r) => {
      r && t.onMount && t.onMount(r),
        e && (r ? e.mount(r) : e.unmount()),
        n && (typeof n == "function" ? n(r) : pa(n) && (n.current = r));
    },
    [e]
  );
}
const yy = (t) => t.replace(/([a-z])([A-Z])/gu, "$1-$2").toLowerCase(),
  VV = "framerAppearId",
  F2 = "data-" + yy(VV),
  U2 = L.createContext({});
function OV(t, e, n, r, s) {
  var N, k;
  const { visualElement: a } = L.useContext(Ah),
    l = L.useContext(O2),
    d = L.useContext(bh),
    f = L.useContext(py).reducedMotion,
    p = L.useRef(null);
  (r = r || l.renderer),
    !p.current &&
      r &&
      (p.current = r(t, {
        visualState: e,
        parent: a,
        props: n,
        presenceContext: d,
        blockInitialAnimation: d ? d.initial === !1 : !1,
        reducedMotionConfig: f,
      }));
  const g = p.current,
    w = L.useContext(U2);
  g &&
    !g.projection &&
    s &&
    (g.type === "html" || g.type === "svg") &&
    MV(p.current, n, s, w);
  const x = L.useRef(!1);
  L.useInsertionEffect(() => {
    g && x.current && g.update(n, d);
  });
  const P = n[F2],
    b = L.useRef(
      !!P &&
        !((N = window.MotionHandoffIsComplete) != null && N.call(window, P)) &&
        ((k = window.MotionHasOptimisedAnimation) == null
          ? void 0
          : k.call(window, P))
    );
  return (
    WT(() => {
      g &&
        ((x.current = !0),
        (window.MotionIsMounted = !0),
        g.updateFeatures(),
        hy.render(g.render),
        b.current && g.animationState && g.animationState.animateChanges());
    }),
    L.useEffect(() => {
      g &&
        (!b.current && g.animationState && g.animationState.animateChanges(),
        b.current &&
          (queueMicrotask(() => {
            var $;
            ($ = window.MotionHandoffMarkAsComplete) == null ||
              $.call(window, P);
          }),
          (b.current = !1)));
    }),
    g
  );
}
function MV(t, e, n, r) {
  const {
    layoutId: s,
    layout: a,
    drag: l,
    dragConstraints: d,
    layoutScroll: f,
    layoutRoot: p,
    layoutCrossfade: g,
  } = e;
  (t.projection = new n(
    t.latestValues,
    e["data-framer-portal-id"] ? void 0 : B2(t.parent)
  )),
    t.projection.setOptions({
      layoutId: s,
      layout: a,
      alwaysMeasureLayout: !!l || (d && pa(d)),
      visualElement: t,
      animationType: typeof a == "string" ? a : "both",
      initialPromotionConfig: r,
      crossfade: g,
      layoutScroll: f,
      layoutRoot: p,
    });
}
function B2(t) {
  if (t) return t.options.allowProjection !== !1 ? t.projection : B2(t.parent);
}
function LV({
  preloadedFeatures: t,
  createVisualElement: e,
  useRender: n,
  useVisualState: r,
  Component: s,
}) {
  t && IV(t);
  function a(d, f) {
    let p;
    const g = { ...L.useContext(py), ...d, layoutId: FV(d) },
      { isStatic: w } = g,
      x = NV(d),
      P = r(d, w);
    if (!w && Wg) {
      UV();
      const b = BV(g);
      (p = b.MeasureLayout),
        (x.visualElement = OV(s, P, g, e, b.ProjectionNode));
    }
    return v.jsxs(Ah.Provider, {
      value: x,
      children: [
        p && x.visualElement
          ? v.jsx(p, { visualElement: x.visualElement, ...g })
          : null,
        n(s, d, DV(P, x.visualElement, f), P, w, x.visualElement),
      ],
    });
  }
  a.displayName = `motion.${
    typeof s == "string" ? s : `create(${s.displayName ?? s.name ?? ""})`
  }`;
  const l = L.forwardRef(a);
  return (l[jV] = s), l;
}
function FV({ layoutId: t }) {
  const e = L.useContext($g).id;
  return e && t !== void 0 ? e + "-" + t : t;
}
function UV(t, e) {
  L.useContext(O2).strict;
}
function BV(t) {
  const { drag: e, layout: n } = Aa;
  if (!e && !n) return {};
  const r = { ...e, ...n };
  return {
    MeasureLayout:
      (e != null && e.isEnabled(t)) || (n != null && n.isEnabled(t))
        ? r.MeasureLayout
        : void 0,
    ProjectionNode: r.ProjectionNode,
  };
}
const wu = {};
function zV(t) {
  for (const e in t) (wu[e] = t[e]), Zg(e) && (wu[e].isCSSVariable = !0);
}
function z2(t, { layout: e, layoutId: n }) {
  return (
    Ua.has(t) ||
    t.startsWith("origin") ||
    ((e || n !== void 0) && (!!wu[t] || t === "opacity"))
  );
}
const $V = {
    x: "translateX",
    y: "translateY",
    z: "translateZ",
    transformPerspective: "perspective",
  },
  HV = Fa.length;
function WV(t, e, n) {
  let r = "",
    s = !0;
  for (let a = 0; a < HV; a++) {
    const l = Fa[a],
      d = t[l];
    if (d === void 0) continue;
    let f = !0;
    if (
      (typeof d == "number"
        ? (f = d === (l.startsWith("scale") ? 1 : 0))
        : (f = parseFloat(d) === 0),
      !f || n)
    ) {
      const p = R2(d, dy[l]);
      if (!f) {
        s = !1;
        const g = $V[l] || l;
        r += `${g}(${p}) `;
      }
      n && (e[l] = p);
    }
  }
  return (r = r.trim()), n ? (r = n(e, s ? "" : r)) : s && (r = "none"), r;
}
function vy(t, e, n) {
  const { style: r, vars: s, transformOrigin: a } = t;
  let l = !1,
    d = !1;
  for (const f in e) {
    const p = e[f];
    if (Ua.has(f)) {
      l = !0;
      continue;
    } else if (Zg(f)) {
      s[f] = p;
      continue;
    } else {
      const g = R2(p, dy[f]);
      f.startsWith("origin") ? ((d = !0), (a[f] = g)) : (r[f] = g);
    }
  }
  if (
    (e.transform ||
      (l || n
        ? (r.transform = WV(e, t.transform, n))
        : r.transform && (r.transform = "none")),
    d)
  ) {
    const { originX: f = "50%", originY: p = "50%", originZ: g = 0 } = a;
    r.transformOrigin = `${f} ${p} ${g}`;
  }
}
const _y = () => ({ style: {}, transform: {}, transformOrigin: {}, vars: {} });
function $2(t, e, n) {
  for (const r in e) !en(e[r]) && !z2(r, n) && (t[r] = e[r]);
}
function qV({ transformTemplate: t }, e) {
  return L.useMemo(() => {
    const n = _y();
    return vy(n, e, t), Object.assign({}, n.vars, n.style);
  }, [e]);
}
function GV(t, e) {
  const n = t.style || {},
    r = {};
  return $2(r, n, t), Object.assign(r, qV(t, e)), r;
}
function KV(t, e) {
  const n = {},
    r = GV(t, e);
  return (
    t.drag &&
      t.dragListener !== !1 &&
      ((n.draggable = !1),
      (r.userSelect = r.WebkitUserSelect = r.WebkitTouchCallout = "none"),
      (r.touchAction =
        t.drag === !0 ? "none" : `pan-${t.drag === "x" ? "y" : "x"}`)),
    t.tabIndex === void 0 &&
      (t.onTap || t.onTapStart || t.whileTap) &&
      (n.tabIndex = 0),
    (n.style = r),
    n
  );
}
const QV = { offset: "stroke-dashoffset", array: "stroke-dasharray" },
  XV = { offset: "strokeDashoffset", array: "strokeDasharray" };
function YV(t, e, n = 1, r = 0, s = !0) {
  t.pathLength = 1;
  const a = s ? QV : XV;
  t[a.offset] = Te.transform(-r);
  const l = Te.transform(e),
    d = Te.transform(n);
  t[a.array] = `${l} ${d}`;
}
function H2(
  t,
  {
    attrX: e,
    attrY: n,
    attrScale: r,
    pathLength: s,
    pathSpacing: a = 1,
    pathOffset: l = 0,
    ...d
  },
  f,
  p,
  g
) {
  if ((vy(t, d, p), f)) {
    t.style.viewBox && (t.attrs.viewBox = t.style.viewBox);
    return;
  }
  (t.attrs = t.style), (t.style = {});
  const { attrs: w, style: x } = t;
  w.transform && ((x.transform = w.transform), delete w.transform),
    (x.transform || w.transformOrigin) &&
      ((x.transformOrigin = w.transformOrigin ?? "50% 50%"),
      delete w.transformOrigin),
    x.transform &&
      ((x.transformBox = (g == null ? void 0 : g.transformBox) ?? "fill-box"),
      delete w.transformBox),
    e !== void 0 && (w.x = e),
    n !== void 0 && (w.y = n),
    r !== void 0 && (w.scale = r),
    s !== void 0 && YV(w, s, a, l, !1);
}
const W2 = () => ({ ..._y(), attrs: {} }),
  q2 = (t) => typeof t == "string" && t.toLowerCase() === "svg";
function JV(t, e, n, r) {
  const s = L.useMemo(() => {
    const a = W2();
    return (
      H2(a, e, q2(r), t.transformTemplate, t.style),
      { ...a.attrs, style: { ...a.style } }
    );
  }, [e]);
  if (t.style) {
    const a = {};
    $2(a, t.style, t), (s.style = { ...a, ...s.style });
  }
  return s;
}
const ZV = [
  "animate",
  "circle",
  "defs",
  "desc",
  "ellipse",
  "g",
  "image",
  "line",
  "filter",
  "marker",
  "mask",
  "metadata",
  "path",
  "pattern",
  "polygon",
  "polyline",
  "rect",
  "stop",
  "switch",
  "symbol",
  "svg",
  "text",
  "tspan",
  "use",
  "view",
];
function wy(t) {
  return typeof t != "string" || t.includes("-")
    ? !1
    : !!(ZV.indexOf(t) > -1 || /[A-Z]/u.test(t));
}
function e6(t = !1) {
  return (n, r, s, { latestValues: a }, l) => {
    const f = (wy(n) ? JV : KV)(r, a, l, n),
      p = AV(r, typeof n == "string", t),
      g = n !== L.Fragment ? { ...p, ...f, ref: s } : {},
      { children: w } = r,
      x = L.useMemo(() => (en(w) ? w.get() : w), [w]);
    return L.createElement(n, { ...g, children: x });
  };
}
function Jw(t) {
  const e = [{}, {}];
  return (
    t == null ||
      t.values.forEach((n, r) => {
        (e[0][r] = n.get()), (e[1][r] = n.getVelocity());
      }),
    e
  );
}
function xy(t, e, n, r) {
  if (typeof e == "function") {
    const [s, a] = Jw(r);
    e = e(n !== void 0 ? n : t.custom, s, a);
  }
  if (
    (typeof e == "string" && (e = t.variants && t.variants[e]),
    typeof e == "function")
  ) {
    const [s, a] = Jw(r);
    e = e(n !== void 0 ? n : t.custom, s, a);
  }
  return e;
}
function Cd(t) {
  return en(t) ? t.get() : t;
}
function t6({ scrapeMotionValuesFromProps: t, createRenderState: e }, n, r, s) {
  return { latestValues: n6(n, r, s, t), renderState: e() };
}
const G2 = (t) => (e, n) => {
  const r = L.useContext(Ah),
    s = L.useContext(bh),
    a = () => t6(t, e, r, s);
  return n ? a() : Hg(a);
};
function n6(t, e, n, r) {
  const s = {},
    a = r(t, {});
  for (const x in a) s[x] = Cd(a[x]);
  let { initial: l, animate: d } = t;
  const f = kh(t),
    p = L2(t);
  e &&
    p &&
    !f &&
    t.inherit !== !1 &&
    (l === void 0 && (l = e.initial), d === void 0 && (d = e.animate));
  let g = n ? n.initial === !1 : !1;
  g = g || l === !1;
  const w = g ? d : l;
  if (w && typeof w != "boolean" && !Rh(w)) {
    const x = Array.isArray(w) ? w : [w];
    for (let P = 0; P < x.length; P++) {
      const b = xy(t, x[P]);
      if (b) {
        const { transitionEnd: N, transition: k, ...$ } = b;
        for (const G in $) {
          let q = $[G];
          if (Array.isArray(q)) {
            const Y = g ? q.length - 1 : 0;
            q = q[Y];
          }
          q !== null && (s[G] = q);
        }
        for (const G in N) s[G] = N[G];
      }
    }
  }
  return s;
}
function Ey(t, e, n) {
  var a;
  const { style: r } = t,
    s = {};
  for (const l in r)
    (en(r[l]) ||
      (e.style && en(e.style[l])) ||
      z2(l, t) ||
      ((a = n == null ? void 0 : n.getValue(l)) == null
        ? void 0
        : a.liveStyle) !== void 0) &&
      (s[l] = r[l]);
  return s;
}
const r6 = {
  useVisualState: G2({
    scrapeMotionValuesFromProps: Ey,
    createRenderState: _y,
  }),
};
function K2(t, e, n) {
  const r = Ey(t, e, n);
  for (const s in t)
    if (en(t[s]) || en(e[s])) {
      const a =
        Fa.indexOf(s) !== -1
          ? "attr" + s.charAt(0).toUpperCase() + s.substring(1)
          : s;
      r[a] = t[s];
    }
  return r;
}
const i6 = {
  useVisualState: G2({
    scrapeMotionValuesFromProps: K2,
    createRenderState: W2,
  }),
};
function s6(t, e) {
  return function (r, { forwardMotionProps: s } = { forwardMotionProps: !1 }) {
    const l = {
      ...(wy(r) ? i6 : r6),
      preloadedFeatures: t,
      useRender: e6(s),
      createVisualElement: e,
      Component: r,
    };
    return LV(l);
  };
}
function xu(t, e, n) {
  const r = t.getProps();
  return xy(r, e, n !== void 0 ? n : r.custom, t);
}
const Am = (t) => Array.isArray(t);
function o6(t, e, n) {
  t.hasValue(e) ? t.getValue(e).set(n) : t.addValue(e, Ca(n));
}
function a6(t) {
  return Am(t) ? t[t.length - 1] || 0 : t;
}
function l6(t, e) {
  const n = xu(t, e);
  let { transitionEnd: r = {}, transition: s = {}, ...a } = n || {};
  a = { ...a, ...r };
  for (const l in a) {
    const d = a6(a[l]);
    o6(t, l, d);
  }
}
function u6(t) {
  return !!(en(t) && t.add);
}
function Rm(t, e) {
  const n = t.getValue("willChange");
  if (u6(n)) return n.add(e);
  if (!n && hi.WillChange) {
    const r = new hi.WillChange("auto");
    t.addValue("willChange", r), r.add(e);
  }
}
function Q2(t) {
  return t.props[F2];
}
const c6 = (t) => t !== null;
function d6(t, { repeat: e, repeatType: n = "loop" }, r) {
  const s = t.filter(c6),
    a = e && n !== "loop" && e % 2 === 1 ? 0 : s.length - 1;
  return s[a];
}
const h6 = { type: "spring", stiffness: 500, damping: 25, restSpeed: 10 },
  f6 = (t) => ({
    type: "spring",
    stiffness: 550,
    damping: t === 0 ? 2 * Math.sqrt(550) : 30,
    restSpeed: 10,
  }),
  p6 = { type: "keyframes", duration: 0.8 },
  m6 = { type: "keyframes", ease: [0.25, 0.1, 0.35, 1], duration: 0.3 },
  g6 = (t, { keyframes: e }) =>
    e.length > 2
      ? p6
      : Ua.has(t)
      ? t.startsWith("scale")
        ? f6(e[1])
        : h6
      : m6;
function y6({
  when: t,
  delay: e,
  delayChildren: n,
  staggerChildren: r,
  staggerDirection: s,
  repeat: a,
  repeatType: l,
  repeatDelay: d,
  from: f,
  elapsed: p,
  ...g
}) {
  return !!Object.keys(g).length;
}
const Ty =
  (t, e, n, r = {}, s, a) =>
  (l) => {
    const d = cy(r, t) || {},
      f = d.delay || r.delay || 0;
    let { elapsed: p = 0 } = r;
    p = p - Rr(f);
    const g = {
      keyframes: Array.isArray(n) ? n : [null, n],
      ease: "easeOut",
      velocity: e.getVelocity(),
      ...d,
      delay: -p,
      onUpdate: (x) => {
        e.set(x), d.onUpdate && d.onUpdate(x);
      },
      onComplete: () => {
        l(), d.onComplete && d.onComplete();
      },
      name: t,
      motionValue: e,
      element: a ? void 0 : s,
    };
    y6(d) || Object.assign(g, g6(t, g)),
      g.duration && (g.duration = Rr(g.duration)),
      g.repeatDelay && (g.repeatDelay = Rr(g.repeatDelay)),
      g.from !== void 0 && (g.keyframes[0] = g.from);
    let w = !1;
    if (
      ((g.type === !1 || (g.duration === 0 && !g.repeatDelay)) &&
        ((g.duration = 0), g.delay === 0 && (w = !0)),
      (hi.instantAnimations || hi.skipAnimations) &&
        ((w = !0), (g.duration = 0), (g.delay = 0)),
      (g.allowFlatten = !d.type && !d.ease),
      w && !a && e.get() !== void 0)
    ) {
      const x = d6(g.keyframes, d);
      if (x !== void 0) {
        et.update(() => {
          g.onUpdate(x), g.onComplete();
        });
        return;
      }
    }
    return d.isSync ? new ay(g) : new Y3(g);
  };
function v6({ protectedKeys: t, needsAnimating: e }, n) {
  const r = t.hasOwnProperty(n) && e[n] !== !0;
  return (e[n] = !1), r;
}
function X2(t, e, { delay: n = 0, transitionOverride: r, type: s } = {}) {
  let { transition: a = t.getDefaultTransition(), transitionEnd: l, ...d } = e;
  r && (a = r);
  const f = [],
    p = s && t.animationState && t.animationState.getState()[s];
  for (const g in d) {
    const w = t.getValue(g, t.latestValues[g] ?? null),
      x = d[g];
    if (x === void 0 || (p && v6(p, g))) continue;
    const P = { delay: n, ...cy(a || {}, g) },
      b = w.get();
    if (
      b !== void 0 &&
      !w.isAnimating &&
      !Array.isArray(x) &&
      x === b &&
      !P.velocity
    )
      continue;
    let N = !1;
    if (window.MotionHandoffAnimation) {
      const $ = Q2(t);
      if ($) {
        const G = window.MotionHandoffAnimation($, g, et);
        G !== null && ((P.startTime = G), (N = !0));
      }
    }
    Rm(t, g),
      w.start(
        Ty(g, w, x, t.shouldReduceMotion && S2.has(g) ? { type: !1 } : P, t, N)
      );
    const k = w.animation;
    k && f.push(k);
  }
  return (
    l &&
      Promise.all(f).then(() => {
        et.update(() => {
          l && l6(t, l);
        });
      }),
    f
  );
}
function km(t, e, n = {}) {
  var f;
  const r = xu(
    t,
    e,
    n.type === "exit"
      ? (f = t.presenceContext) == null
        ? void 0
        : f.custom
      : void 0
  );
  let { transition: s = t.getDefaultTransition() || {} } = r || {};
  n.transitionOverride && (s = n.transitionOverride);
  const a = r ? () => Promise.all(X2(t, r, n)) : () => Promise.resolve(),
    l =
      t.variantChildren && t.variantChildren.size
        ? (p = 0) => {
            const {
              delayChildren: g = 0,
              staggerChildren: w,
              staggerDirection: x,
            } = s;
            return _6(t, e, p, g, w, x, n);
          }
        : () => Promise.resolve(),
    { when: d } = s;
  if (d) {
    const [p, g] = d === "beforeChildren" ? [a, l] : [l, a];
    return p().then(() => g());
  } else return Promise.all([a(), l(n.delay)]);
}
function _6(t, e, n = 0, r = 0, s = 0, a = 1, l) {
  const d = [],
    f = t.variantChildren.size,
    p = (f - 1) * s,
    g = typeof r == "function",
    w = g ? (x) => r(x, f) : a === 1 ? (x = 0) => x * s : (x = 0) => p - x * s;
  return (
    Array.from(t.variantChildren)
      .sort(w6)
      .forEach((x, P) => {
        x.notify("AnimationStart", e),
          d.push(
            km(x, e, { ...l, delay: n + (g ? 0 : r) + w(P) }).then(() =>
              x.notify("AnimationComplete", e)
            )
          );
      }),
    Promise.all(d)
  );
}
function w6(t, e) {
  return t.sortNodePosition(e);
}
function x6(t, e, n = {}) {
  t.notify("AnimationStart", e);
  let r;
  if (Array.isArray(e)) {
    const s = e.map((a) => km(t, a, n));
    r = Promise.all(s);
  } else if (typeof e == "string") r = km(t, e, n);
  else {
    const s = typeof e == "function" ? xu(t, e, n.custom) : e;
    r = Promise.all(X2(t, s, n));
  }
  return r.then(() => {
    t.notify("AnimationComplete", e);
  });
}
function Y2(t, e) {
  if (!Array.isArray(e)) return !1;
  const n = e.length;
  if (n !== t.length) return !1;
  for (let r = 0; r < n; r++) if (e[r] !== t[r]) return !1;
  return !0;
}
const E6 = gy.length;
function J2(t) {
  if (!t) return;
  if (!t.isControllingVariants) {
    const n = t.parent ? J2(t.parent) || {} : {};
    return t.props.initial !== void 0 && (n.initial = t.props.initial), n;
  }
  const e = {};
  for (let n = 0; n < E6; n++) {
    const r = gy[n],
      s = t.props[r];
    (_u(s) || s === !1) && (e[r] = s);
  }
  return e;
}
const T6 = [...my].reverse(),
  P6 = my.length;
function S6(t) {
  return (e) =>
    Promise.all(e.map(({ animation: n, options: r }) => x6(t, n, r)));
}
function I6(t) {
  let e = S6(t),
    n = Zw(),
    r = !0;
  const s = (f) => (p, g) => {
    var x;
    const w = xu(
      t,
      g,
      f === "exit"
        ? (x = t.presenceContext) == null
          ? void 0
          : x.custom
        : void 0
    );
    if (w) {
      const { transition: P, transitionEnd: b, ...N } = w;
      p = { ...p, ...N, ...b };
    }
    return p;
  };
  function a(f) {
    e = f(t);
  }
  function l(f) {
    const { props: p } = t,
      g = J2(t.parent) || {},
      w = [],
      x = new Set();
    let P = {},
      b = 1 / 0;
    for (let k = 0; k < P6; k++) {
      const $ = T6[k],
        G = n[$],
        q = p[$] !== void 0 ? p[$] : g[$],
        Y = _u(q),
        ne = $ === f ? G.isActive : null;
      ne === !1 && (b = k);
      let oe = q === g[$] && q !== p[$] && Y;
      if (
        (oe && r && t.manuallyAnimateOnMount && (oe = !1),
        (G.protectedKeys = { ...P }),
        (!G.isActive && ne === null) ||
          (!q && !G.prevProp) ||
          Rh(q) ||
          typeof q == "boolean")
      )
        continue;
      const C = b6(G.prevProp, q);
      let I = C || ($ === f && G.isActive && !oe && Y) || (k > b && Y),
        A = !1;
      const D = Array.isArray(q) ? q : [q];
      let M = D.reduce(s($), {});
      ne === !1 && (M = {});
      const { prevResolvedValues: U = {} } = G,
        j = { ...U, ...M },
        Ye = (Ie) => {
          (I = !0),
            x.has(Ie) && ((A = !0), x.delete(Ie)),
            (G.needsAnimating[Ie] = !0);
          const ie = t.getValue(Ie);
          ie && (ie.liveStyle = !1);
        };
      for (const Ie in j) {
        const ie = M[Ie],
          ge = U[Ie];
        if (P.hasOwnProperty(Ie)) continue;
        let ae = !1;
        Am(ie) && Am(ge) ? (ae = !Y2(ie, ge)) : (ae = ie !== ge),
          ae
            ? ie != null
              ? Ye(Ie)
              : x.add(Ie)
            : ie !== void 0 && x.has(Ie)
            ? Ye(Ie)
            : (G.protectedKeys[Ie] = !0);
      }
      (G.prevProp = q),
        (G.prevResolvedValues = M),
        G.isActive && (P = { ...P, ...M }),
        r && t.blockInitialAnimation && (I = !1),
        I &&
          (!(oe && C) || A) &&
          w.push(...D.map((Ie) => ({ animation: Ie, options: { type: $ } })));
    }
    if (x.size) {
      const k = {};
      if (typeof p.initial != "boolean") {
        const $ = xu(t, Array.isArray(p.initial) ? p.initial[0] : p.initial);
        $ && $.transition && (k.transition = $.transition);
      }
      x.forEach(($) => {
        const G = t.getBaseTarget($),
          q = t.getValue($);
        q && (q.liveStyle = !0), (k[$] = G ?? null);
      }),
        w.push({ animation: k });
    }
    let N = !!w.length;
    return (
      r &&
        (p.initial === !1 || p.initial === p.animate) &&
        !t.manuallyAnimateOnMount &&
        (N = !1),
      (r = !1),
      N ? e(w) : Promise.resolve()
    );
  }
  function d(f, p) {
    var w;
    if (n[f].isActive === p) return Promise.resolve();
    (w = t.variantChildren) == null ||
      w.forEach((x) => {
        var P;
        return (P = x.animationState) == null ? void 0 : P.setActive(f, p);
      }),
      (n[f].isActive = p);
    const g = l(f);
    for (const x in n) n[x].protectedKeys = {};
    return g;
  }
  return {
    animateChanges: l,
    setActive: d,
    setAnimateFunction: a,
    getState: () => n,
    reset: () => {
      (n = Zw()), (r = !0);
    },
  };
}
function b6(t, e) {
  return typeof e == "string" ? e !== t : Array.isArray(e) ? !Y2(e, t) : !1;
}
function Ws(t = !1) {
  return {
    isActive: t,
    protectedKeys: {},
    needsAnimating: {},
    prevResolvedValues: {},
  };
}
function Zw() {
  return {
    animate: Ws(!0),
    whileInView: Ws(),
    whileHover: Ws(),
    whileTap: Ws(),
    whileDrag: Ws(),
    whileFocus: Ws(),
    exit: Ws(),
  };
}
class gs {
  constructor(e) {
    (this.isMounted = !1), (this.node = e);
  }
  update() {}
}
class C6 extends gs {
  constructor(e) {
    super(e), e.animationState || (e.animationState = I6(e));
  }
  updateAnimationControlsSubscription() {
    const { animate: e } = this.node.getProps();
    Rh(e) && (this.unmountControls = e.subscribe(this.node));
  }
  mount() {
    this.updateAnimationControlsSubscription();
  }
  update() {
    const { animate: e } = this.node.getProps(),
      { animate: n } = this.node.prevProps || {};
    e !== n && this.updateAnimationControlsSubscription();
  }
  unmount() {
    var e;
    this.node.animationState.reset(),
      (e = this.unmountControls) == null || e.call(this);
  }
}
let A6 = 0;
class R6 extends gs {
  constructor() {
    super(...arguments), (this.id = A6++);
  }
  update() {
    if (!this.node.presenceContext) return;
    const { isPresent: e, onExitComplete: n } = this.node.presenceContext,
      { isPresent: r } = this.node.prevPresenceContext || {};
    if (!this.node.animationState || e === r) return;
    const s = this.node.animationState.setActive("exit", !e);
    n &&
      !e &&
      s.then(() => {
        n(this.id);
      });
  }
  mount() {
    const { register: e, onExitComplete: n } = this.node.presenceContext || {};
    n && n(this.id), e && (this.unmount = e(this.id));
  }
  unmount() {}
}
const k6 = { animation: { Feature: C6 }, exit: { Feature: R6 } };
function Eu(t, e, n, r = { passive: !0 }) {
  return t.addEventListener(e, n, r), () => t.removeEventListener(e, n);
}
function Lu(t) {
  return { point: { x: t.pageX, y: t.pageY } };
}
const N6 = (t) => (e) => fy(e) && t(e, Lu(e));
function tu(t, e, n, r) {
  return Eu(t, e, N6(n), r);
}
function Z2({ top: t, left: e, right: n, bottom: r }) {
  return { x: { min: e, max: n }, y: { min: t, max: r } };
}
function j6({ x: t, y: e }) {
  return { top: e.min, right: t.max, bottom: e.max, left: t.min };
}
function D6(t, e) {
  if (!e) return t;
  const n = e({ x: t.left, y: t.top }),
    r = e({ x: t.right, y: t.bottom });
  return { top: n.y, left: n.x, bottom: r.y, right: r.x };
}
const eP = 1e-4,
  V6 = 1 - eP,
  O6 = 1 + eP,
  tP = 0.01,
  M6 = 0 - tP,
  L6 = 0 + tP;
function ln(t) {
  return t.max - t.min;
}
function F6(t, e, n) {
  return Math.abs(t - e) <= n;
}
function e1(t, e, n, r = 0.5) {
  (t.origin = r),
    (t.originPoint = it(e.min, e.max, t.origin)),
    (t.scale = ln(n) / ln(e)),
    (t.translate = it(n.min, n.max, t.origin) - t.originPoint),
    ((t.scale >= V6 && t.scale <= O6) || isNaN(t.scale)) && (t.scale = 1),
    ((t.translate >= M6 && t.translate <= L6) || isNaN(t.translate)) &&
      (t.translate = 0);
}
function nu(t, e, n, r) {
  e1(t.x, e.x, n.x, r ? r.originX : void 0),
    e1(t.y, e.y, n.y, r ? r.originY : void 0);
}
function t1(t, e, n) {
  (t.min = n.min + e.min), (t.max = t.min + ln(e));
}
function U6(t, e, n) {
  t1(t.x, e.x, n.x), t1(t.y, e.y, n.y);
}
function n1(t, e, n) {
  (t.min = e.min - n.min), (t.max = t.min + ln(e));
}
function ru(t, e, n) {
  n1(t.x, e.x, n.x), n1(t.y, e.y, n.y);
}
const r1 = () => ({ translate: 0, scale: 1, origin: 0, originPoint: 0 }),
  ma = () => ({ x: r1(), y: r1() }),
  i1 = () => ({ min: 0, max: 0 }),
  ht = () => ({ x: i1(), y: i1() });
function Bn(t) {
  return [t("x"), t("y")];
}
function jp(t) {
  return t === void 0 || t === 1;
}
function Nm({ scale: t, scaleX: e, scaleY: n }) {
  return !jp(t) || !jp(e) || !jp(n);
}
function Gs(t) {
  return (
    Nm(t) ||
    nP(t) ||
    t.z ||
    t.rotate ||
    t.rotateX ||
    t.rotateY ||
    t.skewX ||
    t.skewY
  );
}
function nP(t) {
  return s1(t.x) || s1(t.y);
}
function s1(t) {
  return t && t !== "0%";
}
function th(t, e, n) {
  const r = t - n,
    s = e * r;
  return n + s;
}
function o1(t, e, n, r, s) {
  return s !== void 0 && (t = th(t, s, r)), th(t, n, r) + e;
}
function jm(t, e = 0, n = 1, r, s) {
  (t.min = o1(t.min, e, n, r, s)), (t.max = o1(t.max, e, n, r, s));
}
function rP(t, { x: e, y: n }) {
  jm(t.x, e.translate, e.scale, e.originPoint),
    jm(t.y, n.translate, n.scale, n.originPoint);
}
const a1 = 0.999999999999,
  l1 = 1.0000000000001;
function B6(t, e, n, r = !1) {
  const s = n.length;
  if (!s) return;
  e.x = e.y = 1;
  let a, l;
  for (let d = 0; d < s; d++) {
    (a = n[d]), (l = a.projectionDelta);
    const { visualElement: f } = a.options;
    (f && f.props.style && f.props.style.display === "contents") ||
      (r &&
        a.options.layoutScroll &&
        a.scroll &&
        a !== a.root &&
        ya(t, { x: -a.scroll.offset.x, y: -a.scroll.offset.y }),
      l && ((e.x *= l.x.scale), (e.y *= l.y.scale), rP(t, l)),
      r && Gs(a.latestValues) && ya(t, a.latestValues));
  }
  e.x < l1 && e.x > a1 && (e.x = 1), e.y < l1 && e.y > a1 && (e.y = 1);
}
function ga(t, e) {
  (t.min = t.min + e), (t.max = t.max + e);
}
function u1(t, e, n, r, s = 0.5) {
  const a = it(t.min, t.max, s);
  jm(t, e, n, a, r);
}
function ya(t, e) {
  u1(t.x, e.x, e.scaleX, e.scale, e.originX),
    u1(t.y, e.y, e.scaleY, e.scale, e.originY);
}
function iP(t, e) {
  return Z2(D6(t.getBoundingClientRect(), e));
}
function z6(t, e, n) {
  const r = iP(t, n),
    { scroll: s } = e;
  return s && (ga(r.x, s.offset.x), ga(r.y, s.offset.y)), r;
}
const sP = ({ current: t }) => (t ? t.ownerDocument.defaultView : null),
  c1 = (t, e) => Math.abs(t - e);
function $6(t, e) {
  const n = c1(t.x, e.x),
    r = c1(t.y, e.y);
  return Math.sqrt(n ** 2 + r ** 2);
}
class oP {
  constructor(
    e,
    n,
    {
      transformPagePoint: r,
      contextWindow: s = window,
      dragSnapToOrigin: a = !1,
      distanceThreshold: l = 3,
    } = {}
  ) {
    if (
      ((this.startEvent = null),
      (this.lastMoveEvent = null),
      (this.lastMoveEventInfo = null),
      (this.handlers = {}),
      (this.contextWindow = window),
      (this.updatePoint = () => {
        if (!(this.lastMoveEvent && this.lastMoveEventInfo)) return;
        const x = Vp(this.lastMoveEventInfo, this.history),
          P = this.startEvent !== null,
          b = $6(x.offset, { x: 0, y: 0 }) >= this.distanceThreshold;
        if (!P && !b) return;
        const { point: N } = x,
          { timestamp: k } = zt;
        this.history.push({ ...N, timestamp: k });
        const { onStart: $, onMove: G } = this.handlers;
        P ||
          ($ && $(this.lastMoveEvent, x),
          (this.startEvent = this.lastMoveEvent)),
          G && G(this.lastMoveEvent, x);
      }),
      (this.handlePointerMove = (x, P) => {
        (this.lastMoveEvent = x),
          (this.lastMoveEventInfo = Dp(P, this.transformPagePoint)),
          et.update(this.updatePoint, !0);
      }),
      (this.handlePointerUp = (x, P) => {
        this.end();
        const { onEnd: b, onSessionEnd: N, resumeAnimation: k } = this.handlers;
        if (
          (this.dragSnapToOrigin && k && k(),
          !(this.lastMoveEvent && this.lastMoveEventInfo))
        )
          return;
        const $ = Vp(
          x.type === "pointercancel"
            ? this.lastMoveEventInfo
            : Dp(P, this.transformPagePoint),
          this.history
        );
        this.startEvent && b && b(x, $), N && N(x, $);
      }),
      !fy(e))
    )
      return;
    (this.dragSnapToOrigin = a),
      (this.handlers = n),
      (this.transformPagePoint = r),
      (this.distanceThreshold = l),
      (this.contextWindow = s || window);
    const d = Lu(e),
      f = Dp(d, this.transformPagePoint),
      { point: p } = f,
      { timestamp: g } = zt;
    this.history = [{ ...p, timestamp: g }];
    const { onSessionStart: w } = n;
    w && w(e, Vp(f, this.history)),
      (this.removeListeners = Vu(
        tu(this.contextWindow, "pointermove", this.handlePointerMove),
        tu(this.contextWindow, "pointerup", this.handlePointerUp),
        tu(this.contextWindow, "pointercancel", this.handlePointerUp)
      ));
  }
  updateHandlers(e) {
    this.handlers = e;
  }
  end() {
    this.removeListeners && this.removeListeners(), ls(this.updatePoint);
  }
}
function Dp(t, e) {
  return e ? { point: e(t.point) } : t;
}
function d1(t, e) {
  return { x: t.x - e.x, y: t.y - e.y };
}
function Vp({ point: t }, e) {
  return {
    point: t,
    delta: d1(t, aP(e)),
    offset: d1(t, H6(e)),
    velocity: W6(e, 0.1),
  };
}
function H6(t) {
  return t[0];
}
function aP(t) {
  return t[t.length - 1];
}
function W6(t, e) {
  if (t.length < 2) return { x: 0, y: 0 };
  let n = t.length - 1,
    r = null;
  const s = aP(t);
  for (; n >= 0 && ((r = t[n]), !(s.timestamp - r.timestamp > Rr(e))); ) n--;
  if (!r) return { x: 0, y: 0 };
  const a = kr(s.timestamp - r.timestamp);
  if (a === 0) return { x: 0, y: 0 };
  const l = { x: (s.x - r.x) / a, y: (s.y - r.y) / a };
  return l.x === 1 / 0 && (l.x = 0), l.y === 1 / 0 && (l.y = 0), l;
}
function q6(t, { min: e, max: n }, r) {
  return (
    e !== void 0 && t < e
      ? (t = r ? it(e, t, r.min) : Math.max(t, e))
      : n !== void 0 && t > n && (t = r ? it(n, t, r.max) : Math.min(t, n)),
    t
  );
}
function h1(t, e, n) {
  return {
    min: e !== void 0 ? t.min + e : void 0,
    max: n !== void 0 ? t.max + n - (t.max - t.min) : void 0,
  };
}
function G6(t, { top: e, left: n, bottom: r, right: s }) {
  return { x: h1(t.x, n, s), y: h1(t.y, e, r) };
}
function f1(t, e) {
  let n = e.min - t.min,
    r = e.max - t.max;
  return e.max - e.min < t.max - t.min && ([n, r] = [r, n]), { min: n, max: r };
}
function K6(t, e) {
  return { x: f1(t.x, e.x), y: f1(t.y, e.y) };
}
function Q6(t, e) {
  let n = 0.5;
  const r = ln(t),
    s = ln(e);
  return (
    s > r
      ? (n = gu(e.min, e.max - r, t.min))
      : r > s && (n = gu(t.min, t.max - s, e.min)),
    di(0, 1, n)
  );
}
function X6(t, e) {
  const n = {};
  return (
    e.min !== void 0 && (n.min = e.min - t.min),
    e.max !== void 0 && (n.max = e.max - t.min),
    n
  );
}
const Dm = 0.35;
function Y6(t = Dm) {
  return (
    t === !1 ? (t = 0) : t === !0 && (t = Dm),
    { x: p1(t, "left", "right"), y: p1(t, "top", "bottom") }
  );
}
function p1(t, e, n) {
  return { min: m1(t, e), max: m1(t, n) };
}
function m1(t, e) {
  return typeof t == "number" ? t : t[e] || 0;
}
const J6 = new WeakMap();
class Z6 {
  constructor(e) {
    (this.openDragLock = null),
      (this.isDragging = !1),
      (this.currentDirection = null),
      (this.originPoint = { x: 0, y: 0 }),
      (this.constraints = !1),
      (this.hasMutatedConstraints = !1),
      (this.elastic = ht()),
      (this.latestPointerEvent = null),
      (this.latestPanInfo = null),
      (this.visualElement = e);
  }
  start(e, { snapToCursor: n = !1, distanceThreshold: r } = {}) {
    const { presenceContext: s } = this.visualElement;
    if (s && s.isPresent === !1) return;
    const a = (w) => {
        const { dragSnapToOrigin: x } = this.getProps();
        x ? this.pauseAnimation() : this.stopAnimation(),
          n && this.snapToCursor(Lu(w).point);
      },
      l = (w, x) => {
        const { drag: P, dragPropagation: b, onDragStart: N } = this.getProps();
        if (
          P &&
          !b &&
          (this.openDragLock && this.openDragLock(),
          (this.openDragLock = fV(P)),
          !this.openDragLock)
        )
          return;
        (this.latestPointerEvent = w),
          (this.latestPanInfo = x),
          (this.isDragging = !0),
          (this.currentDirection = null),
          this.resolveConstraints(),
          this.visualElement.projection &&
            ((this.visualElement.projection.isAnimationBlocked = !0),
            (this.visualElement.projection.target = void 0)),
          Bn(($) => {
            let G = this.getAxisMotionValue($).get() || 0;
            if (Nr.test(G)) {
              const { projection: q } = this.visualElement;
              if (q && q.layout) {
                const Y = q.layout.layoutBox[$];
                Y && (G = ln(Y) * (parseFloat(G) / 100));
              }
            }
            this.originPoint[$] = G;
          }),
          N && et.postRender(() => N(w, x)),
          Rm(this.visualElement, "transform");
        const { animationState: k } = this.visualElement;
        k && k.setActive("whileDrag", !0);
      },
      d = (w, x) => {
        (this.latestPointerEvent = w), (this.latestPanInfo = x);
        const {
          dragPropagation: P,
          dragDirectionLock: b,
          onDirectionLock: N,
          onDrag: k,
        } = this.getProps();
        if (!P && !this.openDragLock) return;
        const { offset: $ } = x;
        if (b && this.currentDirection === null) {
          (this.currentDirection = eO($)),
            this.currentDirection !== null && N && N(this.currentDirection);
          return;
        }
        this.updateAxis("x", x.point, $),
          this.updateAxis("y", x.point, $),
          this.visualElement.render(),
          k && k(w, x);
      },
      f = (w, x) => {
        (this.latestPointerEvent = w),
          (this.latestPanInfo = x),
          this.stop(w, x),
          (this.latestPointerEvent = null),
          (this.latestPanInfo = null);
      },
      p = () =>
        Bn((w) => {
          var x;
          return (
            this.getAnimationState(w) === "paused" &&
            ((x = this.getAxisMotionValue(w).animation) == null
              ? void 0
              : x.play())
          );
        }),
      { dragSnapToOrigin: g } = this.getProps();
    this.panSession = new oP(
      e,
      {
        onSessionStart: a,
        onStart: l,
        onMove: d,
        onSessionEnd: f,
        resumeAnimation: p,
      },
      {
        transformPagePoint: this.visualElement.getTransformPagePoint(),
        dragSnapToOrigin: g,
        distanceThreshold: r,
        contextWindow: sP(this.visualElement),
      }
    );
  }
  stop(e, n) {
    const r = e || this.latestPointerEvent,
      s = n || this.latestPanInfo,
      a = this.isDragging;
    if ((this.cancel(), !a || !s || !r)) return;
    const { velocity: l } = s;
    this.startAnimation(l);
    const { onDragEnd: d } = this.getProps();
    d && et.postRender(() => d(r, s));
  }
  cancel() {
    this.isDragging = !1;
    const { projection: e, animationState: n } = this.visualElement;
    e && (e.isAnimationBlocked = !1),
      this.panSession && this.panSession.end(),
      (this.panSession = void 0);
    const { dragPropagation: r } = this.getProps();
    !r &&
      this.openDragLock &&
      (this.openDragLock(), (this.openDragLock = null)),
      n && n.setActive("whileDrag", !1);
  }
  updateAxis(e, n, r) {
    const { drag: s } = this.getProps();
    if (!r || !fd(e, s, this.currentDirection)) return;
    const a = this.getAxisMotionValue(e);
    let l = this.originPoint[e] + r[e];
    this.constraints &&
      this.constraints[e] &&
      (l = q6(l, this.constraints[e], this.elastic[e])),
      a.set(l);
  }
  resolveConstraints() {
    var a;
    const { dragConstraints: e, dragElastic: n } = this.getProps(),
      r =
        this.visualElement.projection && !this.visualElement.projection.layout
          ? this.visualElement.projection.measure(!1)
          : (a = this.visualElement.projection) == null
          ? void 0
          : a.layout,
      s = this.constraints;
    e && pa(e)
      ? this.constraints || (this.constraints = this.resolveRefConstraints())
      : e && r
      ? (this.constraints = G6(r.layoutBox, e))
      : (this.constraints = !1),
      (this.elastic = Y6(n)),
      s !== this.constraints &&
        r &&
        this.constraints &&
        !this.hasMutatedConstraints &&
        Bn((l) => {
          this.constraints !== !1 &&
            this.getAxisMotionValue(l) &&
            (this.constraints[l] = X6(r.layoutBox[l], this.constraints[l]));
        });
  }
  resolveRefConstraints() {
    const { dragConstraints: e, onMeasureDragConstraints: n } = this.getProps();
    if (!e || !pa(e)) return !1;
    const r = e.current,
      { projection: s } = this.visualElement;
    if (!s || !s.layout) return !1;
    const a = z6(r, s.root, this.visualElement.getTransformPagePoint());
    let l = K6(s.layout.layoutBox, a);
    if (n) {
      const d = n(j6(l));
      (this.hasMutatedConstraints = !!d), d && (l = Z2(d));
    }
    return l;
  }
  startAnimation(e) {
    const {
        drag: n,
        dragMomentum: r,
        dragElastic: s,
        dragTransition: a,
        dragSnapToOrigin: l,
        onDragTransitionEnd: d,
      } = this.getProps(),
      f = this.constraints || {},
      p = Bn((g) => {
        if (!fd(g, n, this.currentDirection)) return;
        let w = (f && f[g]) || {};
        l && (w = { min: 0, max: 0 });
        const x = s ? 200 : 1e6,
          P = s ? 40 : 1e7,
          b = {
            type: "inertia",
            velocity: r ? e[g] : 0,
            bounceStiffness: x,
            bounceDamping: P,
            timeConstant: 750,
            restDelta: 1,
            restSpeed: 10,
            ...a,
            ...w,
          };
        return this.startAxisValueAnimation(g, b);
      });
    return Promise.all(p).then(d);
  }
  startAxisValueAnimation(e, n) {
    const r = this.getAxisMotionValue(e);
    return (
      Rm(this.visualElement, e), r.start(Ty(e, r, 0, n, this.visualElement, !1))
    );
  }
  stopAnimation() {
    Bn((e) => this.getAxisMotionValue(e).stop());
  }
  pauseAnimation() {
    Bn((e) => {
      var n;
      return (n = this.getAxisMotionValue(e).animation) == null
        ? void 0
        : n.pause();
    });
  }
  getAnimationState(e) {
    var n;
    return (n = this.getAxisMotionValue(e).animation) == null
      ? void 0
      : n.state;
  }
  getAxisMotionValue(e) {
    const n = `_drag${e.toUpperCase()}`,
      r = this.visualElement.getProps(),
      s = r[n];
    return (
      s ||
      this.visualElement.getValue(e, (r.initial ? r.initial[e] : void 0) || 0)
    );
  }
  snapToCursor(e) {
    Bn((n) => {
      const { drag: r } = this.getProps();
      if (!fd(n, r, this.currentDirection)) return;
      const { projection: s } = this.visualElement,
        a = this.getAxisMotionValue(n);
      if (s && s.layout) {
        const { min: l, max: d } = s.layout.layoutBox[n];
        a.set(e[n] - it(l, d, 0.5));
      }
    });
  }
  scalePositionWithinConstraints() {
    if (!this.visualElement.current) return;
    const { drag: e, dragConstraints: n } = this.getProps(),
      { projection: r } = this.visualElement;
    if (!pa(n) || !r || !this.constraints) return;
    this.stopAnimation();
    const s = { x: 0, y: 0 };
    Bn((l) => {
      const d = this.getAxisMotionValue(l);
      if (d && this.constraints !== !1) {
        const f = d.get();
        s[l] = Q6({ min: f, max: f }, this.constraints[l]);
      }
    });
    const { transformTemplate: a } = this.visualElement.getProps();
    (this.visualElement.current.style.transform = a ? a({}, "") : "none"),
      r.root && r.root.updateScroll(),
      r.updateLayout(),
      this.resolveConstraints(),
      Bn((l) => {
        if (!fd(l, e, null)) return;
        const d = this.getAxisMotionValue(l),
          { min: f, max: p } = this.constraints[l];
        d.set(it(f, p, s[l]));
      });
  }
  addListeners() {
    if (!this.visualElement.current) return;
    J6.set(this.visualElement, this);
    const e = this.visualElement.current,
      n = tu(e, "pointerdown", (f) => {
        const { drag: p, dragListener: g = !0 } = this.getProps();
        p && g && this.start(f);
      }),
      r = () => {
        const { dragConstraints: f } = this.getProps();
        pa(f) && f.current && (this.constraints = this.resolveRefConstraints());
      },
      { projection: s } = this.visualElement,
      a = s.addEventListener("measure", r);
    s && !s.layout && (s.root && s.root.updateScroll(), s.updateLayout()),
      et.read(r);
    const l = Eu(window, "resize", () => this.scalePositionWithinConstraints()),
      d = s.addEventListener(
        "didUpdate",
        ({ delta: f, hasLayoutChanged: p }) => {
          this.isDragging &&
            p &&
            (Bn((g) => {
              const w = this.getAxisMotionValue(g);
              w &&
                ((this.originPoint[g] += f[g].translate),
                w.set(w.get() + f[g].translate));
            }),
            this.visualElement.render());
        }
      );
    return () => {
      l(), n(), a(), d && d();
    };
  }
  getProps() {
    const e = this.visualElement.getProps(),
      {
        drag: n = !1,
        dragDirectionLock: r = !1,
        dragPropagation: s = !1,
        dragConstraints: a = !1,
        dragElastic: l = Dm,
        dragMomentum: d = !0,
      } = e;
    return {
      ...e,
      drag: n,
      dragDirectionLock: r,
      dragPropagation: s,
      dragConstraints: a,
      dragElastic: l,
      dragMomentum: d,
    };
  }
}
function fd(t, e, n) {
  return (e === !0 || e === t) && (n === null || n === t);
}
function eO(t, e = 10) {
  let n = null;
  return Math.abs(t.y) > e ? (n = "y") : Math.abs(t.x) > e && (n = "x"), n;
}
class tO extends gs {
  constructor(e) {
    super(e),
      (this.removeGroupControls = $n),
      (this.removeListeners = $n),
      (this.controls = new Z6(e));
  }
  mount() {
    const { dragControls: e } = this.node.getProps();
    e && (this.removeGroupControls = e.subscribe(this.controls)),
      (this.removeListeners = this.controls.addListeners() || $n);
  }
  unmount() {
    this.removeGroupControls(), this.removeListeners();
  }
}
const g1 = (t) => (e, n) => {
  t && et.postRender(() => t(e, n));
};
class nO extends gs {
  constructor() {
    super(...arguments), (this.removePointerDownListener = $n);
  }
  onPointerDown(e) {
    this.session = new oP(e, this.createPanHandlers(), {
      transformPagePoint: this.node.getTransformPagePoint(),
      contextWindow: sP(this.node),
    });
  }
  createPanHandlers() {
    const {
      onPanSessionStart: e,
      onPanStart: n,
      onPan: r,
      onPanEnd: s,
    } = this.node.getProps();
    return {
      onSessionStart: g1(e),
      onStart: g1(n),
      onMove: r,
      onEnd: (a, l) => {
        delete this.session, s && et.postRender(() => s(a, l));
      },
    };
  }
  mount() {
    this.removePointerDownListener = tu(this.node.current, "pointerdown", (e) =>
      this.onPointerDown(e)
    );
  }
  update() {
    this.session && this.session.updateHandlers(this.createPanHandlers());
  }
  unmount() {
    this.removePointerDownListener(), this.session && this.session.end();
  }
}
const Ad = { hasAnimatedSinceResize: !0, hasEverUpdated: !1 };
function y1(t, e) {
  return e.max === e.min ? 0 : (t / (e.max - e.min)) * 100;
}
const Ml = {
    correct: (t, e) => {
      if (!e.target) return t;
      if (typeof t == "string")
        if (Te.test(t)) t = parseFloat(t);
        else return t;
      const n = y1(t, e.target.x),
        r = y1(t, e.target.y);
      return `${n}% ${r}%`;
    },
  },
  rO = {
    correct: (t, { treeScale: e, projectionDelta: n }) => {
      const r = t,
        s = us.parse(t);
      if (s.length > 5) return r;
      const a = us.createTransformer(t),
        l = typeof s[0] != "number" ? 1 : 0,
        d = n.x.scale * e.x,
        f = n.y.scale * e.y;
      (s[0 + l] /= d), (s[1 + l] /= f);
      const p = it(d, f, 0.5);
      return (
        typeof s[2 + l] == "number" && (s[2 + l] /= p),
        typeof s[3 + l] == "number" && (s[3 + l] /= p),
        a(s)
      );
    },
  };
let v1 = !1;
class iO extends L.Component {
  componentDidMount() {
    const {
        visualElement: e,
        layoutGroup: n,
        switchLayoutGroup: r,
        layoutId: s,
      } = this.props,
      { projection: a } = e;
    zV(sO),
      a &&
        (n.group && n.group.add(a),
        r && r.register && s && r.register(a),
        v1 && a.root.didUpdate(),
        a.addEventListener("animationComplete", () => {
          this.safeToRemove();
        }),
        a.setOptions({
          ...a.options,
          onExitComplete: () => this.safeToRemove(),
        })),
      (Ad.hasEverUpdated = !0);
  }
  getSnapshotBeforeUpdate(e) {
    const {
        layoutDependency: n,
        visualElement: r,
        drag: s,
        isPresent: a,
      } = this.props,
      { projection: l } = r;
    return (
      l &&
        ((l.isPresent = a),
        (v1 = !0),
        s || e.layoutDependency !== n || n === void 0 || e.isPresent !== a
          ? l.willUpdate()
          : this.safeToRemove(),
        e.isPresent !== a &&
          (a
            ? l.promote()
            : l.relegate() ||
              et.postRender(() => {
                const d = l.getStack();
                (!d || !d.members.length) && this.safeToRemove();
              }))),
      null
    );
  }
  componentDidUpdate() {
    const { projection: e } = this.props.visualElement;
    e &&
      (e.root.didUpdate(),
      hy.postRender(() => {
        !e.currentAnimation && e.isLead() && this.safeToRemove();
      }));
  }
  componentWillUnmount() {
    const {
        visualElement: e,
        layoutGroup: n,
        switchLayoutGroup: r,
      } = this.props,
      { projection: s } = e;
    s &&
      (s.scheduleCheckAfterUnmount(),
      n && n.group && n.group.remove(s),
      r && r.deregister && r.deregister(s));
  }
  safeToRemove() {
    const { safeToRemove: e } = this.props;
    e && e();
  }
  render() {
    return null;
  }
}
function lP(t) {
  const [e, n] = V2(),
    r = L.useContext($g);
  return v.jsx(iO, {
    ...t,
    layoutGroup: r,
    switchLayoutGroup: L.useContext(U2),
    isPresent: e,
    safeToRemove: n,
  });
}
const sO = {
  borderRadius: {
    ...Ml,
    applyTo: [
      "borderTopLeftRadius",
      "borderTopRightRadius",
      "borderBottomLeftRadius",
      "borderBottomRightRadius",
    ],
  },
  borderTopLeftRadius: Ml,
  borderTopRightRadius: Ml,
  borderBottomLeftRadius: Ml,
  borderBottomRightRadius: Ml,
  boxShadow: rO,
};
function oO(t, e, n) {
  const r = en(t) ? t : Ca(t);
  return r.start(Ty("", r, e, n)), r.animation;
}
const aO = (t, e) => t.depth - e.depth;
class lO {
  constructor() {
    (this.children = []), (this.isDirty = !1);
  }
  add(e) {
    qg(this.children, e), (this.isDirty = !0);
  }
  remove(e) {
    Gg(this.children, e), (this.isDirty = !0);
  }
  forEach(e) {
    this.isDirty && this.children.sort(aO),
      (this.isDirty = !1),
      this.children.forEach(e);
  }
}
function uO(t, e) {
  const n = _n.now(),
    r = ({ timestamp: s }) => {
      const a = s - n;
      a >= e && (ls(r), t(a - e));
    };
  return et.setup(r, !0), () => ls(r);
}
const uP = ["TopLeft", "TopRight", "BottomLeft", "BottomRight"],
  cO = uP.length,
  _1 = (t) => (typeof t == "string" ? parseFloat(t) : t),
  w1 = (t) => typeof t == "number" || Te.test(t);
function dO(t, e, n, r, s, a) {
  s
    ? ((t.opacity = it(0, n.opacity ?? 1, hO(r))),
      (t.opacityExit = it(e.opacity ?? 1, 0, fO(r))))
    : a && (t.opacity = it(e.opacity ?? 1, n.opacity ?? 1, r));
  for (let l = 0; l < cO; l++) {
    const d = `border${uP[l]}Radius`;
    let f = x1(e, d),
      p = x1(n, d);
    if (f === void 0 && p === void 0) continue;
    f || (f = 0),
      p || (p = 0),
      f === 0 || p === 0 || w1(f) === w1(p)
        ? ((t[d] = Math.max(it(_1(f), _1(p), r), 0)),
          (Nr.test(p) || Nr.test(f)) && (t[d] += "%"))
        : (t[d] = p);
  }
  (e.rotate || n.rotate) && (t.rotate = it(e.rotate || 0, n.rotate || 0, r));
}
function x1(t, e) {
  return t[e] !== void 0 ? t[e] : t.borderRadius;
}
const hO = cP(0, 0.5, n2),
  fO = cP(0.5, 0.95, $n);
function cP(t, e, n) {
  return (r) => (r < t ? 0 : r > e ? 1 : n(gu(t, e, r)));
}
function E1(t, e) {
  (t.min = e.min), (t.max = e.max);
}
function Un(t, e) {
  E1(t.x, e.x), E1(t.y, e.y);
}
function T1(t, e) {
  (t.translate = e.translate),
    (t.scale = e.scale),
    (t.originPoint = e.originPoint),
    (t.origin = e.origin);
}
function P1(t, e, n, r, s) {
  return (
    (t -= e), (t = th(t, 1 / n, r)), s !== void 0 && (t = th(t, 1 / s, r)), t
  );
}
function pO(t, e = 0, n = 1, r = 0.5, s, a = t, l = t) {
  if (
    (Nr.test(e) &&
      ((e = parseFloat(e)), (e = it(l.min, l.max, e / 100) - l.min)),
    typeof e != "number")
  )
    return;
  let d = it(a.min, a.max, r);
  t === a && (d -= e),
    (t.min = P1(t.min, e, n, d, s)),
    (t.max = P1(t.max, e, n, d, s));
}
function S1(t, e, [n, r, s], a, l) {
  pO(t, e[n], e[r], e[s], e.scale, a, l);
}
const mO = ["x", "scaleX", "originX"],
  gO = ["y", "scaleY", "originY"];
function I1(t, e, n, r) {
  S1(t.x, e, mO, n ? n.x : void 0, r ? r.x : void 0),
    S1(t.y, e, gO, n ? n.y : void 0, r ? r.y : void 0);
}
function b1(t) {
  return t.translate === 0 && t.scale === 1;
}
function dP(t) {
  return b1(t.x) && b1(t.y);
}
function C1(t, e) {
  return t.min === e.min && t.max === e.max;
}
function yO(t, e) {
  return C1(t.x, e.x) && C1(t.y, e.y);
}
function A1(t, e) {
  return (
    Math.round(t.min) === Math.round(e.min) &&
    Math.round(t.max) === Math.round(e.max)
  );
}
function hP(t, e) {
  return A1(t.x, e.x) && A1(t.y, e.y);
}
function R1(t) {
  return ln(t.x) / ln(t.y);
}
function k1(t, e) {
  return (
    t.translate === e.translate &&
    t.scale === e.scale &&
    t.originPoint === e.originPoint
  );
}
class vO {
  constructor() {
    this.members = [];
  }
  add(e) {
    qg(this.members, e), e.scheduleRender();
  }
  remove(e) {
    if (
      (Gg(this.members, e),
      e === this.prevLead && (this.prevLead = void 0),
      e === this.lead)
    ) {
      const n = this.members[this.members.length - 1];
      n && this.promote(n);
    }
  }
  relegate(e) {
    const n = this.members.findIndex((s) => e === s);
    if (n === 0) return !1;
    let r;
    for (let s = n; s >= 0; s--) {
      const a = this.members[s];
      if (a.isPresent !== !1) {
        r = a;
        break;
      }
    }
    return r ? (this.promote(r), !0) : !1;
  }
  promote(e, n) {
    const r = this.lead;
    if (e !== r && ((this.prevLead = r), (this.lead = e), e.show(), r)) {
      r.instance && r.scheduleRender(),
        e.scheduleRender(),
        (e.resumeFrom = r),
        n && (e.resumeFrom.preserveOpacity = !0),
        r.snapshot &&
          ((e.snapshot = r.snapshot),
          (e.snapshot.latestValues = r.animationValues || r.latestValues)),
        e.root && e.root.isUpdating && (e.isLayoutDirty = !0);
      const { crossfade: s } = e.options;
      s === !1 && r.hide();
    }
  }
  exitAnimationComplete() {
    this.members.forEach((e) => {
      const { options: n, resumingFrom: r } = e;
      n.onExitComplete && n.onExitComplete(),
        r && r.options.onExitComplete && r.options.onExitComplete();
    });
  }
  scheduleRender() {
    this.members.forEach((e) => {
      e.instance && e.scheduleRender(!1);
    });
  }
  removeLeadSnapshot() {
    this.lead && this.lead.snapshot && (this.lead.snapshot = void 0);
  }
}
function _O(t, e, n) {
  let r = "";
  const s = t.x.translate / e.x,
    a = t.y.translate / e.y,
    l = (n == null ? void 0 : n.z) || 0;
  if (
    ((s || a || l) && (r = `translate3d(${s}px, ${a}px, ${l}px) `),
    (e.x !== 1 || e.y !== 1) && (r += `scale(${1 / e.x}, ${1 / e.y}) `),
    n)
  ) {
    const {
      transformPerspective: p,
      rotate: g,
      rotateX: w,
      rotateY: x,
      skewX: P,
      skewY: b,
    } = n;
    p && (r = `perspective(${p}px) ${r}`),
      g && (r += `rotate(${g}deg) `),
      w && (r += `rotateX(${w}deg) `),
      x && (r += `rotateY(${x}deg) `),
      P && (r += `skewX(${P}deg) `),
      b && (r += `skewY(${b}deg) `);
  }
  const d = t.x.scale * e.x,
    f = t.y.scale * e.y;
  return (d !== 1 || f !== 1) && (r += `scale(${d}, ${f})`), r || "none";
}
const Op = ["", "X", "Y", "Z"],
  wO = 1e3;
let xO = 0;
function Mp(t, e, n, r) {
  const { latestValues: s } = e;
  s[t] && ((n[t] = s[t]), e.setStaticValue(t, 0), r && (r[t] = 0));
}
function fP(t) {
  if (((t.hasCheckedOptimisedAppear = !0), t.root === t)) return;
  const { visualElement: e } = t.options;
  if (!e) return;
  const n = Q2(e);
  if (window.MotionHasOptimisedAnimation(n, "transform")) {
    const { layout: s, layoutId: a } = t.options;
    window.MotionCancelOptimisedAnimation(n, "transform", et, !(s || a));
  }
  const { parent: r } = t;
  r && !r.hasCheckedOptimisedAppear && fP(r);
}
function pP({
  attachResizeListener: t,
  defaultParent: e,
  measureScroll: n,
  checkIsScrollRoot: r,
  resetTransform: s,
}) {
  return class {
    constructor(l = {}, d = e == null ? void 0 : e()) {
      (this.id = xO++),
        (this.animationId = 0),
        (this.animationCommitId = 0),
        (this.children = new Set()),
        (this.options = {}),
        (this.isTreeAnimating = !1),
        (this.isAnimationBlocked = !1),
        (this.isLayoutDirty = !1),
        (this.isProjectionDirty = !1),
        (this.isSharedProjectionDirty = !1),
        (this.isTransformDirty = !1),
        (this.updateManuallyBlocked = !1),
        (this.updateBlockedByResize = !1),
        (this.isUpdating = !1),
        (this.isSVG = !1),
        (this.needsReset = !1),
        (this.shouldResetTransform = !1),
        (this.hasCheckedOptimisedAppear = !1),
        (this.treeScale = { x: 1, y: 1 }),
        (this.eventHandlers = new Map()),
        (this.hasTreeAnimated = !1),
        (this.updateScheduled = !1),
        (this.scheduleUpdate = () => this.update()),
        (this.projectionUpdateScheduled = !1),
        (this.checkUpdateFailed = () => {
          this.isUpdating && ((this.isUpdating = !1), this.clearAllSnapshots());
        }),
        (this.updateProjection = () => {
          (this.projectionUpdateScheduled = !1),
            this.nodes.forEach(PO),
            this.nodes.forEach(CO),
            this.nodes.forEach(AO),
            this.nodes.forEach(SO);
        }),
        (this.resolvedRelativeTargetAt = 0),
        (this.hasProjected = !1),
        (this.isVisible = !0),
        (this.animationProgress = 0),
        (this.sharedNodes = new Map()),
        (this.latestValues = l),
        (this.root = d ? d.root || d : this),
        (this.path = d ? [...d.path, d] : []),
        (this.parent = d),
        (this.depth = d ? d.depth + 1 : 0);
      for (let f = 0; f < this.path.length; f++)
        this.path[f].shouldResetTransform = !0;
      this.root === this && (this.nodes = new lO());
    }
    addEventListener(l, d) {
      return (
        this.eventHandlers.has(l) || this.eventHandlers.set(l, new Xg()),
        this.eventHandlers.get(l).add(d)
      );
    }
    notifyListeners(l, ...d) {
      const f = this.eventHandlers.get(l);
      f && f.notify(...d);
    }
    hasListeners(l) {
      return this.eventHandlers.has(l);
    }
    mount(l) {
      if (this.instance) return;
      (this.isSVG = D2(l) && !_V(l)), (this.instance = l);
      const { layoutId: d, layout: f, visualElement: p } = this.options;
      if (
        (p && !p.current && p.mount(l),
        this.root.nodes.add(this),
        this.parent && this.parent.children.add(this),
        this.root.hasTreeAnimated && (f || d) && (this.isLayoutDirty = !0),
        t)
      ) {
        let g,
          w = 0;
        const x = () => (this.root.updateBlockedByResize = !1);
        et.read(() => {
          w = window.innerWidth;
        }),
          t(l, () => {
            const P = window.innerWidth;
            P !== w &&
              ((w = P),
              (this.root.updateBlockedByResize = !0),
              g && g(),
              (g = uO(x, 250)),
              Ad.hasAnimatedSinceResize &&
                ((Ad.hasAnimatedSinceResize = !1), this.nodes.forEach(D1)));
          });
      }
      d && this.root.registerSharedNode(d, this),
        this.options.animate !== !1 &&
          p &&
          (d || f) &&
          this.addEventListener(
            "didUpdate",
            ({
              delta: g,
              hasLayoutChanged: w,
              hasRelativeLayoutChanged: x,
              layout: P,
            }) => {
              if (this.isTreeAnimationBlocked()) {
                (this.target = void 0), (this.relativeTarget = void 0);
                return;
              }
              const b =
                  this.options.transition || p.getDefaultTransition() || DO,
                { onLayoutAnimationStart: N, onLayoutAnimationComplete: k } =
                  p.getProps(),
                $ = !this.targetLayout || !hP(this.targetLayout, P),
                G = !w && x;
              if (
                this.options.layoutRoot ||
                this.resumeFrom ||
                G ||
                (w && ($ || !this.currentAnimation))
              ) {
                this.resumeFrom &&
                  ((this.resumingFrom = this.resumeFrom),
                  (this.resumingFrom.resumingFrom = void 0));
                const q = { ...cy(b, "layout"), onPlay: N, onComplete: k };
                (p.shouldReduceMotion || this.options.layoutRoot) &&
                  ((q.delay = 0), (q.type = !1)),
                  this.startAnimation(q),
                  this.setAnimationOrigin(g, G);
              } else
                w || D1(this),
                  this.isLead() &&
                    this.options.onExitComplete &&
                    this.options.onExitComplete();
              this.targetLayout = P;
            }
          );
    }
    unmount() {
      this.options.layoutId && this.willUpdate(), this.root.nodes.remove(this);
      const l = this.getStack();
      l && l.remove(this),
        this.parent && this.parent.children.delete(this),
        (this.instance = void 0),
        this.eventHandlers.clear(),
        ls(this.updateProjection);
    }
    blockUpdate() {
      this.updateManuallyBlocked = !0;
    }
    unblockUpdate() {
      this.updateManuallyBlocked = !1;
    }
    isUpdateBlocked() {
      return this.updateManuallyBlocked || this.updateBlockedByResize;
    }
    isTreeAnimationBlocked() {
      return (
        this.isAnimationBlocked ||
        (this.parent && this.parent.isTreeAnimationBlocked()) ||
        !1
      );
    }
    startUpdate() {
      this.isUpdateBlocked() ||
        ((this.isUpdating = !0),
        this.nodes && this.nodes.forEach(RO),
        this.animationId++);
    }
    getTransformTemplate() {
      const { visualElement: l } = this.options;
      return l && l.getProps().transformTemplate;
    }
    willUpdate(l = !0) {
      if (((this.root.hasTreeAnimated = !0), this.root.isUpdateBlocked())) {
        this.options.onExitComplete && this.options.onExitComplete();
        return;
      }
      if (
        (window.MotionCancelOptimisedAnimation &&
          !this.hasCheckedOptimisedAppear &&
          fP(this),
        !this.root.isUpdating && this.root.startUpdate(),
        this.isLayoutDirty)
      )
        return;
      this.isLayoutDirty = !0;
      for (let g = 0; g < this.path.length; g++) {
        const w = this.path[g];
        (w.shouldResetTransform = !0),
          w.updateScroll("snapshot"),
          w.options.layoutRoot && w.willUpdate(!1);
      }
      const { layoutId: d, layout: f } = this.options;
      if (d === void 0 && !f) return;
      const p = this.getTransformTemplate();
      (this.prevTransformTemplateValue = p ? p(this.latestValues, "") : void 0),
        this.updateSnapshot(),
        l && this.notifyListeners("willUpdate");
    }
    update() {
      if (((this.updateScheduled = !1), this.isUpdateBlocked())) {
        this.unblockUpdate(), this.clearAllSnapshots(), this.nodes.forEach(N1);
        return;
      }
      if (this.animationId <= this.animationCommitId) {
        this.nodes.forEach(j1);
        return;
      }
      (this.animationCommitId = this.animationId),
        this.isUpdating
          ? ((this.isUpdating = !1),
            this.nodes.forEach(bO),
            this.nodes.forEach(EO),
            this.nodes.forEach(TO))
          : this.nodes.forEach(j1),
        this.clearAllSnapshots();
      const d = _n.now();
      (zt.delta = di(0, 1e3 / 60, d - zt.timestamp)),
        (zt.timestamp = d),
        (zt.isProcessing = !0),
        bp.update.process(zt),
        bp.preRender.process(zt),
        bp.render.process(zt),
        (zt.isProcessing = !1);
    }
    didUpdate() {
      this.updateScheduled ||
        ((this.updateScheduled = !0), hy.read(this.scheduleUpdate));
    }
    clearAllSnapshots() {
      this.nodes.forEach(IO), this.sharedNodes.forEach(kO);
    }
    scheduleUpdateProjection() {
      this.projectionUpdateScheduled ||
        ((this.projectionUpdateScheduled = !0),
        et.preRender(this.updateProjection, !1, !0));
    }
    scheduleCheckAfterUnmount() {
      et.postRender(() => {
        this.isLayoutDirty
          ? this.root.didUpdate()
          : this.root.checkUpdateFailed();
      });
    }
    updateSnapshot() {
      this.snapshot ||
        !this.instance ||
        ((this.snapshot = this.measure()),
        this.snapshot &&
          !ln(this.snapshot.measuredBox.x) &&
          !ln(this.snapshot.measuredBox.y) &&
          (this.snapshot = void 0));
    }
    updateLayout() {
      if (
        !this.instance ||
        (this.updateScroll(),
        !(this.options.alwaysMeasureLayout && this.isLead()) &&
          !this.isLayoutDirty)
      )
        return;
      if (this.resumeFrom && !this.resumeFrom.instance)
        for (let f = 0; f < this.path.length; f++) this.path[f].updateScroll();
      const l = this.layout;
      (this.layout = this.measure(!1)),
        (this.layoutCorrected = ht()),
        (this.isLayoutDirty = !1),
        (this.projectionDelta = void 0),
        this.notifyListeners("measure", this.layout.layoutBox);
      const { visualElement: d } = this.options;
      d &&
        d.notify(
          "LayoutMeasure",
          this.layout.layoutBox,
          l ? l.layoutBox : void 0
        );
    }
    updateScroll(l = "measure") {
      let d = !!(this.options.layoutScroll && this.instance);
      if (
        (this.scroll &&
          this.scroll.animationId === this.root.animationId &&
          this.scroll.phase === l &&
          (d = !1),
        d && this.instance)
      ) {
        const f = r(this.instance);
        this.scroll = {
          animationId: this.root.animationId,
          phase: l,
          isRoot: f,
          offset: n(this.instance),
          wasRoot: this.scroll ? this.scroll.isRoot : f,
        };
      }
    }
    resetTransform() {
      if (!s) return;
      const l =
          this.isLayoutDirty ||
          this.shouldResetTransform ||
          this.options.alwaysMeasureLayout,
        d = this.projectionDelta && !dP(this.projectionDelta),
        f = this.getTransformTemplate(),
        p = f ? f(this.latestValues, "") : void 0,
        g = p !== this.prevTransformTemplateValue;
      l &&
        this.instance &&
        (d || Gs(this.latestValues) || g) &&
        (s(this.instance, p),
        (this.shouldResetTransform = !1),
        this.scheduleRender());
    }
    measure(l = !0) {
      const d = this.measurePageBox();
      let f = this.removeElementScroll(d);
      return (
        l && (f = this.removeTransform(f)),
        VO(f),
        {
          animationId: this.root.animationId,
          measuredBox: d,
          layoutBox: f,
          latestValues: {},
          source: this.id,
        }
      );
    }
    measurePageBox() {
      var p;
      const { visualElement: l } = this.options;
      if (!l) return ht();
      const d = l.measureViewportBox();
      if (
        !(
          ((p = this.scroll) == null ? void 0 : p.wasRoot) || this.path.some(OO)
        )
      ) {
        const { scroll: g } = this.root;
        g && (ga(d.x, g.offset.x), ga(d.y, g.offset.y));
      }
      return d;
    }
    removeElementScroll(l) {
      var f;
      const d = ht();
      if ((Un(d, l), (f = this.scroll) != null && f.wasRoot)) return d;
      for (let p = 0; p < this.path.length; p++) {
        const g = this.path[p],
          { scroll: w, options: x } = g;
        g !== this.root &&
          w &&
          x.layoutScroll &&
          (w.wasRoot && Un(d, l), ga(d.x, w.offset.x), ga(d.y, w.offset.y));
      }
      return d;
    }
    applyTransform(l, d = !1) {
      const f = ht();
      Un(f, l);
      for (let p = 0; p < this.path.length; p++) {
        const g = this.path[p];
        !d &&
          g.options.layoutScroll &&
          g.scroll &&
          g !== g.root &&
          ya(f, { x: -g.scroll.offset.x, y: -g.scroll.offset.y }),
          Gs(g.latestValues) && ya(f, g.latestValues);
      }
      return Gs(this.latestValues) && ya(f, this.latestValues), f;
    }
    removeTransform(l) {
      const d = ht();
      Un(d, l);
      for (let f = 0; f < this.path.length; f++) {
        const p = this.path[f];
        if (!p.instance || !Gs(p.latestValues)) continue;
        Nm(p.latestValues) && p.updateSnapshot();
        const g = ht(),
          w = p.measurePageBox();
        Un(g, w),
          I1(d, p.latestValues, p.snapshot ? p.snapshot.layoutBox : void 0, g);
      }
      return Gs(this.latestValues) && I1(d, this.latestValues), d;
    }
    setTargetDelta(l) {
      (this.targetDelta = l),
        this.root.scheduleUpdateProjection(),
        (this.isProjectionDirty = !0);
    }
    setOptions(l) {
      this.options = {
        ...this.options,
        ...l,
        crossfade: l.crossfade !== void 0 ? l.crossfade : !0,
      };
    }
    clearMeasurements() {
      (this.scroll = void 0),
        (this.layout = void 0),
        (this.snapshot = void 0),
        (this.prevTransformTemplateValue = void 0),
        (this.targetDelta = void 0),
        (this.target = void 0),
        (this.isLayoutDirty = !1);
    }
    forceRelativeParentToResolveTarget() {
      this.relativeParent &&
        this.relativeParent.resolvedRelativeTargetAt !== zt.timestamp &&
        this.relativeParent.resolveTargetDelta(!0);
    }
    resolveTargetDelta(l = !1) {
      var x;
      const d = this.getLead();
      this.isProjectionDirty || (this.isProjectionDirty = d.isProjectionDirty),
        this.isTransformDirty || (this.isTransformDirty = d.isTransformDirty),
        this.isSharedProjectionDirty ||
          (this.isSharedProjectionDirty = d.isSharedProjectionDirty);
      const f = !!this.resumingFrom || this !== d;
      if (
        !(
          l ||
          (f && this.isSharedProjectionDirty) ||
          this.isProjectionDirty ||
          ((x = this.parent) != null && x.isProjectionDirty) ||
          this.attemptToResolveRelativeTarget ||
          this.root.updateBlockedByResize
        )
      )
        return;
      const { layout: g, layoutId: w } = this.options;
      if (!(!this.layout || !(g || w))) {
        if (
          ((this.resolvedRelativeTargetAt = zt.timestamp),
          !this.targetDelta && !this.relativeTarget)
        ) {
          const P = this.getClosestProjectingParent();
          P && P.layout && this.animationProgress !== 1
            ? ((this.relativeParent = P),
              this.forceRelativeParentToResolveTarget(),
              (this.relativeTarget = ht()),
              (this.relativeTargetOrigin = ht()),
              ru(
                this.relativeTargetOrigin,
                this.layout.layoutBox,
                P.layout.layoutBox
              ),
              Un(this.relativeTarget, this.relativeTargetOrigin))
            : (this.relativeParent = this.relativeTarget = void 0);
        }
        if (
          !(!this.relativeTarget && !this.targetDelta) &&
          (this.target ||
            ((this.target = ht()), (this.targetWithTransforms = ht())),
          this.relativeTarget &&
          this.relativeTargetOrigin &&
          this.relativeParent &&
          this.relativeParent.target
            ? (this.forceRelativeParentToResolveTarget(),
              U6(this.target, this.relativeTarget, this.relativeParent.target))
            : this.targetDelta
            ? (this.resumingFrom
                ? (this.target = this.applyTransform(this.layout.layoutBox))
                : Un(this.target, this.layout.layoutBox),
              rP(this.target, this.targetDelta))
            : Un(this.target, this.layout.layoutBox),
          this.attemptToResolveRelativeTarget)
        ) {
          this.attemptToResolveRelativeTarget = !1;
          const P = this.getClosestProjectingParent();
          P &&
          !!P.resumingFrom == !!this.resumingFrom &&
          !P.options.layoutScroll &&
          P.target &&
          this.animationProgress !== 1
            ? ((this.relativeParent = P),
              this.forceRelativeParentToResolveTarget(),
              (this.relativeTarget = ht()),
              (this.relativeTargetOrigin = ht()),
              ru(this.relativeTargetOrigin, this.target, P.target),
              Un(this.relativeTarget, this.relativeTargetOrigin))
            : (this.relativeParent = this.relativeTarget = void 0);
        }
      }
    }
    getClosestProjectingParent() {
      if (
        !(
          !this.parent ||
          Nm(this.parent.latestValues) ||
          nP(this.parent.latestValues)
        )
      )
        return this.parent.isProjecting()
          ? this.parent
          : this.parent.getClosestProjectingParent();
    }
    isProjecting() {
      return !!(
        (this.relativeTarget || this.targetDelta || this.options.layoutRoot) &&
        this.layout
      );
    }
    calcProjection() {
      var b;
      const l = this.getLead(),
        d = !!this.resumingFrom || this !== l;
      let f = !0;
      if (
        ((this.isProjectionDirty ||
          ((b = this.parent) != null && b.isProjectionDirty)) &&
          (f = !1),
        d &&
          (this.isSharedProjectionDirty || this.isTransformDirty) &&
          (f = !1),
        this.resolvedRelativeTargetAt === zt.timestamp && (f = !1),
        f)
      )
        return;
      const { layout: p, layoutId: g } = this.options;
      if (
        ((this.isTreeAnimating = !!(
          (this.parent && this.parent.isTreeAnimating) ||
          this.currentAnimation ||
          this.pendingAnimation
        )),
        this.isTreeAnimating ||
          (this.targetDelta = this.relativeTarget = void 0),
        !this.layout || !(p || g))
      )
        return;
      Un(this.layoutCorrected, this.layout.layoutBox);
      const w = this.treeScale.x,
        x = this.treeScale.y;
      B6(this.layoutCorrected, this.treeScale, this.path, d),
        l.layout &&
          !l.target &&
          (this.treeScale.x !== 1 || this.treeScale.y !== 1) &&
          ((l.target = l.layout.layoutBox), (l.targetWithTransforms = ht()));
      const { target: P } = l;
      if (!P) {
        this.prevProjectionDelta &&
          (this.createProjectionDeltas(), this.scheduleRender());
        return;
      }
      !this.projectionDelta || !this.prevProjectionDelta
        ? this.createProjectionDeltas()
        : (T1(this.prevProjectionDelta.x, this.projectionDelta.x),
          T1(this.prevProjectionDelta.y, this.projectionDelta.y)),
        nu(this.projectionDelta, this.layoutCorrected, P, this.latestValues),
        (this.treeScale.x !== w ||
          this.treeScale.y !== x ||
          !k1(this.projectionDelta.x, this.prevProjectionDelta.x) ||
          !k1(this.projectionDelta.y, this.prevProjectionDelta.y)) &&
          ((this.hasProjected = !0),
          this.scheduleRender(),
          this.notifyListeners("projectionUpdate", P));
    }
    hide() {
      this.isVisible = !1;
    }
    show() {
      this.isVisible = !0;
    }
    scheduleRender(l = !0) {
      var d;
      if (((d = this.options.visualElement) == null || d.scheduleRender(), l)) {
        const f = this.getStack();
        f && f.scheduleRender();
      }
      this.resumingFrom &&
        !this.resumingFrom.instance &&
        (this.resumingFrom = void 0);
    }
    createProjectionDeltas() {
      (this.prevProjectionDelta = ma()),
        (this.projectionDelta = ma()),
        (this.projectionDeltaWithTransform = ma());
    }
    setAnimationOrigin(l, d = !1) {
      const f = this.snapshot,
        p = f ? f.latestValues : {},
        g = { ...this.latestValues },
        w = ma();
      (!this.relativeParent || !this.relativeParent.options.layoutRoot) &&
        (this.relativeTarget = this.relativeTargetOrigin = void 0),
        (this.attemptToResolveRelativeTarget = !d);
      const x = ht(),
        P = f ? f.source : void 0,
        b = this.layout ? this.layout.source : void 0,
        N = P !== b,
        k = this.getStack(),
        $ = !k || k.members.length <= 1,
        G = !!(N && !$ && this.options.crossfade === !0 && !this.path.some(jO));
      this.animationProgress = 0;
      let q;
      (this.mixTargetDelta = (Y) => {
        const ne = Y / 1e3;
        V1(w.x, l.x, ne),
          V1(w.y, l.y, ne),
          this.setTargetDelta(w),
          this.relativeTarget &&
            this.relativeTargetOrigin &&
            this.layout &&
            this.relativeParent &&
            this.relativeParent.layout &&
            (ru(x, this.layout.layoutBox, this.relativeParent.layout.layoutBox),
            NO(this.relativeTarget, this.relativeTargetOrigin, x, ne),
            q && yO(this.relativeTarget, q) && (this.isProjectionDirty = !1),
            q || (q = ht()),
            Un(q, this.relativeTarget)),
          N &&
            ((this.animationValues = g), dO(g, p, this.latestValues, ne, G, $)),
          this.root.scheduleUpdateProjection(),
          this.scheduleRender(),
          (this.animationProgress = ne);
      }),
        this.mixTargetDelta(this.options.layoutRoot ? 1e3 : 0);
    }
    startAnimation(l) {
      var d, f, p;
      this.notifyListeners("animationStart"),
        (d = this.currentAnimation) == null || d.stop(),
        (p = (f = this.resumingFrom) == null ? void 0 : f.currentAnimation) ==
          null || p.stop(),
        this.pendingAnimation &&
          (ls(this.pendingAnimation), (this.pendingAnimation = void 0)),
        (this.pendingAnimation = et.update(() => {
          (Ad.hasAnimatedSinceResize = !0),
            this.motionValue || (this.motionValue = Ca(0)),
            (this.currentAnimation = oO(this.motionValue, [0, 1e3], {
              ...l,
              velocity: 0,
              isSync: !0,
              onUpdate: (g) => {
                this.mixTargetDelta(g), l.onUpdate && l.onUpdate(g);
              },
              onStop: () => {},
              onComplete: () => {
                l.onComplete && l.onComplete(), this.completeAnimation();
              },
            })),
            this.resumingFrom &&
              (this.resumingFrom.currentAnimation = this.currentAnimation),
            (this.pendingAnimation = void 0);
        }));
    }
    completeAnimation() {
      this.resumingFrom &&
        ((this.resumingFrom.currentAnimation = void 0),
        (this.resumingFrom.preserveOpacity = void 0));
      const l = this.getStack();
      l && l.exitAnimationComplete(),
        (this.resumingFrom =
          this.currentAnimation =
          this.animationValues =
            void 0),
        this.notifyListeners("animationComplete");
    }
    finishAnimation() {
      this.currentAnimation &&
        (this.mixTargetDelta && this.mixTargetDelta(wO),
        this.currentAnimation.stop()),
        this.completeAnimation();
    }
    applyTransformsToTarget() {
      const l = this.getLead();
      let {
        targetWithTransforms: d,
        target: f,
        layout: p,
        latestValues: g,
      } = l;
      if (!(!d || !f || !p)) {
        if (
          this !== l &&
          this.layout &&
          p &&
          mP(this.options.animationType, this.layout.layoutBox, p.layoutBox)
        ) {
          f = this.target || ht();
          const w = ln(this.layout.layoutBox.x);
          (f.x.min = l.target.x.min), (f.x.max = f.x.min + w);
          const x = ln(this.layout.layoutBox.y);
          (f.y.min = l.target.y.min), (f.y.max = f.y.min + x);
        }
        Un(d, f),
          ya(d, g),
          nu(this.projectionDeltaWithTransform, this.layoutCorrected, d, g);
      }
    }
    registerSharedNode(l, d) {
      this.sharedNodes.has(l) || this.sharedNodes.set(l, new vO()),
        this.sharedNodes.get(l).add(d);
      const p = d.options.initialPromotionConfig;
      d.promote({
        transition: p ? p.transition : void 0,
        preserveFollowOpacity:
          p && p.shouldPreserveFollowOpacity
            ? p.shouldPreserveFollowOpacity(d)
            : void 0,
      });
    }
    isLead() {
      const l = this.getStack();
      return l ? l.lead === this : !0;
    }
    getLead() {
      var d;
      const { layoutId: l } = this.options;
      return l
        ? ((d = this.getStack()) == null ? void 0 : d.lead) || this
        : this;
    }
    getPrevLead() {
      var d;
      const { layoutId: l } = this.options;
      return l ? ((d = this.getStack()) == null ? void 0 : d.prevLead) : void 0;
    }
    getStack() {
      const { layoutId: l } = this.options;
      if (l) return this.root.sharedNodes.get(l);
    }
    promote({ needsReset: l, transition: d, preserveFollowOpacity: f } = {}) {
      const p = this.getStack();
      p && p.promote(this, f),
        l && ((this.projectionDelta = void 0), (this.needsReset = !0)),
        d && this.setOptions({ transition: d });
    }
    relegate() {
      const l = this.getStack();
      return l ? l.relegate(this) : !1;
    }
    resetSkewAndRotation() {
      const { visualElement: l } = this.options;
      if (!l) return;
      let d = !1;
      const { latestValues: f } = l;
      if (
        ((f.z ||
          f.rotate ||
          f.rotateX ||
          f.rotateY ||
          f.rotateZ ||
          f.skewX ||
          f.skewY) &&
          (d = !0),
        !d)
      )
        return;
      const p = {};
      f.z && Mp("z", l, p, this.animationValues);
      for (let g = 0; g < Op.length; g++)
        Mp(`rotate${Op[g]}`, l, p, this.animationValues),
          Mp(`skew${Op[g]}`, l, p, this.animationValues);
      l.render();
      for (const g in p)
        l.setStaticValue(g, p[g]),
          this.animationValues && (this.animationValues[g] = p[g]);
      l.scheduleRender();
    }
    applyProjectionStyles(l, d) {
      if (!this.instance || this.isSVG) return;
      if (!this.isVisible) {
        l.visibility = "hidden";
        return;
      }
      const f = this.getTransformTemplate();
      if (this.needsReset) {
        (this.needsReset = !1),
          (l.visibility = ""),
          (l.opacity = ""),
          (l.pointerEvents = Cd(d == null ? void 0 : d.pointerEvents) || ""),
          (l.transform = f ? f(this.latestValues, "") : "none");
        return;
      }
      const p = this.getLead();
      if (!this.projectionDelta || !this.layout || !p.target) {
        this.options.layoutId &&
          ((l.opacity =
            this.latestValues.opacity !== void 0
              ? this.latestValues.opacity
              : 1),
          (l.pointerEvents = Cd(d == null ? void 0 : d.pointerEvents) || "")),
          this.hasProjected &&
            !Gs(this.latestValues) &&
            ((l.transform = f ? f({}, "") : "none"), (this.hasProjected = !1));
        return;
      }
      l.visibility = "";
      const g = p.animationValues || p.latestValues;
      this.applyTransformsToTarget();
      let w = _O(this.projectionDeltaWithTransform, this.treeScale, g);
      f && (w = f(g, w)), (l.transform = w);
      const { x, y: P } = this.projectionDelta;
      (l.transformOrigin = `${x.origin * 100}% ${P.origin * 100}% 0`),
        p.animationValues
          ? (l.opacity =
              p === this
                ? g.opacity ?? this.latestValues.opacity ?? 1
                : this.preserveOpacity
                ? this.latestValues.opacity
                : g.opacityExit)
          : (l.opacity =
              p === this
                ? g.opacity !== void 0
                  ? g.opacity
                  : ""
                : g.opacityExit !== void 0
                ? g.opacityExit
                : 0);
      for (const b in wu) {
        if (g[b] === void 0) continue;
        const { correct: N, applyTo: k, isCSSVariable: $ } = wu[b],
          G = w === "none" ? g[b] : N(g[b], p);
        if (k) {
          const q = k.length;
          for (let Y = 0; Y < q; Y++) l[k[Y]] = G;
        } else
          $ ? (this.options.visualElement.renderState.vars[b] = G) : (l[b] = G);
      }
      this.options.layoutId &&
        (l.pointerEvents =
          p === this ? Cd(d == null ? void 0 : d.pointerEvents) || "" : "none");
    }
    clearSnapshot() {
      this.resumeFrom = this.snapshot = void 0;
    }
    resetTree() {
      this.root.nodes.forEach((l) => {
        var d;
        return (d = l.currentAnimation) == null ? void 0 : d.stop();
      }),
        this.root.nodes.forEach(N1),
        this.root.sharedNodes.clear();
    }
  };
}
function EO(t) {
  t.updateLayout();
}
function TO(t) {
  var n;
  const e = ((n = t.resumeFrom) == null ? void 0 : n.snapshot) || t.snapshot;
  if (t.isLead() && t.layout && e && t.hasListeners("didUpdate")) {
    const { layoutBox: r, measuredBox: s } = t.layout,
      { animationType: a } = t.options,
      l = e.source !== t.layout.source;
    a === "size"
      ? Bn((w) => {
          const x = l ? e.measuredBox[w] : e.layoutBox[w],
            P = ln(x);
          (x.min = r[w].min), (x.max = x.min + P);
        })
      : mP(a, e.layoutBox, r) &&
        Bn((w) => {
          const x = l ? e.measuredBox[w] : e.layoutBox[w],
            P = ln(r[w]);
          (x.max = x.min + P),
            t.relativeTarget &&
              !t.currentAnimation &&
              ((t.isProjectionDirty = !0),
              (t.relativeTarget[w].max = t.relativeTarget[w].min + P));
        });
    const d = ma();
    nu(d, r, e.layoutBox);
    const f = ma();
    l ? nu(f, t.applyTransform(s, !0), e.measuredBox) : nu(f, r, e.layoutBox);
    const p = !dP(d);
    let g = !1;
    if (!t.resumeFrom) {
      const w = t.getClosestProjectingParent();
      if (w && !w.resumeFrom) {
        const { snapshot: x, layout: P } = w;
        if (x && P) {
          const b = ht();
          ru(b, e.layoutBox, x.layoutBox);
          const N = ht();
          ru(N, r, P.layoutBox),
            hP(b, N) || (g = !0),
            w.options.layoutRoot &&
              ((t.relativeTarget = N),
              (t.relativeTargetOrigin = b),
              (t.relativeParent = w));
        }
      }
    }
    t.notifyListeners("didUpdate", {
      layout: r,
      snapshot: e,
      delta: f,
      layoutDelta: d,
      hasLayoutChanged: p,
      hasRelativeLayoutChanged: g,
    });
  } else if (t.isLead()) {
    const { onExitComplete: r } = t.options;
    r && r();
  }
  t.options.transition = void 0;
}
function PO(t) {
  t.parent &&
    (t.isProjecting() || (t.isProjectionDirty = t.parent.isProjectionDirty),
    t.isSharedProjectionDirty ||
      (t.isSharedProjectionDirty = !!(
        t.isProjectionDirty ||
        t.parent.isProjectionDirty ||
        t.parent.isSharedProjectionDirty
      )),
    t.isTransformDirty || (t.isTransformDirty = t.parent.isTransformDirty));
}
function SO(t) {
  t.isProjectionDirty = t.isSharedProjectionDirty = t.isTransformDirty = !1;
}
function IO(t) {
  t.clearSnapshot();
}
function N1(t) {
  t.clearMeasurements();
}
function j1(t) {
  t.isLayoutDirty = !1;
}
function bO(t) {
  const { visualElement: e } = t.options;
  e && e.getProps().onBeforeLayoutMeasure && e.notify("BeforeLayoutMeasure"),
    t.resetTransform();
}
function D1(t) {
  t.finishAnimation(),
    (t.targetDelta = t.relativeTarget = t.target = void 0),
    (t.isProjectionDirty = !0);
}
function CO(t) {
  t.resolveTargetDelta();
}
function AO(t) {
  t.calcProjection();
}
function RO(t) {
  t.resetSkewAndRotation();
}
function kO(t) {
  t.removeLeadSnapshot();
}
function V1(t, e, n) {
  (t.translate = it(e.translate, 0, n)),
    (t.scale = it(e.scale, 1, n)),
    (t.origin = e.origin),
    (t.originPoint = e.originPoint);
}
function O1(t, e, n, r) {
  (t.min = it(e.min, n.min, r)), (t.max = it(e.max, n.max, r));
}
function NO(t, e, n, r) {
  O1(t.x, e.x, n.x, r), O1(t.y, e.y, n.y, r);
}
function jO(t) {
  return t.animationValues && t.animationValues.opacityExit !== void 0;
}
const DO = { duration: 0.45, ease: [0.4, 0, 0.1, 1] },
  M1 = (t) =>
    typeof navigator < "u" &&
    navigator.userAgent &&
    navigator.userAgent.toLowerCase().includes(t),
  L1 = M1("applewebkit/") && !M1("chrome/") ? Math.round : $n;
function F1(t) {
  (t.min = L1(t.min)), (t.max = L1(t.max));
}
function VO(t) {
  F1(t.x), F1(t.y);
}
function mP(t, e, n) {
  return (
    t === "position" || (t === "preserve-aspect" && !F6(R1(e), R1(n), 0.2))
  );
}
function OO(t) {
  var e;
  return t !== t.root && ((e = t.scroll) == null ? void 0 : e.wasRoot);
}
const MO = pP({
    attachResizeListener: (t, e) => Eu(t, "resize", e),
    measureScroll: () => ({
      x: document.documentElement.scrollLeft || document.body.scrollLeft,
      y: document.documentElement.scrollTop || document.body.scrollTop,
    }),
    checkIsScrollRoot: () => !0,
  }),
  Lp = { current: void 0 },
  gP = pP({
    measureScroll: (t) => ({ x: t.scrollLeft, y: t.scrollTop }),
    defaultParent: () => {
      if (!Lp.current) {
        const t = new MO({});
        t.mount(window), t.setOptions({ layoutScroll: !0 }), (Lp.current = t);
      }
      return Lp.current;
    },
    resetTransform: (t, e) => {
      t.style.transform = e !== void 0 ? e : "none";
    },
    checkIsScrollRoot: (t) => window.getComputedStyle(t).position === "fixed",
  }),
  LO = {
    pan: { Feature: nO },
    drag: { Feature: tO, ProjectionNode: gP, MeasureLayout: lP },
  };
function U1(t, e, n) {
  const { props: r } = t;
  t.animationState &&
    r.whileHover &&
    t.animationState.setActive("whileHover", n === "Start");
  const s = "onHover" + n,
    a = r[s];
  a && et.postRender(() => a(e, Lu(e)));
}
class FO extends gs {
  mount() {
    const { current: e } = this.node;
    e &&
      (this.unmount = pV(
        e,
        (n, r) => (U1(this.node, r, "Start"), (s) => U1(this.node, s, "End"))
      ));
  }
  unmount() {}
}
class UO extends gs {
  constructor() {
    super(...arguments), (this.isActive = !1);
  }
  onFocus() {
    let e = !1;
    try {
      e = this.node.current.matches(":focus-visible");
    } catch {
      e = !0;
    }
    !e ||
      !this.node.animationState ||
      (this.node.animationState.setActive("whileFocus", !0),
      (this.isActive = !0));
  }
  onBlur() {
    !this.isActive ||
      !this.node.animationState ||
      (this.node.animationState.setActive("whileFocus", !1),
      (this.isActive = !1));
  }
  mount() {
    this.unmount = Vu(
      Eu(this.node.current, "focus", () => this.onFocus()),
      Eu(this.node.current, "blur", () => this.onBlur())
    );
  }
  unmount() {}
}
function B1(t, e, n) {
  const { props: r } = t;
  if (t.current instanceof HTMLButtonElement && t.current.disabled) return;
  t.animationState &&
    r.whileTap &&
    t.animationState.setActive("whileTap", n === "Start");
  const s = "onTap" + (n === "End" ? "" : n),
    a = r[s];
  a && et.postRender(() => a(e, Lu(e)));
}
class BO extends gs {
  mount() {
    const { current: e } = this.node;
    e &&
      (this.unmount = vV(
        e,
        (n, r) => (
          B1(this.node, r, "Start"),
          (s, { success: a }) => B1(this.node, s, a ? "End" : "Cancel")
        ),
        { useGlobalTarget: this.node.props.globalTapTarget }
      ));
  }
  unmount() {}
}
const Vm = new WeakMap(),
  Fp = new WeakMap(),
  zO = (t) => {
    const e = Vm.get(t.target);
    e && e(t);
  },
  $O = (t) => {
    t.forEach(zO);
  };
function HO({ root: t, ...e }) {
  const n = t || document;
  Fp.has(n) || Fp.set(n, {});
  const r = Fp.get(n),
    s = JSON.stringify(e);
  return r[s] || (r[s] = new IntersectionObserver($O, { root: t, ...e })), r[s];
}
function WO(t, e, n) {
  const r = HO(e);
  return (
    Vm.set(t, n),
    r.observe(t),
    () => {
      Vm.delete(t), r.unobserve(t);
    }
  );
}
const qO = { some: 0, all: 1 };
class GO extends gs {
  constructor() {
    super(...arguments), (this.hasEnteredView = !1), (this.isInView = !1);
  }
  startObserver() {
    this.unmount();
    const { viewport: e = {} } = this.node.getProps(),
      { root: n, margin: r, amount: s = "some", once: a } = e,
      l = {
        root: n ? n.current : void 0,
        rootMargin: r,
        threshold: typeof s == "number" ? s : qO[s],
      },
      d = (f) => {
        const { isIntersecting: p } = f;
        if (
          this.isInView === p ||
          ((this.isInView = p), a && !p && this.hasEnteredView)
        )
          return;
        p && (this.hasEnteredView = !0),
          this.node.animationState &&
            this.node.animationState.setActive("whileInView", p);
        const { onViewportEnter: g, onViewportLeave: w } = this.node.getProps(),
          x = p ? g : w;
        x && x(f);
      };
    return WO(this.node.current, l, d);
  }
  mount() {
    this.startObserver();
  }
  update() {
    if (typeof IntersectionObserver > "u") return;
    const { props: e, prevProps: n } = this.node;
    ["amount", "margin", "root"].some(KO(e, n)) && this.startObserver();
  }
  unmount() {}
}
function KO({ viewport: t = {} }, { viewport: e = {} } = {}) {
  return (n) => t[n] !== e[n];
}
const QO = {
    inView: { Feature: GO },
    tap: { Feature: BO },
    focus: { Feature: UO },
    hover: { Feature: FO },
  },
  XO = { layout: { ProjectionNode: gP, MeasureLayout: lP } },
  Om = { current: null },
  yP = { current: !1 };
function YO() {
  if (((yP.current = !0), !!Wg))
    if (window.matchMedia) {
      const t = window.matchMedia("(prefers-reduced-motion)"),
        e = () => (Om.current = t.matches);
      t.addEventListener("change", e), e();
    } else Om.current = !1;
}
const JO = new WeakMap();
function ZO(t, e, n) {
  for (const r in e) {
    const s = e[r],
      a = n[r];
    if (en(s)) t.addValue(r, s);
    else if (en(a)) t.addValue(r, Ca(s, { owner: t }));
    else if (a !== s)
      if (t.hasValue(r)) {
        const l = t.getValue(r);
        l.liveStyle === !0 ? l.jump(s) : l.hasAnimated || l.set(s);
      } else {
        const l = t.getStaticValue(r);
        t.addValue(r, Ca(l !== void 0 ? l : s, { owner: t }));
      }
  }
  for (const r in n) e[r] === void 0 && t.removeValue(r);
  return e;
}
const z1 = [
  "AnimationStart",
  "AnimationComplete",
  "Update",
  "BeforeLayoutMeasure",
  "LayoutMeasure",
  "LayoutAnimationStart",
  "LayoutAnimationComplete",
];
class e9 {
  scrapeMotionValuesFromProps(e, n, r) {
    return {};
  }
  constructor(
    {
      parent: e,
      props: n,
      presenceContext: r,
      reducedMotionConfig: s,
      blockInitialAnimation: a,
      visualState: l,
    },
    d = {}
  ) {
    (this.current = null),
      (this.children = new Set()),
      (this.isVariantNode = !1),
      (this.isControllingVariants = !1),
      (this.shouldReduceMotion = null),
      (this.values = new Map()),
      (this.KeyframeResolver = ly),
      (this.features = {}),
      (this.valueSubscriptions = new Map()),
      (this.prevMotionValues = {}),
      (this.events = {}),
      (this.propEventSubscriptions = {}),
      (this.notifyUpdate = () => this.notify("Update", this.latestValues)),
      (this.render = () => {
        this.current &&
          (this.triggerBuild(),
          this.renderInstance(
            this.current,
            this.renderState,
            this.props.style,
            this.projection
          ));
      }),
      (this.renderScheduledAt = 0),
      (this.scheduleRender = () => {
        const x = _n.now();
        this.renderScheduledAt < x &&
          ((this.renderScheduledAt = x), et.render(this.render, !1, !0));
      });
    const { latestValues: f, renderState: p } = l;
    (this.latestValues = f),
      (this.baseTarget = { ...f }),
      (this.initialValues = n.initial ? { ...f } : {}),
      (this.renderState = p),
      (this.parent = e),
      (this.props = n),
      (this.presenceContext = r),
      (this.depth = e ? e.depth + 1 : 0),
      (this.reducedMotionConfig = s),
      (this.options = d),
      (this.blockInitialAnimation = !!a),
      (this.isControllingVariants = kh(n)),
      (this.isVariantNode = L2(n)),
      this.isVariantNode && (this.variantChildren = new Set()),
      (this.manuallyAnimateOnMount = !!(e && e.current));
    const { willChange: g, ...w } = this.scrapeMotionValuesFromProps(
      n,
      {},
      this
    );
    for (const x in w) {
      const P = w[x];
      f[x] !== void 0 && en(P) && P.set(f[x], !1);
    }
  }
  mount(e) {
    (this.current = e),
      JO.set(e, this),
      this.projection && !this.projection.instance && this.projection.mount(e),
      this.parent &&
        this.isVariantNode &&
        !this.isControllingVariants &&
        (this.removeFromVariantTree = this.parent.addVariantChild(this)),
      this.values.forEach((n, r) => this.bindToMotionValue(r, n)),
      yP.current || YO(),
      (this.shouldReduceMotion =
        this.reducedMotionConfig === "never"
          ? !1
          : this.reducedMotionConfig === "always"
          ? !0
          : Om.current),
      this.parent && this.parent.children.add(this),
      this.update(this.props, this.presenceContext);
  }
  unmount() {
    this.projection && this.projection.unmount(),
      ls(this.notifyUpdate),
      ls(this.render),
      this.valueSubscriptions.forEach((e) => e()),
      this.valueSubscriptions.clear(),
      this.removeFromVariantTree && this.removeFromVariantTree(),
      this.parent && this.parent.children.delete(this);
    for (const e in this.events) this.events[e].clear();
    for (const e in this.features) {
      const n = this.features[e];
      n && (n.unmount(), (n.isMounted = !1));
    }
    this.current = null;
  }
  bindToMotionValue(e, n) {
    this.valueSubscriptions.has(e) && this.valueSubscriptions.get(e)();
    const r = Ua.has(e);
    r && this.onBindTransform && this.onBindTransform();
    const s = n.on("change", (d) => {
        (this.latestValues[e] = d),
          this.props.onUpdate && et.preRender(this.notifyUpdate),
          r && this.projection && (this.projection.isTransformDirty = !0);
      }),
      a = n.on("renderRequest", this.scheduleRender);
    let l;
    window.MotionCheckAppearSync &&
      (l = window.MotionCheckAppearSync(this, e, n)),
      this.valueSubscriptions.set(e, () => {
        s(), a(), l && l(), n.owner && n.stop();
      });
  }
  sortNodePosition(e) {
    return !this.current ||
      !this.sortInstanceNodePosition ||
      this.type !== e.type
      ? 0
      : this.sortInstanceNodePosition(this.current, e.current);
  }
  updateFeatures() {
    let e = "animation";
    for (e in Aa) {
      const n = Aa[e];
      if (!n) continue;
      const { isEnabled: r, Feature: s } = n;
      if (
        (!this.features[e] &&
          s &&
          r(this.props) &&
          (this.features[e] = new s(this)),
        this.features[e])
      ) {
        const a = this.features[e];
        a.isMounted ? a.update() : (a.mount(), (a.isMounted = !0));
      }
    }
  }
  triggerBuild() {
    this.build(this.renderState, this.latestValues, this.props);
  }
  measureViewportBox() {
    return this.current
      ? this.measureInstanceViewportBox(this.current, this.props)
      : ht();
  }
  getStaticValue(e) {
    return this.latestValues[e];
  }
  setStaticValue(e, n) {
    this.latestValues[e] = n;
  }
  update(e, n) {
    (e.transformTemplate || this.props.transformTemplate) &&
      this.scheduleRender(),
      (this.prevProps = this.props),
      (this.props = e),
      (this.prevPresenceContext = this.presenceContext),
      (this.presenceContext = n);
    for (let r = 0; r < z1.length; r++) {
      const s = z1[r];
      this.propEventSubscriptions[s] &&
        (this.propEventSubscriptions[s](),
        delete this.propEventSubscriptions[s]);
      const a = "on" + s,
        l = e[a];
      l && (this.propEventSubscriptions[s] = this.on(s, l));
    }
    (this.prevMotionValues = ZO(
      this,
      this.scrapeMotionValuesFromProps(e, this.prevProps, this),
      this.prevMotionValues
    )),
      this.handleChildMotionValue && this.handleChildMotionValue();
  }
  getProps() {
    return this.props;
  }
  getVariant(e) {
    return this.props.variants ? this.props.variants[e] : void 0;
  }
  getDefaultTransition() {
    return this.props.transition;
  }
  getTransformPagePoint() {
    return this.props.transformPagePoint;
  }
  getClosestVariantNode() {
    return this.isVariantNode
      ? this
      : this.parent
      ? this.parent.getClosestVariantNode()
      : void 0;
  }
  addVariantChild(e) {
    const n = this.getClosestVariantNode();
    if (n)
      return (
        n.variantChildren && n.variantChildren.add(e),
        () => n.variantChildren.delete(e)
      );
  }
  addValue(e, n) {
    const r = this.values.get(e);
    n !== r &&
      (r && this.removeValue(e),
      this.bindToMotionValue(e, n),
      this.values.set(e, n),
      (this.latestValues[e] = n.get()));
  }
  removeValue(e) {
    this.values.delete(e);
    const n = this.valueSubscriptions.get(e);
    n && (n(), this.valueSubscriptions.delete(e)),
      delete this.latestValues[e],
      this.removeValueFromRenderState(e, this.renderState);
  }
  hasValue(e) {
    return this.values.has(e);
  }
  getValue(e, n) {
    if (this.props.values && this.props.values[e]) return this.props.values[e];
    let r = this.values.get(e);
    return (
      r === void 0 &&
        n !== void 0 &&
        ((r = Ca(n === null ? void 0 : n, { owner: this })),
        this.addValue(e, r)),
      r
    );
  }
  readValue(e, n) {
    let r =
      this.latestValues[e] !== void 0 || !this.current
        ? this.latestValues[e]
        : this.getBaseTargetFromProps(this.props, e) ??
          this.readValueFromInstance(this.current, e, this.options);
    return (
      r != null &&
        (typeof r == "string" && (qT(r) || KT(r))
          ? (r = parseFloat(r))
          : !xV(r) && us.test(n) && (r = A2(e, n)),
        this.setBaseTarget(e, en(r) ? r.get() : r)),
      en(r) ? r.get() : r
    );
  }
  setBaseTarget(e, n) {
    this.baseTarget[e] = n;
  }
  getBaseTarget(e) {
    var a;
    const { initial: n } = this.props;
    let r;
    if (typeof n == "string" || typeof n == "object") {
      const l = xy(
        this.props,
        n,
        (a = this.presenceContext) == null ? void 0 : a.custom
      );
      l && (r = l[e]);
    }
    if (n && r !== void 0) return r;
    const s = this.getBaseTargetFromProps(this.props, e);
    return s !== void 0 && !en(s)
      ? s
      : this.initialValues[e] !== void 0 && r === void 0
      ? void 0
      : this.baseTarget[e];
  }
  on(e, n) {
    return this.events[e] || (this.events[e] = new Xg()), this.events[e].add(n);
  }
  notify(e, ...n) {
    this.events[e] && this.events[e].notify(...n);
  }
}
class vP extends e9 {
  constructor() {
    super(...arguments), (this.KeyframeResolver = uV);
  }
  sortInstanceNodePosition(e, n) {
    return e.compareDocumentPosition(n) & 2 ? 1 : -1;
  }
  getBaseTargetFromProps(e, n) {
    return e.style ? e.style[n] : void 0;
  }
  removeValueFromRenderState(e, { vars: n, style: r }) {
    delete n[e], delete r[e];
  }
  handleChildMotionValue() {
    this.childSubscription &&
      (this.childSubscription(), delete this.childSubscription);
    const { children: e } = this.props;
    en(e) &&
      (this.childSubscription = e.on("change", (n) => {
        this.current && (this.current.textContent = `${n}`);
      }));
  }
}
function _P(t, { style: e, vars: n }, r, s) {
  const a = t.style;
  let l;
  for (l in e) a[l] = e[l];
  s == null || s.applyProjectionStyles(a, r);
  for (l in n) a.setProperty(l, n[l]);
}
function t9(t) {
  return window.getComputedStyle(t);
}
class n9 extends vP {
  constructor() {
    super(...arguments), (this.type = "html"), (this.renderInstance = _P);
  }
  readValueFromInstance(e, n) {
    var r;
    if (Ua.has(n))
      return (r = this.projection) != null && r.isProjecting ? Tm(n) : C3(e, n);
    {
      const s = t9(e),
        a = (Zg(n) ? s.getPropertyValue(n) : s[n]) || 0;
      return typeof a == "string" ? a.trim() : a;
    }
  }
  measureInstanceViewportBox(e, { transformPagePoint: n }) {
    return iP(e, n);
  }
  build(e, n, r) {
    vy(e, n, r.transformTemplate);
  }
  scrapeMotionValuesFromProps(e, n, r) {
    return Ey(e, n, r);
  }
}
const wP = new Set([
  "baseFrequency",
  "diffuseConstant",
  "kernelMatrix",
  "kernelUnitLength",
  "keySplines",
  "keyTimes",
  "limitingConeAngle",
  "markerHeight",
  "markerWidth",
  "numOctaves",
  "targetX",
  "targetY",
  "surfaceScale",
  "specularConstant",
  "specularExponent",
  "stdDeviation",
  "tableValues",
  "viewBox",
  "gradientTransform",
  "pathLength",
  "startOffset",
  "textLength",
  "lengthAdjust",
]);
function r9(t, e, n, r) {
  _P(t, e, void 0, r);
  for (const s in e.attrs) t.setAttribute(wP.has(s) ? s : yy(s), e.attrs[s]);
}
class i9 extends vP {
  constructor() {
    super(...arguments),
      (this.type = "svg"),
      (this.isSVGTag = !1),
      (this.measureInstanceViewportBox = ht);
  }
  getBaseTargetFromProps(e, n) {
    return e[n];
  }
  readValueFromInstance(e, n) {
    if (Ua.has(n)) {
      const r = C2(n);
      return (r && r.default) || 0;
    }
    return (n = wP.has(n) ? n : yy(n)), e.getAttribute(n);
  }
  scrapeMotionValuesFromProps(e, n, r) {
    return K2(e, n, r);
  }
  build(e, n, r) {
    H2(e, n, this.isSVGTag, r.transformTemplate, r.style);
  }
  renderInstance(e, n, r, s) {
    r9(e, n, r, s);
  }
  mount(e) {
    (this.isSVGTag = q2(e.tagName)), super.mount(e);
  }
}
const s9 = (t, e) =>
    wy(t) ? new i9(e) : new n9(e, { allowProjection: t !== L.Fragment }),
  o9 = s6({ ...k6, ...QO, ...LO, ...XO }, s9),
  wt = RV(o9);
var xP = {
    color: void 0,
    size: void 0,
    className: void 0,
    style: void 0,
    attr: void 0,
  },
  $1 = si.createContext && si.createContext(xP),
  a9 = ["attr", "size", "title"];
function l9(t, e) {
  if (t == null) return {};
  var n = u9(t, e),
    r,
    s;
  if (Object.getOwnPropertySymbols) {
    var a = Object.getOwnPropertySymbols(t);
    for (s = 0; s < a.length; s++)
      (r = a[s]),
        !(e.indexOf(r) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(t, r) &&
          (n[r] = t[r]);
  }
  return n;
}
function u9(t, e) {
  if (t == null) return {};
  var n = {};
  for (var r in t)
    if (Object.prototype.hasOwnProperty.call(t, r)) {
      if (e.indexOf(r) >= 0) continue;
      n[r] = t[r];
    }
  return n;
}
function nh() {
  return (
    (nh = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n)
              Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    nh.apply(this, arguments)
  );
}
function H1(t, e) {
  var n = Object.keys(t);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(t);
    e &&
      (r = r.filter(function (s) {
        return Object.getOwnPropertyDescriptor(t, s).enumerable;
      })),
      n.push.apply(n, r);
  }
  return n;
}
function rh(t) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e] != null ? arguments[e] : {};
    e % 2
      ? H1(Object(n), !0).forEach(function (r) {
          c9(t, r, n[r]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
      : H1(Object(n)).forEach(function (r) {
          Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(n, r));
        });
  }
  return t;
}
function c9(t, e, n) {
  return (
    (e = d9(e)),
    e in t
      ? Object.defineProperty(t, e, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (t[e] = n),
    t
  );
}
function d9(t) {
  var e = h9(t, "string");
  return typeof e == "symbol" ? e : e + "";
}
function h9(t, e) {
  if (typeof t != "object" || !t) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e);
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(t);
}
function EP(t) {
  return (
    t &&
    t.map((e, n) =>
      si.createElement(e.tag, rh({ key: n }, e.attr), EP(e.child))
    )
  );
}
function qt(t) {
  return (e) =>
    si.createElement(f9, nh({ attr: rh({}, t.attr) }, e), EP(t.child));
}
function f9(t) {
  var e = (n) => {
    var { attr: r, size: s, title: a } = t,
      l = l9(t, a9),
      d = s || n.size || "1em",
      f;
    return (
      n.className && (f = n.className),
      t.className && (f = (f ? f + " " : "") + t.className),
      si.createElement(
        "svg",
        nh(
          { stroke: "currentColor", fill: "currentColor", strokeWidth: "0" },
          n.attr,
          r,
          l,
          {
            className: f,
            style: rh(rh({ color: t.color || n.color }, n.style), t.style),
            height: d,
            width: d,
            xmlns: "http://www.w3.org/2000/svg",
          }
        ),
        a && si.createElement("title", null, a),
        t.children
      )
    );
  };
  return $1 !== void 0
    ? si.createElement($1.Consumer, null, (n) => e(n))
    : e(xP);
}
function p9(t) {
  return qt({
    attr: { viewBox: "0 0 320 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z",
        },
        child: [],
      },
    ],
  })(t);
}
function m9(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z",
        },
        child: [],
      },
    ],
  })(t);
}
function g9(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z",
        },
        child: [],
      },
    ],
  })(t);
}
function uo(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z",
        },
        child: [],
      },
    ],
  })(t);
}
function y9(t) {
  return qt({
    attr: { viewBox: "0 0 576 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z",
        },
        child: [],
      },
    ],
  })(t);
}
function v9(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z",
        },
        child: [],
      },
    ],
  })(t);
}
function Nh(t) {
  return qt({
    attr: { viewBox: "0 0 512 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z",
        },
        child: [],
      },
    ],
  })(t);
}
function _9(t) {
  return qt({
    attr: { viewBox: "0 0 576 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z",
        },
        child: [],
      },
    ],
  })(t);
}
function Tu(t) {
  return qt({
    attr: { viewBox: "0 0 384 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z",
        },
        child: [],
      },
    ],
  })(t);
}
function Mm(t) {
  return qt({
    attr: { viewBox: "0 0 512 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z",
        },
        child: [],
      },
    ],
  })(t);
}
function Ra(t) {
  return qt({
    attr: { viewBox: "0 0 512 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z",
        },
        child: [],
      },
    ],
  })(t);
}
function w9(t) {
  return qt({
    attr: { viewBox: "0 0 512 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z",
        },
        child: [],
      },
    ],
  })(t);
}
function Py(t) {
  return qt({
    attr: { viewBox: "0 0 576 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z",
        },
        child: [],
      },
    ],
  })(t);
}
function x9(t) {
  return qt({
    attr: { viewBox: "0 0 512 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z",
        },
        child: [],
      },
    ],
  })(t);
}
function E9(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z",
        },
        child: [],
      },
    ],
  })(t);
}
function T9(t) {
  return qt({
    attr: { viewBox: "0 0 640 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",
        },
        child: [],
      },
    ],
  })(t);
}
function TP(t) {
  return qt({
    attr: { viewBox: "0 0 448 512" },
    child: [
      {
        tag: "path",
        attr: {
          d: "M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",
        },
        child: [],
      },
    ],
  })(t);
}
const P9 = () => {
  var b;
  const [t, e] = L.useState(!1),
    [n, r] = L.useState(!0),
    [s, a] = L.useState(!0),
    { usuario: l, logout: d } = mo(),
    { setModalAbierto: f } = Ih(),
    p = L.useRef(null),
    g = L.useRef(null),
    w = Vr();
  let x = 0;
  const P = async () => {
    try {
      await d(), e(!1), w("/");
    } catch (N) {
      console.error("Error cerrando sesión", N);
    }
  };
  return (
    L.useEffect(() => {
      function N(k) {
        p.current &&
          !p.current.contains(k.target) &&
          !k.target.closest("#search-bar-container") &&
          e(!1);
      }
      return (
        document.addEventListener("mousedown", N),
        () => document.removeEventListener("mousedown", N)
      );
    }, []),
    L.useEffect(() => {
      g.current && g.current.focus();
    }, []),
    L.useEffect(() => {
      function N() {
        const k = window.pageYOffset;
        k > x ? a(!1) : a(!0), (x = k);
      }
      return (
        window.addEventListener("scroll", N),
        () => window.removeEventListener("scroll", N)
      );
    }, []),
    v.jsxs(v.Fragment, {
      children: [
        v.jsx(wt.header, {
          initial: { y: -120, opacity: 0 },
          animate: { y: 0, opacity: 1 },
          transition: { duration: 0.6, ease: "easeOut" },
          className:
            "fixed top-0 left-0 w-full bg-white shadow-md z-[9999] px-4 sm:px-6 py-3",
          style: {
            backdropFilter: "saturate(180%) blur(15px)",
            maxWidth: "100vw",
            overflowX: "hidden",
          },
          children: v.jsxs("div", {
            className:
              "flex items-center justify-between max-w-7xl mx-auto w-full gap-3 sm:gap-6",
            children: [
              v.jsxs(pe, {
                to: "/",
                className: "hidden sm:flex items-center gap-3 flex-shrink-0",
                children: [
                  v.jsx(wt.img, {
                    src: "/playcenter.jpeg",
                    alt: "Playcenter Universal",
                    className: "h-10 sm:h-12 object-contain",
                    whileHover: { scale: 1.05 },
                    transition: { type: "spring", stiffness: 300 },
                  }),
                  v.jsxs("div", {
                    className:
                      "hidden sm:flex flex-col leading-tight text-xs text-gray-700 font-medium",
                    children: [
                      v.jsxs("span", {
                        className:
                          "flex items-center gap-1 text-[11px] text-gray-500",
                        children: [
                          v.jsx(Tu, { className: "text-[#4FC3F7]" }),
                          "Envios",
                        ],
                      }),
                      v.jsx("strong", {
                        className:
                          "text-[12px] font-semibold text-gray-700 uppercase tracking-wide",
                        children: "EN TODO RD",
                      }),
                    ],
                  }),
                ],
              }),
              v.jsx("div", {
                className: "hidden sm:flex flex-grow max-w-xl",
                children: v.jsx(X0, {
                  onClose: () => r(!1),
                  ref: g,
                  placeholder: "Buscar en Playcenter.do",
                }),
              }),
              v.jsx("div", {
                id: "search-bar-container",
                className: "sm:hidden flex-grow max-w-full px-2",
                children: v.jsx(X0, {
                  onClose: () => {},
                  ref: g,
                  placeholder: "Buscar en Playcenter.do",
                }),
              }),
              v.jsxs("div", {
                className:
                  "hidden sm:flex items-center gap-6 text-sm font-medium text-gray-700",
                children: [
                  v.jsx(pe, {
                    to: "/",
                    className: "nav-link",
                    children: "Inicio",
                  }),
                  v.jsx(pe, {
                    to: "/Productos",
                    className: "nav-link",
                    children: "Categorías",
                  }),
                  v.jsx(pe, {
                    to: "/nosotros",
                    className: "nav-link",
                    children: "Nosotros",
                  }),
                  v.jsx(pe, {
                    to: "/contacto",
                    className: "nav-link",
                    children: "Contáctanos",
                  }),
                  v.jsx(pe, {
                    to: "/carrito",
                    className: "nav-link text-xl hover:scale-110",
                    children: "🛒",
                  }),
                ],
              }),
              l
                ? v.jsxs(wt.div, {
                    className: "relative hidden sm:block",
                    ref: p,
                    onClick: () => e(!t),
                    whileTap: { scale: 0.95 },
                    children: [
                      v.jsx("div", {
                        className:
                          "w-10 h-10 rounded-full overflow-hidden border-2 border-[#4FC3F7] shadow hover:shadow-lg transition cursor-pointer",
                        children: l.photoURL
                          ? v.jsx("img", {
                              src: l.photoURL,
                              alt: "Perfil",
                              className:
                                "w-full h-full object-cover rounded-full",
                            })
                          : v.jsx("div", {
                              className:
                                "w-full h-full bg-[#4FC3F7] text-white flex items-center justify-center font-bold text-base",
                              children:
                                ((b = l.displayName) == null
                                  ? void 0
                                  : b.charAt(0).toUpperCase()) || "U",
                            }),
                      }),
                      v.jsx(Ch, {
                        children:
                          t &&
                          v.jsxs(wt.div, {
                            initial: { opacity: 0, y: -10 },
                            animate: { opacity: 1, y: 0 },
                            exit: { opacity: 0, y: -10 },
                            transition: { duration: 0.2 },
                            className:
                              "absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",
                            children: [
                              v.jsx(pe, {
                                to: "/profile",
                                className:
                                  "block px-4 py-2 text-gray-700 hover:bg-[#4FC3F7] hover:text-white rounded-t-md",
                                onClick: () => e(!1),
                                children: "Mi Perfil",
                              }),
                              v.jsx("button", {
                                onClick: P,
                                className:
                                  "w-full text-left px-4 py-2 text-gray-700 hover:bg-red-500 hover:text-white rounded-b-md",
                                children: "Cerrar sesión",
                              }),
                            ],
                          }),
                      }),
                    ],
                  })
                : v.jsx(wt.button, {
                    onClick: () => f(!0),
                    className:
                      "hidden sm:inline-block px-4 py-2 text-sm bg-[#4FC3F7] hover:bg-[#3BB0F3] text-white rounded-lg font-semibold shadow transition",
                    whileHover: { scale: 1.05 },
                    whileTap: { scale: 0.95 },
                    children: "Iniciar sesión",
                  }),
            ],
          }),
        }),
        s &&
          v.jsxs("div", {
            className:
              "sm:hidden flex items-center justify-center gap-1 bg-[#E8F6FF] text-[#4FC3F7] py-1 text-[11px] font-semibold select-none fixed top-[58px] left-0 right-0 z-[9998]",
            children: [
              v.jsx(Tu, { className: "text-xs" }),
              v.jsx("span", { children: "Envíos a TODO RD" }),
            ],
          }),
        v.jsx("div", { className: "h-[100px] sm:h-[140px]" }),
      ],
    })
  );
};
function S9() {
  return v.jsx("div", {
    className: "hidden sm:block",
    children: v.jsxs("footer", {
      className:
        "relative bg-black text-gray-300 px-4 sm:px-6 lg:px-8 py-12 mt-20 overflow-hidden",
      children: [
        v.jsx("div", {
          className: "box-of-star1",
          children: Array.from({ length: 7 }).map((t, e) =>
            v.jsx("div", { className: `star star-position${e + 1}` }, e)
          ),
        }),
        v.jsx("div", {
          className: "box-of-star2",
          children: Array.from({ length: 7 }).map((t, e) =>
            v.jsx("div", { className: `star star-position${e + 1}` }, e)
          ),
        }),
        v.jsx("div", {
          className: "box-of-star3",
          children: Array.from({ length: 7 }).map((t, e) =>
            v.jsx("div", { className: `star star-position${e + 1}` }, e)
          ),
        }),
        v.jsx("div", {
          className: "box-of-star4",
          children: Array.from({ length: 7 }).map((t, e) =>
            v.jsx("div", { className: `star star-position${e + 1}` }, e)
          ),
        }),
        v.jsxs("div", {
          "data-js": "astro",
          className: "astronaut",
          children: [
            v.jsx("div", { className: "head" }),
            v.jsx("div", { className: "arm arm-left" }),
            v.jsx("div", { className: "arm arm-right" }),
            v.jsx("div", {
              className: "body",
              children: v.jsx("div", { className: "panel" }),
            }),
            v.jsx("div", { className: "leg leg-left" }),
            v.jsx("div", { className: "leg leg-right" }),
            v.jsx("div", { className: "schoolbag" }),
          ],
        }),
        v.jsxs("div", {
          className:
            "relative z-20 w-full max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 sm:gap-10",
          children: [
            v.jsxs("div", {
              className: "text-center sm:text-left",
              children: [
                v.jsx("h3", {
                  className: "text-white text-xl font-bold mb-4",
                  children: "Playcenter Universal",
                }),
                v.jsx("p", {
                  children:
                    "Tu universo de tecnología, estilo e innovación en Santiago, R.D.",
                }),
                v.jsxs("p", {
                  className:
                    "mt-3 flex justify-center sm:justify-start items-center gap-2",
                  children: [v.jsx(Mm, {}), " +1 (809) 582-1212 (Internet)"],
                }),
                v.jsxs("p", {
                  className:
                    "mt-2 flex justify-center sm:justify-start items-center gap-2",
                  children: [v.jsx(Mm, {}), " +1 (849) 635-7000 (Tienda)"],
                }),
                v.jsxs("p", {
                  className:
                    "mt-2 flex justify-center sm:justify-start items-center gap-2",
                  children: [v.jsx(Nh, {}), " playcenter121@gmail.com"],
                }),
              ],
            }),
            v.jsxs("div", {
              className: "text-center sm:text-left",
              children: [
                v.jsx("h3", {
                  className: "text-white text-lg sm:text-xl font-semibold mb-4",
                  children: "Enlaces útiles",
                }),
                v.jsxs("ul", {
                  className: "space-y-2",
                  children: [
                    v.jsx("li", {
                      children: v.jsx("a", {
                        href: "/Productos",
                        className: "hover:text-white transition",
                        children: "Productos",
                      }),
                    }),
                    v.jsx("li", {
                      children: v.jsx("a", {
                        href: "/Productos/ofertas-especiales",
                        className: "hover:text-white transition",
                        children: "Ofertas Especiales",
                      }),
                    }),
                    v.jsx("li", {
                      children: v.jsx("a", {
                        href: "/favoritos",
                        className: "hover:text-white transition",
                        children: "Favoritos",
                      }),
                    }),
                    v.jsx("li", {
                      children: v.jsx("a", {
                        href: "/contacto",
                        className: "hover:text-white transition",
                        children: "Contáctanos",
                      }),
                    }),
                  ],
                }),
              ],
            }),
            v.jsxs("div", {
              className: "text-center sm:text-left",
              children: [
                v.jsx("h3", {
                  className: "text-white text-lg sm:text-xl font-semibold mb-4",
                  children: "Horario",
                }),
                v.jsx("p", { children: "Lunes a Viernes: 8:30am - 5:30pm" }),
                v.jsx("p", { children: "Sábados: 8:30am - 12:30pm" }),
                v.jsx("p", { children: "Domingo: Cerrado" }),
              ],
            }),
            v.jsxs("div", {
              className: "text-center sm:text-left",
              children: [
                v.jsx("h3", {
                  className: "text-white text-lg sm:text-xl font-semibold mb-4",
                  children: "Síguenos",
                }),
                v.jsxs("div", {
                  className:
                    "flex flex-col items-center sm:items-start gap-3 text-base",
                  children: [
                    v.jsxs("a", {
                      href: "https://www.facebook.com/pcu12",
                      target: "_blank",
                      rel: "noreferrer",
                      className:
                        "flex items-center gap-3 text-white hover:text-blue-500 transition",
                      children: [
                        v.jsx(p9, { className: "text-xl" }),
                        " Facebook",
                      ],
                    }),
                    v.jsxs("a", {
                      href: "https://www.instagram.com/playcenter_universal/?hl=es",
                      target: "_blank",
                      rel: "noreferrer",
                      className:
                        "flex items-center gap-3 text-white hover:text-pink-500 transition",
                      children: [
                        v.jsx(m9, { className: "text-xl" }),
                        " Instagram",
                      ],
                    }),
                    v.jsxs("a", {
                      href: "https://www.tiktok.com/@playcenter_universal?lang=es",
                      target: "_blank",
                      rel: "noreferrer",
                      className:
                        "flex items-center gap-3 text-white hover:text-gray-100 transition",
                      children: [
                        v.jsx(g9, { className: "text-xl" }),
                        " TikTok",
                      ],
                    }),
                    v.jsxs("a", {
                      href: "https://youtube.com/@playcenteruniversal1916",
                      target: "_blank",
                      rel: "noreferrer",
                      className:
                        "flex items-center gap-3 text-white hover:text-red-500 transition",
                      children: [
                        v.jsx(y9, { className: "text-xl" }),
                        " YouTube",
                      ],
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        v.jsxs("p", {
          className: "text-center text-gray-500 text-sm mt-10 relative z-20",
          children: [
            "© ",
            new Date().getFullYear(),
            " Playcenter Universal. Todos los derechos reservados.",
          ],
        }),
      ],
    }),
  });
}
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const I9 = (t) => t.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(),
  b9 = (t) =>
    t.replace(/^([A-Z])|[\s-_]+(\w)/g, (e, n, r) =>
      r ? r.toUpperCase() : n.toLowerCase()
    ),
  W1 = (t) => {
    const e = b9(t);
    return e.charAt(0).toUpperCase() + e.slice(1);
  },
  PP = (...t) =>
    t
      .filter((e, n, r) => !!e && e.trim() !== "" && r.indexOf(e) === n)
      .join(" ")
      .trim(),
  C9 = (t) => {
    for (const e in t)
      if (e.startsWith("aria-") || e === "role" || e === "title") return !0;
  };
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ var A9 = {
  xmlns: "http://www.w3.org/2000/svg",
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  fill: "none",
  stroke: "currentColor",
  strokeWidth: 2,
  strokeLinecap: "round",
  strokeLinejoin: "round",
};
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const R9 = L.forwardRef(
  (
    {
      color: t = "currentColor",
      size: e = 24,
      strokeWidth: n = 2,
      absoluteStrokeWidth: r,
      className: s = "",
      children: a,
      iconNode: l,
      ...d
    },
    f
  ) =>
    L.createElement(
      "svg",
      {
        ref: f,
        ...A9,
        width: e,
        height: e,
        stroke: t,
        strokeWidth: r ? (Number(n) * 24) / Number(e) : n,
        className: PP("lucide", s),
        ...(!a && !C9(d) && { "aria-hidden": "true" }),
        ...d,
      },
      [
        ...l.map(([p, g]) => L.createElement(p, g)),
        ...(Array.isArray(a) ? a : [a]),
      ]
    )
);
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const SP = (t, e) => {
  const n = L.forwardRef(({ className: r, ...s }, a) =>
    L.createElement(R9, {
      ref: a,
      iconNode: e,
      className: PP(`lucide-${I9(W1(t))}`, `lucide-${t}`, r),
      ...s,
    })
  );
  return (n.displayName = W1(t)), n;
};
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const k9 = [["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]],
  N9 = SP("chevron-left", k9);
/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const j9 = [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]],
  D9 = SP("chevron-right", j9),
  ti = [
    {
      id: 1,
      img: "/ads/1.png",
      link: "/Productos/consolas",
      isExternal: !1,
    },
    {
      id: 2,
      img: "/ads/2.png",
      link: "https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",
      isExternal: !0,
    },
    {
      id: 3,
      img: "/ads/3.png",
      link: "/Productos/videojuegos",
      isExternal: !1,
    },
    {
      id: 4,
      img: "/ads/5.png",
      link: "/Productos/ofertas-especiales",
      isExternal: !1,
    },
    { id: 5, img: "/ads/4.png", link: "/Productos", isExternal: !1 },
  ];
function V9() {
  const [t, e] = L.useState(0),
    n = L.useRef(null),
    r = L.useRef(0),
    s = L.useRef(0),
    a = L.useRef(null),
    l = 6e3,
    d = L.useCallback(() => {
      clearTimeout(a.current),
        (a.current = setTimeout(() => {
          e((P) => (P + 1) % ti.length);
        }, l));
    }, []);
  L.useEffect(() => (d(), () => clearTimeout(a.current)), [t, d]);
  const f = () => {
      clearTimeout(a.current), e((P) => (P === 0 ? ti.length - 1 : P - 1));
    },
    p = () => {
      clearTimeout(a.current), e((P) => (P + 1) % ti.length);
    },
    g = (P) => {
      r.current = P.touches[0].clientX;
    },
    w = (P) => {
      s.current = P.touches[0].clientX;
    },
    x = () => {
      const P = s.current - r.current;
      Math.abs(P) > 50 && (P > 0 ? f() : p());
    };
  return v.jsxs("div", {
    ref: n,
    onTouchStart: g,
    onTouchMove: w,
    onTouchEnd: x,
    className: `relative w-full max-w-[1600px] mx-auto overflow-hidden rounded-xl shadow-xl
        h-[140px] sm:h-[180px] md:h-[260px] lg:h-[400px]`,
    children: [
      v.jsx("div", {
        className: "flex transition-transform duration-700 ease-in-out h-full",
        style: {
          width: `${ti.length * 100}%`,
          transform: `translateX(-${t * (100 / ti.length)}%)`,
        },
        children: ti.map((P) =>
          P.isExternal
            ? v.jsx(
                "a",
                {
                  href: P.link,
                  target: "_blank",
                  rel: "noopener noreferrer",
                  className: "w-full h-full flex-shrink-0",
                  style: { width: `${100 / ti.length}%` },
                  children: v.jsx("img", {
                    src: P.img,
                    alt: `Anuncio ${P.id}`,
                    loading: "lazy",
                    className:
                      "w-full h-full object-contain object-center transition-transform duration-500 hover:scale-[1.02]",
                  }),
                },
                P.id
              )
            : v.jsx(
                pe,
                {
                  to: P.link,
                  className: "w-full h-full flex-shrink-0",
                  style: { width: `${100 / ti.length}%` },
                  children: v.jsx("img", {
                    src: P.img,
                    alt: `Anuncio ${P.id}`,
                    loading: "lazy",
                    className:
                      "w-full h-full object-contain object-center transition-transform duration-500 hover:scale-[1.02]",
                  }),
                },
                P.id
              )
        ),
      }),
      v.jsx("button", {
        onClick: f,
        className:
          "absolute top-1/2 left-2 sm:left-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition",
        "aria-label": "Anterior",
        children: v.jsx(N9, { className: "text-white w-4 h-4 sm:w-6 sm:h-6" }),
      }),
      v.jsx("button", {
        onClick: p,
        className:
          "absolute top-1/2 right-2 sm:right-4 -translate-y-1/2 bg-black/40 hover:bg-black/60 backdrop-blur rounded-full p-1.5 sm:p-3 z-20 transition",
        "aria-label": "Siguiente",
        children: v.jsx(D9, { className: "text-white w-4 h-4 sm:w-6 sm:h-6" }),
      }),
      v.jsx("div", {
        className:
          "absolute bottom-3 sm:bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",
        children: ti.map((P, b) =>
          v.jsx(
            "button",
            {
              onClick: () => {
                clearTimeout(a.current), e(b);
              },
              "aria-label": `Ir al slide ${b + 1}`,
              className: `w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${
                b === t
                  ? "bg-white opacity-90 scale-110"
                  : "bg-white opacity-40"
              } transition`,
            },
            b
          )
        ),
      }),
    ],
  });
}
const O9 = [
  {
    id: 1,
    img: "/ads/movil/articulosads.png",
    link: "/Productos/consolas",
    isExternal: !1,
  },
  {
    id: 2,
    img: "/ads/movil/camarasads.png",
    link: "https://maps.app.goo.gl/ZSXza3ESVeLEPPx78",
    isExternal: !0,
  },
  {
    id: 3,
    img: "/ads/movil/consolaads.png",
    link: "/Productos/consolas",
    isExternal: !1,
  },
  {
    id: 4,
    img: "/ads/movil/ofertas.png",
    link: "/Productos/ofertas-especiales",
    isExternal: !1,
  },
  {
    id: 5,
    img: "/ads/movil/Productosads.png",
    link: "/Productos",
    isExternal: !1,
  },
];
function M9() {
  return v.jsx("div", {
    className: "block sm:hidden w-full max-w-[600px] mx-auto px-3 py-4",
    children: v.jsx("div", {
      className:
        "flex overflow-x-auto snap-x snap-mandatory scrollbar-hide space-x-3",
      style: { scrollPaddingLeft: "12px", scrollPaddingRight: "12px" },
      children: O9.map((t) =>
        v.jsx(
          "a",
          {
            href: t.link,
            target: t.isExternal ? "_blank" : "_self",
            rel: "noreferrer",
            className:
              "flex-shrink-0 w-[300px] h-[420px] rounded-xl overflow-hidden shadow-lg bg-white snap-center",
            children: v.jsx("img", {
              src: t.img,
              alt: `Anuncio ${t.id}`,
              className: "w-full h-full object-cover",
              draggable: !1,
            }),
          },
          t.id
        )
      ),
    }),
  });
}
const iu = [
  {
    categoria: "Retro Consolas",
    productos: [
      {
        id: "rc1",
        nombre: "Nintendo Entertainment System (NES)",
        precio: 120,
        imagen: "/Productos/nintendoentertainment.jpeg",
        descripcion: "La consola que marcó el inicio de una generación gamer.",
        imagenes: ["/Productos/nintendoentertainment.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rc2",
        nombre: "Super Nintendo (SNES)",
        precio: 140,
        imagen: "/Productos/supernintendo.avif",
        descripcion: "Gráficos coloridos, clásicos como Super Mario World.",
        imagenes: ["/Productos/supernintendo.avif"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "rc3",
        nombre: "Sega Genesis",
        precio: 110,
        imagen: "/Productos/segagenesis.webp",
        descripcion: "Sonic, Streets of Rage y más.",
        imagenes: ["/Productos/segagenesis.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rc4",
        nombre: "PlayStation 1",
        precio: 130,
        imagen: "/Productos/playstation1.webp",
        descripcion: "Donde empezó la leyenda de Crash y Final Fantasy.",
        imagenes: ["/Productos/playstation1.webp"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "rc5",
        nombre: "Game Boy Classic",
        precio: 90,
        imagen: "/Productos/gameboy.jpg",
        descripcion: "Pokémon Red en tu bolsillo.",
        imagenes: ["/Productos/gameboy.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rc6",
        nombre: "Atari 2600",
        precio: 100,
        imagen: "/Productos/atari2600.png",
        descripcion: "La precursora de las consolas modernas.",
        imagenes: ["/Productos/atari2600.png"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Retro Juegos",
    productos: [
      {
        id: "rj1",
        nombre: "Super Mario Bros. (NES)",
        precio: 35,
        imagen: "/Productos/mariobrosretro.jpg",
        descripcion: "El juego más icónico de plataformas 2D.",
        imagenes: ["/Productos/mariobrosretro.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rj2",
        nombre: "The Legend of Zelda (NES)",
        precio: 40,
        imagen: "/Productos/zeldaretro.jpg",
        descripcion: "Explora Hyrule en 8 bits.",
        imagenes: ["/Productos/zeldaretro.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "rj3",
        nombre: "Donkey Kong Country (SNES)",
        precio: 42,
        imagen: "/Productos/donkeykongnretro.jpeg",
        descripcion: "Gráficos renderizados pioneros.",
        imagenes: ["/Productos/donkeykongnretro.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rj4",
        nombre: "Crash Bandicoot (PS1)",
        precio: 38,
        imagen: "/Productos/crash-bandicoat-PS1.webp",
        descripcion: "Aventura en 3D de culto.",
        imagenes: ["/Productos/crash-bandicoat-PS1.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rj5",
        nombre: "Final Fantasy VII (PS1)",
        precio: 55,
        imagen: "/Productos/ff7.jpg",
        descripcion: "RPG legendario que marcó época.",
        imagenes: ["/Productos/ff7.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Audífonos",
    productos: [
      {
        id: "au1",
        nombre: "Bluetooth Pro 2024",
        imagen: "/Productos/audifonos-bluetooth.jpg",
        precio: 999,
        descripcion: "Cancelación de ruido con batería de 30h.",
        imagenes: ["/Productos/audifonos-bluetooth.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "au2",
        nombre: "Auriculares Gamer RGB",
        imagen: "/Productos/audifonos-gamer.jpg",
        precio: 1299,
        descripcion: "Luz, sonido 3D y confort extremo.",
        imagenes: ["/Productos/audifonos-gamer.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "au3",
        nombre: "In-Ear Pro Noise Cancel",
        imagen: "/Productos/audifonos-inear.jpg",
        precio: 199,
        descripcion: "Sonido puro para llamadas y música.",
        imagenes: ["/Productos/audifonos-inear.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "au4",
        nombre: "Audífonos deportivos resistentes al agua",
        imagen: "/Productos/audifonos-sport.jpg",
        precio: 149.99,
        descripcion: "Ideales para entrenar sin cables.",
        imagenes: ["/Productos/audifonos-sport.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Cables",
    productos: [
      {
        id: "cb1",
        nombre: "USB-C a Lightning (1m)",
        imagen: "/Productos/usb-c.jpg",
        precio: 14.99,
        descripcion: "Carga rápida para iPhone y iPad.",
        imagenes: ["/Productos/usb-c.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cb2",
        nombre: "HDMI 4K (2m)",
        imagen: "/Productos/hdmi4k.jpeg",
        precio: 12.99,
        descripcion: "Video y audio en alta definición.",
        imagenes: ["/Productos/hdmi4k.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cb3",
        nombre: "USB 3.0 a Micro USB",
        imagen: "/Productos/micro.jpg",
        precio: 9.99,
        descripcion: "Transferencia rápida para móviles.",
        imagenes: ["/Productos/micro.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "cb4",
        nombre: "Ethernet Cat6 (1.5m)",
        imagen: "/Productos/ethernet.jpeg",
        precio: 19.99,
        descripcion: "Internet sin interferencias.",
        imagenes: ["/Productos/ethernet.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cb5",
        nombre: "DisplayPort 1.4 2m",
        imagen: "/Productos/displayport.jpg",
        precio: 24.99,
        descripcion: "Soporta hasta 8K a 60Hz.",
        imagenes: ["/Productos/displayport.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Tu Rincón Variado",
    productos: [
      {
        id: "rv1",
        nombre: "Bicicleta Urbana MTB 26'' Mongoose",
        imagen: "/Productos/mongose.jpg",
        precio: 379.99,
        descripcion: "Mongoose, la clásica MTB para la ciudad y off-road.",
        imagenes: ["/Productos/mongose.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "rv2",
        nombre: "Patineta Eléctrica Plegable",
        imagen: "/Productos/patinetaelectrica.jpg",
        precio: 499.99,
        descripcion: "Compacta, ligera, alcance hasta 25km y full power.",
        imagenes: ["/Productos/patinetaelectrica.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rv3",
        nombre: 'Hoverboard Autoequilibrado 10"',
        imagen: "/Productos/hoverboard.jpg",
        precio: 299.99,
        descripcion: "Tecnología smart para moverte con estilo y velocidad.",
        imagenes: ["/Productos/hoverboard.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "rv4",
        nombre: "Patines en línea 4 ruedas",
        imagen: "/Productos/patines4ruedaasenlinea.jpeg",
        precio: 79.99,
        descripcion: "Estilo y velocidad para deslizarte con flow.",
        imagenes: ["/Productos/patines4ruedaasenlinea.jpeg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "rv5",
        nombre: "Patines clásicos 4 ruedas",
        imagen: "/Productos/patinesclasicos.webp",
        precio: 69.99,
        descripcion: "Roller clásico para pura diversión.",
        imagenes: ["/Productos/patinesclasicos.webp"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "rv6",
        nombre: "Ruedas de repuesto para patineta",
        imagen: "/Productos/ruedapatineta.webp",
        precio: 24.99,
        descripcion: "Juego de 4 ruedas para tu patineta o longboard.",
        imagenes: ["/Productos/ruedapatineta.webp"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "rv7",
        nombre: "Casco Protector Urbano",
        imagen: "/Productos/casco.jpg",
        precio: 59.99,
        descripcion: "Seguridad y estilo en un solo casco moderno.",
        imagenes: ["/Productos/casco.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "rv8",
        nombre: "Botella Térmica 1L Acero Inoxidable",
        imagen: "/Productos/botella.jpg",
        precio: 19.99,
        descripcion: "Mantiene tus bebidas frías o calientes por horas.",
        imagenes: ["/Productos/botella.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "rv9",
        nombre: "Luz LED Recargable para Bicicleta",
        imagen: "/Productos/lucesbici.webp",
        precio: 24.99,
        descripcion: "Visibilidad garantizada en la noche, USB recargable.",
        imagenes: ["/Productos/lucesbici.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Cámaras",
    productos: [
      {
        id: "cam1",
        nombre: "Cámara Hikvision Dome 4MP",
        precio: 120,
        descripcion:
          "Cámara de seguridad tipo Dome con resolución 4MP, visión nocturna y carcasa resistente.",
        categoria: "camaras-vigilancia",
        imagen: "/Productos/hikvision.png",
        estado: "Nuevo",
      },
      {
        id: "cam2",
        nombre: "Cámara Dahua Bullet Full HD",
        precio: 95,
        descripcion:
          "Cámara Bullet Full HD con lente gran angular, ideal para exteriores.",
        categoria: "camaras-vigilancia",
        imagen: "/Productos/dahua.webp",
        estado: "Nuevo",
      },
      {
        id: "cam3",
        nombre: "Cámara EZVIZ WiFi 1080p",
        precio: 75,
        descripcion:
          "Cámara WiFi con grabación en la nube, visión nocturna y audio bidireccional.",
        categoria: "camaras-vigilancia",
        imagen: "/Productos/ezviz.png",
        estado: "Nuevo",
      },
      {
        id: "cam4",
        nombre: "Cámara TP-Link Tapo C200",
        precio: 60,
        descripcion:
          "Cámara PTZ con movimiento horizontal y vertical, notificaciones instantáneas y almacenamiento local.",
        categoria: "camaras-vigilancia",
        imagen: "/Productos/tapo.webp",
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Cargadores",
    productos: [
      {
        id: "cg1",
        nombre: "Cargador rápido USB-C 20W",
        imagen: "/Productos/cargador-rapido.jpg",
        precio: 499,
        descripcion: "Carga eficiente para Android y iPhone.",
        imagenes: ["/Productos/cargador-rapido.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cg2",
        nombre: "Cargador inalámbrico universal",
        imagen: "/Productos/cargador-inalambrico.jpg",
        precio: 599,
        descripcion:
          "Compatible con smartphones que permiten carga por inducción.",
        imagenes: ["/Productos/cargador-inalambrico.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cg3",
        nombre: "Power Bank 20,000 mAh",
        imagen: "/Productos/powerbank.jpg",
        precio: 399,
        descripcion: "Carga hasta 3 dispositivos con alta capacidad.",
        imagenes: ["/Productos/powerbank.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cg4",
        nombre: "Cargador doble USB 30W",
        imagen: "/Productos/cargador-doble.jpg",
        precio: 299,
        descripcion: "Ideal para cargar dos equipos a la vez.",
        imagenes: ["/Productos/cargador-doble.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Celulares",
    productos: [
      {
        id: "cl1",
        nombre: "iPhone 14 Pro",
        imagen: "/Productos/iphone14pro.jpg",
        precio: 999.99,
        descripcion: "Pantalla Super Retina XDR, chip A16 Bionic.",
        imagenes: ["/Productos/iphone14pro.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cl2",
        nombre: "Samsung Galaxy S22",
        imagen: "/Productos/galaxy-s22.jpg",
        precio: 899.99,
        descripcion: "Cámara profesional en formato móvil.",
        imagenes: ["/Productos/galaxy-s22.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cl3",
        nombre: "Google Pixel 7",
        imagen: "/Productos/pixel7.jpg",
        precio: 799.99,
        descripcion: "Inteligencia artificial integrada al sistema.",
        imagenes: ["/Productos/pixel7.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "cl4",
        nombre: "Motorola Edge 30",
        imagen: "/Productos/moto-edge30.jpg",
        precio: 699.99,
        descripcion: "Pantalla OLED, 144Hz y gran batería.",
        imagenes: ["/Productos/moto-edge30.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Consolas",
    productos: [
      {
        id: "cs1",
        nombre: "PlayStation 5",
        imagen: "/Productos/ps5.webp",
        precio: 499.99,
        descripcion: "Gráficos de nueva generación y control DualSense.",
        imagenes: ["/Productos/ps5.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cs2",
        nombre: "Xbox Series X",
        imagen: "/Productos/xboxseriesx.webp",
        precio: 499.99,
        descripcion: "La consola más potente de Microsoft.",
        imagenes: ["/Productos/xboxseriesx.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cs3",
        nombre: "Nintendo Switch OLED",
        imagen: "/Productos/nintendoswitch.jpg",
        precio: 349.99,
        descripcion: "Llévala donde quieras con pantalla brillante.",
        imagenes: ["/Productos/nintendoswitch.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "cs4",
        nombre: "Steam Deck",
        imagen: "/Productos/steam-deck.jpg",
        precio: 399.99,
        descripcion: "Gaming portátil con rendimiento de PC.",
        imagenes: ["/Productos/steam-deck.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "cs5",
        nombre: "PlayStation 4",
        imagen: "/Productos/ps4.jpg",
        precio: 299.99,
        descripcion: "La consola que marcó una generación de gamers.",
        imagenes: ["/Productos/ps4.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "cs6",
        nombre: "Xbox One",
        imagen: "/Productos/xboxone.webp",
        precio: 279.99,
        descripcion:
          "Disfruta juegos, entretenimiento y apps en una sola consola.",
        imagenes: ["/Productos/xboxone.webp"],
        oferta: !0,
        estado: "Usado",
      },
    ],
  },
  {
    categoria: "Discos Duros",
    productos: [
      {
        id: "dd1",
        nombre: "Seagate 1TB Externo",
        imagen: "/Productos/seagate.png",
        precio: 59.99,
        descripcion: "Pequeño, rápido y confiable.",
        imagenes: ["/Productos/seagate.png"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "dd2",
        nombre: "SSD Samsung 500GB",
        imagen: "/Productos/samsung.webp",
        precio: 89.99,
        descripcion: "Perfecto para acelerar tu sistema.",
        imagenes: ["/Productos/samsung.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "dd3",
        nombre: "WD 2TB Externo",
        imagen: "/Productos/wd2tb.jpg",
        precio: 79.99,
        descripcion: "Ideal para respaldo completo.",
        imagenes: ["/Productos/wd2tb.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "dd4",
        nombre: "Crucial X6 SSD 1TB",
        imagen: "/Productos/crucial.jpg",
        precio: 99.99,
        descripcion: "Ultraportátil con conexión USB-C.",
        imagenes: ["/Productos/crucial.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "dd5",
        nombre: "LaCie Rugged 4TB",
        imagen: "/Productos/lacie-rugged.jpg",
        precio: 179.99,
        descripcion: "Resistente a golpes y polvo, ideal para creativos.",
        imagenes: ["/Productos/lacie-rugged.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Electrodomésticos",
    productos: [
      {
        id: "ed1",
        nombre: "Licuadora Oster clásica",
        imagen: "/Productos/licuadora-oster.jpg",
        precio: 69.99,
        descripcion: "Motor potente con jarra de vidrio.",
        imagenes: ["/Productos/licuadora-oster.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "ed2",
        nombre: "Microondas Samsung 1000W",
        imagen: "/Productos/microondas.jpg",
        precio: 129.99,
        descripcion: "Moderno, rápido y eficiente.",
        imagenes: ["/Productos/microondas.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "ed3",
        nombre: "Robot aspiradora Xiaomi",
        imagen: "/Productos/xiaomi-aspiradora.jpg",
        precio: 199.99,
        descripcion: "Limpieza automática vía app.",
        imagenes: ["/Productos/xiaomi-aspiradora.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "ed4",
        nombre: "Freidora de aire Philips",
        imagen: "/Productos/freidora.jpg",
        precio: 159.99,
        descripcion: "Cocina sin aceite y más saludable.",
        imagenes: ["/Productos/freidora.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Gaming Chairs",
    productos: [
      {
        id: "gc1",
        nombre: "Silla Gamer Reclinable RGB",
        imagen: "/Productos/silla-gamer-rgb.jpg",
        precio: 229.99,
        descripcion: "Iluminación RGB y soporte lumbar acolchado.",
        imagenes: ["/Productos/silla-gamer-rgb.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "gc2",
        nombre: "Silla Ergonómica con cojines ajustables",
        imagen: "/Productos/silla-gamer-cojines.jpg",
        precio: 199.99,
        descripcion: "Reposacabeza ajustable y respaldo reforzado.",
        imagenes: ["/Productos/silla-gamer-cojines.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "gc3",
        nombre: "Silla barata Gamer negra",
        imagen: "/Productos/silla-gamer-barata.jpg",
        precio: 129.99,
        descripcion: "Diseño básico pero funcional.",
        imagenes: ["/Productos/silla-gamer-barata.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "gc4",
        nombre: "Silla Gaming con reposapiés",
        imagen: "/Productos/silla-reposapies.jpg",
        precio: 189.99,
        descripcion: "Máxima comodidad en sesiones largas.",
        imagenes: ["/Productos/silla-reposapies.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Laptops",
    productos: [
      {
        id: "lp1",
        nombre: "Laptop Dell Inspiron 15",
        imagen: "/Productos/dell-inspiron15.jpg",
        precio: 799.99,
        descripcion: "Intel i5, SSD 256GB, pantalla 15.6”.",
        imagenes: ["/Productos/dell-inspiron15.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "lp2",
        nombre: "MacBook Air M2",
        imagen: "/Productos/macbook-air-m2.jpg",
        precio: 1199.99,
        descripcion: "Ligera, elegante y veloz.",
        imagenes: ["/Productos/macbook-air-m2.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "lp3",
        nombre: "ASUS ROG Gamer",
        imagen: "/Productos/asus-rog.jpg",
        precio: 1499.99,
        descripcion: "Tarjeta gráfica potente y diseño agresivo.",
        imagenes: ["/Productos/asus-rog.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "lp4",
        nombre: "Lenovo IdeaPad 3",
        imagen: "/Productos/ideapad.jpg",
        precio: 649.99,
        descripcion: "Perfecta para estudiantes y oficina.",
        imagenes: ["/Productos/ideapad.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Monitores",
    productos: [
      {
        id: "mn1",
        nombre: "LG 27 pulgadas 4K",
        imagen: "/Productos/monitor-lg-4k.jpg",
        precio: 399.99,
        descripcion: "Colores vibrantes para diseño y gaming.",
        imagenes: ["/Productos/monitor-lg-4k.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "mn2",
        nombre: "Samsung Curvo 32 pulgadas",
        imagen: "/Productos/monitor-samsung-curvo.jpg",
        precio: 349.99,
        descripcion: "Inmersión completa con su forma curva.",
        imagenes: ["/Productos/monitor-samsung-curvo.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "mn3",
        nombre: "Acer 24 pulgadas Full HD",
        imagen: "/Productos/monitor-acer-24.jpg",
        precio: 199.99,
        descripcion: "Rápido y eficiente para tareas cotidianas.",
        imagenes: ["/Productos/monitor-acer-24.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "mn4",
        nombre: "Monitor BenQ 144Hz 27”",
        imagen: "/Productos/monitor-benq.jpg",
        precio: 289.99,
        descripcion: "Ideal para eSports.",
        imagenes: ["/Productos/monitor-benq.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Tablets",
    productos: [
      {
        id: "tb1",
        nombre: "iPad Pro 12.9",
        imagen: "/Productos/ipad-pro.jpg",
        precio: 999.99,
        descripcion: "Chip M1 y pantalla Liquid Retina.",
        imagenes: ["/Productos/ipad-pro.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "tb2",
        nombre: "Samsung Galaxy Tab S8",
        imagen: "/Productos/galaxy-tab-s8.jpg",
        precio: 799.99,
        descripcion: "Ligera, potente y con pantalla AMOLED.",
        imagenes: ["/Productos/galaxy-tab-s8.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "tb3",
        nombre: "Amazon Fire HD 10",
        imagen: "/Productos/fire-hd10.jpg",
        precio: 149.99,
        descripcion: "Ideal para lectura y video.",
        imagenes: ["/Productos/fire-hd10.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "tb4",
        nombre: "Huawei MatePad 10.4",
        imagen: "/Productos/huawei-matepad.jpg",
        precio: 299.99,
        descripcion: "Diseño delgado y pantalla nítida.",
        imagenes: ["/Productos/huawei-matepad.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Teclados",
    productos: [
      {
        id: "tk1",
        nombre: "Teclado inalámbrico Logitech K380",
        imagen: "/Productos/teclado-logitech-k380.jpg",
        precio: 39.99,
        descripcion: "Multidispositivo, compacto y silencioso.",
        imagenes: ["/Productos/teclado-logitech-k380.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "tk2",
        nombre: "Teclado mecánico RGB gaming",
        imagen: "/Productos/teclado-gamer-rgb.jpg",
        precio: 79.99,
        descripcion: "Iluminación personalizable y switches táctiles.",
        imagenes: ["/Productos/teclado-gamer-rgb.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "tk3",
        nombre: "Teclado ergonómico dividido Microsoft",
        imagen: "/Productos/teclado-ergonomico.jpg",
        precio: 59.99,
        descripcion: "Diseño para largas sesiones de escritura.",
        imagenes: ["/Productos/teclado-ergonomico.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Videojuegos",
    productos: [
      {
        id: "vj1",
        nombre: "FIFA 23",
        imagen: "/Productos/fifa23.jpg",
        precio: 59.99,
        descripcion: "Fútbol con mejoras gráficas y físicas.",
        imagenes: ["/Productos/fifa23.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "vj3",
        nombre: "The Legend of Zelda: Breath of the Wild",
        imagen: "/Productos/zelda.webp",
        precio: 59.99,
        descripcion: "Aventura épica en mundo abierto.",
        imagenes: ["/Productos/zelda.webp"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "vj4",
        nombre: "Gran Turismo 7",
        imagen: "/Productos/gt7.jpg",
        precio: 69.99,
        descripcion: "Simulación de autos realista.",
        imagenes: ["/Productos/gt7.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "vj5",
        nombre: "Marvel's Spider-Man: Miles Morales (PS5)",
        imagen: "/Productos/spider-manps5.jpeg",
        precio: 49.99,
        descripcion: "Ágil y cinematográfica aventura del universo Marvel.",
        imagenes: ["/Productos/spider-manps5.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "vj6",
        nombre: "Mario Kart 8 Deluxe (Switch)",
        imagen: "/Productos/Mario-Kart-8.jpeg",
        precio: 59.99,
        descripcion: "Carreras locas, ítems clásicos y multiplayer épico.",
        imagenes: ["/Productos/Mario-Kart-8.jpeg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "vj7",
        nombre: "Super Smash Bros. Ultimate (Switch)",
        imagen: "/Productos/super-smash-bros.jpg",
        precio: 64.99,
        descripcion: "El crossover de batallas más grande de Nintendo.",
        imagenes: ["/Productos/super-smash-bros.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Smart TV",
    productos: [
      {
        id: "tv1",
        nombre: 'Samsung Smart TV 55" UHD',
        imagen: "/Productos/samsung-smarttv.jpg",
        precio: 499.99,
        descripcion: "4K UHD, control por voz y apps integradas.",
        imagenes: ["/Productos/samsung-smarttv.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "tv2",
        nombre: "LG OLED 65 pulgadas",
        imagen: "/Productos/lg-oled65.jpg",
        precio: 1199.99,
        descripcion: "Negros profundos y colores realistas.",
        imagenes: ["/Productos/lg-oled65.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "tv3",
        nombre: 'Hisense 43" FHD Smart TV',
        imagen: "/Productos/hisense-43.jpg",
        precio: 299.99,
        descripcion: "Compacta y con acceso rápido a streaming.",
        imagenes: ["/Productos/hisense-43.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Memorias USB",
    productos: [
      {
        id: "usb1",
        nombre: "USB SanDisk 64GB",
        imagen: "/Productos/sandisk.jpeg",
        precio: 12.99,
        descripcion: "Compacta y veloz para llevar tus archivos.",
        imagenes: ["/Productos/sandisk.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "usb2",
        nombre: "Kingston 128GB USB 3.1",
        imagen: "/Productos/kingston.webp",
        precio: 19.99,
        descripcion: "Velocidades superiores para trabajo o backup.",
        imagenes: ["/Productos/kingston.webp"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "usb3",
        nombre: "HP v150w 32GB",
        imagen: "/Productos/hp.jpeg",
        precio: 8.99,
        descripcion: "Diseño duradero y práctico.",
        imagenes: ["/Productos/hp.jpeg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "usb4",
        nombre: "Corsair Flash Voyager 256GB",
        imagen: "/Productos/corsair.avif",
        precio: 49.99,
        descripcion: "Almacenamiento masivo en formato USB 3.0.",
        imagenes: ["/Productos/corsair.avif"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "usb5",
        nombre: "Patriot Supersonic Rage 2 128GB",
        imagen: "/Productos/patriot-rage2.jpg",
        precio: 39.99,
        descripcion: "Transferencia ultrarrápida hasta 400MB/s.",
        imagenes: ["/Productos/patriot-rage2.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Hogar Inteligente",
    productos: [
      {
        id: "hi1",
        nombre: "Foco inteligente Wi-Fi RGB",
        imagen: "/Productos/foco-inteligente.jpg",
        precio: 24.99,
        descripcion: "Control desde app o comandos de voz.",
        imagenes: ["/Productos/foco-inteligente.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi2",
        nombre: "Enchufe inteligente TP-Link",
        imagen: "/Productos/enchufe-inteligente.jpg",
        precio: 21.99,
        descripcion: "Enciende o apaga tus dispositivos remotamente.",
        imagenes: ["/Productos/enchufe-inteligente.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "hi4",
        nombre: "Sensor de movimiento Wi-Fi",
        imagen: "/Productos/sensor-movimiento.jpg",
        precio: 19.99,
        descripcion: "Detecta presencia y envía alertas a tu celular.",
        imagenes: ["/Productos/sensor-movimiento.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi5",
        nombre: "Interruptor de pared inteligente",
        imagen: "/Productos/interruptor-inteligente.jpg",
        precio: 29.99,
        descripcion: "Convierte cualquier luz convencional en smart.",
        imagenes: ["/Productos/interruptor-inteligente.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "hi6",
        nombre: "Sensor de puertas y ventanas",
        imagen: "/Productos/sensor-puerta.jpg",
        precio: 17.99,
        descripcion: "Recibe notificaciones cuando se abren o cierran.",
        imagenes: ["/Productos/sensor-puerta.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi7",
        nombre: "Humidificador inteligente con luz LED",
        imagen: "/Productos/humidificador-smart.jpg",
        precio: 34.99,
        descripcion: "Conéctalo a Alexa o Google Assistant y relájate.",
        imagenes: ["/Productos/humidificador-smart.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi8",
        nombre: "Amazon Echo Dot 4ta Generación",
        imagen: "/Productos/echo-dot.jpg",
        precio: 49.99,
        descripcion: "Altavoz inteligente con Alexa integrado.",
        imagenes: ["/Productos/echo-dot.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi9",
        nombre: "Amazon Echo Show 8",
        imagen: "/Productos/echo-show-8.jpg",
        precio: 89.99,
        descripcion:
          "Pantalla inteligente para videollamadas y control del hogar.",
        imagenes: ["/Productos/echo-show-8.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi10",
        nombre: "Echo Auto",
        imagen: "/Productos/echo-auto.jpg",
        precio: 49.99,
        descripcion: "Alexa para tu vehículo con manos libres.",
        imagenes: ["/Productos/echo-auto.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "hi11",
        nombre: "Smart Plug compatible con Alexa",
        imagen: "/Productos/smart-plug-alexa.jpg",
        precio: 19.99,
        descripcion: "Controla cualquier aparato con comandos de voz.",
        imagenes: ["/Productos/smart-plug-alexa.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "hi12",
        nombre: "Control remoto infrarrojo inteligente",
        imagen: "/Productos/ir-remote.jpg",
        precio: 23.99,
        descripcion: "Control universal de TV, aire y más vía Alexa.",
        imagenes: ["/Productos/ir-remote.jpg"],
        oferta: !1,
        estado: "Usado",
      },
    ],
  },
  {
    categoria: "Impresoras",
    productos: [
      {
        id: "imp001",
        nombre: "Impresora Epson EcoTank L3250",
        imagen: "/Productos/epson-l3250.jpg",
        precio: 229.99,
        descripcion:
          "Impresora multifuncional con sistema de tinta continua, ideal para hogar y oficina.",
        imagenes: ["/Productos/epson-l3250.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "imp002",
        nombre: "HP DeskJet 4155e All-in-One",
        imagen: "/Productos/hp-deskjet.jpg",
        precio: 119.99,
        descripcion:
          "Impresión inalámbrica, escaneo y copia desde tu celular con la app HP Smart.",
        imagenes: ["/Productos/hp-deskjet.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "imp003",
        nombre: "Brother HL-L2350DW Láser monocromática",
        imagen: "/Productos/brother-hl.jpg",
        precio: 179.99,
        descripcion:
          "Impresora láser rápida y compacta con Wi-Fi y auto dúplex.",
        imagenes: ["/Productos/brother-hl.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "imp004",
        nombre: "Canon PIXMA G5020",
        imagen: "/Productos/canon-pixma-g5020.jpg",
        precio: 199.99,
        descripcion:
          "Tanques de tinta integrados, gran rendimiento por página, ideal para impresión masiva.",
        imagenes: ["/Productos/canon-pixma-g5020.jpg"],
        oferta: !1,
        estado: "Usado",
      },
    ],
  },
  {
    categoria: "Nuevos Lanzamientos",
    productos: [
      {
        id: "nl1",
        nombre: "PlayStation Portal",
        imagen: "/Productos/playstation-portal.jpg",
        precio: 199.99,
        descripcion: "Juego remoto de PS5 en tus manos.",
        imagenes: ["/Productos/playstation-portal.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "nl2",
        nombre: "Apple Vision Pro",
        imagen: "/Productos/vision-pro.jpg",
        precio: 3499,
        descripcion: "Revoluciona tu espacio con realidad mixta.",
        imagenes: ["/Productos/vision-pro.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "nl3",
        nombre: "Nintendo Switch 2 ",
        imagen: "/Productos/switch2.jpg",
        precio: 449.99,
        descripcion: "Pantalla mejorada, nuevo dock y retrocompatibilidad.",
        imagenes: ["/Productos/switch2.jpg"],
        oferta: !0,
        estado: "Usado",
      },
    ],
  },
  {
    categoria: "Ofertas Especiales",
    productos: [
      {
        id: "of1",
        nombre: "Combo: PS5 + 2 juegos",
        imagen: "/Productos/combo-ps5.jpg",
        precio: 549.99,
        descripcion: "Incluye Spider-Man y God of War.",
        imagenes: ["/Productos/combo-ps5.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "of2",
        nombre: "Combo gamer: Silla + Mousepad RGB",
        imagen: "/Productos/combo-gamer.jpg",
        precio: 279.99,
        descripcion: "Estilo, comodidad y precisión.",
        imagenes: ["/Productos/combo-gamer.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "of3",
        nombre: "Oferta Smart TV + Soporte",
        imagen: "/Productos/combo-tv.jpg",
        precio: 519.99,
        descripcion: "Ideal para tu setup de sala o habitación.",
        imagenes: ["/Productos/combo-tv.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Relojes Inteligentes",
    productos: [
      {
        id: "rl1",
        nombre: "Apple Watch Series 9",
        imagen: "/Productos/apple-watch9.jpg",
        precio: 399.99,
        descripcion: "Monitoreo avanzado de salud y entrenamiento.",
        imagenes: ["/Productos/apple-watch9.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rl2",
        nombre: "Samsung Galaxy Watch 6",
        imagen: "/Productos/galaxy-watch6.jpg",
        precio: 299.99,
        descripcion: "Diseño elegante y duración de batería sólida.",
        imagenes: ["/Productos/galaxy-watch6.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "rl3",
        nombre: "Xiaomi Watch S1 Active",
        imagen: "/Productos/xiaomi-watch.jpg",
        precio: 169.99,
        descripcion: "Resistente al agua y con más de 100 modos deportivos.",
        imagenes: ["/Productos/xiaomi-watch.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "AccesoriosVideojuegos",
    productos: [
      {
        id: "av1",
        nombre: "Controlador Inalámbrico Xbox Series X",
        imagen: "/Productos/control-xbox.jpg",
        precio: 59.99,
        descripcion:
          "Diseño ergonómico con agarre antideslizante y respuesta háptica precisa.",
        imagenes: ["/Productos/control-xbox.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
      {
        id: "av2",
        nombre: "Headset Gaming Logitech G733",
        imagen: "/Productos/logitech-g733.jpg",
        precio: 129.99,
        descripcion:
          "Auriculares inalámbricos con sonido envolvente y micrófono de calidad profesional.",
        imagenes: ["/Productos/logitech-g733.jpg"],
        oferta: !1,
        estado: "Nuevo",
      },
      {
        id: "av3",
        nombre: "Teclado Mecánico Razer BlackWidow V3",
        imagen: "/Productos/razer-teclado.jpg",
        precio: 139.99,
        descripcion:
          "Switches mecánicos verdes y retroiluminación RGB personalizable.",
        imagenes: ["/Productos/razer-teclado.jpg"],
        oferta: !0,
        estado: "Nuevo",
      },
    ],
  },
  {
    categoria: "Mouses",
    productos: [
      {
        id: "m1",
        nombre: "Mouse Gamer Logitech G502 HERO",
        imagen: "/Productos/logitech-g502.jpg",
        precio: 69.99,
        descripcion:
          "Sensor HERO 25K con 25,600 DPI y 11 botones programables.",
        imagenes: ["/Productos/logitech-g502.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "m2",
        nombre: "Mouse Inalámbrico Razer Basilisk X",
        imagen: "/Productos/razer-basilisk-x.jpg",
        precio: 49.99,
        descripcion: "Conectividad inalámbrica Bluetooth y 16,000 DPI.",
        imagenes: ["/Productos/razer-basilisk-x.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "m3",
        nombre: "Mouse Corsair M65 RGB Elite",
        imagen: "/Productos/corsair-m65.jpg",
        precio: 59.99,
        descripcion:
          "Carcasa de aluminio y peso ajustable para máxima precisión.",
        imagenes: ["/Productos/corsair-m65.jpg"],
        oferta: !0,
        estado: "Usado",
      },
    ],
  },
  {
    categoria: "Controles",
    productos: [
      {
        id: "c1",
        nombre: "Control Inalámbrico PS5 DualSense",
        imagen: "/Productos/ps5-dualsense.jpg",
        precio: 69.99,
        descripcion:
          "Inmersión háptica y gatillos adaptativos para una experiencia de juego revolucionaria.",
        imagenes: ["/Productos/ps5-dualsense.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "c2",
        nombre: "Control Xbox Series X",
        imagen: "/Productos/xbox-seriesx.jpg",
        precio: 59.99,
        descripcion: "Diseño mejorado con texturizado y latencia reducida.",
        imagenes: ["/Productos/xbox-seriesx.jpg"],
        oferta: !1,
        estado: "Usado",
      },
      {
        id: "c3",
        nombre: "Nintendo Switch Pro Controller",
        imagen: "/Productos/switch-pro.jpg",
        precio: 69.99,
        descripcion:
          "Ergonómico, batería de larga duración y controles precisos.",
        imagenes: ["/Productos/switch-pro.jpg"],
        oferta: !0,
        estado: "Usado",
      },
      {
        id: "c4",
        nombre: "Control Inalámbrico Logitech F710",
        imagen: "/Productos/logitech-f710.jpg",
        precio: 49.99,
        descripcion: "Compatibilidad con PC y vibración dual.",
        imagenes: ["/Productos/logitech-f710.jpg"],
        oferta: !1,
        estado: "Usado",
      },
    ],
  },
];
function L9() {
  return v.jsxs("div", {
    className: "bg-gray-100 min-h-screen",
    children: [
      v.jsx("div", {
        className: "hidden sm:block w-full max-w-[1600px] mx-auto px-4",
        children: v.jsx("div", {
          className: "rounded-lg overflow-hidden shadow-xl",
          children: v.jsx(V9, {}),
        }),
      }),
      v.jsx("div", {
        className: "block sm:hidden w-full max-w-[600px] mx-auto px-2 mt-4",
        children: v.jsx(M9, {}),
      }),
      v.jsxs("section", {
        className:
          "hidden lg:grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 max-w-[1600px] mx-auto px-4 mt-12",
        children: [
          v.jsx("div", {
            className:
              "overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition h-[220px] sm:h-[300px] md:h-[400px]",
            children: v.jsx(pe, {
              to: "/Productos/retro-consolas",
              className: "block w-full h-full",
              children: v.jsx("img", {
                src: "/ads/retro.png",
                alt: "Retro Consolas",
                className:
                  "w-full h-full object-cover object-center hover:scale-105 transition-transform duration-300",
              }),
            }),
          }),
          v.jsx("div", {
            className:
              "overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition h-[220px] sm:h-[300px] md:h-[400px]",
            children: v.jsx(pe, {
              to: "/Productos/camaras",
              className: "block w-full h-full",
              children: v.jsx("img", {
                src: "/ads/camaras.png",
                alt: "Cámaras",
                className:
                  "w-full h-full object-cover object-center hover:scale-105 transition-transform duration-300",
              }),
            }),
          }),
        ],
      }),
      v.jsxs("section", {
        className:
          "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-[1600px] mx-auto px-4 mt-10",
        children: [
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Consolas",
              }),
              v.jsxs("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  v.jsx(pe, {
                    to: "/producto/cs5",
                    children: v.jsx("img", {
                      src: "/Productos/ps4.jpg",
                      alt: "PS4",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/cs1",
                    children: v.jsx("img", {
                      src: "/Productos/ps5.webp",
                      alt: "PS5",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/cs6",
                    children: v.jsx("img", {
                      src: "/Productos/xboxone.webp",
                      alt: "Xbox One",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/cs3",
                    children: v.jsx("img", {
                      src: "/Productos/nintendoswitch.jpg",
                      alt: "Switch OLED",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                ],
              }),
              v.jsx(pe, {
                to: "/Productos/consolas",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestras Consolas →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Consolas Retro",
              }),
              v.jsxs("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  v.jsx(pe, {
                    to: "/producto/rc6",
                    children: v.jsx("img", {
                      src: "/Productos/atari2600.png",
                      alt: "Atari 2600",
                      className: "w-full aspect-[4/3] object-cover rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rc5",
                    children: v.jsx("img", {
                      src: "/Productos/gameboy.jpg",
                      alt: "Game Boy",
                      className: "w-full aspect-[4/3] object-cover rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rc3",
                    children: v.jsx("img", {
                      src: "/Productos/segagenesis.webp",
                      alt: "Sega Genesis",
                      className: "w-full aspect-[4/3] object-cover rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rc4",
                    children: v.jsx("img", {
                      src: "/Productos/playstation1.webp",
                      alt: "PS1",
                      className: "w-full aspect-[4/3] object-cover rounded",
                    }),
                  }),
                ],
              }),
              v.jsx(pe, {
                to: "/Productos/retro-consolas",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestras Consolas Retro →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Videojuegos",
              }),
              v.jsxs("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  v.jsx(pe, {
                    to: "/producto/vj6",
                    children: v.jsx("img", {
                      src: "/Productos/Mario-Kart-8.jpeg",
                      alt: "Mario Kart 8",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/vj3",
                    children: v.jsx("img", {
                      src: "/Productos/zelda.webp",
                      alt: "Zelda BOTW",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/vj5",
                    children: v.jsx("img", {
                      src: "/Productos/spider-manps5.jpeg",
                      alt: "Spider-Man PS5",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/vj7",
                    children: v.jsx("img", {
                      src: "/Productos/super-smash-bros.jpg",
                      alt: "Super Smash Bros",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                ],
              }),
              v.jsx(pe, {
                to: "/Productos/videojuegos",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestros Videojuegos →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Retro Juegos",
              }),
              v.jsxs("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  v.jsx(pe, {
                    to: "/producto/rj3",
                    children: v.jsx("img", {
                      src: "/Productos/donkeykongnretro.jpeg",
                      alt: "Donkey Kong Country",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rj4",
                    children: v.jsx("img", {
                      src: "/Productos/crash-bandicoat-PS1.webp",
                      alt: "Crash Bandicoot PS1",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rj1",
                    children: v.jsx("img", {
                      src: "/Productos/mariobrosretro.jpg",
                      alt: "Super Mario Bros NES",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                  v.jsx(pe, {
                    to: "/producto/rj2",
                    children: v.jsx("img", {
                      src: "/Productos/zeldaretro.jpg",
                      alt: "Zelda NES",
                      className: "w-full aspect-[4/3] object-contain rounded",
                    }),
                  }),
                ],
              }),
              v.jsx(pe, {
                to: "/Productos/retro-juegos",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestros Retro Juegos →",
              }),
            ],
          }),
        ],
      }),
      v.jsx("section", {
        className: "max-w-[1600px] mx-auto mt-16 px-4",
        children: v.jsxs("div", {
          className: "bg-white rounded-lg shadow p-6",
          children: [
            v.jsx("h2", {
              className: "text-2xl font-semibold mb-4",
              children: "Explora nuestras categorías",
            }),
            v.jsxs("div", {
              className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4",
              children: [
                v.jsx(pe, {
                  to: "/Productos/audifonos",
                  children: v.jsx("img", {
                    src: "/ads/audifonoscate.png",
                    alt: "Audífonos",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/Productos/mouses",
                  children: v.jsx("img", {
                    src: "/ads/mousecate.png",
                    alt: "Mouses",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/Productos/teclados",
                  children: v.jsx("img", {
                    src: "/ads/tecladocate.png",
                    alt: "Teclados",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/Productos/camaras",
                  children: v.jsx("img", {
                    src: "/ads/camaracate.png",
                    alt: "Cámaras",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/Productos/discos-duros",
                  children: v.jsx("img", {
                    src: "/ads/discodurocate.png",
                    alt: "Discos Duros",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/Productos/controles",
                  children: v.jsx("img", {
                    src: "/ads/controlcate.png",
                    alt: "Controles",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[200px]",
                  }),
                }),
              ],
            }),
            v.jsx("div", {
              className: "text-right mt-4",
              children: v.jsx(pe, {
                to: "/Productos",
                className: "text-blue-600 hover:underline text-sm",
                children: "Ver todas las categorías →",
              }),
            }),
          ],
        }),
      }),
      v.jsx("section", {
        className: "max-w-[1600px] mx-auto mt-16 px-4",
        children: v.jsxs("div", {
          className: "bg-white rounded-lg shadow p-6",
          children: [
            v.jsx("h2", {
              className: "text-2xl font-semibold mb-4",
              children: "Descubre nuestros productos",
            }),
            v.jsx("div", {
              className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4",
              children: iu
                .flatMap((t) => t.productos)
                .slice(0, 6)
                .map((t) => {
                  var e;
                  return v.jsx(
                    pe,
                    {
                      to: `/producto/${t.id}`,
                      children: v.jsx("div", {
                        className:
                          "bg-white rounded-lg overflow-hidden shadow hover:shadow-md transition",
                        children: v.jsx("img", {
                          src:
                            t.imagen ||
                            ((e = t.imagenes) == null ? void 0 : e[0]),
                          alt: t.nombre,
                          className: "w-full h-[180px] object-contain p-2",
                        }),
                      }),
                    },
                    t.id
                  );
                }),
            }),
            v.jsx("div", {
              className: "text-right mt-4",
              children: v.jsx(pe, {
                to: "/Productos",
                className: "text-blue-600 hover:underline text-sm",
                children: "Explora nuestros productos →",
              }),
            }),
          ],
        }),
      }),
      v.jsx("section", {
        className: "max-w-[1600px] mx-auto mt-16 px-4",
        children: v.jsxs("div", {
          className: "bg-white rounded-lg shadow p-6",
          children: [
            v.jsx("h2", {
              className: "text-2xl font-semibold mb-4",
              children: "Hogar Inteligente en Oferta",
            }),
            v.jsxs("div", {
              className: "flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",
              children: [
                v.jsx(pe, {
                  to: "/producto/hi1",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/focointeligente.webp",
                    alt: "Foco inteligente Wi-Fi RGB",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/producto/hi2",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/enchufeinteligentewifi.jpg",
                    alt: "Enchufe inteligente TP-Link",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/producto/hi4",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/sensormovimientowifi.jpg",
                    alt: "Sensor de movimiento Wi-Fi",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/producto/hi8",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/echodot.png",
                    alt: "Amazon Echo Dot",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/producto/hi9",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/alexaecho.webp",
                    alt: "Amazon Echo Show 8",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
                v.jsx(pe, {
                  to: "/producto/hi11",
                  className: "min-w-[180px] px-2",
                  children: v.jsx("img", {
                    src: "/Productos/smartplug.jpg",
                    alt: "Smart Plug compatible con Alexa",
                    className:
                      "rounded-lg hover:scale-105 transition object-cover w-full h-[180px]",
                  }),
                }),
              ],
            }),
            v.jsx("div", {
              className: "text-right mt-4",
              children: v.jsx(pe, {
                to: "/Productos/hogar-inteligente",
                className: "text-blue-600 hover:underline text-sm",
                children:
                  "Descubre cómo transformar tu casa en un hogar inteligente →",
              }),
            }),
          ],
        }),
      }),
      v.jsx("section", {
        className: "max-w-[1600px] mx-auto mt-16 px-4",
        children: v.jsxs("div", {
          className: "bg-white rounded-lg shadow p-6",
          children: [
            v.jsx("h2", {
              className: "text-2xl font-semibold mb-4 ",
              children: "Tu Rincón Variado",
            }),
            v.jsx("div", {
              className: "flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",
              children: [
                {
                  id: "rv1",
                  nombre: "Bicicleta Urbana MTB 26'' Mongoose",
                  img: "/Productos/mongose.jpg",
                },
                {
                  id: "rv2",
                  nombre: "Patineta Eléctrica Plegable",
                  img: "/Productos/patinetaelectrica.jpg",
                },
                {
                  id: "rv3",
                  nombre: 'Hoverboard Autoequilibrado 10"',
                  img: "/Productos/hoverboard.jpg",
                },
                {
                  id: "rv4",
                  nombre: "Patines en línea 4 ruedas",
                  img: "/Productos/patines4ruedaasenlinea.jpeg",
                },
                {
                  id: "rv5",
                  nombre: "Patines clásicos 4 ruedas",
                  img: "/Productos/patinesclasicos.webp",
                },
                {
                  id: "rv6",
                  nombre: "Ruedas de repuesto para patineta",
                  img: "/Productos/ruedapatineta.webp",
                },
                {
                  id: "rv7",
                  nombre: "Casco Protector Urbano",
                  img: "/Productos/casco.jpg",
                },
                {
                  id: "rv8",
                  nombre: "Botella Térmica 1L Acero Inoxidable",
                  img: "/Productos/botella.jpg",
                },
                {
                  id: "rv9",
                  nombre: "Luz LED Recargable para Bicicleta",
                  img: "/Productos/lucesbici.webp",
                },
              ].map((t) =>
                v.jsx(
                  pe,
                  {
                    to: `/producto/${t.id}`,
                    className: "min-w-[180px] px-2",
                    title: t.nombre,
                    children: v.jsx("img", {
                      src: t.img,
                      alt: t.nombre,
                      className:
                        "rounded-lg hover:scale-105 transition-transform duration-300 object-contain w-full h-[180px]",
                    }),
                  },
                  t.id
                )
              ),
            }),
            v.jsx("div", {
              className: "text-right mt-4",
              children: v.jsx(pe, {
                to: "/Productos/tu-rincon-variado",
                className: "text-blue-600 hover:underline text-sm",
                children: "Explora nuestro Rincón Variado →",
              }),
            }),
          ],
        }),
      }),
      v.jsxs("section", {
        className:
          "grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 max-w-[1600px] mx-auto px-4 mt-12",
        children: [
          v.jsx("div", {
            className:
              "overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition h-[220px] sm:h-[300px] md:h-[400px]",
            children: v.jsx(pe, {
              to: "/Productos/consolas",
              className: "block w-full h-full",
              children: v.jsx("img", {
                src: "/ads/nintendoswtitchads.png",
                alt: "Consolas",
                className:
                  "w-full h-full object-cover object-center hover:scale-105 transition-transform duration-300",
              }),
            }),
          }),
          v.jsx("div", {
            className:
              "overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition h-[220px] sm:h-[300px] md:h-[400px]",
            children: v.jsx(pe, {
              to: "/Productos/controles",
              className: "block w-full h-full",
              children: v.jsx("img", {
                src: "/ads/controlads.png",
                alt: "Controles",
                className:
                  "w-full h-full object-cover object-center hover:scale-105 transition-transform duration-300",
              }),
            }),
          }),
        ],
      }),
      v.jsxs("section", {
        className:
          "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-[1600px] mx-auto px-4 mt-10",
        children: [
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Cámaras de Vigilancia",
              }),
              v.jsx("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  {
                    id: "cam1",
                    nombre: "Hikvision Dome",
                    img: "/Productos/hikvision.png",
                  },
                  {
                    id: "cam2",
                    nombre: "Dahua Bullet",
                    img: "/Productos/dahua.webp",
                  },
                  {
                    id: "cam3",
                    nombre: "EZVIZ WiFi",
                    img: "/Productos/ezviz.png",
                  },
                  {
                    id: "cam4",
                    nombre: "TP-Link Tapo",
                    img: "/Productos/tapo.webp",
                  },
                ].map((t) =>
                  v.jsx(
                    pe,
                    {
                      to: `/producto/${t.id}`,
                      children: v.jsx("img", {
                        src: t.img,
                        alt: t.nombre,
                        className: "w-full aspect-[4/3] object-cover rounded",
                      }),
                    },
                    t.id
                  )
                ),
              }),
              v.jsx(pe, {
                to: "/categoria/camaras-vigilancia",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestras Cámaras de Vigilancia →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Discos Duros",
              }),
              v.jsx("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  {
                    id: "dd1",
                    nombre: "Seagate 1TB",
                    img: "/Productos/seagate.png",
                  },
                  {
                    id: "dd2",
                    nombre: "SSD Samsung",
                    img: "/Productos/samsung.webp",
                  },
                  {
                    id: "dd3",
                    nombre: "WD 2TB",
                    img: "/Productos/wd2tb.jpg",
                  },
                  {
                    id: "dd4",
                    nombre: "Crucial X6",
                    img: "/Productos/crucial.jpg",
                  },
                ].map((t) =>
                  v.jsx(
                    pe,
                    {
                      to: `/producto/${t.id}`,
                      children: v.jsx("img", {
                        src: t.img,
                        alt: t.nombre,
                        className: "w-full aspect-[4/3] object-cover rounded",
                      }),
                    },
                    t.id
                  )
                ),
              }),
              v.jsx(pe, {
                to: "/categoria/discos-duros",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestros Discos Duros →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Memorias USB",
              }),
              v.jsx("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  {
                    id: "usb1",
                    nombre: "USB SanDisk 64GB",
                    img: "/Productos/sandisk.jpeg",
                  },
                  {
                    id: "usb2",
                    nombre: "Kingston 128GB USB 3.1",
                    img: "/Productos/kingston.webp",
                  },
                  {
                    id: "usb3",
                    nombre: "HP v150w 32GB",
                    img: "/Productos/hp.jpeg",
                  },
                  {
                    id: "usb4",
                    nombre: "Corsair Flash Voyager 256GB",
                    img: "/Productos/corsair.avif",
                  },
                ].map((t) =>
                  v.jsx(
                    pe,
                    {
                      to: `/producto/${t.id}`,
                      children: v.jsx("img", {
                        src: t.img,
                        alt: t.nombre,
                        className: "w-full aspect-[4/3] object-contain rounded",
                      }),
                    },
                    t.id
                  )
                ),
              }),
              v.jsx(pe, {
                to: "/categoria/memorias-usb",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestras Memorias USB →",
              }),
            ],
          }),
          v.jsxs("div", {
            className:
              "bg-white rounded-lg shadow hover:shadow-xl transition h-[440px] flex flex-col justify-between p-4",
            children: [
              v.jsx("h3", {
                className: "text-xl font-semibold mb-2",
                children: "Cables",
              }),
              v.jsx("div", {
                className: "grid grid-cols-2 gap-2 flex-grow",
                children: [
                  { id: "cb1", img: "/Productos/usb-c.jpg" },
                  { id: "cb2", img: "/Productos/hdmi4k.jpeg" },
                  { id: "cb3", img: "/Productos/micro.jpg" },
                  { id: "cb4", img: "/Productos/ethernet.jpeg" },
                ].map((t) =>
                  v.jsx(
                    pe,
                    {
                      to: `/producto/${t.id}`,
                      children: v.jsx("img", {
                        src: t.img,
                        alt: "Cable",
                        className: "w-full aspect-[4/3] object-contain rounded",
                      }),
                    },
                    t.id
                  )
                ),
              }),
              v.jsx(pe, {
                to: "/categoria/cables",
                className: "text-blue-600 text-sm mt-3 hover:underline",
                children: "Explora nuestros Cables →",
              }),
            ],
          }),
        ],
      }),
      v.jsxs("section", {
        className: "max-w-5xl mx-auto px-6 py-16 text-center",
        children: [
          v.jsx("h2", {
            className: "text-3xl sm:text-4xl font-bold mb-6 text-gray-800",
            children: "¿Tienes dudas? Contáctanos ahora",
          }),
          v.jsx("p", {
            className: "text-gray-600 mb-10 max-w-xl mx-auto",
            children:
              "Nuestro equipo está listo para ayudarte por WhatsApp, teléfono o correo. Atención rápida y profesional.",
          }),
          v.jsxs("div", {
            className:
              "bg-white shadow-lg rounded-xl p-10 max-w-3xl mx-auto flex flex-col gap-6",
            children: [
              v.jsxs("p", {
                className:
                  "flex items-center justify-center text-gray-700 space-x-3",
                children: [
                  v.jsx(Tu, { className: "text-indigo-700" }),
                  v.jsx("span", {
                    children:
                      "Av. Estrella Sadhalá, Santiago, República Dominicana",
                  }),
                ],
              }),
              v.jsxs("p", {
                className:
                  "flex items-center justify-center text-gray-700 space-x-3",
                children: [
                  v.jsx(Ra, { className: "text-indigo-700" }),
                  v.jsx("span", { children: "+1 (849)-635-7000 (Tienda)" }),
                ],
              }),
              v.jsxs("p", {
                className:
                  "flex items-center justify-center text-gray-700 space-x-3",
                children: [
                  v.jsx(Ra, { className: "text-indigo-700" }),
                  v.jsx("span", { children: "+1 (809)-582-1212 (Internet)" }),
                ],
              }),
              v.jsxs("p", {
                className:
                  "flex items-center justify-center text-gray-700 space-x-3",
                children: [
                  v.jsx(Nh, { className: "text-indigo-700" }),
                  v.jsx("span", { children: "playcenter121@gmail.com" }),
                ],
              }),
              v.jsxs("div", {
                className:
                  "flex flex-col sm:flex-row gap-5 justify-center mt-4",
                children: [
                  v.jsxs("a", {
                    href: "https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className:
                      "flex items-center justify-center gap-2 px-6 py-3 bg-indigo-700 text-white rounded-lg shadow-md hover:bg-indigo-800 transition w-full sm:w-auto",
                    children: [
                      v.jsx(uo, { className: "text-xl" }),
                      "WhatsApp Tienda",
                    ],
                  }),
                  v.jsxs("a", {
                    href: "https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className:
                      "flex items-center justify-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-lg shadow-md hover:bg-gray-800 transition w-full sm:w-auto",
                    children: [
                      v.jsx(uo, { className: "text-xl" }),
                      "WhatsApp Internet",
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
async function F9(t) {
  const e = "https://api.cloudinary.com/v1_1/dprojkgqf/image/upload",
    n = new FormData();
  n.append("file", t),
    n.append("upload_preset", "perfil_usuarios"),
    n.append("folder", "muestras/comercio electrónico"),
    console.log("Archivo que se va a subir:", t),
    console.log("Preset usado:", "perfil_usuarios"),
    console.log("Carpeta folder usada:", "muestras/comercio electrónico");
  const r = await fetch(e, { method: "POST", body: n });
  if (!r.ok) {
    const a = await r.text();
    throw (
      (console.error("Error Cloudinary:", a),
      new Error("❌ Error al subir la imagen a Cloudinary"))
    );
  }
  const s = await r.json();
  return console.log("Respuesta de Cloudinary:", s), s.secure_url;
}
function U9() {
  var ne, oe;
  const {
      usuario: t,
      usuarioInfo: e,
      actualizarUsuarioInfo: n,
      logout: r,
    } = mo(),
    s = Vr(),
    [a, l] = L.useState(!1),
    [d, f] = L.useState(!1),
    [p, g] = L.useState(""),
    [w, x] = L.useState(null),
    [P, b] = L.useState({
      nombre: (t == null ? void 0 : t.displayName) || "",
      email: (t == null ? void 0 : t.email) || "",
      telefono: "",
      direccion: "",
      fotoURL: (t == null ? void 0 : t.photoURL) || "",
    }),
    [N, k] = L.useState(P.fotoURL);
  L.useEffect(() => {
    e &&
      b((C) => ({
        ...C,
        telefono: e.telefono || "",
        direccion: e.direccion || "",
      }));
  }, [e]),
    L.useEffect(() => {
      k(P.fotoURL);
    }, [P.fotoURL]);
  const $ = (C) => {
      const { name: I, value: A } = C.target;
      b((D) => ({ ...D, [I]: A }));
    },
    G = (C) => {
      const I = C.target.files[0];
      if (!I) return;
      x(I);
      const A = new FileReader();
      (A.onloadend = () => k(A.result)), A.readAsDataURL(I);
    },
    q = async () => {
      f(!0), g("");
      try {
        let C = P.fotoURL;
        w && (C = await F9(w)),
          await n({ telefono: P.telefono, direccion: P.direccion });
        const I = {};
        t.displayName !== P.nombre && (I.displayName = P.nombre),
          t.photoURL !== C && (I.photoURL = C),
          Object.keys(I).length > 0 && (await Yp(t, I)),
          b((A) => ({ ...A, fotoURL: C })),
          g("✅ Perfil actualizado con éxito."),
          l(!1),
          x(null);
      } catch (C) {
        g("❌ Error guardando perfil."), console.error(C);
      } finally {
        f(!1);
      }
    },
    Y = async () => {
      await r(), s("/");
    };
  return !t || !e
    ? null
    : v.jsx("main", {
        className:
          "min-h-screen bg-gradient-to-b from-[#e6f7ff] to-[#f0faff] text-[#0f172a] flex flex-col items-center py-24 px-6 font-sans",
        children: v.jsxs(wt.section, {
          initial: { opacity: 0, y: 20 },
          animate: { opacity: 1, y: 0 },
          transition: { duration: 0.5, ease: "easeOut" },
          className:
            "max-w-3xl w-full bg-white rounded-3xl shadow-2xl p-10 ring-4 ring-[#3dd9c4]",
          children: [
            v.jsx("h1", {
              className:
                "text-5xl font-extrabold mb-10 tracking-tight text-center text-[#0f172a] select-none",
              children: "Mi Cuenta",
            }),
            a
              ? v.jsxs("form", {
                  onSubmit: (C) => {
                    C.preventDefault(), q();
                  },
                  className: "space-y-8",
                  children: [
                    v.jsx("div", {
                      className: "flex flex-col items-center gap-6 mb-8",
                      children: v.jsxs("div", {
                        className:
                          "w-40 h-40 rounded-full overflow-hidden border-8 border-[#3dd9c4] relative cursor-pointer hover:brightness-110 transition",
                        children: [
                          N
                            ? v.jsx("img", {
                                src: N,
                                alt: "Preview",
                                className:
                                  "object-cover w-full h-full rounded-full",
                              })
                            : v.jsx("div", {
                                className:
                                  "flex items-center justify-center w-full h-full bg-[#0f172a] text-[#3dd9c4] font-extrabold text-6xl rounded-full",
                                children:
                                  ((oe = P.nombre[0]) == null
                                    ? void 0
                                    : oe.toUpperCase()) || "U",
                              }),
                          v.jsx("input", {
                            type: "file",
                            accept: "image/*",
                            onChange: G,
                            className:
                              "absolute inset-0 w-full h-full opacity-0 cursor-pointer",
                            title: "Subir nueva foto",
                          }),
                        ],
                      }),
                    }),
                    ["nombre", "email", "telefono", "direccion"].map((C) =>
                      v.jsxs(
                        "div",
                        {
                          className: "max-w-lg mx-auto",
                          children: [
                            v.jsx("label", {
                              htmlFor: C,
                              className:
                                "block text-[#3dd9c4] font-semibold mb-2",
                              children: C.charAt(0).toUpperCase() + C.slice(1),
                            }),
                            v.jsx("input", {
                              id: C,
                              name: C,
                              type: C === "email" ? "email" : "text",
                              value: P[C],
                              onChange: $,
                              placeholder:
                                C === "telefono" ? "+1 809 000 0000" : "",
                              className:
                                "w-full bg-white border border-[#3dd9c4] rounded-lg px-5 py-3 text-[#0f172a] focus:outline-none focus:ring-4 focus:ring-[#3dd9c4] transition",
                              required: !0,
                              autoComplete: "off",
                            }),
                          ],
                        },
                        C
                      )
                    ),
                    p &&
                      v.jsx("p", {
                        className: `text-center text-sm font-semibold ${
                          p.includes("Error")
                            ? "text-red-500"
                            : "text-green-500"
                        }`,
                        children: p,
                      }),
                    v.jsxs("div", {
                      className: "flex justify-center gap-8 max-w-lg mx-auto",
                      children: [
                        v.jsx(wt.button, {
                          type: "submit",
                          disabled: d,
                          whileHover: { scale: d ? 1 : 1.05 },
                          whileTap: { scale: d ? 1 : 0.95 },
                          className:
                            "bg-[#3dd9c4] text-[#0f172a] rounded-full px-10 py-3 font-semibold shadow-md hover:shadow-xl transition disabled:opacity-60",
                          children: d ? "Guardando..." : "Guardar Cambios",
                        }),
                        v.jsx(wt.button, {
                          type: "button",
                          disabled: d,
                          onClick: () => {
                            l(!1), g(""), k(P.fotoURL), x(null);
                          },
                          whileHover: { scale: d ? 1 : 1.05 },
                          whileTap: { scale: d ? 1 : 0.95 },
                          className:
                            "bg-[#0f172a] text-white rounded-full px-10 py-3 font-semibold hover:bg-[#1e293b] transition disabled:opacity-60",
                          children: "Cancelar",
                        }),
                      ],
                    }),
                  ],
                })
              : v.jsxs(v.Fragment, {
                  children: [
                    v.jsxs("div", {
                      className:
                        "flex flex-col sm:flex-row gap-12 mb-10 items-center",
                      children: [
                        v.jsx("div", {
                          className:
                            "w-40 h-40 rounded-full overflow-hidden border-8 border-[#3dd9c4] shadow-lg",
                          children: N
                            ? v.jsx("img", {
                                src: N,
                                alt: "Foto de perfil",
                                className:
                                  "object-cover w-full h-full rounded-full",
                              })
                            : v.jsx("div", {
                                className:
                                  "flex items-center justify-center w-full h-full bg-[#c5f0e8] text-[#0f172a] font-extrabold text-6xl rounded-full",
                                children:
                                  ((ne = P.nombre[0]) == null
                                    ? void 0
                                    : ne.toUpperCase()) || "U",
                              }),
                        }),
                        v.jsxs("div", {
                          className: "flex flex-col flex-1 gap-6 text-lg",
                          children: [
                            v.jsxs("div", {
                              children: [
                                v.jsx("h3", {
                                  className:
                                    "text-[#3dd9c4] font-semibold mb-1",
                                  children: "Nombre",
                                }),
                                v.jsx("p", {
                                  className: "text-[#0f172a]",
                                  children: P.nombre,
                                }),
                              ],
                            }),
                            v.jsxs("div", {
                              children: [
                                v.jsx("h3", {
                                  className:
                                    "text-[#3dd9c4] font-semibold mb-1",
                                  children: "Correo",
                                }),
                                v.jsx("p", {
                                  className: "text-[#0f172a]",
                                  children: P.email,
                                }),
                              ],
                            }),
                            v.jsxs("div", {
                              children: [
                                v.jsx("h3", {
                                  className:
                                    "text-[#3dd9c4] font-semibold mb-1",
                                  children: "Teléfono",
                                }),
                                v.jsx("p", {
                                  className: "text-[#0f172a]",
                                  children: P.telefono || "No definido",
                                }),
                              ],
                            }),
                            v.jsxs("div", {
                              children: [
                                v.jsx("h3", {
                                  className:
                                    "text-[#3dd9c4] font-semibold mb-1",
                                  children: "Dirección",
                                }),
                                v.jsx("p", {
                                  className: "text-[#0f172a]",
                                  children: P.direccion || "No definida",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    v.jsxs("div", {
                      className: "flex flex-col gap-4 items-center",
                      children: [
                        v.jsx(wt.button, {
                          onClick: () => l(!0),
                          whileHover: { scale: 1.05 },
                          whileTap: { scale: 0.95 },
                          className:
                            "bg-[#3dd9c4] text-[#0f172a] rounded-full px-12 py-4 font-semibold shadow-md hover:shadow-xl transition",
                          children: "Editar Perfil",
                        }),
                        v.jsx(wt.button, {
                          onClick: Y,
                          whileHover: { scale: 1.05 },
                          whileTap: { scale: 0.95 },
                          className:
                            "bg-red-500 text-white rounded-full px-12 py-4 font-semibold shadow-md hover:shadow-xl transition",
                          children: "Cerrar Sesión",
                        }),
                      ],
                    }),
                  ],
                }),
          ],
        }),
      });
}
function B9({ imagenes: t }) {
  const [e, n] = L.useState(0);
  return v.jsxs("div", {
    className: "w-full",
    children: [
      v.jsx("div", {
        className: "overflow-hidden rounded-xl shadow-md mb-4",
        children: v.jsx(Ch, {
          mode: "wait",
          children: v.jsx(
            wt.img,
            {
              src: t[e],
              alt: `Imagen ${e + 1}`,
              className: "w-full h-[400px] object-contain bg-gray-100",
              initial: { opacity: 0, x: 50 },
              animate: { opacity: 1, x: 0 },
              exit: { opacity: 0, x: -50 },
              transition: { duration: 0.5 },
            },
            t[e]
          ),
        }),
      }),
      v.jsx("div", {
        className: "flex gap-3 justify-center",
        children: t.map((r, s) =>
          v.jsx(
            wt.img,
            {
              src: r,
              alt: `Miniatura ${s + 1}`,
              className: `w-16 h-16 object-contain rounded cursor-pointer border-2 ${
                s === e ? "border-pink-500" : "border-transparent"
              }`,
              onClick: () => n(s),
              whileHover: { scale: 1.1 },
              transition: { type: "spring", stiffness: 300 },
            },
            r
          )
        ),
      }),
    ],
  });
}
const IP = L.createContext(),
  z9 = ({ children: t }) => {
    const [e, n] = L.useState(() => {
        const w = localStorage.getItem("carrito");
        return w ? JSON.parse(w) : [];
      }),
      [r, s] = L.useState(() => {
        const w = localStorage.getItem("favoritos");
        return w ? JSON.parse(w) : [];
      });
    L.useEffect(() => {
      localStorage.setItem("carrito", JSON.stringify(e));
    }, [e]),
      L.useEffect(() => {
        localStorage.setItem("favoritos", JSON.stringify(r));
      }, [r]);
    const a = (w) => {
        n((x) =>
          x.find((b) => b.id === w.id)
            ? x.map((b) =>
                b.id === w.id ? { ...b, cantidad: b.cantidad + 1 } : b
              )
            : [...x, { ...w, cantidad: 1 }]
        );
      },
      l = (w) => {
        n((x) =>
          x
            .map((P) => (P.id === w ? { ...P, cantidad: P.cantidad - 1 } : P))
            .filter((P) => P.cantidad > 0)
        );
      },
      d = (w) => {
        n((x) => x.filter((P) => P.id !== w));
      },
      f = (w) => {
        n((x) =>
          x.find((b) => b.id === w.id)
            ? x.filter((b) => b.id !== w.id)
            : [...x, { ...w, cantidad: 1 }]
        );
      },
      p = (w) => {
        s((x) => (x.find((P) => P.id === w.id) ? x : [...x, w]));
      },
      g = (w) => {
        s((x) => x.filter((P) => P.id !== w));
      };
    return v.jsx(IP.Provider, {
      value: {
        carrito: e,
        favoritos: r,
        agregarAlCarrito: a,
        eliminarUnidadDelCarrito: l,
        quitarDelCarrito: d,
        toggleCarrito: f,
        agregarAFavoritos: p,
        eliminarDeFavoritos: g,
      },
      children: t,
    });
  },
  Sy = () => L.useContext(IP);
function Iy({ isOpen: t, onClose: e, onIniciarSesion: n }) {
  return t
    ? $S.createPortal(
        v.jsx("div", {
          onClick: e,
          className:
            "fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",
          style: { top: 0, left: 0 },
          children: v.jsxs(wt.div, {
            onClick: (r) => r.stopPropagation(),
            initial: { opacity: 0, scale: 0.9 },
            animate: { opacity: 1, scale: 1 },
            exit: { opacity: 0, scale: 0.9 },
            transition: { duration: 0.3 },
            className:
              "relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40 z-[11001]",
            children: [
              v.jsx("button", {
                onClick: e,
                className:
                  "absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",
                "aria-label": "Cerrar modal",
                children: "×",
              }),
              v.jsxs("h2", {
                className:
                  "text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",
                children: [
                  v.jsx("svg", {
                    xmlns: "http://www.w3.org/2000/svg",
                    className: "h-7 w-7 text-[#3b82f6]",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    strokeWidth: 2,
                    children: v.jsx("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M5.121 17.804A11.955 11.955 0 0112 15c2.32 0 4.47.66 6.264 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z",
                    }),
                  }),
                  "Inicia sesión",
                ],
              }),
              v.jsx("p", {
                className: "mb-6 text-center text-gray-300",
                children:
                  "Necesitas iniciar sesión para acceder a esta función",
              }),
              v.jsxs("div", {
                className: "flex justify-center gap-4",
                children: [
                  v.jsx("button", {
                    onClick: () => {
                      e(), n();
                    },
                    className:
                      "w-full max-w-[120px] px-5 py-2 bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg font-semibold shadow-lg transition transform hover:scale-105",
                    children: "Iniciar sesión",
                  }),
                  v.jsx("button", {
                    onClick: e,
                    className:
                      "w-full max-w-[120px] px-5 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold shadow-lg transition transform hover:scale-105",
                    children: "Cancelar",
                  }),
                ],
              }),
            ],
          }),
        }),
        document.body
      )
    : null;
}
function $9() {
  const { carrito: t, agregarAlCarrito: e, quitarDelCarrito: n } = Sy(),
    { usuario: r } = mo(),
    { id: s } = Hm(),
    a = Vr(),
    [l, d] = L.useState(!1),
    p = iu.flatMap((b) => b.productos).find((b) => b.id === s),
    g = t.some((b) => b.id === (p == null ? void 0 : p.id));
  if (!p)
    return v.jsx("div", {
      className:
        "min-h-screen flex items-center justify-center bg-gray-100 text-gray-700 p-4",
      children: v.jsxs("p", {
        className: "text-center text-xl font-semibold",
        children: [
          "Producto no encontrado.",
          v.jsx("button", {
            onClick: () => a(-1),
            className: "text-blue-500 underline ml-2",
            children: "Volver",
          }),
        ],
      }),
    });
  const w = `https://wa.me/18496357000?text=${encodeURIComponent(
      `¡Hola! Estoy interesado/a en el producto "${p.nombre}". ¿Sigue disponible?`
    )}`,
    x = [
      "¿Sigue disponible?",
      "¿Dónde están ubicados?",
      "¿Puedo reservarlo?",
      "¿Está disponible en otro color o modelo?",
    ],
    P = () => {
      if (!r) {
        d(!0);
        return;
      }
      g ? n(p.id) : e({ ...p, cantidad: 1 });
    };
  return v.jsxs(v.Fragment, {
    children: [
      v.jsx("main", {
        className:
          "min-h-screen bg-white px-4 py-10 text-gray-800 flex justify-center",
        children: v.jsxs("section", {
          className: "max-w-6xl w-full flex flex-col lg:flex-row gap-10",
          children: [
            v.jsx(wt.div, {
              initial: { opacity: 0, x: -40 },
              animate: { opacity: 1, x: 0 },
              transition: { duration: 0.5 },
              className: "flex justify-center w-full lg:w-1/2",
              children: v.jsx(B9, { imagenes: p.imagenes || [p.imagen] }),
            }),
            v.jsxs(wt.div, {
              className: "flex flex-col gap-6 w-full lg:w-1/2",
              initial: { opacity: 0, x: 40 },
              animate: { opacity: 1, x: 0 },
              transition: { duration: 0.5 },
              children: [
                v.jsx("h1", {
                  className: "text-2xl sm:text-3xl font-extrabold text-[#333]",
                  children: p.nombre,
                }),
                v.jsxs("p", {
                  className: "text-xl sm:text-2xl font-semibold text-[#FF9900]",
                  children: ["$", p.precio.toFixed(2)],
                }),
                v.jsx(wt.p, {
                  className:
                    "text-gray-700 text-base sm:text-lg leading-relaxed",
                  initial: { opacity: 0, y: 20 },
                  animate: { opacity: 1, y: 0 },
                  transition: { delay: 0.3, duration: 0.6 },
                  children:
                    p.descripcion ||
                    "Contáctanos para más detalles o para coordinar una compra en nuestra tienda física.",
                }),
                v.jsxs("button", {
                  onClick: P,
                  className: `w-full sm:w-auto inline-flex justify-center items-center gap-3 px-6 py-3 rounded shadow transition-transform hover:scale-105 font-semibold ${
                    g
                      ? "bg-red-500 hover:bg-red-600 text-white"
                      : "bg-yellow-400 hover:bg-yellow-500 text-black"
                  }`,
                  children: [
                    v.jsx(Py, { className: "text-xl" }),
                    g ? "Quitar del carrito" : "Agregar al carrito",
                  ],
                }),
                v.jsxs("div", {
                  className: "mt-6 flex flex-col gap-3",
                  children: [
                    v.jsx("p", {
                      className: "text-gray-700",
                      children:
                        "Si te interesa este producto, puedes escribirnos directamente por WhatsApp:",
                    }),
                    v.jsxs("a", {
                      href: w,
                      target: "_blank",
                      rel: "noopener noreferrer",
                      className:
                        "inline-flex items-center justify-center gap-3 bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full shadow transition-transform hover:scale-105 w-full sm:w-auto",
                      children: [
                        v.jsx(uo, { className: "text-2xl" }),
                        "Escribir por WhatsApp",
                      ],
                    }),
                  ],
                }),
                v.jsxs("div", {
                  className: "mt-4",
                  children: [
                    v.jsx("h3", {
                      className: "font-bold text-gray-700 mb-2",
                      children: "Preguntas comunes:",
                    }),
                    v.jsx("ul", {
                      className: "list-disc list-inside text-sm text-gray-600",
                      children: x.map((b, N) =>
                        v.jsx("li", { children: b }, N)
                      ),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
      }),
      v.jsx(Iy, { isOpen: l, onClose: () => d(!1) }),
    ],
  });
}
function bP({ producto: t }) {
  var x;
  const { carrito: e, agregarAlCarrito: n, quitarDelCarrito: r } = Sy(),
    { usuario: s } = mo(),
    { abrirModal: a } = Ih(),
    l = Vr(),
    [d, f] = L.useState(!1),
    p = e.some((P) => P.id === t.id),
    g = (P) => {
      if ((P.stopPropagation(), !s)) {
        f(!0);
        return;
      }
      p ? r(t.id) : n(t);
    },
    w = () => {
      l(`/producto/${t.id}`, { state: { producto: t } });
    };
  return v.jsxs(v.Fragment, {
    children: [
      v.jsxs("div", {
        onClick: w,
        className:
          "group flex flex-col lg:flex-col bg-white rounded-lg shadow hover:shadow-lg transition cursor-pointer p-4 h-full w-full",
        children: [
          v.jsxs("div", {
            className:
              "flex flex-row lg:flex-col items-center lg:items-start gap-4 w-full",
            children: [
              v.jsx("div", {
                className:
                  "flex-shrink-0 w-24 h-24 lg:w-full lg:h-48 flex items-center justify-center",
                children: v.jsx("img", {
                  src: t.imagen || ((x = t.imagenes) == null ? void 0 : x[0]),
                  alt: t.nombre,
                  className: "object-contain max-h-full",
                }),
              }),
              v.jsxs("div", {
                className: "flex flex-col flex-1 w-full overflow-hidden gap-1",
                children: [
                  v.jsx("h2", {
                    className:
                      "font-semibold text-base text-gray-800 leading-tight line-clamp-2",
                    children: t.nombre,
                  }),
                  v.jsx("p", {
                    className: "text-sm text-gray-500 line-clamp-2",
                    children: t.descripcion || "Descripción del producto.",
                  }),
                  v.jsxs("p", {
                    className: "text-lg font-bold text-gray-900 mt-1",
                    children: ["$", t.precio.toFixed(2)],
                  }),
                ],
              }),
            ],
          }),
          v.jsx("button", {
            onClick: g,
            className: `mt-3 text-sm w-full px-4 py-2 rounded-md font-semibold transition flex items-center justify-center gap-2 ${
              p
                ? "bg-red-500 hover:bg-red-600 text-white"
                : "bg-yellow-400 hover:bg-yellow-500 text-black"
            }`,
            children: p
              ? v.jsxs(v.Fragment, {
                  children: [v.jsx(E9, { size: 14 }), " Quitar"],
                })
              : v.jsxs(v.Fragment, {
                  children: [v.jsx(Py, { size: 14 }), " Agregar"],
                }),
          }),
        ],
      }),
      v.jsx(Iy, {
        isOpen: d,
        onClose: () => f(!1),
        onIniciarSesion: () => {
          f(!1), a();
        },
      }),
    ],
  });
}
function H9() {
  return v.jsxs("section", {
    className:
      "max-w-4xl mx-auto mt-12 p-6 bg-white rounded-xl shadow-lg text-center",
    children: [
      v.jsx("p", {
        className: "text-lg font-semibold text-[#1E40AF] mb-4",
        children:
          "Si te interesa algún producto o quieres más información, contáctanos directamente por WhatsApp",
      }),
      v.jsxs("p", {
        className:
          "flex items-center mb-3 text-blue-700 font-medium justify-center",
        children: [
          v.jsx(Ra, { className: "mr-2 text-blue-600" }),
          "+1 (849)-635-7000 (Tienda)",
        ],
      }),
      v.jsxs("p", {
        className:
          "flex items-center mb-3 text-red-700 font-medium justify-center",
        children: [
          v.jsx(Ra, { className: "mr-2 text-red-600" }),
          "+1 (809)-582-1212 (Internet)",
        ],
      }),
      v.jsxs("p", {
        className: "flex items-center mb-3 justify-center",
        children: [
          v.jsx(Nh, { className: "mr-2 text-green-600" }),
          "playcenter121@gmail.com",
        ],
      }),
      v.jsxs("div", {
        className: "flex flex-col sm:flex-row gap-4 mt-6 justify-center",
        children: [
          v.jsxs("a", {
            href: "https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
            target: "_blank",
            rel: "noopener noreferrer",
            className:
              "flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",
            children: [v.jsx(uo, { className: "text-xl" }), "WhatsApp Tienda"],
          }),
          v.jsxs("a", {
            href: "https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
            target: "_blank",
            rel: "noopener noreferrer",
            className:
              "flex items-center justify-center gap-2 px-5 py-3 text-white bg-rose-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",
            children: [
              v.jsx(uo, { className: "text-xl" }),
              "WhatsApp Internet",
            ],
          }),
        ],
      }),
    ],
  });
}
function W9() {
  const { carrito: t } = Sy(),
    e = t.reduce((n, r) => n + r.precio * r.cantidad, 0);
  return v.jsxs("main", {
    className:
      "pt-24 px-4 sm:px-6 lg:px-12 pb-16 min-h-screen bg-white text-[#1E2A47]",
    children: [
      v.jsx("h1", {
        className: `text-3xl sm:text-4xl font-bold text-center mb-10
            bg-gradient-to-r from-blue-400 via-blue-500 to-indigo-500 
            bg-clip-text text-transparent animate-text-glow`,
        children: "Mi Carrito",
      }),
      t.length === 0
        ? v.jsx("p", {
            className: "text-center text-[#4B5563] text-lg",
            children: "Tu carrito está vacío.",
          })
        : v.jsxs(v.Fragment, {
            children: [
              v.jsx("div", {
                className:
                  "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-6",
                children: t.map((n) =>
                  v.jsx(bP, { producto: n, enCarrito: !0 }, n.id)
                ),
              }),
              v.jsx("div", {
                className: "mt-10 text-center",
                children: v.jsxs("p", {
                  className: "text-lg font-semibold mb-3 text-[#2563EB]",
                  children: ["Total: $", e.toFixed(2)],
                }),
              }),
            ],
          }),
      v.jsx(H9, {}),
    ],
  });
}
function q9() {
  return v.jsxs("div", {
    className:
      "pt-24 px-4 sm:px-8 lg:px-24 pb-16 bg-white min-h-screen text-gray-800",
    children: [
      v.jsx("h1", {
        className:
          "text-3xl sm:text-4xl font-bold text-center mb-10 text-red-600",
        children: "Contáctanos",
      }),
      v.jsxs("div", {
        className: "max-w-3xl mx-auto bg-red-50 p-6 rounded-2xl shadow-md",
        children: [
          v.jsxs("h2", {
            className:
              "text-2xl font-bold mb-4 flex flex-wrap items-center gap-1",
            children: [
              v.jsx("span", { className: "text-red-600", children: "P" }),
              v.jsx("span", { className: "text-orange-500", children: "l" }),
              v.jsx("span", { className: "text-yellow-500", children: "a" }),
              v.jsx("span", { className: "text-green-600", children: "y" }),
              v.jsx("span", { className: "text-blue-600", children: "c" }),
              v.jsx("span", { className: "text-indigo-600", children: "e" }),
              v.jsx("span", { className: "text-purple-600", children: "n" }),
              v.jsx("span", { className: "text-pink-600", children: "t" }),
              v.jsx("span", { className: "text-teal-600", children: "e" }),
              v.jsx("span", { className: "text-emerald-600", children: "r" }),
              v.jsx("span", {
                className: "ml-2 text-green-800",
                children: "Universal",
              }),
            ],
          }),
          v.jsxs("p", {
            className: "flex items-center mb-3 text-gray-700",
            children: [
              v.jsx(Tu, { className: "mr-2 text-red-600" }),
              "Av. Estrella Sadhalá, Santiago, República Dominicana",
            ],
          }),
          v.jsxs("p", {
            className: "flex items-center mb-2 text-blue-700 font-medium ",
            children: [
              v.jsx(Ra, { className: "mr-2 text-blue-500" }),
              "+1 (849)-635-7000 (Tienda)",
            ],
          }),
          v.jsxs("p", {
            className: "flex items-center mb-2 text-green-700 font-medium",
            children: [
              v.jsx(Ra, { className: "mr-2 text-green-500" }),
              "+1 (809)-582-1212 (Internet)",
            ],
          }),
          v.jsxs("p", {
            className: "flex items-center mb-3 text-gray-700",
            children: [
              v.jsx(Nh, { className: "mr-2 text-red-600" }),
              "playcenter121@gmail.com",
            ],
          }),
          v.jsxs("div", {
            className: "flex flex-col sm:flex-row gap-4 mt-4",
            children: [
              v.jsxs("a", {
                href: "https://wa.me/18496357000?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
                target: "_blank",
                rel: "noopener noreferrer",
                className:
                  "flex items-center justify-center gap-2 px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-700 transition rounded-xl shadow-md w-full sm:w-auto",
                children: [
                  v.jsx(uo, { className: "text-xl" }),
                  "WhatsApp Tienda",
                ],
              }),
              v.jsxs("a", {
                href: "https://wa.me/18095821212?text=Hola%20PlayCenter%2C%20estoy%20interesad%40%20en%20un%20producto%20que%20vi%20en%20su%20página.",
                target: "_blank",
                rel: "noopener noreferrer",
                className:
                  "flex items-center justify-center gap-2 px-5 py-3 text-white bg-green-500 hover:bg-rose-600 transition rounded-xl shadow-md w-full sm:w-auto",
                children: [
                  v.jsx(uo, { className: "text-xl" }),
                  "WhatsApp Internet",
                ],
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
function G9() {
  return v.jsxs("div", {
    className: "nosotros-container pt-28 min-h-screen px-6 pb-20",
    children: [
      v.jsxs("div", {
        className: "max-w-5xl mx-auto text-center z-10 relative",
        children: [
          v.jsx("h1", {
            className:
              "text-5xl font-extrabold bg-gradient-to-r from-blue-800 via-cyan-400 to-yellow-400 text-transparent bg-clip-text animate-pulse mb-6 drop-shadow-lg",
            children: "Conoce Playcenter Universal",
          }),
          v.jsxs("p", {
            className: "text-xl text-gray-900 font-medium mb-6 leading-relaxed",
            children: [
              v.jsx(v9, { className: "inline-block mr-2 text-yellow-400" }),
              "Somos una empresa dominicana ubicada en ",
              v.jsx("strong", {
                className: "text-blue-800",
                children: "Santiago",
              }),
              ", especializada en brindar lo último en tecnología, innovación y productos para el estilo de vida moderno.",
            ],
          }),
          v.jsxs("p", {
            className: "text-lg text-gray-800 mb-6 leading-loose",
            children: [
              v.jsx(w9, { className: "inline-block mr-2 text-cyan-500" }),
              "Nuestra misión es superar las expectativas de nuestros clientes ofreciendo artículos de calidad como consolas, videojuegos, tablets, móviles, accesorios y más, con un servicio humano, eficiente y profesional.",
            ],
          }),
          v.jsxs("p", {
            className: "text-lg text-gray-800 mb-10 leading-loose",
            children: [
              v.jsx(Tu, { className: "inline-block mr-2 text-green-500" }),
              "¡Gracias por confiar en nosotros! Playcenter Universal no solo vende productos, crea experiencias memorables con cada compra.",
            ],
          }),
          v.jsxs(pe, {
            to: "/contacto",
            className:
              "contacto-btn bg-gradient-to-r from-blue-700 via-cyan-500 to-yellow-400 text-white font-bold py-3 px-6 rounded-full shadow-xl hover:scale-105 transition-all duration-300",
            children: [
              v.jsx(Mm, { className: "inline-block mr-2" }),
              "Contáctanos",
            ],
          }),
        ],
      }),
      v.jsx("div", { className: "animated-bg" }),
    ],
  });
}
const K9 = [
  {
    id: 1,
    nombre: "Audífonos Sony WH-1000XM5",
    imagen: "/products/sony-wh1000xm5.png",
    precio: 349.99,
    descripcion:
      "Cancelación de ruido líder, hasta 30h de batería, diseño premium.",
  },
  {
    id: 2,
    nombre: "AirPods Pro 2da Gen",
    imagen: "/products/airpods-pro-2.png",
    precio: 249.99,
    descripcion:
      "Audio espacial personalizado, chip H2 de Apple, resistente al agua.",
  },
];
function Q9() {
  const { id: t } = Hm(),
    e = K9.find((n) => n.id === parseInt(t));
  return e
    ? v.jsxs("div", {
        className:
          "pt-24 px-4 lg:px-20 py-10 bg-white min-h-screen flex flex-col lg:flex-row gap-10 items-start",
        children: [
          v.jsx("div", {
            className: "w-full lg:w-1/2 flex justify-center",
            children: v.jsx("img", {
              src: e.imagen,
              alt: e.nombre,
              className:
                "w-[300px] sm:w-[400px] lg:w-[500px] object-contain border p-4 rounded-lg shadow",
            }),
          }),
          v.jsxs("div", {
            className: "w-full lg:w-1/2 space-y-6",
            children: [
              v.jsx("h1", {
                className: "text-3xl font-bold text-gray-800",
                children: e.nombre,
              }),
              v.jsx("p", {
                className: "text-gray-700 text-lg",
                children: e.descripcion,
              }),
              v.jsxs("p", {
                className: "text-2xl font-bold text-pink-600",
                children: ["$", e.precio],
              }),
              v.jsxs("div", {
                className: "flex gap-4 mt-6",
                children: [
                  v.jsx("button", {
                    className:
                      "bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-2 rounded shadow",
                    children: "Agregar al carrito",
                  }),
                  v.jsx("button", {
                    className:
                      "bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded shadow",
                    children: "Añadir a favoritos ❤️",
                  }),
                ],
              }),
            ],
          }),
        ],
      })
    : v.jsx("div", {
        className: "pt-24 text-center text-red-600 font-semibold",
        children: "Producto no encontrado",
      });
}
function q1(t) {
  return t
    .toLowerCase()
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "")
    .replace(/[^\w\s]/gi, "")
    .trim();
}
function X9() {
  const t = ds(),
    [e, n] = L.useState([]);
  return (
    L.useEffect(() => {
      const s = new URLSearchParams(t.search).get("q") || "",
        l = q1(s).split(" "),
        d = productos.filter((f) => {
          const p = q1(`${f.nombre} ${f.descripcion}`);
          return l.every((g) => p.includes(g));
        });
      n(d);
    }, [t.search]),
    v.jsxs("div", {
      className: "max-w-5xl mx-auto p-6",
      children: [
        v.jsx("h2", {
          className: "text-2xl font-bold mb-4",
          children: "Resultados de búsqueda",
        }),
        e.length === 0
          ? v.jsx("p", {
              children: "No se encontraron productos relacionados.",
            })
          : v.jsx("ul", {
              className: "grid grid-cols-2 md:grid-cols-4 gap-4",
              children: e.map((r) =>
                v.jsxs(
                  "li",
                  {
                    className: "border p-2 rounded-lg shadow-sm",
                    children: [
                      v.jsx("img", {
                        src: r.imagen,
                        alt: r.nombre,
                        className: "w-full h-32 object-cover rounded-md",
                      }),
                      v.jsx("h3", {
                        className: "text-sm font-semibold mt-2",
                        children: r.nombre,
                      }),
                    ],
                  },
                  r.id
                )
              ),
            }),
      ],
    })
  );
}
const G1 = [
  { nombre: "Todos", ruta: "" },
  { nombre: "Tu Rincón Variado", ruta: "tu-rincon-variado" },
  { nombre: "Retro Consolas", ruta: "retro-consolas" },
  { nombre: "Retro Juegos", ruta: "retro-juegos" },
  { nombre: "Audífonos", ruta: "audifonos" },
  { nombre: "Cables", ruta: "cables" },
  { nombre: "Cámaras", ruta: "camaras" },
  { nombre: "Cargadores", ruta: "cargadores" },
  { nombre: "Celulares", ruta: "celulares" },
  { nombre: "Consolas", ruta: "consolas" },
  { nombre: "Controles", ruta: "controles" },
  { nombre: "Discos Duros", ruta: "discos-duros" },
  { nombre: "Electrodomésticos", ruta: "electrodomesticos" },
  { nombre: "Gaming Chairs", ruta: "gaming-chairs" },
  { nombre: "Hogar Inteligente", ruta: "hogar-inteligente" },
  { nombre: "Impresoras", ruta: "impresoras" },
  { nombre: "Laptops", ruta: "laptops" },
  { nombre: "Memorias USB", ruta: "memorias-usb" },
  { nombre: "Monitores", ruta: "monitores" },
  { nombre: "Mouses", ruta: "mouses" },
  { nombre: "Nuevos Lanzamientos", ruta: "nuevos-lanzamientos" },
  { nombre: "Ofertas Especiales", ruta: "ofertas-especiales" },
  { nombre: "Relojes Inteligentes", ruta: "relojes-inteligentes" },
  { nombre: "Smart TV", ruta: "smart-tv" },
  { nombre: "Tablets", ruta: "tablets" },
  { nombre: "Teclados", ruta: "teclados" },
  { nombre: "Videojuegos", ruta: "videojuegos" },
  { nombre: "Accesorios Videojuegos", ruta: "accesorios-videojuegos" },
];
function Y9({ categoriaActiva: t, mostrarEnMovil: e, setMostrarEnMovil: n }) {
  const r = Vr(),
    s = (l) => {
      r(`/Productos/${l.ruta}`), n && n(!1);
    },
    a = (l) => l === t;
  return v.jsxs(v.Fragment, {
    children: [
      v.jsxs("aside", {
        className:
          "sidebar-desktop hidden lg:block w-52 flex-shrink-0 bg-white border-r border-gray-200 shadow px-2 py-2 sticky top-[76px] h-[calc(100vh-4.75rem)] overflow-y-auto z-30",
        "aria-label": "Categorías",
        children: [
          v.jsx("h2", {
            className:
              "text-sm font-bold text-blue-800 mb-3 text-center uppercase tracking-wide select-none",
            children: "Categorías",
          }),
          v.jsx("ul", {
            className: "space-y-1 text-sm",
            children: G1.map((l, d) =>
              v.jsx(
                "li",
                {
                  children: v.jsx("button", {
                    onClick: () => s(l),
                    className: `w-full text-left px-3 py-2 rounded-md font-medium transition duration-200 focus:outline-none ${
                      a(l.nombre)
                        ? "bg-blue-600 text-white shadow"
                        : "text-gray-700 hover:bg-blue-100 hover:text-blue-800"
                    }`,
                    children: l.nombre,
                  }),
                },
                d
              )
            ),
          }),
        ],
      }),
      v.jsx(Ch, {
        children:
          e &&
          v.jsxs(v.Fragment, {
            children: [
              v.jsx(wt.div, {
                className:
                  "fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm z-[1000]",
                initial: { opacity: 0 },
                animate: { opacity: 1 },
                exit: { opacity: 0 },
                onClick: () => n(!1),
              }),
              v.jsxs(wt.nav, {
                initial: { x: -300 },
                animate: { x: 0 },
                exit: { x: -300 },
                transition: { type: "spring", stiffness: 300, damping: 30 },
                className:
                  "sidebar-movil fixed top-[80px] left-0 bottom-0 w-72 bg-white shadow-lg z-[1001] overflow-y-auto px-4 py-4",
                children: [
                  v.jsx("h2", {
                    className:
                      "text-base font-bold text-blue-800 mb-3 uppercase tracking-wide",
                    children: "Categorías",
                  }),
                  v.jsx("ul", {
                    className: "space-y-2 text-sm",
                    children: G1.map((l, d) =>
                      v.jsx(
                        "li",
                        {
                          children: v.jsx("button", {
                            onClick: () => s(l),
                            className: `w-full text-left px-3 py-2 rounded-md font-medium transition duration-200 focus:outline-none ${
                              a(l.nombre)
                                ? "bg-blue-600 text-white shadow"
                                : "text-gray-700 hover:bg-blue-100 hover:text-blue-800"
                            }`,
                            children: l.nombre,
                          }),
                        },
                        d
                      )
                    ),
                  }),
                ],
              }),
            ],
          }),
      }),
    ],
  });
}
function J9({ filtros: t, setFiltros: e, onReset: n, visible: r, onClose: s }) {
  return v.jsxs("div", {
    className: `fixed sm:static top-0 right-0 h-full w-64 bg-white border-l shadow-lg z-50 transform transition-transform duration-300 ${
      r ? "translate-x-0" : "translate-x-full sm:translate-x-0"
    }`,
    children: [
      v.jsxs("div", {
        className: "sm:hidden flex justify-between items-center p-4 border-b",
        children: [
          v.jsx("h2", { className: "font-semibold", children: "Filtros" }),
          v.jsx("button", { onClick: s, children: "✕" }),
        ],
      }),
      v.jsxs("div", {
        className: "p-4 flex flex-col gap-4",
        children: [
          v.jsxs("div", {
            children: [
              v.jsx("h3", {
                className: "font-semibold mb-2",
                children: "Estado",
              }),
              v.jsxs("label", {
                className: "flex items-center gap-2",
                children: [
                  v.jsx("input", {
                    type: "checkbox",
                    checked: t.estado.nuevo,
                    onChange: () =>
                      e((a) => ({
                        ...a,
                        estado: { ...a.estado, nuevo: !a.estado.nuevo },
                      })),
                  }),
                  "Nuevo",
                ],
              }),
              v.jsxs("label", {
                className: "flex items-center gap-2",
                children: [
                  v.jsx("input", {
                    type: "checkbox",
                    checked: t.estado.usado,
                    onChange: () =>
                      e((a) => ({
                        ...a,
                        estado: { ...a.estado, usado: !a.estado.usado },
                      })),
                  }),
                  "Usado",
                ],
              }),
            ],
          }),
          v.jsxs("div", {
            children: [
              v.jsx("h3", {
                className: "font-semibold mb-2",
                children: "Precio",
              }),
              v.jsxs("div", {
                className: "flex gap-2",
                children: [
                  v.jsx("input", {
                    type: "number",
                    value: t.precio.min,
                    onChange: (a) =>
                      e((l) => ({
                        ...l,
                        precio: { ...l.precio, min: a.target.value },
                      })),
                    placeholder: "Mín",
                    className: "border rounded p-1 w-1/2",
                  }),
                  v.jsx("input", {
                    type: "number",
                    value: t.precio.max,
                    onChange: (a) =>
                      e((l) => ({
                        ...l,
                        precio: { ...l.precio, max: a.target.value },
                      })),
                    placeholder: "Máx",
                    className: "border rounded p-1 w-1/2",
                  }),
                ],
              }),
            ],
          }),
          v.jsx("button", {
            onClick: n,
            className: "mt-2 bg-gray-100 hover:bg-gray-200 rounded p-2 text-sm",
            children: "Restablecer filtros",
          }),
        ],
      }),
    ],
  });
}
function Z9({ onClick: t }) {
  return v.jsxs("button", {
    onClick: t,
    className:
      "flex items-center gap-2 px-4 py-2 bg-gray-200 rounded-full text-sm font-medium sm:hidden",
    children: [
      v.jsx("svg", {
        className: "w-5 h-5",
        fill: "none",
        stroke: "currentColor",
        viewBox: "0 0 24 24",
        children: v.jsx("path", {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M4 6h16M4 12h16M4 18h16",
        }),
      }),
      "Filtros",
    ],
  });
}
function pd(t) {
  return t
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "")
    .toLowerCase()
    .replace(/\s+/g, "-")
    .replace(/[^\w-]/g, "")
    .replace(/--+/g, "-")
    .replace(/^-+|-+$/g, "");
}
function eM() {
  const { categoria: t } = Hm(),
    e = Vr(),
    [n, r] = L.useState({
      precio: { min: "", max: "" },
      estado: { nuevo: !1, usado: !1 },
    }),
    [s, a] = L.useState(!1),
    [l, d] = L.useState("Todos");
  L.useEffect(() => {
    if (!t || t === "todos") d("Todos");
    else {
      const x = iu.find((P) => pd(P.categoria) === pd(t));
      d(x ? x.categoria : "Todos");
    }
  }, [t]);
  const f = L.useMemo(() => {
      if (l === "Todos") return iu.flatMap((P) => P.productos);
      const x = iu.find((P) => pd(P.categoria) === pd(l));
      return x ? x.productos : [];
    }, [l]),
    p = L.useMemo(
      () =>
        f.filter((x) => {
          const P = n.precio.min === "" || x.precio >= Number(n.precio.min),
            b = n.precio.max === "" || x.precio <= Number(n.precio.max),
            N =
              (!n.estado.nuevo && !n.estado.usado) ||
              (n.estado.nuevo && x.estado === "Nuevo") ||
              (n.estado.usado && x.estado === "Usado");
          return P && b && N;
        }),
      [f, n]
    ),
    g = (x, P) => {
      e(`/Productos/${P}`), a(!1);
    },
    w = () => {
      r({ precio: { min: "", max: "" }, estado: { nuevo: !1, usado: !1 } });
    };
  return v.jsxs("div", {
    className: "flex flex-col lg:flex-row min-h-screen bg-white pt-1",
    children: [
      v.jsx("aside", {
        className:
          "block w-full lg:w-64 border-b lg:border-b-0 lg:border-r border-gray-200 lg:sticky lg:top-14 lg:h-[calc(100vh-56px)] overflow-x-auto lg:overflow-y-auto",
        children: v.jsx(Y9, { categoriaActiva: l, onCategoriaClick: g }),
      }),
      v.jsxs("main", {
        className: "flex-1 p-4 overflow-y-auto relative",
        children: [
          v.jsx(Z9, { onClick: () => a(!0) }),
          v.jsx("h1", {
            className: "text-2xl font-semibold mb-4 text-blue-800",
            children: l === "Todos" ? "Todos los productos" : l,
          }),
          p.length === 0
            ? v.jsx("p", {
                className: "text-center text-gray-600 mt-10",
                children: "No hay productos que coincidan con tus filtros.",
              })
            : v.jsx("div", {
                className:
                  "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",
                children: p.map((x) => v.jsx(bP, { producto: x }, x.id)),
              }),
        ],
      }),
      v.jsx(J9, {
        filtros: n,
        setFiltros: r,
        visible: s,
        onClose: () => a(!1),
        onReset: w,
      }),
    ],
  });
}
function tM({ children: t }) {
  const { usuario: e } = mo();
  return e ? t : v.jsx(jI, { to: "/login", replace: !0 });
}
function nM() {
  const t = ds();
  return v.jsx(Ch, {
    mode: "wait",
    children: v.jsxs(
      VI,
      {
        location: t,
        children: [
          v.jsx(_r, {
            path: "/",
            element: v.jsx(ni, { children: v.jsx(L9, {}) }),
          }),
          v.jsx(_r, {
            path: "/profile",
            element: v.jsx(tM, {
              children: v.jsx(ni, { children: v.jsx(U9, {}) }),
            }),
          }),
          v.jsx(_r, {
            path: "/producto/:id",
            element: v.jsx(ni, { children: v.jsx($9, {}) }),
          }),
          v.jsx(_r, {
            path: "/producto/:id/detalle",
            element: v.jsx(ni, { children: v.jsx(Q9, {}) }),
          }),
          v.jsx(_r, {
            path: "/carrito",
            element: v.jsx(ni, { children: v.jsx(W9, {}) }),
          }),
          v.jsx(_r, {
            path: "/contacto",
            element: v.jsx(ni, { children: v.jsx(q9, {}) }),
          }),
          v.jsx(_r, {
            path: "/nosotros",
            element: v.jsx(ni, { children: v.jsx(G9, {}) }),
          }),
          v.jsx(_r, {
            path: "/buscar",
            element: v.jsx(ni, { children: v.jsx(X9, {}) }),
          }),
          v.jsx(_r, {
            path: "/Productos/:categoria?",
            element: v.jsx(ni, { children: v.jsx(eM, {}) }),
          }),
        ],
      },
      t.pathname
    ),
  });
}
function ni({ children: t }) {
  return v.jsx(wt.div, {
    initial: { opacity: 0, y: 20 },
    animate: { opacity: 1, y: 0 },
    exit: { opacity: 0, y: -20 },
    transition: { duration: 0.5, ease: "easeInOut" },
    children: t,
  });
}
function rM() {
  const { pathname: t } = ds(),
    e = Vr(),
    { usuario: n } = mo(),
    { abrirModal: r } = Ih(),
    [s, a] = L.useState(!1),
    l = (f) => t === f,
    d = (f) => {
      (f === "/profile" || f === "/carrito") && !n ? a(!0) : e(f);
    };
  return v.jsxs(v.Fragment, {
    children: [
      v.jsxs("nav", {
        className:
          "fixed bottom-0 left-0 right-0 z-50 bg-white border-t shadow-md flex justify-around items-center h-14 text-sm lg:hidden",
        children: [
          v.jsx(md, {
            onClick: () => d("/"),
            icon: v.jsx(_9, {}),
            label: "Inicio",
            active: l("/"),
          }),
          v.jsx(md, {
            onClick: () => d("/categorias"),
            icon: v.jsx(x9, {}),
            label: "Categorías",
            active: l("/categorias"),
          }),
          v.jsx(md, {
            onClick: () => d("/carrito"),
            icon: v.jsx(Py, {}),
            label: "Carrito",
            active: l("/carrito"),
          }),
          v.jsx(md, {
            onClick: () => d("/profile"),
            icon: v.jsx(TP, {}),
            label: "Perfil",
            active: l("/profile"),
          }),
        ],
      }),
      v.jsx(Iy, {
        isOpen: s,
        onClose: () => a(!1),
        onIniciarSesion: () => {
          a(!1), r();
        },
      }),
    ],
  });
}
function md({ onClick: t, icon: e, label: n, active: r }) {
  return v.jsxs("button", {
    onClick: t,
    className: `flex flex-col items-center justify-center transition text-xs w-full py-1 ${
      r ? "text-blue-600 font-semibold" : "text-gray-500"
    }`,
    "aria-label": n,
    type: "button",
    children: [
      v.jsx("div", { className: "text-lg", children: e }),
      v.jsx("div", { children: n }),
    ],
  });
}
function iM() {
  const { modalAbierto: t, setModalAbierto: e, modo: n, setModo: r } = Ih(),
    { login: s, signup: a } = mo(),
    [l, d] = L.useState(n),
    [f, p] = L.useState(""),
    [g, w] = L.useState(""),
    [x, P] = L.useState(""),
    [b, N] = L.useState("");
  L.useEffect(() => {
    d(n), N(""), p(""), w(""), P("");
  }, [t, n]);
  async function k($) {
    $.preventDefault(), N("");
    try {
      l === "login" ? await s(f, g) : await a(f, g, x), e(!1);
    } catch (G) {
      N("Error: " + G.message);
    }
  }
  return t
    ? v.jsx("div", {
        onClick: () => e(!1),
        className:
          "fixed inset-0 bg-gradient-to-br from-black/90 to-gray-900/90 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",
        children: v.jsxs(wt.div, {
          onClick: ($) => $.stopPropagation(),
          initial: { opacity: 0, scale: 0.9 },
          animate: { opacity: 1, scale: 1 },
          exit: { opacity: 0, scale: 0.9 },
          transition: { duration: 0.3 },
          className:
            "relative bg-[#0f172a] text-white rounded-xl shadow-2xl w-full max-w-md p-6 border border-[#3b82f6]/40",
          children: [
            v.jsx("button", {
              onClick: () => e(!1),
              className:
                "absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold",
              children: "×",
            }),
            v.jsx("h2", {
              className:
                "text-2xl font-bold mb-4 text-center flex items-center justify-center gap-2",
              children:
                l === "login"
                  ? v.jsxs(v.Fragment, {
                      children: [
                        v.jsx(TP, { className: "text-[#3b82f6]" }),
                        " Iniciar Sesión",
                      ],
                    })
                  : v.jsxs(v.Fragment, {
                      children: [
                        v.jsx(T9, { className: "text-[#3b82f6]" }),
                        " Registrarse",
                      ],
                    }),
            }),
            b &&
              v.jsx("p", {
                className: "text-red-400 mb-4 text-center font-semibold",
                children: b,
              }),
            v.jsxs("form", {
              onSubmit: k,
              className: "space-y-4",
              children: [
                l === "signup" &&
                  v.jsxs("div", {
                    children: [
                      v.jsx("label", {
                        className: "block text-sm mb-1",
                        children: "Nombre",
                      }),
                      v.jsx("input", {
                        type: "text",
                        required: !0,
                        className:
                          "w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",
                        value: x,
                        onChange: ($) => P($.target.value),
                      }),
                    ],
                  }),
                v.jsxs("div", {
                  children: [
                    v.jsx("label", {
                      className: "block text-sm mb-1",
                      children: "Correo electrónico",
                    }),
                    v.jsx("input", {
                      type: "email",
                      required: !0,
                      className:
                        "w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",
                      value: f,
                      onChange: ($) => p($.target.value),
                    }),
                  ],
                }),
                v.jsxs("div", {
                  children: [
                    v.jsx("label", {
                      className: "block text-sm mb-1",
                      children: "Contraseña",
                    }),
                    v.jsx("input", {
                      type: "password",
                      required: !0,
                      className:
                        "w-full bg-[#1e293b] border border-[#3b82f6]/40 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#3b82f6]",
                      value: g,
                      onChange: ($) => w($.target.value),
                    }),
                  ],
                }),
                v.jsx("button", {
                  type: "submit",
                  className:
                    "w-full bg-[#3b82f6] hover:bg-[#2563eb] text-white font-semibold py-2 rounded-lg shadow-lg transition transform hover:scale-105",
                  children: l === "login" ? "Iniciar sesión" : "Registrarse",
                }),
              ],
            }),
            v.jsx("p", {
              className:
                "mt-4 text-center text-sm cursor-pointer text-[#3b82f6] hover:underline select-none",
              onClick: () => {
                N("");
                const $ = l === "login" ? "signup" : "login";
                d($), r($);
              },
              children:
                l === "login"
                  ? "¿No tienes una cuenta? Regístrate"
                  : "¿Ya tienes cuenta? Inicia sesión",
            }),
          ],
        }),
      })
    : null;
}
function sM() {
  return v.jsxs("div", {
    className: "min-h-screen flex flex-col",
    children: [
      v.jsx(P9, {}),
      v.jsxs("main", {
        className: "flex-grow",
        children: [v.jsx(nM, {}), v.jsx(rM, {}), v.jsx(iM, {})],
      }),
      v.jsx(S9, {}),
    ],
  });
}
BS.createRoot(document.getElementById("root")).render(
  v.jsx(si.StrictMode, {
    children: v.jsx(PD, {
      children: v.jsx(z9, {
        children: v.jsx(SD, {
          children: v.jsx(zI, { children: v.jsx(sM, {}) }),
        }),
      }),
    }),
  })
);
